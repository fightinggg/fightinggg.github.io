<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Believe it</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="O ever youthful, O ever weeping">
<meta property="og:type" content="website">
<meta property="og:title" content="Believe it">
<meta property="og:url" content="http://fightinggg.github.io/landscape/page/22/index.html">
<meta property="og:site_name" content="Believe it">
<meta property="og:description" content="O ever youthful, O ever weeping">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="fightinggg">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/landscape/atom.xml" title="Believe it" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/landscape/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/landscape/css/style.css">

  
    
<link rel="stylesheet" href="/landscape/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/landscape/" id="logo">Believe it</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/landscape/" id="subtitle">相信不屈不挠的努力,相信战胜死亡的年轻</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/landscape/">Home</a>
        
          <a class="main-nav-link" href="/landscape/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/landscape/atom.xml" title="RSS 订阅"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="搜索"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://fightinggg.github.io/landscape"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-Language/C++/STL源码分析/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/landscape/Q7P485.html" class="article-date">
  <time class="dt-published" datetime="2020-03-24T11:36:05.000Z" itemprop="datePublished">2020-03-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/landscape/categories/Language/">Language</a>►<a class="article-category-link" href="/landscape/categories/Language/C/">C++</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/landscape/Q7P485.html">STL源码分析</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <div><a href="/next/Q7P485.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">next</a><a href="/hexonext/Q7P485.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">hexonext</a><a href="/butterfly/Q7P485.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">butterfly</a><a href="/volantis/Q7P485.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">volantis</a><a href="/yearn/Q7P485.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yearn</a><a href="/yilia/Q7P485.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yilia</a><a href="/shoka/Q7P485.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">shoka</a><a href="/indigo/Q7P485.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">indigo</a><a href="/apollo/Q7P485.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">apollo</a><a href="/landscape/Q7P485.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">landscape</a><a href="/cactus/Q7P485.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">cactus</a><a href="/matery/Q7P485.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">matery</a><a href="/icarus/Q7P485.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">icarus</a><a href="/fluid/Q7P485.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">fluid</a><a href="/material/Q7P485.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">material</a><div style="clear: both;"></div></div>

<h1 id="从这开始我们进入《STL源码分析》的学习"><a href="#从这开始我们进入《STL源码分析》的学习" class="headerlink" title="从这开始我们进入《STL源码分析》的学习"></a>从这开始我们进入《STL源码分析》的学习</h1><p> STL分为6大组件: 空间配置器、容器、迭代器、算法、仿函数、配接器</p>
<h1 id="空间配置器"><a href="#空间配置器" class="headerlink" title="空间配置器"></a>空间配置器</h1><p> STL的空间适配器事STL的基础，我们不能靠操作系统来为我们管理内存，那样的代价太大了，这不划算，作为一个c&#x2F;c++开发人员，我们要完全控制我们程序的一切。</p>
<h2 id="allocator"><a href="#allocator" class="headerlink" title="allocator"></a>allocator</h2><p> 这是他的英文名字，我们的allocator定义了四个操作</p>
<ul>
<li>alloc::allocate() 内存配置</li>
<li>alloc::dellocate() 内存释放</li>
<li>alloc::construct() 构造对象</li>
<li>alloc::destroy() 析构对象</li>
</ul>
<!---more-->

<h2 id="type-traits-lt-T-gt"><a href="#type-traits-lt-T-gt" class="headerlink" title="type_traits&lt;T&gt;"></a>type_traits&lt;T&gt;</h2><p> 一个模版元技术，他是一个类,能够萃取类型的相关信息，模版元详见C++笔记中的Boost源码分析</p>
<h2 id="destroy"><a href="#destroy" class="headerlink" title="destroy"></a>destroy</h2><p> 对于基本数据类型，我们啥都不用干，对于用户定义的数据类型，我们显示调用析构函数即可，这个使用模版特化即可。</p>
<h2 id="construct"><a href="#construct" class="headerlink" title="construct"></a>construct</h2><p> 就是new，但是不用申请空间了，因为allocate已经干了</p>
<h2 id="一级配置器、二级配置器"><a href="#一级配置器、二级配置器" class="headerlink" title="一级配置器、二级配置器"></a>一级配置器、二级配置器</h2><p> 一级配置大空间(&gt;128bytes)就是malloc和free，二级配置小空间，利用内存池。</p>
<h3 id="一级配置器"><a href="#一级配置器" class="headerlink" title="一级配置器"></a>一级配置器</h3><p> 直接new的，new失败以后调用out of memery的处理方式调用处理例程，让其释放内存，不断尝试,释放的时候直接free</p>
<h3 id="二级配置器"><a href="#二级配置器" class="headerlink" title="二级配置器"></a>二级配置器</h3><p>维护16个链表，每个链表维护一种类型的内存，分别为8bytes、16bytes、24bytes、一直到128bytes。更加巧妙的地方是将维护的内存和链表的指针使用联合体组装。这就不浪费空间了。当需要配置内存的时候，向8字节对齐，然后再分配，当释放内存的时候，丢到链表里面就行了<br> 当链表空了的时候，从内存池中取出20个新的内存块填充链表。<br> 内存池是一个大块大内存，当内存池空了以后，申请更多的内存，保证每次都比上一次申请的多就行了，要是让我实现，我才不这样做，我要用计算机网络中的自适应rtt原理来做。</p>
<h1 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h1><p> 说白了就是个指针，但是他比指针更强大，更灵活。</p>
<h2 id="迭代器类型"><a href="#迭代器类型" class="headerlink" title="迭代器类型"></a>迭代器类型</h2><ul>
<li>input iterator 只读</li>
<li>output iterator 只写</li>
<li>forward iterator 单向迭代器</li>
<li>bidirectional iterator 双向移动一个单位</li>
<li>random access iterator 双向移动多个单位</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">graph TB</span><br><span class="line">1((input)) --&gt; 3((forward))</span><br><span class="line">2((output)) --&gt; 3((forward))</span><br><span class="line">3((forward)) --&gt; 4((bi))</span><br><span class="line">4((bi)) --&gt; 5((random))</span><br></pre></td></tr></table></figure>


<h2 id="类型"><a href="#类型" class="headerlink" title="类型"></a>类型</h2><p> 首先为了实现的容易，得设计iterator_category为迭代器自己的类型，value_type为迭代器维护的具体数据的类型，diference_type为两个迭代器之间的距离的类型，pointer为原生指针，reference为原生引用。</p>
<h2 id="vector"><a href="#vector" class="headerlink" title="vector"></a>vector</h2><p> 不讲了，太简单了</p>
<h2 id="vector-的迭代器"><a href="#vector-的迭代器" class="headerlink" title="vector 的迭代器"></a>vector 的迭代器</h2><p> 服了，居然就是指针，我一直以为他封装了一下，这也太懒了。</p>
<h2 id="list"><a href="#list" class="headerlink" title="list"></a>list</h2><p>算了这都跳过算了，没啥意思，</p>
<h2 id="deque"><a href="#deque" class="headerlink" title="deque"></a>deque</h2><p> 用分段连续来制造整体连续的假象。<br> 两个迭代器维护首尾，一个二维指针维护一个二维数组，感觉很low，每一行被称为一个缓冲区,但是列的话，他前后都预留了一些指针位置。<br> 当我们随机访问的时候，就可以根据每一行的长度来选择正确的缓冲区了。</p>
<h2 id="deque的迭代器"><a href="#deque的迭代器" class="headerlink" title="deque的迭代器"></a>deque的迭代器</h2><p> 这个就厉害一些了，他包含了4个地方，当前指针、当前缓冲区首尾指针，中控器上面当前缓冲区的指针。</p>
<p>代码我感觉也一般般，我写也这样</p>
<h2 id="queue和stack"><a href="#queue和stack" class="headerlink" title="queue和stack"></a>queue和stack</h2><p> 居然是deque实现的，明明有更好的实现方法，再见，看都不想看</p>
<h2 id="heap"><a href="#heap" class="headerlink" title="heap"></a>heap</h2><p> 算法都是这样写的</p>
<h2 id="priority-heap"><a href="#priority-heap" class="headerlink" title="priority heap"></a>priority heap</h2><p> vector实现的，</p>
<h2 id="slist"><a href="#slist" class="headerlink" title="slist"></a>slist</h2><p>我还是不适合这个东西</p>
<h1 id="关联式容器"><a href="#关联式容器" class="headerlink" title="关联式容器"></a>关联式容器</h1><p> 这玩意就是红黑树啦，上一章的序列容器看的我难受死了，希望这个能爽一些</p>
<h2 id="红黑树"><a href="#红黑树" class="headerlink" title="红黑树"></a>红黑树</h2><p> 翻了好几页，都是红黑树，并没有让我感到很吃惊的代码</p>
<h2 id="set和map"><a href="#set和map" class="headerlink" title="set和map"></a>set和map</h2><p> set就是直接红黑树，map就把用pair分别存kv，然后自己定一个仿函数，难怪map找到的都是pair</p>
<h2 id="multi"><a href="#multi" class="headerlink" title="multi"></a>multi</h2><p> 算了自己写过平衡树的都知道，和非multi没几行代码不一样。</p>
<h2 id="hashtable"><a href="#hashtable" class="headerlink" title="hashtable"></a>hashtable</h2><p> 下一章下一章。。。</p>
<h1 id="算法"><a href="#算法" class="headerlink" title="算法"></a>算法</h1><p> 分为质变算法和非质变算法，一个会改变操作对象，另一个不会。</p>
<h2 id="accumulate"><a href="#accumulate" class="headerlink" title="accumulate"></a>accumulate</h2><p> 这个强，accmulate(first,last,init),将[first,last)的值累加到init上</p>
<p>accmulate(first,last,init,binary op),将[first,last)从左到右二元操作(init,*)到init上</p>
<h2 id="adjacent-difference"><a href="#adjacent-difference" class="headerlink" title="adjacent_difference"></a>adjacent_difference</h2><p> 666666666，adjacent_difference(first,last,result)差分都来了[first,last)差分到[result,*)</p>
<p>6666666,自己定义的差分adjacent_difference(first,last,result,binary_op); 这个能自定定义减法，</p>
<p> 注意可以result设为first</p>
<h2 id="inner-product"><a href="#inner-product" class="headerlink" title="inner_product"></a>inner_product</h2><p> 内积，inner_product(first1,last1,first2,init),加到init上然后返回。</p>
<p>参数在加上一个binary_op1和binary_op2,init&#x3D;binary_op1(init,binary_op2(eme1,eme2))</p>
<p>太强了，佩服的五体投地，明天继续学,看java去</p>
<h2 id="partial-sum"><a href="#partial-sum" class="headerlink" title="partial_sum"></a>partial_sum</h2><p> 和前面的差分一样,partial_sum 为前缀和，partial_sum(first,last,result)为前缀和输出到result中</p>
<p> 当然你也可以定义binary_op操作，加在最后面</p>
<h2 id="power"><a href="#power" class="headerlink" title="power"></a>power</h2><p> 快速幂算法了解一下，power(x,n)x的n次方，n为整数，要求满足乘法结合律。</p>
<p>power(x,n,op),这个同理</p>
<h2 id="itoa"><a href="#itoa" class="headerlink" title="itoa"></a>itoa</h2><p> <code>itoa(first,last,value);</code></p>
<p><code>while(first!=last) *first++=value++;</code></p>
<!---more-->

<h2 id="equal"><a href="#equal" class="headerlink" title="equal"></a>equal</h2><p><code> equal(first1,last1,first2)</code></p>
<p> 判断[first1,last1) 和[first2,…)是否相同</p>
<p> 同样支持二元仿函数。</p>
<h2 id="fill"><a href="#fill" class="headerlink" title="fill"></a>fill</h2><p> <code>fill(first,last,value)</code></p>
<p> 把区间的值设为value</p>
<h2 id="fill-n"><a href="#fill-n" class="headerlink" title="fill_n"></a>fill_n</h2><p> <code>fill(first,n,value)</code></p>
<p> 把first开始的n个元素设为value</p>
<h2 id="iter-swap"><a href="#iter-swap" class="headerlink" title="iter_swap"></a>iter_swap</h2><p> <code>iter_swap(a,b) </code></p>
<p> 交换迭代器的内容，这里就有意思了，如何获取迭代器内容的类型呢？还记得之前讲迭代器的时候，在迭代器内部定义的</p>
<p>value_type吗？对！就是那个。</p>
<h2 id="lexicographical-compare"><a href="#lexicographical-compare" class="headerlink" title="lexicographical_compare"></a>lexicographical_compare</h2><p> <code>lexicographical_compare(first1,last1,first2,last2)</code></p>
<p>字典序比大小，需要支持小于号</p>
<h2 id="max-min"><a href="#max-min" class="headerlink" title="max min"></a>max min</h2><p> 这俩也支持仿函数</p>
<h2 id="mismatch"><a href="#mismatch" class="headerlink" title="mismatch"></a>mismatch</h2><p> <code>mismatch(first1,last1,first2)</code></p>
<p>用第一个去匹配第二个，你需要保证第二个不必第一个短，返回匹配尾部</p>
<p> 支持仿函数&#x3D;&#x3D;</p>
<h2 id="swap"><a href="#swap" class="headerlink" title="swap"></a>swap</h2><p> 就是很普通的交换，</p>
<h2 id="copy-first-last-result"><a href="#copy-first-last-result" class="headerlink" title="copy(first,last,result)"></a>copy(first,last,result)</h2><p> 特化了char*和wchar_t*为memmove，特化了T*和const T*，通过萃取，若指向的数据为基本数据类型则调用memmove，</p>
<p>否则再分为随机迭代器和非随机迭代器，随机迭代器使用last-first这个值来控制，非随机迭代器用if(last&#x3D;&#x3D;frist)来控制。</p>
<h2 id="copy-backward"><a href="#copy-backward" class="headerlink" title="copy_backward"></a>copy_backward</h2><p> 和上面一样，但是为逆序拷贝</p>
<h2 id="set-union"><a href="#set-union" class="headerlink" title="set_union"></a>set_union</h2><p>set_union(first1,last1,first2,last2,result)</p>
<p>就是遍历两个有序容器，然后赋值到result中，注意到它在碰到相同元素的时候两个迭代器都自增了，导致若第一个中有3个1，第二个中有5个1，则输出的时候只有5个1</p>
<h2 id="set-intersection"><a href="#set-intersection" class="headerlink" title="set_intersection"></a>set_intersection</h2><p> 同上</p>
<p> 交集，得到3个1</p>
<h2 id="set-difference"><a href="#set-difference" class="headerlink" title="set_difference"></a>set_difference</h2><p> 代码越来越平庸了，这个是S1-S2，出现在S1中不出现在S2中</p>
<h2 id="set-symmetric-difference"><a href="#set-symmetric-difference" class="headerlink" title="set_symmetric_difference"></a>set_symmetric_difference</h2><p> 对称差，平庸的代码</p>
<h2 id="adjacent-find-first-last"><a href="#adjacent-find-first-last" class="headerlink" title="adjacent_find(first,last)"></a>adjacent_find(first,last)</h2><p> 找到第一个相等的相邻元素，允许自定义仿函数</p>
<h2 id="count-first-last-value"><a href="#count-first-last-value" class="headerlink" title="count(first,last,value)"></a>count(first,last,value)</h2><p> 对value出现对次数计数</p>
<p> count_if(first,last,op) 对op(*it)为真计数</p>
<p>越看越无聊了</p>
<h2 id="find-first-last-value"><a href="#find-first-last-value" class="headerlink" title="find(first,last,value)"></a>find(first,last,value)</h2><p> 找value出现的位置，这个函数应该挺有用的</p>
<p> find_if(first,last,op) 同上啦</p>
<h2 id="find-end-和find-first-of"><a href="#find-end-和find-first-of" class="headerlink" title="find_end 和find_first_of"></a>find_end 和find_first_of</h2><p> 这个函数没用，我为啥不用kmp算法</p>
<h2 id="for-each-first-last-op"><a href="#for-each-first-last-op" class="headerlink" title="for_each(first,last,op)"></a>for_each(first,last,op)</h2><p> op(*i)</p>
<h2 id="geterate-first-last-op"><a href="#geterate-first-last-op" class="headerlink" title="geterate(first,last,op)"></a>geterate(first,last,op)</h2><p> *i&#x3D;op()</p>
<p> generate_n 同上</p>
<h2 id="transform-first-last-result-op"><a href="#transform-first-last-result-op" class="headerlink" title="transform(first,last,result,op)"></a>transform(first,last,result,op)</h2><p> *result&#x3D;op(*first)</p>
<h2 id="transform-first1-last1-first2-last2-result-op"><a href="#transform-first1-last1-first2-last2-result-op" class="headerlink" title="transform(first1,last1,first2,last2,result,op)"></a>transform(first1,last1,first2,last2,result,op)</h2><p> *result&#x3D;op(*first1,*first2)</p>
<h2 id="includes-first1-last1-first2-last2"><a href="#includes-first1-last1-first2-last2" class="headerlink" title="includes(first1,last1,first2,last2)"></a>includes(first1,last1,first2,last2)</h2><p> 保证有序，然后判断2是不是1的子序列，显然On</p>
<h2 id="max-element-first-last"><a href="#max-element-first-last" class="headerlink" title="max_element(first,last)"></a>max_element(first,last)</h2><p> 区间最大值</p>
<h2 id="min-element-first-last"><a href="#min-element-first-last" class="headerlink" title="min_element(first,last)"></a>min_element(first,last)</h2><p> 同上</p>
<h2 id="merge-first1-last1-first2-last2-result"><a href="#merge-first1-last1-first2-last2-result" class="headerlink" title="merge(first1,last1,first2,last2,result)"></a>merge(first1,last1,first2,last2,result)</h2><p> 归并排序的时候应该用得到吧</p>
<h2 id="partition-first-last-pred"><a href="#partition-first-last-pred" class="headerlink" title="partition(first,last,pred)"></a>partition(first,last,pred)</h2><p> pred(*)为真在前，为假在后On</p>
<h2 id="remove-first-last-value"><a href="#remove-first-last-value" class="headerlink" title="remove(first,last,value)"></a>remove(first,last,value)</h2><p> 把value移到尾部<br> remove_copu(first,last,result,value),非质变算法</p>
<h2 id="remove-if-remove-copy-if"><a href="#remove-if-remove-copy-if" class="headerlink" title="remove_if remove_copy_if"></a>remove_if remove_copy_if</h2><p>同上</p>
<h2 id="replace-first-last-old-value-new-value"><a href="#replace-first-last-old-value-new-value" class="headerlink" title="replace(first,last,old_value,new_value)"></a>replace(first,last,old_value,new_value)</h2><p> 看名字就知道怎么实现的</p>
<p> replace_copy,replace_if,replace_copy_if</p>
<h2 id="revese"><a href="#revese" class="headerlink" title="revese"></a>revese</h2><p> 秀得我头皮发麻，这个。。。。。。。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(<span class="literal">true</span>)</span><br><span class="line">  <span class="keyword">if</span>(first==last||first==--last) <span class="keyword">return</span>;</span><br><span class="line">  <span class="keyword">else</span> <span class="built_in">iter_swap</span>(first++,last);</span><br></pre></td></tr></table></figure>

<p>随机迭代器的版本还好</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(first&lt;last) <span class="built_in">iter_swap</span>(first++,--last);</span><br></pre></td></tr></table></figure>

<p> reverse_copy ，常见的代码</p>
<h2 id="rotate"><a href="#rotate" class="headerlink" title="rotate"></a>rotate</h2><p> 这个代码有点数学，大概率用不到，一般情况下我们写splay都用3次reverse来实现的，复杂度也不过On,他这个代码就一步到位了，使用了gcd，没啥意思，STL果然效率第一</p>
<h2 id="search"><a href="#search" class="headerlink" title="search"></a>search</h2><p> 子序列首次出现的位置，</p>
<h2 id="search-n"><a href="#search-n" class="headerlink" title="search_n"></a>search_n</h2><p> 好偏，算了，没啥用的代码</p>
<h2 id="swap-ranges-first1-last1-first2"><a href="#swap-ranges-first1-last1-first2" class="headerlink" title="swap_ranges(first1,last1,first2)"></a>swap_ranges(first1,last1,first2)</h2><p> 区间交换，swap的增强版</p>
<h2 id="unique"><a href="#unique" class="headerlink" title="unique"></a>unique</h2><p> 移除重复元素</p>
<p> unique_copy</p>
<h2 id="lower-bound-upper-bound-binary-search"><a href="#lower-bound-upper-bound-binary-search" class="headerlink" title="lower_bound upper_bound binary_search"></a>lower_bound upper_bound binary_search</h2><p> 不多说了，就是二分，</p>
<h2 id="next-permutation"><a href="#next-permutation" class="headerlink" title="next_permutation"></a>next_permutation</h2><p> 一直想不明白这个函数怎么实现的，今天来看看，既然是下一个排列，显然是需要找到一个刚好比现在这个大大排列，简单分析……6532,如果一个后缀都是递减的，显然这个后缀不能更大了，如果一个后缀都不能变得更大，就必须调整更前的，所以我们要找到这样的非降序….16532,把最后一个放到1的位置，其他的从小到大排列好就行了。也即swap(1,2),reverse(6531)</p>
<!---more-->

<h2 id="prev-permutation"><a href="#prev-permutation" class="headerlink" title="prev_permutation"></a>prev_permutation</h2><p> 同理</p>
<h2 id="random-shuffle"><a href="#random-shuffle" class="headerlink" title="random_shuffle"></a>random_shuffle</h2><p> 洗牌算法，从first往last遍历，每次从最后面随机选一个放到当前位置即可。</p>
<h2 id="partial-sort"><a href="#partial-sort" class="headerlink" title="partial_sort"></a>partial_sort</h2><p> partial_sort(first,middle,last)<br> 保证[first,middle)有序且均小于[middle,last)直接对后面元素使用堆上浮，这样保证了小的元素均在[first,middle)中，然后使用sort_heap?????<br>&amp;ems; 为啥第一步不用线性时间选择，第二步不用快排？</p>
<h2 id="sort"><a href="#sort" class="headerlink" title="sort"></a>sort</h2><p> 大一就听说了这个的大名，现在来学习学习</p>
<h2 id="Median-of-three"><a href="#Median-of-three" class="headerlink" title="Median_of_three"></a>Median_of_three</h2><p>__median(a,b,c) 返回中间那个值</p>
<h2 id="Partitionining"><a href="#Partitionining" class="headerlink" title="Partitionining"></a>Partitionining</h2><p> 这个大家都会写，就是按照枢轴，把小的放左边，大的放到右边</p>
<h2 id="threshold"><a href="#threshold" class="headerlink" title="threshold"></a>threshold</h2><p> 当只有很少很少的几个元素的时候，插入排序更快。</p>
<h2 id="final-insertion-sort"><a href="#final-insertion-sort" class="headerlink" title="final insertion sort"></a>final insertion sort</h2><p> 我们不必在快速排序中进行插入排序，但是可以提前推出，保证序列基本有序，然后再对整体使用插入排序</p>
<h2 id="SGI-sort"><a href="#SGI-sort" class="headerlink" title="SGI sort"></a>SGI sort</h2><p> 先快速排序到基本有序，然后插入排序</p>
<h3 id="快速排序"><a href="#快速排序" class="headerlink" title="快速排序"></a>快速排序</h3><p> 先排序右边，后左边，且将左边当作下一层，当迭代深度恶化的时候，即超过了lg(n)*2的时候，采取堆排序<br> 枢轴的选择，首、尾、中间的中位数</p>
<h2 id="RW-sort"><a href="#RW-sort" class="headerlink" title="RW sort"></a>RW sort</h2><p> 这个就少了堆排序了，其他的和SGI一样</p>
<h2 id="equal-range"><a href="#equal-range" class="headerlink" title="equal_range"></a>equal_range</h2><p> lower_bound和upper_bound的合体<br> 比直接lower_bound+upper_bound应该快一些，大概这样，二分中值偏小，做缩左断点，偏大则缩右端点，若二分中值等于value，则对左边lower_bound,对右边upper_bound,然后就能直接返回了</p>
<h2 id="inplace-merge"><a href="#inplace-merge" class="headerlink" title="inplace_merge"></a>inplace_merge</h2><p> 将两个相邻的有序序列合并为有序序列，他在分析卡空间的做法，再见。。。不缺空间，</p>
<h2 id="nth-element"><a href="#nth-element" class="headerlink" title="nth_element"></a>nth_element</h2><p> 线性时间选择，三点中值，递归变迭代，长度很小以后直接插入排序，666666</p>
<h2 id="mergesort"><a href="#mergesort" class="headerlink" title="mergesort"></a>mergesort</h2><p> 借助inplace_merge直接完成了，</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p> STL的算法还是很厉害的。</p>
<h1 id="仿函数"><a href="#仿函数" class="headerlink" title="仿函数"></a>仿函数</h1><p> c++的一大特色，通过重载()来实现像函数一样的功能</p>
<h2 id="一元仿函数"><a href="#一元仿函数" class="headerlink" title="一元仿函数"></a>一元仿函数</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">Arg</span>,<span class="keyword">class</span> <span class="title class_">Result</span>&gt;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">unary_function</span>&#123;</span><br><span class="line">  <span class="keyword">typedef</span> Arg argument_type;</span><br><span class="line">  <span class="keyword">typedef</span> Result result_type;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p> 看到上面那玩意没，你得继承它。</p>
<!---more-->

<ul>
<li>negeta 取反，返回-x</li>
<li>logical_not  !x</li>
<li>identity x</li>
<li>select1st a.first</li>
<li>select2nd a.second</li>
</ul>
<h2 id="二元仿函数"><a href="#二元仿函数" class="headerlink" title="二元仿函数"></a>二元仿函数</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">Arg1</span>,<span class="keyword">class</span> <span class="title class_">Arg2</span>,<span class="keyword">class</span> <span class="title class_">Result</span>&gt;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">unary_function</span>&#123;</span><br><span class="line">  <span class="keyword">typedef</span> Arg1 first_argument_type;</span><br><span class="line">  <span class="keyword">typedef</span> Arg2 second_argument_type;</span><br><span class="line">  <span class="keyword">typedef</span> Result result_type;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<ul>
<li>plus a+b</li>
<li>minus a-b</li>
<li>multiplies a*b</li>
<li>divides a&#x2F;b</li>
<li>modulus a%b</li>
<li>equal_to a&#x3D;&#x3D;b</li>
<li>not_equal_to a!&#x3D;b</li>
<li>greater a&gt;b</li>
<li>greater_equal a&gt;&#x3D;b</li>
<li>less a&lt;b</li>
<li>less_equal a&lt;&#x3D;b</li>
<li>logical_and a&amp;&amp;b</li>
<li>logical_or a||b</li>
<li>project1st a</li>
<li>project2nd b</li>
</ul>
<h2 id="仿函数单位元"><a href="#仿函数单位元" class="headerlink" title="仿函数单位元"></a>仿函数单位元</h2><p> 你要为你的仿函数设置一个identity_element单位元，用于快速幂</p>
<h1 id="配接器"><a href="#配接器" class="headerlink" title="配接器"></a>配接器</h1><p> 本质上，配接器是一种设计模式，改变仿函数的接口，成为仿函数配接器，改变容器接口，称为容器配接器，改变迭代器接口，称为迭代器配接器</p>
<h2 id="容器配接器"><a href="#容器配接器" class="headerlink" title="容器配接器"></a>容器配接器</h2><p> queue和stack就是修饰了deque的配接器</p>
<h2 id="迭代器配接器"><a href="#迭代器配接器" class="headerlink" title="迭代器配接器"></a>迭代器配接器</h2><p> 迭代器的配接器有3个，insert itertors,reverse iterators,iostream iterators.</p>
<p>哇塞这东西有点深，明天再看。</p>
<!---more-->

      
    </div>
    <footer class="article-footer">
      <a data-url="http://fightinggg.github.io/landscape/Q7P485.html" data-id="clhvp2d3i005wzimcgz824irr" data-title="STL源码分析" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Language/Python/爬虫/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/landscape/Q7QOEF.html" class="article-date">
  <time class="dt-published" datetime="2020-03-25T07:49:27.000Z" itemprop="datePublished">2020-03-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/landscape/categories/Language/">Language</a>►<a class="article-category-link" href="/landscape/categories/Language/Python/">Python</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/landscape/Q7QOEF.html">爬虫</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <div><a href="/next/Q7QOEF.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">next</a><a href="/hexonext/Q7QOEF.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">hexonext</a><a href="/butterfly/Q7QOEF.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">butterfly</a><a href="/volantis/Q7QOEF.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">volantis</a><a href="/yearn/Q7QOEF.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yearn</a><a href="/yilia/Q7QOEF.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yilia</a><a href="/shoka/Q7QOEF.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">shoka</a><a href="/indigo/Q7QOEF.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">indigo</a><a href="/apollo/Q7QOEF.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">apollo</a><a href="/landscape/Q7QOEF.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">landscape</a><a href="/cactus/Q7QOEF.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">cactus</a><a href="/matery/Q7QOEF.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">matery</a><a href="/icarus/Q7QOEF.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">icarus</a><a href="/fluid/Q7QOEF.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">fluid</a><a href="/material/Q7QOEF.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">material</a><div style="clear: both;"></div></div>

<h1 id="网页"><a href="#网页" class="headerlink" title="网页"></a>网页</h1><p> 当我们输入网址以后，会建立http(https算了)连接，我们给服务器请求，服务器给我们回应，我们不断发送request,服务器不断返回response,请求又很多种。</p>
<h1 id="大量的response"><a href="#大量的response" class="headerlink" title="大量的response"></a>大量的response</h1><p> 我们要把这些数据存起来，数据库啊啥的都行。</p>
<h1 id="简单的爬虫"><a href="#简单的爬虫" class="headerlink" title="简单的爬虫"></a>简单的爬虫</h1><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">res = requests.get(<span class="string">&quot;http://www.baidu.com&quot;</span>)</span><br><span class="line">res.encoding = <span class="string">&#x27;utf-8&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(res.text)</span><br></pre></td></tr></table></figure>
<p> 上面的代码能够得到百度网站</p>
<h1 id="分析html"><a href="#分析html" class="headerlink" title="分析html"></a>分析html</h1><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="comment">#import bs4</span></span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line">res = requests.get(<span class="string">&quot;http://www.baidu.com&quot;</span>)</span><br><span class="line">res.encoding = <span class="string">&#x27;utf-8&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(res.text)</span><br><span class="line">soup = BeautifulSoup(res.text,<span class="string">&quot;html.parser&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(soup.text)</span><br></pre></td></tr></table></figure>

<h1 id="得到连接"><a href="#得到连接" class="headerlink" title="得到连接"></a>得到连接</h1><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> bs4</span><br><span class="line">res = requests.get(<span class="string">&quot;http://www.baidu.com&quot;</span>)</span><br><span class="line">res.encoding = <span class="string">&#x27;utf-8&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(res.text)</span><br><span class="line">soup = bs4.BeautifulSoup(res.text, <span class="string">&quot;html.parser&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(soup.text)</span><br><span class="line"><span class="keyword">for</span> link <span class="keyword">in</span> soup.select(<span class="string">&#x27;a&#x27;</span>):</span><br><span class="line">    <span class="built_in">print</span>(link.text,link[<span class="string">&#x27;href&#x27;</span>])</span><br></pre></td></tr></table></figure>

<h1 id="结束了，好简单，还准备写一套流程的，现在免了"><a href="#结束了，好简单，还准备写一套流程的，现在免了" class="headerlink" title="结束了，好简单，还准备写一套流程的，现在免了"></a>结束了，好简单，还准备写一套流程的，现在免了</h1>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://fightinggg.github.io/landscape/Q7QOEF.html" data-id="clhvp2d3s006gzimc1jcsgmtr" data-title="爬虫" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Language/Java/Spring/spring学习1-spring入门/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/landscape/Q7PE5O.html" class="article-date">
  <time class="dt-published" datetime="2020-03-24T15:10:36.000Z" itemprop="datePublished">2020-03-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/landscape/categories/Language/">Language</a>►<a class="article-category-link" href="/landscape/categories/Language/Java/">Java</a>►<a class="article-category-link" href="/landscape/categories/Language/Java/Spring/">Spring</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/landscape/Q7PE5O.html">spring学习1-spring入门</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <div><a href="/next/Q7PE5O.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">next</a><a href="/hexonext/Q7PE5O.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">hexonext</a><a href="/butterfly/Q7PE5O.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">butterfly</a><a href="/volantis/Q7PE5O.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">volantis</a><a href="/yearn/Q7PE5O.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yearn</a><a href="/yilia/Q7PE5O.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yilia</a><a href="/shoka/Q7PE5O.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">shoka</a><a href="/indigo/Q7PE5O.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">indigo</a><a href="/apollo/Q7PE5O.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">apollo</a><a href="/landscape/Q7PE5O.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">landscape</a><a href="/cactus/Q7PE5O.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">cactus</a><a href="/matery/Q7PE5O.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">matery</a><a href="/icarus/Q7PE5O.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">icarus</a><a href="/fluid/Q7PE5O.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">fluid</a><a href="/material/Q7PE5O.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">material</a><div style="clear: both;"></div></div>

<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Sb411s7vP?p=59">学习</a></p>
<h1 id="spring-是一个轻量级框架"><a href="#spring-是一个轻量级框架" class="headerlink" title="spring 是一个轻量级框架"></a>spring 是一个轻量级框架</h1><p> 他最重要的地方时AOP和IOC，他的目的是降低耦合度，减少代码量</p>
<h1 id="AOP"><a href="#AOP" class="headerlink" title="AOP"></a>AOP</h1><p> 面向切面编程，</p>
<h1 id="IOC"><a href="#IOC" class="headerlink" title="IOC"></a>IOC</h1><p> 控制反转，即将对象的创建交给spring,配置文件+注解</p>
<h2 id="耦合问题"><a href="#耦合问题" class="headerlink" title="耦合问题"></a>耦合问题</h2><p> 比方说我们要在B类中使用A类，就会在B类中A a&#x3D;new A();然后这样就导致了B依赖A</p>
<h3 id="工厂模式解决耦合"><a href="#工厂模式解决耦合" class="headerlink" title="工厂模式解决耦合"></a>工厂模式解决耦合</h3><p> 用工厂来控制A类，在B中就能 A a&#x3D;factory.getA(); 这又导致了B和工厂耦合。</p>
<h2 id="ioc方案"><a href="#ioc方案" class="headerlink" title="ioc方案"></a>ioc方案</h2><p> 解析xml配置文件中的类，在工厂类中利用反射创建类的对象，这就降低了类的耦合度，我们想要换类的时候，只要将xml中的类名称改掉就可以了。</p>
<h1 id="一站式框架"><a href="#一站式框架" class="headerlink" title="一站式框架"></a>一站式框架</h1><p>springMVC+ioc+jdbcTemplate</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://fightinggg.github.io/landscape/Q7PE5O.html" data-id="clhvp2d8w00dmzimcb9ka57r6" data-title="spring学习1-spring入门" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-大数据/hadoop/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/landscape/Q7OQEI.html" class="article-date">
  <time class="dt-published" datetime="2020-03-24T06:37:30.000Z" itemprop="datePublished">2020-03-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/landscape/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/">大数据</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/landscape/Q7OQEI.html">hadoop</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <div><a href="/next/Q7OQEI.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">next</a><a href="/hexonext/Q7OQEI.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">hexonext</a><a href="/butterfly/Q7OQEI.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">butterfly</a><a href="/volantis/Q7OQEI.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">volantis</a><a href="/yearn/Q7OQEI.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yearn</a><a href="/yilia/Q7OQEI.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yilia</a><a href="/shoka/Q7OQEI.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">shoka</a><a href="/indigo/Q7OQEI.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">indigo</a><a href="/apollo/Q7OQEI.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">apollo</a><a href="/landscape/Q7OQEI.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">landscape</a><a href="/cactus/Q7OQEI.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">cactus</a><a href="/matery/Q7OQEI.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">matery</a><a href="/icarus/Q7OQEI.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">icarus</a><a href="/fluid/Q7OQEI.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">fluid</a><a href="/material/Q7OQEI.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">material</a><div style="clear: both;"></div></div>

<h1 id="hadoop"><a href="#hadoop" class="headerlink" title="hadoop"></a>hadoop</h1><p> hadoop &#x3D; common+hdfs+mapreduce+yarn</p>
<h1 id="common"><a href="#common" class="headerlink" title="common"></a>common</h1><p> 工具、rpc通信</p>
<h1 id="hdfs"><a href="#hdfs" class="headerlink" title="hdfs"></a>hdfs</h1><p> 分布式文件系统，一个文件分成多个128Mb的文件，存储在多个节点，为了保证分区容错性，存有备份，默认为3。主从架构。</p>
        
          <p class="article-more-link">
            <a href="/landscape/Q7OQEI.html#more">Read More</a>
          </p>
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://fightinggg.github.io/landscape/Q7OQEI.html" data-id="clhvp2d0e001rzimccckwclv9" data-title="hadoop" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Language/C++/Boost/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/landscape/Q7BOTC.html" class="article-date">
  <time class="dt-published" datetime="2020-03-17T05:34:24.000Z" itemprop="datePublished">2020-03-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/landscape/categories/Language/">Language</a>►<a class="article-category-link" href="/landscape/categories/Language/C/">C++</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/landscape/Q7BOTC.html">Boost</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <div><a href="/next/Q7BOTC.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">next</a><a href="/hexonext/Q7BOTC.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">hexonext</a><a href="/butterfly/Q7BOTC.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">butterfly</a><a href="/volantis/Q7BOTC.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">volantis</a><a href="/yearn/Q7BOTC.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yearn</a><a href="/yilia/Q7BOTC.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yilia</a><a href="/shoka/Q7BOTC.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">shoka</a><a href="/indigo/Q7BOTC.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">indigo</a><a href="/apollo/Q7BOTC.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">apollo</a><a href="/landscape/Q7BOTC.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">landscape</a><a href="/cactus/Q7BOTC.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">cactus</a><a href="/matery/Q7BOTC.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">matery</a><a href="/icarus/Q7BOTC.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">icarus</a><a href="/fluid/Q7BOTC.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">fluid</a><a href="/material/Q7BOTC.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">material</a><div style="clear: both;"></div></div>

<h1 id="Boost-与c"><a href="#Boost-与c" class="headerlink" title="Boost 与c++"></a>Boost 与c++</h1><p> Boost是基于C++标准的现代库，他的源码按照Boost Software License 来发布，允许任何人自由使用、修改和分发。</p>
<h1 id="Boost有哪些功能？"><a href="#Boost有哪些功能？" class="headerlink" title="Boost有哪些功能？"></a>Boost有哪些功能？</h1><p> Boost强大到拥有超过90个库，但我们暂时只学习其中一部分</p>
<!---more-->

<h2 id="Any"><a href="#Any" class="headerlink" title="Any"></a>Any</h2><p> boost::any是一个数据类型，他可以存放任意的类型，例如说一个类型为boost::any的变量可以先存放一个int类型的值，然后替换为一个std::string的类型字符串。</p>
<h2 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h2><p> 好像是一个数组容器，和std::vector应该差别不大。</p>
<h2 id="and-more-…"><a href="#and-more-…" class="headerlink" title="and more …"></a>and more …</h2><h1 id="这个系列的博客来干嘛？"><a href="#这个系列的博客来干嘛？" class="headerlink" title="这个系列的博客来干嘛？"></a>这个系列的博客来干嘛？</h1><p> 这个系列的博客用来介绍Boost提供的接口，不对Boost进行源码分析，关于Boost的源码，预计会在Boost源码分析笔记系列的博客中。</p>
<h1 id="Boost-Any"><a href="#Boost-Any" class="headerlink" title="Boost.Any"></a>Boost.Any</h1><p>  Any在C++17被编入STL<br>C++是强类型语言，没有办法向Python那样把一个int赋值给一个double这种骚操作，而Boost.Any库为我们模拟了这个过程，使得我们可以实现弱类型语言的东西。</p>
<h2 id="在基本数据类型中玩弱类型"><a href="#在基本数据类型中玩弱类型" class="headerlink" title="在基本数据类型中玩弱类型"></a>在基本数据类型中玩弱类型</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;boost/any.hpp&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">  boost::any a = <span class="number">1</span>;</span><br><span class="line">  a = <span class="number">3.14</span>;</span><br><span class="line">  a = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> 这样的代码是允许编译的，大概是因为boost::any内部储存的是指针。</p>
<!---more-->

<h2 id="char数组不行了"><a href="#char数组不行了" class="headerlink" title="char数组不行了"></a>char数组不行了</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;boost/any.hpp&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">  boost::any a = <span class="number">1</span>;</span><br><span class="line">  a = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> 上诉代码可以编译和运行，但是一定会碰到问题的，当我们把char数组弄过去的时候，就不太行了，原因是char[]不支持拷贝构造，但是我们可以通过把std::string来解决这个问题。</p>
<h2 id="用std-string代替char数组"><a href="#用std-string代替char数组" class="headerlink" title="用std::string代替char数组"></a>用std::string代替char数组</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;boost/any.hpp&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">  boost::any a = <span class="number">1</span>;</span><br><span class="line">  a = std::<span class="built_in">string</span>(<span class="string">&quot;hello world&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> 可以见到我们用string完美地解决了这个问题。</p>
<h2 id="写很容易，如何读呢？"><a href="#写很容易，如何读呢？" class="headerlink" title="写很容易，如何读呢？"></a>写很容易，如何读呢？</h2><p> 我们已经学习了boost::any的写操作，但是应该如何读取呢？</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;boost/any.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">  boost::any a = <span class="number">1</span>;</span><br><span class="line">  std::cout &lt;&lt; boost::<span class="built_in">any_cast</span>&lt;<span class="type">int</span>&gt;(a) &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> boost提供了一个模版函数any_cast&lt;T&gt;来对我们的any类进行读取</p>
<h2 id="类型不对会抛出异常"><a href="#类型不对会抛出异常" class="headerlink" title="类型不对会抛出异常"></a>类型不对会抛出异常</h2><p> 有了any&lt;T&gt;的模版，看起来我们可以对boost进行任意读取，我们试试下这个</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;boost/any.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  boost::any a = <span class="number">1</span>;</span><br><span class="line">  a = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line">  std::cout &lt;&lt; boost::<span class="built_in">any_cast</span>&lt;<span class="type">int</span>&gt;(a) &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> 抛出了如下异常</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">libc++abi.dylib: terminating with uncaught exception of type boost::wrapexcept&lt;boost::bad_any_cast&gt;: boost::bad_any_cast: failed conversion using boost::any_cast</span><br></pre></td></tr></table></figure>
<p> 实际上上诉代码是永远无法成功的。因为你把一个char数组传了进去。</p>
<h2 id="成员函数"><a href="#成员函数" class="headerlink" title="成员函数"></a>成员函数</h2><p> boost的any是有很多成员函数的。比方说empty可以判断是否为空，type可以得到类型信息，</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;boost/any.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;typeinfo&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  boost::any a = std::<span class="built_in">string</span>(<span class="string">&quot;asdf&quot;</span>);</span><br><span class="line">  <span class="keyword">if</span> (!a.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">    std::cout &lt;&lt; a.<span class="built_in">type</span>().<span class="built_in">name</span>() &lt;&lt; std::endl;</span><br><span class="line">    a = <span class="number">1</span>;</span><br><span class="line">    std::cout &lt;&lt; a.<span class="built_in">type</span>().<span class="built_in">name</span>() &lt;&lt; std::endl;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> 代码运行结果如下，表示首先是字符串，然后是整形。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NSt3__112basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEE</span><br><span class="line">i</span><br></pre></td></tr></table></figure>

<h2 id="拿到指针"><a href="#拿到指针" class="headerlink" title="拿到指针"></a>拿到指针</h2><p> 当我们把一个any的地址传给any_cast的时候，我们会得到any内部数据的指针，</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;boost/any.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  boost::any a = <span class="number">1</span>;</span><br><span class="line">  <span class="type">int</span> *i = boost::<span class="built_in">any_cast</span>&lt;<span class="type">int</span>&gt;(&amp;a);</span><br><span class="line">  std::cout &lt;&lt; *i &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h1 id="Boost-Tuple"><a href="#Boost-Tuple" class="headerlink" title="Boost::Tuple"></a>Boost::Tuple</h1><p> boost::tuple是一个元组。在c++11被编入STL</p>
<p>第六行无法通过编译，这说明tuple的长度最长只能是10</p>
<p>第9-12行定义了3个元组</p>
<p>第13行演示了如何通过make_tuple构造元组</p>
<p> 第14行演示了如何通过get来访问元组里面的元素</p>
<p> 第16行演示了get的返回值是引用</p>
<p> 第19-20行演示了tuple的等号操作</p>
<p> 第23-27行演示了tuple中可以储存引用</p>
<p> 第28行通过tie构造了一个全引用元组</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;boost/tuple/tuple.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;boost/tuple/tuple_comparison.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;boost/tuple/tuple_io.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// boost::tuple&lt;int, int, int, int, int, int, int, int, int, int, int&gt;too_long;</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 基本操作</span></span><br><span class="line">  <span class="function">boost::tuple&lt;<span class="type">int</span>, <span class="type">int</span>, <span class="type">int</span>, <span class="type">int</span>, <span class="type">int</span>, <span class="type">int</span>, <span class="type">int</span>, <span class="type">int</span>, <span class="type">int</span>, <span class="type">int</span>&gt; <span class="title">a</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">      <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>)</span></span>;</span><br><span class="line">  <span class="function">boost::tuple&lt;std::string, std::string&gt; <span class="title">b</span><span class="params">(<span class="string">&quot;hello&quot;</span>, <span class="string">&quot;world&quot;</span>)</span></span>;</span><br><span class="line">  <span class="function">boost::tuple&lt;std::string, std::string&gt; <span class="title">c</span><span class="params">(<span class="string">&quot;hello&quot;</span>, <span class="string">&quot;world2&quot;</span>)</span></span>;</span><br><span class="line">  std::cout &lt;&lt; boost::<span class="built_in">make_tuple</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>) &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; <span class="string">&quot;a.get&lt;0&gt;() is &quot;</span> &lt;&lt; a.<span class="built_in">get</span>&lt;<span class="number">0</span>&gt;() &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; <span class="string">&quot;a is &quot;</span> &lt;&lt; a &lt;&lt; std::endl;</span><br><span class="line">  a.<span class="built_in">get</span>&lt;<span class="number">0</span>&gt;() = <span class="number">-1</span>;</span><br><span class="line">  std::cout &lt;&lt; <span class="string">&quot;a is &quot;</span> &lt;&lt; a &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; <span class="string">&quot;b is &quot;</span> &lt;&lt; b &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; <span class="string">&quot;b==c is &quot;</span> &lt;&lt; (b == c) &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; <span class="string">&quot;b==b is &quot;</span> &lt;&lt; (b == b) &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 进阶操作</span></span><br><span class="line">  <span class="type">int</span> x = <span class="number">1</span>, y = <span class="number">2</span>;</span><br><span class="line">  <span class="function">boost::tuple&lt;<span class="type">int</span>&amp;, <span class="type">int</span>&gt; <span class="title">reference</span><span class="params">(boost::ref(x), y)</span></span>;</span><br><span class="line">  <span class="comment">// boost::tuple&lt;int&amp;, int&gt; reference(x, y); 也可以</span></span><br><span class="line">  x = <span class="number">5</span>;</span><br><span class="line">  std::cout &lt;&lt; <span class="string">&quot;reference is &quot;</span> &lt;&lt; reference &lt;&lt; std::endl;</span><br><span class="line">  <span class="keyword">auto</span> reference2 = boost::<span class="built_in">tie</span>(x, y);</span><br><span class="line">  x = <span class="number">10</span>, y = <span class="number">11</span>;</span><br><span class="line">  std::cout &lt;&lt; <span class="string">&quot;reference2 is &quot;</span> &lt;&lt; reference2 &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">(1 2 3 4)</span><br><span class="line">a.get&lt;0&gt;() is 1</span><br><span class="line">a is (1 2 3 4 5 6 7 8 9 10)</span><br><span class="line">a is (-1 2 3 4 5 6 7 8 9 10)</span><br><span class="line">b is (hello world)</span><br><span class="line">b==c is 0</span><br><span class="line">b==b is 1</span><br><span class="line">reference is (5 2)</span><br><span class="line">reference2 is (10 11)</span><br></pre></td></tr></table></figure>

<h1 id="Boost-Variant"><a href="#Boost-Variant" class="headerlink" title="Boost::Variant"></a>Boost::Variant</h1><p> boost::variant和any很像，variant和any一样在C++17中被编入STL</p>
<p> variant可以指定一部分数据类型，你可以在这一部分中随便赋值，就像下面写到的一样，另外和any的any_cast不一样的是variant使用get&lt;T&gt;来获得内容。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;boost/variant.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  boost::variant&lt;<span class="type">double</span>, <span class="type">char</span>, std::string&gt; v;</span><br><span class="line">  v = <span class="number">3.14</span>;</span><br><span class="line">  std::cout &lt;&lt; boost::<span class="built_in">get</span>&lt;<span class="type">double</span>&gt;(v) &lt;&lt; std::endl;</span><br><span class="line">  v = <span class="string">&#x27;A&#x27;</span>;</span><br><span class="line">  <span class="comment">// std::cout &lt;&lt; boost::get&lt;double&gt;(v) &lt;&lt; std::endl; 这句现在会报错</span></span><br><span class="line">  std::cout &lt;&lt; boost::<span class="built_in">get</span>&lt;<span class="type">char</span>&gt;(v) &lt;&lt; std::endl;</span><br><span class="line">  v = <span class="string">&quot;Hello, world!&quot;</span>;</span><br><span class="line">  std::cout &lt;&lt; boost::<span class="built_in">get</span>&lt;std::string&gt;(v) &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="访问者模式"><a href="#访问者模式" class="headerlink" title="访问者模式"></a>访问者模式</h2><p> variant允许我们使用访问者模式来访问其内部的成员，使用函数boost::apply_visitor来实现，访问者模式使用的时候重载仿函数。仿函数记得继承static_visitor即可。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;boost/variant.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">visit</span> : <span class="keyword">public</span> boost::static_visitor&lt;&gt; &#123;</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">double</span> &amp;d)</span> <span class="type">const</span> </span>&#123; std::cout &lt;&lt; <span class="string">&quot;double&quot;</span> &lt;&lt; std::endl; &#125;</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(<span class="type">char</span> &amp;c)</span> <span class="type">const</span> </span>&#123; std::cout &lt;&lt; <span class="string">&quot;char&quot;</span> &lt;&lt; std::endl; &#125;</span><br><span class="line">  <span class="function"><span class="type">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(std::string &amp;s)</span> <span class="type">const</span> </span>&#123; std::cout &lt;&lt; <span class="string">&quot;string&quot;</span> &lt;&lt; std::endl; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  boost::variant&lt;<span class="type">double</span>, <span class="type">char</span>, std::string&gt; v;</span><br><span class="line">  v = <span class="number">3.14</span>;</span><br><span class="line">  boost::<span class="built_in">apply_visitor</span>(<span class="built_in">visit</span>(), v);</span><br><span class="line">  v = <span class="string">&#x27;A&#x27;</span>;</span><br><span class="line">  boost::<span class="built_in">apply_visitor</span>(<span class="built_in">visit</span>(), v);</span><br><span class="line">  v = <span class="string">&quot;Hello, world!&quot;</span>;</span><br><span class="line">  boost::<span class="built_in">apply_visitor</span>(<span class="built_in">visit</span>(), v);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">double</span><br><span class="line">char</span><br><span class="line">string</span><br></pre></td></tr></table></figure>



<h1 id="StringAlgorithms"><a href="#StringAlgorithms" class="headerlink" title="StringAlgorithms"></a>StringAlgorithms</h1><p> 我终于找到一个暂时没有被编入C++17的库了，听说在C++20中他也没进，哈哈哈。</p>
<h2 id="大小写转化"><a href="#大小写转化" class="headerlink" title="大小写转化"></a>大小写转化</h2><p> 首先上来的肯定就是大小写转化啦，使用函数to_upper_copy(string)就可以了。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;boost/algorithm/string.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  std::string s = <span class="string">&quot;abcdefgABCDEFG&quot;</span>;</span><br><span class="line">  std::cout &lt;&lt; boost::algorithm::<span class="built_in">to_upper_copy</span>(s) &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; boost::algorithm::<span class="built_in">to_lower_copy</span>(s) &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<!---more-->

<h2 id="删除子串"><a href="#删除子串" class="headerlink" title="删除子串"></a>删除子串</h2><p> erase_all_copy就是说先copy一份，然后再将子串全部删除，如果不带copy就是说直接操作穿进去的母串。下面的代码都可以去掉_copy,erase_first指的是删除第一次出现的，last指的是删除最后一次出现的，nth指的是删除第n次出现的，n从0开始,erase_head值的是删除前n个字符，erase_tail指的是删除后n个字符。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;boost/algorithm/string.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  std::string s = <span class="string">&quot;000111000111ababab000111000111&quot;</span>;</span><br><span class="line">  std::cout &lt;&lt; s &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// boost::algorithm::erase_all(s,&quot;ab&quot;);</span></span><br><span class="line">  std::cout &lt;&lt; boost::algorithm::<span class="built_in">erase_all_copy</span>(s, <span class="string">&quot;ab&quot;</span>) &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; boost::algorithm::<span class="built_in">erase_first_copy</span>(s, <span class="string">&quot;111&quot;</span>) &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; boost::algorithm::<span class="built_in">erase_last_copy</span>(s, <span class="string">&quot;111&quot;</span>) &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; boost::algorithm::<span class="built_in">erase_nth_copy</span>(s, <span class="string">&quot;111&quot;</span>,<span class="number">0</span>) &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; boost::algorithm::<span class="built_in">erase_nth_copy</span>(s, <span class="string">&quot;111&quot;</span>,<span class="number">100</span>) &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; boost::algorithm::<span class="built_in">erase_head_copy</span>(s, <span class="number">4</span>) &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; boost::algorithm::<span class="built_in">erase_tail_copy</span>(s, <span class="number">4</span>) &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="查找子串"><a href="#查找子串" class="headerlink" title="查找子串"></a>查找子串</h2><p> find一类的函数，同上,他将返回一个iterator_range的迭代器。这个迭代器可以操作子串。注意子串和母串共享空间。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;boost/algorithm/string.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  std::string s = <span class="string">&quot;000111000111ababab000111000111&quot;</span>;</span><br><span class="line">  std::cout &lt;&lt; s &lt;&lt; std::endl;</span><br><span class="line">  <span class="keyword">auto</span> x = boost::algorithm::<span class="built_in">find_first</span>(s,<span class="string">&quot;000&quot;</span>);</span><br><span class="line">  x[<span class="number">0</span>] = <span class="string">&#x27;2&#x27;</span>;</span><br><span class="line">  std::cout &lt;&lt; s &lt;&lt; std::endl;</span><br><span class="line">  <span class="comment">//std::cout &lt;&lt; boost::algorithm::find_last(s, &quot;111&quot;) &lt;&lt; std::endl;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> 又是一套代码下来了</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;boost/algorithm/string.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  std::string s = <span class="string">&quot;000111000111ababab000111000111&quot;</span>;</span><br><span class="line">  std::cout &lt;&lt; s &lt;&lt; std::endl;</span><br><span class="line">  <span class="keyword">auto</span> x = boost::algorithm::<span class="built_in">find_first</span>(s,<span class="string">&quot;000&quot;</span>);</span><br><span class="line">  x = boost::algorithm::<span class="built_in">find_last</span>(s,<span class="string">&quot;1&quot;</span>);</span><br><span class="line">  x = boost::algorithm::<span class="built_in">find_nth</span>(s,<span class="string">&quot;1&quot;</span>,<span class="number">3</span>);</span><br><span class="line">  x = boost::algorithm::<span class="built_in">find_tail</span>(s,<span class="number">3</span>);</span><br><span class="line">  x = boost::algorithm::<span class="built_in">find_head</span>(s,<span class="number">3</span>);</span><br><span class="line">  std::cout &lt;&lt; s &lt;&lt; std::endl;</span><br><span class="line">  <span class="comment">//std::cout &lt;&lt; boost::algorithm::find_last(s, &quot;111&quot;) &lt;&lt; std::endl;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="替换子串"><a href="#替换子串" class="headerlink" title="替换子串"></a>替换子串</h2><p> replace又是一套如下</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;boost/algorithm/string.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  std::string s = <span class="string">&quot;000111000111ababab000111000111&quot;</span>;</span><br><span class="line">  std::cout &lt;&lt; s &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// boost::algorithm::replace_all(s,&quot;ab&quot;);</span></span><br><span class="line">  std::cout &lt;&lt; boost::algorithm::<span class="built_in">replace_all_copy</span>(s, <span class="string">&quot;ab&quot;</span>,<span class="string">&quot;all&quot;</span>) &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; boost::algorithm::<span class="built_in">replace_first_copy</span>(s, <span class="string">&quot;111&quot;</span>,<span class="string">&quot;first&quot;</span>) &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; boost::algorithm::<span class="built_in">replace_last_copy</span>(s, <span class="string">&quot;111&quot;</span>,<span class="string">&quot;last&quot;</span>) &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; boost::algorithm::<span class="built_in">replace_nth_copy</span>(s, <span class="string">&quot;111&quot;</span>, <span class="number">0</span>,<span class="string">&quot;nth&quot;</span>) &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; boost::algorithm::<span class="built_in">replace_nth_copy</span>(s, <span class="string">&quot;111&quot;</span>, <span class="number">100</span>,<span class="string">&quot;nth&quot;</span>) &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; boost::algorithm::<span class="built_in">replace_head_copy</span>(s, <span class="number">2</span>,<span class="string">&quot;Head&quot;</span>) &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; boost::algorithm::<span class="built_in">replace_tail_copy</span>(s, <span class="number">2</span>,<span class="string">&quot;Tail&quot;</span>) &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="修剪字符串"><a href="#修剪字符串" class="headerlink" title="修剪字符串"></a>修剪字符串</h2><p> trim_left_copy 指的是从左边开始修建，删掉空字符等，trim_right_copy是从右边开始修建，trim_copy是两边一起修剪。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;boost/algorithm/string.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  std::string s = <span class="string">&quot;\t  ab  d d  d d d \t&quot;</span>;</span><br><span class="line">  std::cout &lt;&lt; <span class="string">&quot;|&quot;</span> &lt;&lt; s &lt;&lt; <span class="string">&quot;|&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; <span class="string">&quot;|&quot;</span> &lt;&lt; boost::algorithm::<span class="built_in">trim_left_copy</span>(s) &lt;&lt; <span class="string">&quot;|&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; <span class="string">&quot;|&quot;</span> &lt;&lt; boost::algorithm::<span class="built_in">trim_right_copy</span>(s) &lt;&lt; <span class="string">&quot;|&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; <span class="string">&quot;|&quot;</span> &lt;&lt; boost::algorithm::<span class="built_in">trim_copy</span>(s) &lt;&lt; <span class="string">&quot;|&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> 这个代码输出了</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">|      ab  d d  d d d     |</span><br><span class="line">|ab  d d  d d d     |</span><br><span class="line">|      ab  d d  d d d|</span><br><span class="line">|ab  d d  d d d|</span><br></pre></td></tr></table></figure>

<p> 我们还可以通过指定谓词来修剪使用trim_left_copy_if</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;boost/algorithm/string.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  std::string s = <span class="string">&quot; 01 0 1 000ab  d d  d d d 11111111&quot;</span>;</span><br><span class="line">  std::cout &lt;&lt; <span class="string">&quot;|&quot;</span> &lt;&lt; s &lt;&lt; <span class="string">&quot;|&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; <span class="string">&quot;|&quot;</span> &lt;&lt; boost::algorithm::<span class="built_in">trim_left_copy_if</span>(s,boost::algorithm::<span class="built_in">is_any_of</span>(<span class="string">&quot; 01&quot;</span>)) &lt;&lt; <span class="string">&quot;|&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; <span class="string">&quot;|&quot;</span> &lt;&lt; boost::algorithm::<span class="built_in">trim_right_copy_if</span>(s,boost::algorithm::<span class="built_in">is_any_of</span>(<span class="string">&quot; 01&quot;</span>)) &lt;&lt; <span class="string">&quot;|&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; <span class="string">&quot;|&quot;</span> &lt;&lt; boost::algorithm::<span class="built_in">trim_copy_if</span>(s,boost::algorithm::<span class="built_in">is_any_of</span>(<span class="string">&quot; 01&quot;</span>)) &lt;&lt; <span class="string">&quot;|&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> 更多的谓词,我们还有is_lower、is_upper、is_space等谓词。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;boost/algorithm/string.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  std::string s = <span class="string">&quot; 01 0 1 000ab  d d  d d d 11111111&quot;</span>;</span><br><span class="line">  std::cout &lt;&lt; <span class="string">&quot;|&quot;</span> &lt;&lt; s &lt;&lt; <span class="string">&quot;|&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; <span class="string">&quot;|&quot;</span> &lt;&lt; boost::algorithm::<span class="built_in">trim_copy_if</span>(s,boost::algorithm::<span class="built_in">is_space</span>()) &lt;&lt; <span class="string">&quot;|&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; <span class="string">&quot;|&quot;</span> &lt;&lt; boost::algorithm::<span class="built_in">trim_copy_if</span>(s,boost::algorithm::<span class="built_in">is_digit</span>()) &lt;&lt; <span class="string">&quot;|&quot;</span> &lt;&lt; std::endl&lt;&lt;std::endl;</span><br><span class="line">  s = <span class="string">&quot;aaaBBBaBBaaa&quot;</span>;</span><br><span class="line">  std::cout &lt;&lt; <span class="string">&quot;|&quot;</span> &lt;&lt; s &lt;&lt; <span class="string">&quot;|&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; <span class="string">&quot;|&quot;</span> &lt;&lt; boost::algorithm::<span class="built_in">trim_copy_if</span>(s,boost::algorithm::<span class="built_in">is_lower</span>()) &lt;&lt; <span class="string">&quot;|&quot;</span> &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="字符串比较"><a href="#字符串比较" class="headerlink" title="字符串比较"></a>字符串比较</h2><p> starts_with(s,t)判断s是否以t开头，类似的有ends_with,contains,lexicographical_compare分别表示s是否以t结尾，s是否包含t，s与t的字典序比较。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;boost/algorithm/string.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  std::cout &lt;&lt; boost::algorithm::<span class="built_in">starts_with</span>(<span class="string">&quot;abcde&quot;</span>, <span class="string">&quot;abc&quot;</span>) &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; boost::algorithm::<span class="built_in">ends_with</span>(<span class="string">&quot;abcde&quot;</span>, <span class="string">&quot;cde&quot;</span>) &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; boost::algorithm::<span class="built_in">contains</span>(<span class="string">&quot;abcde&quot;</span>, <span class="string">&quot;cde&quot;</span>) &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; boost::algorithm::<span class="built_in">lexicographical_compare</span>(<span class="string">&quot;abcde&quot;</span>, <span class="string">&quot;cde&quot;</span>) &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; boost::algorithm::<span class="built_in">lexicographical_compare</span>(<span class="string">&quot;abcde&quot;</span>, <span class="string">&quot;abcde&quot;</span>) &lt;&lt; std::endl;</span><br><span class="line">  std::cout &lt;&lt; boost::algorithm::<span class="built_in">lexicographical_compare</span>(<span class="string">&quot;cde&quot;</span>, <span class="string">&quot;abcde&quot;</span>) &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="字符串分割"><a href="#字符串分割" class="headerlink" title="字符串分割"></a>字符串分割</h2><p> 这个就简单多了，直接split+谓词函数就行了</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;boost/algorithm/string.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  std::string s = <span class="string">&quot;abc abc abc * abc ( abc )&quot;</span>;</span><br><span class="line">  std::vector&lt;std::string&gt; v;</span><br><span class="line">  boost::algorithm::<span class="built_in">split</span>(v, s, boost::algorithm::<span class="built_in">is_any_of</span>(<span class="string">&quot; *()&quot;</span>));</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">auto</span> x : v) std::cout &lt;&lt; x &lt;&lt; <span class="string">&quot;.&quot;</span>;</span><br><span class="line">  std::cout &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>输出</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">abc.abc.abc...abc...abc...</span><br></pre></td></tr></table></figure>

<p>我们注意看有些函数前面有个i，比如ierase_all, 这个说的是忽略大小写。</p>
<h1 id="boost-regex"><a href="#boost-regex" class="headerlink" title="boost::regex"></a>boost::regex</h1><p> C++11的时候，被编入STL<br> 明天接着整。。。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://fightinggg.github.io/landscape/Q7BOTC.html" data-id="clhvp2d3e005qzimchhy1dqa0" data-title="Boost" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Language/C++/Boost源码/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/landscape/Q7BSO7.html" class="article-date">
  <time class="dt-published" datetime="2020-03-17T06:57:43.000Z" itemprop="datePublished">2020-03-17</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/landscape/categories/Language/">Language</a>►<a class="article-category-link" href="/landscape/categories/Language/C/">C++</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/landscape/Q7BSO7.html">Boost源码</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <div><a href="/next/Q7BSO7.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">next</a><a href="/hexonext/Q7BSO7.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">hexonext</a><a href="/butterfly/Q7BSO7.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">butterfly</a><a href="/volantis/Q7BSO7.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">volantis</a><a href="/yearn/Q7BSO7.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yearn</a><a href="/yilia/Q7BSO7.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yilia</a><a href="/shoka/Q7BSO7.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">shoka</a><a href="/indigo/Q7BSO7.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">indigo</a><a href="/apollo/Q7BSO7.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">apollo</a><a href="/landscape/Q7BSO7.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">landscape</a><a href="/cactus/Q7BSO7.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">cactus</a><a href="/matery/Q7BSO7.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">matery</a><a href="/icarus/Q7BSO7.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">icarus</a><a href="/fluid/Q7BSO7.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">fluid</a><a href="/material/Q7BSO7.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">material</a><div style="clear: both;"></div></div>







<h1 id="remove-cv"><a href="#remove-cv" class="headerlink" title="remove_cv"></a>remove_cv</h1><p> remove_cv 这个模版类能够帮我们去掉类型的const，他的实现很简单，即使用模版元技术：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="keyword">struct</span> <span class="title class_">remove_cv</span>&#123; <span class="keyword">typedef</span> T type; &#125;;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="keyword">struct</span> <span class="title class_">remove_cv</span>&lt;T <span class="type">const</span>&gt;&#123; <span class="keyword">typedef</span> T type;  &#125;;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="keyword">struct</span> <span class="title class_">remove_cv</span>&lt;T <span class="keyword">volatile</span>&gt;&#123; <span class="keyword">typedef</span> T type; &#125;;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="keyword">struct</span> <span class="title class_">remove_cv</span>&lt;T <span class="type">const</span> <span class="keyword">volatile</span>&gt;&#123; <span class="keyword">typedef</span> T type; &#125;;</span><br></pre></td></tr></table></figure>

<p> 这个代码应该非常容易理解，remove_cv的模版是一个T,我们对他做模版偏特化，将const 和volatile分离，然后使用::value就可以得到没有const、volatile的类型了，所以这个类也叫remove_cv。</p>
<h1 id="is-array"><a href="#is-array" class="headerlink" title="is array"></a>is array</h1><p> is array的实现非常简单，我们先假设所有的都不是array，即如第四行所示，然后利用偏特化，特判掉所有的array即可，让他们继承true_type,这样我们在使用的时候用::value即可判断。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">if</span> defined( __CODEGEARC__ )</span></span><br><span class="line">   <span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="keyword">struct</span> <span class="title class_">is_array</span> : <span class="keyword">public</span> integral_constant&lt;<span class="type">bool</span>, __is_array(T)&gt; &#123;&#125;;</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">   <span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="keyword">struct</span> <span class="title class_">is_array</span> : <span class="keyword">public</span> false_type &#123;&#125;;</span><br><span class="line"><span class="meta">#<span class="keyword">if</span> !defined(BOOST_NO_ARRAY_TYPE_SPECIALIZATIONS)</span></span><br><span class="line">   <span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>, std::<span class="type">size_t</span> N&gt; <span class="keyword">struct</span> <span class="title class_">is_array</span>&lt;T[N]&gt; : <span class="keyword">public</span> true_type &#123;&#125;;</span><br><span class="line">   <span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>, std::<span class="type">size_t</span> N&gt; <span class="keyword">struct</span> <span class="title class_">is_array</span>&lt;T <span class="type">const</span>[N]&gt; : <span class="keyword">public</span> true_type&#123;&#125;;</span><br><span class="line">   <span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>, std::<span class="type">size_t</span> N&gt; <span class="keyword">struct</span> <span class="title class_">is_array</span>&lt;T <span class="keyword">volatile</span>[N]&gt; : <span class="keyword">public</span> true_type&#123;&#125;;</span><br><span class="line">   <span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>, std::<span class="type">size_t</span> N&gt; <span class="keyword">struct</span> <span class="title class_">is_array</span>&lt;T <span class="type">const</span> <span class="keyword">volatile</span>[N]&gt; : <span class="keyword">public</span> true_type&#123;&#125;;</span><br><span class="line"><span class="meta">#<span class="keyword">if</span> !BOOST_WORKAROUND(__BORLANDC__, &lt; 0x600) &amp;&amp; !defined(__IBMCPP__) &amp;&amp;  !BOOST_WORKAROUND(__DMC__, BOOST_TESTED_AT(0x840))</span></span><br><span class="line">   <span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="keyword">struct</span> <span class="title class_">is_array</span>&lt;T[]&gt; : <span class="keyword">public</span> true_type&#123;&#125;;</span><br><span class="line">   <span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="keyword">struct</span> <span class="title class_">is_array</span>&lt;T <span class="type">const</span>[]&gt; : <span class="keyword">public</span> true_type&#123;&#125;;</span><br><span class="line">   <span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="keyword">struct</span> <span class="title class_">is_array</span>&lt;T <span class="type">const</span> <span class="keyword">volatile</span>[]&gt; : <span class="keyword">public</span> true_type&#123;&#125;;</span><br><span class="line">   <span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="keyword">struct</span> <span class="title class_">is_array</span>&lt;T <span class="keyword">volatile</span>[]&gt; : <span class="keyword">public</span> true_type&#123;&#125;;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>







<h1 id="integral-consant"><a href="#integral-consant" class="headerlink" title="integral_consant"></a>integral_consant</h1><p> 这也是一个模版元技术，他储存了自己的类型，模版的类型，模版的值的类型，他的实现如下</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>, T val&gt;</span><br><span class="line">  <span class="keyword">struct</span> <span class="title class_">integral_constant</span></span><br><span class="line">  &#123;</span><br><span class="line">     <span class="keyword">typedef</span> mpl::integral_c_tag tag;</span><br><span class="line">     <span class="keyword">typedef</span> T value_type;</span><br><span class="line">     <span class="keyword">typedef</span> integral_constant&lt;T, val&gt; type;</span><br><span class="line">     <span class="type">static</span> <span class="type">const</span> T value = val;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">operator</span> <span class="type">const</span> mpl::integral_c&lt;T, val&gt;&amp; ()<span class="type">const</span></span><br><span class="line">     &#123;</span><br><span class="line">        <span class="type">static</span> <span class="type">const</span> <span class="type">char</span> data[<span class="built_in">sizeof</span>(<span class="type">long</span>)] = &#123; <span class="number">0</span> &#125;;</span><br><span class="line">        <span class="type">static</span> <span class="type">const</span> <span class="type">void</span>* pdata = data;</span><br><span class="line">        <span class="keyword">return</span> *(<span class="keyword">reinterpret_cast</span>&lt;<span class="type">const</span> mpl::integral_c&lt;T, val&gt;*&gt;(pdata));</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="function">BOOST_CONSTEXPR <span class="keyword">operator</span> <span class="title">T</span><span class="params">()</span><span class="type">const</span> </span>&#123; <span class="keyword">return</span> val; &#125;</span><br><span class="line">  &#125;;</span><br></pre></td></tr></table></figure>

<p> 这里很明显了，value是值，value_type是value的类型，type是自己的类型。</p>
<h2 id="true-type-false-type"><a href="#true-type-false-type" class="headerlink" title="true_type false_type"></a>true_type false_type</h2><p>这里就很有意思了，看看就懂</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> integral_constant&lt;<span class="type">bool</span>, <span class="literal">true</span>&gt; true_type;</span><br><span class="line"><span class="keyword">typedef</span> integral_constant&lt;<span class="type">bool</span>, <span class="literal">false</span>&gt; false_type;</span><br></pre></td></tr></table></figure>

<p> 可能有人会问这个有什么用，其实这样的，很多时候我们需要为我们的类添加一个value，表示true或者false，正常的实现方法是写两遍，一遍处理全部，另一遍特化false，这样写的话，代码复用就太low了，这时候，其实我们只需要实现一遍基类，派生的时候一个继承true，另一个继承false就OK了。</p>
<h1 id="is-function"><a href="#is-function" class="headerlink" title="is_function"></a>is_function</h1><p>这个代码就nb了，我还没看懂，先留个坑,我猜了一下，大概是用来判断一个类型是否是函数指针的。</p>
<h1 id="remove-bounds"><a href="#remove-bounds" class="headerlink" title="remove_bounds"></a>remove_bounds</h1><p> 这个模版元我还真没猜出他的功能，话说怎么可能有人想得到这个bounds指的是数组的bounds呢？这个模版元的功能是传入一个数组，传出他的内容，即将T[]映射为T。注意： remove_bounds就是remove_extent。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="keyword">struct</span> <span class="title class_">remove_extent</span>&#123; <span class="keyword">typedef</span> T type; &#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> !defined(BOOST_NO_ARRAY_TYPE_SPECIALIZATIONS)</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, std::<span class="type">size_t</span> N&gt; <span class="keyword">struct</span> <span class="title class_">remove_extent</span>&lt;T[N]&gt; &#123; <span class="keyword">typedef</span> T type; &#125;;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, std::<span class="type">size_t</span> N&gt; <span class="keyword">struct</span> <span class="title class_">remove_extent</span>&lt;T <span class="type">const</span>[N]&gt; &#123; <span class="keyword">typedef</span> T <span class="type">const</span> type; &#125;;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, std::<span class="type">size_t</span> N&gt; <span class="keyword">struct</span> <span class="title class_">remove_extent</span>&lt;T <span class="keyword">volatile</span> [N]&gt; &#123; <span class="keyword">typedef</span> T <span class="keyword">volatile</span> type; &#125;;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, std::<span class="type">size_t</span> N&gt; <span class="keyword">struct</span> <span class="title class_">remove_extent</span>&lt;T <span class="type">const</span> <span class="keyword">volatile</span> [N]&gt; &#123; <span class="keyword">typedef</span> T <span class="type">const</span> <span class="keyword">volatile</span> type; &#125;;</span><br><span class="line"><span class="meta">#<span class="keyword">if</span> !BOOST_WORKAROUND(__BORLANDC__, BOOST_TESTED_AT(0x610)) &amp;&amp; !defined(__IBMCPP__) &amp;&amp;  !BOOST_WORKAROUND(__DMC__, BOOST_TESTED_AT(0x840))</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">struct</span> <span class="title class_">remove_extent</span>&lt;T[]&gt; &#123; <span class="keyword">typedef</span> T type; &#125;;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">struct</span> <span class="title class_">remove_extent</span>&lt;T <span class="type">const</span>[]&gt; &#123; <span class="keyword">typedef</span> T <span class="type">const</span> type; &#125;;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">struct</span> <span class="title class_">remove_extent</span>&lt;T <span class="keyword">volatile</span>[]&gt; &#123; <span class="keyword">typedef</span> T <span class="keyword">volatile</span> type; &#125;;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt; <span class="keyword">struct</span> <span class="title class_">remove_extent</span>&lt;T <span class="type">const</span> <span class="keyword">volatile</span>[]&gt; &#123; <span class="keyword">typedef</span> T <span class="type">const</span> <span class="keyword">volatile</span> type; &#125;;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p> 还是老样子，数组就特判掉，然后返回其头，否则就返回他的本身。</p>
<h1 id="remove-reference"><a href="#remove-reference" class="headerlink" title="remove_reference"></a>remove_reference</h1><p>这个名字就很棒，就是移除引用的意思。同样他也是模版元技术，他先将所有的类型映射为自己，然后通过模版偏特化的方式将那些引用映射为本身。这里有一个c++的特性即下面代码<br> 这个代码看懂的人应该不多了。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">f</span><span class="params">(<span class="type">int</span>&amp; x)</span> </span>&#123; std::cout &lt;&lt; <span class="string">&quot;&amp;&quot;</span> &lt;&lt; std::endl; &#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">f</span><span class="params">(<span class="type">int</span>&amp;&amp; x)</span> </span>&#123; std::cout &lt;&lt; <span class="string">&quot;&amp;&amp;&quot;</span> &lt;&lt; std::endl; &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> a = <span class="number">1</span>, b = <span class="number">2</span>, c = <span class="number">3</span>, d = <span class="number">4</span>;</span><br><span class="line">  <span class="built_in">f</span>(a);</span><br><span class="line">  <span class="built_in">f</span>(b);</span><br><span class="line">  <span class="built_in">f</span>(c);</span><br><span class="line">  <span class="built_in">f</span>(d);</span><br><span class="line">  <span class="built_in">f</span>(<span class="number">1</span>);</span><br><span class="line">  <span class="built_in">f</span>(<span class="number">2</span>);</span><br><span class="line">  <span class="built_in">f</span>(<span class="number">3</span>);</span><br><span class="line">  <span class="built_in">f</span>(<span class="number">4</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<!---more-->
<p> 这里的&amp;&amp;就是右值引用的意思，所以输出是</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&amp;</span><br><span class="line">&amp;</span><br><span class="line">&amp;</span><br><span class="line">&amp;</span><br><span class="line">&amp;&amp;</span><br><span class="line">&amp;&amp;</span><br><span class="line">&amp;&amp;</span><br><span class="line">&amp;&amp;</span><br></pre></td></tr></table></figure>

<h2 id="然后我们来看源码"><a href="#然后我们来看源码" class="headerlink" title="然后我们来看源码"></a>然后我们来看源码</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> detail&#123;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// We can&#x27;t filter out rvalue_references at the same level as</span></span><br><span class="line"><span class="comment">// references or we get ambiguities from msvc:</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">remove_rvalue_ref</span></span><br><span class="line">&#123;</span><br><span class="line">   <span class="keyword">typedef</span> T type;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> BOOST_NO_CXX11_RVALUE_REFERENCES</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">remove_rvalue_ref</span>&lt;T&amp;&amp;&gt;</span><br><span class="line">&#123;</span><br><span class="line">   <span class="keyword">typedef</span> T type;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">&#125; <span class="comment">// namespace detail</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="keyword">struct</span> <span class="title class_">remove_reference</span>&#123; <span class="keyword">typedef</span> <span class="keyword">typename</span> boost::detail::remove_rvalue_ref&lt;T&gt;::type type; &#125;;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="keyword">struct</span> <span class="title class_">remove_reference</span>&lt;T&amp;&gt;&#123; <span class="keyword">typedef</span> T type; &#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> defined(BOOST_ILLEGAL_CV_REFERENCES)</span></span><br><span class="line"><span class="comment">// these are illegal specialisations; cv-qualifies applied to</span></span><br><span class="line"><span class="comment">// references have no effect according to [8.3.2p1],</span></span><br><span class="line"><span class="comment">// C++ Builder requires them though as it treats cv-qualified</span></span><br><span class="line"><span class="comment">// references as distinct types...</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="keyword">struct</span> <span class="title class_">remove_reference</span>&lt;T&amp;<span class="type">const</span>&gt;&#123; <span class="keyword">typedef</span> T type; &#125;;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="keyword">struct</span> <span class="title class_">remove_reference</span>&lt;T&amp;<span class="keyword">volatile</span>&gt;&#123; <span class="keyword">typedef</span> T type; &#125;;</span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="keyword">struct</span> <span class="title class_">remove_reference</span>&lt;T&amp;<span class="type">const</span> <span class="keyword">volatile</span>&gt;&#123; <span class="keyword">typedef</span> T type; &#125;;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>

<p>同样的我们使用模版元技术，将引用就消除了。</p>
<h1 id="decay"><a href="#decay" class="headerlink" title="decay"></a>decay</h1><p> 这个模版元的意思是移除引用、移除const、移除volatile、数组移除范围、函数变成指针。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> detail</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>, <span class="type">bool</span> Array, <span class="type">bool</span> Function&gt; <span class="keyword">struct</span> <span class="title class_">decay_imp</span> &#123; <span class="keyword">typedef</span> <span class="keyword">typename</span> remove_cv&lt;T&gt;::type type; &#125;;</span><br><span class="line">   <span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="keyword">struct</span> <span class="title class_">decay_imp</span>&lt;T, <span class="literal">true</span>, <span class="literal">false</span>&gt; &#123; <span class="keyword">typedef</span> <span class="keyword">typename</span> remove_bounds&lt;T&gt;::type* type; &#125;;</span><br><span class="line">   <span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="keyword">struct</span> <span class="title class_">decay_imp</span>&lt;T, <span class="literal">false</span>, <span class="literal">true</span>&gt; &#123; <span class="keyword">typedef</span> T* type; &#125;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">template</span>&lt; <span class="keyword">class</span> <span class="title class_">T</span> &gt;</span><br><span class="line"> <span class="keyword">struct</span> <span class="title class_">decay</span></span><br><span class="line"> &#123;</span><br><span class="line"> <span class="keyword">private</span>:</span><br><span class="line">     <span class="keyword">typedef</span> <span class="keyword">typename</span> remove_reference&lt;T&gt;::type Ty;</span><br><span class="line"> <span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">typedef</span> <span class="keyword">typename</span> boost::detail::decay_imp&lt;Ty, boost::is_array&lt;Ty&gt;::value, boost::is_function&lt;Ty&gt;::value&gt;::type type;</span><br><span class="line"> &#125;;</span><br></pre></td></tr></table></figure>

<p> 实际上做起来的时候是先移除引用，最后移除cv的。</p>
<h1 id="any"><a href="#any" class="headerlink" title="any"></a>any</h1><p> 如{ post_link ‘Boost-学习笔记2-Boost-Any’ Any接口学习 }所示，any能够支持我们的c++向python一样，给一个变量瞎赋值，这也太爽了。</p>
<h2 id="构造函数如下"><a href="#构造函数如下" class="headerlink" title="构造函数如下"></a>构造函数如下</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> ValueType&gt;</span></span><br><span class="line"><span class="function"><span class="title">any</span><span class="params">(<span class="type">const</span> ValueType &amp; value)</span></span></span><br><span class="line"><span class="function">  : content(new holder&lt;</span></span><br><span class="line"><span class="function">        BOOST_DEDUCED_TYPENAME remove_cv&lt;BOOST_DEDUCED_TYPENAME decay&lt;const ValueType&gt;::type&gt;::type</span></span><br><span class="line"><span class="function">    &gt;(value))</span></span><br><span class="line"><span class="function">&#123;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 这里是接受任意的类型，然后对这个类型使用decay得到他的基本类型，最后让holder来替我们管理。holder保持了一个输入参数的副本，我们发现这个holder类型的值放到了一个叫content的指针中。</p>
<!---more-->


<h2 id="holder"><a href="#holder" class="headerlink" title="holder"></a>holder</h2><p> holder继承自placeholder，placeholder是一个接口，我们不去管他，holder内部的副本保存在held中。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">        <span class="keyword">template</span>&lt;<span class="keyword">typename</span> ValueType&gt;</span><br><span class="line">        <span class="keyword">class</span> <span class="title class_">holder</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> BOOST_NO_CXX11_FINAL</span></span><br><span class="line">          <span class="keyword">final</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">          : <span class="keyword">public</span> placeholder</span><br><span class="line">        &#123;</span><br><span class="line">        <span class="keyword">public</span>: <span class="comment">// structors</span></span><br><span class="line"></span><br><span class="line">            <span class="built_in">holder</span>(<span class="type">const</span> ValueType &amp; value)</span><br><span class="line">              : <span class="built_in">held</span>(value)</span><br><span class="line">            &#123;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> BOOST_NO_CXX11_RVALUE_REFERENCES</span></span><br><span class="line">            <span class="built_in">holder</span>(ValueType&amp;&amp; value)</span><br><span class="line">              : <span class="built_in">held</span>(<span class="built_in">static_cast</span>&lt; ValueType&amp;&amp; &gt;(value))</span><br><span class="line">            &#123;</span><br><span class="line">            &#125;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">        <span class="keyword">public</span>: <span class="comment">// queries</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">virtual</span> <span class="type">const</span> boost::<span class="function">typeindex::type_info&amp; <span class="title">type</span><span class="params">()</span> <span class="type">const</span> BOOST_NOEXCEPT</span></span><br><span class="line"><span class="function">            </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> boost::typeindex::<span class="built_in">type_id</span>&lt;ValueType&gt;().<span class="built_in">type_info</span>();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="keyword">virtual</span> placeholder * <span class="title">clone</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">            </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">holder</span>(held);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span>: <span class="comment">// representation</span></span><br><span class="line"></span><br><span class="line">            ValueType held;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">private</span>: <span class="comment">// intentionally left unimplemented</span></span><br><span class="line">            holder &amp; <span class="keyword">operator</span>=(<span class="type">const</span> holder &amp;);</span><br><span class="line">        &#125;;</span><br></pre></td></tr></table></figure>

<h2 id="any数据类型的读取"><a href="#any数据类型的读取" class="headerlink" title="any数据类型的读取"></a>any数据类型的读取</h2><p> any数据有两种读取方式，一是指针，想要读取出里面的元素，显然元素是operand-&gt;content-&gt;held, 我们要得到他的指针的话，先构造出指针来： holder&lt;remove_cv&lt;ValueType&gt;::type&gt;*, 因为operand-&gt;content是placeholer,这也就是为什么下面的代码的括号在-&gt;held之前的原因。最后用boost::addressof取出地址就可以了。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> ValueType&gt;</span></span><br><span class="line"><span class="function">ValueType * <span class="title">any_cast</span><span class="params">(any * operand)</span> BOOST_NOEXCEPT</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> operand &amp;&amp; operand-&gt;<span class="built_in">type</span>() == boost::typeindex::<span class="built_in">type_id</span>&lt;ValueType&gt;()</span><br><span class="line">        ? boost::<span class="built_in">addressof</span>(</span><br><span class="line">            <span class="keyword">static_cast</span>&lt;any::holder&lt;BOOST_DEDUCED_TYPENAME remove_cv&lt;ValueType&gt;::type&gt; *&gt;(operand-&gt;content)-&gt;held</span><br><span class="line">          )</span><br><span class="line">        : <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 第二种方式是读取拷贝，先移除引用，调用上面的指针读取，最后指针取内容就可以返回了。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">    <span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> ValueType&gt;</span></span><br><span class="line"><span class="function">    ValueType <span class="title">any_cast</span><span class="params">(any &amp; operand)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">typedef</span> BOOST_DEDUCED_TYPENAME remove_reference&lt;ValueType&gt;::type nonref;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        nonref * result = <span class="built_in">any_cast</span>&lt;nonref&gt;(boost::<span class="built_in">addressof</span>(operand));</span><br><span class="line">        <span class="keyword">if</span>(!result)</span><br><span class="line">            boost::<span class="built_in">throw_exception</span>(<span class="built_in">bad_any_cast</span>());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Attempt to avoid construction of a temporary object in cases when</span></span><br><span class="line">        <span class="comment">// `ValueType` is not a reference. Example:</span></span><br><span class="line">        <span class="comment">// `static_cast&lt;std::string&gt;(*result);`</span></span><br><span class="line">        <span class="comment">// which is equal to `std::string(*result);`</span></span><br><span class="line">        <span class="keyword">typedef</span> BOOST_DEDUCED_TYPENAME boost::conditional&lt;</span><br><span class="line">            boost::is_reference&lt;ValueType&gt;::value,</span><br><span class="line">            ValueType,</span><br><span class="line">            BOOST_DEDUCED_TYPENAME boost::add_reference&lt;ValueType&gt;::type</span><br><span class="line">        &gt;::type ref_type;</span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> BOOST_MSVC</span></span><br><span class="line"><span class="meta">#   <span class="keyword">pragma</span> <span class="keyword">warning</span>(push)</span></span><br><span class="line"><span class="meta">#   <span class="keyword">pragma</span> <span class="keyword">warning</span>(disable: 4172) <span class="comment">// &quot;returning address of local variable or temporary&quot; but *result is not local!</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">static_cast</span>&lt;ref_type&gt;(*result);</span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> BOOST_MSVC</span></span><br><span class="line"><span class="meta">#   <span class="keyword">pragma</span> <span class="keyword">warning</span>(pop)</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="any的成员函数"><a href="#any的成员函数" class="headerlink" title="any的成员函数"></a>any的成员函数</h2><p> 前两个就不说了，直接说第三个，如果content存在，就调用content的type</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">bool</span> <span class="title">empty</span><span class="params">()</span> <span class="type">const</span> BOOST_NOEXCEPT</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> !content;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">clear</span><span class="params">()</span> BOOST_NOEXCEPT</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">any</span>().<span class="built_in">swap</span>(*<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">const</span> boost::<span class="function">typeindex::type_info&amp; <span class="title">type</span><span class="params">()</span> <span class="type">const</span> BOOST_NOEXCEPT</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> content ? content-&gt;<span class="built_in">type</span>() : boost::typeindex::<span class="built_in">type_id</span>&lt;<span class="type">void</span>&gt;().<span class="built_in">type_info</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> type是这样实现的</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">virtual</span> <span class="type">const</span> boost::<span class="function">typeindex::type_info&amp; <span class="title">type</span><span class="params">()</span> <span class="type">const</span> BOOST_NOEXCEPT</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> boost::typeindex::<span class="built_in">type_id</span>&lt;ValueType&gt;().<span class="built_in">type_info</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://fightinggg.github.io/landscape/Q7BSO7.html" data-id="clhvp2d3f005szimc3e9j7a8q" data-title="Boost源码" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-数据结构/Y快速前缀树/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/landscape/Q7A9H5.html" class="article-date">
  <time class="dt-published" datetime="2020-03-16T11:05:29.000Z" itemprop="datePublished">2020-03-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/landscape/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/landscape/Q7A9H5.html">Y快速前缀树</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <div><a href="/next/Q7A9H5.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">next</a><a href="/hexonext/Q7A9H5.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">hexonext</a><a href="/butterfly/Q7A9H5.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">butterfly</a><a href="/volantis/Q7A9H5.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">volantis</a><a href="/yearn/Q7A9H5.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yearn</a><a href="/yilia/Q7A9H5.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yilia</a><a href="/shoka/Q7A9H5.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">shoka</a><a href="/indigo/Q7A9H5.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">indigo</a><a href="/apollo/Q7A9H5.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">apollo</a><a href="/landscape/Q7A9H5.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">landscape</a><a href="/cactus/Q7A9H5.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">cactus</a><a href="/matery/Q7A9H5.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">matery</a><a href="/icarus/Q7A9H5.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">icarus</a><a href="/fluid/Q7A9H5.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">fluid</a><a href="/material/Q7A9H5.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">material</a><div style="clear: both;"></div></div>

<h1 id="Y快速前缀树"><a href="#Y快速前缀树" class="headerlink" title="Y快速前缀树"></a>Y快速前缀树</h1><p> 继X快速前缀树以后，Dan Willard又提出了X快速前缀树的改进版本</p>
<h1 id="改进X快速前缀树"><a href="#改进X快速前缀树" class="headerlink" title="改进X快速前缀树"></a>改进X快速前缀树</h1><p> 我们还是继续考虑n个小于M的整数(n&lt;M)，我们按照大小，从小到大分组,每组的元素的个数在区间$[\frac{lgM}{4},2lgM]$上,对每组构建一颗普通平衡树，这样我们一共会得到$\frac{n}{2lgM}$到$\frac{4n}{lgM}$颗树，我们在这些树中取一个随便的值r，r要在平衡树的最大和最小值之间,这样我们每棵树对应了一个r，把所有的r作为键,其对应的平衡树作为值放到X快速平衡树中，这就是Y快速平衡树。</p>
<h1 id="Y快速前缀树的查找前驱后继"><a href="#Y快速前缀树的查找前驱后继" class="headerlink" title="Y快速前缀树的查找前驱后继"></a>Y快速前缀树的查找前驱后继</h1><p> 首先在上层X前缀树上查找前驱和后继，最终我们会定位到两个叶子节点，也就对应了两颗普通平衡树，我们在这两颗普通平衡树里面直接找前驱后继然后合并就结束了。总复杂度$lglg(\frac{n}{lgM})+2*lg(lgM)&#x3D;lglgM$</p>
<h1 id="Y快速前缀树的插入"><a href="#Y快速前缀树的插入" class="headerlink" title="Y快速前缀树的插入"></a>Y快速前缀树的插入</h1><p> 先在X前缀树上查询前驱后继，然后在其对应的平衡树上插入真正要插入的值，总复杂度$lglg(\frac{n}{lgM})+lglgM&#x3D;lglgM$，这里有可能导致插入的值太多，进行分裂，我们来看一下这次分裂前插入了多少元素，我们考虑最坏的情况，不妨设之前也是分裂的，那么他的大小为$lgM$，到这次分裂一共插入了lgM+1个元素，导致现在的大小超过了2lgM，于是这lgM次插入的均摊分裂复杂度为$\frac{lg(\frac{n}{lgM})}{lgM}\lt 1$,于是总复杂度为$lglgM$</p>
<h1 id="Y快速前缀树的删除"><a href="#Y快速前缀树的删除" class="headerlink" title="Y快速前缀树的删除"></a>Y快速前缀树的删除</h1><p> 同样的，我们还是先查询前驱后街，然后在对应的平衡树上删除真正要删除的值，总复杂度为$lglg(\frac{n}{lgM})+lglgM&#x3D;lglgM$,这里有可能导致平衡树上剩下的值太少，我们考虑合并，合并后如果依然太大，比方说大于lgM，我们就再次分裂为两个平衡树即可。这里可以证明，均摊复杂度依然是O1，因为从$\frac{lgM}{2}$到$\frac{lgM}{4}$也要$\frac{lgM}{4}$次删除，均摊下来，依然是O1,为了懒惰删除，我们甚至可以不必要求合并后超过lgM猜分裂，到2lgM也行。懒惰总是优秀的。于是总体复杂度为$lglgM$</p>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p> 至此，Y快速前缀树的所有操作均为lglgM了.</p>
<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><p> 欠着欠着，以后再补。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://fightinggg.github.io/landscape/Q7A9H5.html" data-id="clhvp2d12002bzimcepn57g3e" data-title="Y快速前缀树" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-数据结构/X快速前缀树/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/landscape/Q7A61B.html" class="article-date">
  <time class="dt-published" datetime="2020-03-16T09:51:11.000Z" itemprop="datePublished">2020-03-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/landscape/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/landscape/Q7A61B.html">X快速前缀树</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <div><a href="/next/Q7A61B.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">next</a><a href="/hexonext/Q7A61B.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">hexonext</a><a href="/butterfly/Q7A61B.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">butterfly</a><a href="/volantis/Q7A61B.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">volantis</a><a href="/yearn/Q7A61B.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yearn</a><a href="/yilia/Q7A61B.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yilia</a><a href="/shoka/Q7A61B.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">shoka</a><a href="/indigo/Q7A61B.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">indigo</a><a href="/apollo/Q7A61B.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">apollo</a><a href="/landscape/Q7A61B.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">landscape</a><a href="/cactus/Q7A61B.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">cactus</a><a href="/matery/Q7A61B.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">matery</a><a href="/icarus/Q7A61B.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">icarus</a><a href="/fluid/Q7A61B.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">fluid</a><a href="/material/Q7A61B.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">material</a><div style="clear: both;"></div></div>

<h1 id="X快速前缀树"><a href="#X快速前缀树" class="headerlink" title="X快速前缀树"></a>X快速前缀树</h1><p> 我以前就说过，当你的数据结构达到了一定的基础，就可以学习那些更加高级的数据结构了，往往那些更加高级的数据结构由基本数据结构组合而成。</p>
<h1 id="先提出一个问题"><a href="#先提出一个问题" class="headerlink" title="先提出一个问题"></a>先提出一个问题</h1><p> 现在要你维护一个多重集合，支持3种操作，1询问一个值(这个值不一定在集合中)的前驱和后继，2向集合中插入一个元素，3从集合中删掉一个元素，1操作$10^6$次，2操作$10^5$次，3操作$10^5$,要求你在1S内完成回答。保证集合元素都小于M&#x3D;$10^6$</p>
<!---more-->

<h1 id="普通平衡树？"><a href="#普通平衡树？" class="headerlink" title="普通平衡树？"></a>普通平衡树？</h1><p> 我们考虑到上面三种操作都是普通平衡树常见的操作，很多人可能就直接拿起他自己的平衡树上了。很遗憾，大概率是无法通过的。因为操作次数太多了。</p>
<h1 id="观察，思考"><a href="#观察，思考" class="headerlink" title="观察，思考"></a>观察，思考</h1><p> 我们的操作需要的是大量的查询，大量、大量，你个普通平衡树怎么操作的过来？</p>
<h1 id="新的平衡树"><a href="#新的平衡树" class="headerlink" title="新的平衡树"></a>新的平衡树</h1><p> 现在我们提出一个新的平衡树，这个平衡树非常厉害，他支持$O(lgM)$的时间来删除和插入，支持$O(lglgM)$的时间来查询前驱后继。</p>
<h1 id="X快速前缀树-1"><a href="#X快速前缀树-1" class="headerlink" title="X快速前缀树"></a>X快速前缀树</h1><p> 字典树+哈希表+维护叶子节点的双向链表+二分<br> 首先，我们先建立一颗普通的01字典树，这个树我们对他稍作修改，考虑到字典树的节点分3类： 叶子节点、根节点、内部节点，我们让叶子节点间构造双向环状链表，其次，对于仅有左儿子的内部节点，让其右儿子指向子树的最小叶子节点，对于仅有右儿子的内部节点，让其左儿子指向子树的最大叶子节点。另一方面，我们对字典树的每一层都建立一个hash表，hash掉他们节点所代表的值是有还是没有，这样我们就构造出了一个X快速前缀树的模型了。<br><img src='/X快速前缀树.png'></img></p>
<h1 id="X快速前缀树的查找"><a href="#X快速前缀树的查找" class="headerlink" title="X快速前缀树的查找"></a>X快速前缀树的查找</h1><p> 假设我们要找一个数k，我们在树上寻找树和k的lca[最低公共祖先]，这个过程可以只要在hash表中二分即可知道lca在哪一个节点，可以证明，这个节点要么没有左儿子，要么没有右儿子。如果有的话，他的儿子和k的lcp[最长公共前缀]一定更长，但是这与他自己是lca的事实相悖。另一方面，由于我们的单儿子节点储存了最值信息，如果这个节点没有右儿子，则他的右儿子指向的值是k的前驱，至于后继，在叶子节点的链表上后移一个单位即可。这个过程总复杂度在二分lca上，树的高度为lgn，二分高度，所以总体复杂度为$O(lglgn)$</p>
<h1 id="X快速前缀树的插入"><a href="#X快速前缀树的插入" class="headerlink" title="X快速前缀树的插入"></a>X快速前缀树的插入</h1><p> 找出lca，若lca没有右儿子，则说明当前节点要插入到右儿子里面。照着做就行了，同时注意向下递归的时候把值也插入到hash表里面，递归到叶子的时候重新连接双向环状链表(前驱和后继)，最后回溯的时候维护单儿子节点的信息，以及树根方面的值就行了。</p>
<h1 id="X快速前缀树的删除"><a href="#X快速前缀树的删除" class="headerlink" title="X快速前缀树的删除"></a>X快速前缀树的删除</h1><p> 找到待删除节点，然后删掉，重新维护叶子链表，回溯的时候从hash表里面删掉自己，对于单儿子的节点也要根据子树回溯即可。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://fightinggg.github.io/landscape/Q7A61B.html" data-id="clhvp2d11002azimc67xndjgp" data-title="X快速前缀树" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-数据结构/三叉搜索树/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/landscape/Q7A2SC.html" class="article-date">
  <time class="dt-published" datetime="2020-03-16T08:41:00.000Z" itemprop="datePublished">2020-03-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/landscape/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/landscape/Q7A2SC.html">三叉搜索树</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <div><a href="/next/Q7A2SC.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">next</a><a href="/hexonext/Q7A2SC.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">hexonext</a><a href="/butterfly/Q7A2SC.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">butterfly</a><a href="/volantis/Q7A2SC.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">volantis</a><a href="/yearn/Q7A2SC.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yearn</a><a href="/yilia/Q7A2SC.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yilia</a><a href="/shoka/Q7A2SC.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">shoka</a><a href="/indigo/Q7A2SC.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">indigo</a><a href="/apollo/Q7A2SC.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">apollo</a><a href="/landscape/Q7A2SC.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">landscape</a><a href="/cactus/Q7A2SC.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">cactus</a><a href="/matery/Q7A2SC.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">matery</a><a href="/icarus/Q7A2SC.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">icarus</a><a href="/fluid/Q7A2SC.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">fluid</a><a href="/material/Q7A2SC.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">material</a><div style="clear: both;"></div></div>

<h1 id="ternary-search-tree"><a href="#ternary-search-tree" class="headerlink" title="ternary search tree"></a>ternary search tree</h1><h1 id="字典树的缺点"><a href="#字典树的缺点" class="headerlink" title="字典树的缺点"></a>字典树的缺点</h1><p> 不难想到，对于那些字符集特别大的字典树来说，他们的空间消耗特别大，因为每个节点都要储存大量的指针，而这些指针往往又是空的。</p>
<h1 id="将BST与trie结合起来"><a href="#将BST与trie结合起来" class="headerlink" title="将BST与trie结合起来"></a>将BST与trie结合起来</h1><p> 考虑这样一种树，每个节点有三个儿子，左右儿子表示自己的左右兄弟，向下的儿子表示真正的儿子。这样的树，将极大的提高了空间利用率。</p>
<!---more-->
<h1 id="偷个图来放着"><a href="#偷个图来放着" class="headerlink" title="偷个图来放着"></a>偷个图来放着</h1><p> 这里插入了as,at,be,by,he….<br><img src='/image-2020-03-16-16.41.00.000.png'></img></p>
<h1 id="三叉搜索树的插入"><a href="#三叉搜索树的插入" class="headerlink" title="三叉搜索树的插入"></a>三叉搜索树的插入</h1><p> 考虑递归，假设我们插入到了某个节点，若下儿子与当前字符相等，则递归到下儿子并使用下一个字符来递归，如果当前字符小于下儿子，则递归到左儿子，保持当前字符不变，如果当前节点不存在了，则创建新节点，直接向下儿子走。</p>
<h1 id="三叉搜索树的删除"><a href="#三叉搜索树的删除" class="headerlink" title="三叉搜索树的删除"></a>三叉搜索树的删除</h1><p> 我们还是用数字来记录终结节点的终结字符串有多少个，若找到待删除的节点以后，终止与此的只有一个字符串，则直接删掉，否则让终极节点的计数器减1，注意在回溯的时候，如果三个儿子都没有终结字符了，就删掉自己。</p>
<h1 id="三叉搜索树的查找"><a href="#三叉搜索树的查找" class="headerlink" title="三叉搜索树的查找"></a>三叉搜索树的查找</h1><p> 递归递归。</p>
<h1 id="三叉搜索树的缺点"><a href="#三叉搜索树的缺点" class="headerlink" title="三叉搜索树的缺点"></a>三叉搜索树的缺点</h1><p> 树的平衡是一个很大的问题，这个我也没办法</p>
<h1 id="三叉搜索树的本质"><a href="#三叉搜索树的本质" class="headerlink" title="三叉搜索树的本质"></a>三叉搜索树的本质</h1><p> 很多时候，很多数据结构像变戏法一样，我们从本质看带三叉搜索树，我们发现下儿子其实是字典树的边，在考虑左右儿子，其实这个就是bst，哈哈哈发现了没有，<br> 我们考虑删掉所有下儿子，你会发现，剩下的是一个bst森林，就像lct删掉指向父亲没有指向自己的边以后，就是splay森林一样，很神奇。我们将这些bst森林转化为一个一个普通的数组，让这些数组从新充当节点，然后将下儿子连回去，<br> 一切都清晰了，又变成普通字典树了。<br> 所以三叉搜索树的本质是优化后的字典树，每个节点都是一个bst。即trie套bst，外层树为trie，内层树为bst。</p>
<h1 id="三叉搜索树的优化？"><a href="#三叉搜索树的优化？" class="headerlink" title="三叉搜索树的优化？"></a>三叉搜索树的优化？</h1><p> 我们让这里的bst用avl代替？用rbt代替？用sbt代替？都可以，但是我觉得这样编码太难了吧，若实在是真的差这点效率，可以去这样做，但我认为，把普通字典树的节点用avl-map、rbt-map、sbt-map直接范型编程或设为类中类不香吗。在这玩树套树确实高大上，效率也高，但编码难度也太高了。</p>
<h1 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h1><p> 先欠着，以后再还。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://fightinggg.github.io/landscape/Q7A2SC.html" data-id="clhvp2d15002gzimcfor6a6jy" data-title="三叉搜索树" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-ACM/学习笔记/字符串/基数树/index" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/landscape/Q7A1SI.html" class="article-date">
  <time class="dt-published" datetime="2020-03-16T08:19:30.000Z" itemprop="datePublished">2020-03-16</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/landscape/categories/ACM/">ACM</a>►<a class="article-category-link" href="/landscape/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a>►<a class="article-category-link" href="/landscape/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%AD%97%E7%AC%A6%E4%B8%B2/">字符串</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/landscape/Q7A1SI.html">基数树</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <div><a href="/next/Q7A1SI.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">next</a><a href="/hexonext/Q7A1SI.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">hexonext</a><a href="/butterfly/Q7A1SI.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">butterfly</a><a href="/volantis/Q7A1SI.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">volantis</a><a href="/yearn/Q7A1SI.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yearn</a><a href="/yilia/Q7A1SI.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yilia</a><a href="/shoka/Q7A1SI.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">shoka</a><a href="/indigo/Q7A1SI.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">indigo</a><a href="/apollo/Q7A1SI.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">apollo</a><a href="/landscape/Q7A1SI.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">landscape</a><a href="/cactus/Q7A1SI.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">cactus</a><a href="/matery/Q7A1SI.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">matery</a><a href="/icarus/Q7A1SI.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">icarus</a><a href="/fluid/Q7A1SI.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">fluid</a><a href="/material/Q7A1SI.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">material</a><div style="clear: both;"></div></div>

<h1 id="基数树"><a href="#基数树" class="headerlink" title="基数树"></a>基数树</h1><p> 基数树是一种更加节省空间的数据结构，他是字典树的升华，</p>
<h1 id="字典树的缺陷"><a href="#字典树的缺陷" class="headerlink" title="字典树的缺陷"></a>字典树的缺陷</h1><p> 常常字典树会很深，而不胖，这会导致空间的浪费，因为里面的指针很多，往往我们发现，如下列字典树<br> <strong>稍等片刻！正在将字符数据转化为图形</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">start((start))--a--&gt; 1((1))</span><br><span class="line">1((1))--b--&gt;2((2))</span><br><span class="line">2((2))--c--&gt;3((end))</span><br><span class="line">2((2))--d--&gt;3((end))</span><br></pre></td></tr></table></figure>
<h1 id="用基数树改进字典树"><a href="#用基数树改进字典树" class="headerlink" title="用基数树改进字典树"></a>用基数树改进字典树</h1><p> 我们可以通过压缩字符路径为字符串路径，即将长链压缩为一条边。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">start((start))--ab--&gt;2((2))</span><br><span class="line">2((2))--c--&gt;3((end))</span><br><span class="line">2((2))--d--&gt;3((end))</span><br></pre></td></tr></table></figure>

<p> 当然你甚至还能这样</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">start((start))--abc--&gt;3((end))</span><br><span class="line">start((start))--abd--&gt;3((end))</span><br></pre></td></tr></table></figure>

<p> 这些都是合法的基数树。注意，基数树仍然是字典树，只不过他压缩了路径</p>
<h1 id="用基数树加速IP路由检索"><a href="#用基数树加速IP路由检索" class="headerlink" title="用基数树加速IP路由检索"></a>用基数树加速IP路由检索</h1><p> 路由检索常常是检索一个01字符串，这时候我们可以通过压缩的方式，每两位压缩、或者三位、四位压缩，能够让查找次数更少，当然这样做可能会牺牲空间，但是他依然是基数树优化的字典树。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://fightinggg.github.io/landscape/Q7A1SI.html" data-id="clhvp2d68009wzimc8bbucnbo" data-title="基数树" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/landscape/page/21/">&laquo; 上一页</a><a class="page-number" href="/landscape/">1</a><span class="space">&hellip;</span><a class="page-number" href="/landscape/page/20/">20</a><a class="page-number" href="/landscape/page/21/">21</a><span class="page-number current">22</span><a class="page-number" href="/landscape/page/23/">23</a><a class="page-number" href="/landscape/page/24/">24</a><span class="space">&hellip;</span><a class="page-number" href="/landscape/page/47/">47</a><a class="extend next" rel="next" href="/landscape/page/23/">下一页 &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/">ACM</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/">刷题实战</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/CodeForces/">CodeForces</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/bzoj/">bzoj</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/hdu/">hdu</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/uoj/">uoj</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/%E6%AF%94%E8%B5%9B/">比赛</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/%E6%B4%9B%E8%B0%B7/">洛谷</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/%E7%89%9B%E5%AE%A2/">牛客</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/DP/">DP</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%9B%BE%E8%AE%BA/">图论</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%AD%97%E7%AC%A6%E4%B8%B2/">字符串</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%B9%B3%E8%A1%A1%E6%A0%91/">平衡树</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%80%9D%E7%BB%B4/">思维</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%95%B0%E5%AD%A6/">数学</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%A0%91/">树</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AE%97%E6%B3%95/">算法</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E9%BB%91%E7%A7%91%E6%8A%80/">黑科技</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/">老Blog迁移</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/blog/">blog</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/blog/span/">span</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/">problem</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/computational-geonetry/">computational_geonetry</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/data-struct/">data_struct</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/dp/">dp</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/graph-theory/">graph_theory</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/math/">math</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/thinging/">thinging</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/">reading_problem</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/">stencil</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/data-struct/">data_struct</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/%E6%80%BB%E7%BB%93/">总结</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/AI/">AI</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/AI/GPT/">GPT</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/CPU/">CPU</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/DataMining/">DataMining</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Database/">Database</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Docker/">Docker</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Docker/K8s/">K8s</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Hexo/">Hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Language/">Language</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Language/C/">C++</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Language/Go/">Go</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Language/Java/">Java</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Language/Java/Grava/">Grava</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Language/Java/JVM/">JVM</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Language/Java/Java%E5%B9%B6%E5%8F%91/">Java并发</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Language/Java/Maven/">Maven</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Language/Java/MyBatis/">MyBatis</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Language/Java/Spring/">Spring</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Language/Java/SpringBoot/">SpringBoot</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Language/Java/SpringCloud/">SpringCloud</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Language/Java/SpringMVC/">SpringMVC</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Language/Python/">Python</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Math/">Math</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Math/Matrix/">Matrix</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Others/">Others</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Test/">Test</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/UML/">UML</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Zookeeper/">Zookeeper</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/%E5%90%8E%E5%8F%B0%E6%8A%80%E6%9C%AF/">后台技术</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/">大数据</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/ES/">ES</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/%E5%AE%9E%E4%B9%A0/">实习</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/%E5%AE%9E%E4%B9%A0/%E7%AC%94%E8%AF%95/">笔试</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/OS/">OS</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/%E7%BC%96%E7%A0%81/">编码</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/%E7%BC%96%E8%AF%91%E5%99%A8/">编译器</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/">计算机组成原理</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/%E9%98%9F%E5%88%97/">队列</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/%E9%98%9F%E5%88%97/Kafka/">Kafka</a></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/landscape/tags/AI/" rel="tag">AI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/landscape/tags/AspectJ/" rel="tag">AspectJ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/landscape/tags/CPU/" rel="tag">CPU</a></li><li class="tag-list-item"><a class="tag-list-link" href="/landscape/tags/GPT/" rel="tag">GPT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/landscape/tags/Proxy/" rel="tag">Proxy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/landscape/tags/SpringFox%E4%BD%BF%E7%94%A8/" rel="tag">SpringFox使用</a></li><li class="tag-list-item"><a class="tag-list-link" href="/landscape/tags/Transformer/" rel="tag">Transformer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/landscape/tags/VPN/" rel="tag">VPN</a></li><li class="tag-list-item"><a class="tag-list-link" href="/landscape/tags/docker/" rel="tag">docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/landscape/tags/flag/" rel="tag">flag</a></li><li class="tag-list-item"><a class="tag-list-link" href="/landscape/tags/linux%E6%8C%87%E4%BB%A4/" rel="tag">linux指令</a></li><li class="tag-list-item"><a class="tag-list-link" href="/landscape/tags/nginx/" rel="tag">nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/landscape/tags/%E7%BB%93%E6%9E%84%E4%BD%93%E4%B8%AD%E7%9A%84%E5%BC%95%E7%94%A8/" rel="tag">结构体中的引用</a></li><li class="tag-list-item"><a class="tag-list-link" href="/landscape/tags/%E8%AF%BB%E4%B9%A6/" rel="tag">读书</a></li><li class="tag-list-item"><a class="tag-list-link" href="/landscape/tags/%E8%AF%BB%E4%B9%A6-HTTP/" rel="tag">读书,HTTP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/landscape/tags/%E8%B7%9F%E6%88%91%E4%B8%80%E8%B5%B7%E5%86%99%E7%BC%96%E8%AF%91%E5%99%A8/" rel="tag">跟我一起写编译器</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/landscape/tags/AI/" style="font-size: 13.33px;">AI</a> <a href="/landscape/tags/AspectJ/" style="font-size: 10px;">AspectJ</a> <a href="/landscape/tags/CPU/" style="font-size: 10px;">CPU</a> <a href="/landscape/tags/GPT/" style="font-size: 10px;">GPT</a> <a href="/landscape/tags/Proxy/" style="font-size: 10px;">Proxy</a> <a href="/landscape/tags/SpringFox%E4%BD%BF%E7%94%A8/" style="font-size: 10px;">SpringFox使用</a> <a href="/landscape/tags/Transformer/" style="font-size: 10px;">Transformer</a> <a href="/landscape/tags/VPN/" style="font-size: 10px;">VPN</a> <a href="/landscape/tags/docker/" style="font-size: 10px;">docker</a> <a href="/landscape/tags/flag/" style="font-size: 10px;">flag</a> <a href="/landscape/tags/linux%E6%8C%87%E4%BB%A4/" style="font-size: 13.33px;">linux指令</a> <a href="/landscape/tags/nginx/" style="font-size: 10px;">nginx</a> <a href="/landscape/tags/%E7%BB%93%E6%9E%84%E4%BD%93%E4%B8%AD%E7%9A%84%E5%BC%95%E7%94%A8/" style="font-size: 10px;">结构体中的引用</a> <a href="/landscape/tags/%E8%AF%BB%E4%B9%A6/" style="font-size: 20px;">读书</a> <a href="/landscape/tags/%E8%AF%BB%E4%B9%A6-HTTP/" style="font-size: 10px;">读书,HTTP</a> <a href="/landscape/tags/%E8%B7%9F%E6%88%91%E4%B8%80%E8%B5%B7%E5%86%99%E7%BC%96%E8%AF%91%E5%99%A8/" style="font-size: 16.67px;">跟我一起写编译器</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2023/05/">五月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2023/03/">三月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2023/02/">二月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2022/07/">七月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2022/05/">五月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2022/03/">三月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2022/02/">二月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2022/01/">一月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2021/11/">十一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2021/10/">十月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2021/09/">九月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2021/08/">八月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2021/07/">七月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2021/06/">六月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2021/05/">五月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2021/04/">四月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2021/03/">三月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2021/01/">一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2020/12/">十二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2020/11/">十一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2020/10/">十月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2020/09/">九月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2020/08/">八月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2020/06/">六月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2020/05/">五月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2020/03/">三月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2020/02/">二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2019/12/">十二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2019/11/">十一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2019/10/">十月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2019/09/">九月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2019/08/">八月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2019/07/">七月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2019/06/">六月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2019/05/">五月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2019/04/">四月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2019/03/">三月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2019/02/">二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2019/01/">一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2018/12/">十二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2018/11/">十一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2018/10/">十月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2018/03/">三月 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/landscape/RUSDW0.html">智慧的疆界：从图灵机到人工智能</a>
          </li>
        
          <li>
            <a href="/landscape/RS7SSC.html">Transformer</a>
          </li>
        
          <li>
            <a href="/landscape/RPN780.html">2023你好</a>
          </li>
        
          <li>
            <a href="/landscape/RFJ220.html">VPN与代理那些事</a>
          </li>
        
          <li>
            <a href="/landscape/RF964O.html">CPU架构介绍</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 fightinggg<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/landscape/" class="mobile-nav-link">Home</a>
  
    <a href="/landscape/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/landscape/js/jquery-3.6.4.min.js"></script>



  
<script src="/landscape/fancybox/jquery.fancybox.min.js"></script>




<script src="/landscape/js/script.js"></script>





  </div>
</body>
</html>