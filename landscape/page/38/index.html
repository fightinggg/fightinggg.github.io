<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Believe it</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="O ever youthful, O ever weeping">
<meta property="og:type" content="website">
<meta property="og:title" content="Believe it">
<meta property="og:url" content="http://fightinggg.github.io/landscape/page/38/index.html">
<meta property="og:site_name" content="Believe it">
<meta property="og:description" content="O ever youthful, O ever weeping">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="fightinggg">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/landscape/atom.xml" title="Believe it" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/landscape/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/landscape/css/style.css">

  
    
<link rel="stylesheet" href="/landscape/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/landscape/" id="logo">Believe it</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/landscape/" id="subtitle">相信不屈不挠的努力,相信战胜死亡的年轻</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/landscape/">Home</a>
        
          <a class="main-nav-link" href="/landscape/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/landscape/atom.xml" title="RSS 订阅"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="搜索"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://fightinggg.github.io/landscape"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-ACM/老Blog迁移/blog/span/cf_710_E" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/landscape/cf_710_E.html" class="article-date">
  <time class="dt-published" datetime="2019-08-05T15:23:08.000Z" itemprop="datePublished">2019-08-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/landscape/categories/ACM/">ACM</a>►<a class="article-category-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/">老Blog迁移</a>►<a class="article-category-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/blog/">blog</a>►<a class="article-category-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/blog/span/">span</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/landscape/cf_710_E.html">cf_710_E</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <div><a href="/next/cf_710_E.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">next</a><a href="/hexonext/cf_710_E.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">hexonext</a><a href="/butterfly/cf_710_E.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">butterfly</a><a href="/volantis/cf_710_E.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">volantis</a><a href="/yearn/cf_710_E.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yearn</a><a href="/yilia/cf_710_E.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yilia</a><a href="/shoka/cf_710_E.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">shoka</a><a href="/indigo/cf_710_E.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">indigo</a><a href="/apollo/cf_710_E.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">apollo</a><a href="/landscape/cf_710_E.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">landscape</a><a href="/cactus/cf_710_E.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">cactus</a><a href="/matery/cf_710_E.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">matery</a><a href="/icarus/cf_710_E.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">icarus</a><a href="/fluid/cf_710_E.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">fluid</a><a href="/material/cf_710_E.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">material</a><div style="clear: both;"></div></div>
转移自<a href='https://fightinggg.github.io/ACM/blog/span/cf_710_E.html'>老blog</a>

<div type="text/javadiv" src="/ACM/js/web_begin.js"></div>
<div>

    <h1><center><a href="https://codeforc.es/problemset/problem/710/E" target="_blank">cf_710_E</a></center></h1>

<span style="float:right">此文更新于2019.6.22</span>
    <div id="text">
            你最开始有一个0，要构造出n<br>
            你有两种操作，<br>
            &nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;加上或减去一&nbsp;代价为x<br>
            &nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;乘以2&nbsp;代价为y<br>
            数据范围<br>
            &nbsp;&nbsp;&nbsp;&nbsp;n&lt;1e18<br>
            &nbsp;&nbsp;&nbsp;&nbsp;x&lt;1e9<br>
            &nbsp;&nbsp;&nbsp;&nbsp;y&lt;1e9<br>
    </div>

    <div type="text/javadiv" src="/ACM/js/solve_begin.js"></div>
    <div>
            dp[i] -> 构造出n的最小代价<br>
            i为偶数 dp[i] <- dp[i-1] , dp[i/2]<br>
            i为奇数 dp[i] <- dp[i-1] , dp[i/2+1]<br>
    </div>
    <div type="text/javadiv" src="/ACM/js/solve_end.js"></div>

    <div type="text/javadiv" src="/ACM/js/code_begin.js"></div>
    <div>
            <span style="color:grey;">// #include<bits/stdc++.h></span><br>
            <span style="color:grey;">// using namespace std;</span><br>
            <br>
            <span style="color:grey;">// typedef long long ll;</span><br>
            <span style="color:grey;">// const ll maxn=2e7+7;</span><br>
            <span style="color:grey;">// ll d[maxn];</span><br>
            <br>
            <span style="color:grey;">// struct node{</span><br>
            <span style="color:grey;">//     ll n,step;</span><br>
            <span style="color:grey;">//     bool operator <(const node&rhs) const{</span><br>
            <span style="color:grey;">//         return step>rhs.step;</span><br>
            <span style="color:grey;">//     }</span><br>
            <span style="color:grey;">// };</span><br>
            <br>
            <span style="color:grey;">// int main(){</span><br>
            <span style="color:grey;">//     ll n,x,y;</span><br>
            <span style="color:grey;">//     scanf("%lld%lld%lld",&n,&x,&y);</span><br>
            <span style="color:grey;">//     for(ll i=0;i<=2*n;i++) d[i]=1e18;</span><br>
            <span style="color:grey;">//     priority_queue<node> q;</span><br>
            <span style="color:grey;">//     d[1]=x;</span><br>
            <span style="color:grey;">//     q.push(node{1,x});</span><br>
            <br>
            <span style="color:grey;">//     ll ans=x*n;</span><br>
            <span style="color:grey;">//     while(true){</span><br>
            <span style="color:grey;">//         node top=q.top(); q.pop();</span><br>
            <span style="color:grey;">//         ans=min(ans,d[]+);</span><br>
            <span style="color:grey;">//         if(top.n==n) break;</span><br>
            <span style="color:grey;">//         else{</span><br>
            <span style="color:grey;">//             if(top.n-1>=1&&d[top.n]+x<d[top.n-1]){</span><br>
            <span style="color:grey;">//                 d[top.n-1]=d[top.n]+x;</span><br>
            <span style="color:grey;">//                 q.push(node{top.n-1,d[top.n]+x});</span><br>
            <span style="color:grey;">//             }</span><br>
            <span style="color:grey;">//             if(top.n+1<=2*n&&d[top.n]+x<d[top.n+1]){</span><br>
            <span style="color:grey;">//                 d[top.n+1]=d[top.n]+x;</span><br>
            <span style="color:grey;">//                 q.push(node{top.n+1,d[top.n]+x});</span><br>
            <span style="color:grey;">//             }</span><br>
            <span style="color:grey;">//             if(top.n*2<=2*n&&d[top.n]+y<d[top.n*2]){</span><br>
            <span style="color:grey;">//                 d[top.n*2]=d[top.n]+y;</span><br>
            <span style="color:grey;">//                 q.push(node{top.n*2,d[top.n]+y});</span><br>
            <span style="color:grey;">//             }</span><br>
            <span style="color:grey;">//         }</span><br>
            <span style="color:grey;">//     }</span><br>
            <span style="color:grey;">//     cout<<ans<<endl;</span><br>
            <span style="color:grey;">// }</span><br>
            <br>
            <br>
            <br>
            <span style="color:#5a64aa;">#include</span>&lt;<span style="color:#3CBDD0;">bits</span><span style="color:red;">/</span><span style="color:#3CBDD0;">stdc</span><span style="color:red;">+</span><span style="color:red;">+</span><span style="color:#5a64aa;">.h</span>&gt;<br>
            <span style="color:#5a64aa;">using</span>&nbsp;<span style="color:#22CC8D;">namespace</span>&nbsp;<span style="color:#5a64aa;">std; </span><br>
            <br>
            <span style="color:black;">typedef</span>&nbsp;<span style="color:black;">long</span>&nbsp;<span style="color:black;">long</span>&nbsp;<span style="color:#5a64aa;">ll; </span><br>
            <span style="color:#3CBDD0;">const</span>&nbsp;<span style="color:black;">ll</span>&nbsp;<span style="color:#22CC8D;">maxn</span><span style="color:red;">=</span><span style="color:#5a64aa;">2e7</span><span style="color:red;">+</span><span style="color:#22CC8D;">7; </span><br>
            <span style="color:black;">ll</span>&nbsp;<span style="color:#3CBDD0;">dp</span>[<span style="color:#22CC8D;">maxn</span>]<span style="color:#5a64aa;">; </span><br>
            <br>
            <span style="color:black;">int</span>&nbsp;<span style="color:#22CC8D;">main</span>(){<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:black;">ll</span>&nbsp;<span style="color:#22CC8D;">n,x,y; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3CBDD0;">scanf</span>(<span style="color:#5a64aa;">"</span><span style="color:red;">%</span><span style="color:#5a64aa;">lld</span><span style="color:red;">%</span><span style="color:#5a64aa;">lld</span><span style="color:red;">%</span><span style="color:#22CC8D;">lld",</span><span style="color:red;">&</span><span style="color:#3CBDD0;">n,</span><span style="color:red;">&</span><span style="color:#22CC8D;">x,</span><span style="color:red;">&</span><span style="color:#5a64aa;">y</span>)<span style="color:#5a64aa;">; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:black;">for</span>(<span style="color:black;">int</span>&nbsp;<span style="color:#3CBDD0;">i</span><span style="color:red;">=</span><span style="color:#22CC8D;">1;i</span>&lt;<span style="color:red;">=</span><span style="color:#3CBDD0;">n;i</span><span style="color:red;">+</span><span style="color:red;">+</span>){<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3CBDD0;">if</span>(<span style="color:#3CBDD0;">i</span><span style="color:red;">&</span><span style="color:#5a64aa;">1</span>){<span style="color:grey;">//odd</span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3CBDD0;">dp</span>[<span style="color:#3CBDD0;">i</span>]<span style="color:red;">=</span><span style="color:#3CBDD0;">min</span>(<span style="color:#3CBDD0;">dp</span>[<span style="color:#3CBDD0;">i</span><span style="color:red;">-</span><span style="color:#5a64aa;">1</span>]<span style="color:red;">+</span><span style="color:#22CC8D;">x,dp</span>[(<span style="color:#3CBDD0;">i</span><span style="color:red;">+</span><span style="color:#5a64aa;">1</span>)<span style="color:red;">/</span><span style="color:#22CC8D;">2</span>]<span style="color:red;">+</span><span style="color:#5a64aa;">y</span><span style="color:red;">+</span><span style="color:#3CBDD0;">x</span>)<span style="color:#5a64aa;">; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#22CC8D;">else</span>{<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3CBDD0;">dp</span>[<span style="color:#3CBDD0;">i</span>]<span style="color:red;">=</span><span style="color:#3CBDD0;">min</span>(<span style="color:#3CBDD0;">dp</span>[<span style="color:#3CBDD0;">i</span><span style="color:red;">-</span><span style="color:#5a64aa;">1</span>]<span style="color:red;">+</span><span style="color:#22CC8D;">x,dp</span>[<span style="color:#3CBDD0;">i</span><span style="color:red;">/</span><span style="color:#22CC8D;">2</span>]<span style="color:red;">+</span><span style="color:#5a64aa;">y</span>)<span style="color:#5a64aa;">; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
            &nbsp;&nbsp;&nbsp;&nbsp;}<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#22CC8D;">cout</span>&lt;&lt;<span style="color:#3CBDD0;">dp</span>[<span style="color:#22CC8D;">n</span>]&lt;&lt;<span style="color:#22CC8D;">endl; </span><br>
            }<br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
    </div>
    <div type="text/javadiv" src="/ACM/js/code_end.js"></div>

            <span>此文标签</span><br>
                <a href="dp优化转移方程.html"> dp优化转移方程 </a><br>


</div>
<div type="text/javadiv" src="/ACM/js/web_end.js"></div>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://fightinggg.github.io/landscape/cf_710_E.html" data-id="clhvp2d7g00b8zimc5zaf4s5z" data-title="cf_710_E" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-ACM/老Blog迁移/blog/span/牛客18多校第一场H" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/landscape/%E7%89%9B%E5%AE%A218%E5%A4%9A%E6%A0%A1%E7%AC%AC%E4%B8%80%E5%9C%BAH.html" class="article-date">
  <time class="dt-published" datetime="2019-08-05T15:23:08.000Z" itemprop="datePublished">2019-08-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/landscape/categories/ACM/">ACM</a>►<a class="article-category-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/">老Blog迁移</a>►<a class="article-category-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/blog/">blog</a>►<a class="article-category-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/blog/span/">span</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/landscape/%E7%89%9B%E5%AE%A218%E5%A4%9A%E6%A0%A1%E7%AC%AC%E4%B8%80%E5%9C%BAH.html">牛客18多校第一场H</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <div><a href="/next/牛客18多校第一场H.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">next</a><a href="/hexonext/牛客18多校第一场H.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">hexonext</a><a href="/butterfly/牛客18多校第一场H.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">butterfly</a><a href="/volantis/牛客18多校第一场H.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">volantis</a><a href="/yearn/牛客18多校第一场H.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yearn</a><a href="/yilia/牛客18多校第一场H.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yilia</a><a href="/shoka/牛客18多校第一场H.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">shoka</a><a href="/indigo/牛客18多校第一场H.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">indigo</a><a href="/apollo/牛客18多校第一场H.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">apollo</a><a href="/landscape/牛客18多校第一场H.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">landscape</a><a href="/cactus/牛客18多校第一场H.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">cactus</a><a href="/matery/牛客18多校第一场H.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">matery</a><a href="/icarus/牛客18多校第一场H.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">icarus</a><a href="/fluid/牛客18多校第一场H.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">fluid</a><a href="/material/牛客18多校第一场H.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">material</a><div style="clear: both;"></div></div>
转移自<a href='https://fightinggg.github.io/ACM/blog/span/牛客18多校第一场H.html'>老blog</a>

<div type="text/javadiv" src="/ACM/js/web_begin.js"></div>
<div>

    <h1><center><a href="https://ac.nowcoder.com/acm/contest/139/H" target="_blank">牛客18多校第一场H</a></center></h1>

<span style="float:right">此文更新于2019.7.12</span>
    <div id="text">
            给一颗边带权点不带权点树<br>
            定义两点间的距离为：<br>
            &nbsp;&nbsp;&nbsp;&nbsp;若路径上的边权构成数列a[0...n]<br>
            &nbsp;&nbsp;&nbsp;&nbsp;则距离d=&nbsp;对所有i&gt;=1求和&nbsp;(a[i-1]-a[i])*(a[i-1]-a[i])<br>
            现在要求距离每个点最远的那个点的距离为多少<br>
    </div>

    <div type="text/javadiv" src="/ACM/js/solve_begin.js"></div>
    <div>
            树dp求down很简单<br>
            关于up , 仔细分析，抽象出来为此：<br>
                给你w[]和d[]<br>
                对每一个i，要求出最大化j!=i时的d[j]+(w[i]-w[j])<br>
                化简后发现为<br>
                d[j]+w[i]*w[i]+w[j]*w[j]-2*w[i]*w[j]<br>
              = w[i]*w[i] + (-2*w[i])*w[j] + (d[j]+w[j]*w[j])<br>
                显然斜率优化，我们排序后对前缀和后缀做两遍斜率优化即可<br>
    </div>
    <div type="text/javadiv" src="/ACM/js/solve_end.js"></div>

    <div type="text/javadiv" src="/ACM/js/code_begin.js"></div>
    <div>
            <span style="color:#5a64aa;">#include</span>&lt;<span style="color:#3CBDD0;">bits</span><span style="color:red;">/</span><span style="color:#3CBDD0;">stdc</span><span style="color:red;">+</span><span style="color:red;">+</span><span style="color:#5a64aa;">.h</span>&gt;<br>
            <span style="color:#5a64aa;">using</span>&nbsp;<span style="color:#22CC8D;">namespace</span>&nbsp;<span style="color:#5a64aa;">std; </span><br>
            <br>
            <span style="color:black;">typedef</span>&nbsp;<span style="color:black;">long</span>&nbsp;<span style="color:black;">long</span>&nbsp;<span style="color:#5a64aa;">ll; </span><br>
            <br>
            <span style="color:#5a64aa;">#define</span>&nbsp;<span style="color:#3CBDD0;">pwx2</span>(<span style="color:#3CBDD0;">x</span>)&nbsp;((<span style="color:#3CBDD0;">x</span>)<span style="color:red;">*</span>(<span style="color:#3CBDD0;">x</span>))<br>
            <br>
            <span style="color:#3CBDD0;">const</span>&nbsp;<span style="color:black;">ll</span>&nbsp;<span style="color:#22CC8D;">maxn</span><span style="color:red;">=</span><span style="color:#5a64aa;">1e5</span><span style="color:red;">+</span><span style="color:#3CBDD0;">5; </span><br>
            <span style="color:black;">struct</span>&nbsp;<span style="color:#3CBDD0;">star</span>{<span style="color:black;">ll</span>&nbsp;<span style="color:#5a64aa;">v,w,nex;</span>}<span style="color:#3CBDD0;">edge</span>[<span style="color:#22CC8D;">maxn</span>&lt;&lt;<span style="color:#5a64aa;">1</span>]<span style="color:#5a64aa;">; </span><br>
            <span style="color:black;">ll</span>&nbsp;<span style="color:#3CBDD0;">head</span>[<span style="color:#22CC8D;">maxn</span>]<span style="color:#5a64aa;">,cnt,n; </span><br>
            <span style="color:black;">ll</span>&nbsp;<span style="color:#22CC8D;">down</span>[<span style="color:#22CC8D;">maxn</span>]<span style="color:#3CBDD0;">,up</span>[<span style="color:#22CC8D;">maxn</span>]<span style="color:#5a64aa;">,ans</span>[<span style="color:#22CC8D;">maxn</span>]<span style="color:#5a64aa;">; </span><br>
            <span style="color:black;">struct</span>&nbsp;<span style="color:#3CBDD0;">line</span>{<span style="color:black;">ll</span>&nbsp;<span style="color:#3CBDD0;">k,b,id;</span>}<span style="color:#22CC8D;">;</span><span style="color:grey;">// y=kx+b</span><br>
            <span style="color:black;">double</span>&nbsp;<span style="color:#3CBDD0;">cross</span>(<span style="color:#3CBDD0;">line</span>&nbsp;<span style="color:#3CBDD0;">l1,line</span>&nbsp;<span style="color:#22CC8D;">l2</span>){<span style="color:grey;">// k1x+b1=k2x+b2 -> k1x-k2x=b2-b1</span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:black;">return</span>&nbsp;<span style="color:red;">-</span><span style="color:black;">double</span>(<span style="color:#22CC8D;">l1.b</span><span style="color:red;">-</span><span style="color:#3CBDD0;">l2.b</span>)<span style="color:red;">/</span>(<span style="color:#22CC8D;">l1.k</span><span style="color:red;">-</span><span style="color:#3CBDD0;">l2.k</span>)<span style="color:#5a64aa;">; </span><br>
            }<br>
            <span style="color:black;">ll</span>&nbsp;<span style="color:#3CBDD0;">val_at</span>(<span style="color:#3CBDD0;">line</span>&nbsp;<span style="color:#5a64aa;">l1,ll</span>&nbsp;<span style="color:#3CBDD0;">x</span>){<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:black;">return</span>&nbsp;<span style="color:#3CBDD0;">x</span><span style="color:red;">*</span><span style="color:#22CC8D;">l1.k</span><span style="color:red;">+</span><span style="color:#5a64aa;">l1.b; </span><br>
            }<br>
            <br>
            <span style="color:#3CBDD0;">void</span>&nbsp;<span style="color:#5a64aa;">ini</span>(<span style="color:black;">ll</span>&nbsp;<span style="color:#3CBDD0;">_n</span>){<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#22CC8D;">n</span><span style="color:red;">=</span><span style="color:#5a64aa;">_n; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3CBDD0;">cnt</span><span style="color:red;">=</span><span style="color:red;">-</span><span style="color:#22CC8D;">1; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:black;">for</span>(<span style="color:black;">ll</span>&nbsp;<span style="color:#3CBDD0;">i</span><span style="color:red;">=</span><span style="color:#5a64aa;">0;i</span>&lt;<span style="color:red;">=</span><span style="color:#3CBDD0;">n;i</span><span style="color:red;">+</span><span style="color:red;">+</span>)&nbsp;<span style="color:#3CBDD0;">head</span>[<span style="color:#3CBDD0;">i</span>]<span style="color:red;">=</span><span style="color:red;">-</span><span style="color:#22CC8D;">1,down</span>[<span style="color:#3CBDD0;">i</span>]<span style="color:red;">=</span><span style="color:#5a64aa;">up</span>[<span style="color:#3CBDD0;">i</span>]<span style="color:red;">=</span><span style="color:#3CBDD0;">ans</span>[<span style="color:#3CBDD0;">i</span>]<span style="color:red;">=</span><span style="color:#5a64aa;">0; </span><br>
            }<br>
            <br>
            <span style="color:#3CBDD0;">void</span>&nbsp;<span style="color:#3CBDD0;">add_edge</span>(<span style="color:black;">ll</span>&nbsp;<span style="color:#22CC8D;">u,ll</span>&nbsp;<span style="color:#5a64aa;">v,ll</span>&nbsp;<span style="color:#22CC8D;">w</span>){<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3CBDD0;">edge</span>[<span style="color:red;">+</span><span style="color:red;">+</span><span style="color:#3CBDD0;">cnt</span>]<span style="color:red;">=</span><span style="color:#3CBDD0;">star</span>{<span style="color:#22CC8D;">v,w,head</span>[<span style="color:#3CBDD0;">u</span>]}<span style="color:#22CC8D;">;</span>&nbsp;<span style="color:#3CBDD0;">head</span>[<span style="color:#3CBDD0;">u</span>]<span style="color:red;">=</span><span style="color:#5a64aa;">cnt; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3CBDD0;">edge</span>[<span style="color:red;">+</span><span style="color:red;">+</span><span style="color:#3CBDD0;">cnt</span>]<span style="color:red;">=</span><span style="color:#3CBDD0;">star</span>{<span style="color:#3CBDD0;">u,w,head</span>[<span style="color:#5a64aa;">v</span>]}<span style="color:#22CC8D;">;</span>&nbsp;<span style="color:#3CBDD0;">head</span>[<span style="color:#5a64aa;">v</span>]<span style="color:red;">=</span><span style="color:#5a64aa;">cnt; </span><br>
            }<br>
            <br>
            <span style="color:#3CBDD0;">void</span>&nbsp;<span style="color:#22CC8D;">dfs1</span>(<span style="color:black;">ll</span>&nbsp;<span style="color:#22CC8D;">u,ll</span>&nbsp;<span style="color:#5a64aa;">father</span><span style="color:red;">=</span><span style="color:#22CC8D;">0,ll</span>&nbsp;<span style="color:#22CC8D;">w</span><span style="color:red;">=</span><span style="color:#3CBDD0;">0</span>){<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:black;">for</span>(<span style="color:black;">ll</span>&nbsp;<span style="color:#3CBDD0;">i</span><span style="color:red;">=</span><span style="color:#3CBDD0;">head</span>[<span style="color:#3CBDD0;">u</span>]<span style="color:#22CC8D;">;</span><span style="color:red;">~</span><span style="color:#5a64aa;">i;i</span><span style="color:red;">=</span><span style="color:#3CBDD0;">edge</span>[<span style="color:#3CBDD0;">i</span>]<span style="color:#22CC8D;">.nex</span>){<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3CBDD0;">if</span>(<span style="color:#3CBDD0;">edge</span>[<span style="color:#3CBDD0;">i</span>]<span style="color:#3CBDD0;">.v</span><span style="color:red;">=</span><span style="color:red;">=</span><span style="color:#5a64aa;">father</span>)&nbsp;<span style="color:#22CC8D;">continue; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#22CC8D;">dfs1</span>(<span style="color:#3CBDD0;">edge</span>[<span style="color:#3CBDD0;">i</span>]<span style="color:#3CBDD0;">.v,u,edge</span>[<span style="color:#3CBDD0;">i</span>]<span style="color:#5a64aa;">.w</span>)<span style="color:#5a64aa;">; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3CBDD0;">if</span>(<span style="color:#5a64aa;">father</span>)&nbsp;{<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#22CC8D;">down</span>[<span style="color:#3CBDD0;">u</span>]<span style="color:red;">=</span><span style="color:#3CBDD0;">max</span>(<span style="color:#22CC8D;">down</span>[<span style="color:#3CBDD0;">u</span>]<span style="color:#5a64aa;">,down</span>[<span style="color:#3CBDD0;">edge</span>[<span style="color:#3CBDD0;">i</span>]<span style="color:#3CBDD0;">.v</span>]<span style="color:red;">+</span><span style="color:#3CBDD0;">pwx2</span>(<span style="color:#22CC8D;">w</span><span style="color:red;">-</span><span style="color:#3CBDD0;">edge</span>[<span style="color:#3CBDD0;">i</span>]<span style="color:#5a64aa;">.w</span>))<span style="color:#5a64aa;">; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3CBDD0;">ans</span>[<span style="color:#5a64aa;">father</span>]<span style="color:red;">=</span><span style="color:#3CBDD0;">max</span>(<span style="color:#3CBDD0;">ans</span>[<span style="color:#5a64aa;">father</span>]<span style="color:#5a64aa;">,down</span>[<span style="color:#3CBDD0;">u</span>])<span style="color:#5a64aa;">; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
            &nbsp;&nbsp;&nbsp;&nbsp;}<br>
            }<br>
            <br>
            <span style="color:#3CBDD0;">void</span>&nbsp;<span style="color:#3CBDD0;">dfs2</span>(<span style="color:black;">ll</span>&nbsp;<span style="color:#22CC8D;">u,ll</span>&nbsp;<span style="color:#5a64aa;">father</span><span style="color:red;">=</span><span style="color:#3CBDD0;">0</span>){<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:black;">vector</span>&lt;<span style="color:#3CBDD0;">line</span>&gt;&nbsp;<span style="color:#3CBDD0;">vec; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:black;">for</span>(<span style="color:black;">ll</span>&nbsp;<span style="color:#3CBDD0;">i</span><span style="color:red;">=</span><span style="color:#3CBDD0;">head</span>[<span style="color:#3CBDD0;">u</span>]<span style="color:#22CC8D;">;</span><span style="color:red;">~</span><span style="color:#5a64aa;">i;i</span><span style="color:red;">=</span><span style="color:#3CBDD0;">edge</span>[<span style="color:#3CBDD0;">i</span>]<span style="color:#22CC8D;">.nex</span>){<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:black;">ll</span>&nbsp;<span style="color:#5a64aa;">v</span><span style="color:red;">=</span><span style="color:#3CBDD0;">edge</span>[<span style="color:#3CBDD0;">i</span>]<span style="color:#3CBDD0;">.v,w</span><span style="color:red;">=</span><span style="color:#3CBDD0;">edge</span>[<span style="color:#3CBDD0;">i</span>]<span style="color:#22CC8D;">.w; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3CBDD0;">if</span>(<span style="color:#5a64aa;">v</span><span style="color:red;">=</span><span style="color:red;">=</span><span style="color:#5a64aa;">father</span>)&nbsp;<span style="color:#5a64aa;">vec.push_back</span>(<span style="color:#3CBDD0;">line</span>{<span style="color:red;">-</span><span style="color:#22CC8D;">2</span><span style="color:red;">*</span><span style="color:#5a64aa;">w,up</span>[<span style="color:#3CBDD0;">u</span>]<span style="color:red;">+</span><span style="color:#22CC8D;">w</span><span style="color:red;">*</span><span style="color:#3CBDD0;">w,i</span>})<span style="color:#5a64aa;">; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#22CC8D;">else</span>&nbsp;<span style="color:#5a64aa;">vec.push_back</span>(<span style="color:#3CBDD0;">line</span>{<span style="color:red;">-</span><span style="color:#22CC8D;">2</span><span style="color:red;">*</span><span style="color:#22CC8D;">w,down</span>[<span style="color:#5a64aa;">v</span>]<span style="color:red;">+</span><span style="color:#22CC8D;">w</span><span style="color:red;">*</span><span style="color:#3CBDD0;">w,i</span>})<span style="color:#5a64aa;">; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;}<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#5a64aa;">sort</span>(<span style="color:#3CBDD0;">vec.begin</span>()<span style="color:#5a64aa;">,vec.end</span>()<span style="color:#22CC8D;">,</span>[](<span style="color:#3CBDD0;">line</span>&nbsp;<span style="color:#22CC8D;">l,line</span>&nbsp;<span style="color:#3CBDD0;">r</span>){<span style="color:black;">return</span>&nbsp;<span style="color:#5a64aa;">l.k</span>&lt;<span style="color:#5a64aa;">r.k;</span>})<span style="color:#5a64aa;">; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#5a64aa;">static</span>&nbsp;<span style="color:#3CBDD0;">line</span>&nbsp;<span style="color:#5a64aa;">stk</span>[<span style="color:#22CC8D;">maxn</span>]<span style="color:#5a64aa;">; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:black;">ll</span>&nbsp;<span style="color:#5a64aa;">tot</span><span style="color:red;">=</span><span style="color:#5a64aa;">0; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:black;">for</span>(<span style="color:black;">ll</span>&nbsp;<span style="color:#3CBDD0;">i</span><span style="color:red;">=</span><span style="color:#5a64aa;">0;i</span>&lt;<span style="color:#3CBDD0;">vec.size</span>()<span style="color:#5a64aa;">;i</span><span style="color:red;">+</span><span style="color:red;">+</span>){<span style="color:grey;">// k++ x--</span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3CBDD0;">star</span><span style="color:red;">&</span><span style="color:#22CC8D;">e</span><span style="color:red;">=</span><span style="color:#3CBDD0;">edge</span>[<span style="color:#22CC8D;">vec</span>[<span style="color:#3CBDD0;">i</span>]<span style="color:#22CC8D;">.id</span>]<span style="color:#5a64aa;">; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#22CC8D;">while</span>(<span style="color:#5a64aa;">tot</span>&gt;<span style="color:red;">=</span><span style="color:#22CC8D;">2</span><span style="color:red;">&</span><span style="color:red;">&</span><span style="color:#3CBDD0;">cross</span>(<span style="color:#5a64aa;">stk</span>[<span style="color:#5a64aa;">tot</span>]<span style="color:#22CC8D;">,stk</span>[<span style="color:#5a64aa;">tot</span><span style="color:red;">-</span><span style="color:#5a64aa;">1</span>])&gt;<span style="color:#3CBDD0;">e.w</span>)<span style="color:#5a64aa;">tot</span><span style="color:red;">-</span><span style="color:red;">-</span><span style="color:#5a64aa;">; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3CBDD0;">if</span>(<span style="color:#22CC8D;">e.v</span><span style="color:red;">!</span><span style="color:red;">=</span><span style="color:#5a64aa;">father</span><span style="color:red;">&</span><span style="color:red;">&</span><span style="color:#5a64aa;">tot</span>&gt;<span style="color:red;">=</span><span style="color:#5a64aa;">1</span>)&nbsp;{<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3CBDD0;">star</span><span style="color:red;">&</span><span style="color:#3CBDD0;">e2</span><span style="color:red;">=</span><span style="color:#3CBDD0;">edge</span>[<span style="color:#5a64aa;">stk</span>[<span style="color:#5a64aa;">tot</span>]<span style="color:#22CC8D;">.id</span>]<span style="color:#5a64aa;">; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#5a64aa;">up</span>[<span style="color:#22CC8D;">e.v</span>]<span style="color:red;">=</span><span style="color:#3CBDD0;">max</span>(<span style="color:#5a64aa;">up</span>[<span style="color:#22CC8D;">e.v</span>]<span style="color:#22CC8D;">,val_at</span>(<span style="color:#5a64aa;">stk</span>[<span style="color:#5a64aa;">tot</span>]<span style="color:#5a64aa;">,e.w</span>)<span style="color:red;">+</span><span style="color:#3CBDD0;">e.w</span><span style="color:red;">*</span><span style="color:#3CBDD0;">e.w</span>)<span style="color:#5a64aa;">; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3CBDD0;">ans</span>[<span style="color:#22CC8D;">e.v</span>]<span style="color:red;">=</span><span style="color:#3CBDD0;">max</span>(<span style="color:#3CBDD0;">ans</span>[<span style="color:#22CC8D;">e.v</span>]<span style="color:#3CBDD0;">,up</span>[<span style="color:#22CC8D;">e.v</span>])<span style="color:#5a64aa;">; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3CBDD0;">if</span>(<span style="color:#5a64aa;">tot</span>&gt;<span style="color:red;">=</span><span style="color:#5a64aa;">1</span><span style="color:red;">&</span><span style="color:red;">&</span><span style="color:#22CC8D;">vec</span>[<span style="color:#3CBDD0;">i</span>]<span style="color:#5a64aa;">.k</span><span style="color:red;">=</span><span style="color:red;">=</span><span style="color:#5a64aa;">stk</span>[<span style="color:#5a64aa;">tot</span>]<span style="color:#5a64aa;">.k</span>){<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3CBDD0;">if</span>(<span style="color:#22CC8D;">vec</span>[<span style="color:#3CBDD0;">i</span>]<span style="color:#5a64aa;">.b</span>&gt;<span style="color:#5a64aa;">stk</span>[<span style="color:#5a64aa;">tot</span>]<span style="color:#5a64aa;">.b</span>)<span style="color:#5a64aa;">tot</span><span style="color:red;">-</span><span style="color:red;">-</span><span style="color:#5a64aa;">; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#22CC8D;">else</span>&nbsp;<span style="color:#22CC8D;">continue; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#22CC8D;">while</span>(<span style="color:#5a64aa;">tot</span>&gt;<span style="color:red;">=</span><span style="color:#22CC8D;">2</span><span style="color:red;">&</span><span style="color:red;">&</span><span style="color:#3CBDD0;">cross</span>(<span style="color:#22CC8D;">vec</span>[<span style="color:#3CBDD0;">i</span>]<span style="color:#22CC8D;">,stk</span>[<span style="color:#5a64aa;">tot</span>])&lt;<span style="color:#3CBDD0;">cross</span>(<span style="color:#5a64aa;">stk</span>[<span style="color:#5a64aa;">tot</span>]<span style="color:#22CC8D;">,stk</span>[<span style="color:#5a64aa;">tot</span><span style="color:red;">-</span><span style="color:#5a64aa;">1</span>]))<span style="color:#5a64aa;">tot</span><span style="color:red;">-</span><span style="color:red;">-</span><span style="color:#5a64aa;">; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#5a64aa;">stk</span>[<span style="color:red;">+</span><span style="color:red;">+</span><span style="color:#5a64aa;">tot</span>]<span style="color:red;">=</span><span style="color:#22CC8D;">vec</span>[<span style="color:#3CBDD0;">i</span>]<span style="color:#5a64aa;">; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;}<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#5a64aa;">tot</span><span style="color:red;">=</span><span style="color:#5a64aa;">0; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:black;">for</span>(<span style="color:black;">ll</span>&nbsp;<span style="color:#3CBDD0;">i</span><span style="color:red;">=</span><span style="color:black;">int</span>(<span style="color:#3CBDD0;">vec.size</span>())<span style="color:red;">-</span><span style="color:#22CC8D;">1;i</span>&gt;<span style="color:red;">=</span><span style="color:#5a64aa;">0;i</span><span style="color:red;">-</span><span style="color:red;">-</span>){<span style="color:grey;">// k--</span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3CBDD0;">star</span><span style="color:red;">&</span><span style="color:#22CC8D;">e</span><span style="color:red;">=</span><span style="color:#3CBDD0;">edge</span>[<span style="color:#22CC8D;">vec</span>[<span style="color:#3CBDD0;">i</span>]<span style="color:#22CC8D;">.id</span>]<span style="color:#5a64aa;">; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#22CC8D;">while</span>(<span style="color:#5a64aa;">tot</span>&gt;<span style="color:red;">=</span><span style="color:#22CC8D;">2</span><span style="color:red;">&</span><span style="color:red;">&</span><span style="color:#3CBDD0;">cross</span>(<span style="color:#5a64aa;">stk</span>[<span style="color:#5a64aa;">tot</span>]<span style="color:#22CC8D;">,stk</span>[<span style="color:#5a64aa;">tot</span><span style="color:red;">-</span><span style="color:#5a64aa;">1</span>])&lt;<span style="color:#3CBDD0;">e.w</span>)<span style="color:#5a64aa;">tot</span><span style="color:red;">-</span><span style="color:red;">-</span><span style="color:#5a64aa;">; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3CBDD0;">if</span>(<span style="color:#22CC8D;">e.v</span><span style="color:red;">!</span><span style="color:red;">=</span><span style="color:#5a64aa;">father</span><span style="color:red;">&</span><span style="color:red;">&</span><span style="color:#5a64aa;">tot</span>&gt;<span style="color:red;">=</span><span style="color:#5a64aa;">1</span>)&nbsp;{<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3CBDD0;">star</span><span style="color:red;">&</span><span style="color:#3CBDD0;">e2</span><span style="color:red;">=</span><span style="color:#3CBDD0;">edge</span>[<span style="color:#5a64aa;">stk</span>[<span style="color:#5a64aa;">tot</span>]<span style="color:#22CC8D;">.id</span>]<span style="color:#5a64aa;">; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#5a64aa;">up</span>[<span style="color:#22CC8D;">e.v</span>]<span style="color:red;">=</span><span style="color:#3CBDD0;">max</span>(<span style="color:#5a64aa;">up</span>[<span style="color:#22CC8D;">e.v</span>]<span style="color:#22CC8D;">,val_at</span>(<span style="color:#5a64aa;">stk</span>[<span style="color:#5a64aa;">tot</span>]<span style="color:#5a64aa;">,e.w</span>)<span style="color:red;">+</span><span style="color:#3CBDD0;">e.w</span><span style="color:red;">*</span><span style="color:#3CBDD0;">e.w</span>)<span style="color:#5a64aa;">; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3CBDD0;">ans</span>[<span style="color:#22CC8D;">e.v</span>]<span style="color:red;">=</span><span style="color:#3CBDD0;">max</span>(<span style="color:#3CBDD0;">ans</span>[<span style="color:#22CC8D;">e.v</span>]<span style="color:#3CBDD0;">,up</span>[<span style="color:#22CC8D;">e.v</span>])<span style="color:#5a64aa;">; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3CBDD0;">if</span>(<span style="color:#5a64aa;">tot</span>&gt;<span style="color:red;">=</span><span style="color:#5a64aa;">1</span><span style="color:red;">&</span><span style="color:red;">&</span><span style="color:#22CC8D;">vec</span>[<span style="color:#3CBDD0;">i</span>]<span style="color:#5a64aa;">.k</span><span style="color:red;">=</span><span style="color:red;">=</span><span style="color:#5a64aa;">stk</span>[<span style="color:#5a64aa;">tot</span>]<span style="color:#5a64aa;">.k</span>){<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3CBDD0;">if</span>(<span style="color:#22CC8D;">vec</span>[<span style="color:#3CBDD0;">i</span>]<span style="color:#5a64aa;">.b</span>&gt;<span style="color:#5a64aa;">stk</span>[<span style="color:#5a64aa;">tot</span>]<span style="color:#5a64aa;">.b</span>)<span style="color:#5a64aa;">tot</span><span style="color:red;">-</span><span style="color:red;">-</span><span style="color:#5a64aa;">; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#22CC8D;">else</span>&nbsp;<span style="color:#22CC8D;">continue; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#22CC8D;">while</span>(<span style="color:#5a64aa;">tot</span>&gt;<span style="color:red;">=</span><span style="color:#22CC8D;">2</span><span style="color:red;">&</span><span style="color:red;">&</span><span style="color:#3CBDD0;">cross</span>(<span style="color:#22CC8D;">vec</span>[<span style="color:#3CBDD0;">i</span>]<span style="color:#22CC8D;">,stk</span>[<span style="color:#5a64aa;">tot</span>])&gt;<span style="color:#3CBDD0;">cross</span>(<span style="color:#5a64aa;">stk</span>[<span style="color:#5a64aa;">tot</span>]<span style="color:#22CC8D;">,stk</span>[<span style="color:#5a64aa;">tot</span><span style="color:red;">-</span><span style="color:#5a64aa;">1</span>]))<span style="color:#5a64aa;">tot</span><span style="color:red;">-</span><span style="color:red;">-</span><span style="color:#5a64aa;">; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#5a64aa;">stk</span>[<span style="color:red;">+</span><span style="color:red;">+</span><span style="color:#5a64aa;">tot</span>]<span style="color:red;">=</span><span style="color:#22CC8D;">vec</span>[<span style="color:#3CBDD0;">i</span>]<span style="color:#5a64aa;">; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;}<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:black;">for</span>(<span style="color:black;">ll</span>&nbsp;<span style="color:#3CBDD0;">i</span><span style="color:red;">=</span><span style="color:#3CBDD0;">head</span>[<span style="color:#3CBDD0;">u</span>]<span style="color:#22CC8D;">;</span><span style="color:red;">~</span><span style="color:#5a64aa;">i;i</span><span style="color:red;">=</span><span style="color:#3CBDD0;">edge</span>[<span style="color:#3CBDD0;">i</span>]<span style="color:#22CC8D;">.nex</span>){<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3CBDD0;">if</span>(<span style="color:#3CBDD0;">edge</span>[<span style="color:#3CBDD0;">i</span>]<span style="color:#3CBDD0;">.v</span><span style="color:red;">=</span><span style="color:red;">=</span><span style="color:#5a64aa;">father</span>)&nbsp;<span style="color:#22CC8D;">continue; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3CBDD0;">dfs2</span>(<span style="color:#3CBDD0;">edge</span>[<span style="color:#3CBDD0;">i</span>]<span style="color:#5a64aa;">.v,u</span>)<span style="color:#5a64aa;">; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;}<br>
            }<br>
            <br>
            <span style="color:black;">int</span>&nbsp;<span style="color:#22CC8D;">main</span>(){<br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:black;">ll</span>&nbsp;<span style="color:#3CBDD0;">n; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#22CC8D;">while</span>(<span style="color:red;">~</span><span style="color:#3CBDD0;">scanf</span>(<span style="color:#5a64aa;">"</span><span style="color:red;">%</span><span style="color:#22CC8D;">lld",</span><span style="color:red;">&</span><span style="color:#22CC8D;">n</span>)){<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#5a64aa;">ini</span>(<span style="color:#22CC8D;">n</span>)<span style="color:#5a64aa;">; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:black;">for</span>(<span style="color:black;">ll</span>&nbsp;<span style="color:#3CBDD0;">i</span><span style="color:red;">=</span><span style="color:#5a64aa;">0;i</span>&lt;<span style="color:#22CC8D;">n</span><span style="color:red;">-</span><span style="color:#22CC8D;">1;i</span><span style="color:red;">+</span><span style="color:red;">+</span>){<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:black;">ll</span>&nbsp;<span style="color:#22CC8D;">u,v,w; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3CBDD0;">scanf</span>(<span style="color:#5a64aa;">"</span><span style="color:red;">%</span><span style="color:#5a64aa;">lld</span><span style="color:red;">%</span><span style="color:#5a64aa;">lld</span><span style="color:red;">%</span><span style="color:#22CC8D;">lld",</span><span style="color:red;">&</span><span style="color:#22CC8D;">u,</span><span style="color:red;">&</span><span style="color:#5a64aa;">v,</span><span style="color:red;">&</span><span style="color:#22CC8D;">w</span>)<span style="color:#5a64aa;">; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3CBDD0;">add_edge</span>(<span style="color:#22CC8D;">u,v,w</span>)<span style="color:#5a64aa;">; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#22CC8D;">dfs1</span>(<span style="color:#5a64aa;">1</span>)<span style="color:#5a64aa;">; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#3CBDD0;">dfs2</span>(<span style="color:#5a64aa;">1</span>)<span style="color:#5a64aa;">; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:black;">for</span>(<span style="color:black;">ll</span>&nbsp;<span style="color:#3CBDD0;">i</span><span style="color:red;">=</span><span style="color:#22CC8D;">1;i</span>&lt;<span style="color:red;">=</span><span style="color:#3CBDD0;">n;i</span><span style="color:red;">+</span><span style="color:red;">+</span>)&nbsp;<span style="color:#5a64aa;">printf</span>(<span style="color:#5a64aa;">"</span><span style="color:red;">%</span><span style="color:#22CC8D;">lld\n",ans</span>[<span style="color:#3CBDD0;">i</span>])<span style="color:#5a64aa;">; </span><br>
            &nbsp;&nbsp;&nbsp;&nbsp;}<br>
            }<br>
            <br>
    </div>
    <div type="text/javadiv" src="/ACM/js/code_end.js"></div>

            <span>此文标签</span><br>
                <a href="树形dp.html"> 树形dp </a>                <a href="斜率优化dp.html"> 斜率优化dp </a><br>


</div>
<div type="text/javadiv" src="/ACM/js/web_end.js"></div>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://fightinggg.github.io/landscape/%E7%89%9B%E5%AE%A218%E5%A4%9A%E6%A0%A1%E7%AC%AC%E4%B8%80%E5%9C%BAH.html" data-id="clhvp2d7h00b9zimc3s9xcjf3" data-title="牛客18多校第一场H" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-ACM/老Blog迁移/problem/computational_geonetry/about_sqrt_and_acos" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/landscape/about_sqrt_and_acos.html" class="article-date">
  <time class="dt-published" datetime="2019-08-05T15:23:08.000Z" itemprop="datePublished">2019-08-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/landscape/categories/ACM/">ACM</a>►<a class="article-category-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/">老Blog迁移</a>►<a class="article-category-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/">problem</a>►<a class="article-category-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/computational-geonetry/">computational_geonetry</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/landscape/about_sqrt_and_acos.html">about_sqrt_and_acos</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <div><a href="/next/about_sqrt_and_acos.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">next</a><a href="/hexonext/about_sqrt_and_acos.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">hexonext</a><a href="/butterfly/about_sqrt_and_acos.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">butterfly</a><a href="/volantis/about_sqrt_and_acos.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">volantis</a><a href="/yearn/about_sqrt_and_acos.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yearn</a><a href="/yilia/about_sqrt_and_acos.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yilia</a><a href="/shoka/about_sqrt_and_acos.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">shoka</a><a href="/indigo/about_sqrt_and_acos.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">indigo</a><a href="/apollo/about_sqrt_and_acos.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">apollo</a><a href="/landscape/about_sqrt_and_acos.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">landscape</a><a href="/cactus/about_sqrt_and_acos.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">cactus</a><a href="/matery/about_sqrt_and_acos.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">matery</a><a href="/icarus/about_sqrt_and_acos.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">icarus</a><a href="/fluid/about_sqrt_and_acos.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">fluid</a><a href="/material/about_sqrt_and_acos.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">material</a><div style="clear: both;"></div></div>
转移自<a href='/ACM/problem/computational_geonetry/about_sqrt_and_acos.html'>老blog</a>

<div id="myweb">

    <!--    啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦-->
    <div type="text/javadiv" src="/ACM/js/up_and_right.js"></div>
    <!--    啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦-->

    <div id="left">
        <div id="left_in">
            <h1>
                <center><a href="http://codeforces.com/gym/102056/problem/F"
                        target="_blank">关于sqrt对负数开根号acos对大于1的数计算反三角函数值的问题</a>
                </center>
            </h1>

            <div id="text">
                空间里面有一个实心球，两个点，问两点不经过实心球的路径的最小值.
            </div>

            <div type="text/javadiv" src="/ACM/js/solve_begin.js"></div>
            <div>
                题目意思很简单，我们可能会用到余弦定理，但是，余弦定理有误差，我们可能会得到一些奇怪的数字，浮点数的误差导致
                余弦定理计算出来了小于-1或者大于1的其他数字，当我们对这样的数字进行反三角函数运算时，会得到nan，当然sqrt
                有时候也会碰到对负数开方，于是我们要重写这两个函数
            </div>
            <div type="text/javadiv" src="/ACM/js/solve_end.js"></div>

            <div type="text/javadiv" src="/ACM/js/code_begin.js"></div>
            <div>
                <pre><span class="cp">#include&lt;bits/stdc++.h&gt;</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">double</span> <span class="n">eps</span> <span class="o">=</span> <span
                            class="mf">1e-12</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">double</span> <span class="n">INF</span> <span class="o">=</span> <span
                            class="mf">1e18</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">double</span> <span class="n">PI</span> <span class="o">=</span> <span
                            class="n">acos</span><span class="p">(</span><span class="o">-</span><span
                            class="mf">1.0</span><span class="p">);</span>
<span class="kt">double</span> <span class="n">ACOS</span><span class="p">(</span><span class="kt">double</span> <span
                            class="n">x</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="n">x</span><span class="o">&gt;</span><span
                            class="mi">1</span><span class="p">)</span>
        <span class="n">x</span><span class="o">=</span><span class="mf">1.0</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span><span class="n">x</span><span class="o">&lt;-</span><span
                            class="mi">1</span><span class="p">)</span>
        <span class="n">x</span><span class="o">=-</span><span class="mf">1.0</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">acos</span><span class="p">(</span><span class="n">x</span><span
                            class="p">);</span>
<span class="p">}</span>
<span class="kt">double</span> <span class="n">SQRT</span><span class="p">(</span><span class="kt">double</span> <span
                            class="n">x</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="n">x</span><span class="o">&lt;</span><span
                            class="mi">0</span><span class="p">)</span>
        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span
                            class="p">);</span>
<span class="p">}</span>

<span class="k">struct</span> <span class="n">Point3D</span>
<span class="p">{</span>
    <span class="kt">double</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span
                            class="p">,</span> <span class="n">z</span><span class="p">;</span>
    <span class="n">Point3D</span><span class="p">()</span> <span class="p">{};</span>
    <span class="n">Point3D</span><span class="p">(</span><span class="kt">double</span> <span class="n">xx</span><span
                            class="p">,</span> <span class="kt">double</span> <span class="n">yy</span><span
                            class="p">,</span><span class="kt">double</span> <span class="n">zz</span><span
                            class="p">)</span>
    <span class="p">{</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">xx</span><span class="p">;</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">yy</span><span class="p">;</span>
        <span class="n">z</span> <span class="o">=</span> <span class="n">zz</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">Point2D</span>
<span class="p">{</span>
    <span class="n">Point2D</span><span class="p">()</span> <span class="p">{};</span>
    <span class="kt">double</span> <span class="n">x</span><span class="p">;</span>
    <span class="kt">double</span> <span class="n">y</span><span class="p">;</span>
    <span class="n">Point2D</span><span class="p">(</span><span class="kt">double</span> <span class="n">xx</span><span
                            class="p">,</span> <span class="kt">double</span> <span class="n">yy</span><span
                            class="p">)</span>
    <span class="p">{</span>
        <span class="n">x</span> <span class="o">=</span> <span class="n">xx</span><span class="p">;</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">yy</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span> <span class="n">Point</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">Circle3D</span>
<span class="p">{</span>
    <span class="n">Point3D</span> <span class="n">o</span><span class="p">;</span>
    <span class="kt">double</span> <span class="n">r</span><span class="p">;</span>
<span class="p">};</span>
<span class="k">struct</span> <span class="n">Circle</span>
<span class="p">{</span>
    <span class="n">Point2D</span> <span class="n">o</span><span class="p">;</span>
    <span class="kt">double</span> <span class="n">r</span><span class="p">;</span>
<span class="p">};</span>


<span class="k">struct</span> <span class="n">Line</span>
<span class="p">{</span>
    <span class="n">Point</span> <span class="n">s</span><span class="p">,</span> <span class="n">e</span><span
                            class="p">;</span>
    <span class="n">Line</span><span class="p">()</span> <span class="p">{};</span>
    <span class="n">Line</span><span class="p">(</span><span class="n">Point</span> <span class="n">a</span><span
                            class="p">,</span> <span class="n">Point</span> <span class="n">b</span><span
                            class="p">)</span>
    <span class="p">{</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">a</span><span class="p">;</span>
        <span class="n">e</span> <span class="o">=</span> <span class="n">b</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">};</span>


<span class="kt">double</span> <span class="n">dis</span><span class="p">(</span><span class="n">Point</span> <span
                            class="n">a</span><span class="p">,</span> <span class="n">Point</span> <span
                            class="n">b</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">SQRT</span><span class="p">(</span><span class="n">pow</span><span
                            class="p">(</span><span class="n">a</span><span class="p">.</span><span
                            class="n">x</span> <span class="o">-</span> <span class="n">b</span><span class="p">.</span><span
                            class="n">x</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span
                            class="o">+</span> <span class="n">pow</span><span class="p">(</span><span
                            class="n">a</span><span class="p">.</span><span class="n">y</span> <span class="o">-</span> <span
                            class="n">b</span><span class="p">.</span><span class="n">y</span><span
                            class="p">,</span> <span class="mi">2</span><span class="p">));</span>
<span class="p">}</span>


<span class="kt">double</span> <span class="n">dis</span><span class="p">(</span><span class="n">Point3D</span> <span
                            class="n">a</span><span class="p">,</span> <span class="n">Point3D</span> <span
                            class="n">b</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">return</span> <span class="n">SQRT</span><span class="p">(</span><span class="n">pow</span><span
                            class="p">(</span><span class="n">a</span><span class="p">.</span><span
                            class="n">x</span> <span class="o">-</span> <span class="n">b</span><span class="p">.</span><span
                            class="n">x</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span
                            class="o">+</span> <span class="n">pow</span><span class="p">(</span><span
                            class="n">a</span><span class="p">.</span><span class="n">y</span> <span class="o">-</span> <span
                            class="n">b</span><span class="p">.</span><span class="n">y</span><span
                            class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span
                            class="o">+</span> <span class="n">pow</span><span class="p">(</span><span
                            class="n">a</span><span class="p">.</span><span class="n">z</span> <span class="o">-</span> <span
                            class="n">b</span><span class="p">.</span><span class="n">z</span><span
                            class="p">,</span> <span class="mi">2</span><span class="p">));</span>
<span class="p">}</span>

<span class="kt">double</span> <span class="n">solve</span><span class="p">(</span><span class="n">Point3D</span> <span
                            class="n">s</span><span class="p">,</span> <span class="n">Point3D</span> <span
                            class="n">t</span><span class="p">,</span> <span class="n">Circle3D</span> <span
                            class="n">o</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">double</span> <span class="n">so</span><span class="o">=</span><span class="n">dis</span><span
                            class="p">(</span><span class="n">s</span><span class="p">,</span><span
                            class="n">o</span><span class="p">.</span><span class="n">o</span><span class="p">);</span>
    <span class="kt">double</span> <span class="n">to</span><span class="o">=</span><span class="n">dis</span><span
                            class="p">(</span><span class="n">t</span><span class="p">,</span><span
                            class="n">o</span><span class="p">.</span><span class="n">o</span><span class="p">);</span>
    <span class="kt">double</span> <span class="n">st</span><span class="o">=</span><span class="n">dis</span><span
                            class="p">(</span><span class="n">s</span><span class="p">,</span><span
                            class="n">t</span><span class="p">);</span>
    <span class="kt">double</span> <span class="n">sita_sot</span><span class="o">=</span><span
                            class="n">ACOS</span><span class="p">((</span><span class="n">so</span><span
                            class="o">*</span><span class="n">so</span><span class="o">+</span><span class="n">to</span><span
                            class="o">*</span><span class="n">to</span><span class="o">-</span><span class="n">st</span><span
                            class="o">*</span><span class="n">st</span><span class="p">)</span><span
                            class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="n">so</span><span
                            class="o">/</span><span class="n">to</span><span class="p">);</span>
    <span class="kt">double</span> <span class="n">sita_sto</span><span class="o">=</span><span
                            class="n">ACOS</span><span class="p">((</span><span class="n">st</span><span
                            class="o">*</span><span class="n">st</span><span class="o">+</span><span class="n">to</span><span
                            class="o">*</span><span class="n">to</span><span class="o">-</span><span class="n">so</span><span
                            class="o">*</span><span class="n">so</span><span class="p">)</span><span
                            class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="n">st</span><span
                            class="o">/</span><span class="n">to</span><span class="p">);</span>
    <span class="kt">double</span> <span class="n">sita_tso</span><span class="o">=</span><span
                            class="n">ACOS</span><span class="p">((</span><span class="n">st</span><span
                            class="o">*</span><span class="n">st</span><span class="o">+</span><span class="n">so</span><span
                            class="o">*</span><span class="n">so</span><span class="o">-</span><span class="n">to</span><span
                            class="o">*</span><span class="n">to</span><span class="p">)</span><span
                            class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="n">st</span><span
                            class="o">/</span><span class="n">so</span><span class="p">);</span>


    <span class="kt">double</span> <span class="n">p</span><span class="o">=</span><span class="p">(</span><span
                            class="n">so</span><span class="o">+</span><span class="n">to</span><span class="o">+</span><span
                            class="n">st</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span
                            class="p">;</span>
    <span class="kt">double</span> <span class="n">d</span><span class="o">=</span><span class="n">SQRT</span><span
                            class="p">(</span><span class="n">p</span><span class="o">*</span><span
                            class="p">(</span><span class="n">p</span><span class="o">-</span><span
                            class="n">so</span><span class="p">)</span><span class="o">*</span><span
                            class="p">(</span><span class="n">p</span><span class="o">-</span><span
                            class="n">to</span><span class="p">)</span><span class="o">*</span><span
                            class="p">(</span><span class="n">p</span><span class="o">-</span><span
                            class="n">st</span><span class="p">))</span><span class="o">*</span><span
                            class="mi">2</span><span class="o">/</span><span class="n">st</span><span class="p">;</span>


    <span class="k">if</span><span class="p">(</span><span class="n">sita_sto</span><span class="o">&lt;</span><span
                            class="n">PI</span><span class="o">/</span><span class="mi">2</span><span class="o">&amp;&amp;</span><span
                            class="n">sita_tso</span><span class="o">&lt;</span><span class="n">PI</span><span
                            class="o">/</span><span class="mi">2</span><span class="o">&amp;&amp;</span><span class="n">d</span><span
                            class="o">&lt;</span><span class="n">o</span><span class="p">.</span><span
                            class="n">r</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">double</span> <span class="n">sita_soa1</span><span class="o">=</span><span
                            class="n">ACOS</span><span class="p">(</span><span class="n">o</span><span
                            class="p">.</span><span class="n">r</span><span class="o">/</span><span
                            class="n">so</span><span class="p">);</span>
        <span class="kt">double</span> <span class="n">sita_toa2</span><span class="o">=</span><span
                            class="n">ACOS</span><span class="p">(</span><span class="n">o</span><span
                            class="p">.</span><span class="n">r</span><span class="o">/</span><span
                            class="n">to</span><span class="p">);</span>

        <span class="kt">double</span> <span class="n">sita</span><span class="o">=</span><span
                            class="n">sita_sot</span><span class="o">-</span><span class="n">sita_soa1</span><span
                            class="o">-</span><span class="n">sita_toa2</span><span class="p">;</span>

        <span class="k">return</span> <span class="n">sita</span><span class="o">*</span><span class="n">o</span><span
                            class="p">.</span><span class="n">r</span> <span class="o">+</span> <span
                            class="n">so</span><span class="o">*</span><span class="n">sin</span><span
                            class="p">(</span><span class="n">sita_soa1</span><span class="p">)</span> <span
                            class="o">+</span> <span class="n">to</span><span class="o">*</span><span
                            class="n">sin</span><span class="p">(</span><span class="n">sita_toa2</span><span class="p">);</span>

    <span class="p">}</span>
    <span class="k">else</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">dis</span><span class="p">(</span><span class="n">s</span><span
                            class="p">,</span> <span class="n">t</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>


<span class="kt">double</span> <span class="n">solve</span><span class="p">(</span><span class="n">Point</span> <span
                            class="n">s</span><span class="p">,</span> <span class="n">Point</span> <span
                            class="n">t</span><span class="p">,</span> <span class="n">Circle</span> <span
                            class="n">o</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">double</span> <span class="n">so</span><span class="o">=</span><span class="n">dis</span><span
                            class="p">(</span><span class="n">s</span><span class="p">,</span><span
                            class="n">o</span><span class="p">.</span><span class="n">o</span><span class="p">);</span>
    <span class="kt">double</span> <span class="n">to</span><span class="o">=</span><span class="n">dis</span><span
                            class="p">(</span><span class="n">t</span><span class="p">,</span><span
                            class="n">o</span><span class="p">.</span><span class="n">o</span><span class="p">);</span>
    <span class="kt">double</span> <span class="n">st</span><span class="o">=</span><span class="n">dis</span><span
                            class="p">(</span><span class="n">s</span><span class="p">,</span><span
                            class="n">t</span><span class="p">);</span>
    <span class="kt">double</span> <span class="n">sita_sot</span><span class="o">=</span><span
                            class="n">ACOS</span><span class="p">((</span><span class="n">so</span><span
                            class="o">*</span><span class="n">so</span><span class="o">+</span><span class="n">to</span><span
                            class="o">*</span><span class="n">to</span><span class="o">-</span><span class="n">st</span><span
                            class="o">*</span><span class="n">st</span><span class="p">)</span><span
                            class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="n">so</span><span
                            class="o">/</span><span class="n">to</span><span class="p">);</span>
    <span class="kt">double</span> <span class="n">sita_sto</span><span class="o">=</span><span
                            class="n">ACOS</span><span class="p">((</span><span class="n">st</span><span
                            class="o">*</span><span class="n">st</span><span class="o">+</span><span class="n">to</span><span
                            class="o">*</span><span class="n">to</span><span class="o">-</span><span class="n">so</span><span
                            class="o">*</span><span class="n">so</span><span class="p">)</span><span
                            class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="n">st</span><span
                            class="o">/</span><span class="n">to</span><span class="p">);</span>
    <span class="kt">double</span> <span class="n">sita_tso</span><span class="o">=</span><span
                            class="n">ACOS</span><span class="p">((</span><span class="n">st</span><span
                            class="o">*</span><span class="n">st</span><span class="o">+</span><span class="n">so</span><span
                            class="o">*</span><span class="n">so</span><span class="o">-</span><span class="n">to</span><span
                            class="o">*</span><span class="n">to</span><span class="p">)</span><span
                            class="o">/</span><span class="mi">2</span><span class="o">/</span><span class="n">st</span><span
                            class="o">/</span><span class="n">so</span><span class="p">);</span>


    <span class="kt">double</span> <span class="n">p</span><span class="o">=</span><span class="p">(</span><span
                            class="n">so</span><span class="o">+</span><span class="n">to</span><span class="o">+</span><span
                            class="n">st</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span
                            class="p">;</span>
    <span class="kt">double</span> <span class="n">d</span><span class="o">=</span><span class="n">SQRT</span><span
                            class="p">(</span><span class="n">p</span><span class="o">*</span><span
                            class="p">(</span><span class="n">p</span><span class="o">-</span><span
                            class="n">so</span><span class="p">)</span><span class="o">*</span><span
                            class="p">(</span><span class="n">p</span><span class="o">-</span><span
                            class="n">to</span><span class="p">)</span><span class="o">*</span><span
                            class="p">(</span><span class="n">p</span><span class="o">-</span><span
                            class="n">st</span><span class="p">))</span><span class="o">*</span><span
                            class="mi">2</span><span class="o">/</span><span class="n">st</span><span class="p">;</span>


    <span class="k">if</span><span class="p">(</span><span class="n">sita_sto</span><span class="o">&lt;</span><span
                            class="n">PI</span><span class="o">/</span><span class="mi">2</span><span class="o">&amp;&amp;</span><span
                            class="n">sita_tso</span><span class="o">&lt;</span><span class="n">PI</span><span
                            class="o">/</span><span class="mi">2</span><span class="o">&amp;&amp;</span><span class="n">d</span><span
                            class="o">&lt;</span><span class="n">o</span><span class="p">.</span><span
                            class="n">r</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">double</span> <span class="n">sita_soa1</span><span class="o">=</span><span
                            class="n">ACOS</span><span class="p">(</span><span class="n">o</span><span
                            class="p">.</span><span class="n">r</span><span class="o">/</span><span
                            class="n">so</span><span class="p">);</span>
        <span class="kt">double</span> <span class="n">sita_toa2</span><span class="o">=</span><span
                            class="n">ACOS</span><span class="p">(</span><span class="n">o</span><span
                            class="p">.</span><span class="n">r</span><span class="o">/</span><span
                            class="n">to</span><span class="p">);</span>

        <span class="kt">double</span> <span class="n">sita</span><span class="o">=</span><span
                            class="n">sita_sot</span><span class="o">-</span><span class="n">sita_soa1</span><span
                            class="o">-</span><span class="n">sita_toa2</span><span class="p">;</span>

        <span class="k">return</span> <span class="n">sita</span><span class="o">*</span><span class="n">o</span><span
                            class="p">.</span><span class="n">r</span> <span class="o">+</span> <span
                            class="n">so</span><span class="o">*</span><span class="n">sin</span><span
                            class="p">(</span><span class="n">sita_soa1</span><span class="p">)</span> <span
                            class="o">+</span> <span class="n">to</span><span class="o">*</span><span
                            class="n">sin</span><span class="p">(</span><span class="n">sita_toa2</span><span class="p">);</span>

    <span class="p">}</span>
    <span class="k">else</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="n">dis</span><span class="p">(</span><span class="n">s</span><span
                            class="p">,</span> <span class="n">t</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kt">double</span> <span class="n">solve</span><span class="p">(</span><span class="kt">double</span> <span
                            class="n">a</span><span class="p">,</span><span class="kt">double</span> <span
                            class="n">b</span><span class="p">,</span><span class="kt">double</span> <span
                            class="n">c</span><span class="p">,</span><span class="kt">double</span> <span
                            class="n">r</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Point</span> <span class="n">s</span><span class="p">,</span> <span class="n">t</span><span
                            class="p">;</span>
    <span class="n">Circle</span> <span class="n">o</span><span class="p">;</span>
    <span class="kt">double</span> <span class="n">arcsita</span> <span class="o">=</span> <span class="p">(</span><span
                            class="n">pow</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span
                            class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span
                            class="n">pow</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span
                            class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span
                            class="n">pow</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span
                            class="mi">2</span><span class="p">))</span> <span class="o">/</span> <span
                            class="mi">2</span> <span class="o">/</span> <span class="n">b</span> <span
                            class="o">/</span> <span class="n">c</span><span class="p">;</span>
    <span class="kt">double</span> <span class="n">sita</span> <span class="o">=</span> <span class="n">ACOS</span><span
                            class="p">(</span><span class="n">arcsita</span><span class="p">);</span>

    <span class="n">t</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span
                            class="n">c</span> <span class="o">*</span> <span class="n">cos</span><span
                            class="p">(</span><span class="n">sita</span><span class="p">);</span>
    <span class="n">t</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span
                            class="n">c</span> <span class="o">*</span> <span class="n">sin</span><span
                            class="p">(</span><span class="n">sita</span><span class="p">);</span>

    <span class="n">o</span><span class="p">.</span><span class="n">o</span><span class="p">.</span><span
                            class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span
                            class="p">;</span>
    <span class="n">o</span><span class="p">.</span><span class="n">o</span><span class="p">.</span><span
                            class="n">y</span> <span class="o">=</span> <span class="mi">0</span><span
                            class="p">;</span>
    <span class="n">o</span><span class="p">.</span><span class="n">r</span> <span class="o">=</span> <span
                            class="n">r</span><span class="p">;</span>

    <span class="n">s</span><span class="p">.</span><span class="n">x</span> <span class="o">=</span> <span
                            class="n">b</span><span class="p">;</span>
    <span class="n">s</span><span class="p">.</span><span class="n">y</span> <span class="o">=</span> <span
                            class="mi">0</span><span class="p">;</span>

    <span class="k">return</span> <span class="n">solve</span><span class="p">(</span><span class="n">s</span><span
                            class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">o</span><span
                            class="p">);</span>
<span class="p">}</span>


<span class="kt">int</span> <span class="n">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">T</span><span class="p">;</span>
    <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span
                            class="p">,</span> <span class="o">&amp;</span><span class="n">T</span><span
                            class="p">);</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">T</span><span class="o">--</span><span
                            class="p">)</span>
    <span class="p">{</span>
        <span class="n">Circle3D</span> <span class="n">o</span><span class="p">;</span>
        <span class="n">Point3D</span> <span class="n">s</span><span class="p">,</span> <span class="n">t</span><span
                            class="p">;</span>
        <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%lf%lf%lf%lf&quot;</span><span
                            class="p">,</span> <span class="o">&amp;</span><span class="n">o</span><span
                            class="p">.</span><span class="n">o</span><span class="p">.</span><span
                            class="n">x</span><span class="p">,</span> <span class="o">&amp;</span><span
                            class="n">o</span><span class="p">.</span><span class="n">o</span><span
                            class="p">.</span><span class="n">y</span><span class="p">,</span> <span
                            class="o">&amp;</span><span class="n">o</span><span class="p">.</span><span
                            class="n">o</span><span class="p">.</span><span class="n">z</span><span
                            class="p">,</span><span class="o">&amp;</span><span class="n">o</span><span
                            class="p">.</span><span class="n">r</span><span class="p">);</span>
        <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%lf%lf%lf&quot;</span><span class="p">,</span> <span
                            class="o">&amp;</span><span class="n">s</span><span class="p">.</span><span
                            class="n">x</span><span class="p">,</span> <span class="o">&amp;</span><span
                            class="n">s</span><span class="p">.</span><span class="n">y</span><span
                            class="p">,</span> <span class="o">&amp;</span><span class="n">s</span><span
                            class="p">.</span><span class="n">z</span><span class="p">);</span>
        <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%lf%lf%lf&quot;</span><span class="p">,</span> <span
                            class="o">&amp;</span><span class="n">t</span><span class="p">.</span><span
                            class="n">x</span><span class="p">,</span> <span class="o">&amp;</span><span
                            class="n">t</span><span class="p">.</span><span class="n">y</span><span
                            class="p">,</span> <span class="o">&amp;</span><span class="n">t</span><span
                            class="p">.</span><span class="n">z</span><span class="p">);</span>
        <span class="kt">double</span> <span class="n">a</span> <span class="o">=</span> <span class="n">dis</span><span
                            class="p">(</span><span class="n">s</span><span class="p">,</span> <span
                            class="n">t</span><span class="p">);</span>
        <span class="kt">double</span> <span class="n">b</span> <span class="o">=</span> <span class="n">dis</span><span
                            class="p">(</span><span class="n">s</span><span class="p">,</span> <span
                            class="n">o</span><span class="p">.</span><span class="n">o</span><span class="p">);</span>
        <span class="kt">double</span> <span class="n">c</span> <span class="o">=</span> <span class="n">dis</span><span
                            class="p">(</span><span class="n">t</span><span class="p">,</span> <span
                            class="n">o</span><span class="p">.</span><span class="n">o</span><span class="p">);</span>

        <span class="k">if</span><span class="p">(</span><span class="n">fabs</span><span class="p">(</span><span
                            class="n">a</span><span class="p">)</span><span class="o">&lt;</span><span
                            class="n">eps</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">&quot;0.0000000000</span><span
                            class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span>
        <span class="p">{</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%.8lf</span><span
                            class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">solve</span><span
                            class="p">(</span><span class="n">a</span><span class="p">,</span><span
                            class="n">b</span><span class="p">,</span><span class="n">c</span><span
                            class="p">,</span><span class="n">o</span><span class="p">.</span><span
                            class="n">r</span><span class="p">));</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre>

            </div>
            <div type="text/javadiv" src="/ACM/js/code_end.js"></div>


        </div>
    </div>

</div>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://fightinggg.github.io/landscape/about_sqrt_and_acos.html" data-id="clhvp2d7h00bazimc8ctf9nwx" data-title="about_sqrt_and_acos" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-ACM/老Blog迁移/problem/data_struct/bzoj2124" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/landscape/bzoj2124.html" class="article-date">
  <time class="dt-published" datetime="2019-08-05T15:23:08.000Z" itemprop="datePublished">2019-08-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/landscape/categories/ACM/">ACM</a>►<a class="article-category-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/">老Blog迁移</a>►<a class="article-category-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/">problem</a>►<a class="article-category-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/data-struct/">data_struct</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/landscape/bzoj2124.html">bzoj2124</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <div><a href="/next/bzoj2124.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">next</a><a href="/hexonext/bzoj2124.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">hexonext</a><a href="/butterfly/bzoj2124.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">butterfly</a><a href="/volantis/bzoj2124.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">volantis</a><a href="/yearn/bzoj2124.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yearn</a><a href="/yilia/bzoj2124.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yilia</a><a href="/shoka/bzoj2124.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">shoka</a><a href="/indigo/bzoj2124.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">indigo</a><a href="/apollo/bzoj2124.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">apollo</a><a href="/landscape/bzoj2124.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">landscape</a><a href="/cactus/bzoj2124.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">cactus</a><a href="/matery/bzoj2124.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">matery</a><a href="/icarus/bzoj2124.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">icarus</a><a href="/fluid/bzoj2124.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">fluid</a><a href="/material/bzoj2124.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">material</a><div style="clear: both;"></div></div>
转移自<a href='/ACM/problem/data_struct/bzoj2124.html'>老blog</a>

<div id="myweb">

    <!--    啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦-->
    <div type="text/javadiv" src="/ACM/js/up_and_right.js"></div>
    <!--    啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦-->

    <div id="left">
        <div id="left_in">
            <h1>
                <center><a href="https://acm.taifua.com/bzoj/p/2124.html" target="_blank">bzoj2124</a>
                </center>
            </h1>

            <div id="text">
                题目大意 :</br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;在一个很长(1e5)的串里面找一个长度为三的等比子序列</br>
            </div>


            <div type="text/javadiv" src="/ACM/js/solve_begin.js"></div>
            <div>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                考虑枚举中间值，想办法在lg的复杂度下解决单次枚举，初次考虑为依次比较中间值+d和中间值-d是否出现在这个值的前面和后面
                这里可以通过映射On完成，但是复杂度仍然达不到要求，然后我们考虑到这是一个排列，也就是说那些数字出现且仅出现一次，那我
                们用一个01数列来维护某个值是否出现在枚举值的前面和后面，这里假设出现在前面为0，后面为1，那什么时候最终答案是yes呢，当
                且仅当关于某个中间值+d和这个中间值-d在01数列中恰好一个为0一个为1，也就是说不相同，这里还是很复杂，我们考虑把01数列当作
                一个大数，那答案是yes就意味着这个大数关于中间值没有局部回文，好！现在我们暂停深入分析，总结一下，首先我们在枚举中间值
                构建01数列，然后我们在01数列中寻找关于中心值的局部回文是否不存在。再进一步分析：枚举中间值的过程中，01数列在做单点修改
                查询局部回文是否不成立的过程可以直接用字符串hash解决，题目到此已经解决。解法：线段树维护01数列正反hash值，如何正反？构
                造一个反向01数列，用俩线段树就行了。

            </div>
            <div type="text/javadiv" src="/ACM/js/solve_end.js"></div>


            <div type="text/javadiv" src="/ACM/js/code_begin.js"></div>
            <div>
                <pre><span class="cp">#include&lt;bits/stdc++.h&gt;</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="k">typedef</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">ll</span><span
                        class="p">;</span>

<span class="cp">#define ls (u&lt;&lt;1)</span>
<span class="cp">#define rs (u&lt;&lt;1|1)</span>
<span class="cp">#define ml ((l+r)&gt;&gt;1)</span>
<span class="cp">#define mr (ml+1)</span>
<span class="k">struct</span> <span class="n">segment_tree</span><span class="p">{</span>
    <span class="k">const</span> <span class="k">static</span> <span class="n">ll</span> <span
                        class="n">maxn</span><span class="o">=</span><span class="mf">2.1e4</span><span
                        class="p">;</span>
    <span class="k">const</span> <span class="k">static</span> <span class="n">ll</span> <span class="n">MOD</span><span
                        class="o">=</span><span class="mf">1e9</span><span class="o">+</span><span
                        class="mi">7</span><span class="p">;</span>
    <span class="k">static</span> <span class="n">ll</span> <span class="n">pow_2</span><span class="p">[</span><span
                        class="n">maxn</span><span class="p">];</span>
    <span class="n">ll</span> <span class="n">n</span><span class="p">;</span>
    <span class="n">ll</span> <span class="n">tree</span><span class="p">[</span><span class="n">maxn</span><span
                        class="o">&lt;&lt;</span><span class="mi">2</span><span class="p">];</span>

    <span class="k">static</span> <span class="kt">void</span> <span class="n">pow_ini</span><span class="p">(){</span>
        <span class="n">pow_2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span
                        class="o">=</span><span class="mi">1</span><span class="p">;</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span
                        class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span
                        class="o">&lt;</span><span class="n">maxn</span><span class="p">;</span><span class="n">i</span><span
                        class="o">++</span><span class="p">){</span>
            <span class="n">pow_2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span
                        class="o">=</span><span class="n">pow_2</span><span class="p">[</span><span
                        class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span
                        class="o">*</span><span class="mi">2</span><span class="p">;</span>
            <span class="k">if</span><span class="p">(</span><span class="n">pow_2</span><span class="p">[</span><span
                        class="n">i</span><span class="p">]</span><span class="o">&gt;</span><span
                        class="n">MOD</span><span class="p">)</span><span class="n">pow_2</span><span class="p">[</span><span
                        class="n">i</span><span class="p">]</span><span class="o">-=</span><span
                        class="n">MOD</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>


    <span class="kt">void</span> <span class="n">pushup</span><span class="p">(</span><span class="n">ll</span> <span
                        class="n">l</span> <span class="p">,</span><span class="n">ll</span> <span
                        class="n">r</span><span class="p">,</span><span class="n">ll</span> <span
                        class="n">u</span><span class="p">){</span>
        <span class="n">tree</span><span class="p">[</span><span class="n">u</span><span class="p">]</span><span
                        class="o">=</span><span class="p">(</span><span class="n">tree</span><span
                        class="p">[</span><span class="n">ls</span><span class="p">]</span><span class="o">*</span><span
                        class="n">pow_2</span><span class="p">[</span><span class="n">r</span><span
                        class="o">-</span><span class="p">((</span><span class="n">l</span><span class="o">+</span><span
                        class="n">r</span><span class="p">)</span><span class="o">&gt;&gt;</span><span
                        class="mi">1</span><span class="p">)]</span><span class="o">+</span><span
                        class="n">tree</span><span class="p">[</span><span class="n">rs</span><span
                        class="p">])</span><span class="o">%</span><span class="n">MOD</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kt">void</span> <span class="n">build</span><span class="p">(</span><span class="n">ll</span> <span
                        class="n">nn</span><span class="p">){</span>
        <span class="n">n</span><span class="o">=</span><span class="n">nn</span><span class="p">;</span>
        <span class="n">build</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span
                        class="n">n</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
    <span class="p">}</span>


    <span class="kt">void</span> <span class="n">build</span><span class="p">(</span><span class="n">ll</span> <span
                        class="n">l</span><span class="p">,</span><span class="n">ll</span> <span
                        class="n">r</span><span class="p">,</span><span class="n">ll</span> <span
                        class="n">u</span><span class="p">){</span>
        <span class="k">if</span><span class="p">(</span><span class="n">l</span><span class="o">==</span><span
                        class="n">r</span><span class="p">){</span>
            <span class="n">tree</span><span class="p">[</span><span class="n">u</span><span class="p">]</span><span
                        class="o">=</span><span class="mi">0</span><span class="p">;</span>
            <span class="k">return</span> <span class="p">;</span>
        <span class="p">}</span>

        <span class="n">build</span><span class="p">(</span><span class="n">l</span><span class="p">,</span><span
                        class="n">ml</span><span class="p">,</span><span class="n">ls</span><span class="p">);</span>
        <span class="n">build</span><span class="p">(</span><span class="n">mr</span><span class="p">,</span><span
                        class="n">r</span><span class="p">,</span><span class="n">rs</span><span class="p">);</span>
        <span class="n">pushup</span><span class="p">(</span><span class="n">l</span><span class="p">,</span><span
                        class="n">r</span><span class="p">,</span><span class="n">u</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="kt">void</span> <span class="n">update</span><span class="p">(</span><span class="n">ll</span> <span
                        class="n">q</span><span class="p">,</span><span class="n">ll</span> <span
                        class="n">d</span><span class="p">){</span>
        <span class="n">update</span><span class="p">(</span><span class="n">q</span><span class="p">,</span><span
                        class="n">d</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span
                        class="mi">1</span><span class="p">,</span><span class="n">n</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="kt">void</span> <span class="n">update</span><span class="p">(</span><span class="n">ll</span> <span
                        class="n">q</span><span class="p">,</span><span class="n">ll</span> <span
                        class="n">d</span><span class="p">,</span><span class="n">ll</span> <span
                        class="n">u</span><span class="p">,</span><span class="n">ll</span> <span
                        class="n">l</span><span class="p">,</span><span class="n">ll</span> <span
                        class="n">r</span><span class="p">){</span>
        <span class="k">if</span><span class="p">(</span><span class="n">q</span><span class="o">&lt;=</span><span
                        class="n">l</span><span class="o">&amp;&amp;</span><span class="n">r</span><span
                        class="o">&lt;=</span><span class="n">q</span><span class="p">){</span>
            <span class="n">tree</span><span class="p">[</span><span class="n">u</span><span class="p">]</span><span
                        class="o">=</span><span class="p">(</span><span class="n">tree</span><span
                        class="p">[</span><span class="n">u</span><span class="p">]</span><span class="o">+</span><span
                        class="n">d</span><span class="o">*</span><span class="n">pow_2</span><span
                        class="p">[</span><span class="n">r</span><span class="o">-</span><span class="n">q</span><span
                        class="p">])</span><span class="o">%</span><span class="n">MOD</span><span class="p">;</span>
            <span class="k">return</span> <span class="p">;</span>
        <span class="p">}</span>
        <span class="k">if</span><span class="p">(</span><span class="n">q</span><span class="o">&lt;=</span><span
                        class="n">ml</span><span class="p">)</span><span class="n">update</span><span class="p">(</span><span
                        class="n">q</span><span class="p">,</span><span class="n">d</span><span class="p">,</span><span
                        class="n">ls</span><span class="p">,</span><span class="n">l</span><span class="p">,</span><span
                        class="n">ml</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="n">q</span><span class="o">&gt;=</span><span
                        class="n">mr</span><span class="p">)</span><span class="n">update</span><span class="p">(</span><span
                        class="n">q</span><span class="p">,</span><span class="n">d</span><span class="p">,</span><span
                        class="n">rs</span><span class="p">,</span><span class="n">mr</span><span
                        class="p">,</span><span class="n">r</span><span class="p">);</span>
        <span class="n">pushup</span><span class="p">(</span><span class="n">l</span><span class="p">,</span><span
                        class="n">r</span><span class="p">,</span><span class="n">u</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">ll</span> <span class="n">query</span><span class="p">(</span><span class="n">ll</span> <span
                        class="n">ql</span><span class="p">,</span><span class="n">ll</span> <span
                        class="n">qr</span><span class="p">){</span>
        <span class="k">return</span> <span class="n">query</span><span class="p">(</span><span class="n">ql</span><span
                        class="p">,</span><span class="n">qr</span><span class="p">,</span><span
                        class="mi">1</span><span class="p">,</span><span class="mi">1</span><span
                        class="p">,</span><span class="n">n</span><span class="p">)</span><span class="o">%</span><span
                        class="n">MOD</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">ll</span> <span class="n">query</span><span class="p">(</span><span class="n">ll</span> <span
                        class="n">ql</span><span class="p">,</span><span class="n">ll</span> <span
                        class="n">qr</span><span class="p">,</span><span class="n">ll</span> <span
                        class="n">u</span><span class="p">,</span><span class="n">ll</span> <span
                        class="n">l</span><span class="p">,</span><span class="n">ll</span> <span
                        class="n">r</span><span class="p">){</span>
        <span class="k">if</span><span class="p">(</span><span class="n">ql</span><span class="o">&lt;=</span><span
                        class="n">l</span><span class="o">&amp;&amp;</span><span class="n">r</span><span
                        class="o">&lt;=</span><span class="n">qr</span><span class="p">)</span><span
                        class="k">return</span> <span class="n">tree</span><span class="p">[</span><span
                        class="n">u</span><span class="p">]</span><span class="o">*</span><span
                        class="n">pow_2</span><span class="p">[</span><span class="n">qr</span><span
                        class="o">-</span><span class="n">r</span><span class="p">]</span><span class="o">%</span><span
                        class="n">MOD</span><span class="p">;</span>
        <span class="n">ll</span> <span class="n">ret</span><span class="o">=</span><span class="mi">0</span><span
                        class="p">;</span>
        <span class="k">if</span><span class="p">(</span><span class="n">ql</span><span class="o">&lt;=</span><span
                        class="n">ml</span><span class="p">)</span><span class="n">ret</span><span
                        class="o">=</span><span class="n">ret</span><span class="o">+</span><span class="n">query</span><span
                        class="p">(</span><span class="n">ql</span><span class="p">,</span><span
                        class="n">qr</span><span class="p">,</span><span class="n">ls</span><span
                        class="p">,</span><span class="n">l</span><span class="p">,</span><span class="n">ml</span><span
                        class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="n">qr</span><span class="o">&gt;=</span><span
                        class="n">mr</span><span class="p">)</span><span class="n">ret</span><span
                        class="o">=</span><span class="n">ret</span><span class="o">+</span><span class="n">query</span><span
                        class="p">(</span><span class="n">ql</span><span class="p">,</span><span
                        class="n">qr</span><span class="p">,</span><span class="n">rs</span><span
                        class="p">,</span><span class="n">mr</span><span class="p">,</span><span class="n">r</span><span
                        class="p">);</span>
        <span class="k">return</span> <span class="n">ret</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span><span class="n">t1</span><span class="p">,</span><span class="n">t2</span><span
                        class="p">;</span>

<span class="n">ll</span> <span class="n">segment_tree</span><span class="o">::</span><span class="n">pow_2</span><span
                        class="p">[</span><span class="n">maxn</span><span class="p">];</span>

<span class="k">const</span> <span class="kt">int</span> <span class="n">maxn</span><span class="o">=</span><span
                        class="n">segment_tree</span><span class="o">::</span><span class="n">maxn</span><span
                        class="p">;</span>
<span class="kt">int</span> <span class="n">per</span><span class="p">[</span><span class="n">maxn</span><span
                        class="p">];</span>


<span class="kt">int</span> <span class="n">main</span><span class="p">(){</span>

    <span class="n">segment_tree</span><span class="o">::</span><span class="n">pow_ini</span><span class="p">();</span>

    <span class="kt">int</span> <span class="n">T</span><span class="p">;</span>
    <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span
                        class="p">,</span><span class="o">&amp;</span><span class="n">T</span><span class="p">);</span>
    <span class="k">while</span><span class="p">(</span><span class="n">T</span><span class="o">--</span><span
                        class="p">){</span>
        <span class="kt">int</span> <span class="n">n</span><span class="p">;</span>
        <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span
                        class="p">,</span><span class="o">&amp;</span><span class="n">n</span><span class="p">);</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span
                        class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span
                        class="o">&lt;</span><span class="n">n</span><span class="p">;</span><span
                        class="n">i</span><span class="o">++</span><span class="p">)</span><span
                        class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span
                        class="p">,</span><span class="n">per</span><span class="o">+</span><span
                        class="n">i</span><span class="p">);</span>

        <span class="n">t1</span><span class="p">.</span><span class="n">build</span><span class="p">(</span><span
                        class="n">n</span><span class="p">);</span>
        <span class="n">t2</span><span class="p">.</span><span class="n">build</span><span class="p">(</span><span
                        class="n">n</span><span class="p">);</span>

        <span class="n">string</span> <span class="n">ans</span><span class="o">=</span><span
                        class="s">&quot;N&quot;</span><span class="p">;</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">mid</span><span
                        class="o">=</span><span class="mi">1</span><span class="p">;</span><span
                        class="n">mid</span><span class="o">&lt;</span><span class="n">n</span><span
                        class="o">-</span><span class="mi">1</span><span class="p">;</span><span
                        class="n">mid</span><span class="o">++</span><span class="p">){</span>
            <span class="n">t1</span><span class="p">.</span><span class="n">update</span><span class="p">(</span><span
                        class="n">per</span><span class="p">[</span><span class="n">mid</span><span
                        class="o">-</span><span class="mi">1</span><span class="p">],</span><span
                        class="mi">1</span><span class="p">);</span>
            <span class="n">t2</span><span class="p">.</span><span class="n">update</span><span class="p">(</span><span
                        class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="o">-</span><span
                        class="n">per</span><span class="p">[</span><span class="n">mid</span><span
                        class="o">-</span><span class="mi">1</span><span class="p">],</span><span
                        class="mi">1</span><span class="p">);</span>

            <span class="kt">int</span> <span class="n">len</span><span class="o">=</span><span
                        class="n">min</span><span class="p">(</span><span class="n">per</span><span
                        class="p">[</span><span class="n">mid</span><span class="p">]</span><span
                        class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="n">n</span><span
                        class="o">-</span><span class="n">per</span><span class="p">[</span><span
                        class="n">mid</span><span class="p">]);</span>
            <span class="k">if</span><span class="p">(</span><span class="n">len</span><span class="o">==</span><span
                        class="mi">0</span><span class="p">)</span><span class="k">continue</span><span
                        class="p">;</span>

            <span class="k">if</span><span class="p">(</span><span class="n">t1</span><span class="p">.</span><span
                        class="n">query</span><span class="p">(</span><span class="n">per</span><span class="p">[</span><span
                        class="n">mid</span><span class="p">]</span><span class="o">-</span><span
                        class="n">len</span><span class="p">,</span><span class="n">per</span><span
                        class="p">[</span><span class="n">mid</span><span class="p">]</span><span
                        class="o">-</span><span class="mi">1</span><span class="p">)</span><span
                        class="o">!=</span><span class="n">t2</span><span class="p">.</span><span class="n">query</span><span
                        class="p">(</span>      <span class="n">n</span><span class="o">+</span><span
                        class="mi">1</span><span class="o">-</span><span class="p">(</span><span
                        class="n">per</span><span class="p">[</span><span class="n">mid</span><span
                        class="p">]</span><span class="o">+</span><span class="n">len</span><span
                        class="p">)</span>   <span class="p">,</span>   <span class="n">n</span><span class="o">+</span><span
                        class="mi">1</span><span class="o">-</span><span class="p">(</span><span
                        class="n">per</span><span class="p">[</span><span class="n">mid</span><span
                        class="p">]</span><span class="o">+</span><span class="mi">1</span><span
                        class="p">)</span> <span class="p">)){</span>
                <span class="n">ans</span><span class="o">=</span><span class="s">&quot;Y&quot;</span><span
                        class="p">;</span>
                <span class="k">break</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">ans</span><span
                        class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre>
            </div>
            <div type="text/javadiv" src="/ACM/js/code_end.js"></div>


        </div>
    </div>

</div>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://fightinggg.github.io/landscape/bzoj2124.html" data-id="clhvp2d7i00bbzimcej1kbvvo" data-title="bzoj2124" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-ACM/老Blog迁移/problem/data_struct/ACM-ICPC 2018 徐州赛区网络预赛 G Trace" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/landscape/ACM-ICPC%202018%20%E5%BE%90%E5%B7%9E%E8%B5%9B%E5%8C%BA%E7%BD%91%E7%BB%9C%E9%A2%84%E8%B5%9B%20G%20Trace.html" class="article-date">
  <time class="dt-published" datetime="2019-08-05T15:23:08.000Z" itemprop="datePublished">2019-08-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/landscape/categories/ACM/">ACM</a>►<a class="article-category-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/">老Blog迁移</a>►<a class="article-category-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/">problem</a>►<a class="article-category-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/data-struct/">data_struct</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/landscape/ACM-ICPC%202018%20%E5%BE%90%E5%B7%9E%E8%B5%9B%E5%8C%BA%E7%BD%91%E7%BB%9C%E9%A2%84%E8%B5%9B%20G%20Trace.html">ACM-ICPC 2018 徐州赛区网络预赛 G Trace</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <div><a href="/next/ACM-ICPC 2018 徐州赛区网络预赛 G Trace.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">next</a><a href="/hexonext/ACM-ICPC 2018 徐州赛区网络预赛 G Trace.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">hexonext</a><a href="/butterfly/ACM-ICPC 2018 徐州赛区网络预赛 G Trace.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">butterfly</a><a href="/volantis/ACM-ICPC 2018 徐州赛区网络预赛 G Trace.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">volantis</a><a href="/yearn/ACM-ICPC 2018 徐州赛区网络预赛 G Trace.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yearn</a><a href="/yilia/ACM-ICPC 2018 徐州赛区网络预赛 G Trace.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yilia</a><a href="/shoka/ACM-ICPC 2018 徐州赛区网络预赛 G Trace.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">shoka</a><a href="/indigo/ACM-ICPC 2018 徐州赛区网络预赛 G Trace.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">indigo</a><a href="/apollo/ACM-ICPC 2018 徐州赛区网络预赛 G Trace.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">apollo</a><a href="/landscape/ACM-ICPC 2018 徐州赛区网络预赛 G Trace.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">landscape</a><a href="/cactus/ACM-ICPC 2018 徐州赛区网络预赛 G Trace.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">cactus</a><a href="/matery/ACM-ICPC 2018 徐州赛区网络预赛 G Trace.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">matery</a><a href="/icarus/ACM-ICPC 2018 徐州赛区网络预赛 G Trace.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">icarus</a><a href="/fluid/ACM-ICPC 2018 徐州赛区网络预赛 G Trace.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">fluid</a><a href="/material/ACM-ICPC 2018 徐州赛区网络预赛 G Trace.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">material</a><div style="clear: both;"></div></div>
转移自<a href='/ACM/problem/data_struct/ACM-ICPC 2018 徐州赛区网络预赛 G Trace.html'>老blog</a>

<div type="text/javadiv" src="/ACM/js/web_begin.js"></div>
<div>
        <h1>
                <center><a href="https://nanti.jisuanke.com/t/A2006" target="_blank">ACM-ICPC 2018 徐州赛区网络预赛 G. Trace</a>
                </center>
        </h1>

        <div id="text">
                题目大意 :<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;有n波海浪，每个海浪是一个以(0,0)为左下角(x,y)为右上角的长方形，每一波海浪会留下自己
                的长方形边界为海浪残留，同时会冲刷掉长方形内部的其他海浪残留，问n波之后，留下来的海浪边界总长度为多少n<50000 <br>
        </div>


        <div type="text/javadiv" src="/ACM/js/solve_begin.js"></div>
        <div>
                &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;逆序考虑海浪，维护两个函数 col_limit(x)和row_limit(y)
                分别表示第x列的前col_limit(x)行的残留会被后面的海浪冲刷掉，第y行的前row_limit(y)列的残留会被后面的冲刷掉。
                我们可以根据这两个函数转移出第i个海浪对答案的贡献，然后我们考虑，如何更新出i-1下的正确col_limit函数和row_limit函数，容易发现，这是一个区间取最值操作。<br>

                &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;现在来总结一下，对于这两个函数，我们有两种操作： 区间取最值，点查询。->
                用线段树维护即可<br>
        </div>
        <div type="text/javadiv" src="/ACM/js/solve_end.js"></div>


        <div type="text/javadiv" src="/ACM/js/code_begin.js"></div>
        <div>
                <pre><span class="cp">#include&lt;bits/stdc++.h&gt;</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="cp">#define ml ((l+r)&gt;&gt;1)</span>
<span class="cp">#define mr (ml+1)</span>
<span class="k">struct</span> <span class="n">seg_tree</span><span class="p">{</span><span class="c1">// 5e4*50*4=5e4*200=1e7</span>
    <span class="k">static</span> <span class="k">const</span> <span class="kt">int</span> <span
                    class="n">maxn</span><span class="o">=</span><span class="mf">5e4</span><span
                    class="o">+</span><span class="mi">5</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">mxx</span><span class="p">[</span><span class="n">maxn</span><span
                    class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="mi">25</span><span
                    class="p">],</span><span class="n">lz</span><span class="p">[</span><span class="n">maxn</span><span
                    class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="mi">25</span><span
                    class="p">],</span><span class="n">ls</span><span class="p">[</span><span class="n">maxn</span><span
                    class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="mi">25</span><span
                    class="p">],</span><span class="n">rs</span><span class="p">[</span><span class="n">maxn</span><span
                    class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="mi">25</span><span
                    class="p">],</span><span class="n">tot</span><span class="p">;</span>

    <span class="kt">void</span> <span class="n">push_son</span><span class="p">(</span><span class="kt">int</span><span
                    class="o">&amp;</span><span class="n">son</span><span class="p">,</span><span class="kt">int</span> <span
                    class="n">l</span><span class="p">,</span><span class="kt">int</span> <span class="n">r</span><span
                    class="p">,</span><span class="kt">int</span> <span class="n">lzrt</span><span class="p">){</span>
        <span class="k">if</span><span class="p">(</span><span class="n">son</span><span class="o">==</span><span
                    class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">son</span><span class="o">=++</span><span class="n">tot</span><span class="p">;</span>
            <span class="n">mxx</span><span class="p">[</span><span class="n">son</span><span class="p">]</span><span
                    class="o">=</span><span class="mi">0</span><span class="p">;</span>
            <span class="n">lz</span><span class="p">[</span><span class="n">son</span><span class="p">]</span><span
                    class="o">=-</span><span class="mi">1</span><span class="p">;</span>
            <span class="n">ls</span><span class="p">[</span><span class="n">son</span><span class="p">]</span><span
                    class="o">=</span><span class="mi">0</span><span class="p">;</span>
            <span class="n">rs</span><span class="p">[</span><span class="n">son</span><span class="p">]</span><span
                    class="o">=</span><span class="mi">0</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">if</span><span class="p">(</span><span class="n">lzrt</span><span class="o">!=-</span><span
                    class="mi">1</span><span class="p">){</span>
            <span class="n">mxx</span><span class="p">[</span><span class="n">son</span><span class="p">]</span><span
                    class="o">=</span><span class="n">max</span><span class="p">(</span><span class="n">mxx</span><span
                    class="p">[</span><span class="n">son</span><span class="p">],</span><span
                    class="n">lzrt</span><span class="p">);</span>
            <span class="n">lz</span><span class="p">[</span><span class="n">son</span><span class="p">]</span><span
                    class="o">=</span><span class="n">max</span><span class="p">(</span><span class="n">lz</span><span
                    class="p">[</span><span class="n">son</span><span class="p">],</span><span
                    class="n">lzrt</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="kt">void</span> <span class="n">push_down</span><span class="p">(</span><span
                    class="kt">int</span> <span class="n">rt</span><span class="p">,</span><span
                    class="kt">int</span> <span class="n">l</span><span class="p">,</span><span
                    class="kt">int</span> <span class="n">r</span><span class="p">){</span>
        <span class="n">push_son</span><span class="p">(</span><span class="n">ls</span><span class="p">[</span><span
                    class="n">rt</span><span class="p">],</span><span class="n">l</span><span class="p">,</span><span
                    class="n">ml</span><span class="p">,</span><span class="n">lz</span><span class="p">[</span><span
                    class="n">rt</span><span class="p">]);</span>
        <span class="n">push_son</span><span class="p">(</span><span class="n">rs</span><span class="p">[</span><span
                    class="n">rt</span><span class="p">],</span><span class="n">mr</span><span class="p">,</span><span
                    class="n">r</span><span class="p">,</span><span class="n">lz</span><span class="p">[</span><span
                    class="n">rt</span><span class="p">]);</span>
        <span class="n">lz</span><span class="p">[</span><span class="n">rt</span><span class="p">]</span><span
                    class="o">=-</span><span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kt">void</span> <span class="n">push_up</span><span class="p">(</span><span class="kt">int</span> <span
                    class="n">rt</span><span class="p">,</span><span class="kt">int</span> <span class="n">l</span><span
                    class="p">,</span><span class="kt">int</span> <span class="n">r</span><span class="p">){</span>
        <span class="c1">// nothing</span>
    <span class="p">}</span>
    <span class="kt">void</span> <span class="n">build</span><span class="p">(</span><span class="kt">int</span> <span
                    class="n">rt</span><span class="p">,</span><span class="kt">int</span> <span class="n">l</span><span
                    class="p">,</span><span class="kt">int</span> <span class="n">r</span><span class="p">){</span><span
                    class="c1">//1 1 n</span>
        <span class="n">rt</span><span class="o">=</span><span class="n">tot</span><span class="o">=</span><span
                    class="mi">0</span><span class="p">;</span>
        <span class="n">push_son</span><span class="p">(</span><span class="n">rt</span><span class="p">,</span><span
                    class="n">l</span><span class="p">,</span><span class="n">r</span><span class="p">,</span><span
                    class="mi">0</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="kt">void</span> <span class="n">update</span><span class="p">(</span><span class="kt">int</span> <span
                    class="n">rt</span><span class="p">,</span><span class="kt">int</span> <span class="n">l</span><span
                    class="p">,</span><span class="kt">int</span> <span class="n">r</span><span class="p">,</span><span
                    class="kt">int</span> <span class="n">ql</span><span class="p">,</span><span
                    class="kt">int</span> <span class="n">qr</span><span class="p">,</span><span
                    class="kt">int</span> <span class="n">d</span><span class="p">){</span>
        <span class="k">if</span><span class="p">(</span><span class="n">ql</span><span class="o">&lt;=</span><span
                    class="n">l</span><span class="o">&amp;&amp;</span><span class="n">r</span><span
                    class="o">&lt;=</span><span class="n">qr</span><span class="p">){</span>
            <span class="n">push_son</span><span class="p">(</span><span class="n">rt</span><span
                    class="p">,</span><span class="n">l</span><span class="p">,</span><span class="n">r</span><span
                    class="p">,</span><span class="n">d</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span><span class="p">{</span>
            <span class="n">push_down</span><span class="p">(</span><span class="n">rt</span><span
                    class="p">,</span><span class="n">l</span><span class="p">,</span><span class="n">r</span><span
                    class="p">);</span>
            <span class="k">if</span><span class="p">(</span><span class="n">ml</span><span class="o">&gt;=</span><span
                    class="n">ql</span><span class="p">)</span> <span class="n">update</span><span
                    class="p">(</span><span class="n">ls</span><span class="p">[</span><span class="n">rt</span><span
                    class="p">],</span><span class="n">l</span><span class="p">,</span><span class="n">ml</span><span
                    class="p">,</span><span class="n">ql</span><span class="p">,</span><span class="n">qr</span><span
                    class="p">,</span><span class="n">d</span><span class="p">);</span>
            <span class="k">if</span><span class="p">(</span><span class="n">mr</span><span class="o">&lt;=</span><span
                    class="n">qr</span><span class="p">)</span> <span class="n">update</span><span
                    class="p">(</span><span class="n">rs</span><span class="p">[</span><span class="n">rt</span><span
                    class="p">],</span><span class="n">mr</span><span class="p">,</span><span class="n">r</span><span
                    class="p">,</span><span class="n">ql</span><span class="p">,</span><span class="n">qr</span><span
                    class="p">,</span><span class="n">d</span><span class="p">);</span>
            <span class="n">push_up</span><span class="p">(</span><span class="n">rt</span><span class="p">,</span><span
                    class="n">l</span><span class="p">,</span><span class="n">r</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="kt">int</span> <span class="n">query</span><span class="p">(</span><span class="kt">int</span> <span
                    class="n">rt</span><span class="p">,</span><span class="kt">int</span> <span class="n">l</span><span
                    class="p">,</span><span class="kt">int</span> <span class="n">r</span><span class="p">,</span><span
                    class="kt">int</span> <span class="n">q</span><span class="p">){</span>
        <span class="k">if</span><span class="p">(</span><span class="n">l</span><span class="o">==</span><span
                    class="n">r</span><span class="p">){</span>
            <span class="k">return</span> <span class="n">mxx</span><span class="p">[</span><span
                    class="n">rt</span><span class="p">];</span>
        <span class="p">}</span>
        <span class="k">else</span><span class="p">{</span>
            <span class="n">push_down</span><span class="p">(</span><span class="n">rt</span><span
                    class="p">,</span><span class="n">l</span><span class="p">,</span><span class="n">r</span><span
                    class="p">);</span>
            <span class="k">if</span><span class="p">(</span><span class="n">ml</span><span class="o">&gt;=</span><span
                    class="n">q</span><span class="p">)</span> <span class="k">return</span> <span
                    class="n">query</span><span class="p">(</span><span class="n">ls</span><span class="p">[</span><span
                    class="n">rt</span><span class="p">],</span><span class="n">l</span><span class="p">,</span><span
                    class="n">ml</span><span class="p">,</span><span class="n">q</span><span class="p">);</span>
            <span class="k">else</span> <span class="k">return</span> <span class="n">query</span><span
                    class="p">(</span><span class="n">rs</span><span class="p">[</span><span class="n">rt</span><span
                    class="p">],</span><span class="n">mr</span><span class="p">,</span><span class="n">r</span><span
                    class="p">,</span><span class="n">q</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span><span class="n">row</span><span class="p">,</span><span class="n">col</span><span
                    class="p">;</span>
<span class="c1">//2e7*32bit=2e7*4b=2e4*4kb=20*4mb=80mb   ok</span>

<span class="k">const</span> <span class="kt">int</span> <span class="n">maxn</span><span class="o">=</span><span
                    class="mf">5e4</span><span class="o">+</span><span class="mi">5</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">x</span><span class="p">[</span><span class="n">maxn</span><span class="p">],</span><span
                    class="n">y</span><span class="p">[</span><span class="n">maxn</span><span class="p">];</span>
<span class="kt">int</span> <span class="n">main</span><span class="p">(){</span>
    <span class="kt">int</span> <span class="n">n</span><span class="p">;</span>
    <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span
                    class="p">,</span><span class="o">&amp;</span><span class="n">n</span><span class="p">);</span>
    <span class="n">row</span><span class="p">.</span><span class="n">build</span><span class="p">(</span><span
                    class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span
                    class="mf">1e7</span><span class="o">+</span><span class="mi">5</span><span class="p">);</span>
    <span class="n">col</span><span class="p">.</span><span class="n">build</span><span class="p">(</span><span
                    class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span
                    class="mf">1e7</span><span class="o">+</span><span class="mi">5</span><span class="p">);</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span
                    class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span
                    class="o">&lt;=</span><span class="n">n</span><span class="p">;</span><span class="n">i</span><span
                    class="o">++</span><span class="p">)</span> <span class="n">scanf</span><span
                    class="p">(</span><span class="s">&quot;%d%d&quot;</span><span class="p">,</span><span
                    class="n">x</span><span class="o">+</span><span class="n">i</span><span class="p">,</span><span
                    class="n">y</span><span class="o">+</span><span class="n">i</span><span class="p">);</span>
    <span class="kt">long</span> <span class="kt">long</span> <span class="n">ans</span><span class="o">=</span><span
                    class="mi">0</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span
                    class="o">=</span><span class="n">n</span><span class="p">;</span><span class="n">i</span><span
                    class="o">&gt;=</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span
                    class="o">--</span><span class="p">){</span>
        <span class="kt">int</span> <span class="n">rowlimit</span><span class="o">=</span><span
                    class="n">row</span><span class="p">.</span><span class="n">query</span><span
                    class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span
                    class="p">,</span><span class="mf">1e7</span><span class="o">+</span><span class="mi">5</span><span
                    class="p">,</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span
                    class="p">]);</span>
        <span class="kt">int</span> <span class="n">collimit</span><span class="o">=</span><span
                    class="n">col</span><span class="p">.</span><span class="n">query</span><span
                    class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span
                    class="p">,</span><span class="mf">1e7</span><span class="o">+</span><span class="mi">5</span><span
                    class="p">,</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span
                    class="p">]);</span>
        <span class="k">if</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span
                    class="n">i</span><span class="p">]</span><span class="o">&gt;</span><span class="n">rowlimit</span><span
                    class="p">)</span> <span class="n">ans</span><span class="o">+=</span><span class="n">x</span><span
                    class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span
                    class="n">rowlimit</span><span class="p">;</span>
        <span class="k">if</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span
                    class="n">i</span><span class="p">]</span><span class="o">&gt;</span><span class="n">collimit</span><span
                    class="p">)</span> <span class="n">ans</span><span class="o">+=</span><span class="n">y</span><span
                    class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span
                    class="n">collimit</span><span class="p">;</span>
        <span class="n">row</span><span class="p">.</span><span class="n">update</span><span class="p">(</span><span
                    class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span
                    class="mf">1e7</span><span class="o">+</span><span class="mi">5</span><span class="p">,</span><span
                    class="mi">1</span><span class="p">,</span><span class="n">y</span><span class="p">[</span><span
                    class="n">i</span><span class="p">],</span><span class="n">x</span><span class="p">[</span><span
                    class="n">i</span><span class="p">]);</span>
        <span class="n">col</span><span class="p">.</span><span class="n">update</span><span class="p">(</span><span
                    class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span
                    class="mf">1e7</span><span class="o">+</span><span class="mi">5</span><span class="p">,</span><span
                    class="mi">1</span><span class="p">,</span><span class="n">x</span><span class="p">[</span><span
                    class="n">i</span><span class="p">],</span><span class="n">y</span><span class="p">[</span><span
                    class="n">i</span><span class="p">]);</span>
    <span class="p">}</span>
    <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">ans</span><span
                    class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</pre>

        </div>
        <div type="text/javadiv" src="/ACM/js/code_end.js"></div>
</div>
<div type="text/javadiv" src="/ACM/js/web_end.js"></div>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://fightinggg.github.io/landscape/ACM-ICPC%202018%20%E5%BE%90%E5%B7%9E%E8%B5%9B%E5%8C%BA%E7%BD%91%E7%BB%9C%E9%A2%84%E8%B5%9B%20G%20Trace.html" data-id="clhvp2d7i00bczimc5ohfegvz" data-title="ACM-ICPC 2018 徐州赛区网络预赛 G Trace" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-ACM/老Blog迁移/problem/data_struct/hdu5726" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/landscape/hdu5726.html" class="article-date">
  <time class="dt-published" datetime="2019-08-05T15:23:08.000Z" itemprop="datePublished">2019-08-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/landscape/categories/ACM/">ACM</a>►<a class="article-category-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/">老Blog迁移</a>►<a class="article-category-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/">problem</a>►<a class="article-category-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/data-struct/">data_struct</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/landscape/hdu5726.html">hdu5726</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <div><a href="/next/hdu5726.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">next</a><a href="/hexonext/hdu5726.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">hexonext</a><a href="/butterfly/hdu5726.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">butterfly</a><a href="/volantis/hdu5726.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">volantis</a><a href="/yearn/hdu5726.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yearn</a><a href="/yilia/hdu5726.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yilia</a><a href="/shoka/hdu5726.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">shoka</a><a href="/indigo/hdu5726.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">indigo</a><a href="/apollo/hdu5726.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">apollo</a><a href="/landscape/hdu5726.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">landscape</a><a href="/cactus/hdu5726.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">cactus</a><a href="/matery/hdu5726.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">matery</a><a href="/icarus/hdu5726.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">icarus</a><a href="/fluid/hdu5726.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">fluid</a><a href="/material/hdu5726.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">material</a><div style="clear: both;"></div></div>
转移自<a href='/ACM/problem/data_struct/hdu5726.html'>老blog</a>

<div id="myweb">

    <!--    啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦-->
    <div type="text/javadiv" src="/ACM/js/up_and_right.js"></div>
    <!--    啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦啦-->

    <div id="left">
        <div id="left_in">
            <h1>
                <center><a href="http://acm.hdu.edu.cn/showproblem.php?pid=5726" target="_blank">hdu5726</a></center>
            </h1>

            <div id="text">
                题目难点 :</br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;给你一个不变的序列，输入很多k，输出区间gcd等于k的区间的数量。</br>
            </div>

            <div type="text/javadiv" src="/ACM/js/solve_begin.js"></div>
            <div>
                对所有区间计数，枚举左端点，二分右端点即可。 </br>
                理论依据: 以任意左端点为起点的所有区间的gcd的种类不会超过这个点的值的因子的个数。</br>
                细节: 区间询问使用ST表.</br>
            </div>
            <div type="text/javadiv" src="/ACM/js/solve_end.js"></div>


            <div type="text/javadiv" src="/ACM/js/code_begin.js"></div>
            <div>
                <pre><span class="cp">#include&lt;bits/stdc++.h&gt;</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="cp">#define ll long long</span>

<span class="k">const</span> <span class="n">ll</span> <span class="n">maxn</span><span class="o">=</span><span
                                    class="mf">1e5</span><span class="o">+</span><span class="mi">5</span><span
                                    class="p">;</span>
<span class="n">map</span><span class="o">&lt;</span><span class="n">ll</span><span class="p">,</span><span
                                    class="n">ll</span><span class="o">&gt;</span><span class="n">mp</span><span
                                    class="p">;</span>
<span class="n">ll</span> <span class="n">t</span><span class="p">,</span><span class="n">n</span><span
                                    class="p">,</span><span class="n">q</span><span class="p">;</span>
<span class="n">ll</span> <span class="n">a</span><span class="p">[</span><span class="n">maxn</span><span
                                    class="p">];</span>

<span class="n">ll</span> <span class="n">mm</span><span class="p">[</span><span class="n">maxn</span><span
                                    class="p">],</span><span class="n">rmq</span><span class="p">[</span><span
                                    class="n">maxn</span><span class="p">][</span><span class="mi">20</span><span
                                    class="p">];</span>

<span class="kt">void</span> <span class="n">st</span><span class="p">(</span><span class="n">ll</span> <span class="n">l</span><span
                                    class="p">,</span><span class="n">ll</span> <span class="n">r</span><span class="p">){</span>
    <span class="n">mm</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span
                                    class="o">=-</span><span class="mi">1</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="n">ll</span> <span class="n">i</span><span class="o">=</span><span
                                    class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span
                                    class="n">maxn</span><span class="p">;</span><span class="n">i</span><span
                                    class="o">++</span><span class="p">){</span>
        <span class="n">mm</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span
                                    class="o">=</span><span class="p">((</span><span class="n">i</span><span class="o">&amp;</span><span
                                    class="n">i</span><span class="o">-</span><span class="mi">1</span><span
                                    class="p">)</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span><span
                                    class="o">?</span><span class="n">mm</span><span class="p">[</span><span
                                    class="n">i</span><span class="o">-</span><span class="mi">1</span><span
                                    class="p">]</span><span class="o">+</span><span class="mi">1</span><span
                                    class="o">:</span><span class="n">mm</span><span class="p">[</span><span
                                    class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">];</span>
    <span class="p">}</span><span class="c1">//如果卡常，可以放外面</span>
    <span class="k">for</span><span class="p">(</span><span class="n">ll</span> <span class="n">i</span><span class="o">=</span><span
                                    class="n">l</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;=</span><span
                                    class="n">r</span><span class="p">;</span><span class="n">i</span><span
                                    class="o">++</span><span class="p">)</span><span class="n">rmq</span><span
                                    class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span
                                    class="p">]</span><span class="o">=</span><span class="n">a</span><span
                                    class="p">[</span><span class="n">i</span><span class="p">];</span>
    <span class="k">for</span><span class="p">(</span><span class="n">ll</span> <span class="n">j</span><span class="o">=</span><span
                                    class="mi">1</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;=</span><span
                                    class="n">mm</span><span class="p">[</span><span class="n">r</span><span
                                    class="o">-</span><span class="n">l</span><span class="o">+</span><span
                                    class="mi">1</span><span class="p">];</span><span class="n">j</span><span class="o">++</span><span
                                    class="p">)</span>
        <span class="k">for</span><span class="p">(</span><span class="n">ll</span> <span class="n">i</span><span
                                    class="o">=</span><span class="n">l</span><span class="p">;</span><span
                                    class="n">i</span><span class="o">+</span><span class="p">(</span><span
                                    class="mi">1</span><span class="o">&lt;&lt;</span><span class="n">j</span><span
                                    class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="o">&lt;=</span><span
                                    class="n">r</span><span class="p">;</span><span class="n">i</span><span
                                    class="o">++</span><span class="p">)</span>
            <span class="n">rmq</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span
                                    class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">__gcd</span><span
                                    class="p">(</span><span class="n">rmq</span><span class="p">[</span><span class="n">i</span><span
                                    class="p">][</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span
                                    class="p">],</span><span class="n">rmq</span><span class="p">[</span><span
                                    class="n">i</span><span class="o">+</span><span class="p">(</span><span
                                    class="mi">1</span><span class="o">&lt;&lt;</span><span class="p">(</span><span
                                    class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">))][</span><span
                                    class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]);</span>
<span class="p">}</span>
<span class="n">ll</span> <span class="n">query</span><span class="p">(</span><span class="n">ll</span> <span class="n">l</span><span
                                    class="p">,</span><span class="n">ll</span> <span class="n">r</span><span class="p">){</span>
    <span class="n">ll</span> <span class="n">k</span><span class="o">=</span><span class="n">mm</span><span
                                    class="p">[</span><span class="n">r</span><span class="o">-</span><span
                                    class="n">l</span><span class="o">+</span><span class="mi">1</span><span class="p">];</span>
    <span class="k">return</span> <span class="n">__gcd</span><span class="p">(</span><span class="n">rmq</span><span
                                    class="p">[</span><span class="n">l</span><span class="p">][</span><span
                                    class="n">k</span><span class="p">],</span><span class="n">rmq</span><span
                                    class="p">[</span><span class="n">r</span><span class="o">-</span><span
                                    class="p">(</span><span class="mi">1</span><span class="o">&lt;&lt;</span><span
                                    class="n">k</span><span class="p">)</span><span class="o">+</span><span
                                    class="mi">1</span><span class="p">][</span><span class="n">k</span><span class="p">]);</span>
<span class="p">}</span>


<span class="kt">void</span> <span class="n">ini</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">for</span><span class="p">(</span><span class="n">ll</span> <span class="n">i</span><span class="o">=</span><span
                                    class="mi">1</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;=</span><span
                                    class="n">n</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span
                                    class="p">)</span>
    <span class="p">{</span>
        <span class="n">ll</span> <span class="n">l</span><span class="p">,</span><span class="n">r</span><span
                                    class="o">=</span><span class="n">i</span><span class="o">-</span><span
                                    class="mi">1</span><span class="p">;</span>

       <span class="c1">// cout&lt;&lt;i&lt;&lt;&quot;:&quot;;</span>
       <span class="c1">///100</span>
        <span class="k">while</span><span class="p">(</span><span class="n">r</span><span class="o">&lt;</span><span
                                    class="n">n</span><span class="p">){</span><span class="c1">//  r : gcd[i..r]!=gcd[i,r+1]</span>
           <span class="c1">// cout&lt;&lt;r&lt;&lt;&quot; &quot;;</span>
            <span class="n">ll</span> <span class="n">pre_r</span><span class="o">=</span><span class="n">r</span><span
                                    class="p">;</span>
            <span class="n">l</span><span class="o">=</span><span class="n">r</span><span class="o">+</span><span
                                    class="mi">2</span><span class="p">,</span><span class="n">r</span><span
                                    class="o">=</span><span class="n">n</span><span class="o">+</span><span
                                    class="mi">1</span><span class="p">;</span>
            <span class="n">ll</span> <span class="n">gcd</span><span class="o">=</span><span
                                    class="n">query</span><span class="p">(</span><span class="n">i</span><span
                                    class="p">,</span><span class="n">l</span><span class="o">-</span><span
                                    class="mi">1</span><span class="p">);</span>
            <span class="c1">///lg</span>
            <span class="k">while</span><span class="p">(</span><span class="n">l</span><span class="o">&lt;</span><span
                                    class="n">r</span><span class="p">){</span>
                <span class="n">ll</span> <span class="n">mid</span><span class="o">=</span><span
                                    class="p">(</span><span class="n">l</span><span class="o">+</span><span
                                    class="n">r</span><span class="p">)</span><span class="o">&gt;&gt;</span><span
                                    class="mi">1</span><span class="p">;</span>
                <span class="c1">///lg</span>
                <span class="k">if</span><span class="p">(</span><span class="n">mid</span><span
                                    class="o">&gt;</span><span class="n">n</span><span class="o">||</span><span
                                    class="n">gcd</span><span class="o">!=</span><span class="n">query</span><span
                                    class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">mid</span><span
                                    class="p">)){</span>
                    <span class="n">r</span><span class="o">=</span><span class="n">mid</span><span
                                    class="p">;</span><span class="c1">// query(i,r)!=gcd</span>
                <span class="p">}</span>
                <span class="k">else</span> <span class="n">l</span><span class="o">=</span><span
                                    class="n">mid</span><span class="o">+</span><span class="mi">1</span><span
                                    class="p">;</span><span class="c1">//query(i,l-1)=gcd</span>
            <span class="p">}</span><span class="c1">// query(i,l-1)=gcd&amp;&amp;query(i,l)!=gcd</span>
            <span class="n">mp</span><span class="p">[</span><span class="n">gcd</span><span class="p">]</span><span
                                    class="o">+=</span><span class="p">(</span><span class="n">l</span><span
                                    class="o">-</span><span class="mi">1</span><span class="p">)</span><span
                                    class="o">-</span><span class="p">(</span><span class="n">pre_r</span><span
                                    class="o">+</span><span class="mi">1</span><span class="p">)</span><span
                                    class="o">+</span><span class="mi">1</span><span class="p">;</span>
            <span class="n">r</span><span class="o">=</span><span class="n">l</span><span class="o">-</span><span
                                    class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
      <span class="c1">//  cout&lt;&lt;endl;</span>
    <span class="p">}</span>

<span class="p">}</span>


<span class="kt">int</span> <span class="n">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%lld&quot;</span><span
                                    class="p">,</span><span class="o">&amp;</span><span class="n">t</span><span
                                    class="p">);</span>
    <span class="k">for</span><span class="p">(</span><span class="n">ll</span> <span class="n">time</span><span
                                    class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">time</span><span
                                    class="o">&lt;=</span><span class="n">t</span><span class="p">;</span> <span
                                    class="n">time</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">mp</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span>
        <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%lld&quot;</span><span
                                    class="p">,</span><span class="o">&amp;</span><span class="n">n</span><span
                                    class="p">);</span>
        <span class="k">for</span><span class="p">(</span><span class="n">ll</span> <span class="n">i</span><span
                                    class="o">=</span><span class="mi">1</span><span class="p">;</span><span
                                    class="n">i</span><span class="o">&lt;=</span><span class="n">n</span><span
                                    class="p">;</span><span class="n">i</span><span class="o">++</span><span
                                    class="p">)</span><span class="n">scanf</span><span class="p">(</span><span
                                    class="s">&quot;%lld&quot;</span><span class="p">,</span><span
                                    class="n">a</span><span class="o">+</span><span class="n">i</span><span
                                    class="p">);</span>

        <span class="n">st</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span
                                    class="n">n</span><span class="p">);</span>
        <span class="n">ini</span><span class="p">();</span>


        <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%lld&quot;</span><span
                                    class="p">,</span><span class="o">&amp;</span><span class="n">q</span><span
                                    class="p">);</span>
        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Case #%lld:</span><span
                                    class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span
                                    class="n">time</span><span class="p">);</span>
        <span class="k">for</span><span class="p">(</span><span class="n">ll</span> <span class="n">i</span><span
                                    class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="n">i</span><span
                                    class="o">&lt;=</span><span class="n">q</span><span class="p">;</span> <span
                                    class="n">i</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">ll</span> <span class="n">l</span><span class="p">,</span><span class="n">r</span><span
                                    class="p">;</span>
            <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%lld %lld&quot;</span><span
                                    class="p">,</span><span class="o">&amp;</span><span class="n">l</span><span
                                    class="p">,</span><span class="o">&amp;</span><span class="n">r</span><span
                                    class="p">);</span>
            <span class="n">ll</span> <span class="n">ans</span><span class="o">=</span><span
                                    class="n">query</span><span class="p">(</span><span class="n">l</span><span
                                    class="p">,</span><span class="n">r</span><span class="p">);</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%lld &quot;</span><span
                                    class="p">,</span><span class="n">ans</span><span class="p">);</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%lld</span><span
                                    class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span
                                    class="n">mp</span><span class="p">[</span><span class="n">ans</span><span
                                    class="p">]);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre>
            </div>
            <div type="text/javadiv" src="/ACM/js/code_end.js"></div>


        </div>
    </div>

</div>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://fightinggg.github.io/landscape/hdu5726.html" data-id="clhvp2d7k00bdzimccs8bd0ys" data-title="hdu5726" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-ACM/老Blog迁移/problem/data_struct/hdu6183" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/landscape/hdu6183.html" class="article-date">
  <time class="dt-published" datetime="2019-08-05T15:23:08.000Z" itemprop="datePublished">2019-08-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/landscape/categories/ACM/">ACM</a>►<a class="article-category-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/">老Blog迁移</a>►<a class="article-category-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/">problem</a>►<a class="article-category-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/data-struct/">data_struct</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/landscape/hdu6183.html">hdu6183</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <div><a href="/next/hdu6183.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">next</a><a href="/hexonext/hdu6183.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">hexonext</a><a href="/butterfly/hdu6183.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">butterfly</a><a href="/volantis/hdu6183.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">volantis</a><a href="/yearn/hdu6183.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yearn</a><a href="/yilia/hdu6183.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yilia</a><a href="/shoka/hdu6183.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">shoka</a><a href="/indigo/hdu6183.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">indigo</a><a href="/apollo/hdu6183.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">apollo</a><a href="/landscape/hdu6183.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">landscape</a><a href="/cactus/hdu6183.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">cactus</a><a href="/matery/hdu6183.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">matery</a><a href="/icarus/hdu6183.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">icarus</a><a href="/fluid/hdu6183.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">fluid</a><a href="/material/hdu6183.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">material</a><div style="clear: both;"></div></div>
转移自<a href='/ACM/problem/data_struct/hdu6183.html'>老blog</a>

<div type="text/javadiv" src="/ACM/js/web_begin.js"></div>
<div>

    <h1>
        <center><a href="http://acm.hdu.edu.cn/showproblem.php?pid=6183" target="_blank">hdu6183 &nbsp; Color &nbsp;
                it</a>
        </center>
    </h1>

    <div id="text">
        题目大意 :<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;D喜欢画画，为了防止他画太乱的画，D要你帮他维护一些操作， <br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0:清除所有的颜色<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;x&nbsp;y&nbsp;c:在点(x,y)添加颜色c<br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 &nbsp;x &nbsp;y1 &nbsp;y2:问矩形(1,y1)->(x,y2)中有多少种颜色<br>
    </div>


    <div type="text/javadiv" src="/ACM/js/solve_begin.js"></div>
    <div>
        因为询问中x方向上的起点都是1，且只询问是存在性询问,所以我们贪心地维护每一行(yi)的每一种颜色出现的最小横坐标。<br>
        这样做时空复杂度都为50*n*logn<br>
        时空都不符合要求<br>
        对于时间：<br>
        剪枝1：我们在左右递归的时候，如果发现左子树存在解，则结束递归，不去搜索右子树。<br>
        剪枝2：维护区间最小值，当区间最小值大于询问值时，结束递归(此操作同时优化了空间)。<br>
    </div>
    <div type="text/javadiv" src="/ACM/js/solve_end.js"></div>


    <div type="text/javadiv" src="/ACM/js/code_begin.js"></div>
    <div>
        <pre><span class="cp">#include&lt;bits/stdc++.h&gt;</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="cp">#define ml ((l+r)&gt;&gt;1)</span>
<span class="cp">#define mr (ml+1)</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">maxn</span><span class="o">=</span><span
                    class="mf">15e4</span><span class="o">+</span><span class="mi">5</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">mii</span><span class="p">[</span><span class="n">maxn</span><span
                    class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="mi">25</span><span
                    class="p">],</span><span class="n">rs</span><span class="p">[</span><span class="n">maxn</span><span
                    class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="mi">25</span><span
                    class="p">],</span><span class="n">ls</span><span class="p">[</span><span class="n">maxn</span><span
                    class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="mi">25</span><span
                    class="p">],</span><span class="n">tot</span><span class="p">;</span>  <span
                    class="c1">// 90mb</span>

<span class="kt">void</span> <span class="n">ini</span><span class="p">(){</span>
    <span class="n">tot</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="n">push_son</span><span class="p">(</span><span class="kt">int</span><span
                    class="o">&amp;</span><span class="n">son</span><span class="p">,</span><span class="kt">int</span> <span
                    class="n">l</span><span class="p">,</span><span class="kt">int</span> <span class="n">r</span><span
                    class="p">){</span>
    <span class="k">if</span><span class="p">(</span><span class="n">son</span><span class="o">==</span><span
                    class="mi">0</span><span class="p">){</span>
        <span class="n">son</span><span class="o">=++</span><span class="n">tot</span><span class="p">;</span>
        <span class="n">ls</span><span class="p">[</span><span class="n">son</span><span class="p">]</span><span
                    class="o">=</span><span class="mi">0</span><span class="p">;</span>
        <span class="n">rs</span><span class="p">[</span><span class="n">son</span><span class="p">]</span><span
                    class="o">=</span><span class="mi">0</span><span class="p">;</span>
        <span class="n">mii</span><span class="p">[</span><span class="n">son</span><span class="p">]</span><span
                    class="o">=</span><span class="mh">0x7fffffff</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="n">push_down</span><span class="p">(</span><span class="kt">int</span> <span
                    class="n">rt</span><span class="p">,</span><span class="kt">int</span> <span class="n">l</span><span
                    class="p">,</span><span class="kt">int</span> <span class="n">r</span><span class="p">){</span>
    <span class="n">push_son</span><span class="p">(</span><span class="n">ls</span><span class="p">[</span><span
                    class="n">rt</span><span class="p">],</span><span class="n">l</span><span class="p">,</span><span
                    class="n">ml</span><span class="p">);</span>
    <span class="n">push_son</span><span class="p">(</span><span class="n">rs</span><span class="p">[</span><span
                    class="n">rt</span><span class="p">],</span><span class="n">mr</span><span class="p">,</span><span
                    class="n">r</span><span class="p">);</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="n">push_up</span><span class="p">(</span><span class="kt">int</span> <span
                    class="n">rt</span><span class="p">,</span><span class="kt">int</span> <span class="n">l</span><span
                    class="p">,</span><span class="kt">int</span> <span class="n">r</span><span class="p">){</span>
    <span class="n">mii</span><span class="p">[</span><span class="n">rt</span><span class="p">]</span><span
                    class="o">=</span><span class="n">min</span><span class="p">(</span><span class="n">mii</span><span
                    class="p">[</span><span class="n">ls</span><span class="p">[</span><span class="n">rt</span><span
                    class="p">]],</span><span class="n">mii</span><span class="p">[</span><span class="n">rs</span><span
                    class="p">[</span><span class="n">rt</span><span class="p">]]);</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="n">build</span><span class="p">(</span><span class="kt">int</span><span
                    class="o">&amp;</span><span class="n">rt</span><span class="p">,</span><span
                    class="kt">int</span> <span class="n">l</span><span class="p">,</span><span
                    class="kt">int</span> <span class="n">r</span><span class="p">){</span><span
                    class="c1">//1 1 n</span>
    <span class="n">rt</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
    <span class="n">push_son</span><span class="p">(</span><span class="n">rt</span><span class="p">,</span><span
                    class="n">l</span><span class="p">,</span><span class="n">r</span><span class="p">);</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="n">update</span><span class="p">(</span><span class="kt">int</span> <span
                    class="n">rt</span><span class="p">,</span><span class="kt">int</span> <span class="n">l</span><span
                    class="p">,</span><span class="kt">int</span> <span class="n">r</span><span class="p">,</span><span
                    class="kt">int</span> <span class="n">q</span><span class="p">,</span><span
                    class="kt">int</span> <span class="n">d</span><span class="p">){</span>
    <span class="k">if</span><span class="p">(</span><span class="n">l</span><span class="o">==</span><span
                    class="n">r</span><span class="p">){</span>
        <span class="n">mii</span><span class="p">[</span><span class="n">rt</span><span class="p">]</span><span
                    class="o">=</span><span class="n">min</span><span class="p">(</span><span class="n">mii</span><span
                    class="p">[</span><span class="n">rt</span><span class="p">],</span><span class="n">d</span><span
                    class="p">);</span>
    <span class="p">}</span>
    <span class="k">else</span><span class="p">{</span>
        <span class="n">push_down</span><span class="p">(</span><span class="n">rt</span><span class="p">,</span><span
                    class="n">l</span><span class="p">,</span><span class="n">r</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="n">ml</span><span class="o">&gt;=</span><span
                    class="n">q</span><span class="p">)</span> <span class="n">update</span><span
                    class="p">(</span><span class="n">ls</span><span class="p">[</span><span class="n">rt</span><span
                    class="p">],</span><span class="n">l</span><span class="p">,</span><span class="n">ml</span><span
                    class="p">,</span><span class="n">q</span><span class="p">,</span><span class="n">d</span><span
                    class="p">);</span>
        <span class="k">else</span> <span class="n">update</span><span class="p">(</span><span class="n">rs</span><span
                    class="p">[</span><span class="n">rt</span><span class="p">],</span><span class="n">mr</span><span
                    class="p">,</span><span class="n">r</span><span class="p">,</span><span class="n">q</span><span
                    class="p">,</span><span class="n">d</span><span class="p">);</span>
        <span class="n">push_up</span><span class="p">(</span><span class="n">rt</span><span class="p">,</span><span
                    class="n">l</span><span class="p">,</span><span class="n">r</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="n">query</span><span class="p">(</span><span class="kt">int</span> <span
                    class="n">rt</span><span class="p">,</span><span class="kt">int</span> <span class="n">l</span><span
                    class="p">,</span><span class="kt">int</span> <span class="n">r</span><span class="p">,</span><span
                    class="kt">int</span> <span class="n">ql</span><span class="p">,</span><span
                    class="kt">int</span> <span class="n">qr</span><span class="p">,</span><span
                    class="kt">int</span> <span class="n">x</span><span class="p">){</span>
    <span class="k">if</span><span class="p">(</span><span class="n">mii</span><span class="p">[</span><span class="n">rt</span><span
                    class="p">]</span><span class="o">&gt;</span><span class="n">x</span><span class="p">)</span> <span
                    class="k">return</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span><span class="n">ql</span><span class="o">&lt;=</span><span
                    class="n">l</span><span class="o">&amp;&amp;</span><span class="n">r</span><span
                    class="o">&lt;=</span><span class="n">qr</span><span class="p">){</span>
        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span><span class="p">{</span>
        <span class="n">push_down</span><span class="p">(</span><span class="n">rt</span><span class="p">,</span><span
                    class="n">l</span><span class="p">,</span><span class="n">r</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="n">ml</span><span class="o">&gt;=</span><span
                    class="n">ql</span><span class="p">)</span> <span class="k">if</span><span class="p">(</span><span
                    class="n">query</span><span class="p">(</span><span class="n">ls</span><span class="p">[</span><span
                    class="n">rt</span><span class="p">],</span><span class="n">l</span><span class="p">,</span><span
                    class="n">ml</span><span class="p">,</span><span class="n">ql</span><span class="p">,</span><span
                    class="n">qr</span><span class="p">,</span><span class="n">x</span><span class="p">))</span> <span
                    class="k">return</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">if</span><span class="p">(</span><span class="n">mr</span><span class="o">&lt;=</span><span
                    class="n">qr</span><span class="p">)</span> <span class="k">if</span><span class="p">(</span><span
                    class="n">query</span><span class="p">(</span><span class="n">rs</span><span class="p">[</span><span
                    class="n">rt</span><span class="p">],</span><span class="n">mr</span><span class="p">,</span><span
                    class="n">r</span><span class="p">,</span><span class="n">ql</span><span class="p">,</span><span
                    class="n">qr</span><span class="p">,</span><span class="n">x</span><span class="p">))</span> <span
                    class="k">return</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kr">inline</span> <span class="kt">int</span> <span class="n">read</span><span class="p">(){</span>
    <span class="kt">int</span> <span class="n">ret</span><span class="o">=</span><span class="mi">0</span><span
                    class="p">;</span>
    <span class="kt">char</span> <span class="n">ch</span><span class="o">=</span><span class="n">getchar</span><span
                    class="p">();</span>
    <span class="k">while</span><span class="p">(</span><span class="n">ch</span><span class="o">&lt;</span><span
                    class="sc">&#39;0&#39;</span><span class="o">||</span><span class="n">ch</span><span
                    class="o">&gt;</span><span class="sc">&#39;9&#39;</span><span class="p">)</span> <span
                    class="n">ch</span><span class="o">=</span><span class="n">getchar</span><span class="p">();</span>
    <span class="k">while</span><span class="p">(</span><span class="sc">&#39;0&#39;</span><span
                    class="o">&lt;=</span><span class="n">ch</span><span class="o">&amp;&amp;</span><span
                    class="n">ch</span><span class="o">&lt;=</span><span class="sc">&#39;9&#39;</span><span
                    class="p">)</span> <span class="n">ret</span><span class="o">=</span><span class="p">(</span><span
                    class="n">ret</span><span class="o">&lt;&lt;</span><span class="mi">1</span><span class="p">)</span><span
                    class="o">+</span><span class="p">(</span><span class="n">ret</span><span
                    class="o">&lt;&lt;</span><span class="mi">3</span><span class="p">)</span><span
                    class="o">+</span><span class="p">(</span><span class="n">ch</span><span class="o">^</span><span
                    class="mi">48</span><span class="p">),</span><span class="n">ch</span><span class="o">=</span><span
                    class="n">getchar</span><span class="p">();</span>
    <span class="k">return</span> <span class="n">ret</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="n">rt</span><span class="p">[</span><span class="mi">55</span><span class="p">];</span>
<span class="kt">int</span> <span class="n">main</span><span class="p">(){</span>
    <span class="k">while</span><span class="p">(</span><span class="kc">true</span><span class="p">){</span>
        <span class="kt">int</span> <span class="n">op</span><span class="o">=</span><span class="n">read</span><span
                    class="p">();</span>
        <span class="k">if</span><span class="p">(</span><span class="n">op</span><span class="o">==</span><span
                    class="mi">0</span><span class="p">){</span>
            <span class="n">ini</span><span class="p">();</span>
            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span
                    class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span
                    class="o">&lt;=</span><span class="mi">50</span><span class="p">;</span><span
                    class="n">i</span><span class="o">++</span><span class="p">)</span> <span
                    class="n">build</span><span class="p">(</span><span class="n">rt</span><span class="p">[</span><span
                    class="n">i</span><span class="p">],</span><span class="mi">1</span><span class="p">,</span><span
                    class="mf">1e6</span><span class="o">+</span><span class="mi">5</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">op</span><span
                    class="o">==</span><span class="mi">1</span><span class="p">){</span>
            <span class="kt">int</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span
                    class="p">,</span><span class="n">c</span><span class="p">;</span>
            <span class="n">x</span><span class="o">=</span><span class="n">read</span><span class="p">();</span><span
                    class="n">y</span><span class="o">=</span><span class="n">read</span><span class="p">();</span><span
                    class="n">c</span><span class="o">=</span><span class="n">read</span><span class="p">();</span>
            <span class="n">update</span><span class="p">(</span><span class="n">rt</span><span class="p">[</span><span
                    class="n">c</span><span class="p">],</span><span class="mi">1</span><span class="p">,</span><span
                    class="mf">1e6</span><span class="o">+</span><span class="mi">5</span><span class="p">,</span><span
                    class="n">y</span><span class="p">,</span><span class="n">x</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">op</span><span
                    class="o">==</span><span class="mi">2</span><span class="p">){</span>
            <span class="kt">int</span> <span class="n">x</span><span class="p">,</span><span class="n">y1</span><span
                    class="p">,</span><span class="n">y2</span><span class="p">;</span>
            <span class="n">x</span><span class="o">=</span><span class="n">read</span><span class="p">();</span><span
                    class="n">y1</span><span class="o">=</span><span class="n">read</span><span
                    class="p">();</span><span class="n">y2</span><span class="o">=</span><span
                    class="n">read</span><span class="p">();</span>
            <span class="kt">int</span> <span class="n">ans</span><span class="o">=</span><span class="mi">0</span><span
                    class="p">;</span>
            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span
                    class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span
                    class="o">&lt;=</span><span class="mi">50</span><span class="p">;</span><span
                    class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="n">ans</span><span
                    class="o">+=</span><span class="n">query</span><span class="p">(</span><span
                    class="n">rt</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span
                    class="mi">1</span><span class="p">,</span><span class="mf">1e6</span><span class="o">+</span><span
                    class="mi">5</span><span class="p">,</span><span class="n">y1</span><span class="p">,</span><span
                    class="n">y2</span><span class="p">,</span><span class="n">x</span><span class="p">);</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span
                    class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span
                    class="n">ans</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre>


    </div>
    <div type="text/javadiv" src="/ACM/js/code_end.js"></div>

</div>
<div type="text/javadiv" src="/ACM/js/web_end.js"></div>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://fightinggg.github.io/landscape/hdu6183.html" data-id="clhvp2d7k00bezimcaciian7h" data-title="hdu6183" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-ACM/老Blog迁移/problem/dp/hdu5745" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/landscape/hdu5745.html" class="article-date">
  <time class="dt-published" datetime="2019-08-05T15:23:08.000Z" itemprop="datePublished">2019-08-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/landscape/categories/ACM/">ACM</a>►<a class="article-category-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/">老Blog迁移</a>►<a class="article-category-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/">problem</a>►<a class="article-category-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/dp/">dp</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/landscape/hdu5745.html">hdu5745</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <div><a href="/next/hdu5745.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">next</a><a href="/hexonext/hdu5745.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">hexonext</a><a href="/butterfly/hdu5745.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">butterfly</a><a href="/volantis/hdu5745.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">volantis</a><a href="/yearn/hdu5745.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yearn</a><a href="/yilia/hdu5745.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yilia</a><a href="/shoka/hdu5745.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">shoka</a><a href="/indigo/hdu5745.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">indigo</a><a href="/apollo/hdu5745.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">apollo</a><a href="/landscape/hdu5745.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">landscape</a><a href="/cactus/hdu5745.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">cactus</a><a href="/matery/hdu5745.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">matery</a><a href="/icarus/hdu5745.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">icarus</a><a href="/fluid/hdu5745.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">fluid</a><a href="/material/hdu5745.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">material</a><div style="clear: both;"></div></div>
转移自<a href='/ACM/problem/dp/hdu5745.html'>老blog</a>

<div type="text/javadiv" src="/ACM/js/web_begin.js"></div>
<div>
    <h1>
        <center><a href="http://acm.hdu.edu.cn/showproblem.php?pid=5726" target="_blank">hdu5726</a></center>
    </h1>

    <div id="text">
        题目大意 :</br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 在母串里面找子串，字串可以变化，询问所有匹配位置</br>
    </div>

    <div type="text/javadiv" src="/ACM/js/solve_begin.js"></div>
    <div>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;其实是一个dp，设状态dp[i][j][0]表示母串匹配到i子串匹配到
        j，且子串最后一个字符与前面的字符交换， dp[i][j][1]不交换，dp[i][j][2]交换，
        于是就有了转移式子：
        </br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        dp[j][0][i] = dp[j-1][2][i-1]&amp;&amp;s[i]==p[j-1];</br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        dp[j][1][i] = (dp[j-1][1][i-1]||dp[j-1][0][i-1]) &amp;&amp; s[i]==p[j];</br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        dp[j][2][i] = (dp[j-1][1][i-1]||dp[j-1][0][i-1]) &amp;&amp; s[i]==p[j+1];</br>

        然后bitset暴力压缩掉一维，滚动数组又压缩掉一个维度。</br>
        要注意biset压缩掉大的那一维度，滚动数组压缩掉第二大的维度才能过，压反了就tle了。

    </div>
    <div type="text/javadiv" src="/ACM/js/solve_end.js"></div>

    <div type="text/javadiv" src="/ACM/js/code_begin.js"></div>
    <div>
        <pre><span class="cp">#include&lt;bits/stdc++.h&gt;</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="k">const</span> <span class="kt">int</span> <span class="n">MAXS</span><span class="o">=</span><span
                                class="mf">1e5</span><span class="o">+</span><span class="mi">5</span><span
                                class="p">,</span><span class="n">MAXP</span><span class="o">=</span><span class="mf">5e3</span><span
                                class="o">+</span><span class="mi">5</span><span class="p">;</span>
<span class="kt">char</span> <span class="n">s</span><span class="p">[</span><span class="n">MAXS</span><span class="p">],</span><span
                                class="n">p</span><span class="p">[</span><span class="n">MAXP</span><span
                                class="p">];</span>
<span class="n">bitset</span><span class="o">&lt;</span><span class="n">MAXS</span><span class="o">&gt;</span> <span
                                class="n">dp</span><span class="p">[</span><span class="mi">2</span><span
                                class="p">][</span><span class="mi">3</span><span class="p">];</span>
<span class="n">bitset</span><span class="o">&lt;</span><span class="n">MAXS</span><span class="o">&gt;</span> <span
                                class="n">s_char</span><span class="p">[</span><span class="mi">26</span><span
                                class="p">];</span>


<span class="kt">int</span> <span class="n">main</span><span class="p">(){</span>
    <span class="kt">int</span> <span class="n">n</span><span class="p">,</span><span class="n">m</span><span class="p">,</span><span
                                class="n">T</span><span class="p">;</span>
    <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span
                                class="p">,</span><span class="o">&amp;</span><span class="n">T</span><span
                                class="p">);</span>
    <span class="k">while</span><span class="p">(</span><span class="n">T</span><span class="o">--</span><span
                                class="p">){</span>
        <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d %d %s %s&quot;</span><span
                                class="p">,</span><span class="o">&amp;</span><span class="n">n</span><span
                                class="p">,</span><span class="o">&amp;</span><span class="n">m</span><span
                                class="p">,</span><span class="n">s</span><span class="p">,</span><span
                                class="n">p</span><span class="p">);</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span
                                class="o">=</span><span class="mi">0</span><span class="p">;</span><span
                                class="n">i</span><span class="o">&lt;</span><span class="mi">26</span><span
                                class="p">;</span><span class="n">i</span><span class="o">++</span><span
                                class="p">)</span><span class="n">s_char</span><span class="p">[</span><span
                                class="n">i</span><span class="p">].</span><span class="n">reset</span><span class="p">();</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span
                                class="o">=</span><span class="mi">0</span><span class="p">;</span><span
                                class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span
                                class="p">;</span><span class="n">i</span><span class="o">++</span><span
                                class="p">)</span><span class="n">s_char</span><span class="p">[</span><span
                                class="n">s</span><span class="p">[</span><span class="n">i</span><span
                                class="p">]</span><span class="o">-</span><span class="sc">&#39;a&#39;</span><span
                                class="p">][</span><span class="n">i</span><span class="p">]</span><span
                                class="o">=</span><span class="mi">1</span><span class="p">;</span>
        
        
        <span class="kt">int</span> <span class="n">t</span><span class="o">=</span><span class="mi">1</span><span
                                class="p">;</span>
        
        <span class="n">dp</span><span class="p">[</span><span class="n">t</span><span class="p">][</span><span
                                class="mi">0</span><span class="p">][</span><span class="mi">0</span><span
                                class="p">]</span><span class="o">=</span><span class="mi">0</span><span
                                class="p">;</span>
        <span class="n">dp</span><span class="p">[</span><span class="n">t</span><span class="p">][</span><span
                                class="mi">1</span><span class="p">][</span><span class="mi">0</span><span
                                class="p">]</span><span class="o">=</span><span class="n">s</span><span
                                class="p">[</span><span class="mi">0</span><span class="p">]</span><span
                                class="o">==</span><span class="n">p</span><span class="p">[</span><span
                                class="mi">0</span><span class="p">];</span>
        <span class="n">dp</span><span class="p">[</span><span class="n">t</span><span class="p">][</span><span
                                class="mi">2</span><span class="p">][</span><span class="mi">0</span><span
                                class="p">]</span><span class="o">=</span><span class="n">s</span><span
                                class="p">[</span><span class="mi">0</span><span class="p">]</span><span
                                class="o">==</span><span class="n">p</span><span class="p">[</span><span
                                class="mi">1</span><span class="p">];</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span
                                class="o">=</span><span class="mi">1</span><span class="p">;</span><span
                                class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span
                                class="p">;</span><span class="n">i</span><span class="o">++</span><span
                                class="p">){</span>
            <span class="n">dp</span><span class="p">[</span><span class="n">t</span><span class="p">][</span><span
                                class="mi">0</span><span class="p">][</span><span class="n">i</span><span
                                class="p">]</span><span class="o">=</span><span class="mi">0</span><span
                                class="p">;</span>
            <span class="n">dp</span><span class="p">[</span><span class="n">t</span><span class="p">][</span><span
                                class="mi">1</span><span class="p">][</span><span class="n">i</span><span
                                class="p">]</span><span class="o">=</span><span class="n">s</span><span
                                class="p">[</span><span class="n">i</span><span class="p">]</span><span
                                class="o">==</span><span class="n">p</span><span class="p">[</span><span
                                class="mi">0</span><span class="p">];</span>
            <span class="n">dp</span><span class="p">[</span><span class="n">t</span><span class="p">][</span><span
                                class="mi">2</span><span class="p">][</span><span class="n">i</span><span
                                class="p">]</span><span class="o">=</span><span class="n">s</span><span
                                class="p">[</span><span class="n">i</span><span class="p">]</span><span
                                class="o">==</span><span class="n">p</span><span class="p">[</span><span
                                class="mi">1</span><span class="p">];</span>
            <span class="p">}</span>
        <span class="n">t</span><span class="o">^=</span><span class="mi">1</span><span class="p">;</span>
        
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span
                                class="o">=</span><span class="mi">1</span><span class="p">;</span><span
                                class="n">j</span><span class="o">&lt;</span><span class="n">m</span><span
                                class="p">;</span><span class="n">j</span><span class="o">++</span><span
                                class="p">){</span>
            
            <span class="n">dp</span><span class="p">[</span><span class="n">t</span><span class="p">][</span><span
                                class="mi">0</span><span class="p">]</span> <span class="o">=</span>  <span
                                class="p">(</span><span class="n">dp</span><span class="p">[</span><span
                                class="n">t</span><span class="o">^</span><span class="mi">1</span><span
                                class="p">][</span><span class="mi">2</span><span class="p">]</span><span class="o">&lt;&lt;</span><span
                                class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span
                                class="n">s_char</span><span class="p">[</span><span class="n">p</span><span
                                class="p">[</span><span class="n">j</span><span class="o">-</span><span
                                class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="sc">&#39;a&#39;</span><span
                                class="p">];</span>
            <span class="n">dp</span><span class="p">[</span><span class="n">t</span><span class="p">][</span><span
                                class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span
                                class="p">(</span> <span class="p">(</span><span class="n">dp</span><span
                                class="p">[</span><span class="n">t</span><span class="o">^</span><span
                                class="mi">1</span><span class="p">][</span><span class="mi">1</span><span
                                class="p">]</span><span class="o">|</span><span class="n">dp</span><span
                                class="p">[</span><span class="n">t</span><span class="o">^</span><span
                                class="mi">1</span><span class="p">][</span><span class="mi">0</span><span
                                class="p">])</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span> <span
                                class="p">)</span> <span class="o">&amp;</span> <span class="n">s_char</span><span
                                class="p">[</span><span class="n">p</span><span class="p">[</span><span
                                class="n">j</span><span class="p">]</span><span class="o">-</span><span class="sc">&#39;a&#39;</span><span
                                class="p">];</span>
            <span class="k">if</span><span class="p">(</span><span class="n">j</span><span class="o">+</span><span
                                class="mi">1</span><span class="o">&lt;</span><span class="n">m</span><span
                                class="p">)</span><span class="n">dp</span><span class="p">[</span><span
                                class="n">t</span><span class="p">][</span><span class="mi">2</span><span
                                class="p">]</span> <span class="o">=</span> <span class="p">((</span><span
                                class="n">dp</span><span class="p">[</span><span class="n">t</span><span
                                class="o">^</span><span class="mi">1</span><span class="p">][</span><span
                                class="mi">1</span><span class="p">]</span><span class="o">|</span><span
                                class="n">dp</span><span class="p">[</span><span class="n">t</span><span
                                class="o">^</span><span class="mi">1</span><span class="p">][</span><span
                                class="mi">0</span><span class="p">])</span><span class="o">&lt;&lt;</span><span
                                class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span
                                class="n">s_char</span><span class="p">[</span><span class="n">p</span><span
                                class="p">[</span><span class="n">j</span><span class="o">+</span><span
                                class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="sc">&#39;a&#39;</span><span
                                class="p">];</span>
            <span class="k">else</span> <span class="n">dp</span><span class="p">[</span><span class="n">t</span><span
                                class="p">][</span><span class="mi">2</span><span class="p">].</span><span class="n">reset</span><span
                                class="p">();</span>
            
            <span class="n">dp</span><span class="p">[</span><span class="n">t</span><span class="p">][</span><span
                                class="mi">0</span><span class="p">][</span><span class="mi">0</span><span
                                class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span
                                class="p">;</span>
            <span class="n">dp</span><span class="p">[</span><span class="n">t</span><span class="p">][</span><span
                                class="mi">1</span><span class="p">][</span><span class="mi">0</span><span
                                class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span
                                class="p">;</span>
            <span class="n">dp</span><span class="p">[</span><span class="n">t</span><span class="p">][</span><span
                                class="mi">2</span><span class="p">][</span><span class="mi">0</span><span
                                class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span
                                class="p">;</span>
            
            <span class="n">t</span><span class="o">^=</span><span class="mi">1</span><span class="p">;</span>
            <span class="p">}</span>
        
        
        
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span
                                class="o">=</span><span class="n">m</span><span class="o">-</span><span
                                class="mi">1</span><span class="p">;</span><span class="n">i</span><span
                                class="o">&lt;</span><span class="n">n</span><span class="p">;</span><span
                                class="n">i</span><span class="o">++</span><span class="p">){</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span
                                class="p">,(</span><span class="n">dp</span><span class="p">[</span><span
                                class="n">t</span><span class="o">^</span><span class="mi">1</span><span
                                class="p">][</span><span class="mi">0</span><span class="p">][</span><span
                                class="n">i</span><span class="p">]</span><span class="o">|</span><span
                                class="n">dp</span><span class="p">[</span><span class="n">t</span><span
                                class="o">^</span><span class="mi">1</span><span class="p">][</span><span
                                class="mi">1</span><span class="p">][</span><span class="n">i</span><span
                                class="p">]));</span>
            <span class="p">}</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span
                                class="o">=</span><span class="mi">0</span><span class="p">;</span><span
                                class="n">i</span><span class="o">&lt;</span><span class="n">m</span><span
                                class="o">-</span><span class="mi">1</span><span class="p">;</span><span
                                class="n">i</span><span class="o">++</span><span class="p">){</span>
            <span class="n">printf</span><span class="p">(</span><span class="s">&quot;0&quot;</span><span
                                class="p">);</span>
            <span class="p">}</span>
        <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="n">endl</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="c1">//000001</span>
<span class="c1">//0000011</span>
</pre>
        < </div>
            <div type="text/javadiv" src="/ACM/js/code_end.js"></div>

    </div>
    <div type="text/javadiv" src="/ACM/js/web_end.js"></div>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://fightinggg.github.io/landscape/hdu5745.html" data-id="clhvp2d7l00bfzimc9llp1swp" data-title="hdu5745" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-ACM/老Blog迁移/problem/dp/hdu6161" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/landscape/hdu6161.html" class="article-date">
  <time class="dt-published" datetime="2019-08-05T15:23:08.000Z" itemprop="datePublished">2019-08-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/landscape/categories/ACM/">ACM</a>►<a class="article-category-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/">老Blog迁移</a>►<a class="article-category-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/">problem</a>►<a class="article-category-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/dp/">dp</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/landscape/hdu6161.html">hdu6161</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <div><a href="/next/hdu6161.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">next</a><a href="/hexonext/hdu6161.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">hexonext</a><a href="/butterfly/hdu6161.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">butterfly</a><a href="/volantis/hdu6161.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">volantis</a><a href="/yearn/hdu6161.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yearn</a><a href="/yilia/hdu6161.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yilia</a><a href="/shoka/hdu6161.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">shoka</a><a href="/indigo/hdu6161.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">indigo</a><a href="/apollo/hdu6161.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">apollo</a><a href="/landscape/hdu6161.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">landscape</a><a href="/cactus/hdu6161.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">cactus</a><a href="/matery/hdu6161.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">matery</a><a href="/icarus/hdu6161.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">icarus</a><a href="/fluid/hdu6161.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">fluid</a><a href="/material/hdu6161.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">material</a><div style="clear: both;"></div></div>
转移自<a href='/ACM/problem/dp/hdu6161.html'>老blog</a>

<div type="text/javadiv" src="/ACM/js/web_begin.js"></div>
<div>
        <h1>
                <center><a href="http://acm.hdu.edu.cn/showproblem.php?pid=6161" target="_blank">hdu6161</a></center>
        </h1>

        <div id="text">
                题目大意 :<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                给你一颗很大的完全二叉树，节点编号从1到n，对于除了1号节点以外的其他节点x，他的父亲是x>>1,1号节点为根，节点x的初始权值为x<br>
                给出两种操作：<br>
                1.update u x 意味着更新节点u的权值为x<br>
                2.query u 询问经过节点u的路径中，权值最大的条路径的权，（定义路径的权为路径上节点的权的和）<br>
                操作一共有m次<br>
                数据范围：n<1e8,m<1e5，x<1e10 时间：2s<br>

        </div>

        <div type="text/javadiv" src="/ACM/js/solve_begin.js"></div>
        <div>
                <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;最开始考虑到这是一棵很大的树，我们不可能把这棵树建出来，太大了，空间肯定不够，注意到操作次数只有1e5，然后研究什么是最大路径的权？我们考虑任意一个节点u，他有三条边分别连向父亲fa，左儿子lson，右儿子rson，如果我们处理了以这三个点为起点且不经过u的路径的最值，那么我们就可以通过这三个数据转移过来。
                <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;再考虑到这棵树是有规律的，节点数远大于操作数，那么我们依据各种高级数据结构中常用的懒惰标记（懒修改）来优化空间复杂度,来假装建立了这棵树，我们访问哪个节点，我们就为哪个节点开辟空间，其他的我们设置懒惰标记，表示此节点，以及他的整颗子树都被放置懒标记。
                <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;处理完了空间以及询问操作，下一步是修改，当我们发现，我们修改了某个节点的值后，他以及他的祖先的向下的路径值都可能发生变化，这些节点的数量级是lg的，能够忍受，但是，这个节点的所有子孙向上的路径最值也有可能发生变化，这写节点的数量级是非常大的，远超线性。此时不能忽视，到此已经无解。
                <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;看过题解以后，发现自己的解法离正解已经很接近了，首先第一点，正解说用map来储存树结构，这样子就不必去储存边，且大大优化了编码难度，然而却牺牲了时间，因为我们如果通过指针建树的话，从一个节点走向另一个节点可以O(1)办到，但是用map不行，map在这个基本操作上是O(lg)级别的，这就导致用map的话最终时间复杂度多一个lg。但是可以证明，多此lg，依旧可以过题，时间不会超。
                <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;第二点，状态的选取：dp[x]代表以x为根的子树中以x为起点的路径的权的最大值。这个状态要好很多，相比我设的三个状态，第一他状态简单，第二单次修改的转移时间复杂度O(lgn)，因为他少一个向上的路径的状态，根本就不需要这个状态。
                <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;修改权值的转移方程：
                <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;从下至上，若修改节点x，且father为x的父亲，brother为x的兄弟，lson为x的左儿子，rson为x的右儿子，w代表点权，dp代表状态值，则dp[x]=max(dp[lson],dp[rson])+w[x]，
                <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[father]=max(dp[x],dp[brother])+w[father]。。。按此方法一直更新到根即可。
                <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;询问路径的转移方程:
                <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;依旧从下至上。肯定要去三个值的，x往左儿子的dp[x
                <<1]，x往右儿子的dp[x<<1|1]，然而，取不到父亲的值了，因为我们就没有维护这个状态值，不过还是有办法来得到它，我们考虑x往父亲的方向的最大路径值，这其实也可以递归下去，我们设这种值叫做up,利用动态规划，自顶向下搜索：x往父亲的权，在父亲那里只有两个方向可以走，因为是从x过来的，肯定不能回去的，那就少了一个方向，如果父亲继续向上走，我们可以递归下去，如果父亲向下走，那就只能走兄弟方向的路径，决策出现了：up[x]=w[x]+max(up[father],dp[brother])
                        <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;至此，更新和询问都已经解决，一个自底向上递归转移，一个自顶向下搜索转移。
        </div>
        <div type="text/javadiv" src="/ACM/js/solve_end.js"></div>

        <div type="text/javadiv" src="/ACM/js/code_begin.js"></div>
        <pre><span class="cp">#include&lt;bits/stdc++.h&gt;</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="k">typedef</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">ll</span><span
                class="p">;</span>

<span class="k">struct</span> <span class="n">mydata</span><span class="p">{</span>
    <span class="k">struct</span> <span class="n">node</span><span class="p">{</span>
        <span class="n">ll</span> <span class="n">w</span><span class="p">,</span><span class="n">dp</span><span
                class="p">;</span>
        <span class="n">node</span><span class="p">()</span><span class="o">:</span><span class="n">w</span><span
                class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="n">dp</span><span
                class="p">(</span><span class="mi">0</span><span class="p">){}</span>
        <span class="n">node</span><span class="p">(</span><span class="n">ll</span> <span class="n">w</span><span
                class="p">,</span><span class="n">ll</span> <span class="n">dp</span><span class="p">)</span><span
                class="o">:</span><span class="n">w</span><span class="p">(</span><span class="n">w</span><span
                class="p">),</span><span class="n">dp</span><span class="p">(</span><span class="n">dp</span><span
                class="p">){}</span>
    <span class="p">};</span>
    <span class="n">map</span><span class="o">&lt;</span><span class="n">ll</span><span class="p">,</span><span
                class="n">node</span><span class="o">&gt;</span><span class="n">tree</span><span class="p">;</span>
    <span class="n">ll</span> <span class="n">n</span><span class="p">;</span>

    <span class="kt">void</span> <span class="n">ini</span><span class="p">(</span><span class="n">ll</span> <span
                class="n">n</span><span class="p">){</span>
        <span class="k">this</span><span class="o">-&gt;</span><span class="n">n</span><span class="o">=</span><span
                class="n">n</span><span class="p">;</span>
        <span class="n">tree</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="kr">inline</span> <span class="n">node</span> <span class="n">get</span><span class="p">(</span><span
                class="n">ll</span> <span class="n">x</span><span class="p">){</span>
        <span class="k">if</span><span class="p">(</span><span class="n">x</span><span class="o">&gt;</span><span
                class="n">n</span><span class="p">)</span><span class="k">return</span> <span class="n">node</span><span
                class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span
                class="p">);</span>

        <span class="n">node</span> <span class="n">ret</span><span class="o">=</span><span class="n">tree</span><span
                class="p">[</span><span class="n">x</span><span class="p">];</span>
        <span class="k">if</span><span class="p">(</span><span class="n">ret</span><span class="p">.</span><span
                class="n">w</span><span class="o">!=</span><span class="mi">0</span><span class="p">)</span><span
                class="k">return</span> <span class="n">ret</span><span class="p">;</span>

        <span class="n">ll</span> <span class="n">l</span><span class="o">=</span><span class="n">x</span><span
                class="p">,</span><span class="n">r</span><span class="o">=</span><span class="n">x</span><span
                class="p">;</span>
        <span class="k">while</span><span class="p">(</span><span class="n">l</span><span class="o">&lt;=</span><span
                class="n">n</span><span class="p">)</span><span class="n">l</span><span class="o">=</span><span
                class="n">l</span><span class="o">&lt;&lt;</span><span class="mi">1</span><span class="p">;</span>
        <span class="k">while</span><span class="p">(</span><span class="n">r</span><span class="o">&lt;=</span><span
                class="n">n</span><span class="p">)</span><span class="n">r</span><span class="o">=</span><span
                class="n">r</span><span class="o">&lt;&lt;</span><span class="mi">1</span><span class="o">|</span><span
                class="mi">1</span><span class="p">;</span>
        <span class="n">l</span><span class="o">&gt;&gt;=</span><span class="mi">1</span><span class="p">;</span>
        <span class="n">r</span><span class="o">&gt;&gt;=</span><span class="mi">1</span><span class="p">;</span>

        <span class="n">ll</span> <span class="n">big</span><span class="o">=</span><span class="n">l</span><span
                class="o">&lt;=</span><span class="n">r</span><span class="o">?</span><span class="nl">r:</span><span
                class="n">n</span><span class="p">;</span>
        <span class="n">ll</span> <span class="n">dp</span><span class="o">=</span><span class="mi">0</span><span
                class="p">;</span>
        <span class="k">while</span><span class="p">(</span><span class="n">big</span><span class="o">&gt;=</span><span
                class="n">x</span><span class="p">){</span>
            <span class="n">dp</span><span class="o">+=</span><span class="n">big</span><span class="p">;</span>
            <span class="n">big</span><span class="o">&gt;&gt;=</span><span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">tree</span><span class="p">[</span><span class="n">x</span><span
                class="p">]</span><span class="o">=</span><span class="n">node</span><span class="p">(</span><span
                class="n">x</span><span class="p">,</span><span class="n">dp</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kt">void</span> <span class="n">update</span><span class="p">(</span><span class="n">ll</span> <span
                class="n">x</span><span class="p">,</span><span class="n">ll</span> <span class="n">w</span><span
                class="p">){</span>
        <span class="n">node</span> <span class="n">l</span><span class="o">=</span><span class="n">get</span><span
                class="p">(</span><span class="n">x</span><span class="o">&lt;&lt;</span><span class="mi">1</span><span
                class="p">);</span><span class="c1">//lg</span>
        <span class="n">node</span> <span class="n">r</span><span class="o">=</span><span class="n">get</span><span
                class="p">(</span><span class="n">x</span><span class="o">&lt;&lt;</span><span class="mi">1</span><span
                class="o">|</span><span class="mi">1</span><span class="p">);</span><span class="c1">//lg</span>
        <span class="n">tree</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span
                class="o">=</span><span class="n">node</span><span class="p">(</span><span class="n">w</span><span
                class="p">,</span><span class="n">max</span><span class="p">(</span><span class="n">l</span><span
                class="p">.</span><span class="n">dp</span><span class="p">,</span><span class="n">r</span><span
                class="p">.</span><span class="n">dp</span><span class="p">)</span><span class="o">+</span><span
                class="n">w</span><span class="p">);</span><span class="c1">//lg</span>
        <span class="k">if</span><span class="p">(</span><span class="n">x</span><span class="o">==</span><span
                class="mi">1</span><span class="p">)</span><span class="k">return</span><span class="p">;</span>
        <span class="k">else</span> <span class="n">update</span><span class="p">(</span><span class="n">x</span><span
                class="o">&gt;&gt;</span><span class="mi">1</span><span class="p">,</span><span
                class="n">get</span><span class="p">(</span><span class="n">x</span><span class="o">&gt;&gt;</span><span
                class="mi">1</span><span class="p">).</span><span class="n">w</span><span class="p">);</span>
    <span class="p">}</span><span class="c1">//lglg</span>

    <span class="n">ll</span> <span class="n">query</span><span class="p">(</span><span class="n">ll</span> <span
                class="n">x</span><span class="p">){</span>
        <span class="n">ll</span> <span class="n">fa</span><span class="o">=</span><span
                class="n">max_sum_up</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
        <span class="n">ll</span> <span class="n">l</span><span class="o">=</span><span class="n">get</span><span
                class="p">(</span><span class="n">x</span><span class="o">&lt;&lt;</span><span class="mi">1</span><span
                class="p">).</span><span class="n">dp</span><span class="p">;</span>
        <span class="n">ll</span> <span class="n">r</span><span class="o">=</span><span class="n">get</span><span
                class="p">(</span><span class="n">x</span><span class="o">&lt;&lt;</span><span class="mi">1</span><span
                class="o">|</span><span class="mi">1</span><span class="p">).</span><span class="n">dp</span><span
                class="p">;</span>
        <span class="k">return</span> <span class="n">fa</span><span class="o">+</span><span class="n">l</span><span
                class="o">+</span><span class="n">r</span><span class="o">-</span><span class="n">min</span><span
                class="p">(</span><span class="n">min</span><span class="p">(</span><span class="n">l</span><span
                class="p">,</span><span class="n">r</span><span class="p">),</span><span class="n">fa</span><span
                class="p">)</span><span class="o">+</span><span class="n">get</span><span class="p">(</span><span
                class="n">x</span><span class="p">).</span><span class="n">w</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="n">ll</span> <span class="n">max_sum_up</span><span class="p">(</span><span class="n">ll</span> <span
                class="n">x</span><span class="p">){</span>
        <span class="k">if</span><span class="p">(</span><span class="n">x</span><span class="o">==</span><span
                class="mi">1</span><span class="p">)</span><span class="k">return</span> <span class="mi">0</span><span
                class="p">;</span>
        <span class="k">return</span> <span class="n">get</span><span class="p">(</span><span class="n">x</span><span
                class="o">&gt;&gt;</span><span class="mi">1</span><span class="p">).</span><span class="n">w</span><span
                class="o">+</span><span class="n">max</span><span class="p">(</span><span
                class="n">max_sum_up</span><span class="p">(</span><span class="n">x</span><span
                class="o">&gt;&gt;</span><span class="mi">1</span><span class="p">),</span><span
                class="n">get</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span
                class="mi">1</span><span class="p">).</span><span class="n">dp</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span><span class="n">tree</span><span class="p">;</span>

<span class="kt">int</span> <span class="n">main</span><span class="p">(){</span>

    <span class="kt">char</span> <span class="n">str</span><span class="p">[</span><span class="mi">10</span><span
                class="p">];</span>
    <span class="n">ll</span> <span class="n">n</span><span class="p">,</span><span class="n">m</span><span
                class="p">,</span><span class="n">u</span><span class="p">,</span><span class="n">x</span><span
                class="p">;</span>
    <span class="k">while</span><span class="p">(</span><span class="o">~</span><span class="n">scanf</span><span
                class="p">(</span><span class="s">&quot;%lld%lld&quot;</span><span class="p">,</span><span class="o">&amp;</span><span
                class="n">n</span><span class="p">,</span><span class="o">&amp;</span><span class="n">m</span><span
                class="p">)){</span>
        <span class="n">tree</span><span class="p">.</span><span class="n">ini</span><span class="p">(</span><span
                class="n">n</span><span class="p">);</span>

        <span class="k">for</span><span class="p">(</span><span class="n">ll</span> <span class="n">i</span><span
                class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span
                class="o">&lt;</span><span class="n">m</span><span class="p">;</span><span class="n">i</span><span
                class="o">++</span><span class="p">){</span>
            <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%s&quot;</span><span
                class="p">,</span><span class="n">str</span><span class="p">);</span>
            <span class="k">if</span><span class="p">(</span><span class="n">str</span><span class="p">[</span><span
                class="mi">0</span><span class="p">]</span><span class="o">==</span><span
                class="sc">&#39;q&#39;</span><span class="p">){</span>
                <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%lld&quot;</span><span
                class="p">,</span><span class="o">&amp;</span><span class="n">u</span><span class="p">);</span>
                <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%lld</span><span class="se">\n</span><span
                class="s">&quot;</span><span class="p">,</span><span class="n">tree</span><span class="p">.</span><span
                class="n">query</span><span class="p">(</span><span class="n">u</span><span class="p">));</span>
            <span class="p">}</span>
            <span class="k">else</span><span class="p">{</span>
                <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%lld%lld&quot;</span><span
                class="p">,</span><span class="o">&amp;</span><span class="n">u</span><span class="p">,</span><span
                class="o">&amp;</span><span class="n">x</span><span class="p">);</span>
                <span class="n">tree</span><span class="p">.</span><span class="n">update</span><span class="p">(</span><span
                class="n">u</span><span class="p">,</span> <span class="n">x</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre>
        <div type="text/javadiv" src="/ACM/js/code_end.js"></div>


</div>
<div type="text/javadiv" src="/ACM/js/web_end.js"></div>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://fightinggg.github.io/landscape/hdu6161.html" data-id="clhvp2d7m00bgzimcdufh7jbu" data-title="hdu6161" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-ACM/老Blog迁移/problem/dp/hdu6170" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/landscape/hdu6170.html" class="article-date">
  <time class="dt-published" datetime="2019-08-05T15:23:08.000Z" itemprop="datePublished">2019-08-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/landscape/categories/ACM/">ACM</a>►<a class="article-category-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/">老Blog迁移</a>►<a class="article-category-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/">problem</a>►<a class="article-category-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/dp/">dp</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/landscape/hdu6170.html">hdu6170</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <div><a href="/next/hdu6170.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">next</a><a href="/hexonext/hdu6170.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">hexonext</a><a href="/butterfly/hdu6170.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">butterfly</a><a href="/volantis/hdu6170.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">volantis</a><a href="/yearn/hdu6170.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yearn</a><a href="/yilia/hdu6170.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yilia</a><a href="/shoka/hdu6170.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">shoka</a><a href="/indigo/hdu6170.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">indigo</a><a href="/apollo/hdu6170.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">apollo</a><a href="/landscape/hdu6170.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">landscape</a><a href="/cactus/hdu6170.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">cactus</a><a href="/matery/hdu6170.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">matery</a><a href="/icarus/hdu6170.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">icarus</a><a href="/fluid/hdu6170.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">fluid</a><a href="/material/hdu6170.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">material</a><div style="clear: both;"></div></div>
转移自<a href='/ACM/problem/dp/hdu6170.html'>老blog</a>

<div type="text/javadiv" src="/ACM/js/web_begin.js"></div>
<div>
    <h1>
        <center><a href="http://acm.hdu.edu.cn/showproblem.php?pid=6170" target="_blank">hdu6170</a></center>
    </h1>

    <div id="text">
        题目大意 :</br>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 类似正则匹配</br>
    </div>

    <div type="text/javadiv" src="/ACM/js/solve_begin.js"></div>
    <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    这个题开始的时候没有写出来，想到了状态的设法，如果设dp[i][j]代表第一个串的前i项能否匹配第二个串的前j项，状态个数很明显是n2的，然而一直苦于*符号的匹配，找不到好的转移方程，不管怎么想都是n3的转移复杂度，当s2[j]是*的时候，dp[i][j]
    <-dp[pre][j] 其中pre可以取的值的要求是：对于所有的pre<=k<=i s1【k】=s1【i】 <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        这个转移不是不可以优化，这显然是一个连续的区间，可以采取rmq预处理来实现降低时间复杂度到n2lgn，但是这样写似乎显得小题大做，并且时间复杂度不是很理想，可能卡在时间的边界上然后time limited。
        <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        最后看了题解，发现可以O(1)转移，但是网上的题解的证明过程显得苍白无力，甚至有不少代码是错的，ac不过是因为数据弱而已。
        <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        我想了很久，最终得到了*的转移：
        考虑s1[i]和s1[i-1]是否相等，如果不相等的话，那么*要么贡献0次由dp[i][j-2]转移，要么贡献1次由dp[i][j-1]转移，复杂的是相等的情况，*贡献0次和1次是一样的，因为s1[i]和s1[i-1]相等，所以*可能贡献多次(多指的是大于等于二)。
        <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        分析贡献多次的时候:从dp[i][j]=1必要条件入手，因为多次，所以如果他少贡献一次的话，dp[i-1][j]也为1，且有条件s1[i-1]=s2[j-1]或s2[j-1]=='.'。
        <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        然后证明此必要条件的充分性，由于dp[i-1][j]=1且s1[i-1]和s2[j-1]是一样的，那么*多贡献一次就可以了。因为s1[i-1]和s2[j-1]是一样的，所以可以多贡献一次。
        <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        于是（dp[i-1][j]=1且s1[i-1]和s2[j-1]一样）与（贡献多次的dp[i][j]=1）等价。
        <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        这前的每一个细节都很重要，为什么要求s1[i-1]和s2[j-1]是一样的，如果不做此要求，就过不了这个例子：
        <br>aa
        <br>ab*
        <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        至于dp边界的处理，特别简单，我们改变输入数据s1 和s2为（“@@”+s1）和(“@@”+s2)，边界就特别特别简单了。
        <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        虽说简单，但我还是搞错了，忽略了一种情况因为少了下面的代码，
        <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        然后就过不了这个反例
        <br>c
        <br>a*b*c
        <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        因为什么呢?因为”@@”居然可以和”@@a*”匹配,简直是恐怖。
        <div type="text/javadiv" src="/ACM/js/solve_end.js"></div>

        <div type="text/javadiv" src="/ACM/js/code_begin.js"></div>
        <div>
            <pre><span class="cp">#include&lt;bits/stdc++.h&gt;</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="n">main</span><span class="p">(){</span>
    <span class="kt">int</span> <span class="n">T</span><span class="p">;</span>
    <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d &quot;</span><span
                    class="p">,</span><span class="o">&amp;</span><span class="n">T</span><span class="p">);</span>
    <span class="k">while</span><span class="p">(</span><span class="n">T</span><span class="o">--</span><span
                    class="p">){</span>
        <span class="k">static</span> <span class="k">const</span> <span class="kt">int</span> <span
                    class="n">maxn</span><span class="o">=</span><span class="mi">2600</span><span class="p">;</span>
        <span class="k">static</span> <span class="kt">char</span> <span class="n">s1</span><span
                    class="p">[</span><span class="n">maxn</span><span class="p">],</span><span class="n">s2</span><span
                    class="p">[</span><span class="n">maxn</span><span class="p">];</span>
        <span class="k">static</span> <span class="kt">int</span> <span class="n">dp</span><span class="p">[</span><span
                    class="n">maxn</span><span class="p">][</span><span class="n">maxn</span><span class="p">];</span>
        <span class="c1">//scanf(&quot;%s%s&quot;,s1+2,s2+2);</span>
        <span class="n">gets</span><span class="p">(</span><span class="n">s1</span><span class="o">+</span><span
                    class="mi">2</span><span class="p">);</span>
        <span class="n">gets</span><span class="p">(</span><span class="n">s2</span><span class="o">+</span><span
                    class="mi">2</span><span class="p">);</span>
        <span class="n">s1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span
                    class="o">=</span><span class="n">s2</span><span class="p">[</span><span class="mi">0</span><span
                    class="p">]</span><span class="o">=</span><span class="n">s1</span><span class="p">[</span><span
                    class="mi">1</span><span class="p">]</span><span class="o">=</span><span class="n">s2</span><span
                    class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">=</span><span
                    class="sc">&#39;@&#39;</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">l1</span><span class="o">=</span><span class="n">strlen</span><span
                    class="p">(</span><span class="n">s1</span><span class="p">);</span>
        <span class="kt">int</span> <span class="n">l2</span><span class="o">=</span><span class="n">strlen</span><span
                    class="p">(</span><span class="n">s2</span><span class="p">);</span>
        <span class="n">dp</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span
                    class="mi">0</span><span class="p">]</span><span class="o">=</span><span class="n">dp</span><span
                    class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span
                    class="p">]</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span
                    class="o">=</span><span class="mi">2</span><span class="p">;</span><span class="n">j</span><span
                    class="o">&lt;</span><span class="n">l2</span><span class="p">;</span><span class="n">j</span><span
                    class="o">++</span><span class="p">){</span>
            <span class="k">if</span><span class="p">(</span><span class="n">s2</span><span class="p">[</span><span
                    class="n">j</span><span class="p">]</span><span class="o">==</span><span
                    class="sc">&#39;*&#39;</span><span class="p">)</span><span class="n">dp</span><span
                    class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span
                    class="p">]</span><span class="o">=</span><span class="n">dp</span><span class="p">[</span><span
                    class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="o">-</span><span
                    class="mi">2</span><span class="p">];</span>
            <span class="k">else</span> <span class="n">dp</span><span class="p">[</span><span class="mi">1</span><span
                    class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span
                    class="mi">0</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span
                    class="o">=</span><span class="mi">2</span><span class="p">;</span><span class="n">i</span><span
                    class="o">&lt;</span><span class="n">l1</span><span class="p">;</span><span class="n">i</span><span
                    class="o">++</span><span class="p">){</span>
            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span
                    class="o">=</span><span class="mi">2</span><span class="p">;</span><span class="n">j</span><span
                    class="o">&lt;</span><span class="n">l2</span><span class="p">;</span><span class="n">j</span><span
                    class="o">++</span><span class="p">){</span>
                <span class="k">if</span><span class="p">(</span><span class="n">s2</span><span class="p">[</span><span
                    class="n">j</span><span class="p">]</span><span class="o">==</span><span
                    class="sc">&#39;.&#39;</span><span class="p">)</span><span class="n">dp</span><span
                    class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span
                    class="p">]</span><span class="o">=</span><span class="n">dp</span><span class="p">[</span><span
                    class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span
                    class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">];</span>
                <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span
                    class="n">s2</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span
                    class="o">==</span><span class="sc">&#39;*&#39;</span><span class="p">){</span>
                    <span class="k">if</span><span class="p">(</span><span class="n">s1</span><span
                    class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">!=</span><span
                    class="n">s1</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span
                    class="mi">1</span><span class="p">]){</span><span class="c1">//最多贡献一次</span>
                        <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span
                    class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span
                    class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span
                    class="n">j</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span><span
                    class="o">||</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span
                    class="p">][</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span
                    class="p">];</span>
                    <span class="p">}</span>
                    <span class="k">else</span><span class="p">{</span>
                        <span class="n">dp</span><span class="p">[</span><span class="n">i</span><span
                    class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span
                    class="n">dp</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span
                    class="n">j</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span><span
                    class="o">||</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span
                    class="p">][</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span
                    class="p">]</span><span class="o">||</span><span class="p">(</span><span class="n">dp</span><span
                    class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span
                    class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">&amp;&amp;</span><span
                    class="p">(</span><span class="n">s1</span><span class="p">[</span><span class="n">i</span><span
                    class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span
                    class="n">s2</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span
                    class="mi">1</span><span class="p">]</span><span class="o">||</span><span class="n">s2</span><span
                    class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span
                    class="p">]</span><span class="o">==</span><span class="sc">&#39;.&#39;</span><span
                    class="p">));</span>
                    <span class="p">}</span>
                <span class="p">}</span>
                <span class="k">else</span> <span class="n">dp</span><span class="p">[</span><span
                    class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span
                    class="o">=</span><span class="n">dp</span><span class="p">[</span><span class="n">i</span><span
                    class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span
                    class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">&amp;&amp;</span><span
                    class="n">s1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span
                    class="o">==</span><span class="n">s2</span><span class="p">[</span><span class="n">j</span><span
                    class="p">];</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="n">cout</span><span class="o">&lt;&lt;</span><span class="p">(</span><span class="n">dp</span><span
                    class="p">[</span><span class="n">l1</span><span class="o">-</span><span class="mi">1</span><span
                    class="p">][</span><span class="n">l2</span><span class="o">-</span><span class="mi">1</span><span
                    class="p">]</span><span class="o">?</span><span class="s">&quot;yes&quot;</span><span
                    class="o">:</span><span class="s">&quot;no&quot;</span><span class="p">)</span><span class="o">&lt;&lt;</span><span
                    class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="cm">/*</span>
<span class="cm"> </span>
<span class="cm"> --------aa</span>
<span class="cm"> --------ab*</span>
<span class="cm"> </span>
<span class="cm"> */</span>
</pre>
        </div>
        <div type="text/javadiv" src="/ACM/js/code_end.js"></div>


</div>
<div type="text/javadiv" src="/ACM/js/web_end.js"></div>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://fightinggg.github.io/landscape/hdu6170.html" data-id="clhvp2d7m00bhzimcbotygexs" data-title="hdu6170" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/landscape/page/37/">&laquo; 上一页</a><a class="page-number" href="/landscape/">1</a><span class="space">&hellip;</span><a class="page-number" href="/landscape/page/36/">36</a><a class="page-number" href="/landscape/page/37/">37</a><span class="page-number current">38</span><a class="page-number" href="/landscape/page/39/">39</a><a class="page-number" href="/landscape/page/40/">40</a><span class="space">&hellip;</span><a class="page-number" href="/landscape/page/47/">47</a><a class="extend next" rel="next" href="/landscape/page/39/">下一页 &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/">ACM</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/">刷题实战</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/CodeForces/">CodeForces</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/bzoj/">bzoj</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/hdu/">hdu</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/uoj/">uoj</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/%E6%AF%94%E8%B5%9B/">比赛</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/%E6%B4%9B%E8%B0%B7/">洛谷</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/%E7%89%9B%E5%AE%A2/">牛客</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/DP/">DP</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%9B%BE%E8%AE%BA/">图论</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%AD%97%E7%AC%A6%E4%B8%B2/">字符串</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%B9%B3%E8%A1%A1%E6%A0%91/">平衡树</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%80%9D%E7%BB%B4/">思维</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%95%B0%E5%AD%A6/">数学</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%A0%91/">树</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AE%97%E6%B3%95/">算法</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E9%BB%91%E7%A7%91%E6%8A%80/">黑科技</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/">老Blog迁移</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/blog/">blog</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/blog/span/">span</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/">problem</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/computational-geonetry/">computational_geonetry</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/data-struct/">data_struct</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/dp/">dp</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/graph-theory/">graph_theory</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/math/">math</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/thinging/">thinging</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/">reading_problem</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/">stencil</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/data-struct/">data_struct</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/%E6%80%BB%E7%BB%93/">总结</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/AI/">AI</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/AI/GPT/">GPT</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/CPU/">CPU</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/DataMining/">DataMining</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Database/">Database</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Docker/">Docker</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Docker/K8s/">K8s</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Hexo/">Hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Language/">Language</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Language/C/">C++</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Language/Go/">Go</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Language/Java/">Java</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Language/Java/Grava/">Grava</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Language/Java/JVM/">JVM</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Language/Java/Java%E5%B9%B6%E5%8F%91/">Java并发</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Language/Java/Maven/">Maven</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Language/Java/MyBatis/">MyBatis</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Language/Java/Spring/">Spring</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Language/Java/SpringBoot/">SpringBoot</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Language/Java/SpringCloud/">SpringCloud</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Language/Java/SpringMVC/">SpringMVC</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Language/Python/">Python</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Math/">Math</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Math/Matrix/">Matrix</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Others/">Others</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Test/">Test</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/UML/">UML</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/Zookeeper/">Zookeeper</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/%E5%90%8E%E5%8F%B0%E6%8A%80%E6%9C%AF/">后台技术</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/">大数据</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/ES/">ES</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/%E5%AE%9E%E4%B9%A0/">实习</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/%E5%AE%9E%E4%B9%A0/%E7%AC%94%E8%AF%95/">笔试</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/OS/">OS</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/%E7%BC%96%E7%A0%81/">编码</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/%E7%BC%96%E8%AF%91%E5%99%A8/">编译器</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/">计算机组成原理</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a></li><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/%E9%98%9F%E5%88%97/">队列</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/landscape/categories/%E9%98%9F%E5%88%97/Kafka/">Kafka</a></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/landscape/tags/AI/" rel="tag">AI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/landscape/tags/AspectJ/" rel="tag">AspectJ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/landscape/tags/CPU/" rel="tag">CPU</a></li><li class="tag-list-item"><a class="tag-list-link" href="/landscape/tags/GPT/" rel="tag">GPT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/landscape/tags/Proxy/" rel="tag">Proxy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/landscape/tags/SpringFox%E4%BD%BF%E7%94%A8/" rel="tag">SpringFox使用</a></li><li class="tag-list-item"><a class="tag-list-link" href="/landscape/tags/Transformer/" rel="tag">Transformer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/landscape/tags/VPN/" rel="tag">VPN</a></li><li class="tag-list-item"><a class="tag-list-link" href="/landscape/tags/docker/" rel="tag">docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/landscape/tags/flag/" rel="tag">flag</a></li><li class="tag-list-item"><a class="tag-list-link" href="/landscape/tags/linux%E6%8C%87%E4%BB%A4/" rel="tag">linux指令</a></li><li class="tag-list-item"><a class="tag-list-link" href="/landscape/tags/nginx/" rel="tag">nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/landscape/tags/%E7%BB%93%E6%9E%84%E4%BD%93%E4%B8%AD%E7%9A%84%E5%BC%95%E7%94%A8/" rel="tag">结构体中的引用</a></li><li class="tag-list-item"><a class="tag-list-link" href="/landscape/tags/%E8%AF%BB%E4%B9%A6/" rel="tag">读书</a></li><li class="tag-list-item"><a class="tag-list-link" href="/landscape/tags/%E8%AF%BB%E4%B9%A6-HTTP/" rel="tag">读书,HTTP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/landscape/tags/%E8%B7%9F%E6%88%91%E4%B8%80%E8%B5%B7%E5%86%99%E7%BC%96%E8%AF%91%E5%99%A8/" rel="tag">跟我一起写编译器</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/landscape/tags/AI/" style="font-size: 13.33px;">AI</a> <a href="/landscape/tags/AspectJ/" style="font-size: 10px;">AspectJ</a> <a href="/landscape/tags/CPU/" style="font-size: 10px;">CPU</a> <a href="/landscape/tags/GPT/" style="font-size: 10px;">GPT</a> <a href="/landscape/tags/Proxy/" style="font-size: 10px;">Proxy</a> <a href="/landscape/tags/SpringFox%E4%BD%BF%E7%94%A8/" style="font-size: 10px;">SpringFox使用</a> <a href="/landscape/tags/Transformer/" style="font-size: 10px;">Transformer</a> <a href="/landscape/tags/VPN/" style="font-size: 10px;">VPN</a> <a href="/landscape/tags/docker/" style="font-size: 10px;">docker</a> <a href="/landscape/tags/flag/" style="font-size: 10px;">flag</a> <a href="/landscape/tags/linux%E6%8C%87%E4%BB%A4/" style="font-size: 13.33px;">linux指令</a> <a href="/landscape/tags/nginx/" style="font-size: 10px;">nginx</a> <a href="/landscape/tags/%E7%BB%93%E6%9E%84%E4%BD%93%E4%B8%AD%E7%9A%84%E5%BC%95%E7%94%A8/" style="font-size: 10px;">结构体中的引用</a> <a href="/landscape/tags/%E8%AF%BB%E4%B9%A6/" style="font-size: 20px;">读书</a> <a href="/landscape/tags/%E8%AF%BB%E4%B9%A6-HTTP/" style="font-size: 10px;">读书,HTTP</a> <a href="/landscape/tags/%E8%B7%9F%E6%88%91%E4%B8%80%E8%B5%B7%E5%86%99%E7%BC%96%E8%AF%91%E5%99%A8/" style="font-size: 16.67px;">跟我一起写编译器</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2023/05/">五月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2023/03/">三月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2023/02/">二月 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2022/07/">七月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2022/05/">五月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2022/03/">三月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2022/02/">二月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2022/01/">一月 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2021/11/">十一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2021/10/">十月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2021/09/">九月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2021/08/">八月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2021/07/">七月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2021/06/">六月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2021/05/">五月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2021/04/">四月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2021/03/">三月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2021/01/">一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2020/12/">十二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2020/11/">十一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2020/10/">十月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2020/09/">九月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2020/08/">八月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2020/06/">六月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2020/05/">五月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2020/03/">三月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2020/02/">二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2019/12/">十二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2019/11/">十一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2019/10/">十月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2019/09/">九月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2019/08/">八月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2019/07/">七月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2019/06/">六月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2019/05/">五月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2019/04/">四月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2019/03/">三月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2019/02/">二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2019/01/">一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2018/12/">十二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2018/11/">十一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2018/10/">十月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/landscape/archives/2018/03/">三月 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/landscape/RUSDW0.html">智慧的疆界：从图灵机到人工智能</a>
          </li>
        
          <li>
            <a href="/landscape/RS7SSC.html">Transformer</a>
          </li>
        
          <li>
            <a href="/landscape/RPN780.html">2023你好</a>
          </li>
        
          <li>
            <a href="/landscape/RFJ220.html">VPN与代理那些事</a>
          </li>
        
          <li>
            <a href="/landscape/RF964O.html">CPU架构介绍</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 fightinggg<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/landscape/" class="mobile-nav-link">Home</a>
  
    <a href="/landscape/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/landscape/js/jquery-3.6.4.min.js"></script>



  
<script src="/landscape/fancybox/jquery.fancybox.min.js"></script>




<script src="/landscape/js/script.js"></script>





  </div>
</body>
</html>