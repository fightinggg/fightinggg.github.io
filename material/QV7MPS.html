<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/bollnh/hexo-theme-material
        Version: 1.5.6 -->
    <script>
        window.materialVersion = "1.5.6"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1',
            '1.5.0',
            '1.5.2',
            '1.5.5'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">





    <link rel="dns-prefetch" href="https://.disqus.com"/>





    <link rel="dns-prefetch" href="https://fonts.googleapis.com"/>





    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Title -->
    
    <title>
        
            跟我一起自己写编译器-5.10.LR语法分析 | 
        
        Believe it
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/material/img/favicon.svg">
    <link rel="icon" href="/material/img/favicon.svg">

    <meta name="format-detection" content="telephone=no"/>
    <meta name="description" itemprop="description" content="nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial

5.10. LR语法分析经过了前面的LL语法分析，现在我们进入到了LR语法分析，LR语法分析也是一套算法，这里主要介绍两个，一个是SLR算法，领个是LR1算法。
LR语法分析本质上为从左到右自底向上算法，从左到右一个一个读入字符，然后按照产生式进行规约，直到规约出文法开始的符号。
5.10.1. LR算法LR语法分析最重要的就是移入和规约。下面举一个例子来理解移入和规约。
12345加法：（  终结符: number, +, *  非终结符: PRODUCTION  产生式: PRODUCTION -&amp;gt; number | PRODUCTION + PRODUCTION | PRODUCTION * PRODUCTION | (PRODUCTION)  开始： PRODUCTION">
    <meta name="keywords" content=",读书,跟我一起写编译器">
    <meta name="theme-color" content="#0097A7">

    <!-- Disable Fucking Bloody Baidu Tranformation -->
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(a){try{localStorage.removeItem(a)}catch(b){}};lsloader.setLS=function(a,c){try{localStorage.setItem(a,c)}catch(b){}};lsloader.getLS=function(a){var c="";try{c=localStorage.getItem(a)}catch(b){c=""}return c};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var b=[];for(var a=0;a<localStorage.length;a++){b.push(localStorage.key(a))}b.forEach(function(e){var f=lsloader.getLS(e);if(window.oldVersion){var d=window.oldVersion.reduce(function(g,h){return g||f.indexOf("/*"+h+"*/")!==-1},false);if(d){lsloader.removeLS(e)}}})}catch(c){}};lsloader.clean();lsloader.load=function(f,a,b,d){if(typeof b==="boolean"){d=b;b=undefined}d=d||false;b=b||function(){};var e;e=this.getLS(f);if(e&&e.indexOf(versionString)===-1){this.removeLS(f);this.requestResource(f,a,b,d);return}if(e){var c=e.split(versionString)[0];if(c!=a){console.log("reload:"+a);this.removeLS(f);this.requestResource(f,a,b,d);return}e=e.split(versionString)[1];if(d){this.jsRunSequence.push({name:f,code:e});this.runjs(a,f,e)}else{document.getElementById(f).appendChild(document.createTextNode(e));b()}}else{this.requestResource(f,a,b,d)}};lsloader.requestResource=function(b,e,a,c){var d=this;if(c){this.iojs(e,b,function(h,f,g){d.setLS(f,h+versionString+g);d.runjs(h,f,g)})}else{this.iocss(e,b,function(f){document.getElementById(b).appendChild(document.createTextNode(f));d.setLS(b,e+versionString+f)},a)}};lsloader.iojs=function(d,b,g){var a=this;a.jsRunSequence.push({name:b,code:""});try{var f=new XMLHttpRequest();f.open("get",d,true);f.onreadystatechange=function(){if(f.readyState==4){if((f.status>=200&&f.status<300)||f.status==304){if(f.response!=""){g(d,b,f.response);return}}a.jsfallback(d,b)}};f.send(null)}catch(c){a.jsfallback(d,b)}};lsloader.iocss=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.iofonts=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.runjs=function(f,c,e){if(!!c&&!!e){for(var b in this.jsRunSequence){if(this.jsRunSequence[b].name==c){this.jsRunSequence[b].code=e}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code));a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else{if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var d=this;var a=document.createElement("script");a.src=this.jsRunSequence[0].path;a.type="text/javascript";this.jsRunSequence[0].status="loading";a.onload=function(){d.jsRunSequence.shift();if(d.jsRunSequence.length>0){d.runjs()}};document.body.appendChild(a)}}};lsloader.tagLoad=function(b,a){this.jsRunSequence.push({name:a,code:"",path:b,status:"failed"});this.runjs()};lsloader.jsfallback=function(c,b){if(!!this.jsnamemap[b]){return}else{this.jsnamemap[b]=b}for(var a in this.jsRunSequence){if(this.jsRunSequence[a].name==b){this.jsRunSequence[a].code="";this.jsRunSequence[a].status="failed";this.jsRunSequence[a].path=c}}this.runjs()};lsloader.cssfallback=function(e,c,b){if(!!this.cssnamemap[c]){return}else{this.cssnamemap[c]=1}var d=document.createElement("link");d.type="text/css";d.href=e;d.rel="stylesheet";d.onload=d.onerror=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)};lsloader.runInlineScript=function(c,b){var a=document.getElementById(b).innerText;this.jsRunSequence.push({name:c,code:a});this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/material/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/material/css/style.min.css?NKhlKQkXw/c66TR5p4wO+w==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #F5F5F5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">


<!-- Import Material Icons -->


    <style id="material_icons"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_icons","/material/css/material-icons.css?pqhB/Rd/ab0H2+kZp0RDmw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/material/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==", true)</script>
    

    <!-- WebAPP Icons -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Believe it">
    <meta name="msapplication-starturl" content="http://fightinggg.github.io/material/material/QV7MPS.html">
    <meta name="msapplication-navbutton-color" content="#0097A7">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="Believe it">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="/material/img/favicon.svg">

    <!-- Site Verification -->
    
    

    <!-- RSS -->
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://fightinggg.github.io/material/material/QV7MPS.html">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="跟我一起自己写编译器-5.10.LR语法分析 | Believe it">
    <meta property="og:image" content="/material/img/favicon.svg">
    <meta property="og:description" content="nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial

5.10. LR语法分析经过了前面的LL语法分析，现在我们进入到了LR语法分析，LR语法分析也是一套算法，这里主要介绍两个，一个是SLR算法，领个是LR1算法。
LR语法分析本质上为从左到右自底向上算法，从左到右一个一个读入字符，然后按照产生式进行规约，直到规约出文法开始的符号。
5.10.1. LR算法LR语法分析最重要的就是移入和规约。下面举一个例子来理解移入和规约。
12345加法：（  终结符: number, +, *  非终结符: PRODUCTION  产生式: PRODUCTION -&amp;gt; number | PRODUCTION + PRODUCTION | PRODUCTION * PRODUCTION | (PRODUCTION)  开始： PRODUCTION">
    <meta property="og:article:tag" content="读书"> <meta property="og:article:tag" content="跟我一起写编译器"> 

    
        <meta property="article:published_time" content="Thu Jun 24 2021 22:25:04 GMT+0800">
        <meta property="article:modified_time" content="Sun Aug 29 2021 09:41:04 GMT+0000">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:card" content="summary_large_image">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://fightinggg.github.io/material/material/QV7MPS.html" />
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "http://fightinggg.github.io/material/material/QV7MPS.html",
    "headline": "跟我一起自己写编译器-5.10.LR语法分析",
    "datePublished": "Thu Jun 24 2021 22:25:04 GMT+0800",
    "dateModified": "Sun Aug 29 2021 09:41:04 GMT+0000",
    "author": {
        "@type": "Person",
        "name": "fightinggg",
        "image": {
            "@type": "ImageObject",
            "url": "/img/avatar.png"
        },
        "description": "Hi, nice to meet you"
    },
    "publisher": {
        "@type": "Organization",
        "name": "Believe it",
        "logo": {
            "@type":"ImageObject",
            "url": "/img/favicon.svg"
        }
    },
    "keywords": ",读书,跟我一起写编译器",
    "description": "nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial

5.10. LR语法分析经过了前面的LL语法分析，现在我们进入到了LR语法分析，LR语法分析也是一套算法，这里主要介绍两个，一个是SLR算法，领个是LR1算法。
LR语法分析本质上为从左到右自底向上算法，从左到右一个一个读入字符，然后按照产生式进行规约，直到规约出文法开始的符号。
5.10.1. LR算法LR语法分析最重要的就是移入和规约。下面举一个例子来理解移入和规约。
12345加法：（  终结符: number, +, *  非终结符: PRODUCTION  产生式: PRODUCTION -&amp;gt; number | PRODUCTION + PRODUCTION | PRODUCTION * PRODUCTION | (PRODUCTION)  开始： PRODUCTION",
}
</script>


    

    <!-- Analytics -->
    
    
    

    <!-- Custom Head -->
    

<meta name="generator" content="Hexo 6.3.0"></head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span id="MD-burger-id" class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#5-10-LR%E8%AF%AD%E6%B3%95%E5%88%86%E6%9E%90"><span class="post-toc-number">1.</span> <span class="post-toc-text">5.10. LR语法分析</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#5-10-1-LR%E7%AE%97%E6%B3%95"><span class="post-toc-number">2.</span> <span class="post-toc-text">5.10.1. LR算法</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#5-10-2-%E7%A7%BB%E5%85%A5%E8%BF%98%E6%98%AF%E8%A7%84%E7%BA%A6"><span class="post-toc-number">3.</span> <span class="post-toc-text">5.10.2. 移入还是规约</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#5-10-3-SLR%E7%AE%97%E6%B3%95%E4%BB%8B%E7%BB%8D"><span class="post-toc-number">4.</span> <span class="post-toc-text">5.10.3. SLR算法介绍</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#5-10-4-SLR%E9%A1%B9%E9%9B%86"><span class="post-toc-number">5.</span> <span class="post-toc-text">5.10.4. SLR项集</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#5-10-5-SLR%E8%A1%A8%E7%94%9F%E6%88%90%E7%AE%97%E6%B3%95"><span class="post-toc-number">6.</span> <span class="post-toc-text">5.10.5. SLR表生成算法</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#5-10-6-SLR%E7%AE%97%E6%B3%95%E4%BC%AA%E4%BB%A3%E7%A0%81"><span class="post-toc-number">7.</span> <span class="post-toc-text">5.10.6 SLR算法伪代码</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#5-10-7-%E5%86%B2%E7%AA%81%E4%B8%8E%E8%A7%84%E7%BA%A6"><span class="post-toc-number">8.</span> <span class="post-toc-text">5.10.7 冲突与规约</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#5-10-8-LR1-%E5%A2%9E%E5%B9%BF%E6%96%87%E6%B3%95"><span class="post-toc-number">9.</span> <span class="post-toc-text">5.10.8 LR1 增广文法</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#5-10-9-LR1%E8%A1%A8%E7%94%9F%E6%88%90%E7%AE%97%E6%B3%95%E4%BC%AA%E4%BB%A3%E7%A0%81"><span class="post-toc-number">10.</span> <span class="post-toc-text">5.10.9 LR1表生成算法伪代码</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#5-10-10-LR1%E7%AE%97%E6%B3%95%E4%B8%8ESLR%E7%AE%97%E6%B3%95%E6%AF%94%E8%BE%83"><span class="post-toc-number">11.</span> <span class="post-toc-text">5.10.10 LR1算法与SLR算法比较</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#5-10-11-%E4%BA%8C%E4%B9%89%E6%80%A7%E6%96%87%E6%B3%95"><span class="post-toc-number">12.</span> <span class="post-toc-text">5.10.11 二义性文法</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#5-10-12-%E6%80%BB%E7%BB%93"><span class="post-toc-number">13.</span> <span class="post-toc-text">5.10.12 总结</span></a></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').attr('data-original', '/material/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                跟我一起自己写编译器-5.10.LR语法分析
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/material/img/avatar.png" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>fightinggg</strong>
        <span>6月 24, 2021</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-none-link" href="/material/tags/%E8%AF%BB%E4%B9%A6/" rel="tag">读书</a></li><li class="mdl-menu__item"><a class="post_tag-none-link" href="/material/tags/%E8%B7%9F%E6%88%91%E4%B8%80%E8%B5%B7%E5%86%99%E7%BC%96%E8%AF%91%E5%99%A8/" rel="tag">跟我一起写编译器</a>
    </ul>
    

    <!-- Share -->
    
        <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=跟我一起自己写编译器-5.10.LR语法分析&url=http://fightinggg.github.io/material/material/QV7MPS.html&pic=http://fightinggg.github.io/material/img/favicon.svg&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=跟我一起自己写编译器-5.10.LR语法分析&url=http://fightinggg.github.io/material/material/QV7MPS.html&via=fightinggg" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://fightinggg.github.io/material/material/QV7MPS.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=http://fightinggg.github.io/material/material/QV7MPS.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    

    <!-- Share Telegram -->
    
</ul>

    
</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <div><a href="/next/QV7MPS.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">next</a><a href="/hexonext/QV7MPS.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">hexonext</a><a href="/butterfly/QV7MPS.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">butterfly</a><a href="/volantis/QV7MPS.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">volantis</a><a href="/yearn/QV7MPS.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yearn</a><a href="/yilia/QV7MPS.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yilia</a><a href="/shoka/QV7MPS.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">shoka</a><a href="/indigo/QV7MPS.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">indigo</a><a href="/apollo/QV7MPS.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">apollo</a><a href="/landscape/QV7MPS.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">landscape</a><a href="/cactus/QV7MPS.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">cactus</a><a href="/matery/QV7MPS.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">matery</a><a href="/icarus/QV7MPS.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">icarus</a><a href="/fluid/QV7MPS.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">fluid</a><a href="/material/QV7MPS.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">material</a><div style="clear: both;"></div></div>

<h2 id="5-10-LR语法分析"><a href="#5-10-LR语法分析" class="headerlink" title="5.10. LR语法分析"></a>5.10. LR语法分析</h2><p>经过了前面的LL语法分析，现在我们进入到了LR语法分析，LR语法分析也是一套算法，这里主要介绍两个，一个是SLR算法，领个是LR1算法。</p>
<p>LR语法分析本质上为从左到右自底向上算法，从左到右一个一个读入字符，然后按照产生式进行规约，直到规约出文法开始的符号。</p>
<h2 id="5-10-1-LR算法"><a href="#5-10-1-LR算法" class="headerlink" title="5.10.1. LR算法"></a>5.10.1. LR算法</h2><p>LR语法分析最重要的就是移入和规约。下面举一个例子来理解移入和规约。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">加法：（</span><br><span class="line">  终结符: number, +, *</span><br><span class="line">  非终结符: PRODUCTION</span><br><span class="line">  产生式: PRODUCTION -&gt; number | PRODUCTION + PRODUCTION | PRODUCTION * PRODUCTION | (PRODUCTION)</span><br><span class="line">  开始： PRODUCTION</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<p>老规矩，直接来输入<code>1+2*3*(4+5)</code></p>
<p>首先输入1，这时候选择移入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">  number(&quot;number(1)&quot;)</span><br></pre></td></tr></table></figure>

<p>然后遇到<code>+</code>,选择规约<code>PRODUCTION -&gt; number</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">  pro(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;)</span><br></pre></td></tr></table></figure>

<p>然后输入<code>+</code>,选择移入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">  pro(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;)</span><br><span class="line">  +</span><br></pre></td></tr></table></figure>

<p>然后输入字符<code>2</code>, 选择移入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">  pro(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;)</span><br><span class="line">  +</span><br><span class="line">  number2(&quot;number(2)&quot;)</span><br></pre></td></tr></table></figure>

<p>然后遇到字符<code>*</code>,选择规约 <code>PRODUCTION -&gt; number</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">  pro1(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;)</span><br><span class="line">  +</span><br><span class="line">  pro2(&quot;PRODUCTION&quot;) --&gt; number2(&quot;number(2)&quot;)</span><br></pre></td></tr></table></figure>

<p>输入字符<code>*</code>, 选择移入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">  pro1(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;)</span><br><span class="line">  +</span><br><span class="line">  pro2(&quot;PRODUCTION&quot;) --&gt; number2(&quot;number(2)&quot;)</span><br><span class="line">  *</span><br></pre></td></tr></table></figure>

<p>输入字符<code>3</code>,选择移入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">  pro1(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;)</span><br><span class="line">  +</span><br><span class="line">  pro2(&quot;PRODUCTION&quot;) --&gt; number2(&quot;number(2)&quot;)</span><br><span class="line">  *</span><br><span class="line">  number3(&quot;number(3)&quot;)</span><br></pre></td></tr></table></figure>



<p>遇到字符<code>*</code>, 选择规约<code>PRODUCTION -&gt; number</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">  pro1(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;)</span><br><span class="line">  +</span><br><span class="line">  pro2(&quot;PRODUCTION&quot;) --&gt; number2(&quot;number(2)&quot;)</span><br><span class="line">  *</span><br><span class="line">  pro3(&quot;PRODUCTION&quot;) --&gt; number3(&quot;number(3)&quot;)</span><br></pre></td></tr></table></figure>

<p>遇到字符<code>*</code>,选择规约<code>PRODUCTION -&gt; PRODUCTION * PRODUCTION</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">  pro1(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;)</span><br><span class="line">  +</span><br><span class="line">  pro2(&quot;PRODUCTION&quot;) --&gt; number2(&quot;number(2)&quot;)</span><br><span class="line">  *</span><br><span class="line">  pro3(&quot;PRODUCTION&quot;) --&gt; number3(&quot;number(3)&quot;)</span><br><span class="line">  proMum(PRODUCTION) --&gt; pro2 &amp; pro3 &amp; *</span><br></pre></td></tr></table></figure>

<p>读取字符<code>*</code>,选择移入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">  pro1(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;)</span><br><span class="line">  +</span><br><span class="line">  pro2(&quot;PRODUCTION&quot;) --&gt; number2(&quot;number(2)&quot;)</span><br><span class="line">  *</span><br><span class="line">  pro3(&quot;PRODUCTION&quot;) --&gt; number3(&quot;number(3)&quot;)</span><br><span class="line">  proMum(PRODUCTION) --&gt; pro2 &amp; pro3 &amp; *</span><br><span class="line">  mul2(&quot;*&quot;)</span><br></pre></td></tr></table></figure>

<p>读取字符<code>(</code> 选择移入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">  pro1(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;)</span><br><span class="line">  +</span><br><span class="line">  pro2(&quot;PRODUCTION&quot;) --&gt; number2(&quot;number(2)&quot;)</span><br><span class="line">  *</span><br><span class="line">  pro3(&quot;PRODUCTION&quot;) --&gt; number3(&quot;number(3)&quot;)</span><br><span class="line">  proMum(PRODUCTION) --&gt; pro2 &amp; pro3 &amp; *</span><br><span class="line">  mul2(&quot;*&quot;)</span><br><span class="line">  left(&quot;(&quot;)</span><br></pre></td></tr></table></figure>

<p>读取字符<code>4</code>, 选择移入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">  pro1(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;)</span><br><span class="line">  +</span><br><span class="line">  pro2(&quot;PRODUCTION&quot;) --&gt; number2(&quot;number(2)&quot;)</span><br><span class="line">  *</span><br><span class="line">  pro3(&quot;PRODUCTION&quot;) --&gt; number3(&quot;number(3)&quot;)</span><br><span class="line">  proMum(PRODUCTION) --&gt; pro2 &amp; pro3 &amp; *</span><br><span class="line">  mul2(&quot;*&quot;)</span><br><span class="line">  left(&quot;(&quot;)</span><br><span class="line">  n4(&quot;number(4)&quot;)</span><br></pre></td></tr></table></figure>

<p>遇到字符<code>+</code>，选择规约<code>PODUCTION -&gt; number</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">  pro1(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;)</span><br><span class="line">  +</span><br><span class="line">  pro2(&quot;PRODUCTION&quot;) --&gt; number2(&quot;number(2)&quot;)</span><br><span class="line">  *</span><br><span class="line">  pro3(&quot;PRODUCTION&quot;) --&gt; number3(&quot;number(3)&quot;)</span><br><span class="line">  proMum(PRODUCTION) --&gt; pro2 &amp; pro3 &amp; *</span><br><span class="line">  mul2(&quot;*&quot;)</span><br><span class="line">  left(&quot;(&quot;)</span><br><span class="line">  pro4(PRODUCTION) --&gt; n4(&quot;number(4)&quot;)</span><br></pre></td></tr></table></figure>

<p>读入字符<code>+</code>, 选择移入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">  pro1(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;)</span><br><span class="line">  +</span><br><span class="line">  pro2(&quot;PRODUCTION&quot;) --&gt; number2(&quot;number(2)&quot;)</span><br><span class="line">  *</span><br><span class="line">  pro3(&quot;PRODUCTION&quot;) --&gt; number3(&quot;number(3)&quot;)</span><br><span class="line">  proMum(PRODUCTION) --&gt; pro2 &amp; pro3 &amp; *</span><br><span class="line">  mul2(&quot;*&quot;)</span><br><span class="line">  left(&quot;(&quot;)</span><br><span class="line">  pro4(PRODUCTION) --&gt; n4(&quot;number(4)&quot;)</span><br><span class="line">  add2(+)</span><br></pre></td></tr></table></figure>

<p>读入字符<code>5</code>, 选择移入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">  pro1(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;)</span><br><span class="line">  +</span><br><span class="line">  pro2(&quot;PRODUCTION&quot;) --&gt; number2(&quot;number(2)&quot;)</span><br><span class="line">  *</span><br><span class="line">  pro3(&quot;PRODUCTION&quot;) --&gt; number3(&quot;number(3)&quot;)</span><br><span class="line">  proMum(PRODUCTION) --&gt; pro2 &amp; pro3 &amp; *</span><br><span class="line">  mul2(&quot;*&quot;)</span><br><span class="line">  left(&quot;(&quot;)</span><br><span class="line">  pro4(PRODUCTION) --&gt; n4(&quot;number(4)&quot;)</span><br><span class="line">  add2(+)</span><br><span class="line">  n5(&quot;number(5)&quot;)</span><br></pre></td></tr></table></figure>

<p>遇到字符<code>)</code>选择规约<code>PRODUCTION -&gt; number</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">  pro1(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;)</span><br><span class="line">  +</span><br><span class="line">  pro2(&quot;PRODUCTION&quot;) --&gt; number2(&quot;number(2)&quot;)</span><br><span class="line">  *</span><br><span class="line">  pro3(&quot;PRODUCTION&quot;) --&gt; number3(&quot;number(3)&quot;)</span><br><span class="line">  proMum(PRODUCTION) --&gt; pro2 &amp; pro3 &amp; *</span><br><span class="line">  mul2(&quot;*&quot;)</span><br><span class="line">  left(&quot;(&quot;)</span><br><span class="line">  pro4(PRODUCTION) --&gt; n4(&quot;number(4)&quot;)</span><br><span class="line">  add2(+)</span><br><span class="line">  pro5(PRODUCTION) --&gt;n5(&quot;number(5)&quot;)</span><br></pre></td></tr></table></figure>

<p>遇到字符<code>)</code>选择规约<code>PRODUCTION -&gt; PRODUCTION + PRODUCTION</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">  pro1(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;)</span><br><span class="line">  +</span><br><span class="line">  pro2(&quot;PRODUCTION&quot;) --&gt; number2(&quot;number(2)&quot;)</span><br><span class="line">  *</span><br><span class="line">  pro3(&quot;PRODUCTION&quot;) --&gt; number3(&quot;number(3)&quot;)</span><br><span class="line">  proMum(PRODUCTION) --&gt; pro2 &amp; pro3 &amp; *</span><br><span class="line">  mul2(&quot;*&quot;)</span><br><span class="line">  left(&quot;(&quot;)</span><br><span class="line">  pro4(PRODUCTION) --&gt; n4(&quot;number(4)&quot;)</span><br><span class="line">  add2(+)</span><br><span class="line">  pro5(PRODUCTION) --&gt;n5(&quot;number(5)&quot;)</span><br><span class="line">  proSum2(PRODUCTION) --&gt; pro4 &amp; add2 &amp; pro5</span><br></pre></td></tr></table></figure>

<p>读入字符<code>)</code> , 选择移入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">  pro1(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;)</span><br><span class="line">  +</span><br><span class="line">  pro2(&quot;PRODUCTION&quot;) --&gt; number2(&quot;number(2)&quot;)</span><br><span class="line">  *</span><br><span class="line">  pro3(&quot;PRODUCTION&quot;) --&gt; number3(&quot;number(3)&quot;)</span><br><span class="line">  proMum(PRODUCTION) --&gt; pro2 &amp; pro3 &amp; *</span><br><span class="line">  mul2(&quot;*&quot;)</span><br><span class="line">  left(&quot;(&quot;)</span><br><span class="line">  pro4(PRODUCTION) --&gt; n4(&quot;number(4)&quot;)</span><br><span class="line">  add2(+)</span><br><span class="line">  pro5(PRODUCTION) --&gt;n5(&quot;number(5)&quot;)</span><br><span class="line">  proSum2(PRODUCTION) --&gt; pro4 &amp; add2 &amp; pro5</span><br><span class="line">  right(&quot;)&quot;)</span><br></pre></td></tr></table></figure>

<p>遇到字符<code>$</code>,选择规约<code>PRODUCTION -&gt; ( PRODUCTION )</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">  pro1(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;)</span><br><span class="line">  +</span><br><span class="line">  pro2(&quot;PRODUCTION&quot;) --&gt; number2(&quot;number(2)&quot;)</span><br><span class="line">  *</span><br><span class="line">  pro3(&quot;PRODUCTION&quot;) --&gt; number3(&quot;number(3)&quot;)</span><br><span class="line">  proMum(PRODUCTION) --&gt; pro2 &amp; pro3 &amp; *</span><br><span class="line">  mul2(&quot;*&quot;)</span><br><span class="line">  left(&quot;(&quot;)</span><br><span class="line">  pro4(PRODUCTION) --&gt; n4(&quot;number(4)&quot;)</span><br><span class="line">  add2(+)</span><br><span class="line">  pro5(PRODUCTION) --&gt;n5(&quot;number(5)&quot;)</span><br><span class="line">  proSum2(PRODUCTION) --&gt; pro4 &amp; add2 &amp; pro5</span><br><span class="line">  right(&quot;)&quot;)</span><br><span class="line">  proLeftRight(PRODUCTION) --&gt; left &amp; proSum2 &amp; right</span><br></pre></td></tr></table></figure>

<p>遇到字符<code>$</code>,选择规约<code>PRODUCTION -&gt; PRODUCTION*PRODUCTION</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">  pro1(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;)</span><br><span class="line">  +</span><br><span class="line">  pro2(&quot;PRODUCTION&quot;) --&gt; number2(&quot;number(2)&quot;)</span><br><span class="line">  *</span><br><span class="line">  pro3(&quot;PRODUCTION&quot;) --&gt; number3(&quot;number(3)&quot;)</span><br><span class="line">  proMum(PRODUCTION) --&gt; pro2 &amp; pro3 &amp; *</span><br><span class="line">  mul2(&quot;*&quot;)</span><br><span class="line">  left(&quot;(&quot;)</span><br><span class="line">  pro4(PRODUCTION) --&gt; n4(&quot;number(4)&quot;)</span><br><span class="line">  add2(+)</span><br><span class="line">  pro5(PRODUCTION) --&gt;n5(&quot;number(5)&quot;)</span><br><span class="line">  proSum2(PRODUCTION) --&gt; pro4 &amp; add2 &amp; pro5</span><br><span class="line">  right(&quot;)&quot;)</span><br><span class="line">  proLeftRight(PRODUCTION) --&gt; left &amp; proSum2 &amp; right</span><br><span class="line">  pro2LeftRight --&gt; proLeftRight &amp; proMum &amp; mul2</span><br></pre></td></tr></table></figure>

<p>遇到字符<code>$</code>,选择规约<code>PRODUCTION -&gt; PRODUCTION+PRODUCTION</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">  pro1(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;)</span><br><span class="line">  +</span><br><span class="line">  pro2(&quot;PRODUCTION&quot;) --&gt; number2(&quot;number(2)&quot;)</span><br><span class="line">  *</span><br><span class="line">  pro3(&quot;PRODUCTION&quot;) --&gt; number3(&quot;number(3)&quot;)</span><br><span class="line">  proMum(PRODUCTION) --&gt; pro2 &amp; pro3 &amp; *</span><br><span class="line">  mul2(&quot;*&quot;)</span><br><span class="line">  left(&quot;(&quot;)</span><br><span class="line">  pro4(PRODUCTION) --&gt; n4(&quot;number(4)&quot;)</span><br><span class="line">  add2(+)</span><br><span class="line">  pro5(PRODUCTION) --&gt;n5(&quot;number(5)&quot;)</span><br><span class="line">  proSum2(PRODUCTION) --&gt; pro4 &amp; add2 &amp; pro5</span><br><span class="line">  right(&quot;)&quot;)</span><br><span class="line">  proLeftRight(PRODUCTION) --&gt; left &amp; proSum2 &amp; right</span><br><span class="line">  pro2LeftRight --&gt; proLeftRight &amp; proMum &amp; mul2</span><br><span class="line">  summm(PRODUCTION) --&gt; pro1 &amp; + &amp; pro2LeftRight</span><br></pre></td></tr></table></figure>

<p>至此，结束</p>
<h2 id="5-10-2-移入还是规约"><a href="#5-10-2-移入还是规约" class="headerlink" title="5.10.2. 移入还是规约"></a>5.10.2. 移入还是规约</h2><p>现在读者应该明白，LR算法是非常强大的，但是当碰到一个字符的时候，要选择移入还是规约呢，当选择规约的时候，要用哪个产生式规约呢？</p>
<p>当LR分析表表明，可以同时移入和规约时，这被称为移入规约冲突</p>
<p>当LR分析表表明，可以同时多个产生式规约时，这被称为规约规约冲突</p>
<h2 id="5-10-3-SLR算法介绍"><a href="#5-10-3-SLR算法介绍" class="headerlink" title="5.10.3. SLR算法介绍"></a>5.10.3. SLR算法介绍</h2><p>SLR算法是最简单的LR算法，首先当然是需要计算FIRST集和FOLLOW集的。然后就是计算增广文法，这里涉及到项集的概念。</p>
<h2 id="5-10-4-SLR项集"><a href="#5-10-4-SLR项集" class="headerlink" title="5.10.4. SLR项集"></a>5.10.4. SLR项集</h2><p>增广产生式，产生式的形式为<code>A -&gt; B1 B2 B3 B4</code>, 他仅能代表替换规则，无法代表当前匹配到哪个地方了，增广产生式向其中加了一个标记位，用来表示当前匹配到了哪个地方。</p>
<p>比如<code>A -&gt; · B1 B2 B3 B4</code>代表刚刚开始匹配，<code>A -&gt; B1 · B2 B3 B4</code>代表已经识别了符号<code>B1</code></p>
<p>借此概念，引入项集，项集就是一个产生式以及他的匹配标记位上经过产生式替换之后得到的闭包。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">加法：</span><br><span class="line">  终结符: number, +</span><br><span class="line">  非终结符: SUM</span><br><span class="line">  产生式: SUM -&gt; number | SUM + number</span><br><span class="line">  开始： SUM</span><br></pre></td></tr></table></figure>

<p>开始的产生式为下文， 这里已经构成了闭包。我们定义这个产生式集合为项集1。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SUM -&gt; · number</span><br><span class="line">SUM -&gt; · SUM + number</span><br></pre></td></tr></table></figure>

<p>项集1在读入number以后，得到了项集2</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SUM -&gt; number ·</span><br></pre></td></tr></table></figure>

<p>项集1在读入SUM以后，得到了项集3</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SUM -&gt; SUM · + number</span><br></pre></td></tr></table></figure>

<p>项集3读入<code>+</code>以后，得到了项集4</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SUM -&gt; SUM + · number</span><br></pre></td></tr></table></figure>

<p>项集4读入number以后，得到了项集5</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SUM -&gt; SUM + number ·</span><br></pre></td></tr></table></figure>

<p>于是我们整理一下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">  I1(&quot;SUM -&gt; · number&lt;br/&gt;SUM -&gt; · SUM + number&quot;)</span><br><span class="line">  I2(&quot;SUM -&gt; number ·&quot;)</span><br><span class="line">  I3(&quot;SUM -&gt; SUM · + number&quot;)</span><br><span class="line">  I4(&quot;SUM -&gt; SUM + · number&quot;)</span><br><span class="line">  I5(&quot;SUM -&gt; SUM + number ·&quot;)</span><br><span class="line">  I1 --&gt;|number| I2</span><br><span class="line">  I1 --&gt;|SUM| I3</span><br><span class="line">  I3 --&gt;|+| I4</span><br><span class="line">  I4 --&gt;|number| I5</span><br></pre></td></tr></table></figure>



<p>接下来我们看一个闭包的问题</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">加法乘法：</span><br><span class="line">  终结符: number, +, *</span><br><span class="line">  非终结符: SUM, MUL, PRODUCTION</span><br><span class="line">  产生式: SUM -&gt; PRODUCTION + MUL</span><br><span class="line">           MUL -&gt; MUL * number | number</span><br><span class="line">           PRODUCTION -&gt; SUM | MUL</span><br><span class="line">  开始： PRODUCTION</span><br></pre></td></tr></table></figure>

<p>开始的产生式为下文</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PRODUCTION -&gt; · SUM</span><br><span class="line">PRODUCTION -&gt; · MUL</span><br></pre></td></tr></table></figure>

<p>但是他没有构成闭包，需要进行闭包替换，即展开标记位后的非终结符， 下文是项集1</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">PRODUCTION -&gt; · SUM</span><br><span class="line">PRODUCTION -&gt; · MUL</span><br><span class="line">SUM -&gt; · PRODUCTION + MUL</span><br><span class="line">MUL -&gt; · MUL * number</span><br><span class="line">MUL -&gt; · number</span><br></pre></td></tr></table></figure>

<p>项集1读入number转为项集2</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MUL -&gt; number ·</span><br></pre></td></tr></table></figure>

<p>项集1读入SUM转为项集3</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PRODUCTION -&gt; SUM · </span><br></pre></td></tr></table></figure>

<p>项集1读入MUL转为项集4</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PRODUCTION -&gt; MUL · </span><br><span class="line">MUL -&gt; MUL · * number</span><br></pre></td></tr></table></figure>

<p>项集1读入PRODUCTION 转为项集5</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SUM -&gt; PRODUCTION · + MUL</span><br></pre></td></tr></table></figure>

<p>项集4读入 <code>*</code>  到项集6</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MUL -&gt; MUL * · number</span><br></pre></td></tr></table></figure>

<p>项集6读入number，得到项集7</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MUL -&gt; MUL * number · </span><br></pre></td></tr></table></figure>

<p>项集5读入+得到项集8，</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SUM -&gt; PRODUCTION + · MUL</span><br><span class="line">MUL -&gt; · MUL * number</span><br><span class="line">MUL -&gt; · number</span><br></pre></td></tr></table></figure>

<p>项集8读入MUL到项集9</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SUM -&gt; PRODUCTION + MUL ·</span><br><span class="line">MUL -&gt; MUL · * number</span><br></pre></td></tr></table></figure>



<p>下图是全流程</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">  I1(&quot;状态1&lt;br/&gt;PRODUCTION -&gt; · SUM&lt;br/&gt;PRODUCTION -&gt; · MUL&lt;br/&gt;SUM -&gt; · PRODUCTION + MUL&lt;br/&gt;MUL -&gt; · MUL * number&lt;br/&gt;MUL -&gt; · number&quot;)</span><br><span class="line">  I2(&quot;状态2&lt;br/&gt;MUL -&gt; number ·&quot;)</span><br><span class="line">  I3(&quot;状态3&lt;br/&gt;PRODUCTION -&gt; SUM · &quot;)</span><br><span class="line">  I4(&quot;状态4&lt;br/&gt;PRODUCTION -&gt; MUL · &lt;br/&gt;MUL -&gt; MUL · * number&quot;)</span><br><span class="line">  I5(&quot;状态5&lt;br/&gt;SUM -&gt; PRODUCTION · + MUL&quot;)</span><br><span class="line">  I6(&quot;状态6&lt;br/&gt;MUL -&gt; MUL * · number&quot;)</span><br><span class="line">  I7(&quot;状态7&lt;br/&gt;MUL -&gt; MUL * number · &quot;)</span><br><span class="line">  I8(&quot;状态8&lt;br/&gt;SUM -&gt; PRODUCTION + · MUL&lt;br/&gt;MUL -&gt; · MUL * number&lt;br/&gt;MUL -&gt; · number&quot;)</span><br><span class="line">  I9(&quot;状态9&lt;br/&gt;SUM -&gt; PRODUCTION + MUL ·&lt;br/&gt;MUL -&gt; MUL · * number&quot;)</span><br><span class="line">  I10(&quot;状态10&lt;br/&gt;MUL -&gt; number ·&quot;)</span><br><span class="line">  I1 --&gt;|number| I2</span><br><span class="line">  I1 --&gt;|SUM| I3</span><br><span class="line">  I1 --&gt;|MUL| I4</span><br><span class="line">  I1 --&gt;|PODUCTION| I5</span><br><span class="line">  I4 --&gt;|*| I6</span><br><span class="line">  I6 --&gt;|number| I7</span><br><span class="line">  I5 --&gt;|+| I8</span><br><span class="line">  I8 --&gt;|MUL| I9</span><br><span class="line">  I8 --&gt;|number| I10</span><br><span class="line">  I9 --&gt;|*| I6</span><br><span class="line">  </span><br></pre></td></tr></table></figure>



<h2 id="5-10-5-SLR表生成算法"><a href="#5-10-5-SLR表生成算法" class="headerlink" title="5.10.5. SLR表生成算法"></a>5.10.5. SLR表生成算法</h2><p>当我们计算出项集以后，就可以根据项集、FIRST集、FOLLOW集构建SLR表了，具体构造方式如下，对于项集中的每个项，就是SLR表的行，也即状态。这次我们直接看这个复杂的例子(见6.10.4)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">加法乘法：</span><br><span class="line">  终结符: number, +, *</span><br><span class="line">  非终结符: SUM, MUL, PRODUCTION</span><br><span class="line">  产生式: SUM -&gt; PRODUCTION + MUL</span><br><span class="line">           MUL -&gt; MUL * number | number</span><br><span class="line">           PRODUCTION -&gt; SUM | MUL</span><br><span class="line">  开始： PRODUCTION</span><br></pre></td></tr></table></figure>



<p>状态中的边就对应着移入，下面我们首先按照边填充所有的移入指令,移入指令针对于终结符，状态1下的s2,就对应着移入字符number，然后跳转到状态2</p>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">number</th>
<th align="center">+</th>
<th align="center">*</th>
<th align="center">SUM</th>
<th align="center">MUL</th>
<th align="center">PRODUCTION</th>
<th align="center">$</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">s2</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">2</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">3</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">4</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">s6</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">5</td>
<td align="center"></td>
<td align="center">s8</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">s7</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">7</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">s10</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">9</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">s6</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">10</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody></table>
<p>然后按照边填充goto，对于非终结符，按照边进行填写（和移入一致），goto3意味着状态1下，碰到SUM后，跳转到状态3</p>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">number</th>
<th align="center">+</th>
<th align="center">*</th>
<th align="center">SUM</th>
<th align="center">MUL</th>
<th align="center">PRODUCTION</th>
<th align="center">$</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">s2</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">goto3</td>
<td align="center">goto4</td>
<td align="center">goto5</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">2</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">3</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">4</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">s6</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">5</td>
<td align="center"></td>
<td align="center">s8</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">s7</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">7</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">s10</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">goto9</td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">9</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">s6</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">10</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody></table>
<p>第三步注意到状态3和状态4较为特殊，他们包含了终结态，所以在状态3和状态4下输入<code>$</code>则表明识别完成</p>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">number</th>
<th align="center">+</th>
<th align="center">*</th>
<th align="center">SUM</th>
<th align="center">MUL</th>
<th align="center">PRODUCTION</th>
<th align="center">$</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">s2</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">goto3</td>
<td align="center">goto4</td>
<td align="center">goto5</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">2</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">3</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">ACC</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">s6</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">ACC</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center"></td>
<td align="center">s8</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">s7</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">7</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">s10</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">goto9</td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">9</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">s6</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">10</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody></table>
<p>最后一步，根据FOLLOW集处理规约，先想想规约是什么，就是碰到一个无法识别的字符以后，需要将以前的数据进行规约，状态2，3，4，7，9，10都存在规约的情况，</p>
<p>先来计算FOLLOW集，能发现MUL的FOLLOW集为<code>*, +,$</code>, SUM的FOLLOW集为<code>+,$</code>，PRODUCTION的FOLLOW集为<code>+,$</code></p>
<p>先看状态2，明显可以使用产生式<code>MUL -&gt; number</code>规约，但是在状态2碰到哪些字符才能规约呢？其实就是MUL的FOLLOW集,于是有了下表,r代表规约，其右边的括号内写着产生式</p>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">number</th>
<th align="center">+</th>
<th align="center">*</th>
<th align="center">SUM</th>
<th align="center">MUL</th>
<th align="center">PRODUCTION</th>
<th align="center">$</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">s2</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">goto3</td>
<td align="center">goto4</td>
<td align="center">goto5</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">2</td>
<td align="center"></td>
<td align="center">r(MUL-&gt;number)</td>
<td align="center">r(MUL-&gt;number)</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">r(MUL-&gt;number)</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">ACC</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">s6</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">ACC</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center"></td>
<td align="center">s8</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">s7</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">7</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">s10</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">goto9</td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">9</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">s6</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">10</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody></table>
<p>后面的状态3，4，7，9，10同理了，剩下的没有填充的地方就是报错了，注意到状态2和3，碰到<code>$</code>时要特殊判断，直接ACC</p>
<table>
<thead>
<tr>
<th align="center">状态</th>
<th align="center">number</th>
<th align="center">+</th>
<th align="center">*</th>
<th align="center">SUM</th>
<th align="center">MUL</th>
<th align="center">PRODUCTION</th>
<th align="center">$</th>
</tr>
</thead>
<tbody><tr>
<td align="center">1</td>
<td align="center">s2</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">goto3</td>
<td align="center">goto4</td>
<td align="center">goto5</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">2</td>
<td align="center"></td>
<td align="center">r(MUL-&gt;number)</td>
<td align="center">r(MUL-&gt;number)</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">r(MUL-&gt;number)</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center"></td>
<td align="center">r(PRODUCTION -&gt; SUM)</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">ACC</td>
</tr>
<tr>
<td align="center">4</td>
<td align="center"></td>
<td align="center">r(PRODUCTION -&gt; MUL)</td>
<td align="center">s6</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">ACC</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center"></td>
<td align="center">s8</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center">s7</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">7</td>
<td align="center"></td>
<td align="center">r(MUL -&gt; MUL * number )</td>
<td align="center">r(MUL -&gt; MUL * number )</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">r(MUL -&gt; MUL * number )</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">s10</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">goto9</td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">9</td>
<td align="center"></td>
<td align="center">r(SUM -&gt; PRODUCTION + MUL)</td>
<td align="center">s6</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">r(SUM -&gt; PRODUCTION + MUL)</td>
</tr>
<tr>
<td align="center">10</td>
<td align="center"></td>
<td align="center">r(MUL-&gt;number)</td>
<td align="center">r(MUL-&gt;number)</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">r(MUL-&gt;number)</td>
</tr>
</tbody></table>
<p>接下来我们根据SLR表来跑一下LR算法验证一下输入<code>1+2*3</code></p>
<table>
<thead>
<tr>
<th>步骤</th>
<th>状态</th>
<th>操作</th>
<th>状态栈</th>
<th>符号栈</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td></td>
<td>最开始有一个状态栈，其中包含状态1<br />一个符号栈，为空</td>
<td><code>[栈底,1]</code></td>
<td><code> [栈底]</code></td>
</tr>
<tr>
<td>2</td>
<td>从状态栈顶读取状态<br />现在位于状态1</td>
<td>读入字符<code>number1</code>, 执行<code>s2</code> <br />则状态2入栈，字符number1入栈</td>
<td><code>[栈底,1,2]</code></td>
<td><code>[栈底,number1]</code></td>
</tr>
<tr>
<td>3</td>
<td>从状态栈顶读取状态<br />现在位于状态2</td>
<td>遇到字符<code>+</code>不读入, 执行<code>r(MUL-&gt;number)</code> <br />状态栈弹出状态2，符号栈弹出<code>number1</code><br />然后<code>MUL</code>符号准备入栈, 入栈时状态栈顶为1<br />于是执行<code>goto4</code></td>
<td><code>[栈底,1,4]</code></td>
<td><code>[栈底,MUL]</code></td>
</tr>
<tr>
<td>4</td>
<td>从状态栈顶读取状态<br />现在位于状态4</td>
<td>遇到字符<code>+</code>不读入, 执行<code>r(PRODUCTION -&gt; MUL)</code><br /> 状态4弹出，符号MUL弹出，<br />然后PRODUCTION符号准备入栈，此时栈顶为1 <br />于是执行<code>goto5</code></td>
<td><code>[栈底,1,5]</code></td>
<td><code>[栈底,PRODUCTION]</code></td>
</tr>
<tr>
<td>5</td>
<td>从状态栈顶读取状态<br />现在位于状态4</td>
<td>读入字符<code>+</code>， 执行<code>s8</code></td>
<td><code>[栈底,1,5,8]</code></td>
<td><code> [栈底,PRODUCTION,+]</code></td>
</tr>
<tr>
<td>6</td>
<td>从状态栈顶读取状态<br />现在位于状态8</td>
<td>读入字符<code>number2</code>,执行<code>s10</code></td>
<td><code>[栈底,1,5,8,10]</code></td>
<td><code> [栈底,PRODUCTION,+,number2]</code></td>
</tr>
<tr>
<td>7</td>
<td>从状态栈顶读取状态<br />现在位于状态10</td>
<td>遇到字符<code>*</code>不读入,于是弹栈、<code>goto9</code></td>
<td><code>[栈底,1,5,8,9]</code></td>
<td>,<code>[栈底,PRODUCTION,+,MUL]</code></td>
</tr>
<tr>
<td>8</td>
<td>从状态栈顶读取状态<br />现在位于状态9</td>
<td>读入字符<code>*</code>，执行<code>s6</code></td>
<td><code>[栈底,1,5,8,9,6]</code></td>
<td><code> [栈底,PRODUCTION,+,MUL,*]</code></td>
</tr>
<tr>
<td>9</td>
<td>从状态栈顶读取状态<br />现在位于状态6</td>
<td>,读入字符<code>number3</code>， 执行<code>s7</code></td>
<td><code>[栈底,1,5,8,9,6,7]</code></td>
<td><code> [栈底,PRODUCTION,+,MUL,*,number3]</code></td>
</tr>
<tr>
<td>10</td>
<td>从状态栈顶读取状态<br />现在位于状态7</td>
<td>遇到字符<code>$</code>不读入,执行<code>r(MUL -&gt; MUL * number )</code><br />符号栈弹出三个，状态栈弹出三个<br />然后处于状态8，按照发现遇到MUL<br />执行<code>goto9</code></td>
<td><code>[栈底,1,5,8,9] </code></td>
<td><code>[栈底,PRODUCTION,+,MUL]</code></td>
</tr>
<tr>
<td>11</td>
<td>从状态栈顶读取状态<br />现在位于状态9</td>
<td>遇到字符<code>$</code>不读入, 执行<code>r(SUM -&gt; PRODUCTION + MUL)</code><br />两个栈都是弹出三个，处于状态1<br />遇到SUM,执行<code>goto3</code></td>
<td><code>[栈底,1,3] </code></td>
<td><code>[栈底,SUM]</code></td>
</tr>
<tr>
<td>12</td>
<td>从状态栈顶读取状态<br />现在位于状态3,</td>
<td>读入字符<code>$</code>，结束</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h2 id="5-10-6-SLR算法伪代码"><a href="#5-10-6-SLR算法伪代码" class="headerlink" title="5.10.6 SLR算法伪代码"></a>5.10.6 SLR算法伪代码</h2><ol>
<li>构造文法的规范LR(0) 项集簇 C &#x3D; ${I_0, I_1, … I_n}$. </li>
<li>对于状态i，  <br>① 如果[A-&gt;α·aβ]在状态中，a为终结符且GOTO(i,a)&#x3D;j， 则ACTION[i,a]为: “移入j”  <br>② 如果[A-&gt;α·]在状态中且A不为开始符号，则对于所有的FOLLOW(A)的字符a，将ACTION[i,a]设为: “规约A-&gt;α”  <br>③ 如果[A-&gt;α·]在状态中且A为开始符号，则将ACTION[i,$]设为: “接受” </li>
<li>对于状态i，如果A为非终结符且 GOTO(i,A)&#x3D;j 则GOTO[i,A]&#x3D;j </li>
<li>剩下的地方就是报错 5. 起点是[S’-&gt;·S]</li>
</ol>
<h2 id="5-10-7-冲突与规约"><a href="#5-10-7-冲突与规约" class="headerlink" title="5.10.7 冲突与规约"></a>5.10.7 冲突与规约</h2><p>由于SLR文法很简单，他能识别的文法其实很少很少，大部分文法在他这里都会冲突，也就是一张SLR表中，一个状态遇到了同一个符号时，表要求进行多种操作。</p>
<p>但是SLR文法也容易实现，所以在笔者的compiler项目中，很多地方都直接执行了SLR算法</p>
<p>所以我们还需要对文法进行进一步增广，后面提出LR1算法。</p>
<h2 id="5-10-8-LR1-增广文法"><a href="#5-10-8-LR1-增广文法" class="headerlink" title="5.10.8 LR1 增广文法"></a>5.10.8 LR1 增广文法</h2><p>LR1在SLR的基础上继续进行增广，继续引入了end集合，下面继续回忆一下文法和项集</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">加法乘法：</span><br><span class="line">  终结符: number, +, *</span><br><span class="line">  非终结符: SUM, MUL, PRODUCTION</span><br><span class="line">  产生式: SUM -&gt; PRODUCTION + MUL</span><br><span class="line">           MUL -&gt; MUL * number | number</span><br><span class="line">           PRODUCTION -&gt; SUM | MUL</span><br><span class="line">  开始： PRODUCTION</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">  I1(&quot;状态1&lt;br/&gt;PRODUCTION -&gt; · SUM&lt;br/&gt;PRODUCTION -&gt; · MUL&lt;br/&gt;SUM -&gt; · PRODUCTION + MUL&lt;br/&gt;MUL -&gt; · MUL * number&lt;br/&gt;MUL -&gt; · number&quot;)</span><br><span class="line">  I2(&quot;状态2&lt;br/&gt;MUL -&gt; number ·&quot;)</span><br><span class="line">  I3(&quot;状态3&lt;br/&gt;PRODUCTION -&gt; SUM · &quot;)</span><br><span class="line">  I4(&quot;状态4&lt;br/&gt;PRODUCTION -&gt; MUL · &lt;br/&gt;MUL -&gt; MUL · * number&quot;)</span><br><span class="line">  I5(&quot;状态5&lt;br/&gt;SUM -&gt; PRODUCTION · + MUL&quot;)</span><br><span class="line">  I6(&quot;状态6&lt;br/&gt;MUL -&gt; MUL * · number&quot;)</span><br><span class="line">  I7(&quot;状态7&lt;br/&gt;MUL -&gt; MUL * number · &quot;)</span><br><span class="line">  I8(&quot;状态8&lt;br/&gt;SUM -&gt; PRODUCTION + · MUL&lt;br/&gt;MUL -&gt; · MUL * number&lt;br/&gt;MUL -&gt; · number&quot;)</span><br><span class="line">  I9(&quot;状态9&lt;br/&gt;SUM -&gt; PRODUCTION + MUL ·&lt;br/&gt;MUL -&gt; MUL · * number&quot;)</span><br><span class="line">  I10(&quot;状态10&lt;br/&gt;MUL -&gt; number ·&quot;)</span><br><span class="line">  I1 --&gt;|number| I2</span><br><span class="line">  I1 --&gt;|SUM| I3</span><br><span class="line">  I1 --&gt;|MUL| I4</span><br><span class="line">  I1 --&gt;|PODUCTION| I5</span><br><span class="line">  I4 --&gt;|*| I6</span><br><span class="line">  I6 --&gt;|number| I7</span><br><span class="line">  I5 --&gt;|+| I8</span><br><span class="line">  I8 --&gt;|MUL| I9</span><br><span class="line">  I8 --&gt;|number| I10</span><br><span class="line">  I9 --&gt;|*| I6</span><br><span class="line">  </span><br></pre></td></tr></table></figure>



<p>关注状态1· </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">PRODUCTION -&gt; · SUM</span><br><span class="line">PRODUCTION -&gt; · MUL</span><br><span class="line">SUM -&gt; · PRODUCTION + MUL</span><br><span class="line">MUL -&gt; · MUL * number</span><br><span class="line">MUL -&gt; · number</span><br></pre></td></tr></table></figure>

<p>对于其中的<code>PRODUCTION -&gt; · SUM</code>，我们发现，其后紧跟着的因该是<code>$</code>，  </p>
<p>由<code>SUM -&gt; · PRODUCTION + MUL</code>得出，<code>PRODUCTION -&gt; · SUM</code>后可为<code>+</code></p>
<p>注意产生式<code>MUL -&gt; · number</code>，他的后面是<code>*</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">PRODUCTION -&gt; · SUM, $/+</span><br><span class="line">PRODUCTION -&gt; · MUL, $/+</span><br><span class="line">SUM -&gt; · PRODUCTION + MUL, $/+</span><br><span class="line">MUL -&gt; · MUL * number, $/+</span><br><span class="line">MUL -&gt; · number, *</span><br></pre></td></tr></table></figure>



<p>然后是状态2</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MUL -&gt; number · , *</span><br></pre></td></tr></table></figure>

<p>状态3</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PRODUCTION -&gt; SUM · , $/+</span><br></pre></td></tr></table></figure>

<p>状态4</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">PRODUCTION -&gt; MUL · , $/+</span><br><span class="line">MUL -&gt; MUL · * number, $/+</span><br></pre></td></tr></table></figure>

<p>状态5</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SUM -&gt; PRODUCTION · + MUL, $/+</span><br></pre></td></tr></table></figure>

<p>状态8</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SUM -&gt; PRODUCTION + · MUL, $/+</span><br><span class="line">MUL -&gt; · MUL * number, $/+</span><br><span class="line">MUL -&gt; · number, *</span><br></pre></td></tr></table></figure>

<p>状态9</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SUM -&gt; PRODUCTION + MUL · , $/+</span><br><span class="line">MUL -&gt; MUL · * number, $/+</span><br></pre></td></tr></table></figure>

<p>状态10</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MUL -&gt; number · , *</span><br></pre></td></tr></table></figure>

<p>状态6</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MUL -&gt; MUL * · number, $/+</span><br></pre></td></tr></table></figure>

<p>状态7</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MUL -&gt; MUL * number ·, $/+</span><br></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">  I1(&quot;状态1&lt;br/&gt;PRODUCTION -&gt; · SUM, $/+&lt;br/&gt;PRODUCTION -&gt; · MUL, $/+&lt;br/&gt;SUM -&gt; · PRODUCTION + MUL, $/+&lt;br/&gt;MUL -&gt; · MUL * number, $/+&lt;br/&gt;MUL -&gt; · number, *&quot;)</span><br><span class="line">  I2(&quot;状态2&lt;br/&gt;MUL -&gt; number · , *&quot;)</span><br><span class="line">  I3(&quot;状态3&lt;br/&gt;PRODUCTION -&gt; SUM · , $/+&quot;)</span><br><span class="line">  I4(&quot;状态4&lt;br/&gt;PRODUCTION -&gt; MUL · , $/+&lt;br/&gt;MUL -&gt; MUL · * number, $/+&quot;)</span><br><span class="line">  I5(&quot;状态5&lt;br/&gt;SUM -&gt; PRODUCTION · + MUL, $/+&quot;)</span><br><span class="line">  I6(&quot;状态6&lt;br/&gt;MUL -&gt; MUL * · number, $/+&quot;)</span><br><span class="line">  I7(&quot;状态7&lt;br/&gt;MUL -&gt; MUL * number ·, $/+&quot;)</span><br><span class="line">  I8(&quot;状态8&lt;br/&gt;SUM -&gt; PRODUCTION + · MUL, $/+&lt;br/&gt;MUL -&gt; · MUL * number, $/+&lt;br/&gt;MUL -&gt; · number, *&quot;)</span><br><span class="line">  I9(&quot;状态9&lt;br/&gt;SUM -&gt; PRODUCTION + MUL ·, $/+&lt;br/&gt;MUL -&gt; MUL · * number, $/+&quot;)</span><br><span class="line">  I10(&quot;状态10&lt;br/&gt;MUL -&gt; number ·, *&quot;)</span><br><span class="line">  I1 --&gt;|number| I2</span><br><span class="line">  I1 --&gt;|SUM| I3</span><br><span class="line">  I1 --&gt;|MUL| I4</span><br><span class="line">  I1 --&gt;|PODUCTION| I5</span><br><span class="line">  I4 --&gt;|*| I6</span><br><span class="line">  I6 --&gt;|number| I7</span><br><span class="line">  I5 --&gt;|+| I8</span><br><span class="line">  I8 --&gt;|MUL| I9</span><br><span class="line">  I8 --&gt;|number| I10</span><br><span class="line">  I9 --&gt;|*| I6</span><br><span class="line">  </span><br></pre></td></tr></table></figure>



<h2 id="5-10-9-LR1表生成算法伪代码"><a href="#5-10-9-LR1表生成算法伪代码" class="headerlink" title="5.10.9 LR1表生成算法伪代码"></a>5.10.9 LR1表生成算法伪代码</h2><p>当读者理解了SLR表生成的伪代码后，LR1迎刃而解，只有2.2不一样， 可以发现LR1甚至都不需要使用FOLLOW集。</p>
<ol>
<li>构造文法的规范LR(0) 项集簇 C &#x3D; ${I_0, I_1, … I_n}$. </li>
<li>对于状态i，  <br>① 如果[A-&gt;α·aβ]在状态中，a为终结符且GOTO(i,a)&#x3D;j， 则ACTION[i,a]为: “移入j”  <br>② 如果[A-&gt;α·]在状态中且A不为开始符号，则对于<strong>此时的增广文法中的end集</strong>的字符a，将ACTION[i,a]设为: “规约A-&gt;α”  <br>③ 如果[A-&gt;α·]在状态中且A为开始符号，则将ACTION[i,$]设为: “接受” </li>
<li>对于状态i，如果A为非终结符且 GOTO(i,A)&#x3D;j 则GOTO[i,A]&#x3D;j </li>
<li>剩下的地方就是报错 5. 起点是[S’-&gt;·S]</li>
</ol>
<h2 id="5-10-10-LR1算法与SLR算法比较"><a href="#5-10-10-LR1算法与SLR算法比较" class="headerlink" title="5.10.10 LR1算法与SLR算法比较"></a>5.10.10 LR1算法与SLR算法比较</h2><p>可以看到LR1算法比SLR算法更加严格，LR1的end集往往会比FOLLOW集中的字符少。</p>
<h2 id="5-10-11-二义性文法"><a href="#5-10-11-二义性文法" class="headerlink" title="5.10.11 二义性文法"></a>5.10.11 二义性文法</h2><p>回到最初的起点，LR算法使用移入和规约来完成语法树的构建，如果文法二义，则对于所生成的LR分析表，会有冲突的现象，即同时要求移入和规约，或者要求使用多种产生式进行规约，这时候一种解决办法是消除二义性，但是消除二义性的代价太高，往往导致文法难以理解。</p>
<p>于是可以采取另一种方案，例如指定优先级。</p>
<p>二义例子1,移入规约冲突</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ifelse:</span><br><span class="line">  终结符: if, else, condition, block</span><br><span class="line">  非终结符: target</span><br><span class="line">  产生式: target -&gt; block | if condition target | if condition target else target</span><br><span class="line">  开始： target</span><br></pre></td></tr></table></figure>

<p>在面对这个文法时，在碰到终结符<code>else</code>时，<code> target -&gt; if condition target</code>要求规约，<code>target -&gt; if condition target else target</code>而要求移入，实际上，正确的做法为要求移入，所以我们只需要给前一个产生式更高的优先级即可解决问题。</p>
<p>二义例子2,移入规约冲突</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">加法：</span><br><span class="line">  终结符: number, +</span><br><span class="line">  非终结符: SUM</span><br><span class="line">  产生式: SUM -&gt; number | SUM + SUM</span><br><span class="line">  开始： SUM</span><br></pre></td></tr></table></figure>

<p>当栈中已有1+2后，如果又碰到了加号，这时候时移入还是规约呢？ 对于左结合性文法，应该选择规约，对于右结合性文法，应该选择移入。</p>
<p>二义例子3， 移入规约冲突</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">加法乘法：</span><br><span class="line">  终结符: number, +</span><br><span class="line">  非终结符: E</span><br><span class="line">  产生式: E -&gt; number | E + E | E * E</span><br><span class="line">  开始： E</span><br></pre></td></tr></table></figure>

<p>当栈中已有1+2后，如果又碰到了乘号， 这是要移入还是规约呢，<code>E-&gt;E +E </code>要求规约,<code>E-&gt;E * E </code>要求移入,这时应该选择移入, 即给后者更高的优先级。</p>
<h2 id="5-10-12-总结"><a href="#5-10-12-总结" class="headerlink" title="5.10.12 总结"></a>5.10.12 总结</h2><p>至此，大部分二义性问题已被解决，编译器的前端流程也以语法树的成功生成而告一段落了。</p>

        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <!-- 使用 DISQUS -->
<div id="disqus-comment">
    <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'http://fightinggg.github.io/material/QV7MPS.html';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'http://fightinggg.github.io/material/QV7MPS.html'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
</script>
<script type="text/ls-javascript" id="disqus-thread-script">
    queue.offer(function() {
            (function() { // DON'T EDIT BELOW THIS LINE
                var d = document;
                var s = d.createElement('script');
                s.src = '//.disqus.com/embed.js';
                s.setAttribute('data-timestamp', + new Date());
                (d.head || d.body).appendChild(s);
            })();
        });
</script>

</div>
<style>
    #disqus-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>

                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/material/QV7MPT.html" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/material/QV7MPR.html" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/material/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/material/img/avatar.png" alt="fightinggg's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        youremail@email.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="#" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/material/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/material/archives/2023/05/">五月 2023<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2023/03/">三月 2023<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2023/02/">二月 2023<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2022/07/">七月 2022<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2022/05/">五月 2022<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2022/03/">三月 2022<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2022/02/">二月 2022<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2022/01/">一月 2022<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2021/11/">十一月 2021<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2021/10/">十月 2021<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2021/09/">九月 2021<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2021/08/">八月 2021<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2021/07/">七月 2021<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2021/06/">六月 2021<span class="sidebar_archives-count">7</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2021/05/">五月 2021<span class="sidebar_archives-count">14</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2021/04/">四月 2021<span class="sidebar_archives-count">20</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2021/03/">三月 2021<span class="sidebar_archives-count">16</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2021/01/">一月 2021<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2020/12/">十二月 2020<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2020/11/">十一月 2020<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2020/10/">十月 2020<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2020/09/">九月 2020<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2020/08/">八月 2020<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2020/06/">六月 2020<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2020/05/">五月 2020<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2020/04/">四月 2020<span class="sidebar_archives-count">80</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2020/03/">三月 2020<span class="sidebar_archives-count">43</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2020/02/">二月 2020<span class="sidebar_archives-count">12</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2019/12/">十二月 2019<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2019/11/">十一月 2019<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2019/10/">十月 2019<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2019/09/">九月 2019<span class="sidebar_archives-count">8</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2019/08/">八月 2019<span class="sidebar_archives-count">140</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2019/07/">七月 2019<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2019/06/">六月 2019<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2019/05/">五月 2019<span class="sidebar_archives-count">11</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2019/04/">四月 2019<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2019/03/">三月 2019<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2019/02/">二月 2019<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2019/01/">一月 2019<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2018/12/">十二月 2018<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2018/11/">十一月 2018<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2018/10/">十月 2018<span class="sidebar_archives-count">21</span></a></li><li><a class="sidebar_archives-link" href="/material/archives/2018/03/">三月 2018<span class="sidebar_archives-count">1</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    

    <!-- Pages  -->
    

    <!-- Article Number  -->
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->

    <a href="https://github.com/bollnh/hexo-theme-material"  class="sidebar-footer-text-a" target="_blank">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
            主题 - Material
            <span class="sidebar-badge badge-circle">i</span>
        </div>
    </a>


<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    
        <a href="https://twitter.com/twitter" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-twitter">
                <span class="visuallyhidden">Twitter</span>
            </button><!--
     --></a>
    

    <!-- Facebook -->
    
        <a href="https://www.facebook.com/facebook" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-facebook">
                <span class="visuallyhidden">Facebook</span>
            </button><!--
     --></a>
    

    <!-- Google + -->
    
        <a href="https://www.google.com/" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-gplus">
                <span class="visuallyhidden">Google Plus</span>
            </button><!--
     --></a>
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    

    <!-- V2EX -->
    

    <!-- Segmentfault -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;<span year></span>&nbsp;Believe it
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/bollnh/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/material/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==", true)</script>



    <script>lsloader.load("js_js","/material/js/js.min.js?Bn9UzEm8RrBSxqyZB0zPjA==", true)</script>



    <script>lsloader.load("np_js","/material/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>









   <!-- 使用 DISQUS js 代码 -->
<script id="dsq-count-scr" src="//.disqus.com/count.js" async></script>





<!-- UC Browser Compatible -->
<!-- <script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('
<link rel="stylesheet" href="/material/css/uc.css">
');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script> -->

<!-- Import prettify js  -->



<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
    
</script>

<!-- MathJax Load-->


<!-- Bing Background -->


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    var copyrightNow = new Date().getFullYear();
    var textContent = document.querySelector('span[year]')

    copyrightSince = 0000;
    if (copyrightSince === copyrightNow||copyrightSince === 0000) {
        textContent.textContent = copyrightNow
    } else {
        textContent.textContent = copyrightSince + ' - ' + copyrightNow
    }

    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.6 | https://github.com/bollnh/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
