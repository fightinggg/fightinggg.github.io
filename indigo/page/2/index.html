<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>Believe it | 相信不屈不挠的努力,相信战胜死亡的年轻</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="">
    <meta name="description" content="O ever youthful, O ever weeping">
<meta property="og:type" content="website">
<meta property="og:title" content="Believe it">
<meta property="og:url" content="http://fightinggg.github.io/indigo/page/2/index.html">
<meta property="og:site_name" content="Believe it">
<meta property="og:description" content="O ever youthful, O ever weeping">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="fightinggg">
<meta name="twitter:card" content="summary">
    
        <link rel="alternate" type="application/atom+xml" title="Believe it" href="/indigo/atom.xml">
    
    <link rel="shortcut icon" href="/indigo/favicon.ico">
    <link rel="stylesheet" href="/indigo/css/style.css?v=1.7.2">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

<meta name="generator" content="Hexo 6.3.0"></head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu"  >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/indigo/img/brand.jpg)">
      <div class="brand">
        <a href="/indigo/" class="avatar waves-effect waves-circle waves-light">
          <img src="/indigo/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">fightinggg</h5>
          <a href="mailto:634206017@qq.com" title="634206017@qq.com" class="mail">634206017@qq.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/indigo/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/indigo/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/indigo/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/indigo/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/yscoder" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="http://www.weibo.com/ysweb" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/indigo/custom"  >
                <i class="icon icon-lg icon-link"></i>
                测试
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">Believe it</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header index-header">

    <div class="container fade-scale">
        <h1 class="title">Believe it</h1>
        <h5 class="subtitle">
            
                相信不屈不挠的努力,相信战胜死亡的年轻
            
        </h5>
    </div>

    


</header>

<div class="container body-wrap">

    <ul class="post-list">
    
        <li class="post-list-item fade">
            <article id="post-Language/C++/C++引用的秘密/index"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2022-02-16 13:04:00" datetime="2022-02-16T05:04:00.000Z"  itemprop="datePublished">2022-02-16</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/indigo/categories/Language/">Language</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/indigo/categories/Language/C/">C++</a></li></ul></li></ul>



    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/indigo/R7DSQO.html">C++引用的秘密</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial

0. 一个错误的概念123456int main() &#123;    int a = 111;    int &amp;b = a;    b = 222;    std::cout&lt;&lt;&amp;a&lt;&lt;&amp;b;&#125;

我们能看到这里输出的两个值相同。

错误1:
很多人认为这里的b就是a，a就是b，a和b的地址是一样的，如下图。

但是笔者要说，其实这个概念是有问题的，a是a，b是b，a和b并不是同一个地址。


    

        <a href="/indigo/R7DSQO.html" class="post-more waves-effect waves-button">
            阅读全文…
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/indigo/tags/%E7%BB%93%E6%9E%84%E4%BD%93%E4%B8%AD%E7%9A%84%E5%BC%95%E7%94%A8/" rel="tag">结构体中的引用</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-Language/Java/Springfox使用/index"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2022-01-13 10:48:00" datetime="2022-01-13T02:48:00.000Z"  itemprop="datePublished">2022-01-13</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/indigo/categories/Language/">Language</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/indigo/categories/Language/Java/">Java</a></li></ul></li></ul>



    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/indigo/R5MNS0.html">Springfox使用</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial



1. 对List不能很好的支持1.1. 核心代码代码中写的是数组
12345/** * 用户 */@ApiModelProperty(value = &quot;用户&quot;,example...
    

        <a href="/indigo/R5MNS0.html" class="post-more waves-effect waves-button">
            阅读全文…
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/indigo/tags/SpringFox%E4%BD%BF%E7%94%A8/" rel="tag">SpringFox使用</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-Language/Go/Go入门-常见陷阱/index"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2021-11-03 09:36:00" datetime="2021-11-03T01:36:00.000Z"  itemprop="datePublished">2021-11-03</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/indigo/categories/Language/">Language</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/indigo/categories/Language/Go/">Go</a></li></ul></li></ul>



    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/indigo/R1Z340.html">Go入门-常见陷阱</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial



1. Go 的指针Go的指针和C的指针很类似，这也是Go被归类于C类语言的原因，Go的指针不支持偏移运算，即不能向C一样让指针+1，-1。
1.1. 正常使用先来看第一个，符号&amp;即可取到...
    

        <a href="/indigo/R1Z340.html" class="post-more waves-effect waves-button">
            阅读全文…
        </a>
    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-Language/Go/Go进阶-Module/index"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2021-10-22 11:43:00" datetime="2021-10-22T03:43:00.000Z"  itemprop="datePublished">2021-10-22</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/indigo/categories/Language/">Language</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/indigo/categories/Language/Go/">Go</a></li></ul></li></ul>



    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/indigo/R1D0ZO.html">Go进阶-Module</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial



1. Module使用在文章Go入门-Go语言从入门到进阶实战中，我们介绍了GO项目的结构，但是没有解释其中的一个文件go.mod, 这其实是模块的意思。在go.mod中可以引入go的依赖。
123456require (	github.com/golang/mock v1.4.4	github.com/golang/protobuf v1.4.3	github.com/patrickmn/go-cache v2.1.0+incompatible	github.com/stretchr/testify v1.6.1)

这里简单介绍一下，注意到这里是库名加版本号。当我们引入了依赖管理以后，就可以在自己的项目中直接import三方包了。
2. Module 的历史
Go modules 是 Go 语言的依赖解决方案，发布于 Go1.11，Go1.14 上已经明确建议生产上使用了



一开始go发布的时候是没有包管理的

go get命令会根据路径，把相应的模块获取并保存在$GOPATH/src

也没有版本的概念，master 就代表稳定的版本


原文： 😊

在Go Module出现以前,我们使用Go Get获取库，库会直接下载到GOPATH目录的src文件夹下，很好用但是有一个问题-版本兼容问题。
当两个库依赖分别同一个库的v1和v2版本的时候，如果v1和v2不兼容，那么会导致这两个库无法同时使用。
后来官方采用了vgo方案来解决GO的依赖管理问题，也就是现在的Go modules。
    

        <a href="/indigo/R1D0ZO.html" class="post-more waves-effect waves-button">
            阅读全文…
        </a>
    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-Language/Go/Go入门-Effective-Go/index"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2021-10-19 16:37:00" datetime="2021-10-19T08:37:00.000Z"  itemprop="datePublished">2021-10-19</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/indigo/categories/Language/">Language</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/indigo/categories/Language/Go/">Go</a></li></ul></li></ul>



    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/indigo/R17ULO.html">Go入门-Effective-Go</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial



1. Effective GOhttps://github.com/bingohuang/effective-go-zh-en
2. 格式化在最开始学习GO的时候，写了几篇Blog，发现代码里面的对齐都是TAB，这让我很困惑，知道现在才知道，GO语言，默认使用TAB进行对齐。
当然GO还有自己的空格规则x&lt;&lt;8 + y&lt;&lt;16,向这份代码，我们根据空格就能知道计算的优先级了。
3. 注释3.1. 包注释Go语言要求package语句前加上注释，来介绍整个包，如果package包含多个文件，则只需要在其中一个文件中标注即可。
1234567891011121314151617181920/*Package regexp implements a simple library for regular expressions.The syntax of the regular expressions accepted is:	regexp:		concatenation &#123; &#x27;|&#x27; concatenation &#125;	concatenation:		&#123; closure &#125;	closure:		term [ &#x27;*&#x27; | &#x27;+&#x27; | &#x27;?&#x27; ]	term:		&#x27;^&#x27;		&#x27;$&#x27;		&#x27;.&#x27;		character		&#x27;[&#x27; [ &#x27;^&#x27; ] character-ranges &#x27;]&#x27;		&#x27;(&#x27; regexp &#x27;)&#x27;*/package regexp
    

        <a href="/indigo/R17ULO.html" class="post-more waves-effect waves-button">
            阅读全文…
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/indigo/tags/%E8%AF%BB%E4%B9%A6/" rel="tag">读书</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-Language/Go/Go进阶-Web框架/index"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2021-10-18 17:34:00" datetime="2021-10-18T09:34:00.000Z"  itemprop="datePublished">2021-10-18</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/indigo/categories/Language/">Language</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/indigo/categories/Language/Go/">Go</a></li></ul></li></ul>



    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/indigo/R162KO.html">Go进阶-Web框架</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial



0. 前言简单介绍Beego和Gin，水一水文章。
1.1. 安装Beego库1go get github.com/astaxie/beego

同时安装Bee工具
1go get github.com/beego/bee

看到如下内容代表安装成功
12345678910111213141516171819202122232425262728293031323334353637383940414243444546s@HELLOWANG-MB1 ~ % go get github.com/astaxie/beegogo: downloading github.com/astaxie/beego v1.12.3go: downloading github.com/prometheus/client_golang v1.7.0go: downloading github.com/hashicorp/golang-lru v0.5.4go: downloading golang.org/x/crypto v0.0.0-20191011191535-87dc89f01550go: downloading github.com/shiena/ansicolor v0.0.0-20151119151921-a422bbe96644go: downloading github.com/prometheus/common v0.10.0go: downloading github.com/prometheus/client_model v0.2.0go: downloading github.com/prometheus/procfs v0.1.3go: downloading github.com/beorn7/perks v1.0.1go: downloading golang.org/x/sys v0.0.0-20200615200032-f1bc736245b1go: downloading github.com/cespare/xxhash/v2 v2.1.1go: downloading github.com/golang/protobuf v1.4.2go: downloading github.com/matttproud/golang_protobuf_extensions v1.0.1go: downloading google.golang.org/protobuf v1.23.0s@HELLOWANG-MB1 ~ % go get github.com/beego/beego: downloading github.com/beego/bee v1.12.3go: downloading github.com/gadelkareem/delve v1.4.2-0.20200619175259-dcd01330766fgo: downloading github.com/gorilla/websocket v1.4.2go: downloading github.com/lib/pq v1.7.0go: downloading github.com/flosch/pongo2 v0.0.0-20200529170236-5abacdfa4915go: downloading github.com/pelletier/go-toml v1.2.0go: downloading github.com/smartwalle/pongo2render v1.0.1go: downloading github.com/spf13/viper v1.7.0go: downloading github.com/astaxie/beego v1.12.1go: downloading github.com/hashicorp/hcl v1.0.0go: downloading github.com/magiconair/properties v1.8.1go: downloading github.com/spf13/afero v1.1.2go: downloading github.com/spf13/cast v1.3.0go: downloading github.com/spf13/jwalterweatherman v1.0.0go: downloading github.com/spf13/pflag v1.0.3go: downloading github.com/subosito/gotenv v1.2.0go: downloading gopkg.in/ini.v1 v1.51.0go: downloading golang.org/x/text v0.3.2go: downloading github.com/sirupsen/logrus v1.6.0go: downloading github.com/cosiner/argv v0.1.0go: downloading github.com/peterh/liner v0.0.0-20170317030525-88609521dc4bgo: downloading github.com/mattn/go-colorable v0.0.9go: downloading github.com/mattn/go-isatty v0.0.3go: downloading golang.org/x/arch v0.0.0-20190927153633-4e8777c89be4go: downloading go.starlark.net v0.0.0-20190702223751-32f345186213go: downloading github.com/konsorten/go-windows-terminal-sequences v1.0.3go get: installing executables with &#x27;go get&#x27; in module mode is deprecated.	Use &#x27;go install pkg@version&#x27; instead.	For more information, see https://golang.org/doc/go-get-install-deprecation	or run &#x27;go help get&#x27; or &#x27;go help install&#x27;.
    

        <a href="/indigo/R162KO.html" class="post-more waves-effect waves-button">
            阅读全文…
        </a>
    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-ACM/学习笔记/字符串/双数组字典树/index"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2021-10-18 23:54:00" datetime="2021-10-18T15:54:00.000Z"  itemprop="datePublished">2021-10-18</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/indigo/categories/ACM/">ACM</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%AD%97%E7%AC%A6%E4%B8%B2/">字符串</a></li></ul></li></ul></li></ul>



    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/indigo/R16K60.html">双数组字典树</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial

0. 前置知识需要提前有字典树的知识
1. 双数组字典树介绍双数组字典树英文名为DoubleArrayTrie，他的特点就是使用两个数组来表示一颗字典树，这里有比较有趣了，两个数组是怎么表达出字典树的呢？
2. 双数组介绍顾名思义，有两个数组，一个是base，另一个是check。
首先介绍数组的下标，数组的下标代表字典树上节点的编号，一个下标对应一个节点。
其实base数组的作用是用来记录一个基础值，这个值可以是随机值，只要不产生冲突就可以了，所以这个值可以用随机数算法获取，当然这样效率不高，高效的做法应该是使用指针枚举技术，ok，现在你已经明白了，base数组是一个不产生冲突的随机数组。
最后，check数组，check数组与base数组相互照应，如果base[i]=check[j] 则说明j是i的儿子，而且i到j的边权恰好为j-base[i]，也可以写作j-check[j]好好理解这句话
从另一个方面而言，双数组字典树的base数组，应该是一个指针数组，他指向了一个长度为字符集大小的数组的首地址，而check数组是一种hash碰撞思路，由于base数组疯狂指向自己，导致产生了很多碰撞，但是由于字典树是一个稀疏图，导致儿子节点指针利用率低，所以base数组疯狂复用这段空间，最后必须要依赖check来解决冲突，
双数组字典树相比于传统字典树，仅仅只在内存方面于增删改查占有优势，但是唯一不好的地方就是删和改会导致base数组内存分裂，难以回收，删和改如果占大头，那么传统字典树的内存效率更高
由于搜索领域几乎不涉及到删和改，所以这个数据结构很nice，字符集多大，就节省了多少倍的空间
数据结构很棒，但是在现在这个内存不值钱的时代，这些指针的储存用hashmap直接无脑顶掉，空间占用也高不了多少，hashmap顶多浪费两倍空间
两倍的空间算不上啥，除非这是唯一的优化点，否则不会优化到这个数据结构上来
    

        <a href="/indigo/R16K60.html" class="post-more waves-effect waves-button">
            阅读全文…
        </a>
    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-Language/Go/Go入门-Go语言从入门到进阶实战/index"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2021-10-11 16:10:00" datetime="2021-10-11T08:10:00.000Z"  itemprop="datePublished">2021-10-11</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/indigo/categories/Language/">Language</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/indigo/categories/Language/Go/">Go</a></li></ul></li></ul>



    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/indigo/R0T00O.html">Go入门-Go语言从入门到进阶实战</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial





1. 开始学习Go从一本书开始，这本书叫做《Go语言从入门到进阶实战（视频教学版）》,当然这篇Blog并不是所有的内容都来自这本书，毕竟书中也有不足之处。

2. Hello World学啥语言的第一步都是Hello World, 第一步是搭建开发环境，直接下载Goland，创建一个新的工程，点击create

    

        <a href="/indigo/R0T00O.html" class="post-more waves-effect waves-button">
            阅读全文…
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/indigo/tags/%E8%AF%BB%E4%B9%A6/" rel="tag">读书</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-Language/Go/Go进阶-协程的本质与CPU的争夺/index"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2021-10-13 20:26:00" datetime="2021-10-13T12:26:00.000Z"  itemprop="datePublished">2021-10-13</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/indigo/categories/Language/">Language</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/indigo/categories/Language/Go/">Go</a></li></ul></li></ul>



    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/indigo/R0X17C.html">Go进阶-协程的本质与CPU的争夺</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial



1. 从协程谈起很多语言都支持协程，那什么是协程，和线程进程有什么区别呢？这里推荐一篇Blog，笔者直接提取其中最重要的部分

进程、线程 和 协程 之间概念的区别
　　对于 进程、线程，都是有内核进行调度，有 CPU 时间片的概念，进行 抢占式调度（有多种调度算法）
　　对于 协程(用户级线程)，这是对内核透明的，也就是系统并不知道有协程的存在，是完全由用户自己的程序进行调度的，因为是由用户程序自己控制，那么就很难像抢占式调度那样做到强制的 CPU 控制权切换到其他进程&#x2F;线程，通常只能进行 协作式调度，需要协程自己主动把控制权转让出去之后，其他协程才能被执行到。
　goroutine 和协程区别
　　本质上，goroutine 就是协程。 不同的是，Golang 在 runtime、系统调用等多方面对 goroutine 调度进行了封装和处理，当遇到长时间执行或者进行系统调用时，会主动把当前 goroutine 的CPU (P) 转让出去，让其他 goroutine 能被调度并执行，也就是 Golang 从语言层面支持了协程。Golang 的一大特色就是从语言层面原生支持协程，在函数或者方法前面加 go关键字就可创建一个协程。

操作系统是不知道协程的，那么应用层如何实现协程呢？下面给一些伪代码
12345678不断循环：    从任务队列获取任务    执行任务，如果任务运行结束:        进行下一轮循环(continue)    如果任务运行时进入阻塞状态:        把当前任务放入队列尾部(挂起)    如果任务主动释放CPU:        把当前任务放入队列尾部(挂起)

我们可以看到，其实这里正在执行的任务就是协程，这样的线程模型，他的CPU利用率非常高，他的协程切换代价非常低，几乎只需要入队出队而已。
但是这样的模型有一个很大的缺点，那就是CPU的公平性，如果一个协程迟迟不退出，且不进行系统调用，也不主动释放CPU，那么，这个协程将造成队头阻塞现象。
    

        <a href="/indigo/R0X17C.html" class="post-more waves-effect waves-button">
            阅读全文…
        </a>
    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-操作系统/Linux/磁盘设备指令/index"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2021-09-30 11:28:00" datetime="2021-09-30T03:28:00.000Z"  itemprop="datePublished">2021-09-30</time>

        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Linux/">Linux</a></li></ul></li></ul>



    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/indigo/R089MO.html">磁盘设备指令</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial



给磁盘分区
1fdisk /dev/vdc

格式化分区
1mkfs.ext4 /dev/vdc 

挂载磁盘
1mkdir -p /data/ssd &amp;&amp; mount /dev...
    

        <a href="/indigo/R089MO.html" class="post-more waves-effect waves-button">
            阅读全文…
        </a>
    </div>
    
</article>

        </li>
    
    </ul>

    
<nav id="page-nav">
    <div class="inner">
    <a class="extend prev" rel="prev" href="/indigo/">上一页</a><a class="page-number" href="/indigo/">1</a><span class="page-number current">2</span><a class="page-number" href="/indigo/page/3/">3</a><a class="page-number" href="/indigo/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/indigo/page/47/">47</a><a class="extend next" rel="next" href="/indigo/page/3/">下一页</a>
    </div>
</nav>


</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/indigo/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>博客内容遵循 <a rel="license noopener" target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span>
        </p>
    </div>
    <div class="bottom">
        <p><span>fightinggg &copy; 2015 - 2023</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://fightinggg.github.io/indigo/page/2/&title=Believe it&pic=http://fightinggg.github.io/indigo/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://fightinggg.github.io/indigo/page/2/&title=Believe it&source=O ever youthful, O ever weeping" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://fightinggg.github.io/indigo/page/2/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=Believe it&url=http://fightinggg.github.io/indigo/page/2/&via=http://fightinggg.github.io/indigo" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://fightinggg.github.io/indigo/page/2/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK4AAACuCAAAAACKZ2kyAAABxElEQVR42u3aQY7DIAwF0Nz/0p0DdEK+cSBR9VhVFQmPLCxjcxzx+JyM8Zzv/7/nHysGLi5um/sZjjHl7D3Jm/OZuLi4T3HPlk+CTh7axtyxARcX9/3cJLSN34aLi/tL3DxB6QdKXFzcZ7n5knnqk9Q0Fp7VcHFxG9x8mXW/l9R3cXFxp7if4hgnH3Pcwuq4uLhbuHlASZooeQm1tS4uLu4WbvWgUg1D/fsVNzyGi4sbr1soU8at1n4ovMjIcHFxt3CTi1ad9kn+1EULFhcXdyO3lQcFoLk5/9BxcXFfw50rm3a6OqcbwMXF3cKNEov29Yh+I/bizgguLu6t3LwYmm+p8IWKBy1cXNz3cKsNj3svW5QDGS4ubptbbYFUQ97RHqe5GC4u7kZutbmSFzLysHURUnFxcTdyqyEpb47mxdbkiIWLi7uTm6QaycKdZm3kwcXFXcydK1V0mqytjeHi4m7hVoPLXLIy3lg13cHFxd3DvatgMVdMqX4CXFzcndw8DFVbpNUIOnlWw8XFfQE3KZLOHb2WBDJcXNyHuDk9ufBx+g8uLu5Gbr5wNZWpbuaiaIKLi7uFW218VtOXdVvCxcVdwP0D5lmaeUEswioAAAAASUVORK5CYII=" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/indigo/', SHARE: true, REWARD: false };


</script>

<script src="/indigo/js/main.js?v=1.7.2"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="/indigo/js/search.js?v=1.7.2" async></script>






<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '死鬼去哪里了！';
            clearTimeout(titleTime);
        } else {
            document.title = '(つェ⊂)咦!又好了!';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
