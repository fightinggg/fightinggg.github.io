{"meta":{"title":"Believe it","subtitle":"ç›¸ä¿¡ä¸å±ˆä¸æŒ çš„åŠªåŠ›,ç›¸ä¿¡æˆ˜èƒœæ­»äº¡çš„å¹´è½»","description":"O ever youthful, O ever weeping","author":"fightinggg","url":"http://fightinggg.github.io/indigo","root":"/indigo/"},"pages":[],"posts":[{"title":"æ™ºæ…§çš„ç–†ç•Œï¼šä»å›¾çµæœºåˆ°äººå·¥æ™ºèƒ½","slug":"AI/æ™ºæ…§çš„ç–†ç•Œï¼šä»å›¾çµæœºåˆ°äººå·¥æ™ºèƒ½/index","date":"2023-05-17T05:00:00.000Z","updated":"2023-05-17T05:00:00.000Z","comments":true,"path":"RUSDW0.html","link":"","permalink":"http://fightinggg.github.io/indigo/RUSDW0.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å›¾çµå·²ç»æ‰¾åˆ°äº†è®¡ç®—èƒ½åŠ›çš„åŸºçŸ³ï¼Œä½†å¯»æ‰¾æ™ºæ…§çš„åŸºçŸ³è¿™é¡¹å·¥ä½œï¼Œä»ç„¶æ²¡æœ‰è§åˆ°æˆåŠŸçš„æ›™å…‰ï¼Œä¸–ç•Œåœ¨ç­‰å¾…ç€ä¸‹ä¸€ä¸ªâ€œå›¾çµâ€çš„å‡ºç°ã€‚ è°ä¼šæ˜¯ä¸‹ä¸€ä¸ªå›¾çµå‘¢ï¼Œæ˜¯å¥¥ç‰¹æ›¼å—ï¼Œæˆ‘ä»¬ä¸å¾—è€ŒçŸ¥ï¼ŒGPTçš„å‘å¸ƒå¦‚ç«å¦‚è¼ï¼Œå¸å¼•äº†å…¨ä¸–ç•Œçš„æ³¨æ„åŠ›ã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å›¾çµå·²ç»æ‰¾åˆ°äº†è®¡ç®—èƒ½åŠ›çš„åŸºçŸ³ï¼Œä½†å¯»æ‰¾æ™ºæ…§çš„åŸºçŸ³è¿™é¡¹å·¥ä½œï¼Œä»ç„¶æ²¡æœ‰è§åˆ°æˆåŠŸçš„æ›™å…‰ï¼Œä¸–ç•Œåœ¨ç­‰å¾…ç€ä¸‹ä¸€ä¸ªâ€œå›¾çµâ€çš„å‡ºç°ã€‚ è°ä¼šæ˜¯ä¸‹ä¸€ä¸ªå›¾çµå‘¢ï¼Œæ˜¯å¥¥ç‰¹æ›¼å—ï¼Œæˆ‘ä»¬ä¸å¾—è€ŒçŸ¥ï¼ŒGPTçš„å‘å¸ƒå¦‚ç«å¦‚è¼ï¼Œå¸å¼•äº†å…¨ä¸–ç•Œçš„æ³¨æ„åŠ›ã€‚ æˆ‘å¹¶ä¸çœ‹å¥½ç›®å‰çš„AIè¿›å±•ï¼Œä¸ç®¡æ˜¯è¿‘åå¹´æ·±åº¦å­¦ä¹ çš„é£é€Ÿå‘å±•ï¼Œè¿˜æ˜¯Transformerè¿‘æœŸçš„åˆä¸€æ¬¡é¢ è¦†ï¼Œè¿™äº›éƒ½ä¸æ˜¯çœŸæ­£çš„æ™ºèƒ½ã€‚çœŸæ­£çš„æ™ºèƒ½åº”è¯¥ä¸éœ€è¦è®­ç»ƒï¼Œå…·å¤‡è‡ªä¸»å­¦ä¹ èƒ½åŠ›ã€‚å°±è¯­è¨€èƒ½åŠ›è€Œè¨€ï¼ŒçœŸæ­£çš„æ™ºèƒ½èƒ½ä»é›¶å¼€å§‹è‡ªå·±è§£æè¯­è¨€ï¼Œä¸éœ€è¦ä»»ä½•æ•°æ®æ•™ä»–ã€‚å°±åƒä¸‰ä½“ä¸­æåˆ°çš„è‡ªè¯‘è§£æç³»ç»Ÿä¸€æ ·ã€‚ è™½ç„¶éƒ½å£°ç§°å·²ç»æˆåŠŸå¼€å‘å‡ºäº†éå†¯Â·è¯ºä¾æ›¼çš„æ–°å‹è®¡ç®—æœºæ¶æ„ï¼Œç„¶è€Œå°±èƒŒåå¯¹åº”çš„éå›¾çµæœºçš„æ–°å‹è®¡ç®—æ¨¡å‹è€Œè¨€ï¼Œä»æ˜¯æ¯«æ— å¤´ç»ªã€‚ æˆ–è®¸å›¾çµæœºè¿™ä¸ªæ¨¡å‹å°±æ— æ³•å®ç°è¿™æ ·çš„AIã€‚é‚£ä¹ˆä»»ä½•å†¯è¯ºä¾æ›¼æ¶æ„çš„è®¡ç®—æœºå°±éƒ½æ— æ³•å®ç°ã€‚æˆ–è®¸éå†¯è¯ºä¾æ›¼æ¶æ„æ‰æœ‰æ–°çš„å¯èƒ½ï¼Ÿå½“ç„¶è¿™éƒ½æ˜¯æˆ‘çš„çŒœæƒ³ã€‚ ä¼Ÿå¤§çš„å›¾çµåé£Ÿæ°°åŒ–ç‰©ç»“æŸçš„è‡ªå·±ä¼ å¥‡çš„ä¸€ç”Ÿï¼Œå½“æ—¶çš„ç¤¾ä¼šæ˜¯ä¸å¤ŸåŒ…å®¹çš„ï¼ˆåŒæ€§æ‹éš¾ä»¥ç†è§£ï¼Œä½†æˆ‘å°Šé‡ä»–çš„é€‰æ‹©ï¼‰ã€‚ â€œä¼Šè‰èæ•ˆåº”â€ï¼ˆELIZA Effectï¼‰ï¿¼ï¼Œè¿™ä¸ªè¯çš„æ„æ€æ˜¯è¯´äººå¯ä»¥è¿‡åº¦è§£è¯»æœºå™¨çš„ç»“æœï¼Œè¯»å‡ºåŸæœ¬ä¸å…·æœ‰çš„æ„ä¹‰ã€‚ gpt4å°±æ˜¯æ˜¯eliza effectçš„å…¸å‹ä»£è¡¨ï¼ŒçŸ­è§†é¢‘åˆ›ä½œè€…ä»¬æ— æ‰€ä¸ç”¨å…¶æã€‚ å†¯è¯ºä¾æ›¼æ›¾æ¨ç†å‡ºä¸€ä¸ªæ™ºèƒ½ç³»ç»Ÿåº”å½“åŒ…å«ä¸€ä¸ªè‡ªå¤åˆ¶ç³»ç»Ÿï¼Œè€Œä¸€ä¸ªè‡ªå¤åˆ¶ç³»ç»Ÿåº”è¯¥å…·å¤‡ä¸¤ä¸ªèƒ½åŠ›ã€‚ é¦–å…ˆï¼Œå®ƒå¿…é¡»èƒ½å¤Ÿæ„å»ºä¸€ä¸ªç»„æˆå…ƒç´ å’Œç»“æ„ä¸è‡ªå·±ä¸€è‡´çš„åä»£ç³»ç»Ÿï¼Œç„¶åå®ƒéœ€è¦èƒ½å¤ŸæŠŠå¯¹è‡ªèº«çš„æè¿°ä¼ é€’ç»™è¿™ä¸ªåä»£ç³»ç»Ÿã€‚å†¯Â·è¯ºä¾æ›¼æŠŠè¿™ä¸¤ä¸ªéƒ¨åˆ†åˆ†åˆ«ç§°ä½œâ€œé€šç”¨æ„é€ å™¨â€å’Œâ€œæè¿°å™¨â€ï¼Œè€Œæè¿°å™¨ä¸­åˆåŒ…å«äº†ä¸€ä¸ªé€šç”¨å›¾çµæœºå’Œä¿å­˜åœ¨é€šç”¨å›¾çµæœºå™¨èƒ½å¤Ÿè¯»å–çš„ä»‹è´¨ä¸Šçš„æè¿°ä¿¡æ¯ã€‚è¿™æ ·ï¼Œåªè¦æœ‰åˆé€‚çš„åŸæ–™ï¼Œé€šç”¨æ„é€ å™¨å°±å¯ä»¥æ ¹æ®æè¿°å™¨çš„æŒ‡ç¤ºï¼Œç”Ÿäº§å‡ºä¸‹ä¸€å°æœºå™¨ï¼Œå¹¶ä¸”æŠŠæè¿°çš„ä¿¡æ¯ä¹Ÿä¼ é€’ç»™è¿™å°æ–°æœºå™¨ã€‚éšåï¼Œæ–°æœºå™¨å¯åŠ¨ï¼Œå†è¿›å…¥ä¸‹ä¸€ä¸ªå¤åˆ¶å¾ªç¯ã€‚ åœ¨å½“æ—¶ï¼Œæ²¡æœ‰è®¾è®¡å‡ºèƒ½å¤Ÿè¿›è¡Œè‡ªæˆ‘å¤åˆ¶çš„æœºå™¨ï¼Œä½†æ˜¯éµå¾ªå†¯è¯ºä¾æ›¼çš„æ€è·¯è¿›è¡Œè‡ªæˆ‘å¤åˆ¶çš„è½¯ä»¶å·²ç»å­˜åœ¨ï¼šDNAåŒèºæ—‹ç»“æ„ã€‚","categories":[{"name":"AI","slug":"AI","permalink":"http://fightinggg.github.io/indigo/categories/AI/"}],"tags":[{"name":"è¯»ä¹¦","slug":"è¯»ä¹¦","permalink":"http://fightinggg.github.io/indigo/tags/%E8%AF%BB%E4%B9%A6/"},{"name":"AI","slug":"AI","permalink":"http://fightinggg.github.io/indigo/tags/AI/"}]},{"title":"Transformer","slug":"AI/GPT/Transformer/index","date":"2023-03-28T05:05:00.000Z","updated":"2023-03-28T05:05:00.000Z","comments":true,"path":"RS7SSC.html","link":"","permalink":"http://fightinggg.github.io/indigo/RS7SSC.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial TransformerèƒŒæ™¯ä»‹ç»TransformeræŒ‡çš„æ˜¯ä¸€ç§æ¶æ„ï¼Œæœªæ¥çš„NLP(è‡ªç„¶è¯­è¨€å¤„ç†)éƒ½å¯ä»¥ä½¿ç”¨æ­¤æ¶æ„ã€‚Transformerç”±ç¼–ç å™¨ã€è§£ç å™¨(åé¢ä¼šä»‹ç»)ç­‰ç»„æˆï¼Œä»–çš„è¾“å…¥æ˜¯å‘é‡æ•°ç»„ï¼Œè¾“å‡ºæ˜¯ä¹Ÿæ˜¯å‘é‡æ•°ç»„ã€‚ æ³¨æ„ï¼šTransformeræ¶æ„çš„è¾“å‡ºæ˜¯æŠŠå‘é‡é€ä¸ªè¾“å‡ºçš„ã€‚ Transformeræ¶æ„æœ€åˆåªç”¨æ¥åšæœºå™¨ç¿»è¯‘ï¼Œä¾‹å¦‚å°†è‹±è¯­ç¿»è¯‘æˆå¾·è¯­ã€‚åœ¨ç¿»è¯‘çš„è¿‡ç¨‹ä¸­å¾…ç¿»è¯‘è¯­å¥ä½œä¸ºè¾“å…¥ï¼Œè€Œç¿»è¯‘ç»“æœä½œä¸ºè¾“å‡ºã€‚å¾…ç¿»è¯‘è¯­å¥ä¸­çš„æ¯ä¸€ä¸ªToken(è¯)ä¼šè¢«è½¬åŒ–ä¸ºå‘é‡ä½œä¸ºè¾“å…¥ï¼ŒTransformerçš„è¾“å‡ºå‘é‡æœ€ç»ˆè¢«è½¬åŒ–ä¸ºç¿»è¯‘ç»“æœçš„Token(è¯)ã€‚ç”±äºTransformeré€ä¸€è¾“å‡ºç»“æœçš„ç‰¹æ€§ï¼Œç¿»è¯‘ç»“æœæ˜¯ä¸€ä¸ªToken(è¯)ä¸€ä¸ªToken(è¯)é€æ¸è¾“å‡ºçš„ã€‚ Transformeræ¶æ„ä¸ä»…ä»…åªå¯ä»¥ç”¨ä¸æœºå™¨ç¿»è¯‘ï¼ŒTransformerç°åœ¨ä¹Ÿç”¨äºGPTä¸­ï¼Œå°±æ˜¯GPTçš„æœ€åä¸€ä¸ªå­—æ¯Tæ‰€ä»£è¡¨çš„å«ä¹‰ã€‚ç”±äºTransformeré€ä¸€è¾“å‡ºç»“æœçš„ç‰¹æ€§ï¼ŒGPTä¹Ÿæ˜¯ä¸€ä¸ªToken(è¯)ä¸€ä¸ªToken(è¯)é€æ¸è¾“å‡ºçš„ã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial TransformerèƒŒæ™¯ä»‹ç»TransformeræŒ‡çš„æ˜¯ä¸€ç§æ¶æ„ï¼Œæœªæ¥çš„NLP(è‡ªç„¶è¯­è¨€å¤„ç†)éƒ½å¯ä»¥ä½¿ç”¨æ­¤æ¶æ„ã€‚Transformerç”±ç¼–ç å™¨ã€è§£ç å™¨(åé¢ä¼šä»‹ç»)ç­‰ç»„æˆï¼Œä»–çš„è¾“å…¥æ˜¯å‘é‡æ•°ç»„ï¼Œè¾“å‡ºæ˜¯ä¹Ÿæ˜¯å‘é‡æ•°ç»„ã€‚ æ³¨æ„ï¼šTransformeræ¶æ„çš„è¾“å‡ºæ˜¯æŠŠå‘é‡é€ä¸ªè¾“å‡ºçš„ã€‚ Transformeræ¶æ„æœ€åˆåªç”¨æ¥åšæœºå™¨ç¿»è¯‘ï¼Œä¾‹å¦‚å°†è‹±è¯­ç¿»è¯‘æˆå¾·è¯­ã€‚åœ¨ç¿»è¯‘çš„è¿‡ç¨‹ä¸­å¾…ç¿»è¯‘è¯­å¥ä½œä¸ºè¾“å…¥ï¼Œè€Œç¿»è¯‘ç»“æœä½œä¸ºè¾“å‡ºã€‚å¾…ç¿»è¯‘è¯­å¥ä¸­çš„æ¯ä¸€ä¸ªToken(è¯)ä¼šè¢«è½¬åŒ–ä¸ºå‘é‡ä½œä¸ºè¾“å…¥ï¼ŒTransformerçš„è¾“å‡ºå‘é‡æœ€ç»ˆè¢«è½¬åŒ–ä¸ºç¿»è¯‘ç»“æœçš„Token(è¯)ã€‚ç”±äºTransformeré€ä¸€è¾“å‡ºç»“æœçš„ç‰¹æ€§ï¼Œç¿»è¯‘ç»“æœæ˜¯ä¸€ä¸ªToken(è¯)ä¸€ä¸ªToken(è¯)é€æ¸è¾“å‡ºçš„ã€‚ Transformeræ¶æ„ä¸ä»…ä»…åªå¯ä»¥ç”¨ä¸æœºå™¨ç¿»è¯‘ï¼ŒTransformerç°åœ¨ä¹Ÿç”¨äºGPTä¸­ï¼Œå°±æ˜¯GPTçš„æœ€åä¸€ä¸ªå­—æ¯Tæ‰€ä»£è¡¨çš„å«ä¹‰ã€‚ç”±äºTransformeré€ä¸€è¾“å‡ºç»“æœçš„ç‰¹æ€§ï¼ŒGPTä¹Ÿæ˜¯ä¸€ä¸ªToken(è¯)ä¸€ä¸ªToken(è¯)é€æ¸è¾“å‡ºçš„ã€‚ æ³¨æ„åŠ›æœºåˆ¶æ³¨æ„åŠ›æœºåˆ¶æºè‡ªåšç¿»è¯‘æ—¶çš„æŠ€å·§ï¼Œå½“æˆ‘ä»¬ç¿»è¯‘æŸä¸ªè¯çš„æ—¶å€™ï¼Œæˆ‘ä»¬åº”è¯¥æ³¨æ„è¿™ä¸ªè¯ã€‚ä¾‹å¦‚æˆ‘ä»¬å¦‚æœè¦ç¿»è¯‘ä»¥ä¸‹å¥å­ä¸ºä¸­æ–‡ï¼š 1Hello World ! å‡è®¾ä»–çš„æ ‡å‡†ç­”æ¡ˆæ˜¯ï¼šä½ å¥½ï¼Œä¸–ç•Œï¼ å½“æˆ‘ä»¬å†™ä¸‹ä¸­æ–‡ä½ å¥½çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦æ³¨æ„å•è¯Helloï¼Œå› ä¸ºè¿™ä¸ªå•è¯å°†è¢«ç¿»è¯‘æˆä½ å¥½ï¼Œå½“æˆ‘ä»¬å†™ä¸‹ä¸­æ–‡ä¸–ç•Œçš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦æ³¨æ„å•è¯Worldã€‚æ³¨æ„åŠ›æœºåˆ¶å°±è¯•å›¾è®©æœºå™¨æ˜ç™½ä»¥ä¸Šé“ç†ã€‚ æ›´åŠ ä¸¥è°¨ä¸€ç‚¹ï¼Œåœ¨è®­ç»ƒæ—¶ï¼Œç”¨å…¬å¼è¡¨ç¤ºå³ä¸ºï¼šå‡è®¾å·²çŸ¥è¾“å…¥ä¸ºå‘é‡æ•°ç»„$K$åŒ…å«å‘é‡$K_1$,$K_2$,$K_3$ç­‰ã€‚å‡è®¾é¢„æœŸè¾“å‡ºä¸ºå‘é‡$V$åŒ…å«å‘é‡$V_1$,$V_2$,$V_3$ç­‰ï¼Œå·²çŸ¥æ³¨æ„åŠ›ä¸º$A$ï¼Œ$A_{ij}$ä»£è¡¨$V_i$çš„è®¡ç®—ä¸­ï¼Œ$K_{j}$æ‰€å çš„æƒé‡ã€‚ é‚£ä¹ˆä¾¿æœ‰äº†è®¡ç®—å…¬å¼$V_i&#x3D;F(f_{i1},f_{i2},f_{i3}â€¦)$,$f_{ij}&#x3D;f(A_{ij},K_{j})$, æ³¨æ„å…¶ä¸­çš„$F$å‡½æ•°å’Œ$f$å‡½æ•°ï¼Œå¦‚ä½•è®¾å®šéƒ½å¯ä»¥ã€‚ åœ¨æµ‹è¯•æ—¶ï¼Œå‡è®¾ä¸€ä¸ªæµ‹è¯•æ•°æ®ä¸ºå‘é‡$Q$åŒ…å«$Q_1Q_2Q_3$, æŒ‰ç…§$V$çš„è®¡ç®—å…¬å¼ï¼Œå…¶ä¸­åªæœ‰$A$éœ€è¦å˜æ›´ï¼Œå› ä¸º$A_{ij}$ä»£è¡¨$V_i$(è€Œä¸æ˜¯$Q_i$)çš„è®¡ç®—ä¸­ï¼Œ$K_{j}$æ‰€å çš„æƒé‡ã€‚è¿™é‡Œåªéœ€è¦æƒ³åŠæ³•æ¢æˆæƒ³è¦çš„æ³¨æ„åŠ›å³å¯ï¼Œæ–¹æ³•æœ‰å¾ˆå¤šï¼Œä¸»è¦å›´ç»•$Q$å’Œ$V$çš„ç›¸ä¼¼å…³ç³»æ¥è®¡ç®—ï¼Œè¿™é‡Œä¸åšå±•å¼€ã€‚ä¸‹æ–‡ä»‹ç»ä¸€ç§ä½¿ç”¨è‡ªæ³¨æ„åŠ›æœºåˆ¶çš„æ–¹æ¡ˆæ¥è®¡ç®—ç›¸ä¼¼å…³ç³»ã€‚ è‡ªæ³¨æ„åŠ›æœºåˆ¶è‡ªæ³¨æ„åŠ›æœºåˆ¶æºäºå¦ä¸€ä¸ªæŠ€å·§ï¼Œå½“æˆ‘ä»¬ç¿»è¯‘æŸä¸ªè¯çš„æ—¶å€™ï¼Œæˆ‘ä»¬åº”è¯¥æ³¨æ„å¦ä¸€ä¸ªè¯ã€‚ä¾‹å¦‚ï¼š 1The program has a bug å½“æˆ‘ä»¬ç¿»è¯‘bugçš„æ—¶å€™ï¼Œä¸èƒ½æŠŠå®ƒç¿»è¯‘æˆè™«å­ã€‚æˆ‘ä»¬éœ€è¦æ³¨æ„åˆ°å‰é¢çš„å•è¯programï¼Œå› æ­¤ç¿»è¯‘æˆé—®é¢˜ å› æ­¤æˆ‘ä»¬å°†ä¸€ä»½è®­ç»ƒæ•°æ®çš„è¾“å…¥ï¼Œå³å½“åš$K$,åˆå½“åš$V$,ä¹Ÿå½“åš$Q$ã€‚äºæ˜¯å°±å¯ä»¥è®­ç»ƒå‡ºå‰æ–‡è¯´çš„æ³¨æ„åŠ›$A$ &#x2F;&#x2F; TODO å¤šå¤´è‡ªæ³¨æ„åŠ›æœºåˆ¶ç”±äºè‡ªæ³¨æ„åŠ›æœºåˆ¶å¯å­¦ä¹ çš„å‚æ•°è¾ƒå°‘ï¼Œå¤šå¤´è‡ªæ³¨æ„åŠ›æœºåˆ¶ç”¨æ¥æ‰©å……è‡ªæ³¨æ„åŠ›æœºåˆ¶çš„å¯å­¦ä¹ å‚æ•°ã€‚ å¤šå¤´è‡ªæ³¨æ„åŠ›æœºåˆ¶ï¼Œå°†è¾“å…¥æŠ•å½±åˆ°$N$ä¸ªä¸åŒçš„ç©ºé—´ï¼Œå¾—åˆ°$N$ä¸ªè¾“å…¥ï¼Œåˆ†åˆ«åšè‡ªæ³¨æ„åŠ›æœºåˆ¶ï¼Œå¾—åˆ°$N$ä¸ªè¾“å‡ºï¼Œæœ€ç»ˆé€šè¿‡å…¨è¿æ¥å±‚æŠ•å½±å›æ¥ï¼Œå¾—åˆ°ä¸€ä¸ªè¾“å‡ºã€‚ åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œäº§ç”Ÿäº†æŠ•å½±çš„å‚æ•°ã€å…¨è¿æ¥çš„å‚æ•°ï¼Œå¯å­¦ä¹ å‚æ•°å°±å¤šèµ·æ¥äº†ã€‚ ä½ç½®ç¼–ç è‡ªæ³¨æ„åŠ›æ¨¡å‹ï¼Œä¸å—ä½ç½®çš„å½±å“ã€‚è€ƒè™‘ä¸€ä¸ªè¾“å…¥æ˜¯å‘é‡æ•°ç»„ï¼Œè‹¥æ‰“ä¹±è¾“å…¥é¡ºåºï¼Œä¸å½±å“è¾“å‡ºç»“æœï¼Œè¿™ä¸ªæ˜¯ä¸åˆé€‚çš„ï¼Œå¯ä»¥è€ƒè™‘ç›´æ¥æŠŠä½ç½®ä¹Ÿç¼–ç è¿›è¾“å…¥ä¸­ï¼Œæ–¹æ¡ˆæ˜¯ä½¿ç”¨ä¸‰è§’å‡½æ•°ç»™è¾“å…¥å‘é‡çš„æ¯ä¸€ä¸ªç»´åº¦éƒ½åŠ ä¸Šå‘¨æœŸçš„ä¸‰è§’å‡½æ•°å€¼ã€‚ ä¸ºä»€ä¹ˆæ˜¯ä¸‰è§’å‡½æ•°ï¼Ÿè¿™æ˜¯æ”¶åˆ°è®¡ç®—æœºä¸­æ•°å­—ç¼–ç çš„å¯å‘ã€‚è‹¥æŠŠè®¡ç®—æœºä¸­çš„32ä½æ•°å­—çš„æ¯ä¸€ä¸ªä½æ‹¿æ¥çœ‹ï¼Œä»0åˆ°æœ€å¤§å€¼ï¼Œ32ä½çš„æ¯ä¸€ä¸ªä½éƒ½æ˜¯å‘¨æœŸä¸åŒçš„01å˜æ¢ï¼ˆæœ€ä½ä½å˜æ¢ä¸º010101â€¦ï¼Œæ¬¡ä½ä½æ˜¯001100110011â€¦ï¼Œå†æ¬¡ä¸º000011110000111100001111â€¦ï¼‰ï¼Œè¿™å…¶å®ä¹Ÿæ˜¯ä¸€ç§ä¸‰è§’å‡½æ•°ã€‚ Transformer&#x2F;&#x2F; TODO x","categories":[{"name":"AI","slug":"AI","permalink":"http://fightinggg.github.io/indigo/categories/AI/"},{"name":"GPT","slug":"AI/GPT","permalink":"http://fightinggg.github.io/indigo/categories/AI/GPT/"}],"tags":[{"name":"AI","slug":"AI","permalink":"http://fightinggg.github.io/indigo/tags/AI/"},{"name":"GPT","slug":"GPT","permalink":"http://fightinggg.github.io/indigo/tags/GPT/"},{"name":"Transformer","slug":"Transformer","permalink":"http://fightinggg.github.io/indigo/tags/Transformer/"}]},{"title":"2023ä½ å¥½","slug":"Others/2023ä½ å¥½/index","date":"2023-02-06T05:00:00.000Z","updated":"2023-02-06T05:00:00.000Z","comments":true,"path":"RPN780.html","link":"","permalink":"http://fightinggg.github.io/indigo/RPN780.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è¿™é‡Œç«‹Flagï¼Œæ²¡äººçœ‹å¾—åˆ°ï¼Œæ²¡äººçœ‹å¾—åˆ°çš„Flagï¼Œå°±æ˜¯èƒ½å®ç°çš„Flagã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è¿™é‡Œç«‹Flagï¼Œæ²¡äººçœ‹å¾—åˆ°ï¼Œæ²¡äººçœ‹å¾—åˆ°çš„Flagï¼Œå°±æ˜¯èƒ½å®ç°çš„Flagã€‚ 2023ï¼Œæ¯å¤©è¯»ä¹¦1.5å°æ—¶ï¼› 2023ï¼Œå‘¨æœ«æ¯å¤©è¯»ä¹¦6å°æ—¶ã€‚ 2023ï¼Œæ¯ä¸ªæœˆä¸€ç¯‡æŠ€æœ¯Blogï¼Œä¸€ç¯‡æ–‡å­¦Blogã€‚ 2023ï¼Œå˜æˆç²¾è‡´ç”·å­©ï¼Œå“ˆå“ˆå“ˆã€‚","categories":[{"name":"Others","slug":"Others","permalink":"http://fightinggg.github.io/indigo/categories/Others/"}],"tags":[{"name":"flag","slug":"flag","permalink":"http://fightinggg.github.io/indigo/tags/flag/"}]},{"title":"VPNä¸ä»£ç†é‚£äº›äº‹","slug":"è®¡ç®—æœºç½‘ç»œ/VPNä¸ä»£ç†é‚£äº›äº‹/index","date":"2022-07-24T13:42:00.000Z","updated":"2022-07-24T13:42:00.000Z","comments":true,"path":"RFJ220.html","link":"","permalink":"http://fightinggg.github.io/indigo/RFJ220.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial VPN ä¸ ProxyVPN å’ŒProxyæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Œå›½å†…çš„å„å¤§å¹³å°æåŠ›å±è”½äº†VPNå’ŒProxyè¿™ä¸¤ä¸ªå…³é”®å­—ï¼Œå¾ˆå¤šäººéƒ½åˆ†ä¸æ¸…ä»–ä»¬çš„å…³ç³»ã€‚ VPNå…¨åè™šæ‹Ÿä¸“ç”¨ç½‘ç»œï¼ŒProxyå…¨åä»£ç†ã€‚ å…¶å®ï¼ŒVPNå·¥ä½œäºæ“ä½œç³»ç»Ÿçº§åˆ«ï¼Œè€ŒProxyå·¥ä½œåœ¨åº”ç”¨çº§åˆ«ã€‚å¦‚æœä½ é…ç½®äº†VPNï¼Œé‚£ä¹ˆæ‰€æœ‰çš„åº”ç”¨éƒ½è¿›å…¥äº†è™šæ‹Ÿçš„ç½‘ç»œï¼›ä½†å¦‚æœä½ é…ç½®äº†ä»£ç†ï¼Œåªæœ‰æ”¯æŒä»£ç†çš„é‚£éƒ¨åˆ†åº”ç”¨æ‰å¯ä»¥è¿›å…¥åˆ°è™šæ‹Ÿçš„ç½‘ç»œï¼Œä¸æ”¯æŒä»£ç†çš„APPï¼Œåˆ™æ— æ³•ä½¿ç”¨è™šæ‹Ÿç½‘ç»œã€‚ VPNåŸç†å›¾","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial VPN ä¸ ProxyVPN å’ŒProxyæœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Œå›½å†…çš„å„å¤§å¹³å°æåŠ›å±è”½äº†VPNå’ŒProxyè¿™ä¸¤ä¸ªå…³é”®å­—ï¼Œå¾ˆå¤šäººéƒ½åˆ†ä¸æ¸…ä»–ä»¬çš„å…³ç³»ã€‚ VPNå…¨åè™šæ‹Ÿä¸“ç”¨ç½‘ç»œï¼ŒProxyå…¨åä»£ç†ã€‚ å…¶å®ï¼ŒVPNå·¥ä½œäºæ“ä½œç³»ç»Ÿçº§åˆ«ï¼Œè€ŒProxyå·¥ä½œåœ¨åº”ç”¨çº§åˆ«ã€‚å¦‚æœä½ é…ç½®äº†VPNï¼Œé‚£ä¹ˆæ‰€æœ‰çš„åº”ç”¨éƒ½è¿›å…¥äº†è™šæ‹Ÿçš„ç½‘ç»œï¼›ä½†å¦‚æœä½ é…ç½®äº†ä»£ç†ï¼Œåªæœ‰æ”¯æŒä»£ç†çš„é‚£éƒ¨åˆ†åº”ç”¨æ‰å¯ä»¥è¿›å…¥åˆ°è™šæ‹Ÿçš„ç½‘ç»œï¼Œä¸æ”¯æŒä»£ç†çš„APPï¼Œåˆ™æ— æ³•ä½¿ç”¨è™šæ‹Ÿç½‘ç»œã€‚ VPNåŸç†å›¾ ProxyåŸç†å›¾ æ€»ç»“ä¸Šé¢ä¸¤å¼ å›¾å·²ç»å®Œç¾è¯ é‡Šäº†VPNå’ŒProxyçš„æ ¸å¿ƒåŒºåˆ«äº†ã€‚","categories":[{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","permalink":"http://fightinggg.github.io/indigo/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"}],"tags":[{"name":"VPN","slug":"VPN","permalink":"http://fightinggg.github.io/indigo/tags/VPN/"},{"name":"Proxy","slug":"Proxy","permalink":"http://fightinggg.github.io/indigo/tags/Proxy/"}]},{"title":"CPUæ¶æ„ä»‹ç»","slug":"CPU/CPUæ¶æ„ä»‹ç»/index","date":"2022-07-19T05:34:00.000Z","updated":"2022-07-19T05:34:00.000Z","comments":true,"path":"RF964O.html","link":"","permalink":"http://fightinggg.github.io/indigo/RF964O.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial CPUåˆ†ç±»CPUåˆ†ä¸¤ç±»ï¼Œç²¾ç®€æŒ‡ä»¤é›†CPUï¼ˆRISCï¼‰å’Œå¤æ‚æŒ‡ä»¤é›†CPUï¼ˆCISCï¼‰ã€‚Intelã€AMDå‚å•†ä¸»è¦åšå¤æ‚æŒ‡ä»¤é›†CPUï¼›IBMï¼ŒARMå‚å•†ä¸»è¦åšç²¾ç®€æŒ‡ä»¤é›†CPUã€‚ ç²¾ç®€æŒ‡ä»¤é›†CPUèƒ½è€—ä½ï¼Œæ€§èƒ½ç›¸å¯¹è¾ƒå¼±ï¼Œå¸¸ç”¨äºç§»åŠ¨è®¾å¤‡ï¼›å¤æ‚æŒ‡ä»¤é›†CPUèƒ½è€—é«˜ï¼Œæ€§èƒ½å¼ºï¼Œå¸¸ç”¨äºæ¡Œé¢è®¾å¤‡ã€‚ CPUæ¶æ„åˆ†ç±»ä¸åŒå‚å•†åšçš„CPUï¼Œå…¶æ¶æ„ä¹Ÿä¸å°½ç›¸åŒï¼Œç›®å‰ä¸ºæ­¢ï¼Œæ¯”è¾ƒå¤šçš„æ¶æ„æœ‰å››ç§ï¼ŒARMæ¶æ„ã€X86æ¶æ„ã€MIPSæ¶æ„ã€PowerPCæ¶æ„ã€‚ ARMæ¶æ„CPUä¸ºç²¾ç®€æŒ‡ä»¤é›†CPUï¼›X86æ¶æ„CPUä¸ºå¤æ‚æŒ‡ä»¤é›†CPUï¼›MIPSæ¶æ„å’ŒPowerPCæ¶æ„ç›®å‰ç”¨çš„ä¸å¤ªå¤šäº†ã€‚ç¬”è€…å¤§å­¦æœŸé—´å­¦ä¹ è®¡ç®—æœºç»„æˆåŸç†çš„æ—¶å€™ï¼Œå­¦çš„å°±æ˜¯MIPSæ¶æ„ã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial CPUåˆ†ç±»CPUåˆ†ä¸¤ç±»ï¼Œç²¾ç®€æŒ‡ä»¤é›†CPUï¼ˆRISCï¼‰å’Œå¤æ‚æŒ‡ä»¤é›†CPUï¼ˆCISCï¼‰ã€‚Intelã€AMDå‚å•†ä¸»è¦åšå¤æ‚æŒ‡ä»¤é›†CPUï¼›IBMï¼ŒARMå‚å•†ä¸»è¦åšç²¾ç®€æŒ‡ä»¤é›†CPUã€‚ ç²¾ç®€æŒ‡ä»¤é›†CPUèƒ½è€—ä½ï¼Œæ€§èƒ½ç›¸å¯¹è¾ƒå¼±ï¼Œå¸¸ç”¨äºç§»åŠ¨è®¾å¤‡ï¼›å¤æ‚æŒ‡ä»¤é›†CPUèƒ½è€—é«˜ï¼Œæ€§èƒ½å¼ºï¼Œå¸¸ç”¨äºæ¡Œé¢è®¾å¤‡ã€‚ CPUæ¶æ„åˆ†ç±»ä¸åŒå‚å•†åšçš„CPUï¼Œå…¶æ¶æ„ä¹Ÿä¸å°½ç›¸åŒï¼Œç›®å‰ä¸ºæ­¢ï¼Œæ¯”è¾ƒå¤šçš„æ¶æ„æœ‰å››ç§ï¼ŒARMæ¶æ„ã€X86æ¶æ„ã€MIPSæ¶æ„ã€PowerPCæ¶æ„ã€‚ ARMæ¶æ„CPUä¸ºç²¾ç®€æŒ‡ä»¤é›†CPUï¼›X86æ¶æ„CPUä¸ºå¤æ‚æŒ‡ä»¤é›†CPUï¼›MIPSæ¶æ„å’ŒPowerPCæ¶æ„ç›®å‰ç”¨çš„ä¸å¤ªå¤šäº†ã€‚ç¬”è€…å¤§å­¦æœŸé—´å­¦ä¹ è®¡ç®—æœºç»„æˆåŸç†çš„æ—¶å€™ï¼Œå­¦çš„å°±æ˜¯MIPSæ¶æ„ã€‚","categories":[{"name":"CPU","slug":"CPU","permalink":"http://fightinggg.github.io/indigo/categories/CPU/"}],"tags":[{"name":"CPU","slug":"CPU","permalink":"http://fightinggg.github.io/indigo/tags/CPU/"}]},{"title":"dockerå†…éƒ¨å®‰è£…è½¯ä»¶","slug":"Docker/dockerå†…éƒ¨å®‰è£…è½¯ä»¶/index","date":"2022-07-16T07:07:00.000Z","updated":"2022-07-16T07:07:00.000Z","comments":true,"path":"RF3QFO.html","link":"","permalink":"http://fightinggg.github.io/indigo/RF3QFO.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ä»¥å“ªä¸ªé•œåƒä½œä¸ºåŸºç¡€é•œåƒcentos:centos8 1docker run -it --rm centos:centos8 æ¢æºé˜¿é‡Œæº12345sed -i &#x27;s/mirrorlist/#mirrorlist/g&#x27; /etc/yum.repos.d/CentOS-* \\&amp;&amp; sed -i &#x27;s|#baseurl=http://mirror.centos.org|baseurl=http://vault.centos.org|g&#x27; /etc/yum.repos.d/CentOS-* \\&amp;&amp; curl https://mirrors.aliyun.com/repo/Centos-vault-8.5.2111.repo -L -o /etc/yum.repos.d/CentOS-Base.repo \\&amp;&amp; yum clean all \\&amp;&amp; yum makecache å®‰è£…Gityum å®‰è£…1yum install git -y äºŒè¿›åˆ¶å®‰è£…1 å®‰è£…Clangyumå®‰è£…1yum install clang -y äºŒè¿›åˆ¶å®‰è£…123456789101112131415161718```# å®‰è£…SSH## yumå®‰è£…```shellyum install openssh-server openssh-clients passwd -y \\&amp;&amp; sed -i &quot;s/^UsePAM yes/UsePAM no/g&quot; /etc/ssh/sshd_config \\&amp;&amp; echo 123456 | passwd root --stdin \\&amp;&amp; ssh-keygen -t rsa -P &#x27;&#x27; -f ~/.ssh/id_rsa \\&amp;&amp; cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys \\&amp;&amp; chmod 0600 ~/.ssh/authorized_keys \\&amp;&amp; ssh-keygen -q -N &quot;&quot; -t rsa -f /etc/ssh/ssh_host_rsa_key \\&amp;&amp; ssh-keygen -q -N &quot;&quot; -t ecdsa -f /etc/ssh/ssh_host_ecdsa_key \\&amp;&amp; ssh-keygen -q -N &quot;&quot; -t ed25519 -f /etc/ssh/ssh_host_ed25519_key å¯åŠ¨1/usr/sbin/sshd","categories":[{"name":"Docker","slug":"Docker","permalink":"http://fightinggg.github.io/indigo/categories/Docker/"}],"tags":[{"name":"docker","slug":"docker","permalink":"http://fightinggg.github.io/indigo/tags/docker/"}]},{"title":"ç™½å¸½å­è®²Webå®‰å…¨","slug":"è®¡ç®—æœºç½‘ç»œ/ç™½å¸½å­è®²Webå®‰å…¨/index","date":"2022-05-25T05:41:00.000Z","updated":"2022-05-25T05:41:00.000Z","comments":true,"path":"RCFBSC.html","link":"","permalink":"http://fightinggg.github.io/indigo/RCFBSC.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 1. æ€»æ½å¾ˆè€çš„ä¸€æœ¬ä¹¦ï¼Œä½†æ˜¯ä¾ç„¶æœ‰é˜…è¯»ä»·å€¼ã€‚ å…¨ä¹¦åˆ†ä¸º4ä¸ªéƒ¨åˆ†ï¼Œå…¶ä¸­æ¯”è¾ƒé‡è¦çš„åº”è¯¥æ˜¯ç¬¬äºŒç« å’Œç¬¬ä¸‰ç« ï¼Œç¬¬äºŒç« ä¸»è¦è®²è§£å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰å¦‚ä½•ä¿éšœç”¨æˆ·çš„å®‰å…¨ï¼Œç¬¬ä¸‰ç« ä¸»è¦è®²è§£æœåŠ¡ç«¯å¦‚ä½•ä¿éšœç”¨æˆ·å®‰å…¨ã€‚ 2. å®¢æˆ·ç«¯å®‰å…¨å®¢æˆ·ç«¯è¿™è¾¹å®¹æ˜“å—åˆ°æ”»å‡»çš„ä¸»è¦æœ‰ä¸‰ä¸ªç±»å‹ã€‚ ç¬¬ä¸€ä¸ªæ˜¯XSSæ”»å‡»ï¼Œå…¨åè·¨ç«™è„šæœ¬æ”»å‡»ï¼Œé€šå¸¸æŒ‡çš„æ˜¯é»‘å®¢é€šè¿‡æŸäº›æ‰‹æ®µï¼Œç¯¡æ”¹äº†ç”¨æˆ·è®¿é—®çš„é¡µé¢ï¼Œå¯¼è‡´é¡µé¢ä¸Šæ‰§è¡Œäº†ä¸€äº›æ¶æ„çš„è„šæœ¬ã€‚ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼šåœ¨ä½ ç™»é™†æ·˜å®ä¹‹åï¼Œé»‘å®¢ç¯¡æ”¹äº†ä½ çš„æ·˜å®é¡µé¢ï¼ˆç¯¡æ”¹äº†ç”¨æˆ·è®¿é—®çš„é¡µé¢ï¼‰ï¼Œè‡ªåŠ¨å¸®ä½ è´­ä¹°äº†ä¸€äº›å¥‡æ€ªçš„ä¸œè¥¿ï¼ˆæ‰§è¡Œäº†ä¸€äº›æ¶æ„çš„è„šæœ¬ï¼‰ã€‚ ç¬¬äºŒä¸ªæ˜¯CSRFæ”»å‡»ï¼Œå…¨åè·¨ç«™ç‚¹è¯·æ±‚ä¼ªé€ ï¼Œé€šå¸¸æŒ‡çš„æ˜¯é»‘å®¢é€šè¿‡æŸäº›æ‰‹æ®µï¼Œè¯±å¯¼ç”¨æˆ·è®¿é—®æŸé’“é±¼é¡µé¢ï¼Œåœ¨è¯¥é¡µé¢ä¸Šå®Œæˆäº†ä¸€äº›æ¶æ„çš„è„šæœ¬ã€‚ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š åœ¨ä¸€äº›è¯±æƒ‘ä¸‹ä½ ç‚¹å¼€äº†ä¸€ä¸ªé¡µé¢ï¼ˆè¯±å¯¼ç”¨æˆ·è®¿é—®æŸé’“é±¼é¡µé¢ï¼‰ï¼Œå°½ç®¡ä½ ä¹‹åä»€ä¹ˆéƒ½æ²¡æœ‰åšï¼Œä½†æ˜¯ä½ çš„æ·˜å®è´­ç‰©è½¦è¢«æ¶æ„æ¸…ç©ºäº†ï¼ˆåœ¨è¯¥é¡µé¢ä¸Šå®Œæˆäº†ä¸€äº›æ¶æ„çš„è„šæœ¬ï¼‰ ç¬¬ä¸‰ä¸ªæ˜¯ClickJackingæ”»å‡»ï¼Œå…¨åç‚¹å‡»åŠ«æŒæ”»å‡»ï¼Œé€šå¸¸æŒ‡çš„æ˜¯é»‘å®¢é€šè¿‡æŸäº›æ‰‹æ®µï¼Œè¯±å¯¼ç”¨æˆ·è®¿é—®æŸé’“é±¼é¡µé¢ï¼Œè¯¥é¡µé¢æœ‰ä¸ªæŒ‰é’®ï¼ŒæŒ‰é’®ä¸Šæ‚¬æµ®äº†ä¸€ä¸ªé€æ˜çš„iframeï¼Œç„¶åå¼•è¯±ä½ ç‚¹å‡»è¯¥æŒ‰é’®ï¼Œå½“ä½ ç‚¹å‡»è¯¥æŒ‰é’®æ—¶è§¦å‘äº†iframeä¸­çš„æŒ‰é’®ã€‚ä¸€ä¸ªä¾‹å­æ˜¯ï¼šåœ¨ä¸€äº›è¯±æƒ‘ä¸‹ä½ ç‚¹å¼€äº†ä¸€ä¸ªé¡µé¢ï¼Œç„¶ååœ¨è¯¥é¡µé¢çš„è¯±æƒ‘ä¸‹ä½ ç‚¹å‡»äº†ä¸€ä¸ªæŒ‰é’®ï¼Œç»“æœä½ çš„æ·˜å®è´­ç‰©è½¦è¢«æ¶æ„æ¸…ç©ºäº†ã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 1. æ€»æ½å¾ˆè€çš„ä¸€æœ¬ä¹¦ï¼Œä½†æ˜¯ä¾ç„¶æœ‰é˜…è¯»ä»·å€¼ã€‚ å…¨ä¹¦åˆ†ä¸º4ä¸ªéƒ¨åˆ†ï¼Œå…¶ä¸­æ¯”è¾ƒé‡è¦çš„åº”è¯¥æ˜¯ç¬¬äºŒç« å’Œç¬¬ä¸‰ç« ï¼Œç¬¬äºŒç« ä¸»è¦è®²è§£å®¢æˆ·ç«¯ï¼ˆæµè§ˆå™¨ï¼‰å¦‚ä½•ä¿éšœç”¨æˆ·çš„å®‰å…¨ï¼Œç¬¬ä¸‰ç« ä¸»è¦è®²è§£æœåŠ¡ç«¯å¦‚ä½•ä¿éšœç”¨æˆ·å®‰å…¨ã€‚ 2. å®¢æˆ·ç«¯å®‰å…¨å®¢æˆ·ç«¯è¿™è¾¹å®¹æ˜“å—åˆ°æ”»å‡»çš„ä¸»è¦æœ‰ä¸‰ä¸ªç±»å‹ã€‚ ç¬¬ä¸€ä¸ªæ˜¯XSSæ”»å‡»ï¼Œå…¨åè·¨ç«™è„šæœ¬æ”»å‡»ï¼Œé€šå¸¸æŒ‡çš„æ˜¯é»‘å®¢é€šè¿‡æŸäº›æ‰‹æ®µï¼Œç¯¡æ”¹äº†ç”¨æˆ·è®¿é—®çš„é¡µé¢ï¼Œå¯¼è‡´é¡µé¢ä¸Šæ‰§è¡Œäº†ä¸€äº›æ¶æ„çš„è„šæœ¬ã€‚ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼šåœ¨ä½ ç™»é™†æ·˜å®ä¹‹åï¼Œé»‘å®¢ç¯¡æ”¹äº†ä½ çš„æ·˜å®é¡µé¢ï¼ˆç¯¡æ”¹äº†ç”¨æˆ·è®¿é—®çš„é¡µé¢ï¼‰ï¼Œè‡ªåŠ¨å¸®ä½ è´­ä¹°äº†ä¸€äº›å¥‡æ€ªçš„ä¸œè¥¿ï¼ˆæ‰§è¡Œäº†ä¸€äº›æ¶æ„çš„è„šæœ¬ï¼‰ã€‚ ç¬¬äºŒä¸ªæ˜¯CSRFæ”»å‡»ï¼Œå…¨åè·¨ç«™ç‚¹è¯·æ±‚ä¼ªé€ ï¼Œé€šå¸¸æŒ‡çš„æ˜¯é»‘å®¢é€šè¿‡æŸäº›æ‰‹æ®µï¼Œè¯±å¯¼ç”¨æˆ·è®¿é—®æŸé’“é±¼é¡µé¢ï¼Œåœ¨è¯¥é¡µé¢ä¸Šå®Œæˆäº†ä¸€äº›æ¶æ„çš„è„šæœ¬ã€‚ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š åœ¨ä¸€äº›è¯±æƒ‘ä¸‹ä½ ç‚¹å¼€äº†ä¸€ä¸ªé¡µé¢ï¼ˆè¯±å¯¼ç”¨æˆ·è®¿é—®æŸé’“é±¼é¡µé¢ï¼‰ï¼Œå°½ç®¡ä½ ä¹‹åä»€ä¹ˆéƒ½æ²¡æœ‰åšï¼Œä½†æ˜¯ä½ çš„æ·˜å®è´­ç‰©è½¦è¢«æ¶æ„æ¸…ç©ºäº†ï¼ˆåœ¨è¯¥é¡µé¢ä¸Šå®Œæˆäº†ä¸€äº›æ¶æ„çš„è„šæœ¬ï¼‰ ç¬¬ä¸‰ä¸ªæ˜¯ClickJackingæ”»å‡»ï¼Œå…¨åç‚¹å‡»åŠ«æŒæ”»å‡»ï¼Œé€šå¸¸æŒ‡çš„æ˜¯é»‘å®¢é€šè¿‡æŸäº›æ‰‹æ®µï¼Œè¯±å¯¼ç”¨æˆ·è®¿é—®æŸé’“é±¼é¡µé¢ï¼Œè¯¥é¡µé¢æœ‰ä¸ªæŒ‰é’®ï¼ŒæŒ‰é’®ä¸Šæ‚¬æµ®äº†ä¸€ä¸ªé€æ˜çš„iframeï¼Œç„¶åå¼•è¯±ä½ ç‚¹å‡»è¯¥æŒ‰é’®ï¼Œå½“ä½ ç‚¹å‡»è¯¥æŒ‰é’®æ—¶è§¦å‘äº†iframeä¸­çš„æŒ‰é’®ã€‚ä¸€ä¸ªä¾‹å­æ˜¯ï¼šåœ¨ä¸€äº›è¯±æƒ‘ä¸‹ä½ ç‚¹å¼€äº†ä¸€ä¸ªé¡µé¢ï¼Œç„¶ååœ¨è¯¥é¡µé¢çš„è¯±æƒ‘ä¸‹ä½ ç‚¹å‡»äº†ä¸€ä¸ªæŒ‰é’®ï¼Œç»“æœä½ çš„æ·˜å®è´­ç‰©è½¦è¢«æ¶æ„æ¸…ç©ºäº†ã€‚ 2.1. XSSXSSçš„æ ¸å¿ƒå°±æ˜¯ç¯¡æ”¹ç”¨æˆ·è®¿é—®çš„é¡µé¢ï¼Œæ”»å‡»è€…æ˜¯å¦‚ä½•æ¥å®æ–½ç¯¡æ”¹çš„å‘¢ï¼Ÿ 2.1.1. è¯„è®ºåŒºXSSå¾ˆå¤šåšå®¢éƒ½æœ‰ä¸€äº›è¯„è®ºåŒºï¼Œç”¨æˆ·å¯ä»¥åœ¨å…¶ä¸­è¾“å…¥ä¸€äº›æ–‡æœ¬ï¼Œç„¶åè¿™äº›æ–‡æœ¬ä¼šå±•ç¤ºåœ¨è¯„è®ºåŒºã€‚ éƒ¨åˆ†è¯„è®ºåŒºç›´æ¥æŠŠç”¨æˆ·çš„æ–‡æœ¬è§£æä¸ºHTMLè¯­è¨€ï¼Œ ä½†å¦‚æœç”¨æˆ·è¾“å…¥äº†ä¸€äº›åˆ«æœ‰ç”¨å¿ƒçš„æ–‡æœ¬ï¼Œå…¶ä¸­åŒ…å«äº†ä¸€äº›å¯æ‰§è¡Œçš„è„šæœ¬ï¼Œç„¶åè¢«æµè§ˆå™¨æ‰§è¡Œäº†ï¼Œè¿™å°±æ˜¯XSSæ”»å‡»ã€‚ 2.1.2. æ€»ç»“æ‰€ä»¥å®é™…ä¸ŠXSSçš„æ˜¯æ”»å‡»è€…åˆ©ç”¨äº†ç³»ç»Ÿçš„æ¼æ´ï¼Œå¯¼è‡´ç³»ç»Ÿæ²¡æœ‰æŒ‰ç…§å¼€å‘è€…æ‰€æœŸæœ›çš„é‚£æ ·è¿è¡Œå¯¼è‡´çš„ã€‚è¿™ç§æƒ…å†µå’ŒSQLæ³¨å…¥ç‰¹åˆ«ç›¸ä¼¼ã€‚ å¼€å‘è€…æ‰€éœ€è¦åšçš„å°±æ˜¯ä¸è¦ä¿¡ä»»ç”¨æˆ·çš„è¾“å…¥ï¼Œä¸è¦æ‰§è¡Œç”¨æˆ·çš„è¾“å…¥å†…å®¹å³å¯ï¼Œå¯¹äºè¯„è®ºç³»ç»Ÿï¼Œå¯ä»¥åªå…è®¸ç”¨æˆ·è¾“å…¥éƒ¨åˆ†å¸¦é™åˆ¶çš„å†…å®¹ï¼Œå€Ÿæ­¤æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ 2.2. CSRFCSRFçš„æ ¸å¿ƒæ˜¯è·¨ç«™ï¼Œå¾ˆå¤šå¼€å‘è€…å¯¹è·¨ç«™è¯·æ±‚äº†è§£ä¸å¤šï¼Œåœ¨ä¸€äº›å¶ç„¶çš„æƒ…å†µä¸‹ï¼Œå…è®¸ä»»ä½•è·¨åŸŸè¯·æ±‚æ¥åˆ°è‡ªå·±çš„åå°ï¼Œè¿™å…¶å®æ˜¯éå¸¸å±é™©çš„ã€‚ 2.2.1. CSRFä¾‹å­å¼€å‘è€…å…è®¸ä»»ä½•åŸŸçš„è¯·æ±‚è¿›è¡Œè·¨åŸŸï¼Œç»“æœæ”»å‡»è€…è‡ªå·±åšäº†ä¸€ä¸ªç½‘ç«™ï¼Œåœ¨é‡Œé¢é€šè¿‡è·¨åŸŸè°ƒç”¨ï¼Œåˆ é™¤å½“å‰ç”¨æˆ·çš„æ‰€æœ‰æ•°æ®ï¼Œ è¿™æ—¶å€™å¦‚æœä¸€ä¸ªå¤§å†¤ç§æ¥åˆ°äº†è¿™ä¸ªç½‘ç«™ï¼Œå¤§å†¤ç§çš„æ•°æ®å°±å…¨éƒ¨è¢«åˆ é™¤äº†ã€‚ 2.2.2. æ€»ç»“ä¸è¦å…è®¸ä¸å¯ä¿¡ä»»çš„åŸŸå‘èµ·è·¨åŸŸè¯·æ±‚å°±èƒ½è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å½“ç„¶æœ‰äº›è¯·æ±‚ä¸æ¶‰åŠåˆ°è·¨åŸŸï¼Œæ¯”å¦‚GETè¯·æ±‚ï¼Œè¿™ç§å°±è¦æ±‚å¼€å‘è€…ä¸è¦æŠŠä¸€äº›é‡è¦çš„æ•æ„Ÿåº¦é«˜çš„è¯·æ±‚ç”¨GETå®ç°ã€‚ 2.3. ClickJacking ç‚¹å‡»åŠ«æŒï¼Œå¤šå‘ç”Ÿäºï¼Œiframeé¡µé¢ï¼Œè¿™ä¸ªå’Œiframeæœ‰å…³ï¼Œè¿™é‡ŒçŸ¥é“åŸç†å°±è¡Œï¼Œå°±æ˜¯ä¸€ä¸ªé€æ˜çš„iframeåœ¨ä½œå¦–ï¼Œå…·ä½“ç»†èŠ‚ç¬”è€…ä¸æ„Ÿå…´è¶£ã€‚ 3â€¦åé¢çš„å†…å®¹ä¸€èˆ¬èˆ¬äº†ï¼Œä¸å†™äº†","categories":[{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","permalink":"http://fightinggg.github.io/indigo/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"}],"tags":[{"name":"è¯»ä¹¦,HTTP","slug":"è¯»ä¹¦-HTTP","permalink":"http://fightinggg.github.io/indigo/tags/%E8%AF%BB%E4%B9%A6-HTTP/"}]},{"title":"spring13-AspectJ","slug":"Language/Java/Spring/spring13-AspectJ/index","date":"2022-03-31T01:52:00.000Z","updated":"2022-03-31T01:52:00.000Z","comments":true,"path":"R9L6IO.html","link":"","permalink":"http://fightinggg.github.io/indigo/R9L6IO.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 1. AspectJ1.1. AspectJä»‹ç»AspectJå®˜ç½‘^4 AspectJæ–‡æ¡£^1 1.1.1. pointcutspointcutsæŒ‡çš„æ˜¯ç¨‹åºä¸­çš„æŸäº›é“¾æ¥ç‚¹ï¼ˆæŸäº›æ—¶æœºï¼‰ï¼Œä¾‹å¦‚call(void Point.setX(int))è¡¨ç¤ºï¼šè°ƒç”¨ç±»Pointçš„setX(int)æ–¹æ³•æ—¶ pointcutså¯ä»¥ä½¿ç”¨ä¸æˆ–éè¡¨è¾¾å¼ï¼ˆ||,&amp;&amp;,!ï¼‰è¿æ¥ï¼Œæ¯”å¦‚ call(void Point.setX(int)) || call(void Point.setY(int)) pointcutså¯ä»¥è¢«å®šä¹‰ä¸ºå˜é‡ï¼Œå¦‚ä¸‹é¢ä»£ç ä¸­çš„move() 123456pointcut move(): call(void FigureElement.setXY(int,int)) || call(void Point.setX(int)) || call(void Point.setY(int)) || call(void Line.setP1(Point)) || call(void Line.setP2(Point)); å½“ç„¶pointcutså®šä¹‰çš„æ—¶å€™è¿˜å¯ä»¥ä½¿ç”¨é€šé…ç¬¦ï¼Œæ¯”å¦‚call(void Figure.make*(..))ä»£è¡¨Figureçš„ä»¥makeå¼€å¤´ä¸”è¿”å›å€¼ä¸ºvoidçš„æ–¹æ³•ï¼ˆä¸å…³å¿ƒå‚æ•°ï¼‰è°ƒç”¨çš„æ—¶å€™ã€‚æ¯”å¦‚call(public * Figure.* (..))ä»£è¡¨Figureçš„ä»»ä½•æ–¹æ³•ï¼ˆä¸å…³å¿ƒæ–¹æ³•åï¼Œå‚æ•°ï¼Œè¿”å›å€¼ï¼‰è°ƒç”¨çš„æ—¶å€™ã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 1. AspectJ1.1. AspectJä»‹ç»AspectJå®˜ç½‘^4 AspectJæ–‡æ¡£^1 1.1.1. pointcutspointcutsæŒ‡çš„æ˜¯ç¨‹åºä¸­çš„æŸäº›é“¾æ¥ç‚¹ï¼ˆæŸäº›æ—¶æœºï¼‰ï¼Œä¾‹å¦‚call(void Point.setX(int))è¡¨ç¤ºï¼šè°ƒç”¨ç±»Pointçš„setX(int)æ–¹æ³•æ—¶ pointcutså¯ä»¥ä½¿ç”¨ä¸æˆ–éè¡¨è¾¾å¼ï¼ˆ||,&amp;&amp;,!ï¼‰è¿æ¥ï¼Œæ¯”å¦‚ call(void Point.setX(int)) || call(void Point.setY(int)) pointcutså¯ä»¥è¢«å®šä¹‰ä¸ºå˜é‡ï¼Œå¦‚ä¸‹é¢ä»£ç ä¸­çš„move() 123456pointcut move(): call(void FigureElement.setXY(int,int)) || call(void Point.setX(int)) || call(void Point.setY(int)) || call(void Line.setP1(Point)) || call(void Line.setP2(Point)); å½“ç„¶pointcutså®šä¹‰çš„æ—¶å€™è¿˜å¯ä»¥ä½¿ç”¨é€šé…ç¬¦ï¼Œæ¯”å¦‚call(void Figure.make*(..))ä»£è¡¨Figureçš„ä»¥makeå¼€å¤´ä¸”è¿”å›å€¼ä¸ºvoidçš„æ–¹æ³•ï¼ˆä¸å…³å¿ƒå‚æ•°ï¼‰è°ƒç”¨çš„æ—¶å€™ã€‚æ¯”å¦‚call(public * Figure.* (..))ä»£è¡¨Figureçš„ä»»ä½•æ–¹æ³•ï¼ˆä¸å…³å¿ƒæ–¹æ³•åï¼Œå‚æ•°ï¼Œè¿”å›å€¼ï¼‰è°ƒç”¨çš„æ—¶å€™ã€‚ cflowæ˜¯ä»€ä¹ˆï¼Ÿ 1.1.2. advicepointcuts æŒ‡å‡ºäº†ä¸€äº›äº‹ä»¶å‘ç”Ÿçš„æ—¶æœºï¼Œå½“è¿™äº›äº‹ä»¶çœŸæ­£å‘ç”Ÿçš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦adviceè¡¨ç¤ºè¯¥åšäº›ä»€ä¹ˆã€‚adviceå¦‚ä¸‹ï¼Œadviceå¯ä»¥ä½¿ç”¨beforeä»£è¡¨åœ¨pointcutså‘ç”Ÿä»¥å‰åšä¸€äº›äº‹æƒ…,å¦‚ä¸‹ 123before(): move() &#123; System.out.println(&quot;before move&quot;);&#125; ä½¿ç”¨afterä»£è¡¨åœ¨pointcutså‘ç”Ÿä»¥ååšä¸€äº›äº‹æƒ…ï¼Œå¦‚ä¸‹ 123after(): move()&#123; System.out.println(&quot;after move&quot;);&#125; afterè¿˜å¯ä»¥åŠ ä¸Šä¿®é¥°ç¬¦returningå’Œthrowingï¼Œåˆ†åˆ«è¡¨ç¤ºåœ¨æ­£å¸¸è¿”å›å’Œåœ¨å¼‚å¸¸è¿”å›çš„æƒ…å†µï¼Œå¦‚ä¸‹ 1234567after() returning: move()&#123; System.out.println(&quot;after move&quot;);&#125;after() throwing: move()&#123; System.out.println(&quot;after move&quot;);&#125; aroundè¡¨ç¤ºç¯ç»•ä¸€ä¸ªæ–¹æ³• 1.1.3. aspectaspectæ˜¯ä¸€ä¸ªç‰¹åˆ«çš„ç±»å‹ï¼Œåœ¨å…¶ä¸­å¯ä»¥å®šä¹‰pointcutå’Œadviceï¼Œå¦‚ä¸‹ 12345678910111213aspect MyAspect&#123; pointcut move(): call(void FigureElement.setXY(int,int)) || call(void Point.setX(int)) || call(void Point.setY(int)) || call(void Line.setP1(Point)) || call(void Line.setP2(Point)); after(): move()&#123; System.out.println(&quot;after move&quot;); &#125;&#125; å½“ç„¶aspectå…¼å®¹javaï¼Œä½ ä¹Ÿå¯ä»¥å®šä¹‰å„ç§æ–¹æ³•ï¼Œå˜é‡ 1234567891011121314151617181920aspect MyAspect&#123; private Integer intValue; public Integer getInt()&#123; return intValue; &#125; pointcut move(): call(void FigureElement.setXY(int,int)) || call(void Point.setX(int)) || call(void Point.setY(int)) || call(void Line.setP1(Point)) || call(void Line.setP2(Point)); after(): move()&#123; System.out.println(&quot;after move&quot;); &#125; &#125; 1.2. åœ¨IntelliJ IDEAä¸Šå®‰è£…AspectJ1.2.1. ä¸‹è½½å¹¶å®‰è£…AspectJåœ¨å®˜ç½‘^4ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„jaråŒ…ï¼Œç¬”è€…è¿™é‡Œçš„æœ€æ–°ç‰ˆæœ¬æ˜¯aspectj-1.9.6.jar ï¼Œä¸‹è½½ä»¥ååŒå‡»è¿è¡Œè¿›è¡Œå®‰è£…ã€‚ AspectJå®‰è£… 1.2.2. å®‰è£…æ’ä»¶å®‰è£…AspectJæ’ä»¶^2å³å¯ 1.2.3. å¯ç”¨AJCç¼–è¯‘å™¨åœ¨IDEAçš„è®¾ç½®ä¸­é€‰æ‹©AJCç¼–è¯‘å™¨ï¼Œå¹¶æŒ‡å®š1.2.1ä¸­å®‰è£…çš„ajctoolçš„ä½ç½®ã€‚ IDEA_Enable_AJC 1.2.4. ç»™é¡¹ç›®æ·»åŠ AJCä¾èµ–æŠŠ1.2.1ä¸­å®‰è£…çš„libåŒ…æ”¾åˆ°é¡¹ç›®çš„ä¾èµ–ä¸­ã€‚ Add_AJC_Lib.png 1.3. Hello Worldä¸‹é¢æ˜¯ä¸€ä»½Helloworldçš„ä»£ç ,æºç¨‹åºåªè¾“å‡º+å·ï¼Œä½†æ˜¯è¢«aspectæ‰€æ‹¦æˆªï¼Œæœ€ç»ˆè¾“å‡ºäº†Hello + World! 12345678910111213141516171819202122class HelloWorld &#123; public void hello()&#123; System.out.print(&quot;+&quot;); &#125; public static void main(String[] args) &#123; new HelloWorld().hello(); &#125;&#125;aspect HelloWorldAspect &#123; before(): call(public * HelloWorld.*(..))&#123; System.out.print(&quot; Hello &quot;); &#125; after(): call(public * HelloWorld.*(..))&#123; System.out.print(&quot; World! &quot;); &#125;&#125; 1.4. Pointcutsè¡¨è¾¾å¼ æ‰§è¡Œä¸€ä¸ªç‰¹å®šçš„æ–¹æ³•çš„æ—¶å€™ 1execution(void Point.setX(int)) ä¾‹å¦‚ä¸‹é¢çš„ä»£ç  12345678910111213141516171819202122class HelloWorld &#123; public void hello()&#123; System.out.print(&quot;+&quot;); &#125; public static void main(String[] args) &#123; new HelloWorld().hello(); &#125;&#125;aspect HelloWorldAspect &#123; before(): execution(public * HelloWorld.hello(..))&#123; System.out.print(&quot; Hello &quot;); &#125; after(): execution(public * HelloWorld.hello(..))&#123; System.out.print(&quot; World! &quot;); &#125;&#125; è¢«ç¼–è¯‘ä¸ºäº† 1234567891011121314151617181920212223242526//// Source code recreated from a .class file by IntelliJ IDEA// (powered by FernFlower decompiler)//class HelloWorld &#123; HelloWorld() &#123; &#125; public void hello() &#123; try &#123; HelloWorldAspect.aspectOf().ajc$before$HelloWorldAspect$1$75869607(); System.out.print(&quot;+&quot;); &#125; catch (Throwable var2) &#123; HelloWorldAspect.aspectOf().ajc$after$HelloWorldAspect$2$75869607(); throw var2; &#125; HelloWorldAspect.aspectOf().ajc$after$HelloWorldAspect$2$75869607(); &#125; public static void main(String[] args) &#123; (new HelloWorld()).hello(); &#125;&#125; ä»£ç è¢«ç›´æ¥å†™å…¥åˆ°äº†helloæ–¹æ³•æ‰§è¡Œçš„åœ°æ–¹ã€‚ è°ƒç”¨ä¸€ä¸ªç‰¹å®šæ–¹æ³•çš„æ—¶å€™ 1call(void Point.setX(int)) ä¾‹å¦‚ä¸‹é¢çš„ä»£ç  123456789101112131415161718192021class HelloWorld &#123; public void hello()&#123; System.out.print(&quot;+&quot;); &#125; public static void main(String[] args) &#123; new HelloWorld().hello(); &#125;&#125;aspect HelloWorldAspect &#123; before(): call(public * HelloWorld.*(..))&#123; System.out.print(&quot; Hello &quot;); &#125; after(): call(public * HelloWorld.*(..))&#123; System.out.print(&quot; World! &quot;); &#125;&#125; è¢«ç¼–è¯‘ä¸ºäº† 12345678910111213141516171819202122232425262728//// Source code recreated from a .class file by IntelliJ IDEA// (powered by FernFlower decompiler)//class HelloWorld &#123; HelloWorld() &#123; &#125; public void hello() &#123; System.out.print(&quot;+&quot;); &#125; public static void main(String[] args) &#123; HelloWorld var10000 = new HelloWorld(); try &#123; HelloWorldAspect.aspectOf().ajc$before$HelloWorldAspect$1$cdc2ab29(); var10000.hello(); &#125; catch (Throwable var2) &#123; HelloWorldAspect.aspectOf().ajc$after$HelloWorldAspect$2$cdc2ab29(); throw var2; &#125; HelloWorldAspect.aspectOf().ajc$after$HelloWorldAspect$2$cdc2ab29(); &#125;&#125; å¯ä»¥çœ‹åˆ°ï¼Œæ˜¯åœ¨è°ƒç”¨helloæ–¹æ³•çš„å‰åå¢åŠ äº†ä¸€äº›å†…å®¹ã€‚ å¤„ç†å¼‚å¸¸çš„æ—¶å€™ 1handler(ArrayOutOfBoundsException) å¦‚ä¸‹é¢çš„ä»£ç  1234567891011121314151617181920212223class HelloWorld &#123; public void hello() &#123; try &#123; System.out.print(&quot;+&quot;); &#125; catch (Exception e) &#123; System.out.print(e.getMessage()); &#125; &#125; public static void main(String[] args) &#123; new HelloWorld().hello(); &#125;&#125;aspect HelloWorldAspect &#123; before(): handler(Exception)&#123; System.out.print(&quot; Hello &quot;); &#125;&#125; è¢«ç¼–è¯‘ä¸ºäº† 123456789101112131415161718192021222324//// Source code recreated from a .class file by IntelliJ IDEA// (powered by FernFlower decompiler)//class HelloWorld &#123; HelloWorld() &#123; &#125; public void hello() &#123; try &#123; System.out.print(&quot;+&quot;); &#125; catch (Exception var3) &#123; HelloWorldAspect.aspectOf().ajc$before$HelloWorldAspect$1$ae9a1a78(); System.out.print(var3.getMessage()); &#125; &#125; public static void main(String[] args) &#123; (new HelloWorld()).hello(); &#125;&#125; å¯ä»¥å‘ç°å°±æ˜¯åœ¨catchè¯¥exceptionåçš„ç¬¬ä¸€æ­¥æ“ä½œ å½“ç„¶AspectJè¿˜æœ‰å¾ˆå¤šå¾ˆå¤šå¯ä»¥å®šä¹‰point cutçš„å…³é”®è¯ï¼Œç¬”è€…è¿™é‡Œå°±ä¸ä¸€ä¸€åˆ—ä¸¾äº†ï¼Œç›¸è§æ–‡æ¡£[^5]å³å¯ 1.5. æ€»ç»“æ‰€ä»¥AspectJå…¶å®æ˜¯å¯¹Javaè¯­æ³•çš„æ‹“å±•ï¼Œé€šè¿‡ç‰¹å®šçš„ç¼–è¯‘å™¨ï¼Œç»™Javaå¸¦æ¥äº†æ›´å¼ºå¤§çš„èƒ½åŠ›ã€‚ 2. Spring å¯¹ AspectJçš„æ”¯æŒå®˜æ–¹æ–‡æ¡£^3 Springæ”¯æŒAspectJçš„ä¸€ä¸ªå­é›†,æ‰€æ”¯æŒçš„pointcutå¦‚ä¸‹ Spring AOP supports the following AspectJ pointcut designators (PCD) for use in pointcut expressions: execution: For matching method execution join points. This is the primary pointcut designator to use when working with Spring AOP. within: Limits matching to join points within certain types (the execution of a method declared within a matching type when using Spring AOP). this: Limits matching to join points (the execution of methods when using Spring AOP) where the bean reference (Spring AOP proxy) is an instance of the given type. target: Limits matching to join points (the execution of methods when using Spring AOP) where the target object (application object being proxied) is an instance of the given type. args: Limits matching to join points (the execution of methods when using Spring AOP) where the arguments are instances of the given types. @target: Limits matching to join points (the execution of methods when using Spring AOP) where the class of the executing object has an annotation of the given type. @args: Limits matching to join points (the execution of methods when using Spring AOP) where the runtime type of the actual arguments passed have annotations of the given types. @within: Limits matching to join points within types that have the given annotation (the execution of methods declared in types with the given annotation when using Spring AOP). @annotation: Limits matching to join points where the subject of the join point (the method being run in Spring AOP) has the given annotation. springä¸­çš„aspectJï¼Œå¹¶éä½¿ç”¨æ‹“å±•javaè¯­æ³•ï¼Œè€Œæ˜¯ä½¿ç”¨æ³¨è§£æ¥æ‹“å±•ï¼Œspringä¸­çš„aspectjä¹Ÿä¸æ˜¯ä½¿ç”¨çš„aspectjç¼–è¯‘å™¨ï¼Œè€Œæ˜¯ä½¿ç”¨çš„spring aopæ¥å®Œæˆä»£ç†ã€‚ä½†springä¹Ÿæ”¯æŒé€šè¿‡å¼€å…³ä½¿ç”¨åŸç”Ÿaspectj[^6]ã€‚ aspectçš„ç±»å‹ç”¨æ³¨è§£@Aspectè¡¨ç¤º pointcutå­—æ®µç”¨@Pointcutè¡¨ç¤º adviceåˆ†åˆ«ç”¨@Beforeã€@Afterã€@Aroundæ¥è¡¨ç¤º 3. å¼•ç”¨[^5]: Aspect pointcut æ–‡æ¡£[^6]: Springä¸­ä½¿ç”¨AspectJç¼–è¯‘å™¨","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"Spring","slug":"Language/Java/Spring","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/Spring/"}],"tags":[{"name":"è¯»ä¹¦","slug":"è¯»ä¹¦","permalink":"http://fightinggg.github.io/indigo/tags/%E8%AF%BB%E4%B9%A6/"},{"name":"AspectJ","slug":"AspectJ","permalink":"http://fightinggg.github.io/indigo/tags/AspectJ/"}]},{"title":"C++å¼•ç”¨çš„ç§˜å¯†","slug":"Language/C++/C++å¼•ç”¨çš„ç§˜å¯†/index","date":"2022-02-16T05:04:00.000Z","updated":"2022-02-16T05:04:00.000Z","comments":true,"path":"R7DSQO.html","link":"","permalink":"http://fightinggg.github.io/indigo/R7DSQO.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 0. ä¸€ä¸ªé”™è¯¯çš„æ¦‚å¿µ123456int main() &#123; int a = 111; int &amp;b = a; b = 222; std::cout&lt;&lt;&amp;a&lt;&lt;&amp;b;&#125; æˆ‘ä»¬èƒ½çœ‹åˆ°è¿™é‡Œè¾“å‡ºçš„ä¸¤ä¸ªå€¼ç›¸åŒã€‚ é”™è¯¯1: å¾ˆå¤šäººè®¤ä¸ºè¿™é‡Œçš„bå°±æ˜¯aï¼Œaå°±æ˜¯bï¼Œaå’Œbçš„åœ°å€æ˜¯ä¸€æ ·çš„ï¼Œå¦‚ä¸‹å›¾ã€‚ ä½†æ˜¯ç¬”è€…è¦è¯´ï¼Œå…¶å®è¿™ä¸ªæ¦‚å¿µæ˜¯æœ‰é—®é¢˜çš„ï¼Œaæ˜¯aï¼Œbæ˜¯bï¼Œaå’Œbå¹¶ä¸æ˜¯åŒä¸€ä¸ªåœ°å€ã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 0. ä¸€ä¸ªé”™è¯¯çš„æ¦‚å¿µ123456int main() &#123; int a = 111; int &amp;b = a; b = 222; std::cout&lt;&lt;&amp;a&lt;&lt;&amp;b;&#125; æˆ‘ä»¬èƒ½çœ‹åˆ°è¿™é‡Œè¾“å‡ºçš„ä¸¤ä¸ªå€¼ç›¸åŒã€‚ é”™è¯¯1: å¾ˆå¤šäººè®¤ä¸ºè¿™é‡Œçš„bå°±æ˜¯aï¼Œaå°±æ˜¯bï¼Œaå’Œbçš„åœ°å€æ˜¯ä¸€æ ·çš„ï¼Œå¦‚ä¸‹å›¾ã€‚ ä½†æ˜¯ç¬”è€…è¦è¯´ï¼Œå…¶å®è¿™ä¸ªæ¦‚å¿µæ˜¯æœ‰é—®é¢˜çš„ï¼Œaæ˜¯aï¼Œbæ˜¯bï¼Œaå’Œbå¹¶ä¸æ˜¯åŒä¸€ä¸ªåœ°å€ã€‚ 1. ä»STDçš„tieç±»å‹è¯´èµ·ç¬”è€…åœ¨é˜…è¯»ClickHouseæºç çš„æ—¶å€™å‘ç°äº†æœ‰è¶£çš„ç°è±¡ï¼Œè¯¥æºç ä¸­æœ‰å¦‚ä¸‹ä»£ç ï¼Œæˆ‘ä»¬æ³¨æ„ç¬¬7-9è¡Œï¼Œå¯ä»¥å‘ç°è¿™ä½¿ç”¨äº†STDçš„tieï¼Œè¯¥ç±»å‹è®©C++å®ç°äº†ä¸€æ¬¡æ€§è¿”å›ä¸¤ä¸ªå€¼çš„æ•ˆæœã€‚ä¸‹é¢çš„executeQueryImplå‡½æ•°è¿”å›äº†ä¸¤ä¸ªå€¼ï¼Œåˆ†åˆ«å†™å…¥åˆ°äº†astå’Œstreamsä¸­ã€‚ 12345678910111213141516171819202122BlockIO executeQuery( const String &amp; query, ContextMutablePtr context, bool internal, QueryProcessingStage::Enum stage)&#123; ASTPtr ast; BlockIO streams; std::tie(ast, streams) = executeQueryImpl(query.data(), query.data() + query.size(), context, internal, stage, nullptr); if (const auto * ast_query_with_output = dynamic_cast&lt;const ASTQueryWithOutput *&gt;(ast.get())) &#123; String format_name = ast_query_with_output-&gt;format ? getIdentifierName(ast_query_with_output-&gt;format) : context-&gt;getDefaultFormat(); if (format_name == &quot;Null&quot;) streams.null_format = true; &#125; return streams;&#125; 2. å¦‚ä½•å®ç°çš„å®é™…ä¸ŠC++ä¸­å¯ä»¥åœ¨ç»“æ„ä½“ä¸­æŒ‡å®šä¸€ä¸ªå¼•ç”¨å­—æ®µï¼Œé€šè¿‡æ„é€ å‡½æ•°å°†å¤–ç•Œçš„å˜é‡ä¼ é€’è¿›ç»“æ„ä½“ï¼Œå†é€šè¿‡è¯¥ç»“æ„ä½“çš„æ‹·è´æ„é€ å‡½æ•°å®ç°èµ‹å€¼ã€‚ 3. ç»“æ„ä½“ä¸­å¦‚ä½•å‚¨å­˜å¼•ç”¨ç»“æ„ä½“å¦‚ä½•å‚¨å­˜å…¶ä»–å€¼çš„å¼•ç”¨ï¼ŸæŒ‰ç…§å‰æ–‡çš„è¯´æ³•ï¼Œå¦‚æœå¼•ç”¨çš„åœ°å€æ˜¯ä¸€æ ·çš„ï¼Œç»“æ„ä½“å¦‚ä½•å‚¨å­˜å…¶ä»–å€¼çš„å¼•ç”¨å‘¢ï¼Œå¦‚ä¸‹å›¾ã€‚ å®é™…ä¸Šå”¯ä¸€çš„åŠæ³•åªèƒ½ä½¿ç”¨æŒ‡é’ˆï¼Œè®©å˜é‡bæŒ‡å‘å˜é‡aï¼Œå½“ç„¶è¿™é‡Œçš„å˜é‡bçš„ç±»å‹å°±æ˜¯æŒ‡é’ˆç±»å‹äº†ï¼Œè¿™ä¹ˆè¯´è‚¯å®šå¾ˆå¤šäººä¸èƒ½æ¥å—ï¼Œæˆ‘å®šä¹‰çš„å¼•ç”¨ç±»å‹ï¼Œæ€ä¹ˆå°±æˆäº†æŒ‡é’ˆäº†ã€‚ 4. æ­ç§˜ç»“æ„ä½“ä¸­çš„å¼•ç”¨å…ˆæ¥çœ‹ä¸‹é¢çš„ä»£ç ,ä¸‹é¢è¿™ä¸¤ä¸ªå‡½æ•°ï¼Œå†™æ³•ä¸ä¸€æ ·ï¼Œä½†æ˜¯è¢«GCCç¼–è¯‘å™¨ç¼–è¯‘ä»¥åçš„ç»“æœæ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚ 123456789101112131415161718192021222324252627282930struct Ref &#123; explicit Ref(int &amp;ref) : ref(ref) &#123;&#125; int &amp;ref; int value;&#125;;struct Point &#123; explicit Point(int *ref) : ref(ref) &#123;&#125; int *ref; int value;&#125;;void ref() &#123; int x = 222; Ref a(x); a.ref = 333; a.value = 444;&#125;void point() &#123; int x = 222; Point a(&amp;x); *a.ref = 333; a.value = 444;&#125;int main() &#123;&#125; è¯»è€…å¯ä»¥é€šè¿‡æŒ‡ä»¤ gcc -S -O0 main.cppæ¥ç¼–è¯‘è¯¥æ–‡ä»¶ã€‚å¯ä»¥çœ‹åˆ°ä¸¤ä¸ªå‡½æ•°éƒ½è¢«ç¼–è¯‘ç»“æœä¸ºä¸‹é¢çš„å†…å®¹ï¼Œæ³¨æ„14-15è¡Œï¼Œè¿™é‡Œå°±æ˜¯refèµ‹å€¼çš„åœ°æ–¹ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“å‘ç°ï¼Œç¬¬ä¸€æ­¥æ˜¯æŠŠrbpæ ˆå¯„å­˜å™¨æŒ‡å‘çš„åœ°å€åç§»24çš„ä½ç½®çš„å€¼æ”¾å…¥äº†å¯„å­˜å™¨raxä¸­ï¼Œç¬¬äºŒæ­¥æ˜¯å°†æ•°æ®333å†™å…¥raxå¯„å­˜å™¨æ‰€æŒ‡å‘çš„åœ°å€ã€‚æ‰€ä»¥å¼•ç”¨ä¸è¿‡æ˜¯æŒ‡é’ˆçš„å¦ä¸€ç§å†™æ³•è€Œå·²ã€‚ 123456789101112131415161718192021222324__Z5pointv: ## @_Z5pointv .cfi_startproc## %bb.0: pushq %rbp .cfi_def_cfa_offset 16 .cfi_offset %rbp, -16 movq %rsp, %rbp .cfi_def_cfa_register %rbp subq $32, %rsp movl $222, -4(%rbp) leaq -24(%rbp), %rdi leaq -4(%rbp), %rsi callq __ZN5PointC1EPi movq -24(%rbp), %rax movl $333, (%rax) ## imm = 0x14D movl $444, -16(%rbp) ## imm = 0x1BC addq $32, %rsp popq %rbp retq .cfi_endproc ## -- End function .globl __ZN5PointC1EPi ## -- Begin function _ZN5PointC1EPi .weak_def_can_be_hidden __ZN5PointC1EPi .p2align 4, 0x90 5. æ™®é€šå¼•ç”¨æ˜¯å¦‚ä½•å®ç°çš„æˆ‘ä»¬ä½¿ç”¨gcc -S -O0 main.cppç¼–è¯‘ä¸‹é¢çš„ä»£ç  1234567891011121314void check() &#123; int a = 111; int &amp;b = a; b = 222;&#125;void check2() &#123; int a = 111; int *b = &amp;a; *b = 222;&#125;int main() &#123;&#125; ä¸éš¾å‘ç°ä¸¤ä¸ªå‡½æ•°éƒ½è¢«ç¼–è¯‘æˆäº†ç›¸åŒçš„ä»£ç ,äºæ˜¯ä¹ï¼Œç°åœ¨åº”è¯¥ä¸ä¼šå†æœ‰äººè®¤ä¸ºè¿™é‡Œçš„bå°±æ˜¯aï¼Œaå°±æ˜¯bï¼Œaå’Œbçš„åœ°å€æ˜¯ä¸€æ ·çš„äº†å§ å¾ˆæ˜æ˜¾bå°±æ˜¯æŒ‡é’ˆå•Šï¼Œä»–æ€ä¹ˆèƒ½æ˜¯å’Œaçš„åœ°å€ç›¸åŒå‘¢ï¼Ÿ 12345678910111213141516171819__Z5checkv: ## @_Z5checkv .cfi_startproc## %bb.0: pushq %rbp .cfi_def_cfa_offset 16 .cfi_offset %rbp, -16 movq %rsp, %rbp .cfi_def_cfa_register %rbp movl $111, -4(%rbp) leaq -4(%rbp), %rax movq %rax, -16(%rbp) movq -16(%rbp), %rax movl $222, (%rax) popq %rbp retq .cfi_endproc ## -- End function .globl __Z6check2v ## -- Begin function _Z6check2v .p2align 4, 0x90 æ­£ç¡®çš„å¼•ç”¨å›¾åº”è¯¥æ˜¯ä¸‹é¢è¿™å¼ ","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"C++","slug":"Language/C","permalink":"http://fightinggg.github.io/indigo/categories/Language/C/"}],"tags":[{"name":"ç»“æ„ä½“ä¸­çš„å¼•ç”¨","slug":"ç»“æ„ä½“ä¸­çš„å¼•ç”¨","permalink":"http://fightinggg.github.io/indigo/tags/%E7%BB%93%E6%9E%84%E4%BD%93%E4%B8%AD%E7%9A%84%E5%BC%95%E7%94%A8/"}]},{"title":"Springfoxä½¿ç”¨","slug":"Language/Java/Springfoxä½¿ç”¨/index","date":"2022-01-13T02:48:00.000Z","updated":"2022-01-13T02:48:00.000Z","comments":true,"path":"R5MNS0.html","link":"","permalink":"http://fightinggg.github.io/indigo/R5MNS0.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 1. å¯¹Listä¸èƒ½å¾ˆå¥½çš„æ”¯æŒ1.1. æ ¸å¿ƒä»£ç ä»£ç ä¸­å†™çš„æ˜¯æ•°ç»„ 12345/** * ç”¨æˆ· */@ApiModelProperty(value = &quot;ç”¨æˆ·&quot;,example = &quot;hellowang&quot;)private List&lt;String&gt; user; 1.2. é—®é¢˜è¯¦æƒ…åœ¨swaggeré¡µé¢å±•ç¤ºçš„ä¾‹å­æ˜¯å­—ç¬¦ä¸² 123&#123; &quot;user&quot;: &quot;hellowang&quot;&#125; 1.3. é—®é¢˜è®¨è®º Stackoverflow Github 1.4. è§£å†³æ–¹æ¡ˆspringfox-collection-example-plugin","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"}],"tags":[{"name":"SpringFoxä½¿ç”¨","slug":"SpringFoxä½¿ç”¨","permalink":"http://fightinggg.github.io/indigo/tags/SpringFox%E4%BD%BF%E7%94%A8/"}]},{"title":"Goå…¥é—¨-å¸¸è§é™·é˜±","slug":"Language/Go/Goå…¥é—¨-å¸¸è§é™·é˜±/index","date":"2021-11-03T01:36:00.000Z","updated":"2021-11-03T01:36:00.000Z","comments":true,"path":"R1Z340.html","link":"","permalink":"http://fightinggg.github.io/indigo/R1Z340.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 1. Go çš„æŒ‡é’ˆGoçš„æŒ‡é’ˆå’ŒCçš„æŒ‡é’ˆå¾ˆç±»ä¼¼ï¼Œè¿™ä¹Ÿæ˜¯Goè¢«å½’ç±»äºCç±»è¯­è¨€çš„åŸå› ï¼ŒGoçš„æŒ‡é’ˆä¸æ”¯æŒåç§»è¿ç®—ï¼Œå³ä¸èƒ½å‘Cä¸€æ ·è®©æŒ‡é’ˆ+1ï¼Œ-1ã€‚ 1.1. æ­£å¸¸ä½¿ç”¨å…ˆæ¥çœ‹ç¬¬ä¸€ä¸ªï¼Œç¬¦å·&amp;å³å¯å–åˆ°å¯¹è±¡çš„åœ°å€ã€‚ 1234567func sample1() &#123; arr1 := []int&#123;0, 1, 2, 3, 4, 5, 6, 7, 8, 9&#125; fmt.Println(arr1) fmt.Println(&amp;arr1)&#125; 12[0 1 2 3 4 5 6 7 8 9]&amp;[0 1 2 3 4 5 6 7 8 9] 1.2. forå¾ªç¯é—®é¢˜ä¸‹é¢çš„è¾“å‡ºå…¨æ˜¯9ï¼Œå› ä¸ºforå¾ªç¯çš„valueæ˜¯å…±ç”¨ä¸€ä¸ªåœ°å€çš„ã€‚ 1234567891011121314func sample2() &#123; arr1 := []int&#123;0, 1, 2, 3, 4, 5, 6, 7, 8, 9&#125; mp := map[int]*int&#123;&#125; for i, value := range arr1 &#123; mp[i] = &amp;value &#125; for i, _ := range arr1 &#123; fmt.Println(*mp[i]) &#125;&#125; 2. Go çš„ new å’Œ makeå‚è€ƒ new åªåˆ†é…å†…å­˜ï¼Œmakeä¸ä»…åˆ†é…å†…å­˜è¿˜åˆå§‹åŒ–å¯¹è±¡ã€‚ sliceã€chanã€mapä¸€èˆ¬å¯ä»¥ä½¿ç”¨makeåˆå§‹åŒ–ã€‚","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Go","slug":"Language/Go","permalink":"http://fightinggg.github.io/indigo/categories/Language/Go/"}],"tags":[]},{"title":"Goè¿›é˜¶-Module","slug":"Language/Go/Goè¿›é˜¶-Module/index","date":"2021-10-22T03:43:00.000Z","updated":"2021-10-22T03:43:00.000Z","comments":true,"path":"R1D0ZO.html","link":"","permalink":"http://fightinggg.github.io/indigo/R1D0ZO.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 1. Moduleä½¿ç”¨åœ¨æ–‡ç« Goå…¥é—¨-Goè¯­è¨€ä»å…¥é—¨åˆ°è¿›é˜¶å®æˆ˜ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†GOé¡¹ç›®çš„ç»“æ„ï¼Œä½†æ˜¯æ²¡æœ‰è§£é‡Šå…¶ä¸­çš„ä¸€ä¸ªæ–‡ä»¶go.mod, è¿™å…¶å®æ˜¯æ¨¡å—çš„æ„æ€ã€‚åœ¨go.modä¸­å¯ä»¥å¼•å…¥goçš„ä¾èµ–ã€‚ 123456require ( github.com/golang/mock v1.4.4 github.com/golang/protobuf v1.4.3 github.com/patrickmn/go-cache v2.1.0+incompatible github.com/stretchr/testify v1.6.1) è¿™é‡Œç®€å•ä»‹ç»ä¸€ä¸‹ï¼Œæ³¨æ„åˆ°è¿™é‡Œæ˜¯åº“ååŠ ç‰ˆæœ¬å·ã€‚å½“æˆ‘ä»¬å¼•å…¥äº†ä¾èµ–ç®¡ç†ä»¥åï¼Œå°±å¯ä»¥åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­ç›´æ¥importä¸‰æ–¹åŒ…äº†ã€‚ 2. Module çš„å†å² Go modules æ˜¯ Go è¯­è¨€çš„ä¾èµ–è§£å†³æ–¹æ¡ˆï¼Œå‘å¸ƒäº Go1.11ï¼ŒGo1.14 ä¸Šå·²ç»æ˜ç¡®å»ºè®®ç”Ÿäº§ä¸Šä½¿ç”¨äº† ä¸€å¼€å§‹goå‘å¸ƒçš„æ—¶å€™æ˜¯æ²¡æœ‰åŒ…ç®¡ç†çš„ go getå‘½ä»¤ä¼šæ ¹æ®è·¯å¾„ï¼ŒæŠŠç›¸åº”çš„æ¨¡å—è·å–å¹¶ä¿å­˜åœ¨$GOPATH/src ä¹Ÿæ²¡æœ‰ç‰ˆæœ¬çš„æ¦‚å¿µï¼Œmaster å°±ä»£è¡¨ç¨³å®šçš„ç‰ˆæœ¬ åŸæ–‡ï¼š ğŸ˜Š åœ¨Go Moduleå‡ºç°ä»¥å‰,æˆ‘ä»¬ä½¿ç”¨Go Getè·å–åº“ï¼Œåº“ä¼šç›´æ¥ä¸‹è½½åˆ°GOPATHç›®å½•çš„srcæ–‡ä»¶å¤¹ä¸‹ï¼Œå¾ˆå¥½ç”¨ä½†æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜-ç‰ˆæœ¬å…¼å®¹é—®é¢˜ã€‚ å½“ä¸¤ä¸ªåº“ä¾èµ–åˆ†åˆ«åŒä¸€ä¸ªåº“çš„v1å’Œv2ç‰ˆæœ¬çš„æ—¶å€™ï¼Œå¦‚æœv1å’Œv2ä¸å…¼å®¹ï¼Œé‚£ä¹ˆä¼šå¯¼è‡´è¿™ä¸¤ä¸ªåº“æ— æ³•åŒæ—¶ä½¿ç”¨ã€‚ åæ¥å®˜æ–¹é‡‡ç”¨äº†vgoæ–¹æ¡ˆæ¥è§£å†³GOçš„ä¾èµ–ç®¡ç†é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯ç°åœ¨çš„Go modulesã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 1. Moduleä½¿ç”¨åœ¨æ–‡ç« Goå…¥é—¨-Goè¯­è¨€ä»å…¥é—¨åˆ°è¿›é˜¶å®æˆ˜ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº†GOé¡¹ç›®çš„ç»“æ„ï¼Œä½†æ˜¯æ²¡æœ‰è§£é‡Šå…¶ä¸­çš„ä¸€ä¸ªæ–‡ä»¶go.mod, è¿™å…¶å®æ˜¯æ¨¡å—çš„æ„æ€ã€‚åœ¨go.modä¸­å¯ä»¥å¼•å…¥goçš„ä¾èµ–ã€‚ 123456require ( github.com/golang/mock v1.4.4 github.com/golang/protobuf v1.4.3 github.com/patrickmn/go-cache v2.1.0+incompatible github.com/stretchr/testify v1.6.1) è¿™é‡Œç®€å•ä»‹ç»ä¸€ä¸‹ï¼Œæ³¨æ„åˆ°è¿™é‡Œæ˜¯åº“ååŠ ç‰ˆæœ¬å·ã€‚å½“æˆ‘ä»¬å¼•å…¥äº†ä¾èµ–ç®¡ç†ä»¥åï¼Œå°±å¯ä»¥åœ¨è‡ªå·±çš„é¡¹ç›®ä¸­ç›´æ¥importä¸‰æ–¹åŒ…äº†ã€‚ 2. Module çš„å†å² Go modules æ˜¯ Go è¯­è¨€çš„ä¾èµ–è§£å†³æ–¹æ¡ˆï¼Œå‘å¸ƒäº Go1.11ï¼ŒGo1.14 ä¸Šå·²ç»æ˜ç¡®å»ºè®®ç”Ÿäº§ä¸Šä½¿ç”¨äº† ä¸€å¼€å§‹goå‘å¸ƒçš„æ—¶å€™æ˜¯æ²¡æœ‰åŒ…ç®¡ç†çš„ go getå‘½ä»¤ä¼šæ ¹æ®è·¯å¾„ï¼ŒæŠŠç›¸åº”çš„æ¨¡å—è·å–å¹¶ä¿å­˜åœ¨$GOPATH/src ä¹Ÿæ²¡æœ‰ç‰ˆæœ¬çš„æ¦‚å¿µï¼Œmaster å°±ä»£è¡¨ç¨³å®šçš„ç‰ˆæœ¬ åŸæ–‡ï¼š ğŸ˜Š åœ¨Go Moduleå‡ºç°ä»¥å‰,æˆ‘ä»¬ä½¿ç”¨Go Getè·å–åº“ï¼Œåº“ä¼šç›´æ¥ä¸‹è½½åˆ°GOPATHç›®å½•çš„srcæ–‡ä»¶å¤¹ä¸‹ï¼Œå¾ˆå¥½ç”¨ä½†æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜-ç‰ˆæœ¬å…¼å®¹é—®é¢˜ã€‚ å½“ä¸¤ä¸ªåº“ä¾èµ–åˆ†åˆ«åŒä¸€ä¸ªåº“çš„v1å’Œv2ç‰ˆæœ¬çš„æ—¶å€™ï¼Œå¦‚æœv1å’Œv2ä¸å…¼å®¹ï¼Œé‚£ä¹ˆä¼šå¯¼è‡´è¿™ä¸¤ä¸ªåº“æ— æ³•åŒæ—¶ä½¿ç”¨ã€‚ åæ¥å®˜æ–¹é‡‡ç”¨äº†vgoæ–¹æ¡ˆæ¥è§£å†³GOçš„ä¾èµ–ç®¡ç†é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯ç°åœ¨çš„Go modulesã€‚ 3. go.mod ä¸ go.sumgo.modæ§åˆ¶ä¾èµ–ï¼Œgo.sumæ ¡éªŒä¾èµ–çš„å®Œæ•´æ€§ä¸æ­£ç¡®æ€§ã€‚ 4. Go111MODULEå‚æ•° GO111MODULE=off æ— æ¨¡å—æ”¯æŒï¼Œgo ä¼šä» GOPATH å’Œ vendor æ–‡ä»¶å¤¹å¯»æ‰¾åŒ…ã€‚ GO111MODULE=on æ¨¡å—æ”¯æŒï¼Œgo ä¼šå¿½ç•¥ GOPATH å’Œ vendor æ–‡ä»¶å¤¹ï¼Œåªæ ¹æ® go.mod ä¸‹è½½ä¾èµ–ã€‚ åŸæ–‡ï¼šğŸ˜Š å‚è€ƒGolang Package ä¸ Module ç®€ä»‹ Go Modules åŒ…ç®¡ç†å·¥å…·çš„ç†è§£ä¸ä½¿ç”¨","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Go","slug":"Language/Go","permalink":"http://fightinggg.github.io/indigo/categories/Language/Go/"}],"tags":[]},{"title":"Goå…¥é—¨-Effective-Go","slug":"Language/Go/Goå…¥é—¨-Effective-Go/index","date":"2021-10-19T08:37:00.000Z","updated":"2021-10-19T08:37:00.000Z","comments":true,"path":"R17ULO.html","link":"","permalink":"http://fightinggg.github.io/indigo/R17ULO.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 1. Effective GOhttps://github.com/bingohuang/effective-go-zh-en 2. æ ¼å¼åŒ–åœ¨æœ€å¼€å§‹å­¦ä¹ GOçš„æ—¶å€™ï¼Œå†™äº†å‡ ç¯‡Blogï¼Œå‘ç°ä»£ç é‡Œé¢çš„å¯¹é½éƒ½æ˜¯TABï¼Œè¿™è®©æˆ‘å¾ˆå›°æƒ‘ï¼ŒçŸ¥é“ç°åœ¨æ‰çŸ¥é“ï¼ŒGOè¯­è¨€ï¼Œé»˜è®¤ä½¿ç”¨TABè¿›è¡Œå¯¹é½ã€‚ å½“ç„¶GOè¿˜æœ‰è‡ªå·±çš„ç©ºæ ¼è§„åˆ™x&lt;&lt;8 + y&lt;&lt;16,å‘è¿™ä»½ä»£ç ï¼Œæˆ‘ä»¬æ ¹æ®ç©ºæ ¼å°±èƒ½çŸ¥é“è®¡ç®—çš„ä¼˜å…ˆçº§äº†ã€‚ 3. æ³¨é‡Š3.1. åŒ…æ³¨é‡ŠGoè¯­è¨€è¦æ±‚packageè¯­å¥å‰åŠ ä¸Šæ³¨é‡Šï¼Œæ¥ä»‹ç»æ•´ä¸ªåŒ…ï¼Œå¦‚æœpackageåŒ…å«å¤šä¸ªæ–‡ä»¶ï¼Œåˆ™åªéœ€è¦åœ¨å…¶ä¸­ä¸€ä¸ªæ–‡ä»¶ä¸­æ ‡æ³¨å³å¯ã€‚ 1234567891011121314151617181920/*Package regexp implements a simple library for regular expressions.The syntax of the regular expressions accepted is: regexp: concatenation &#123; &#x27;|&#x27; concatenation &#125; concatenation: &#123; closure &#125; closure: term [ &#x27;*&#x27; | &#x27;+&#x27; | &#x27;?&#x27; ] term: &#x27;^&#x27; &#x27;$&#x27; &#x27;.&#x27; character &#x27;[&#x27; [ &#x27;^&#x27; ] character-ranges &#x27;]&#x27; &#x27;(&#x27; regexp &#x27;)&#x27;*/package regexp","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 1. Effective GOhttps://github.com/bingohuang/effective-go-zh-en 2. æ ¼å¼åŒ–åœ¨æœ€å¼€å§‹å­¦ä¹ GOçš„æ—¶å€™ï¼Œå†™äº†å‡ ç¯‡Blogï¼Œå‘ç°ä»£ç é‡Œé¢çš„å¯¹é½éƒ½æ˜¯TABï¼Œè¿™è®©æˆ‘å¾ˆå›°æƒ‘ï¼ŒçŸ¥é“ç°åœ¨æ‰çŸ¥é“ï¼ŒGOè¯­è¨€ï¼Œé»˜è®¤ä½¿ç”¨TABè¿›è¡Œå¯¹é½ã€‚ å½“ç„¶GOè¿˜æœ‰è‡ªå·±çš„ç©ºæ ¼è§„åˆ™x&lt;&lt;8 + y&lt;&lt;16,å‘è¿™ä»½ä»£ç ï¼Œæˆ‘ä»¬æ ¹æ®ç©ºæ ¼å°±èƒ½çŸ¥é“è®¡ç®—çš„ä¼˜å…ˆçº§äº†ã€‚ 3. æ³¨é‡Š3.1. åŒ…æ³¨é‡ŠGoè¯­è¨€è¦æ±‚packageè¯­å¥å‰åŠ ä¸Šæ³¨é‡Šï¼Œæ¥ä»‹ç»æ•´ä¸ªåŒ…ï¼Œå¦‚æœpackageåŒ…å«å¤šä¸ªæ–‡ä»¶ï¼Œåˆ™åªéœ€è¦åœ¨å…¶ä¸­ä¸€ä¸ªæ–‡ä»¶ä¸­æ ‡æ³¨å³å¯ã€‚ 1234567891011121314151617181920/*Package regexp implements a simple library for regular expressions.The syntax of the regular expressions accepted is: regexp: concatenation &#123; &#x27;|&#x27; concatenation &#125; concatenation: &#123; closure &#125; closure: term [ &#x27;*&#x27; | &#x27;+&#x27; | &#x27;?&#x27; ] term: &#x27;^&#x27; &#x27;$&#x27; &#x27;.&#x27; character &#x27;[&#x27; [ &#x27;^&#x27; ] character-ranges &#x27;]&#x27; &#x27;(&#x27; regexp &#x27;)&#x27;*/package regexp éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ³¨é‡Šä¸æ˜¯JavaDocæ¨¡å¼çš„,ä¸‹é¢è¿™ç§å°±ä¸å¯¹äº† 123456/** * * main * */package main 3.2. å¯¼å‡ºæ³¨é‡Šåœ¨ç¨‹åºä¸­ï¼Œæ¯ä¸ªå¯å¯¼å‡ºï¼ˆé¦–å­—æ¯å¤§å†™ï¼‰çš„åç§°éƒ½åº”è¯¥æœ‰æ–‡æ¡£æ³¨é‡Šã€‚ä½¿ç”¨è¡Œæ³¨é‡Šçš„å½¢å¼ï¼Œè¡Œæ³¨é‡Šçš„ç¬¬ä¸€è¡Œè¦ä»¥è¢«å¯¼å‡ºçš„å†…å®¹å¼€å¤´ï¼Œå¹¶æ€»ç»“æ•´ä¸ªæ³¨é‡Šï¼Œå¦‚ä¸‹ï¼Œç¬¬ä¸€è¡Œä»¥Compileå¼€å¤´ 123// Compile parses a regular expression and returns, if successful, a Regexp// object that can be used to match against text.func Compile(str string) (regexp *Regexp, err error) &#123; 4. å‘½åGoè¯­è¨€é»˜è®¤ä½¿ç”¨é©¼å³°å‘½åï¼Œè¯·ä¸è¦ä½¿ç”¨ä¸‹åˆ’çº¿ 4.1. åŒ…åŒ…åç”¨å°å†™ï¼Œä¸è¦å¸¦ä¸‹åˆ’çº¿ï¼Œ ä¸è¦ä½¿ç”¨import .çš„è¯­å¥ï¼Œå¾ˆå®¹æ˜“å†²çª 4.2. å­—æ®µGetter SetterGetteræ–¹æ³•ä¸éœ€è¦Getè¿™ä¸ªå‰ç¼€,å¦‚ä¸‹ 12obj.Owner()obj.SetOwner(user) 4.3. æ¥å£ååªåŒ…å«ä¸€ä¸ªæ–¹æ³•çš„æ¥å£å‘½åä»¥erç»“å°¾ã€‚ 5. åˆ†å·åœ¨Goä¸­ï¼Œè¡Œæœ«ï¼Œä¸è¦åŠ å…¥åˆ†å·ã€‚ åˆ†å·å…¶å®æ˜¯ç”±è¯æ³•åˆ†æå™¨è‡ªåŠ¨å¢åŠ çš„ã€‚ 6. æ§åˆ¶æµ6.1. å˜é‡é‡æ–°å£°æ˜ä¸‹é¢çš„è¿™ä»½ä»£ç ï¼Œæ³¨æ„åˆ°å…¶ä¸­çš„errç”³æ˜äº†ä¸¤æ¬¡ï¼Œä¸Šé¢è¿™ä¸ªerrå£°æ˜äº†ä¸¤æ¬¡ï¼Œä½†æ˜¯è¿™å¹¶ä¸æ˜¯é”™è¯¯ï¼Œç¼–è¯‘å™¨ä¼šå¸®å¿™è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå®é™…ä¸Šerrç¬¬äºŒæ¬¡åªæ˜¯è¢«é‡æ–°èµ‹å€¼è€Œå·²ã€‚ 123456789101112131415package mainimport ( &quot;fmt&quot; &quot;os&quot;)func main() &#123; f1, err := os.Open(&quot;file&quot;) fmt.Println(f1,err) f2, err := os.Open(&quot;file2&quot;) fmt.Println(f2,err)&#125; å½“ç„¶è¿™æ ·çš„æŠ€å·§åªèƒ½åœ¨ç‰¹æ®Šæƒ…å†µæ‰èƒ½ç”Ÿæ•ˆ æœ¬æ¬¡å£°æ˜ä¸å·²å£°æ˜çš„ v å¤„äºåŒä¸€ä½œç”¨åŸŸä¸­ï¼ˆè‹¥ v å·²åœ¨å¤–å±‚ä½œç”¨åŸŸä¸­å£°æ˜è¿‡ï¼Œåˆ™æ­¤æ¬¡å£°æ˜ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å˜é‡ Â§ï¼‰ï¼Œ åœ¨åˆå§‹åŒ–ä¸­ä¸å…¶ç±»å‹ç›¸åº”çš„å€¼æ‰èƒ½èµ‹äºˆ vï¼Œä¸” åœ¨æ­¤æ¬¡å£°æ˜ä¸­è‡³å°‘å¦æœ‰ä¸€ä¸ªå˜é‡æ˜¯æ–°å£°æ˜çš„ã€‚ 7. å‡½æ•°7.1. å¯å‘½åç»“æœå½¢å‚åœ¨Goä¸­ï¼Œå¯ä»¥åœ¨å‡½æ•°ä¸Šå£°æ˜è¿”å›å€¼å˜é‡ï¼Œåœ¨è¿”å›çš„æ—¶å€™åªéœ€è¦ä¸€ä¸ªreturnå³å¯ 12345678910111213141516package mainimport ( &quot;fmt&quot;)func f() (value int, info string) &#123; value=1 info=&quot;hello&quot; return&#125;func main() &#123; fmt.Println(f())&#125; 7.2. Deferdeferæ˜¯ä¸€ç§æ¨è¿Ÿæ‰§è¡Œçš„è¯­æ³•ï¼Œè¢«è¯¥å…³é”®è¯ä¿®é¥°çš„è¯­å¥ä¼šåœ¨å‡½æ•°è¿”å›çš„æ—¶å€™æ‰§è¡Œ 1234567891011121314151617181920212223package mainimport &quot;fmt&quot;func f1(str string) &#123; fmt.Println(str)&#125;func main() &#123; f1(&quot;hi1&quot;) defer f1(&quot;hi5&quot;) defer f1(&quot;hi4&quot;) defer f1(&quot;hi3&quot;) f1(&quot;hi2&quot;)&#125;// è¾“å‡ºï¼š//hi1//hi2//hi3//hi4//hi5// 8. åˆå§‹åŒ–ä¸»è¦æ˜¯initå‡½æ•°ï¼Œä¸€ä¸ªæ–‡ä»¶å¯ä»¥æœ‰å¤šä¸ªinitå‡½æ•°ï¼Œä»–ä»¬éƒ½ä¼šè¢«è°ƒç”¨ï¼Œinitå‡½æ•°åœ¨åŒ…çš„å…¨å±€å˜é‡åˆå§‹åŒ–ä»¥åæ‰§è¡Œ æ³¨æ„åˆ°ä¸‹é¢è¿™ä¸ªä»£ç ï¼Œå…ˆè¾“å‡ºabcï¼Œ ä¸initçš„ä½ç½®æ— å…³ï¼Œinitåœ¨å…¨å±€å˜é‡ä¹‹åæ‰§è¡Œ 1234567891011121314151617181920212223242526272829303132333435package mainimport &quot;fmt&quot;func p(str string) (int) &#123; fmt.Println(str) return 1;&#125;var a = p(&quot;a&quot;)func init() &#123; p(&quot;init1&quot;)&#125;var b = p(&quot;b&quot;)func init() &#123; p(&quot;init2&quot;)&#125;var c = p(&quot;c&quot;)func main() &#123; p(&quot;main&quot;)&#125;/*è¾“å‡ºï¼šabcinit1init2 */","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Go","slug":"Language/Go","permalink":"http://fightinggg.github.io/indigo/categories/Language/Go/"}],"tags":[{"name":"è¯»ä¹¦","slug":"è¯»ä¹¦","permalink":"http://fightinggg.github.io/indigo/tags/%E8%AF%BB%E4%B9%A6/"}]},{"title":"åŒæ•°ç»„å­—å…¸æ ‘","slug":"ACM/å­¦ä¹ ç¬”è®°/å­—ç¬¦ä¸²/åŒæ•°ç»„å­—å…¸æ ‘/index","date":"2021-10-18T15:54:00.000Z","updated":"2021-10-18T15:54:00.000Z","comments":true,"path":"R16K60.html","link":"","permalink":"http://fightinggg.github.io/indigo/R16K60.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 0. å‰ç½®çŸ¥è¯†éœ€è¦æå‰æœ‰å­—å…¸æ ‘çš„çŸ¥è¯† 1. åŒæ•°ç»„å­—å…¸æ ‘ä»‹ç»åŒæ•°ç»„å­—å…¸æ ‘è‹±æ–‡åä¸ºDoubleArrayTrieï¼Œä»–çš„ç‰¹ç‚¹å°±æ˜¯ä½¿ç”¨ä¸¤ä¸ªæ•°ç»„æ¥è¡¨ç¤ºä¸€é¢—å­—å…¸æ ‘ï¼Œè¿™é‡Œæœ‰æ¯”è¾ƒæœ‰è¶£äº†ï¼Œä¸¤ä¸ªæ•°ç»„æ˜¯æ€ä¹ˆè¡¨è¾¾å‡ºå­—å…¸æ ‘çš„å‘¢ï¼Ÿ 2. åŒæ•°ç»„ä»‹ç»é¡¾åæ€ä¹‰ï¼Œæœ‰ä¸¤ä¸ªæ•°ç»„ï¼Œä¸€ä¸ªæ˜¯baseï¼Œå¦ä¸€ä¸ªæ˜¯checkã€‚ é¦–å…ˆä»‹ç»æ•°ç»„çš„ä¸‹æ ‡ï¼Œæ•°ç»„çš„ä¸‹æ ‡ä»£è¡¨å­—å…¸æ ‘ä¸ŠèŠ‚ç‚¹çš„ç¼–å·ï¼Œä¸€ä¸ªä¸‹æ ‡å¯¹åº”ä¸€ä¸ªèŠ‚ç‚¹ã€‚ å…¶å®baseæ•°ç»„çš„ä½œç”¨æ˜¯ç”¨æ¥è®°å½•ä¸€ä¸ªåŸºç¡€å€¼ï¼Œè¿™ä¸ªå€¼å¯ä»¥æ˜¯éšæœºå€¼ï¼Œåªè¦ä¸äº§ç”Ÿå†²çªå°±å¯ä»¥äº†ï¼Œæ‰€ä»¥è¿™ä¸ªå€¼å¯ä»¥ç”¨éšæœºæ•°ç®—æ³•è·å–ï¼Œå½“ç„¶è¿™æ ·æ•ˆç‡ä¸é«˜ï¼Œé«˜æ•ˆçš„åšæ³•åº”è¯¥æ˜¯ä½¿ç”¨æŒ‡é’ˆæšä¸¾æŠ€æœ¯ï¼Œokï¼Œç°åœ¨ä½ å·²ç»æ˜ç™½äº†ï¼Œbaseæ•°ç»„æ˜¯ä¸€ä¸ªä¸äº§ç”Ÿå†²çªçš„éšæœºæ•°ç»„ã€‚ æœ€åï¼Œcheckæ•°ç»„ï¼Œcheckæ•°ç»„ä¸baseæ•°ç»„ç›¸äº’ç…§åº”ï¼Œå¦‚æœbase[i]=check[j] åˆ™è¯´æ˜jæ˜¯içš„å„¿å­ï¼Œè€Œä¸”iåˆ°jçš„è¾¹æƒæ°å¥½ä¸ºj-base[i]ï¼Œä¹Ÿå¯ä»¥å†™ä½œj-check[j]å¥½å¥½ç†è§£è¿™å¥è¯ ä»å¦ä¸€ä¸ªæ–¹é¢è€Œè¨€ï¼ŒåŒæ•°ç»„å­—å…¸æ ‘çš„baseæ•°ç»„ï¼Œåº”è¯¥æ˜¯ä¸€ä¸ªæŒ‡é’ˆæ•°ç»„ï¼Œä»–æŒ‡å‘äº†ä¸€ä¸ªé•¿åº¦ä¸ºå­—ç¬¦é›†å¤§å°çš„æ•°ç»„çš„é¦–åœ°å€ï¼Œè€Œcheckæ•°ç»„æ˜¯ä¸€ç§hashç¢°æ’æ€è·¯ï¼Œç”±äºbaseæ•°ç»„ç–¯ç‹‚æŒ‡å‘è‡ªå·±ï¼Œå¯¼è‡´äº§ç”Ÿäº†å¾ˆå¤šç¢°æ’ï¼Œä½†æ˜¯ç”±äºå­—å…¸æ ‘æ˜¯ä¸€ä¸ªç¨€ç–å›¾ï¼Œå¯¼è‡´å„¿å­èŠ‚ç‚¹æŒ‡é’ˆåˆ©ç”¨ç‡ä½ï¼Œæ‰€ä»¥baseæ•°ç»„ç–¯ç‹‚å¤ç”¨è¿™æ®µç©ºé—´ï¼Œæœ€åå¿…é¡»è¦ä¾èµ–checkæ¥è§£å†³å†²çªï¼Œ åŒæ•°ç»„å­—å…¸æ ‘ç›¸æ¯”äºä¼ ç»Ÿå­—å…¸æ ‘ï¼Œä»…ä»…åªåœ¨å†…å­˜æ–¹é¢äºå¢åˆ æ”¹æŸ¥å æœ‰ä¼˜åŠ¿ï¼Œä½†æ˜¯å”¯ä¸€ä¸å¥½çš„åœ°æ–¹å°±æ˜¯åˆ å’Œæ”¹ä¼šå¯¼è‡´baseæ•°ç»„å†…å­˜åˆ†è£‚ï¼Œéš¾ä»¥å›æ”¶ï¼Œåˆ å’Œæ”¹å¦‚æœå å¤§å¤´ï¼Œé‚£ä¹ˆä¼ ç»Ÿå­—å…¸æ ‘çš„å†…å­˜æ•ˆç‡æ›´é«˜ ç”±äºæœç´¢é¢†åŸŸå‡ ä¹ä¸æ¶‰åŠåˆ°åˆ å’Œæ”¹ï¼Œæ‰€ä»¥è¿™ä¸ªæ•°æ®ç»“æ„å¾ˆniceï¼Œå­—ç¬¦é›†å¤šå¤§ï¼Œå°±èŠ‚çœäº†å¤šå°‘å€çš„ç©ºé—´ æ•°æ®ç»“æ„å¾ˆæ£’ï¼Œä½†æ˜¯åœ¨ç°åœ¨è¿™ä¸ªå†…å­˜ä¸å€¼é’±çš„æ—¶ä»£ï¼Œè¿™äº›æŒ‡é’ˆçš„å‚¨å­˜ç”¨hashmapç›´æ¥æ— è„‘é¡¶æ‰ï¼Œç©ºé—´å ç”¨ä¹Ÿé«˜ä¸äº†å¤šå°‘ï¼Œhashmapé¡¶å¤šæµªè´¹ä¸¤å€ç©ºé—´ ä¸¤å€çš„ç©ºé—´ç®—ä¸ä¸Šå•¥ï¼Œé™¤éè¿™æ˜¯å”¯ä¸€çš„ä¼˜åŒ–ç‚¹ï¼Œå¦åˆ™ä¸ä¼šä¼˜åŒ–åˆ°è¿™ä¸ªæ•°æ®ç»“æ„ä¸Šæ¥","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 0. å‰ç½®çŸ¥è¯†éœ€è¦æå‰æœ‰å­—å…¸æ ‘çš„çŸ¥è¯† 1. åŒæ•°ç»„å­—å…¸æ ‘ä»‹ç»åŒæ•°ç»„å­—å…¸æ ‘è‹±æ–‡åä¸ºDoubleArrayTrieï¼Œä»–çš„ç‰¹ç‚¹å°±æ˜¯ä½¿ç”¨ä¸¤ä¸ªæ•°ç»„æ¥è¡¨ç¤ºä¸€é¢—å­—å…¸æ ‘ï¼Œè¿™é‡Œæœ‰æ¯”è¾ƒæœ‰è¶£äº†ï¼Œä¸¤ä¸ªæ•°ç»„æ˜¯æ€ä¹ˆè¡¨è¾¾å‡ºå­—å…¸æ ‘çš„å‘¢ï¼Ÿ 2. åŒæ•°ç»„ä»‹ç»é¡¾åæ€ä¹‰ï¼Œæœ‰ä¸¤ä¸ªæ•°ç»„ï¼Œä¸€ä¸ªæ˜¯baseï¼Œå¦ä¸€ä¸ªæ˜¯checkã€‚ é¦–å…ˆä»‹ç»æ•°ç»„çš„ä¸‹æ ‡ï¼Œæ•°ç»„çš„ä¸‹æ ‡ä»£è¡¨å­—å…¸æ ‘ä¸ŠèŠ‚ç‚¹çš„ç¼–å·ï¼Œä¸€ä¸ªä¸‹æ ‡å¯¹åº”ä¸€ä¸ªèŠ‚ç‚¹ã€‚ å…¶å®baseæ•°ç»„çš„ä½œç”¨æ˜¯ç”¨æ¥è®°å½•ä¸€ä¸ªåŸºç¡€å€¼ï¼Œè¿™ä¸ªå€¼å¯ä»¥æ˜¯éšæœºå€¼ï¼Œåªè¦ä¸äº§ç”Ÿå†²çªå°±å¯ä»¥äº†ï¼Œæ‰€ä»¥è¿™ä¸ªå€¼å¯ä»¥ç”¨éšæœºæ•°ç®—æ³•è·å–ï¼Œå½“ç„¶è¿™æ ·æ•ˆç‡ä¸é«˜ï¼Œé«˜æ•ˆçš„åšæ³•åº”è¯¥æ˜¯ä½¿ç”¨æŒ‡é’ˆæšä¸¾æŠ€æœ¯ï¼Œokï¼Œç°åœ¨ä½ å·²ç»æ˜ç™½äº†ï¼Œbaseæ•°ç»„æ˜¯ä¸€ä¸ªä¸äº§ç”Ÿå†²çªçš„éšæœºæ•°ç»„ã€‚ æœ€åï¼Œcheckæ•°ç»„ï¼Œcheckæ•°ç»„ä¸baseæ•°ç»„ç›¸äº’ç…§åº”ï¼Œå¦‚æœbase[i]=check[j] åˆ™è¯´æ˜jæ˜¯içš„å„¿å­ï¼Œè€Œä¸”iåˆ°jçš„è¾¹æƒæ°å¥½ä¸ºj-base[i]ï¼Œä¹Ÿå¯ä»¥å†™ä½œj-check[j]å¥½å¥½ç†è§£è¿™å¥è¯ ä»å¦ä¸€ä¸ªæ–¹é¢è€Œè¨€ï¼ŒåŒæ•°ç»„å­—å…¸æ ‘çš„baseæ•°ç»„ï¼Œåº”è¯¥æ˜¯ä¸€ä¸ªæŒ‡é’ˆæ•°ç»„ï¼Œä»–æŒ‡å‘äº†ä¸€ä¸ªé•¿åº¦ä¸ºå­—ç¬¦é›†å¤§å°çš„æ•°ç»„çš„é¦–åœ°å€ï¼Œè€Œcheckæ•°ç»„æ˜¯ä¸€ç§hashç¢°æ’æ€è·¯ï¼Œç”±äºbaseæ•°ç»„ç–¯ç‹‚æŒ‡å‘è‡ªå·±ï¼Œå¯¼è‡´äº§ç”Ÿäº†å¾ˆå¤šç¢°æ’ï¼Œä½†æ˜¯ç”±äºå­—å…¸æ ‘æ˜¯ä¸€ä¸ªç¨€ç–å›¾ï¼Œå¯¼è‡´å„¿å­èŠ‚ç‚¹æŒ‡é’ˆåˆ©ç”¨ç‡ä½ï¼Œæ‰€ä»¥baseæ•°ç»„ç–¯ç‹‚å¤ç”¨è¿™æ®µç©ºé—´ï¼Œæœ€åå¿…é¡»è¦ä¾èµ–checkæ¥è§£å†³å†²çªï¼Œ åŒæ•°ç»„å­—å…¸æ ‘ç›¸æ¯”äºä¼ ç»Ÿå­—å…¸æ ‘ï¼Œä»…ä»…åªåœ¨å†…å­˜æ–¹é¢äºå¢åˆ æ”¹æŸ¥å æœ‰ä¼˜åŠ¿ï¼Œä½†æ˜¯å”¯ä¸€ä¸å¥½çš„åœ°æ–¹å°±æ˜¯åˆ å’Œæ”¹ä¼šå¯¼è‡´baseæ•°ç»„å†…å­˜åˆ†è£‚ï¼Œéš¾ä»¥å›æ”¶ï¼Œåˆ å’Œæ”¹å¦‚æœå å¤§å¤´ï¼Œé‚£ä¹ˆä¼ ç»Ÿå­—å…¸æ ‘çš„å†…å­˜æ•ˆç‡æ›´é«˜ ç”±äºæœç´¢é¢†åŸŸå‡ ä¹ä¸æ¶‰åŠåˆ°åˆ å’Œæ”¹ï¼Œæ‰€ä»¥è¿™ä¸ªæ•°æ®ç»“æ„å¾ˆniceï¼Œå­—ç¬¦é›†å¤šå¤§ï¼Œå°±èŠ‚çœäº†å¤šå°‘å€çš„ç©ºé—´ æ•°æ®ç»“æ„å¾ˆæ£’ï¼Œä½†æ˜¯åœ¨ç°åœ¨è¿™ä¸ªå†…å­˜ä¸å€¼é’±çš„æ—¶ä»£ï¼Œè¿™äº›æŒ‡é’ˆçš„å‚¨å­˜ç”¨hashmapç›´æ¥æ— è„‘é¡¶æ‰ï¼Œç©ºé—´å ç”¨ä¹Ÿé«˜ä¸äº†å¤šå°‘ï¼Œhashmapé¡¶å¤šæµªè´¹ä¸¤å€ç©ºé—´ ä¸¤å€çš„ç©ºé—´ç®—ä¸ä¸Šå•¥ï¼Œé™¤éè¿™æ˜¯å”¯ä¸€çš„ä¼˜åŒ–ç‚¹ï¼Œå¦åˆ™ä¸ä¼šä¼˜åŒ–åˆ°è¿™ä¸ªæ•°æ®ç»“æ„ä¸Šæ¥ 3. å›¾è§£åŒæ•°ç»„å­—å…¸æ ‘é¦–å…ˆæˆ‘ä»¬ç›´æ¥ç»™å‡ºä¸€é¢—åŒæ•°ç»„å­—å…¸æ ‘ï¼Œä¸‹é¢æ˜¯ä¸‰åˆ—ï¼Œç¬¬ä¸€åˆ—æ˜¯ä¸‹æ ‡ï¼Œç¬¬äºŒåˆ—æ˜¯baseï¼Œç¬¬ä¸‰åˆ—æ˜¯checkï¼Œ æˆ‘ä»¬æ¥æ ¹æ®è¿™ä¸ªåŒæ•°ç»„è¿˜åŸé‚£é¢—å­—å…¸æ ‘ 12345678910111213index base check0 1 066 2 168 3 169 5 270 6 271 7 373 8 374 10 575 11 581 12 1185 9 491 4 1 ä»ç¬¬ä¸€è¡Œçœ‹èµ·ï¼Œbase[0]&#x3D;1, check[0]&#x3D;0 ,è¿™è¯´æ˜æ ¹èŠ‚ç‚¹æ˜¯0å·èŠ‚ç‚¹ã€‚ 12graph LR 0 ç„¶åæˆ‘ä»¬æ¥æ‰¾0èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ï¼Œåªéœ€è¦å“ªäº›checkå€¼ä¸ºbase[0]å³å¯ï¼Œæˆ‘ä»¬å‘ç°check[66],check[68],check[91]æ»¡è¶³ï¼Œæ‰€ä»¥ä»–ä»¬éƒ½æ˜¯0å·èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ å¯¹äºcheck[66], è¾¹æƒä¸º66-check[66]&#x3D;65 ,æ˜¯å­—ç¬¦A å¯¹äºcheck[68], è¾¹æƒ67, æ˜¯å­—ç¬¦C å¯¹äºcheck[91], è¾¹æƒ90ï¼Œæ˜¯å­—ç¬¦Z æ‰€ä»¥ç°åœ¨å›¾æˆäº† 1234graph LR 0--A--&gt;66 0--C--&gt;68 0--Z--&gt;91 æ¥ç€æˆ‘ä»¬çœ‹66å·èŠ‚ç‚¹ï¼Œbase[66]&#x3D;2,é‚£ä¹ˆä»–çš„å­èŠ‚ç‚¹ä¸º69å’Œ70ï¼Œè¾¹æƒåˆ†åˆ«ä¸º69-check[69]&#x3D;67,70-check[70]&#x3D;68,åˆ†åˆ«æ˜¯Cå’ŒD 123456graph LR 0--A--&gt;66 0--C--&gt;68 0--Z--&gt;91 66--C--&gt;69 66--D--&gt;70 69çš„å­—èŠ‚ç‚¹ä¸º74å’Œ75ï¼Œ æƒé‡ä¸º74-5&#x3D;69å’Œ75-5&#x3D;70ï¼Œ åˆ†åˆ«æ˜¯Eå’ŒF 12345678graph LR 0--A--&gt;66 0--C--&gt;68 0--Z--&gt;91 66--C--&gt;69 66--D--&gt;70 69--E--&gt;74 69--F--&gt;75 å½“ç„¶ï¼Œåé¢çš„ç¬”è€…å°±ä¸è¿›è¡Œæ¨¡æ‹Ÿäº†ï¼Œåˆ°æ­¤ä¸ºæ­¢ã€‚ 4. åŒæ•°ç»„å­—å…¸æ ‘çš„æ„å»ºç®—æ³•é¦–å…ˆç®—æ³•çš„ç¬¬ä¸€æ­¥æ˜¯æ„å»ºä¸€é¢—å­—å…¸æ ‘ï¼Œä½ éœ€è¦å°†è¿™é¢—å­—å…¸æ ‘æ„å»ºå‡ºæ¥ã€‚å­—å…¸æ ‘çš„ä»£ç å¦‚ä¸‹,è¿™ä¸ªä¸ç”¨å¤šè¯´äº† 123456789void addTire(const char* str, int len) &#123; int root = 1; for (int i = 0; i &lt; len; i++) &#123; if (tire[root][str[i]] == 0) &#123; tire[root][str[i]] = ++tireTot; &#125; root = tire[root][str[i]]; &#125;&#125; ç¬¬äºŒæ­¥ï¼Œå°±æ˜¯åœ¨å­—å…¸æ ‘ä¸Šè¿›è¡ŒBFSï¼Œåœ¨BFSè¿‡ç¨‹ä¸­å¢é‡æ„å»ºåŒæ•°ç»„å­—å…¸æ ‘ï¼Œå½“æˆ‘ä»¬BFSåˆ°æŸä¸ªèŠ‚ç‚¹Uçš„æ—¶å€™ï¼Œä¾¿å¼€å§‹å¯»æ‰¾ï¼Œå½“å‰è¿˜æœ‰å“ªä¸ªbaseå€¼æ²¡æœ‰è¢«ä½¿ç”¨ï¼Œå¯ä»¥ä½¿å¾—è¿™ä¸ªUçš„å­èŠ‚ç‚¹çš„checkå€¼å‡ä¸º0ï¼Œ no BB , show code å…ˆæ‰¾åˆ°Uçš„æ‰€æœ‰å­èŠ‚ç‚¹ 12345678vector&lt;int&gt; sonTransList;for (int i = 0;i &lt; maxCharest;i++) &#123; if (tire[tireTop][i] != 0) &#123; sonTransList.push_back(i); tireQ.push(tire[tireTop][i]); &#125;&#125;cout &lt;&lt; &quot;find son: &quot; &lt;&lt; sonTransList.size() &lt;&lt; endl;; ç„¶åå¯»æ‰¾ä¸€ä¸ªåˆé€‚çš„baseå€¼ï¼Œè¿™ä¸ªå€¼å‚¨å­˜åœ¨å˜é‡beginä¸­ 1234567891011121314// find beginwhile (true) &#123; begin++; bool ok = true; for (int son : sonTransList) &#123; if (check[begin + code[son]] != 0) &#123; ok = false; break; &#125; &#125; if (ok) &#123; break; &#125;&#125; æœ€åå°±æ˜¯èµ‹å€¼å°±å¥½äº†. 5. ä»£ç æœ€åé™„ä¸Šä¸€ä¸ªå¾ˆä¸‘çš„ä»£ç ï¼Œç¬¬ä¸‰èŠ‚ä¸­ä»‹ç»çš„åŒæ•°ç»„å°±æ¥æºäºè¿™ä¸ªä»£ç çš„è¾“å‡ºã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115// ConsoleApplication1.cpp : æ­¤æ–‡ä»¶åŒ…å« &quot;main&quot; å‡½æ•°ã€‚ç¨‹åºæ‰§è¡Œå°†åœ¨æ­¤å¤„å¼€å§‹å¹¶ç»“æŸã€‚//#include &lt;queue&gt;#include &lt;iostream&gt;#include &lt;string&gt;using namespace std;string stringData[] = &#123; &quot;AC&quot;, &quot;ACE&quot;, &quot;ACFF&quot;, &quot;AD&quot;, &quot;CD&quot;, &quot;CF&quot;, &quot;ZQ&quot;&#125;;const int maxCharest = 256;int tire[1000][maxCharest], tireTot = 1;void addTire(const char* str, int len) &#123; int root = 1; for (int i = 0; i &lt; len; i++) &#123; if (tire[root][str[i]] == 0) &#123; tire[root][str[i]] = ++tireTot; &#125; root = tire[root][str[i]]; &#125;&#125;int code[maxCharest];void buildDAT() &#123; // init code for (int i = 0;i &lt; maxCharest;i++) &#123; code[i] = i; &#125; vector&lt;int&gt; tireState2DatState(1000); // TODO vector vector&lt;int&gt; check(1000), base(1000); // bfs queue&lt;int&gt; tireQ; tireQ.push(1); tireState2DatState[1] = 0; int begin = 0; while (!tireQ.empty()) &#123; int tireTop = tireQ.front(); tireQ.pop(); vector&lt;int&gt; sonTransList; for (int i = 0;i &lt; maxCharest;i++) &#123; if (tire[tireTop][i] != 0) &#123; sonTransList.push_back(i); tireQ.push(tire[tireTop][i]); &#125; &#125; cout &lt;&lt; &quot;find son: &quot; &lt;&lt; sonTransList.size() &lt;&lt; endl;; // find begin while (true) &#123; begin++; bool ok = true; for (int son : sonTransList) &#123; if (check[begin + code[son]] != 0) &#123; ok = false; break; &#125; &#125; if (ok) &#123; break; &#125; &#125; base[tireState2DatState[tireTop]] = begin; for (int i = 0;i &lt; maxCharest;i++) &#123; if (tire[tireTop][i] != 0) &#123; int son = i; if (check[begin + code[son]] != 0) &#123; exit(-1); &#125; check[begin + code[son]] = begin; tireState2DatState[tire[tireTop][i]] = begin + code[son]; &#125; &#125; for (int i = 0;i &lt; 1000;i++) &#123; if (check[i] != 0 || base[i] != 0) &#123; cout &lt;&lt; i &lt;&lt; &quot; &quot; &lt;&lt; base[i] &lt;&lt; &quot; &quot; &lt;&lt; check[i] &lt;&lt; endl; &#125; &#125; cout &lt;&lt;begin&lt;&lt;&quot;--------&quot; &lt;&lt; endl; &#125; &#125;int main() &#123; for (int i = 0;i &lt; 7;i++) &#123; addTire(stringData[i].data(), stringData[i].size()); &#125; buildDAT();&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"å­—ç¬¦ä¸²","slug":"ACM/å­¦ä¹ ç¬”è®°/å­—ç¬¦ä¸²","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%AD%97%E7%AC%A6%E4%B8%B2/"}],"tags":[]},{"title":"Goè¿›é˜¶-Webæ¡†æ¶","slug":"Language/Go/Goè¿›é˜¶-Webæ¡†æ¶/index","date":"2021-10-18T09:34:00.000Z","updated":"2021-10-19T05:49:00.000Z","comments":true,"path":"R162KO.html","link":"","permalink":"http://fightinggg.github.io/indigo/R162KO.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 0. å‰è¨€ç®€å•ä»‹ç»Beegoå’ŒGinï¼Œæ°´ä¸€æ°´æ–‡ç« ã€‚ 1.1. å®‰è£…Beegoåº“1go get github.com/astaxie/beego åŒæ—¶å®‰è£…Beeå·¥å…· 1go get github.com/beego/bee çœ‹åˆ°å¦‚ä¸‹å†…å®¹ä»£è¡¨å®‰è£…æˆåŠŸ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546s@HELLOWANG-MB1 ~ % go get github.com/astaxie/beegogo: downloading github.com/astaxie/beego v1.12.3go: downloading github.com/prometheus/client_golang v1.7.0go: downloading github.com/hashicorp/golang-lru v0.5.4go: downloading golang.org/x/crypto v0.0.0-20191011191535-87dc89f01550go: downloading github.com/shiena/ansicolor v0.0.0-20151119151921-a422bbe96644go: downloading github.com/prometheus/common v0.10.0go: downloading github.com/prometheus/client_model v0.2.0go: downloading github.com/prometheus/procfs v0.1.3go: downloading github.com/beorn7/perks v1.0.1go: downloading golang.org/x/sys v0.0.0-20200615200032-f1bc736245b1go: downloading github.com/cespare/xxhash/v2 v2.1.1go: downloading github.com/golang/protobuf v1.4.2go: downloading github.com/matttproud/golang_protobuf_extensions v1.0.1go: downloading google.golang.org/protobuf v1.23.0s@HELLOWANG-MB1 ~ % go get github.com/beego/beego: downloading github.com/beego/bee v1.12.3go: downloading github.com/gadelkareem/delve v1.4.2-0.20200619175259-dcd01330766fgo: downloading github.com/gorilla/websocket v1.4.2go: downloading github.com/lib/pq v1.7.0go: downloading github.com/flosch/pongo2 v0.0.0-20200529170236-5abacdfa4915go: downloading github.com/pelletier/go-toml v1.2.0go: downloading github.com/smartwalle/pongo2render v1.0.1go: downloading github.com/spf13/viper v1.7.0go: downloading github.com/astaxie/beego v1.12.1go: downloading github.com/hashicorp/hcl v1.0.0go: downloading github.com/magiconair/properties v1.8.1go: downloading github.com/spf13/afero v1.1.2go: downloading github.com/spf13/cast v1.3.0go: downloading github.com/spf13/jwalterweatherman v1.0.0go: downloading github.com/spf13/pflag v1.0.3go: downloading github.com/subosito/gotenv v1.2.0go: downloading gopkg.in/ini.v1 v1.51.0go: downloading golang.org/x/text v0.3.2go: downloading github.com/sirupsen/logrus v1.6.0go: downloading github.com/cosiner/argv v0.1.0go: downloading github.com/peterh/liner v0.0.0-20170317030525-88609521dc4bgo: downloading github.com/mattn/go-colorable v0.0.9go: downloading github.com/mattn/go-isatty v0.0.3go: downloading golang.org/x/arch v0.0.0-20190927153633-4e8777c89be4go: downloading go.starlark.net v0.0.0-20190702223751-32f345186213go: downloading github.com/konsorten/go-windows-terminal-sequences v1.0.3go get: installing executables with &#x27;go get&#x27; in module mode is deprecated. Use &#x27;go install pkg@version&#x27; instead. For more information, see https://golang.org/doc/go-get-install-deprecation or run &#x27;go help get&#x27; or &#x27;go help install&#x27;.","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 0. å‰è¨€ç®€å•ä»‹ç»Beegoå’ŒGinï¼Œæ°´ä¸€æ°´æ–‡ç« ã€‚ 1.1. å®‰è£…Beegoåº“1go get github.com/astaxie/beego åŒæ—¶å®‰è£…Beeå·¥å…· 1go get github.com/beego/bee çœ‹åˆ°å¦‚ä¸‹å†…å®¹ä»£è¡¨å®‰è£…æˆåŠŸ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546s@HELLOWANG-MB1 ~ % go get github.com/astaxie/beegogo: downloading github.com/astaxie/beego v1.12.3go: downloading github.com/prometheus/client_golang v1.7.0go: downloading github.com/hashicorp/golang-lru v0.5.4go: downloading golang.org/x/crypto v0.0.0-20191011191535-87dc89f01550go: downloading github.com/shiena/ansicolor v0.0.0-20151119151921-a422bbe96644go: downloading github.com/prometheus/common v0.10.0go: downloading github.com/prometheus/client_model v0.2.0go: downloading github.com/prometheus/procfs v0.1.3go: downloading github.com/beorn7/perks v1.0.1go: downloading golang.org/x/sys v0.0.0-20200615200032-f1bc736245b1go: downloading github.com/cespare/xxhash/v2 v2.1.1go: downloading github.com/golang/protobuf v1.4.2go: downloading github.com/matttproud/golang_protobuf_extensions v1.0.1go: downloading google.golang.org/protobuf v1.23.0s@HELLOWANG-MB1 ~ % go get github.com/beego/beego: downloading github.com/beego/bee v1.12.3go: downloading github.com/gadelkareem/delve v1.4.2-0.20200619175259-dcd01330766fgo: downloading github.com/gorilla/websocket v1.4.2go: downloading github.com/lib/pq v1.7.0go: downloading github.com/flosch/pongo2 v0.0.0-20200529170236-5abacdfa4915go: downloading github.com/pelletier/go-toml v1.2.0go: downloading github.com/smartwalle/pongo2render v1.0.1go: downloading github.com/spf13/viper v1.7.0go: downloading github.com/astaxie/beego v1.12.1go: downloading github.com/hashicorp/hcl v1.0.0go: downloading github.com/magiconair/properties v1.8.1go: downloading github.com/spf13/afero v1.1.2go: downloading github.com/spf13/cast v1.3.0go: downloading github.com/spf13/jwalterweatherman v1.0.0go: downloading github.com/spf13/pflag v1.0.3go: downloading github.com/subosito/gotenv v1.2.0go: downloading gopkg.in/ini.v1 v1.51.0go: downloading golang.org/x/text v0.3.2go: downloading github.com/sirupsen/logrus v1.6.0go: downloading github.com/cosiner/argv v0.1.0go: downloading github.com/peterh/liner v0.0.0-20170317030525-88609521dc4bgo: downloading github.com/mattn/go-colorable v0.0.9go: downloading github.com/mattn/go-isatty v0.0.3go: downloading golang.org/x/arch v0.0.0-20190927153633-4e8777c89be4go: downloading go.starlark.net v0.0.0-20190702223751-32f345186213go: downloading github.com/konsorten/go-windows-terminal-sequences v1.0.3go get: installing executables with &#x27;go get&#x27; in module mode is deprecated. Use &#x27;go install pkg@version&#x27; instead. For more information, see https://golang.org/doc/go-get-install-deprecation or run &#x27;go help get&#x27; or &#x27;go help install&#x27;. æ³¨æ„å®‰è£…ä»¥åå¯¹äºŒè¿›åˆ¶æ–‡ä»¶åœ¨$GOPATH&#x2F;binä¸‹ï¼Œæ‰€ä»¥è¯·ç¡®ä¿è¯¥è·¯å¾„åœ¨ä½ çš„ç¯å¢ƒå˜é‡ä¸‹,ç¬”è€…ä½¿ç”¨MACOSï¼Œåœ¨~/.zshrcä¸­ä½¿ç”¨å¦‚ä¸‹é…ç½® 12GOPATH=~/goPATH=$PATH:~/go/bin 1.2. åˆ›å»ºé¡¹ç›®1.2.1. åˆ›å»ºé¡¹ç›®12345678910111213141516171819202122s@HELLOWANG-MB1 src % bee new bee-demo2021/10/18 17:47:29 INFO â–¶ 0001 generate new project support go modules.2021/10/18 17:47:29 INFO â–¶ 0002 Creating application... create /Users/s/src/bee-demo/go.mod create /Users/s/src/bee-demo/ create /Users/s/src/bee-demo/conf/ create /Users/s/src/bee-demo/controllers/ create /Users/s/src/bee-demo/models/ create /Users/s/src/bee-demo/routers/ create /Users/s/src/bee-demo/tests/ create /Users/s/src/bee-demo/static/ create /Users/s/src/bee-demo/static/js/ create /Users/s/src/bee-demo/static/css/ create /Users/s/src/bee-demo/static/img/ create /Users/s/src/bee-demo/views/ create /Users/s/src/bee-demo/conf/app.conf create /Users/s/src/bee-demo/controllers/default.go create /Users/s/src/bee-demo/views/index.tpl create /Users/s/src/bee-demo/routers/router.go create /Users/s/src/bee-demo/tests/default_test.go create /Users/s/src/bee-demo/main.go2021/10/18 17:47:29 SUCCESS â–¶ 0003 New application successfully created! 1.2.2. åˆå§‹åŒ–é¡¹ç›®1234s@HELLOWANG-MB1 bee-demo % go getgo: downloading gopkg.in/yaml.v2 v2.2.1go: downloading github.com/shiena/ansicolor v0.0.0-20200904210342-c7312218db18go get: added github.com/shiena/ansicolor v0.0.0-20200904210342-c7312218db18 1.2.3. å¯åŠ¨é¡¹ç›®åœ¨GoLand IDEä¸­ç‚¹å‡»â–¶å¯åŠ¨é¡¹ç›®ï¼Œçœ‹åˆ°å¦‚ä¸‹è¾“å‡ºï¼Œè®¿é—®http://localhost:8080/å³å¯çœ‹åˆ°å°èœœèœ‚ 12345678910111213GOROOT=/usr/local/Cellar/go/1.17.2/libexec #gosetupGOPATH=/Users/s/go #gosetup/usr/local/Cellar/go/1.17.2/libexec/bin/go build -o /private/var/folders/6t/kt2nf9z17cv87lqk842lngj80000gn/T/GoLand/___go_build_bee_demo bee-demo #gosetup/private/var/folders/6t/kt2nf9z17cv87lqk842lngj80000gn/T/GoLand/___go_build_bee_demo2021/10/18 18:01:42.769 [I] [asm_amd64.s:1581] http server Running on http://:80802021/10/18 18:04:54.533 [D] [server.go:2878] | ::1| 200 | 4.493325ms| match| GET / r:/2021/10/18 18:04:54.607 [D] [server.go:2878] | ::1| 200 | 316.098Âµs| match| GET /static/js/reload.min.js2021/10/18 18:04:58.868 [D] [server.go:2878] | ::1| 200 | 1.40659ms| match| GET / r:/2021/10/18 18:05:03.305 [D] [server.go:2878] | ::1| 200 | 1.215993ms| match| GET / r:/2021/10/18 18:05:43.326 [D] [server.go:2878] | ::1| 200 | 2.620439ms| match| GET / r:/2021/10/18 18:05:43.381 [D] [server.go:2878] | ::1| 200 | 60.791Âµs| match| GET /static/js/reload.min.js2021/10/18 18:09:39.216 [D] [server.go:2878] | ::1| 200 | 2.486943ms| match| GET / r:/2021/10/18 18:09:39.266 [D] [server.go:2878] | ::1| 200 | 66.282Âµs| match| GET /static/js/reload.min.js 1.2.4. Contorller1.2.4.1 è·¯ç”±è·¯ç”±åœ¨æ–‡ä»¶routers/router.goä¸­, åœ¨Beegoçš„è®¾è®¡ä¸­ï¼Œè·¯ç”±éœ€è¦æ‰‹åŠ¨æ·»åŠ ï¼Œå³å“ªä¸ªPATHäº¤ç»™å“ªä¸ªControlleræ¥å¤„ç†ã€‚ 1234567891011package routersimport ( &quot;bee-demo/controllers&quot; &quot;github.com/astaxie/beego&quot;)func init() &#123; beego.Router(&quot;/&quot;, &amp;controllers.MainController&#123;&#125;)&#125; 1.2.4.2. ControllerMainControllerç»§æ‰¿äº†beego.Controller,æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¤å†™ä»–çš„æ–¹æ³•ï¼Œæ³¨æ„åˆ°beego.Controllerå®ç°äº†beegoControllerInterfaceè¿™ä¸ªæ¥å£ï¼Œé‡Œè¾¹çš„æ–¹æ³•å…¶å®éƒ½æ¯”è¾ƒæ˜æ˜¾äº†ï¼Œå°±æ˜¯HTTPåè®®çš„æ–¹æ³•ã€‚ 123456789101112131415161718type ControllerInterface interface &#123; Init(ct *context.Context, controllerName, actionName string, app interface&#123;&#125;) Prepare() Get() Post() Delete() Put() Head() Patch() Options() Trace() Finish() Render() error XSRFToken() string CheckXSRFCookie() bool HandlerFunc(fn string) bool URLMapping()&#125; 1.2.4.3. è¿”å›JSONæ•°æ®çš„Controlleré¦–å…ˆç¼–å†™ä¸€ä¸ªHelloController,ç„¶åæŠŠå®ƒåŠ å…¥åˆ°routeä¸­ï¼Œæœ€åè®¿é—®&#x2F;helloï¼Œå°±å¯ä»¥çœ‹åˆ°è¾“å‡ºäº†ã€‚ 1234567891011121314151617181920212223package controllersimport ( &quot;github.com/astaxie/beego&quot;)type HelloController struct &#123; beego.Controller&#125;type HelloVO struct &#123; Say1 string `json:&quot;say_1&quot;` Say2 int `json:&quot;say_2&quot;`&#125;func (c *HelloController) Get() &#123; c.Data[&quot;json&quot;] = &amp;HelloVO&#123; Say1: &quot;world&quot;, Say2: 9527, &#125; c.ServeJSON()&#125; 12345GET /hello&#123; &quot;say_1&quot;: &quot;world&quot;, &quot;say_2&quot;: 9527&#125; è¿™ä¸€å—å°±ç‚¹åˆ°ä¸ºæ­¢äº†ï¼Œå¬è¯´Beegoæ¡†æ¶ä¸å¤ªç«ï¼Œäº†è§£äº†è§£å°±å¥½äº†ï¼Œç¬”è€…ä¹Ÿä¸æ˜¯æ–‡æ¡£ç¿»è¯‘å™¨ï¼Œæ›´å¤šæ›´åŠ ç»†èŠ‚çš„éƒ¨åˆ†å…³æ³¨è¿™é‡Œ 2.1. å®‰è£…Gin1go get github.com/gin-gonic/gin 2.2. ç¼–å†™Hello Worldç¼–å†™ä¸‹é¢çš„ä»£ç ï¼Œç„¶åç›´æ¥è¿è¡Œï¼Œè®¿é—®http://localhost:8080/å³å¯çœ‹åˆ°Hello World 12345678910111213141516package mainimport ( &quot;net/http&quot; &quot;github.com/gin-gonic/gin&quot;)func main() &#123; r := gin.Default() r.GET(&quot;/&quot;, func(c *gin.Context) &#123; c.String(http.StatusOK, &quot;hello World!&quot;) &#125;) r.Run()&#125; æ—¥å¿—å¦‚ä¸‹ 12345678910111213141516GOROOT=/usr/local/Cellar/go/1.17.2/libexec #gosetupGOPATH=/Users/s/go #gosetup/usr/local/Cellar/go/1.17.2/libexec/bin/go build -o /private/var/folders/6t/kt2nf9z17cv87lqk842lngj80000gn/T/GoLand/___go_build_gin_demo gin-demo #gosetup/private/var/folders/6t/kt2nf9z17cv87lqk842lngj80000gn/T/GoLand/___go_build_gin_demo[GIN-debug] [WARNING] Creating an Engine instance with the Logger and Recovery middleware already attached.[GIN-debug] [WARNING] Running in &quot;debug&quot; mode. Switch to &quot;release&quot; mode in production. - using env: export GIN_MODE=release - using code: gin.SetMode(gin.ReleaseMode)[GIN-debug] GET / --&gt; main.main.func1 (3 handlers)[GIN-debug] Environment variable PORT is undefined. Using port :8080 by default[GIN-debug] Listening and serving HTTP on :8080[GIN] 2021/10/19 - 15:02:00 | 200 | 16.428Âµs | ::1 | GET &quot;/&quot; æ›´åŠ å…·ä½“çš„ï¼Œå‚è§æ–‡æ¡£ï¼Œå¤ªæ²¡æŠ€æœ¯çš„ä¸œè¥¿ç¬”è€…ä¸å–œæ¬¢å†™ã€‚","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Go","slug":"Language/Go","permalink":"http://fightinggg.github.io/indigo/categories/Language/Go/"}],"tags":[]},{"title":"Goè¿›é˜¶-åç¨‹çš„æœ¬è´¨ä¸CPUçš„äº‰å¤º","slug":"Language/Go/Goè¿›é˜¶-åç¨‹çš„æœ¬è´¨ä¸CPUçš„äº‰å¤º/index","date":"2021-10-13T12:26:00.000Z","updated":"2021-10-13T12:26:00.000Z","comments":true,"path":"R0X17C.html","link":"","permalink":"http://fightinggg.github.io/indigo/R0X17C.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 1. ä»åç¨‹è°ˆèµ·å¾ˆå¤šè¯­è¨€éƒ½æ”¯æŒåç¨‹ï¼Œé‚£ä»€ä¹ˆæ˜¯åç¨‹ï¼Œå’Œçº¿ç¨‹è¿›ç¨‹æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿè¿™é‡Œæ¨èä¸€ç¯‡Blogï¼Œç¬”è€…ç›´æ¥æå–å…¶ä¸­æœ€é‡è¦çš„éƒ¨åˆ† è¿›ç¨‹ã€çº¿ç¨‹ å’Œ åç¨‹ ä¹‹é—´æ¦‚å¿µçš„åŒºåˆ« å¯¹äº è¿›ç¨‹ã€çº¿ç¨‹ï¼Œéƒ½æ˜¯æœ‰å†…æ ¸è¿›è¡Œè°ƒåº¦ï¼Œæœ‰ CPU æ—¶é—´ç‰‡çš„æ¦‚å¿µï¼Œè¿›è¡Œ æŠ¢å å¼è°ƒåº¦ï¼ˆæœ‰å¤šç§è°ƒåº¦ç®—æ³•ï¼‰ å¯¹äº åç¨‹(ç”¨æˆ·çº§çº¿ç¨‹)ï¼Œè¿™æ˜¯å¯¹å†…æ ¸é€æ˜çš„ï¼Œä¹Ÿå°±æ˜¯ç³»ç»Ÿå¹¶ä¸çŸ¥é“æœ‰åç¨‹çš„å­˜åœ¨ï¼Œæ˜¯å®Œå…¨ç”±ç”¨æˆ·è‡ªå·±çš„ç¨‹åºè¿›è¡Œè°ƒåº¦çš„ï¼Œå› ä¸ºæ˜¯ç”±ç”¨æˆ·ç¨‹åºè‡ªå·±æ§åˆ¶ï¼Œé‚£ä¹ˆå°±å¾ˆéš¾åƒæŠ¢å å¼è°ƒåº¦é‚£æ ·åšåˆ°å¼ºåˆ¶çš„ CPU æ§åˆ¶æƒåˆ‡æ¢åˆ°å…¶ä»–è¿›ç¨‹&#x2F;çº¿ç¨‹ï¼Œé€šå¸¸åªèƒ½è¿›è¡Œ åä½œå¼è°ƒåº¦ï¼Œéœ€è¦åç¨‹è‡ªå·±ä¸»åŠ¨æŠŠæ§åˆ¶æƒè½¬è®©å‡ºå»ä¹‹åï¼Œå…¶ä»–åç¨‹æ‰èƒ½è¢«æ‰§è¡Œåˆ°ã€‚ goroutine å’Œåç¨‹åŒºåˆ« æœ¬è´¨ä¸Šï¼Œgoroutine å°±æ˜¯åç¨‹ã€‚ ä¸åŒçš„æ˜¯ï¼ŒGolang åœ¨ runtimeã€ç³»ç»Ÿè°ƒç”¨ç­‰å¤šæ–¹é¢å¯¹ goroutine è°ƒåº¦è¿›è¡Œäº†å°è£…å’Œå¤„ç†ï¼Œå½“é‡åˆ°é•¿æ—¶é—´æ‰§è¡Œæˆ–è€…è¿›è¡Œç³»ç»Ÿè°ƒç”¨æ—¶ï¼Œä¼šä¸»åŠ¨æŠŠå½“å‰ goroutine çš„CPU (P) è½¬è®©å‡ºå»ï¼Œè®©å…¶ä»– goroutine èƒ½è¢«è°ƒåº¦å¹¶æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯ Golang ä»è¯­è¨€å±‚é¢æ”¯æŒäº†åç¨‹ã€‚Golang çš„ä¸€å¤§ç‰¹è‰²å°±æ˜¯ä»è¯­è¨€å±‚é¢åŸç”Ÿæ”¯æŒåç¨‹ï¼Œåœ¨å‡½æ•°æˆ–è€…æ–¹æ³•å‰é¢åŠ  goå…³é”®å­—å°±å¯åˆ›å»ºä¸€ä¸ªåç¨‹ã€‚ æ“ä½œç³»ç»Ÿæ˜¯ä¸çŸ¥é“åç¨‹çš„ï¼Œé‚£ä¹ˆåº”ç”¨å±‚å¦‚ä½•å®ç°åç¨‹å‘¢ï¼Ÿä¸‹é¢ç»™ä¸€äº›ä¼ªä»£ç  12345678ä¸æ–­å¾ªç¯ï¼š ä»ä»»åŠ¡é˜Ÿåˆ—è·å–ä»»åŠ¡ æ‰§è¡Œä»»åŠ¡ï¼Œå¦‚æœä»»åŠ¡è¿è¡Œç»“æŸ: è¿›è¡Œä¸‹ä¸€è½®å¾ªç¯(continue) å¦‚æœä»»åŠ¡è¿è¡Œæ—¶è¿›å…¥é˜»å¡çŠ¶æ€: æŠŠå½“å‰ä»»åŠ¡æ”¾å…¥é˜Ÿåˆ—å°¾éƒ¨(æŒ‚èµ·) å¦‚æœä»»åŠ¡ä¸»åŠ¨é‡Šæ”¾CPU: æŠŠå½“å‰ä»»åŠ¡æ”¾å…¥é˜Ÿåˆ—å°¾éƒ¨(æŒ‚èµ·) æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå…¶å®è¿™é‡Œæ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡å°±æ˜¯åç¨‹ï¼Œè¿™æ ·çš„çº¿ç¨‹æ¨¡å‹ï¼Œä»–çš„CPUåˆ©ç”¨ç‡éå¸¸é«˜ï¼Œä»–çš„åç¨‹åˆ‡æ¢ä»£ä»·éå¸¸ä½ï¼Œå‡ ä¹åªéœ€è¦å…¥é˜Ÿå‡ºé˜Ÿè€Œå·²ã€‚ ä½†æ˜¯è¿™æ ·çš„æ¨¡å‹æœ‰ä¸€ä¸ªå¾ˆå¤§çš„ç¼ºç‚¹ï¼Œé‚£å°±æ˜¯CPUçš„å…¬å¹³æ€§ï¼Œå¦‚æœä¸€ä¸ªåç¨‹è¿Ÿè¿Ÿä¸é€€å‡ºï¼Œä¸”ä¸è¿›è¡Œç³»ç»Ÿè°ƒç”¨ï¼Œä¹Ÿä¸ä¸»åŠ¨é‡Šæ”¾CPUï¼Œé‚£ä¹ˆï¼Œè¿™ä¸ªåç¨‹å°†é€ æˆé˜Ÿå¤´é˜»å¡ç°è±¡ã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 1. ä»åç¨‹è°ˆèµ·å¾ˆå¤šè¯­è¨€éƒ½æ”¯æŒåç¨‹ï¼Œé‚£ä»€ä¹ˆæ˜¯åç¨‹ï¼Œå’Œçº¿ç¨‹è¿›ç¨‹æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿè¿™é‡Œæ¨èä¸€ç¯‡Blogï¼Œç¬”è€…ç›´æ¥æå–å…¶ä¸­æœ€é‡è¦çš„éƒ¨åˆ† è¿›ç¨‹ã€çº¿ç¨‹ å’Œ åç¨‹ ä¹‹é—´æ¦‚å¿µçš„åŒºåˆ« å¯¹äº è¿›ç¨‹ã€çº¿ç¨‹ï¼Œéƒ½æ˜¯æœ‰å†…æ ¸è¿›è¡Œè°ƒåº¦ï¼Œæœ‰ CPU æ—¶é—´ç‰‡çš„æ¦‚å¿µï¼Œè¿›è¡Œ æŠ¢å å¼è°ƒåº¦ï¼ˆæœ‰å¤šç§è°ƒåº¦ç®—æ³•ï¼‰ å¯¹äº åç¨‹(ç”¨æˆ·çº§çº¿ç¨‹)ï¼Œè¿™æ˜¯å¯¹å†…æ ¸é€æ˜çš„ï¼Œä¹Ÿå°±æ˜¯ç³»ç»Ÿå¹¶ä¸çŸ¥é“æœ‰åç¨‹çš„å­˜åœ¨ï¼Œæ˜¯å®Œå…¨ç”±ç”¨æˆ·è‡ªå·±çš„ç¨‹åºè¿›è¡Œè°ƒåº¦çš„ï¼Œå› ä¸ºæ˜¯ç”±ç”¨æˆ·ç¨‹åºè‡ªå·±æ§åˆ¶ï¼Œé‚£ä¹ˆå°±å¾ˆéš¾åƒæŠ¢å å¼è°ƒåº¦é‚£æ ·åšåˆ°å¼ºåˆ¶çš„ CPU æ§åˆ¶æƒåˆ‡æ¢åˆ°å…¶ä»–è¿›ç¨‹&#x2F;çº¿ç¨‹ï¼Œé€šå¸¸åªèƒ½è¿›è¡Œ åä½œå¼è°ƒåº¦ï¼Œéœ€è¦åç¨‹è‡ªå·±ä¸»åŠ¨æŠŠæ§åˆ¶æƒè½¬è®©å‡ºå»ä¹‹åï¼Œå…¶ä»–åç¨‹æ‰èƒ½è¢«æ‰§è¡Œåˆ°ã€‚ goroutine å’Œåç¨‹åŒºåˆ« æœ¬è´¨ä¸Šï¼Œgoroutine å°±æ˜¯åç¨‹ã€‚ ä¸åŒçš„æ˜¯ï¼ŒGolang åœ¨ runtimeã€ç³»ç»Ÿè°ƒç”¨ç­‰å¤šæ–¹é¢å¯¹ goroutine è°ƒåº¦è¿›è¡Œäº†å°è£…å’Œå¤„ç†ï¼Œå½“é‡åˆ°é•¿æ—¶é—´æ‰§è¡Œæˆ–è€…è¿›è¡Œç³»ç»Ÿè°ƒç”¨æ—¶ï¼Œä¼šä¸»åŠ¨æŠŠå½“å‰ goroutine çš„CPU (P) è½¬è®©å‡ºå»ï¼Œè®©å…¶ä»– goroutine èƒ½è¢«è°ƒåº¦å¹¶æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯ Golang ä»è¯­è¨€å±‚é¢æ”¯æŒäº†åç¨‹ã€‚Golang çš„ä¸€å¤§ç‰¹è‰²å°±æ˜¯ä»è¯­è¨€å±‚é¢åŸç”Ÿæ”¯æŒåç¨‹ï¼Œåœ¨å‡½æ•°æˆ–è€…æ–¹æ³•å‰é¢åŠ  goå…³é”®å­—å°±å¯åˆ›å»ºä¸€ä¸ªåç¨‹ã€‚ æ“ä½œç³»ç»Ÿæ˜¯ä¸çŸ¥é“åç¨‹çš„ï¼Œé‚£ä¹ˆåº”ç”¨å±‚å¦‚ä½•å®ç°åç¨‹å‘¢ï¼Ÿä¸‹é¢ç»™ä¸€äº›ä¼ªä»£ç  12345678ä¸æ–­å¾ªç¯ï¼š ä»ä»»åŠ¡é˜Ÿåˆ—è·å–ä»»åŠ¡ æ‰§è¡Œä»»åŠ¡ï¼Œå¦‚æœä»»åŠ¡è¿è¡Œç»“æŸ: è¿›è¡Œä¸‹ä¸€è½®å¾ªç¯(continue) å¦‚æœä»»åŠ¡è¿è¡Œæ—¶è¿›å…¥é˜»å¡çŠ¶æ€: æŠŠå½“å‰ä»»åŠ¡æ”¾å…¥é˜Ÿåˆ—å°¾éƒ¨(æŒ‚èµ·) å¦‚æœä»»åŠ¡ä¸»åŠ¨é‡Šæ”¾CPU: æŠŠå½“å‰ä»»åŠ¡æ”¾å…¥é˜Ÿåˆ—å°¾éƒ¨(æŒ‚èµ·) æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå…¶å®è¿™é‡Œæ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡å°±æ˜¯åç¨‹ï¼Œè¿™æ ·çš„çº¿ç¨‹æ¨¡å‹ï¼Œä»–çš„CPUåˆ©ç”¨ç‡éå¸¸é«˜ï¼Œä»–çš„åç¨‹åˆ‡æ¢ä»£ä»·éå¸¸ä½ï¼Œå‡ ä¹åªéœ€è¦å…¥é˜Ÿå‡ºé˜Ÿè€Œå·²ã€‚ ä½†æ˜¯è¿™æ ·çš„æ¨¡å‹æœ‰ä¸€ä¸ªå¾ˆå¤§çš„ç¼ºç‚¹ï¼Œé‚£å°±æ˜¯CPUçš„å…¬å¹³æ€§ï¼Œå¦‚æœä¸€ä¸ªåç¨‹è¿Ÿè¿Ÿä¸é€€å‡ºï¼Œä¸”ä¸è¿›è¡Œç³»ç»Ÿè°ƒç”¨ï¼Œä¹Ÿä¸ä¸»åŠ¨é‡Šæ”¾CPUï¼Œé‚£ä¹ˆï¼Œè¿™ä¸ªåç¨‹å°†é€ æˆé˜Ÿå¤´é˜»å¡ç°è±¡ã€‚ 2. Goroutineæƒ³å¿…å¾ˆå¤šäººéƒ½çŸ¥é“è¿™ä¸ªåè¯ï¼Œè¿™å…¶å®å°±æ˜¯Goçš„åç¨‹(coroutine), ç›¸æ¯”äºæ™®é€šçš„åç¨‹ï¼ŒGoåšäº†ç‰¹æ®Šçš„å¤„ç†ï¼Œèƒ½å¤Ÿåœ¨ä¸€äº›é€‚å½“çš„æ—¶å€™ï¼Œäº¤å‡ºCPUæ§åˆ¶æƒï¼Œæ‰€ä»¥Goçš„è°ƒåº¦æ˜¯å…¬å¹³çš„ã€‚ å½“ç„¶Goå…³äºåç¨‹ï¼Œä¹Ÿæœ‰ä¸€ä¸ªBugï¼Œè¿™ä¸ªBugåœ¨Go1.14çš„æ—¶å€™è¢«ä¿®å¤äº†ï¼Œæœ‰å…´è¶£çš„è¯»è€…å¯ä»¥è‡ªå·±æŸ¥çœ‹ï¼Œå½“ç„¶ç¬”è€…åœ¨ä¸‹æ–‡ä¹Ÿä¼šé€šè¿‡ä¸€ä¸ªæ›´åŠ ç®€å•çš„ä¾‹å­æ¥å¤ç°è¿™ä¸ªBugã€‚ 3. Bugå¤ç°Bugçš„å¤ç°éœ€è¦ä¸¤ä¸ªç‰ˆæœ¬çš„Goè¿›è¡Œå¯¹æ¯”æ‰èƒ½çœ‹å‡ºæ¥ï¼Œç¬”è€…å»ºè®®ä½¿ç”¨Dockerã€‚é¦–å…ˆå°±æ˜¯ç»™å‡ºä»£ç äº†,ä¸‹é¢çš„ä»£ç å¯ç”¨äº†ä¸¤ä¸ªåç¨‹ï¼Œç¬¬ä¸€ä¸ªåšCPUç©ºè½®è¯¢ï¼Œç¬¬äºŒä¸ªåšä¸é—´æ–­è¾“å‡ºã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041package mainimport ( &quot;fmt&quot; &quot;runtime&quot; &quot;time&quot;)func main() &#123; runtime.GOMAXPROCS(1) go func() &#123; fmt.Println(&quot;begin1&quot;) s := 0 for t := 0; t &lt; 10000; t++ &#123; for i := 0; i &lt; 1000000000; i++ &#123; s += i &#125; //fmt.Println(1, &quot;-&gt;&quot;, s) &#125; fmt.Println(&quot;end1&quot;, s) &#125;() go func() &#123; fmt.Println(&quot;begin2&quot;) s := 0 for t := 0; t &lt; 10; t++ &#123; for i := 0; i &lt; 1000000000; i++ &#123; s += i &#125; fmt.Println(2, &quot;-&gt;&quot;, s) &#125; fmt.Println(&quot;end2&quot;, s) &#125;() time.Sleep(time.Second * 10)&#125; 3.1. åœ¨Go1.13 ä¸­çš„è¡¨ç°ç”¨dockerå¯åŠ¨å®¹å™¨ï¼Œç”¨catå†™å…¥ä»£ç  1234567891011121314151617181920212223242526272829303132333435363738394041424344docker run -it --rm golang:1.13 bashroot@c6921e499184:/go# cat&lt;&lt;EOF&gt;a.go&gt; package main&gt;&gt; import (&gt; &quot;fmt&quot;&gt; &quot;runtime&quot;&gt; &quot;time&quot;&gt; )&gt;&gt; func main() &#123;&gt;&gt; runtime.GOMAXPROCS(1)&gt;&gt; go func() &#123;&gt; fmt.Println(&quot;begin1&quot;)&gt; s := 0&gt; for t := 0; t &lt; 10000; t++ &#123;&gt;&gt; for i := 0; i &lt; 1000000000; i++ &#123;&gt; s += i&gt; &#125;&gt; //fmt.Println(1, &quot;-&gt;&quot;, s)&gt; &#125;&gt; fmt.Println(&quot;end1&quot;, s)&gt;&gt; &#125;()&gt;&gt; go func() &#123;&gt; fmt.Println(&quot;begin2&quot;)&gt; s := 0&gt; for t := 0; t &lt; 10; t++ &#123;&gt;&gt; for i := 0; i &lt; 1000000000; i++ &#123;&gt; s += i&gt; &#125;&gt; fmt.Println(2, &quot;-&gt;&quot;, s)&gt; &#125;&gt; fmt.Println(&quot;end2&quot;, s)&gt; &#125;()&gt;&gt; time.Sleep(time.Second * 10)&gt; &#125;&gt; EOF ç„¶åè¿è¡Œ 1go run a.go è¯»è€…å¯ä»¥å¾ˆå®¹æ˜“åœ°å‘ç°ï¼Œè¿™ä»½ä»£ç åªä¼šè¾“å‡ºä¸€ä¸ªbegin1 3.2. åœ¨Go1.14 ä¸­çš„è¡¨ç°è¿™æ¬¡ï¼Œè¿›å…¥dockerçš„æŒ‡ä»¤æ¢æˆä¸‹é¢è¿™æ¡å°±è¡Œäº† 1docker run -it --rm golang:1.14 bash åœ¨1.14ä¸­ï¼Œä¼šè¾“å‡ºå¦‚ä¸‹å†…å®¹ 12345678910111213begin2begin12 -&gt; 4999999995000000002 -&gt; 9999999990000000002 -&gt; 14999999985000000002 -&gt; 19999999980000000002 -&gt; 24999999975000000002 -&gt; 29999999970000000002 -&gt; 34999999965000000002 -&gt; 39999999960000000002 -&gt; 44999999955000000002 -&gt; 4999999995000000000end2 4999999995000000000 ç”±æ­¤å¯è§ï¼ŒGo1.14è§£å†³äº†forå¾ªç¯é•¿æ—¶é—´å ç”¨CPUçš„é—®é¢˜ã€‚ 4. å¦‚ä½•ä¸»åŠ¨é‡Šæ”¾CPUè¦æ³¨æ„é‡Šæ”¾çš„æ—¶æœºï¼Œå‡½æ•°è°ƒç”¨ã€forå¾ªç¯ä¸­éƒ½å¯ä»¥ï¼Œä½†æ˜¯è¦æ³¨æ„æ§åˆ¶é‡Šæ”¾çš„é¢‘ç‡ï¼Œä¸èƒ½å¤ªé¢‘ç¹ï¼Œä¹Ÿä¸èƒ½å¤ªä¸é¢‘ç¹ã€‚","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Go","slug":"Language/Go","permalink":"http://fightinggg.github.io/indigo/categories/Language/Go/"}],"tags":[]},{"title":"Goå…¥é—¨-Goè¯­è¨€ä»å…¥é—¨åˆ°è¿›é˜¶å®æˆ˜","slug":"Language/Go/Goå…¥é—¨-Goè¯­è¨€ä»å…¥é—¨åˆ°è¿›é˜¶å®æˆ˜/index","date":"2021-10-11T08:10:00.000Z","updated":"2021-10-14T11:58:00.000Z","comments":true,"path":"R0T00O.html","link":"","permalink":"http://fightinggg.github.io/indigo/R0T00O.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 1. å¼€å§‹å­¦ä¹ Goä»ä¸€æœ¬ä¹¦å¼€å§‹ï¼Œè¿™æœ¬ä¹¦å«åšã€ŠGoè¯­è¨€ä»å…¥é—¨åˆ°è¿›é˜¶å®æˆ˜ï¼ˆè§†é¢‘æ•™å­¦ç‰ˆï¼‰ã€‹,å½“ç„¶è¿™ç¯‡Blogå¹¶ä¸æ˜¯æ‰€æœ‰çš„å†…å®¹éƒ½æ¥è‡ªè¿™æœ¬ä¹¦ï¼Œæ¯•ç«Ÿä¹¦ä¸­ä¹Ÿæœ‰ä¸è¶³ä¹‹å¤„ã€‚ 2. Hello Worldå­¦å•¥è¯­è¨€çš„ç¬¬ä¸€æ­¥éƒ½æ˜¯Hello World, ç¬¬ä¸€æ­¥æ˜¯æ­å»ºå¼€å‘ç¯å¢ƒï¼Œç›´æ¥ä¸‹è½½Golandï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„å·¥ç¨‹ï¼Œç‚¹å‡»create","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 1. å¼€å§‹å­¦ä¹ Goä»ä¸€æœ¬ä¹¦å¼€å§‹ï¼Œè¿™æœ¬ä¹¦å«åšã€ŠGoè¯­è¨€ä»å…¥é—¨åˆ°è¿›é˜¶å®æˆ˜ï¼ˆè§†é¢‘æ•™å­¦ç‰ˆï¼‰ã€‹,å½“ç„¶è¿™ç¯‡Blogå¹¶ä¸æ˜¯æ‰€æœ‰çš„å†…å®¹éƒ½æ¥è‡ªè¿™æœ¬ä¹¦ï¼Œæ¯•ç«Ÿä¹¦ä¸­ä¹Ÿæœ‰ä¸è¶³ä¹‹å¤„ã€‚ 2. Hello Worldå­¦å•¥è¯­è¨€çš„ç¬¬ä¸€æ­¥éƒ½æ˜¯Hello World, ç¬¬ä¸€æ­¥æ˜¯æ­å»ºå¼€å‘ç¯å¢ƒï¼Œç›´æ¥ä¸‹è½½Golandï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„å·¥ç¨‹ï¼Œç‚¹å‡»create å»ºå¥½é¡¹ç›®ä»¥åï¼Œé¡¹ç›®åº”è¯¥æ˜¯ä¸‹é¢è¿™ä¸ªæ ·å­çš„ï¼Œå½“ç„¶æˆ‘ä»¬ä¸ç”¨å…³æ³¨è¿™ä¸ªgo.modæ˜¯å¹²ä»€ä¹ˆçš„ï¼Œæˆ‘ä»¬åªæ˜¯åˆ©ç”¨IDEç¼–å†™ä»£ç ï¼Œä½¿ç”¨å‘½ä»¤è¡Œè¿è¡Œã€‚ 123456s@HELLOWANG-MB1 go-study % tree.`-- go.mod0 directories, 1 file ç„¶åæ–°å»ºä¸€ä¸ªmain.goçš„æ–‡ä»¶ï¼Œå…¶å†…å®¹å¦‚ä¸‹ 12345package mainimport &quot;fmt&quot;func main() &#123; fmt.Println(&quot;hello world&quot;)&#125; æœ€åè¿è¡Œè¯¥æ–‡ä»¶ 12s@HELLOWANG-MB1 go-study % go run main.gohello world æˆ‘ä»¬ä¹Ÿå¯ä»¥ç¼–è¯‘ä¸ºäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œç„¶åè¿è¡Œ 12345s@HELLOWANG-MB1 go-study % go build main.gos@HELLOWANG-MB1 go-study % lsgo.mod main main.gos@HELLOWANG-MB1 go-study % ./mainhello world 3. Goçš„å˜é‡å£°æ˜å˜é‡çš„å£°æ˜æ–¹å¼ä¸ºvar &lt;å˜é‡å&gt; &lt;å˜é‡ç±»å‹&gt; ä¾‹å¦‚ä¸‹é¢çš„ç¨‹åº 123456789package mainimport &quot;fmt&quot;func main() &#123; var a int // å®šä¹‰ä¸€ä¸ªæ•´å½¢ fmt.Println(a)&#125; ç»è¿‡äº†å‘½ä»¤è¡Œè¿è¡Œä»¥åï¼Œå¯ä»¥è½¬è€Œä½¿ç”¨IDEé›†æˆå¼€å‘ï¼Œç‚¹å‡»æŒ‰é’®â–¶ï¸ å½“ç„¶ï¼Œè¿˜æœ‰æ›´å¤šçš„å£°æ˜æ–¹å¼ 123456789101112131415161718package mainimport &quot;fmt&quot;func main() &#123; var a int // å®šä¹‰ä¸€ä¸ªæ•´å½¢ fmt.Println(a) var b int = 1 // å®šä¹‰å¹¶èµ‹å€¼ fmt.Println(b) var c = 2 // ç¼–è¯‘å™¨è‡ªåŠ¨æ¨å¯¼ fmt.Println(c) d := 3 // ç²¾ç®€å†™æ³• fmt.Println(d)&#125; æœ€åè¿˜æœ‰ä¸€ä¸ªå°æŠ€å·§ï¼Œå³å‡½æ•°è¿”å›å¯ä»¥æ˜¯å¤šä¸ªå˜é‡ï¼Œç”¨é€—å·åˆ†éš”, _è¡¨ç¤ºåŒ¿åå˜é‡ï¼Œå³å¿½ç•¥è¯¥ä½ç½®çš„å€¼ã€‚ 12345678910111213package mainimport &quot;fmt&quot;func main() &#123; a := 1 b := 2 a, b = b, a c, _ := a, b _, d := a, b fmt.Println(a, b, c, d)&#125; 4. Go çš„åŸºç¡€æ•°æ®ç±»å‹4.1. æ•´å½¢æœ‰ç¬¦å·æ•´å‹: int8 int16 int32 int64 æ— ç¬¦å·æ•´å‹: uint8 uint16 uint32 uint64 å¹³å°è‡ªé€‚åº”æ•´å½¢: int uint(è‡ªåŠ¨æ ¹æ®å¹³å°å†³å®šæ•´å½¢çš„é•¿åº¦) 4.2. æµ®ç‚¹æ•°float32 float64 12345678910package mainimport &quot;fmt&quot;func main() &#123; var a float32 = 1.5 var b float64 = 1.5 fmt.Println(a, b)&#125; 4.3. å¸ƒå°”å‹123456789package mainimport &quot;fmt&quot;func main() &#123; var a bool = true fmt.Println(a)&#125; 4.4. å­—ç¬¦ä¸²123456789package mainimport &quot;fmt&quot;func main() &#123; var a string = &quot;123&quot; fmt.Println(a)&#125; å¤šè¡Œå­—ç¬¦ä¸² 123456789101112package mainimport &quot;fmt&quot;func main() &#123; var a string = ` 123ä½ å¥½ abcsdafaslfnskflasjlfjoiwn ` fmt.Println(a)&#125; 5. Goçš„æ§åˆ¶æµ5.1. å¾ªç¯1234567891011121314151617181920212223242526package mainimport &quot;fmt&quot;func main() &#123; // ç±»ä¼¼ä¸Cçš„while a := 1 for a &lt;= 3 &#123; fmt.Println(a) a++ &#125; // ç±»ä¼¼ä¸Cçš„while(true) for &#123; fmt.Println(&quot;break&quot;) break &#125; // ç±»ä¼¼äºCçš„for for i := 0; i &lt; 3; i++ &#123; fmt.Println(&quot;hello&quot;) &#125;&#125; 5.2. æ¡ä»¶åˆ¤æ–­1234567891011121314package mainimport &quot;fmt&quot;func main() &#123; if 1+1 == 2 &#123; fmt.Println(&quot;1+1=2&quot;) &#125; else &#123; fmt.Println(&quot;1+1!=2&quot;) &#125;&#125; 5.3. switchéœ€è¦æ³¨æ„çš„æ˜¯Goçš„switchè‡ªå¸¦breakï¼Œä¸‹é¢çš„ç¨‹åºåªä¼šè¾“å‡º3 1234567891011121314151617package mainimport &quot;fmt&quot;func main() &#123; switch 3 &#123; case 3: fmt.Println(3) case 2: fmt.Println(2) case 1: fmt.Println(1) &#125;&#125; 6. Goçš„å®¹å™¨&#x2F;é›†åˆ6.1. Mapæ³¨æ„mapéœ€è¦æŒ‡å®škeyå’Œvalue çš„ç±»å‹ 123456789101112131415package mainimport &quot;fmt&quot;func main() &#123; mp := make(map[string]int) mp[&quot;k1&quot;] = 1 mp[&quot;k2&quot;] = 2 fmt.Println(mp) delete(mp,&quot;k1&quot;) fmt.Println(mp) &#125; 6.2. æ•°ç»„æ•°ç»„é•¿åº¦å›ºå®š, åˆ›å»ºæ•°ç»„ä¹Ÿæœ‰å¾ˆå¤šç§å†™æ³• 123456789101112131415package mainimport &quot;fmt&quot;func main() &#123; var arr1 []int = make([]int, 3) arr1[0] = 1 arr2 := [3]int&#123;1, 2&#125; arr3 := [...]int&#123;1, 2&#125; fmt.Println(arr1, arr2, arr3)&#125;// [1 0 0] [1 2 0] [1 2] æ³¨æ„å¯¹äºç”±å­—é¢é‡ç»„æˆçš„æ•°ç»„ï¼Œå¦‚æœé•¿åº¦å°äºç­‰äº4ï¼Œé‚£ä¹ˆå®ƒå°†ç›´æ¥è¢«åˆ†é…åˆ°æ ˆä¸Šï¼Œå¦åˆ™åˆ†é…åˆ°é™æ€åŒº 6.3. åˆ‡ç‰‡åˆ‡ç‰‡çš„åˆ›å»ºå¯ä»¥æ˜¯æ•°ç»„çš„ä¸€éƒ¨åˆ†ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åˆ›å»ºï¼Œåˆ‡ç‰‡å¯æ‰©å®¹ 12345678910111213141516package mainimport &quot;fmt&quot;func main() &#123; var arr1 []int = make([]int, 3) // æ•°ç»„ slice1 := arr1[1:2] slice2 := []int&#123;1, 2, 3&#125; slice3 := make([]int, 3) fmt.Println(slice1, slice2, slice3)&#125;// [0] [1 2 3] [0 0 0] é‚£ä¹ˆåˆ‡ç‰‡å’Œæ•°ç»„æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿå…¶å®åˆ‡ç‰‡åªæ˜¯æ•°ç»„çš„ä¸€ä¸ªå¼•ç”¨ï¼Œä»»ä½•ä¸€ä¸ªåˆ‡ç‰‡ï¼Œå…¶èƒŒåä¸€å®šæœ‰ä¸€ä¸ªæ•°ç»„ï¼Œå½“åˆ‡ç‰‡è¿›è¡Œæ‰©å®¹çš„æ—¶å€™ï¼Œä¼šæ ¹æ®æ•°ç»„çš„å‰©ä½™ç©ºé—´å¤§å°æ¥å†³å®šé™„èº«åˆ°æ–°çš„æ•°ç»„ä¸Šï¼Œæˆ–è€…ç›´æ¥åœ¨åŸæ•°ç»„ä¸Šæ‰©å®¹åˆ‡ç‰‡ã€‚ å…·ä½“è¡¨ç°å¦‚ä¸‹, è¾“å‡ºå°±åœ¨æ³¨é‡Šé‡Œé¢ã€‚ 1234567891011121314151617package mainimport &quot;fmt&quot;func main() &#123; arr1 := [...]int&#123;0, 1, 2, 3, 4, 5, 6, 7, 8, 9&#125; slice1 := arr1[2:5] slice2 := arr1[3:6] fmt.Println(slice1, slice2) arr1[4]=0 fmt.Println(slice1, slice2)&#125;// [2 3 4] [3 4 5]// [2 3 0] [3 0 5] 6.3. åˆ—è¡¨åˆ—è¡¨å¯ä»¥è‡ªåŠ¨ä¼¸ç¼© 1234567891011121314package mainimport ( &quot;container/list&quot; &quot;fmt&quot;)func main() &#123; ls := list.New() ls.PushBack(1) ls.PushBack(2) fmt.Println(ls)&#125; 7. Goçš„å‡½æ•°è¿”å›å€¼å†™åœ¨å‚æ•°åé¢ 1234567891011121314package mainimport &quot;fmt&quot;func plus(a int, b int) int &#123; return a + b&#125;func main() &#123; a := 1 b := 1 fmt.Println(plus(a, b))&#125; è¿˜å¯ä»¥é€‰æ‹©è¿”å›å¤šä¸ªå€¼ 1234567891011121314package mainimport &quot;fmt&quot;func swap(a int, b int) (int, int) &#123; return b, a&#125;func main() &#123; a := 1 b := 2 fmt.Println(swap(a, b))&#125; å˜é•¿çš„å‚æ•° 12345678910111213141516171819package mainimport &quot;fmt&quot;func sum(a ...int) int &#123; s := 0 for i := 0; i &lt; len(a); i++ &#123; s += a[i] &#125; return s&#125;func main() &#123; fmt.Println(sum(1, 2, 3)) nums := []int&#123;1, 2, 3, 4&#125; fmt.Println(sum(nums...))&#125; è¿”å›ä¸€ä¸ªå‡½æ•° 1234567891011121314151617181920package mainimport &quot;fmt&quot;func increase() func() int &#123; i := 0 return func() int &#123; i++ return i &#125;&#125;func main() &#123; fun := increase() fmt.Println(fun()) fmt.Println(fun()) fmt.Println(fun()) fmt.Println(fun())&#125; 8. Goçš„æŒ‡é’ˆå’ŒCä¸€æ · 9. Go çš„ç»“æ„ä½“9.1. ç»“æ„ä½“å®šä¹‰12345type &lt;ç±»å‹å&gt; struct &#123; &lt;å­—æ®µ1å&gt; &lt;å­—æ®µ1ç±»å‹&gt; &lt;å­—æ®µ2å&gt; &lt;å­—æ®µ2ç±»å‹&gt; &lt;å­—æ®µ3å&gt; &lt;å­—æ®µ3ç±»å‹&gt;&#125; ä¾‹å­: 1234type Point struct &#123; X int32 Y int32&#125; 9.2. ç»“æ„ä½“å®ä¾‹åŒ–12345678910111213141516package mainimport &quot;fmt&quot;type Point struct &#123; X int32 Y int32&#125;func main() &#123; var p Point p.X = 1 p.Y = 2 fmt.Println(p.X, p.Y)&#125; ä½¿ç”¨newå®ä¾‹åŒ–,æ³¨æ„æ­¤æ—¶å¾—åˆ°çš„p2æ˜¯æŒ‡é’ˆ 1234567891011121314package mainimport &quot;fmt&quot;type Point struct &#123; X int32 Y int32&#125;func main() &#123; p2 := new(Point) fmt.Println(p2)&#125; 9.3. ç»“æ„ä½“å‡½æ•°ç»“æ„ä½“å‡½æ•°å®šä¹‰æ¯”æ™®é€šå‡½æ•°å®šä¹‰åœ¨funcå’Œå‡½æ•°åä¹‹é—´å¤šäº†ä¸€ä¸ªç»“æ„ä½“å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡ä¸€èˆ¬ä½¿ç”¨æŒ‡é’ˆ 1234567891011121314151617181920212223package mainimport &quot;fmt&quot;type Point struct &#123; X int32 Y int32&#125;func (p *Point) getAndSet(X int32, Y int32) (int32, int32) &#123; p.X, X = X, p.X // swap p.Y, Y = Y, p.Y // swap return X, Y&#125;func main() &#123; p := new(Point) p.X, p.Y = 1, 2 fmt.Println(p.getAndSet(3, 4)) fmt.Println(p.X, p.Y)&#125; 9.4. ç»“æ„ä½“çš„Tagç»“æ„ä½“ä¸­çš„å­—æ®µå¯ä»¥è®¾ç½®Tagï¼Œå³ç»™å­—æ®µæ‰“ä¸Šæ ‡ç­¾ï¼Œå°±åƒJavaä¸­çš„æ³¨è§£ä¸€æ ·ã€‚ç„¶åå¯ä»¥ä½¿ç”¨ä¸€ç§æ¯”è¾ƒé«˜çº§çš„æŠ€æœ¯ï¼ˆåå°„æ¥è·å–è¿™ä¸ªæ ‡ç­¾ï¼‰ 123456789101112131415161718192021package mainimport &quot;reflect&quot;type Point struct &#123; X int `name:&quot;XXX&quot; X:&quot;ä½ å¥½&quot;` Y int `name:&quot;YYY&quot;`&#125;func main() &#123; p := &amp;Point&#123; X: 1, Y: 2, &#125; field, _ := reflect.TypeOf(*p).FieldByName(&quot;X&quot;) println(field.Tag)&#125;// è¾“å‡º:// name:&quot;XXX&quot; X:&quot;ä½ å¥½&quot;asdf 10. Goçš„æ¥å£æ¥å£å®šä¹‰ 1234type &lt;æ¥å£ç±»å‹å&gt; interface&#123; &lt;æ–¹æ³•1å&gt; (&lt;å‚æ•°åˆ—è¡¨1&gt;) è¿”å›å€¼åˆ—è¡¨1 &lt;æ–¹æ³•2å&gt; (&lt;å‚æ•°åˆ—è¡¨2&gt;) è¿”å›å€¼åˆ—è¡¨2&#125; è®©ç»“æ„ä½“å®ç°æ¥å£, åªéœ€è¦è®©ç»“æ„ä½“çš„å‡½æ•°ä¸æ¥å£ä¿æŒä¸€è‡´å³å¯ï¼Œ 12345678910111213141516171819202122232425262728package mainimport &quot;fmt&quot;type Point struct &#123; X int32 Y int32&#125;type GetAndSet interface &#123; invoke(X int32, Y int32) (int32, int32)&#125;func (p *Point) invoke(X int32, Y int32) (int32, int32) &#123; p.X, X = X, p.X // swap p.Y, Y = Y, p.Y // swap return X, Y&#125;func main() &#123; p := new(Point) p.X, p.Y = 1, 2 var it GetAndSet = p fmt.Println(it.invoke(3, 4)) fmt.Println(p.X, p.Y)&#125; 11. Goçš„åŒ…å›åˆ°æœ€å¼€å§‹çš„Helloworldï¼Œæ³¨æ„åˆ°ç¬¬ä¸€è¡Œä¸­çš„package mainï¼Œ åœ¨Goä¸­ï¼Œæœ‰è¿™æ ·ä¸€ä¸ªçº¦å®š åŒ…åä¸ºmainçš„åŒ…ä¸ºåº”ç”¨ç¨‹åºçš„å…¥å£åŒ…ï¼Œç¼–è¯‘æºç æ²¡æœ‰mainåŒ…æ—¶ï¼Œå°†æ— æ³•ç¼–è¯‘è¾“å‡ºå¯æ‰§è¡Œçš„æ–‡ä»¶ã€‚ 12345package mainimport &quot;fmt&quot;func main() &#123; fmt.Println(&quot;hello world&quot;)&#125; 11.1. Goçš„åŒ…å¯¼å‡ºåœ¨Goä¸­ï¼Œé¦–å­—æ¯ä¸ºå°å†™çš„å˜é‡åªèƒ½åœ¨åŒ…å†…ä½¿ç”¨ï¼Œé¦–å­—æ¯ä¸ºå¤§å†™çš„å˜é‡ä¼šè‡ªåŠ¨å¯¼å‡ºï¼Œå¯ä»¥åœ¨å…¶ä»–åŒ…ä½¿ç”¨ã€‚ è¿™æ˜¯ç¬¬ä¸€ä¸ªæ–‡ä»¶mylib/mylib.go 12345678910package mylibfunc Add(a, b int32) int32 &#123; return a + b&#125;func add(a, b int32) int32 &#123; return a + b&#125; 11.2. Goçš„åŒ…å¯¼å…¥ç„¶åæ˜¯main.go, æ³¨æ„åˆ°å¯ä»¥ç›´æ¥ä½¿ç”¨Addå‡½æ•°ï¼Œä½†æ˜¯ä¸èƒ½ä½¿ç”¨addå‡½æ•° 123456789101112package mainimport ( &quot;fmt&quot; &quot;go-study/mylib&quot;)func main() &#123; var a, b int32 = 1, 2 fmt.Println(mylib.Add(a, b))&#125; åœ¨å¯¼å…¥çš„æ—¶å€™å¯ä»¥ç›´æ¥é‡å‘½åï¼Œåªéœ€è¦åœ¨åŒ…åå‰åŠ ä¸Šä¸€ä¸ªåå­—å³å¯ 1234567891011package mainimport ( &quot;fmt&quot; lb &quot;go-study/mylib&quot;)func main() &#123; var a, b int32 = 1, 2 fmt.Println(lb.Add(a, b))&#125; 11.3. Goçš„åŒ…çš„initå‡½æ•°ä¸€ä¸ªåŒ…çš„initå‡½æ•°åœ¨åŒ…è¢«å¼•å…¥æ—¶è‡ªåŠ¨è°ƒç”¨, å¯¹äºmainåŒ…ï¼Œinitå‡½æ•°åœ¨mainå‡½æ•°å‰è¿è¡Œ 123456789101112131415package mylibimport &quot;fmt&quot;func Add(a, b int32) int32 &#123; return a + b&#125;func add(a, b int32) int32 &#123; return a + b&#125;func init()&#123; fmt.Println(&quot;hi&quot;)&#125; 12345678910111213141516package mainimport ( &quot;fmt&quot; lb &quot;go-study/mylib&quot;)func init() &#123; fmt.Println(&quot;hi main&quot;)&#125;func main() &#123; var a, b int32 = 1, 2 fmt.Println(lb.Add(a, b))&#125; 12. Goçš„åå°„12.1. Goåå°„ç±»å‹é€šè¿‡reflectåŒ…æ¥è¿›è¡Œåå°„ï¼Œå¯ä»¥è·å¾—ç±»å‹ 12345678910111213package mainimport ( &quot;fmt&quot; &quot;reflect&quot;)func main() &#123; a := 1 ta := reflect.TypeOf(a) fmt.Println(ta.Bits(), ta.Name(), ta.Kind())&#125; å¯¹äºnameå’Œkindçš„åŒºåˆ«ï¼Œçœ‹çœ‹ä¸‹é¢è¿™ä»½ä»£ç å°±è¡Œäº†, nameä¸ºPointï¼Œkindä¸ºstruct 1234567891011121314151617package mainimport ( &quot;fmt&quot; &quot;reflect&quot;)type Point struct &#123; X, Y int32&#125;func main() &#123; var a = Point&#123;&#125; ta := reflect.TypeOf(a) fmt.Println(ta.Name(), ta.Kind())&#125; 12.2. Goåå°„å€¼é€šè¿‡å­—æ®µçš„åå­—è·å–å±æ€§ 123456789101112131415161718package mainimport ( &quot;fmt&quot; &quot;reflect&quot;)type Point struct &#123; X, Y int32&#125;func main() &#123; var a = Point&#123;&#125; ta := reflect.ValueOf(a) fmt.Println(ta.FieldByName(&quot;X&quot;))&#125; 13. Goçš„å¹¶å‘13.1. goroutineåœ¨å…³é”®è¯goåè·Ÿç€ä¸€ä¸ªå‡½æ•°è°ƒç”¨ï¼Œé‚£ä¹ˆè¯¥å‡½æ•°è°ƒç”¨å°±å˜æˆäº†goroutineï¼Œè¿™æ˜¯ä¸€ä¸ªå¼‚æ­¥è°ƒç”¨ï¼Œç«‹å³è¿”å› 1234567891011121314151617181920212223package mainimport ( &quot;fmt&quot; &quot;time&quot;)func running() &#123; times := 1 for &#123; fmt.Println(&quot;tick&quot;, times) times++ time.Sleep(time.Second) &#125;&#125;func main() &#123; go running() for &#123; time.Sleep(time.Second) &#125;&#125; 13.2. Goçš„é€šé“ä¸‹é¢çš„ç¨‹åºä¼šä¾æ¬¡è¾“å‡º0å’Œhelloï¼Œ é€šé“å…ˆè¿›å…ˆå‡º &lt;-ç¬¦å·å¯ä»¥ç”¨æ¥ä¼ è¾“æ•°æ®ï¼Œ æ³¨æ„é€šé“åœ¨å‘é€å’Œæ¥å—çš„æ—¶å€™éƒ½ä¼šé˜»å¡,æ³¨æ„åˆ°æœ€åä¸€è¡Œæœ‰ä¸€ä¸ªtime.Sleep(time.Second)ï¼Œè¿™æ˜¯ä¸ºäº†ç­‰å¾…goroutineå®Œæˆï¼Œå¦åˆ™mainé€€å‡ºä»¥ågoroutineä¼šç›´æ¥å¼ºåˆ¶é€€å‡º 1234567891011121314151617181920212223242526272829package mainimport ( &quot;fmt&quot; &quot;time&quot;)func main() &#123; ch := make(chan interface&#123;&#125;) go func() &#123; ch &lt;- 0 fmt.Println(&quot;send: 0&quot;) ch &lt;- &quot;hello&quot; fmt.Println(&quot;send: hello&quot;) &#125;() time.Sleep(time.Second) data := &lt;-ch fmt.Println(&quot;recv: &quot;, data) time.Sleep(time.Second) data = &lt;-ch fmt.Println(&quot;recv: &quot;, data) time.Sleep(time.Second)&#125; å¦ä¸€ç§æ¥å—æ–¹æ³•æ˜¯ä½¿ç”¨forå¾ªç¯ï¼Œä»£ç å¦‚ä¸‹ï¼Œæ³¨æ„è¿™ä¸ªå¾ªç¯éœ€è¦æ‰‹åŠ¨é€€å‡º 123456789101112131415161718192021222324252627282930package mainimport ( &quot;fmt&quot; &quot;time&quot;)func main() &#123; ch := make(chan interface&#123;&#125;) go func() &#123; ch &lt;- 0 fmt.Println(&quot;send: 0&quot;) ch &lt;- &quot;hello&quot; fmt.Println(&quot;send: hello&quot;) ch &lt;- &quot;break&quot; fmt.Println(&quot;send: break&quot;) &#125;() for data := range ch &#123; fmt.Println(&quot;recv:&quot;, data) if data == &quot;break&quot; &#123; break &#125; &#125; time.Sleep(time.Second)&#125; æœ€åé€šé“è¿˜æ”¯æŒæŒ‡å®šè¾“å…¥ç«¯å’Œè¾“å‡ºç«¯ï¼Œè¾“å…¥ç«¯åªèƒ½åšè¾“å…¥ï¼Œè¾“å‡ºç«¯åªèƒ½åšè¾“å‡º 1234567891011121314151617181920212223package mainimport ( &quot;fmt&quot; &quot;time&quot;)func main() &#123; ch := make(chan interface&#123;&#125;) var send chan&lt;- interface&#123;&#125; = ch var recv &lt;-chan interface&#123;&#125; = ch go func() &#123; send &lt;- 0 &#125;() data := &lt;-recv fmt.Println(&quot;recv:&quot;, data) time.Sleep(time.Second)&#125; åˆ›å»ºå¸¦æœ‰ç¼“å†²åŒºçš„é€šé“, åªéœ€è¦åœ¨makeçš„ç¬¬äºŒä¸ªå‚æ•°ä¸­å¡«å…¥æ•°å­—å³å¯ 1ch := make(chan interface&#123;&#125;, 10) å¤šè·¯å¤ç”¨ï¼Œä½¿ç”¨selectå…³é”®å­—ï¼ŒcaseåŒºåŸŸå†™è¦é€‰æ‹©çš„é€šé“å³å¯æ¥æ”¶å¤šä¸ªé€šé“ï¼Œä¸‹é¢çš„ä»£ç æœ‰æ—¶è¾“å‡º1ï¼Œæœ‰æ—¶è¾“å‡º2 12345678910111213141516171819202122232425262728293031package mainimport ( &quot;fmt&quot; &quot;time&quot;)func main() &#123; ch1 := make(chan interface&#123;&#125;) ch2 := make(chan interface&#123;&#125;) go func() &#123; ch1 &lt;- 1 &#125;() go func() &#123; ch2 &lt;- 2 &#125;() time.Sleep(time.Second) select &#123; case data := &lt;-ch1: fmt.Println(&quot;recv from ch1: &quot;, data) case data := &lt;-ch2: fmt.Println(&quot;recv from ch2: &quot;, data) &#125; time.Sleep(time.Second)&#125;","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Go","slug":"Language/Go","permalink":"http://fightinggg.github.io/indigo/categories/Language/Go/"}],"tags":[{"name":"è¯»ä¹¦","slug":"è¯»ä¹¦","permalink":"http://fightinggg.github.io/indigo/tags/%E8%AF%BB%E4%B9%A6/"}]},{"title":"ç£ç›˜è®¾å¤‡æŒ‡ä»¤","slug":"æ“ä½œç³»ç»Ÿ/Linux/ç£ç›˜è®¾å¤‡æŒ‡ä»¤/index","date":"2021-09-30T03:28:00.000Z","updated":"2021-09-30T03:28:00.000Z","comments":true,"path":"R089MO.html","link":"","permalink":"http://fightinggg.github.io/indigo/R089MO.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ç»™ç£ç›˜åˆ†åŒº 1fdisk /dev/vdc æ ¼å¼åŒ–åˆ†åŒº 1mkfs.ext4 /dev/vdc æŒ‚è½½ç£ç›˜ 1mkdir -p /data/ssd &amp;&amp; mount /dev/vdc /data/ssd","categories":[{"name":"æ“ä½œç³»ç»Ÿ","slug":"æ“ä½œç³»ç»Ÿ","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"},{"name":"Linux","slug":"æ“ä½œç³»ç»Ÿ/Linux","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Linux/"}],"tags":[]},{"title":"linuxæŒ‡ä»¤-systemctl","slug":"æ“ä½œç³»ç»Ÿ/Linux/linuxæŒ‡ä»¤-systemctl/index","date":"2021-09-24T02:59:00.000Z","updated":"2021-09-24T02:59:00.000Z","comments":true,"path":"QZX4AC.html","link":"","permalink":"http://fightinggg.github.io/indigo/QZX4AC.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æŸ¥çœ‹å¼€æœºå¯åŠ¨é¡¹1systemctl list-unit-files ä¼šçœ‹åˆ°æœ‰ä¸¤åˆ—ï¼Œå·¦ä¾§æ˜¯æœåŠ¡çš„åå­—ï¼Œå³ä¾§æ˜¯æœåŠ¡çš„çŠ¶æ€ï¼Œenabledä»£è¡¨å¼€æœºè‡ªå¯ 123456789UNIT FILE STATE docker-cfaf73bd979fa2fea877e7ae44193bf46318c1bc7fda16e14ffeaa8f8b397e04.scope static docker-d66a6df41c6b8f1ce687c864a580638d8000f8095f29fbef936f7abc3ff3ec69.scope static session-102.scope static session-106.scope static session-96.scope static acpid.service enabled arp-ethers.service disabledarptables.service disabled ç¦ç”¨å¼€æœºå¯åŠ¨é¡¹1systemctl disable kubelet å¯ç”¨å¼€æœºå¯åŠ¨1systemctl enable kubelet å‚è€ƒhttps://linux.cn/article-5926-1.html","categories":[{"name":"æ“ä½œç³»ç»Ÿ","slug":"æ“ä½œç³»ç»Ÿ","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"},{"name":"Linux","slug":"æ“ä½œç³»ç»Ÿ/Linux","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Linux/"}],"tags":[{"name":"linuxæŒ‡ä»¤","slug":"linuxæŒ‡ä»¤","permalink":"http://fightinggg.github.io/indigo/tags/linux%E6%8C%87%E4%BB%A4/"}]},{"title":"Javaè¿è¡Œæ—¶åˆ†æå·¥å…·","slug":"Language/Java/Javaè¿è¡Œæ—¶åˆ†æå·¥å…·/index","date":"2021-09-24T02:24:00.000Z","updated":"2021-09-24T11:27:00.000Z","comments":true,"path":"QZX2O0.html","link":"","permalink":"http://fightinggg.github.io/indigo/QZX2O0.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Jpsjps å¯ä»¥çœ‹åˆ°è¿è¡Œä¸­çš„javaè¿›ç¨‹ 123sh-4.2$ jps370 xxx.jar180682 Jps Jcmdjcmdå¯ä»¥çœ‹åˆ°è¿è¡Œä¸­çš„javaè¿›ç¨‹ä»¥åŠå‚æ•° 123sh-4.2$ jcmd370 /usr/local/xxx.jar config_path=xxx.yaml180773 sun.tools.jcmd.JCmd Jmapjmapæ˜¯å¯ä»¥æŸ¥çœ‹æ•´ä¸ªJVMå†…å­˜çš„å·¥å…·ã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Jpsjps å¯ä»¥çœ‹åˆ°è¿è¡Œä¸­çš„javaè¿›ç¨‹ 123sh-4.2$ jps370 xxx.jar180682 Jps Jcmdjcmdå¯ä»¥çœ‹åˆ°è¿è¡Œä¸­çš„javaè¿›ç¨‹ä»¥åŠå‚æ•° 123sh-4.2$ jcmd370 /usr/local/xxx.jar config_path=xxx.yaml180773 sun.tools.jcmd.JCmd Jmapjmapæ˜¯å¯ä»¥æŸ¥çœ‹æ•´ä¸ªJVMå†…å­˜çš„å·¥å…·ã€‚ jmap -heap &lt;pid&gt;å³å¯æŸ¥çœ‹JVMå †å †ä½¿ç”¨æƒ…å†µï¼Œä¸»è¦æœ‰ä¸¤å—ï¼Œä¸€å—æ˜¯Heapé…ç½®ï¼Œå¦ä¸€å—æ˜¯Heapä½¿ç”¨æƒ…å†µã€‚ Heapé…ç½®ä¸­åŒ…å«äº†æœ€å°å †ç©ºä½™ç©ºé—´æ¯”ä¾‹ã€æœ€å¤§æ¯”ä¾‹ã€æœ€å¤§å †å¤§å°ã€æ–°ç”Ÿä»£å¤§å°ã€è€ç”Ÿä»£å¤§å°ã€æ–°ç”Ÿä»£æ¯”ä¾‹ã€è€ç”Ÿä»£æ¯”ä¾‹ã€åŸç©ºé—´å¤§å°ç­‰ç­‰ã€‚è¿™éƒ¨åˆ†æ˜¯Javaè¿›ç¨‹å¯åŠ¨çš„æ—¶å€™ç”±JVMå‚æ•°å†³å®šçš„ Heap Usageæ˜¯å †çš„ä½¿ç”¨æƒ…å†µï¼ŒåŒ…æ‹¬æ–°ç”Ÿä»£ä½¿ç”¨æƒ…å†µã€è€ç”Ÿä»£ä½¿ç”¨æƒ…å†µï¼ˆå®¹é‡ã€ä½¿ç”¨ã€æœªä½¿ç”¨ï¼‰ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647sh-4.2$ jmap -heap 364Attaching to process ID 364, please wait...Debugger attached successfully.Server compiler detected.JVM version is 25.252-b4using thread-local object allocation.Parallel GC with 48 thread(s)Heap Configuration: MinHeapFreeRatio = 0 MaxHeapFreeRatio = 100 MaxHeapSize = 32210157568 (30718.0MB) NewSize = 715653120 (682.5MB) MaxNewSize = 10736369664 (10239.0MB) OldSize = 1431830528 (1365.5MB) NewRatio = 2 SurvivorRatio = 8 MetaspaceSize = 21807104 (20.796875MB) CompressedClassSpaceSize = 1073741824 (1024.0MB) MaxMetaspaceSize = 17592186044415 MB G1HeapRegionSize = 0 (0.0MB)Heap Usage:PS Young GenerationEden Space: capacity = 88604672 (84.5MB) used = 6212968 (5.925148010253906MB) free = 82391704 (78.5748519897461MB) 7.0120094795904215% usedFrom Space: capacity = 9961472 (9.5MB) used = 1900544 (1.8125MB) free = 8060928 (7.6875MB) 19.07894736842105% usedTo Space: capacity = 9961472 (9.5MB) used = 0 (0.0MB) free = 9961472 (9.5MB) 0.0% usedPS Old Generation capacity = 1482162176 (1413.5MB) used = 230906152 (220.20926666259766MB) free = 1251256024 (1193.2907333374023MB) 15.57900719226018% used20563 interned Strings occupying 1939392 bytes. jmap -histo &lt;pid&gt;å¯ä»¥æŸ¥çœ‹JVMå†…å­˜ä¸­æ¯ä¸ªç±»çš„å†…å­˜ä½¿ç”¨æƒ…å†µ 123456789101112131415sh-4.2$ jmap -histo 370 | lessnum #instances #bytes class name---------------------------------------------- 1: 1887996 284532232 [C 2: 51934 55537536 [I 3: 1368797 51696928 [B 4: 1686385 46376560 [Ljava.lang.Object; 5: 846166 33846640 java.util.TreeMap$Entry 6: 494971 23758608 java.util.TreeMap 7: 984173 23620152 java.lang.String 8: 349310 19561360 sun.nio.cs.UTF_8$Encoder 9: 495105 15843360 java.util.Collections$UnmodifiableMap 10: 494750 15832000 java.util.TreeMap$EntryIterator 11: 494925 11878200 java.util.Arrays$ArrayList 12: 473586 11366064 java.util.Collections$UnmodifiableMap$UnmodifiableEntrySet$1 jmap -finalizerinfo &lt;pid&gt;å¯ä»¥çœ‹åˆ°æœ‰å¤šå°‘ä¸ªå¯¹è±¡åœ¨ç­‰å¾…finalizer 123456sh-4.2$ jmap -finalizerinfo 370Attaching to process ID 370, please wait...Debugger attached successfully.Server compiler detected.JVM version is 25.252-b4Number of objects pending for finalization: 0 jmap -dump:format=b,file=dump.bin 370 å¯ä»¥æŠŠå †ä¸­çš„æ•°æ®å¯¼å‡ºåˆ°äºŒè¿›åˆ¶æ–‡ä»¶ä¸­ 1234sh-4.2$ jmap -dump:format=b,file=dump.bin 370Heap dump file createdsh-4.2$ lsdump.bin Jstackjstack &lt;pid&gt;å¯ä»¥çœ‹åˆ°æ‰€æœ‰çº¿ç¨‹ç›®å‰çš„æ ˆä¿¡æ¯ã€‚ 123456789101112131415161718192021&quot;Finalizer&quot; #3 daemon prio=8 os_prio=0 tid=0x00007fd8506eb000 nid=0x1a7 in Object.wait() [0x00007fd77b826000] java.lang.Thread.State: WAITING (on object monitor) at java.lang.Object.wait(Native Method) at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:144) - locked &lt;0x000000008023bb50&gt; (a java.lang.ref.ReferenceQueue$Lock) at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:165) at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:216)&quot;Reference Handler&quot; #2 daemon prio=10 os_prio=0 tid=0x00007fd8506de800 nid=0x1a6 in Object.wait() [0x00007fd77baf9000] java.lang.Thread.State: WAITING (on object monitor) at java.lang.Object.wait(Native Method) at java.lang.Object.wait(Object.java:502) at java.lang.ref.Reference.tryHandlePending(Reference.java:191) - locked &lt;0x00000000802478a8&gt; (a java.lang.ref.Reference$Lock) at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:153)&quot;VM Thread&quot; os_prio=0 tid=0x00007fd8506db000 nid=0x1a5 runnable&quot;GC task thread#0 (ParallelGC)&quot; os_prio=0 tid=0x00007fd85001f000 nid=0x175 runnable&quot;GC task thread#1 (ParallelGC)&quot; os_prio=0 tid=0x00007fd850021000 nid=0x176 runnable JstatoptionsæŸ¥çœ‹options 12345678910111213sh-4.2$ jstat -options-class-compiler-gc-gccapacity-gccause-gcmetacapacity-gcnew-gcnewcapacity-gcold-gcoldcapacity-gcutil-printcompilation ç±»åŠ è½½æƒ…å†µæŸ¥çœ‹ç±»çš„ä¸ªæ•°, æ¯1000æ¯«ç§’æ‰“å°ä¸€æ¬¡ï¼Œä¸€å…±æ‰“å°10æ¬¡ 123456789101112sh-4.2$ jstat -class 370 1000 10Loaded Bytes Unloaded Bytes Time 12501 23290.5 0 0.0 9.15 12501 23290.5 0 0.0 9.15 12501 23290.5 0 0.0 9.15 12501 23290.5 0 0.0 9.15 12501 23290.5 0 0.0 9.15 12501 23290.5 0 0.0 9.15 12501 23290.5 0 0.0 9.15 12501 23290.5 0 0.0 9.15 12501 23290.5 0 0.0 9.15 12501 23290.5 0 0.0 9.15 JITæƒ…å†µæŸ¥çœ‹JITå®æ—¶ç¼–è¯‘å™¨ç¼–è¯‘çš„æƒ…å†µ 12345sh-4.2$ jstat -compiler 370 1000 3Compiled Failed Invalid Time FailedType FailedMethod 12448 5 0 68.28 1 io/netty/buffer/SizeClasses sizeClass 12448 5 0 68.28 1 io/netty/buffer/SizeClasses sizeClass 12448 5 0 68.28 1 io/netty/buffer/SizeClasses sizeClass GCæƒ…å†µæŸ¥çœ‹GCæƒ…å†µï¼Œæ¯ä¸€åˆ—åˆ†åˆ«å¯¹åº” S0C ç¬¬ä¸€ä¸ªsurvivorçš„å®¹é‡ S1C ç¬¬äºŒä¸ªsurvivorçš„å®¹é‡ S0U ç¬¬ä¸€ä¸ªsurvivorçš„ä½¿ç”¨ç©ºé—´ S1U ç¬¬äºŒä¸ªsurvivorçš„ä½¿ç”¨ç©ºé—´ EC edenå®¹é‡ edenå’Œsurvivorçš„æ¯”ä¾‹æ˜¯8:1:1 EU edenä½¿ç”¨ç©ºé—´ OC è€å¹´ä»£å®¹é‡ OU è€å¹´ä»£ä½¿ç”¨ç©ºé—´ MC æ–¹æ³•åŒºçš„å®¹é‡ MU æ–¹æ³•åŒºä½¿ç”¨ç©ºé—´ CCSC å‹ç¼©ç±»å®¹é‡ æ³¨æ„è¢«å‹ç¼©çš„ä¸æ˜¯ç±»ï¼Œè€Œæ˜¯å¯¹è±¡å¤´ä¸­æŒ‡å‘ç±»çš„æŒ‡é’ˆè¢«å‹ç¼©æˆ32ä½äº† CCSU å‹ç¼©ç±»ä½¿ç”¨ç©ºé—´ YGC YGCçš„æ¬¡æ•° YGCT YGCçš„æ—¶é—´ FGC FULL GCçš„æ¬¡æ•° FGCT FULL GCçš„æ—¶é—´ GCT GCæ€»æ—¶é—´ 12345sh-4.2$ jstat -gc 370 1000 3 S0C S1C S0U S1U EC EU OC OU MC MU CCSC CCSU YGC YGCT FGC FGCT GCT1024.0 9728.0 576.0 0.0 485888.0 256731.1 1941504.0 60846.4 67968.0 64626.7 8576.0 7907.2 96 1.053 3 0.343 1.3961024.0 9728.0 576.0 0.0 485888.0 299599.8 1941504.0 60846.4 67968.0 64626.7 8576.0 7907.2 96 1.053 3 0.343 1.3961024.0 9728.0 576.0 0.0 485888.0 340310.0 1941504.0 60846.4 67968.0 64626.7 8576.0 7907.2 96 1.053 3 0.343 1.396 GC capacityæƒ…å†µä¸»è¦å…³æ³¨å„åŒºåŸŸæœ€å¤§æœ€å°ç©ºé—´ 12345sh-4.2$ jstat -gccapacity 370 1000 3 NGCMN NGCMX NGC S0C S1C EC OGCMN OGCMX OGC OC MCMN MCMX MC CCSMN CCSMX CCSC YGC FGC698880.0 10484736.0 850944.0 8192.0 13824.0 213504.0 1398272.0 20970496.0 1941504.0 1941504.0 0.0 1110016.0 68224.0 0.0 1048576.0 8576.0 228 3698880.0 10484736.0 850944.0 8192.0 13824.0 213504.0 1398272.0 20970496.0 1941504.0 1941504.0 0.0 1110016.0 68224.0 0.0 1048576.0 8576.0 228 3698880.0 10484736.0 850944.0 8192.0 13824.0 213504.0 1398272.0 20970496.0 1941504.0 1941504.0 0.0 1110016.0 68224.0 0.0 1048576.0 8576.0 228 3 GC cause æƒ…å†µä¸»è¦å…³æ³¨å¯¼è‡´GCçš„åŸå›  12345sh-4.2$ jstat -gccause 370 1000 3 S0 S1 E O M CCS YGC YGCT FGC FGCT GCT LGCC GCC 93.81 0.00 73.52 4.29 95.02 92.27 240 2.204 3 0.343 2.546 Allocation Failure No GC 93.81 0.00 73.52 4.29 95.02 92.27 240 2.204 3 0.343 2.546 Allocation Failure No GC 93.81 0.00 73.53 4.29 95.02 92.27 240 2.204 3 0.343 2.546 Allocation Failure No GC GC utilsæƒ…å†µä¸»è¦å…³æ³¨å†…å­˜å æ¯” 12345sh-4.2$ jstat -gcutil 370 1000 3 S0 S1 E O M CCS YGC YGCT FGC FGCT GCT 0.00 96.98 13.54 4.28 95.01 92.27 235 2.167 3 0.343 2.510 0.00 96.98 13.54 4.28 95.01 92.27 235 2.167 3 0.343 2.510 0.00 96.98 13.56 4.28 95.01 92.27 235 2.167 3 0.343 2.510 printcompilationæƒ…å†µJITçš„æ–¹æ³• 12345sh-4.2$ jstat -printcompilation 370 1000 3Compiled Size Type Method 13367 285 1 javax/management/ObjectName setCanonicalName 13367 285 1 javax/management/ObjectName setCanonicalName 13367 285 1 javax/management/ObjectName setCanonicalName Jinfojinfoèƒ½è¾“å‡ºä¸€ä¸ªè¿›ç¨‹çš„åŸºæœ¬ä¿¡æ¯ï¼ŒåŒ…æ‹¬ä»–çš„é…ç½®ã€ç”¨æˆ·ã€è·¯å¾„ã€å‘½ä»¤è¡Œç­‰ç­‰ 12345678910111213sh-4.2$ jinfo 370Attaching to process ID 370, please wait...Debugger attached successfully.Server compiler detected.JVM version is 25.252-b4Java System Properties:java.runtime.name = OpenJDK Runtime Environmentjava.vm.version = 25.252-b4java.protocol.handler.pkgs = org.springframework.boot.loaderpath.separator = :file.encoding.pkg = sun.iojava.vm.name = OpenJDK 64-Bit Server VM Jhatjhatæ˜¯å †å¿«ç…§åˆ†æå·¥å…·ï¼Œç”¨äºåˆ†æå †çš„æƒ…å†µï¼Œé¦–å…ˆè¦ç”¨jmapå¯¼å‡ºå †åˆ°æ–‡ä»¶dump.binä¸­ï¼Œç„¶åä½¿ç”¨jhatåˆ†æ,å†è®¿é—®7000ç«¯å£å³å¯ 12345678910sh-4.2$ jhat dump.binReading from dump.bin...Dump file created Fri Sep 24 19:38:36 CST 2021Snapshot read, resolving...Resolving 4748880 objects...Chasing references, expect 949 dots.............Eliminating duplicate references..............Snapshot resolved.Started HTTP server on port 7000Server is ready. Javahç”¨äºç¼–å†™JNIæ–¹æ³• JavaPå­—èŠ‚ç åˆ†æå·¥å…· JshellJavaäº¤äº’å¼å·¥å…· 12345678910111213sh-4.2$ jshell| æ¬¢è¿ä½¿ç”¨ JShell -- ç‰ˆæœ¬ 16.0.2| è¦å¤§è‡´äº†è§£è¯¥ç‰ˆæœ¬, è¯·é”®å…¥: /help introjshell&gt; int a = 1a ==&gt; 1jshell&gt; int b = 1b ==&gt; 1jshell&gt; System.out.print(a+b)2jshell&gt;","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"}],"tags":[]},{"title":"è®¡ç®—æœºç—…æ¯’æ­ç§˜ä¸å¯¹æŠ—","slug":"è®¡ç®—æœºç½‘ç»œ/è®¡ç®—æœºç—…æ¯’æ­ç§˜ä¸å¯¹æŠ—/index","date":"2021-09-16T05:52:00.000Z","updated":"2021-09-18T05:44:00.000Z","comments":true,"path":"QZIIYO.html","link":"","permalink":"http://fightinggg.github.io/indigo/QZIIYO.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ä¹¦è¯„ä¸€æ˜Ÿï¼Œä¹¦å†™çš„ä¸å¥½ï¼Œéå¸¸ç‰µå¼ºï¼Œä»£ç è¿‡å¤šï¼Œå¹¶ä¸”å¤§å¤šä¸ºWindowsä¸‹çš„ä»£ç ï¼Œå…¨ä¹¦ä¸»è¦åˆ†æçš„æ˜¯Windowsæ“ä½œç³»ç»Ÿä¸‹çš„ç—…æ¯’ã€‚ 2.2. è®¡ç®—æœºç—…æ¯’å¸¸è§è¡¨ç°è¡Œä¸ºåŠç›®çš„2.2.1. ç—…æ¯’å¦‚ä½•çˆ†å‘ æ¬ºéª—ç”¨æˆ·-æ–‡ä»¶æ¬ºéª— ä¸‹é¢ä¸¤ä¸ªç—…æ¯’å…¶å®éƒ½æ˜¯exeå¯æ‰§è¡Œæ–‡ä»¶ï¼Œä½†æ˜¯ä»–ä»¬é€šè¿‡æ›´æ”¹è‡ªå·±çš„å›¾æ ‡è¾¾åˆ°äº†æ¬ºéª—ç”¨æˆ·ç‚¹å‡»çš„æ•ˆæœã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ä¹¦è¯„ä¸€æ˜Ÿï¼Œä¹¦å†™çš„ä¸å¥½ï¼Œéå¸¸ç‰µå¼ºï¼Œä»£ç è¿‡å¤šï¼Œå¹¶ä¸”å¤§å¤šä¸ºWindowsä¸‹çš„ä»£ç ï¼Œå…¨ä¹¦ä¸»è¦åˆ†æçš„æ˜¯Windowsæ“ä½œç³»ç»Ÿä¸‹çš„ç—…æ¯’ã€‚ 2.2. è®¡ç®—æœºç—…æ¯’å¸¸è§è¡¨ç°è¡Œä¸ºåŠç›®çš„2.2.1. ç—…æ¯’å¦‚ä½•çˆ†å‘ æ¬ºéª—ç”¨æˆ·-æ–‡ä»¶æ¬ºéª— ä¸‹é¢ä¸¤ä¸ªç—…æ¯’å…¶å®éƒ½æ˜¯exeå¯æ‰§è¡Œæ–‡ä»¶ï¼Œä½†æ˜¯ä»–ä»¬é€šè¿‡æ›´æ”¹è‡ªå·±çš„å›¾æ ‡è¾¾åˆ°äº†æ¬ºéª—ç”¨æˆ·ç‚¹å‡»çš„æ•ˆæœã€‚ æ¬ºéª—ç”¨æˆ·-ç½‘é¡µé“¾æ¥æ¬ºéª— è¿˜æœ‰äº›ç—…æ¯’åˆ™ä¸ä¸‹è½½ç½‘ç«™å‹¾ç»“ï¼Œå°†æ­£å¸¸è½¯ä»¶çš„ä¸‹è½½é“¾æ¥ç»‘å®šä¸Šç—…æ¯’ç¨‹åºï¼Œè¿™æ ·ç”¨æˆ·æŠŠæ‰€éœ€çš„è½¯ä»¶ä¸‹è½½ä¸‹æ¥åè¿›è¡Œå®‰è£…æ—¶å°±è¿è¡Œäº†ç—…æ¯’ç¨‹åºã€‚ æ¼æ´åˆ©ç”¨-ç½‘é¡µå†…åµŒ ç—…æ¯’åµŒå…¥åˆ°äº†ç½‘é¡µä¸­ï¼Œåªè¦è®¿é—®ç½‘é¡µå°±ä¼šè¿è¡Œç—…æ¯’ æ¼æ´åˆ©ç”¨-Uç›˜ç—…æ¯’ Uç›˜æ’å…¥å°±ä¼šè¿è¡Œç—…æ¯’ æ¼æ´åˆ©ç”¨-æ„ŸæŸ“å‹ç—…æ¯’ ç—…æ¯’æ„ŸæŸ“äº†æ­£å¸¸çš„ç¨‹åºï¼Œå½“è¿™ä¸ªç¨‹åºè¿è¡Œæ—¶ï¼Œç—…æ¯’å°±è¿è¡Œäº†ï¼Œä½†è¯¥ç¨‹åºå¯èƒ½ä¾ç„¶æ­£å¸¸è¿è¡Œã€‚ æ¼æ´åˆ©ç”¨-é‚®ä»¶ç—…æ¯’ æ‰“å¼€é‚®ä»¶ï¼Œç—…æ¯’å°±è¿è¡Œäº† 2.2.2. ç—…æ¯’é•¿æœŸå­˜åœ¨ã€éš¾ä»¥å¯Ÿè§‰ã€éš¾ä»¥æ¸…é™¤ç—…æ¯’éœ€è¦è¢«è¿è¡Œæ‰èƒ½æˆä¸ºç—…æ¯’ï¼Œä¸è¢«è¿è¡Œï¼Œé‚£ä»–å°±åªæ˜¯ä¸€å †æ•°æ®ã€‚ç—…æ¯’é•¿æœŸå­˜åœ¨çš„ç°è±¡æ˜¯ä¾é æ“ä½œç³»ç»Ÿçš„è‡ªå¯åŠ¨ç­‰æ–¹æ³•å®Œæˆçš„ï¼Œä¸ç„¶éš¾é“ç—…æ¯’æ¯æ¬¡è¿è¡Œéƒ½è¦ä½ å»ç‚¹ä»–çš„å›¾æ ‡å—ï¼Ÿ åˆ©ç”¨æ“ä½œç³»ç»Ÿçš„æ¼æ´ï¼Œå°±å¯ä»¥å®ç°ç—…æ¯’çš„è‡ªå¯åŠ¨ï¼Œæ¯”å¦‚æ³¨å†Œè¡¨ ç”±äºç—…æ¯’çš„è¿è¡Œæ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œæ¯”å¦‚æ„ŸæŸ“&#x2F;æ³¨å…¥æ­£å¸¸çš„è¿›ç¨‹ç­‰ï¼Œä¸€ä¸ªæ­£å¸¸è¿è¡Œçš„ç¨‹åºå¾ˆæœ‰å¯èƒ½å·²ç»è¢«ç—…æ¯’æ„ŸæŸ“äº†ï¼Œè€Œç”¨æˆ·æ ¹æœ¬æ²¡åŠæ³•å‘ç°è¿™ä¸ªä¸€ç‚¹ã€‚ ç—…æ¯’æ„ŸæŸ“äº†ç¨‹åºçš„ç¨‹åºä»¥åï¼Œå¾ˆéš¾æ¸…é™¤ï¼Œéš¾é“ä½ è¦åˆ é™¤æ­£å¸¸çš„ç¨‹åºå—ï¼Ÿ 5.1. éšè—æ‰§è¡Œ-æ³¨å…¥æŠ€æœ¯ç—…æ¯’å¯ä»¥é€šè¿‡åŠ¨æ€é“¾æ¥åº“æ‰§è¡Œæ³¨å…¥ï¼Œåœ¨windowså¹³å°ä¸‹ï¼Œä»»ä½•ä¸€ä¸ªè¿›ç¨‹åœ¨åŠ è½½åŠ¨æ€é“¾æ¥åº“çš„æ—¶å€™éƒ½éœ€è¦é¦–å…ˆæ‰§è¡ŒåŠ¨æ€é“¾æ¥åº“çš„å…¥å£å‡½æ•°ï¼Œå¦‚æœç—…æ¯’çš„ä»£ç å­˜åœ¨äºå…¥å£å‡½æ•°ä¸­ï¼Œé‚£ä¹ˆç—…æ¯’å°±å¯ä»¥è¢«æ‰§è¡Œï¼Œé’ˆå¯¹åŠ¨æ€é“¾æ¥åº“çš„æ³¨å…¥ï¼Œæˆ‘ä»¬åªéœ€è¦è®²è¯¥åŠ¨æ€é“¾æ¥åº“å¸è½½å³å¯ã€‚ 5.2. ç—…æ¯’è‡ªå¯åŠ¨æ‰‹æ®µæ­ç§˜ ä½¿ç”¨æ³¨å†Œè¡¨ 5.3. ç—…æ¯’æ„ŸæŸ“åŸç†æ†ç»‘å¼æ„ŸæŸ“ï¼š ç—…æ¯’å°†è‡ªå·±å’Œæ­£å¸¸çš„ç¨‹åºæ†ç»‘åœ¨ä¸€èµ·ï¼ŒæŠŠæ­£å¸¸ç¨‹åºå½“ä½œæ•°æ®å‚¨å­˜åœ¨è‡ªå·±çš„æ•°æ®åŒºï¼Œå½“è¿è¡Œè¯¥ç¨‹åºæ—¶ï¼Œé¦–å…ˆæ‰§è¡Œç—…æ¯’ç¨‹åºï¼Œå¾…ç—…æ¯’ç¨‹åºæ‰§è¡Œå®Œæ¯•ä»¥åå¸è½½ç—…æ¯’ç¨‹åºå¹¶æ‰§è¡Œæ­£å¸¸çš„ç¨‹åºï¼ˆç†ŠçŒ«çƒ§é¦™ç—…æ¯’ï¼‰ï¼Œå¯ä»¥é€šè¿‡æå–ç‰¹å¾çš„æ–¹å¼æ¥è§£å†³æ†ç»‘å¼æ„ŸæŸ“ æ’å…¥å¼æ„ŸæŸ“ï¼šç—…æ¯’æŠŠè‡ªå·±æ’å…¥åˆ°æ­£å¸¸ç¨‹åºçš„å„ä¸ªåŒºçš„ç©ºé—²ä½ç½®å¹¶ä¿®æ”¹ç¨‹åºå…¥å£åœ°å€ 5.4. åŠ å£³ä¸è„±å£³ç—…æ¯’ä¸ºäº†é˜²æ­¢è‡ªå·±çš„è¢«åç¼–è¯‘ï¼Œå¾€å¾€ä½¿ç”¨åŠ å£³çš„æ–¹æ³•æ¥é˜»æ­¢åˆ†æäººå‘˜çš„å·¥ä½œã€‚ å£³åˆ†ä¸ºä¸¤ç±»ï¼Œç¬¬ä¸€ç±»æ˜¯å‹ç¼©å£³ï¼Œè¿™ç§å£³å¯ä»¥å‡å°è½¯ä»¶çš„ä½“ç§¯ï¼Œå¦ä¸€ç±»æ˜¯åŠ å¯†å£³ï¼Œè¿™ç§å£³çš„ä¾§é‡ç‚¹æ˜¯ä¿æŠ¤ç¨‹åºã€‚ å£³çš„å®ç°ä¸»è¦æ˜¯è®²è½¯ä»¶çš„å„ä¸ªèŠ‚è¿›è¡Œå‹ç¼©ï¼ŒåŠ å…¥åè·Ÿè¸ªã€åè°ƒè¯•ç­‰ç­‰æ“ä½œï¼Œè¿è¡Œæ—¶å…ˆè¿è¡Œå£³ä»£ç ï¼Œå£³ä¹‹åå§çœŸæ­£çš„ä»£ç è§£å‹å‡ºæ¥ ï¼Œå¹¶è·³è½¬åˆ°åŸè½¯ä»¶å…¥å£ã€‚ è„±å£³å°±æ˜¯åŠ å£³çš„æ‹Ÿè¿‡ç¨‹ã€‚ 6.1 è™šæ‹Ÿæœºåç—…æ¯’æŠ€æœ¯ä½¿ç”¨æ¨¡æ‹Ÿçš„CPUã€æ¨¡æ‹Ÿæ“ä½œç³»ç»Ÿç”¨æ¥è§£é‡Šæ‰§è¡Œç—…æ¯’è½¯ä»¶ï¼Œåœ¨è¿‡ç¨‹ä¸­å¯¹ç—…æ¯’è¿›è¡Œåˆ†æã€‚ å½“ç„¶ç—…æ¯’ä¹Ÿä¼šå¯¹æŠ—ï¼Œç—…æ¯’ä¼šæ£€æµ‹è‡ªå·±æ˜¯å¦åœ¨è™šæ‹Ÿæœºä¸­è¿è¡Œï¼Œå¦‚æœç—…æ¯’å‘ç°è‡ªå·±åœ¨è™šæ‹Ÿæœºä¸­è¿è¡Œï¼Œé‚£ä¹ˆå°±å®Œäº†ï¼Œä¸€èˆ¬ç—…æ¯’éƒ½ä¼šæ‰§è¡Œå¤§é‡çš„APIï¼Œè¿™äº›å‡½æ•°è™šæ‹Ÿæœºä¸ä¸€å®šæ”¯æŒã€‚","categories":[{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","permalink":"http://fightinggg.github.io/indigo/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"}],"tags":[{"name":"è¯»ä¹¦","slug":"è¯»ä¹¦","permalink":"http://fightinggg.github.io/indigo/tags/%E8%AF%BB%E4%B9%A6/"}]},{"title":"è®¡ç®—æœºç½‘ç»œ-æ³•å¾‹ç¯‡","slug":"è®¡ç®—æœºç½‘ç»œ/è®¡ç®—æœºç½‘ç»œ-æ³•å¾‹ç¯‡/index","date":"2021-09-08T14:30:00.000Z","updated":"2021-09-08T14:30:00.000Z","comments":true,"path":"QZ4DM0.html","link":"","permalink":"http://fightinggg.github.io/indigo/QZ4DM0.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å¼ ä¸‰å†™äº†ä¸€ä¸ªè®¡ç®—æœºç—…æ¯’ï¼Œä¸Šä¼ åˆ°äº†Githubï¼Œå¼ ä¸‰çŠ¯ä¸çŠ¯æ³•ï¼Ÿ å¼ ä¸‰ä»é»‘å®¢é‚£é‡Œç›—ç”¨äº†ä¸€äº›è‚‰é¸¡å»æ”»æ‰“å…¶ä»–éæ³•ç½‘ç«™ï¼Œå¼ ä¸‰çŠ¯ä¸çŠ¯æ³•ï¼Ÿ â€¦ æ³•å¾‹æ³•è§„ç›®å‰å›½å®¶çº§åˆ«çš„è®¡ç®—æœºç›¸å…³çš„æ³•å¾‹ä¸€å…±æœ‰6æœ¬ï¼Œåˆ†åˆ«æ˜¯ ã€Šæœ€é«˜äººæ°‘æ³•é™¢å…³äºå®¡ç†æ¶‰åŠè®¡ç®—æœºç½‘ç»œåŸŸåæ°‘äº‹çº çº·æ¡ˆä»¶é€‚ç”¨æ³•å¾‹è‹¥å¹²é—®é¢˜çš„è§£é‡Šã€‹ ã€Šè®¡ç®—æœºè½¯ä»¶ä¿æŠ¤æ¡ä¾‹ã€‹ ã€Šæœ€é«˜äººæ°‘æ³•é™¢ã€æœ€é«˜äººæ°‘æ£€å¯Ÿé™¢å…³äºåŠç†å±å®³è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿå®‰å…¨åˆ‘äº‹æ¡ˆä»¶åº”ç”¨æ³•å¾‹è‹¥å¹²é—®é¢˜çš„è§£é‡Šã€‹ ã€Šä¸­åäººæ°‘å…±å’Œå›½è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿå®‰å…¨ä¿æŠ¤æ¡ä¾‹ã€‹ ã€Šè®¡ç®—æœºä¿¡æ¯ç½‘ç»œå›½é™…è”ç½‘å®‰å…¨ä¿æŠ¤ç®¡ç†åŠæ³•ã€‹ ã€Šä¸­åäººæ°‘å…±å’Œå›½è®¡ç®—æœºä¿¡æ¯ç½‘ç»œå›½é™…è”ç½‘ç®¡ç†æš‚è¡Œè§„å®šã€‹","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å¼ ä¸‰å†™äº†ä¸€ä¸ªè®¡ç®—æœºç—…æ¯’ï¼Œä¸Šä¼ åˆ°äº†Githubï¼Œå¼ ä¸‰çŠ¯ä¸çŠ¯æ³•ï¼Ÿ å¼ ä¸‰ä»é»‘å®¢é‚£é‡Œç›—ç”¨äº†ä¸€äº›è‚‰é¸¡å»æ”»æ‰“å…¶ä»–éæ³•ç½‘ç«™ï¼Œå¼ ä¸‰çŠ¯ä¸çŠ¯æ³•ï¼Ÿ â€¦ æ³•å¾‹æ³•è§„ç›®å‰å›½å®¶çº§åˆ«çš„è®¡ç®—æœºç›¸å…³çš„æ³•å¾‹ä¸€å…±æœ‰6æœ¬ï¼Œåˆ†åˆ«æ˜¯ ã€Šæœ€é«˜äººæ°‘æ³•é™¢å…³äºå®¡ç†æ¶‰åŠè®¡ç®—æœºç½‘ç»œåŸŸåæ°‘äº‹çº çº·æ¡ˆä»¶é€‚ç”¨æ³•å¾‹è‹¥å¹²é—®é¢˜çš„è§£é‡Šã€‹ ã€Šè®¡ç®—æœºè½¯ä»¶ä¿æŠ¤æ¡ä¾‹ã€‹ ã€Šæœ€é«˜äººæ°‘æ³•é™¢ã€æœ€é«˜äººæ°‘æ£€å¯Ÿé™¢å…³äºåŠç†å±å®³è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿå®‰å…¨åˆ‘äº‹æ¡ˆä»¶åº”ç”¨æ³•å¾‹è‹¥å¹²é—®é¢˜çš„è§£é‡Šã€‹ ã€Šä¸­åäººæ°‘å…±å’Œå›½è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿå®‰å…¨ä¿æŠ¤æ¡ä¾‹ã€‹ ã€Šè®¡ç®—æœºä¿¡æ¯ç½‘ç»œå›½é™…è”ç½‘å®‰å…¨ä¿æŠ¤ç®¡ç†åŠæ³•ã€‹ ã€Šä¸­åäººæ°‘å…±å’Œå›½è®¡ç®—æœºä¿¡æ¯ç½‘ç»œå›½é™…è”ç½‘ç®¡ç†æš‚è¡Œè§„å®šã€‹ å…¶ä¸­ä¸»è¦å…³æ³¨ã€Šæœ€é«˜äººæ°‘æ³•é™¢ã€æœ€é«˜äººæ°‘æ£€å¯Ÿé™¢å…³äºåŠç†å±å®³è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿå®‰å…¨åˆ‘äº‹æ¡ˆä»¶åº”ç”¨æ³•å¾‹è‹¥å¹²é—®é¢˜çš„è§£é‡Šã€‹å³å¯ï¼Œå¤§éƒ¨åˆ†è¿æ³•çš„éƒ½å¯ä»¥æŸ¥åˆ°ã€‚ å…ˆçœ‹çœ‹ã€Šåˆ‘æ³•ã€‹ä¸­çš„æœ‰å…³ä¿¡æ¯ ç¬¬äºŒç™¾å…«åäº”æ¡ã€éæ³•ä¾µå…¥è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿç½ª;éæ³•è·å–è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿæ•°æ®ã€éæ³•æ§åˆ¶è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿç½ª;æä¾›ä¾µå…¥ã€éæ³•æ§åˆ¶è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿç¨‹åºã€å·¥å…·ç½ªã€‘è¿åå›½å®¶è§„å®šï¼Œä¾µå…¥å›½å®¶äº‹åŠ¡ã€å›½é˜²å»ºè®¾ã€å°–ç«¯ç§‘å­¦æŠ€æœ¯é¢†åŸŸçš„è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿçš„ï¼Œå¤„ä¸‰å¹´ä»¥ä¸‹æœ‰æœŸå¾’åˆ‘æˆ–è€…æ‹˜å½¹ã€‚ è¿åå›½å®¶è§„å®šï¼Œä¾µå…¥å‰æ¬¾è§„å®šä»¥å¤–çš„è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿæˆ–è€…é‡‡ç”¨å…¶ä»–æŠ€æœ¯æ‰‹æ®µï¼Œè·å–è¯¥è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿä¸­å­˜å‚¨ã€å¤„ç†æˆ–è€…ä¼ è¾“çš„æ•°æ®ï¼Œæˆ–è€…å¯¹è¯¥è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿå®æ–½éæ³•æ§åˆ¶ï¼Œæƒ…èŠ‚ä¸¥é‡çš„ï¼Œå¤„ä¸‰å¹´ä»¥ä¸‹æœ‰æœŸå¾’åˆ‘æˆ–è€…æ‹˜å½¹ï¼Œå¹¶å¤„æˆ–è€…å•å¤„ç½šé‡‘;æƒ…èŠ‚ç‰¹åˆ«ä¸¥é‡çš„ï¼Œå¤„ä¸‰å¹´ä»¥ä¸Šä¸ƒå¹´ä»¥ä¸‹æœ‰æœŸå¾’åˆ‘ï¼Œå¹¶å¤„ç½šé‡‘ã€‚ æä¾›ä¸“é—¨ç”¨äºä¾µå…¥ã€éæ³•æ§åˆ¶è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿçš„ç¨‹åºã€å·¥å…·ï¼Œæˆ–è€…æ˜çŸ¥ä»–äººå®æ–½ä¾µå…¥ã€éæ³•æ§åˆ¶è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿçš„è¿æ³•çŠ¯ç½ªè¡Œä¸ºè€Œä¸ºå…¶æä¾›ç¨‹åºã€å·¥å…·ï¼Œæƒ…èŠ‚ä¸¥é‡çš„ï¼Œä¾ç…§å‰æ¬¾çš„è§„å®šå¤„ç½šã€‚ å•ä½çŠ¯å‰ä¸‰æ¬¾ç½ªçš„ï¼Œå¯¹å•ä½åˆ¤å¤„ç½šé‡‘ï¼Œå¹¶å¯¹å…¶ç›´æ¥è´Ÿè´£çš„ä¸»ç®¡äººå‘˜å’Œå…¶ä»–ç›´æ¥è´£ä»»äººå‘˜ï¼Œä¾ç…§å„è¯¥æ¬¾çš„è§„å®šå¤„ç½šã€‚ ç¬¬äºŒç™¾å…«åå…­æ¡ ã€ç ´åè®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿç½ª;ç½‘ç»œæœåŠ¡æ¸èŒç½ªã€‘è¿åå›½å®¶è§„å®šï¼Œå¯¹è®¡ç®—æœºä¿¡æ¯ç³»ç»ŸåŠŸèƒ½è¿›è¡Œåˆ é™¤ã€ä¿®æ”¹ã€å¢åŠ ã€å¹²æ‰°ï¼Œé€ æˆè®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿä¸èƒ½æ­£å¸¸è¿è¡Œï¼Œåæœä¸¥é‡çš„ï¼Œå¤„äº”å¹´ä»¥ä¸‹æœ‰æœŸå¾’åˆ‘æˆ–è€…æ‹˜å½¹;åæœç‰¹åˆ«ä¸¥é‡çš„ï¼Œå¤„äº”å¹´ä»¥ä¸Šæœ‰æœŸå¾’åˆ‘ã€‚ è¿åå›½å®¶è§„å®šï¼Œå¯¹è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿä¸­å­˜å‚¨ã€å¤„ç†æˆ–è€…ä¼ è¾“çš„æ•°æ®å’Œåº”ç”¨ç¨‹åºè¿›è¡Œåˆ é™¤ã€ä¿®æ”¹ã€å¢åŠ çš„æ“ä½œï¼Œåæœä¸¥é‡çš„ï¼Œä¾ç…§å‰æ¬¾çš„è§„å®šå¤„ç½šã€‚ æ•…æ„åˆ¶ä½œã€ä¼ æ’­è®¡ç®—æœºç—…æ¯’ç­‰ç ´åæ€§ç¨‹åºï¼Œå½±å“è®¡ç®—æœºç³»ç»Ÿæ­£å¸¸è¿è¡Œï¼Œåæœä¸¥é‡çš„ï¼Œä¾ç…§ç¬¬ä¸€æ¬¾çš„è§„å®šå¤„ç½šã€‚ å•ä½çŠ¯å‰ä¸‰æ¬¾ç½ªçš„ï¼Œå¯¹å•ä½åˆ¤å¤„ç½šé‡‘ï¼Œå¹¶å¯¹å…¶ç›´æ¥è´Ÿè´£çš„ä¸»ç®¡äººå‘˜å’Œå…¶ä»–ç›´æ¥è´£ä»»äººå‘˜ï¼Œä¾ç…§ç¬¬ä¸€æ¬¾çš„è§„å®šå¤„ç½šã€‚ ç¬¬äºŒç™¾å…«åå…­æ¡ä¹‹ä¸€ ã€æ‹’ä¸å±¥è¡Œä¿¡æ¯ç½‘ç»œå®‰å…¨ç®¡ç†ä¹‰åŠ¡ç½ªã€‘ç½‘ç»œæœåŠ¡æä¾›è€…ä¸å±¥è¡Œæ³•å¾‹ã€è¡Œæ”¿æ³•è§„è§„å®šçš„ä¿¡æ¯ç½‘ç»œå®‰å…¨ç®¡ç†ä¹‰åŠ¡ï¼Œç»ç›‘ç®¡éƒ¨é—¨è´£ä»¤é‡‡å–æ”¹æ­£æªæ–½è€Œæ‹’ä¸æ”¹æ­£ï¼Œæœ‰ä¸‹åˆ—æƒ…å½¢ä¹‹ä¸€çš„ï¼Œå¤„ä¸‰å¹´ä»¥ä¸‹æœ‰æœŸå¾’åˆ‘ã€æ‹˜å½¹æˆ–è€…ç®¡åˆ¶ï¼Œå¹¶å¤„æˆ–è€…å•å¤„ç½šé‡‘ï¼š (ä¸€)è‡´ä½¿è¿æ³•ä¿¡æ¯å¤§é‡ä¼ æ’­çš„; (äºŒ)è‡´ä½¿ç”¨æˆ·ä¿¡æ¯æ³„éœ²ï¼Œé€ æˆä¸¥é‡åæœçš„; (ä¸‰)è‡´ä½¿åˆ‘äº‹æ¡ˆä»¶è¯æ®ç­å¤±ï¼Œæƒ…èŠ‚ä¸¥é‡çš„; (å››)æœ‰å…¶ä»–ä¸¥é‡æƒ…èŠ‚çš„ã€‚ å•ä½çŠ¯å‰æ¬¾ç½ªçš„ï¼Œå¯¹å•ä½åˆ¤å¤„ç½šé‡‘ï¼Œå¹¶å¯¹å…¶ç›´æ¥è´Ÿè´£çš„ä¸»ç®¡äººå‘˜å’Œå…¶ä»–ç›´æ¥è´£ä»»äººå‘˜ï¼Œä¾ç…§å‰æ¬¾çš„è§„å®šå¤„ç½šã€‚ æœ‰å‰ä¸¤æ¬¾è¡Œä¸ºï¼ŒåŒæ—¶æ„æˆå…¶ä»–çŠ¯ç½ªçš„ï¼Œä¾ç…§å¤„ç½šè¾ƒé‡çš„è§„å®šå®šç½ªå¤„ç½šã€‚ ç¼–å†™è®¡ç®—æœºç—…æ¯’ä¸Šä¼ åˆ°Githubæ¶‰å«Œæä¾›ä¾µå…¥ã€éæ³•æ§åˆ¶è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿçš„ç¨‹åºã€å·¥å…·ï¼Œä¸‰å¹´ä»¥ä¸‹ æ”»æ‰“åˆ«äººçš„ç½‘ç«™æ¶‰å«Œç ´åè®¡ç®—æœºä¿¡æ¯ç³»ç»ŸåŠŸèƒ½ã€æ•°æ®æˆ–è€…åº”ç”¨ç¨‹åºï¼Œäº”å¹´ä»¥ä¸‹ ç›—ç”¨è‚‰é¸¡æ¶‰å«Œéæ³•è·å–è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿæ•°æ®æˆ–è€…éæ³•æ§åˆ¶è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿï¼Œä¸‰å¹´ä»¥ä¸‹ é™„ã€Šæœ€é«˜äººæ°‘æ³•é™¢ã€æœ€é«˜äººæ°‘æ£€å¯Ÿé™¢å…³äºåŠç†å±å®³è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿå®‰å…¨åˆ‘äº‹æ¡ˆä»¶åº”ç”¨æ³•å¾‹è‹¥å¹²é—®é¢˜çš„è§£é‡Šã€‹åŸæ–‡ ç¬¬ä¸€æ¡ éæ³•è·å–è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿæ•°æ®æˆ–è€…éæ³•æ§åˆ¶è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿï¼Œå…·æœ‰ä¸‹åˆ—æƒ…å½¢ä¹‹ä¸€çš„ï¼Œåº”å½“è®¤å®šä¸ºåˆ‘æ³•ç¬¬äºŒç™¾å…«åäº”æ¡ç¬¬äºŒæ¬¾è§„å®šçš„â€œæƒ…èŠ‚ä¸¥é‡â€ï¼š ï¼ˆä¸€ï¼‰è·å–æ”¯ä»˜ç»“ç®—ã€è¯åˆ¸äº¤æ˜“ã€æœŸè´§äº¤æ˜“ç­‰ç½‘ç»œé‡‘èæœåŠ¡çš„èº«ä»½è®¤è¯ä¿¡æ¯åç»„ä»¥ä¸Šçš„ï¼› ï¼ˆäºŒï¼‰è·å–ç¬¬ï¼ˆä¸€ï¼‰é¡¹ä»¥å¤–çš„èº«ä»½è®¤è¯ä¿¡æ¯äº”ç™¾ç»„ä»¥ä¸Šçš„ï¼› ï¼ˆä¸‰ï¼‰éæ³•æ§åˆ¶è®¡ç®—æœºä¿¡æ¯ç³»ç»ŸäºŒåå°ä»¥ä¸Šçš„ï¼› ï¼ˆå››ï¼‰è¿æ³•æ‰€å¾—äº”åƒå…ƒä»¥ä¸Šæˆ–è€…é€ æˆç»æµæŸå¤±ä¸€ä¸‡å…ƒä»¥ä¸Šçš„ï¼› ï¼ˆäº”ï¼‰å…¶ä»–æƒ…èŠ‚ä¸¥é‡çš„æƒ…å½¢ã€‚ å®æ–½å‰æ¬¾è§„å®šè¡Œä¸ºï¼Œå…·æœ‰ä¸‹åˆ—æƒ…å½¢ä¹‹ä¸€çš„ï¼Œåº”å½“è®¤å®šä¸ºåˆ‘æ³•ç¬¬äºŒç™¾å…«åäº”æ¡ç¬¬äºŒæ¬¾è§„å®šçš„â€œæƒ…èŠ‚ç‰¹åˆ«ä¸¥é‡â€ï¼š ï¼ˆä¸€ï¼‰æ•°é‡æˆ–è€…æ•°é¢è¾¾åˆ°å‰æ¬¾ç¬¬ï¼ˆä¸€ï¼‰é¡¹è‡³ç¬¬ï¼ˆå››ï¼‰é¡¹è§„å®šæ ‡å‡†äº”å€ä»¥ä¸Šçš„ï¼› ï¼ˆäºŒï¼‰å…¶ä»–æƒ…èŠ‚ç‰¹åˆ«ä¸¥é‡çš„æƒ…å½¢ã€‚ æ˜çŸ¥æ˜¯ä»–äººéæ³•æ§åˆ¶çš„è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿï¼Œè€Œå¯¹è¯¥è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿçš„æ§åˆ¶æƒåŠ ä»¥åˆ©ç”¨çš„ï¼Œä¾ç…§å‰ä¸¤æ¬¾çš„è§„å®šå®šç½ªå¤„ç½šã€‚ ç¬¬äºŒæ¡ å…·æœ‰ä¸‹åˆ—æƒ…å½¢ä¹‹ä¸€çš„ç¨‹åºã€å·¥å…·ï¼Œåº”å½“è®¤å®šä¸ºåˆ‘æ³•ç¬¬äºŒç™¾å…«åäº”æ¡ç¬¬ä¸‰æ¬¾è§„å®šçš„â€œä¸“é—¨ç”¨äºä¾µå…¥ã€éæ³•æ§åˆ¶è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿçš„ç¨‹åºã€å·¥å…·â€ï¼š ï¼ˆä¸€ï¼‰å…·æœ‰é¿å¼€æˆ–è€…çªç ´è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿå®‰å…¨ä¿æŠ¤æªæ–½ï¼Œæœªç»æˆæƒæˆ–è€…è¶…è¶Šæˆæƒè·å–è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿæ•°æ®çš„åŠŸèƒ½çš„ï¼› ï¼ˆäºŒï¼‰å…·æœ‰é¿å¼€æˆ–è€…çªç ´è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿå®‰å…¨ä¿æŠ¤æªæ–½ï¼Œæœªç»æˆæƒæˆ–è€…è¶…è¶Šæˆæƒå¯¹è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿå®æ–½æ§åˆ¶çš„åŠŸèƒ½çš„ï¼› ï¼ˆä¸‰ï¼‰å…¶ä»–ä¸“é—¨è®¾è®¡ç”¨äºä¾µå…¥ã€éæ³•æ§åˆ¶è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿã€éæ³•è·å–è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿæ•°æ®çš„ç¨‹åºã€å·¥å…·ã€‚ ç¬¬ä¸‰æ¡ æä¾›ä¾µå…¥ã€éæ³•æ§åˆ¶è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿçš„ç¨‹åºã€å·¥å…·ï¼Œå…·æœ‰ä¸‹åˆ—æƒ…å½¢ä¹‹ä¸€çš„ï¼Œåº”å½“è®¤å®šä¸ºåˆ‘æ³•ç¬¬äºŒç™¾å…«åäº”æ¡ç¬¬ä¸‰æ¬¾è§„å®šçš„â€œæƒ…èŠ‚ä¸¥é‡â€ï¼š ï¼ˆä¸€ï¼‰æä¾›èƒ½å¤Ÿç”¨äºéæ³•è·å–æ”¯ä»˜ç»“ç®—ã€è¯åˆ¸äº¤æ˜“ã€æœŸè´§äº¤æ˜“ç­‰ç½‘ç»œé‡‘èæœåŠ¡èº«ä»½è®¤è¯ä¿¡æ¯çš„ä¸“é—¨æ€§ç¨‹åºã€å·¥å…·äº”äººæ¬¡ä»¥ä¸Šçš„ï¼› ï¼ˆäºŒï¼‰æä¾›ç¬¬ï¼ˆä¸€ï¼‰é¡¹ä»¥å¤–çš„ä¸“é—¨ç”¨äºä¾µå…¥ã€éæ³•æ§åˆ¶è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿçš„ç¨‹åºã€å·¥å…·äºŒåäººæ¬¡ä»¥ä¸Šçš„ï¼› ï¼ˆä¸‰ï¼‰æ˜çŸ¥ä»–äººå®æ–½éæ³•è·å–æ”¯ä»˜ç»“ç®—ã€è¯åˆ¸äº¤æ˜“ã€æœŸè´§äº¤æ˜“ç­‰ç½‘ç»œé‡‘èæœåŠ¡èº«ä»½è®¤è¯ä¿¡æ¯çš„è¿æ³•çŠ¯ç½ªè¡Œä¸ºè€Œä¸ºå…¶æä¾›ç¨‹åºã€å·¥å…·äº”äººæ¬¡ä»¥ä¸Šçš„ï¼› ï¼ˆå››ï¼‰æ˜çŸ¥ä»–äººå®æ–½ç¬¬ï¼ˆä¸‰ï¼‰é¡¹ä»¥å¤–çš„ä¾µå…¥ã€éæ³•æ§åˆ¶è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿçš„è¿æ³•çŠ¯ç½ªè¡Œä¸ºè€Œä¸ºå…¶æä¾›ç¨‹åºã€å·¥å…·äºŒåäººæ¬¡ä»¥ä¸Šçš„ï¼› ï¼ˆäº”ï¼‰è¿æ³•æ‰€å¾—äº”åƒå…ƒä»¥ä¸Šæˆ–è€…é€ æˆç»æµæŸå¤±ä¸€ä¸‡å…ƒä»¥ä¸Šçš„ï¼› ï¼ˆå…­ï¼‰å…¶ä»–æƒ…èŠ‚ä¸¥é‡çš„æƒ…å½¢ã€‚ å®æ–½å‰æ¬¾è§„å®šè¡Œä¸ºï¼Œå…·æœ‰ä¸‹åˆ—æƒ…å½¢ä¹‹ä¸€çš„ï¼Œåº”å½“è®¤å®šä¸ºæä¾›ä¾µå…¥ã€éæ³•æ§åˆ¶è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿçš„ç¨‹åºã€å·¥å…·â€œæƒ…èŠ‚ç‰¹åˆ«ä¸¥é‡â€ï¼š ï¼ˆä¸€ï¼‰æ•°é‡æˆ–è€…æ•°é¢è¾¾åˆ°å‰æ¬¾ç¬¬ï¼ˆä¸€ï¼‰é¡¹è‡³ç¬¬ï¼ˆäº”ï¼‰é¡¹è§„å®šæ ‡å‡†äº”å€ä»¥ä¸Šçš„ï¼› ï¼ˆäºŒï¼‰å…¶ä»–æƒ…èŠ‚ç‰¹åˆ«ä¸¥é‡çš„æƒ…å½¢ã€‚ ç¬¬å››æ¡ ç ´åè®¡ç®—æœºä¿¡æ¯ç³»ç»ŸåŠŸèƒ½ã€æ•°æ®æˆ–è€…åº”ç”¨ç¨‹åºï¼Œå…·æœ‰ä¸‹åˆ—æƒ…å½¢ä¹‹ä¸€çš„ï¼Œåº”å½“è®¤å®šä¸ºåˆ‘æ³•ç¬¬äºŒç™¾å…«åå…­æ¡ç¬¬ä¸€æ¬¾å’Œç¬¬äºŒæ¬¾è§„å®šçš„â€œåæœä¸¥é‡â€ï¼š ï¼ˆä¸€ï¼‰é€ æˆåå°ä»¥ä¸Šè®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿçš„ä¸»è¦è½¯ä»¶æˆ–è€…ç¡¬ä»¶ä¸èƒ½æ­£å¸¸è¿è¡Œçš„ï¼› ï¼ˆäºŒï¼‰å¯¹äºŒåå°ä»¥ä¸Šè®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿä¸­å­˜å‚¨ã€å¤„ç†æˆ–è€…ä¼ è¾“çš„æ•°æ®è¿›è¡Œåˆ é™¤ã€ä¿®æ”¹ã€å¢åŠ æ“ä½œçš„ï¼› ï¼ˆä¸‰ï¼‰è¿æ³•æ‰€å¾—äº”åƒå…ƒä»¥ä¸Šæˆ–è€…é€ æˆç»æµæŸå¤±ä¸€ä¸‡å…ƒä»¥ä¸Šçš„ï¼› ï¼ˆå››ï¼‰é€ æˆä¸ºä¸€ç™¾å°ä»¥ä¸Šè®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿæä¾›åŸŸåè§£æã€èº«ä»½è®¤è¯ã€è®¡è´¹ç­‰åŸºç¡€æœåŠ¡æˆ–è€…ä¸ºä¸€ä¸‡ä»¥ä¸Šç”¨æˆ·æä¾›æœåŠ¡çš„è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿä¸èƒ½æ­£å¸¸è¿è¡Œç´¯è®¡ä¸€å°æ—¶ä»¥ä¸Šçš„ï¼› ï¼ˆäº”ï¼‰é€ æˆå…¶ä»–ä¸¥é‡åæœçš„ã€‚ å®æ–½å‰æ¬¾è§„å®šè¡Œä¸ºï¼Œå…·æœ‰ä¸‹åˆ—æƒ…å½¢ä¹‹ä¸€çš„ï¼Œåº”å½“è®¤å®šä¸ºç ´åè®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿâ€œåæœç‰¹åˆ«ä¸¥é‡â€ï¼š ï¼ˆä¸€ï¼‰æ•°é‡æˆ–è€…æ•°é¢è¾¾åˆ°å‰æ¬¾ç¬¬ï¼ˆä¸€ï¼‰é¡¹è‡³ç¬¬ï¼ˆä¸‰ï¼‰é¡¹è§„å®šæ ‡å‡†äº”å€ä»¥ä¸Šçš„ï¼› ï¼ˆäºŒï¼‰é€ æˆä¸ºäº”ç™¾å°ä»¥ä¸Šè®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿæä¾›åŸŸåè§£æã€èº«ä»½è®¤è¯ã€è®¡è´¹ç­‰åŸºç¡€æœåŠ¡æˆ–è€…ä¸ºäº”ä¸‡ä»¥ä¸Šç”¨æˆ·æä¾›æœåŠ¡çš„è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿä¸èƒ½æ­£å¸¸è¿è¡Œç´¯è®¡ä¸€å°æ—¶ä»¥ä¸Šçš„ï¼› ï¼ˆä¸‰ï¼‰ç ´åå›½å®¶æœºå…³æˆ–è€…é‡‘èã€ç”µä¿¡ã€äº¤é€šã€æ•™è‚²ã€åŒ»ç–—ã€èƒ½æºç­‰é¢†åŸŸæä¾›å…¬å…±æœåŠ¡çš„è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿçš„åŠŸèƒ½ã€æ•°æ®æˆ–è€…åº”ç”¨ç¨‹åºï¼Œè‡´ä½¿ç”Ÿäº§ã€ç”Ÿæ´»å—åˆ°ä¸¥é‡å½±å“æˆ–è€…é€ æˆæ¶åŠ£ç¤¾ä¼šå½±å“çš„ï¼› ï¼ˆå››ï¼‰é€ æˆå…¶ä»–ç‰¹åˆ«ä¸¥é‡åæœçš„ã€‚ ç¬¬äº”æ¡ å…·æœ‰ä¸‹åˆ—æƒ…å½¢ä¹‹ä¸€çš„ç¨‹åºï¼Œåº”å½“è®¤å®šä¸ºåˆ‘æ³•ç¬¬äºŒç™¾å…«åå…­æ¡ç¬¬ä¸‰æ¬¾è§„å®šçš„â€œè®¡ç®—æœºç—…æ¯’ç­‰ç ´åæ€§ç¨‹åºâ€ï¼š ï¼ˆä¸€ï¼‰èƒ½å¤Ÿé€šè¿‡ç½‘ç»œã€å­˜å‚¨ä»‹è´¨ã€æ–‡ä»¶ç­‰åª’ä»‹ï¼Œå°†è‡ªèº«çš„éƒ¨åˆ†ã€å…¨éƒ¨æˆ–è€…å˜ç§è¿›è¡Œå¤åˆ¶ã€ä¼ æ’­ï¼Œå¹¶ç ´åè®¡ç®—æœºç³»ç»ŸåŠŸèƒ½ã€æ•°æ®æˆ–è€…åº”ç”¨ç¨‹åºçš„ï¼› ï¼ˆäºŒï¼‰èƒ½å¤Ÿåœ¨é¢„å…ˆè®¾å®šæ¡ä»¶ä¸‹è‡ªåŠ¨è§¦å‘ï¼Œå¹¶ç ´åè®¡ç®—æœºç³»ç»ŸåŠŸèƒ½ã€æ•°æ®æˆ–è€…åº”ç”¨ç¨‹åºçš„ï¼› ï¼ˆä¸‰ï¼‰å…¶ä»–ä¸“é—¨è®¾è®¡ç”¨äºç ´åè®¡ç®—æœºç³»ç»ŸåŠŸèƒ½ã€æ•°æ®æˆ–è€…åº”ç”¨ç¨‹åºçš„ç¨‹åºã€‚ ç¬¬å…­æ¡ æ•…æ„åˆ¶ä½œã€ä¼ æ’­è®¡ç®—æœºç—…æ¯’ç­‰ç ´åæ€§ç¨‹åºï¼Œå½±å“è®¡ç®—æœºç³»ç»Ÿæ­£å¸¸è¿è¡Œï¼Œå…·æœ‰ä¸‹åˆ—æƒ…å½¢ä¹‹ä¸€çš„ï¼Œåº”å½“è®¤å®šä¸ºåˆ‘æ³•ç¬¬äºŒç™¾å…«åå…­æ¡ç¬¬ä¸‰æ¬¾è§„å®šçš„â€œåæœä¸¥é‡â€ï¼š ï¼ˆä¸€ï¼‰åˆ¶ä½œã€æä¾›ã€ä¼ è¾“ç¬¬äº”æ¡ç¬¬ï¼ˆä¸€ï¼‰é¡¹è§„å®šçš„ç¨‹åºï¼Œå¯¼è‡´è¯¥ç¨‹åºé€šè¿‡ç½‘ç»œã€å­˜å‚¨ä»‹è´¨ã€æ–‡ä»¶ç­‰åª’ä»‹ä¼ æ’­çš„ï¼› ï¼ˆäºŒï¼‰é€ æˆäºŒåå°ä»¥ä¸Šè®¡ç®—æœºç³»ç»Ÿè¢«æ¤å…¥ç¬¬äº”æ¡ç¬¬ï¼ˆäºŒï¼‰ã€ï¼ˆä¸‰ï¼‰é¡¹è§„å®šçš„ç¨‹åºçš„ï¼› ï¼ˆä¸‰ï¼‰æä¾›è®¡ç®—æœºç—…æ¯’ç­‰ç ´åæ€§ç¨‹åºåäººæ¬¡ä»¥ä¸Šçš„ï¼› ï¼ˆå››ï¼‰è¿æ³•æ‰€å¾—äº”åƒå…ƒä»¥ä¸Šæˆ–è€…é€ æˆç»æµæŸå¤±ä¸€ä¸‡å…ƒä»¥ä¸Šçš„ï¼› ï¼ˆäº”ï¼‰é€ æˆå…¶ä»–ä¸¥é‡åæœçš„ã€‚ å®æ–½å‰æ¬¾è§„å®šè¡Œä¸ºï¼Œå…·æœ‰ä¸‹åˆ—æƒ…å½¢ä¹‹ä¸€çš„ï¼Œåº”å½“è®¤å®šä¸ºç ´åè®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿâ€œåæœç‰¹åˆ«ä¸¥é‡â€ï¼š ï¼ˆä¸€ï¼‰åˆ¶ä½œã€æä¾›ã€ä¼ è¾“ç¬¬äº”æ¡ç¬¬ï¼ˆä¸€ï¼‰é¡¹è§„å®šçš„ç¨‹åºï¼Œå¯¼è‡´è¯¥ç¨‹åºé€šè¿‡ç½‘ç»œã€å­˜å‚¨ä»‹è´¨ã€æ–‡ä»¶ç­‰åª’ä»‹ä¼ æ’­ï¼Œè‡´ä½¿ç”Ÿäº§ã€ç”Ÿæ´»å—åˆ°ä¸¥é‡å½±å“æˆ–è€…é€ æˆæ¶åŠ£ç¤¾ä¼šå½±å“çš„ï¼› ï¼ˆäºŒï¼‰æ•°é‡æˆ–è€…æ•°é¢è¾¾åˆ°å‰æ¬¾ç¬¬ï¼ˆäºŒï¼‰é¡¹è‡³ç¬¬ï¼ˆå››ï¼‰é¡¹è§„å®šæ ‡å‡†äº”å€ä»¥ä¸Šçš„ï¼› ï¼ˆä¸‰ï¼‰é€ æˆå…¶ä»–ç‰¹åˆ«ä¸¥é‡åæœçš„ã€‚ ç¬¬ä¸ƒæ¡ æ˜çŸ¥æ˜¯éæ³•è·å–è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿæ•°æ®çŠ¯ç½ªæ‰€è·å–çš„æ•°æ®ã€éæ³•æ§åˆ¶è®¡ç®—æœºä¿¡æ¯ç³»ç»ŸçŠ¯ç½ªæ‰€è·å–çš„è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿæ§åˆ¶æƒï¼Œè€Œäºˆä»¥è½¬ç§»ã€æ”¶è´­ã€ä»£ä¸ºé”€å”®æˆ–è€…ä»¥å…¶ä»–æ–¹æ³•æ©é¥°ã€éšç’ï¼Œè¿æ³•æ‰€å¾—äº”åƒå…ƒä»¥ä¸Šçš„ï¼Œåº”å½“ä¾ç…§åˆ‘æ³•ç¬¬ä¸‰ç™¾ä¸€åäºŒæ¡ç¬¬ä¸€æ¬¾çš„è§„å®šï¼Œä»¥æ©é¥°ã€éšç’çŠ¯ç½ªæ‰€å¾—ç½ªå®šç½ªå¤„ç½šã€‚ å®æ–½å‰æ¬¾è§„å®šè¡Œä¸ºï¼Œè¿æ³•æ‰€å¾—äº”ä¸‡å…ƒä»¥ä¸Šçš„ï¼Œåº”å½“è®¤å®šä¸ºåˆ‘æ³•ç¬¬ä¸‰ç™¾ä¸€åäºŒæ¡ç¬¬ä¸€æ¬¾è§„å®šçš„â€œæƒ…èŠ‚ä¸¥é‡â€ã€‚ å•ä½å®æ–½ç¬¬ä¸€æ¬¾è§„å®šè¡Œä¸ºçš„ï¼Œå®šç½ªé‡åˆ‘æ ‡å‡†ä¾ç…§ç¬¬ä¸€æ¬¾ã€ç¬¬äºŒæ¬¾çš„è§„å®šæ‰§è¡Œã€‚ ç¬¬å…«æ¡ ä»¥å•ä½åä¹‰æˆ–è€…å•ä½å½¢å¼å®æ–½å±å®³è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿå®‰å…¨çŠ¯ç½ªï¼Œè¾¾åˆ°æœ¬è§£é‡Šè§„å®šçš„å®šç½ªé‡åˆ‘æ ‡å‡†çš„ï¼Œåº”å½“ä¾ç…§åˆ‘æ³•ç¬¬äºŒç™¾å…«åäº”æ¡ã€ç¬¬äºŒç™¾å…«åå…­æ¡çš„è§„å®šè¿½ç©¶ç›´æ¥è´Ÿè´£çš„ä¸»ç®¡äººå‘˜å’Œå…¶ä»–ç›´æ¥è´£ä»»äººå‘˜çš„åˆ‘äº‹è´£ä»»ã€‚ ç¬¬ä¹æ¡ æ˜çŸ¥ä»–äººå®æ–½åˆ‘æ³•ç¬¬äºŒç™¾å…«åäº”æ¡ã€ç¬¬äºŒç™¾å…«åå…­æ¡è§„å®šçš„è¡Œä¸ºï¼Œå…·æœ‰ä¸‹åˆ—æƒ…å½¢ä¹‹ä¸€çš„ï¼Œåº”å½“è®¤å®šä¸ºå…±åŒçŠ¯ç½ªï¼Œä¾ç…§åˆ‘æ³•ç¬¬äºŒç™¾å…«åäº”æ¡ã€ç¬¬äºŒç™¾å…«åå…­æ¡çš„è§„å®šå¤„ç½šï¼š ï¼ˆä¸€ï¼‰ä¸ºå…¶æä¾›ç”¨äºç ´åè®¡ç®—æœºä¿¡æ¯ç³»ç»ŸåŠŸèƒ½ã€æ•°æ®æˆ–è€…åº”ç”¨ç¨‹åºçš„ç¨‹åºã€å·¥å…·ï¼Œè¿æ³•æ‰€å¾—äº”åƒå…ƒä»¥ä¸Šæˆ–è€…æä¾›åäººæ¬¡ä»¥ä¸Šçš„ï¼› ï¼ˆäºŒï¼‰ä¸ºå…¶æä¾›äº’è”ç½‘æ¥å…¥ã€æœåŠ¡å™¨æ‰˜ç®¡ã€ç½‘ç»œå­˜å‚¨ç©ºé—´ã€é€šè®¯ä¼ è¾“é€šé“ã€è´¹ç”¨ç»“ç®—ã€äº¤æ˜“æœåŠ¡ã€å¹¿å‘ŠæœåŠ¡ã€æŠ€æœ¯åŸ¹è®­ã€æŠ€æœ¯æ”¯æŒç­‰å¸®åŠ©ï¼Œè¿æ³•æ‰€å¾—äº”åƒå…ƒä»¥ä¸Šçš„ï¼› ï¼ˆä¸‰ï¼‰é€šè¿‡å§”æ‰˜æ¨å¹¿è½¯ä»¶ã€æŠ•æ”¾å¹¿å‘Šç­‰æ–¹å¼å‘å…¶æä¾›èµ„é‡‘äº”åƒå…ƒä»¥ä¸Šçš„ã€‚ å®æ–½å‰æ¬¾è§„å®šè¡Œä¸ºï¼Œæ•°é‡æˆ–è€…æ•°é¢è¾¾åˆ°å‰æ¬¾è§„å®šæ ‡å‡†äº”å€ä»¥ä¸Šçš„ï¼Œåº”å½“è®¤å®šä¸ºåˆ‘æ³•ç¬¬äºŒç™¾å…«åäº”æ¡ã€ç¬¬äºŒç™¾å…«åå…­æ¡è§„å®šçš„â€œæƒ…èŠ‚ç‰¹åˆ«ä¸¥é‡â€æˆ–è€…â€œåæœç‰¹åˆ«ä¸¥é‡â€ã€‚ ç¬¬åæ¡ å¯¹äºæ˜¯å¦å±äºåˆ‘æ³•ç¬¬äºŒç™¾å…«åäº”æ¡ã€ç¬¬äºŒç™¾å…«åå…­æ¡è§„å®šçš„â€œå›½å®¶äº‹åŠ¡ã€å›½é˜²å»ºè®¾ã€å°–ç«¯ç§‘å­¦æŠ€æœ¯é¢†åŸŸçš„è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿâ€ã€â€œä¸“é—¨ç”¨äºä¾µå…¥ã€éæ³•æ§åˆ¶è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿçš„ç¨‹åºã€å·¥å…·â€ã€â€œè®¡ç®—æœºç—…æ¯’ç­‰ç ´åæ€§ç¨‹åºâ€éš¾ä»¥ç¡®å®šçš„ï¼Œåº”å½“å§”æ‰˜çœçº§ä»¥ä¸Šè´Ÿè´£è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿå®‰å…¨ä¿æŠ¤ç®¡ç†å·¥ä½œçš„éƒ¨é—¨æ£€éªŒã€‚å¸æ³•æœºå…³æ ¹æ®æ£€éªŒç»“è®ºï¼Œå¹¶ç»“åˆæ¡ˆä»¶å…·ä½“æƒ…å†µè®¤å®šã€‚ ç¬¬åä¸€æ¡ æœ¬è§£é‡Šæ‰€ç§°â€œè®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿâ€å’Œâ€œè®¡ç®—æœºç³»ç»Ÿâ€ï¼Œæ˜¯æŒ‡å…·å¤‡è‡ªåŠ¨å¤„ç†æ•°æ®åŠŸèƒ½çš„ç³»ç»Ÿï¼ŒåŒ…æ‹¬è®¡ç®—æœºã€ç½‘ç»œè®¾å¤‡ã€é€šä¿¡è®¾å¤‡ã€è‡ªåŠ¨åŒ–æ§åˆ¶è®¾å¤‡ç­‰ã€‚ æœ¬è§£é‡Šæ‰€ç§°â€œèº«ä»½è®¤è¯ä¿¡æ¯â€ï¼Œæ˜¯æŒ‡ç”¨äºç¡®è®¤ç”¨æˆ·åœ¨è®¡ç®—æœºä¿¡æ¯ç³»ç»Ÿä¸Šæ“ä½œæƒé™çš„æ•°æ®ï¼ŒåŒ…æ‹¬è´¦å·ã€å£ä»¤ã€å¯†ç ã€æ•°å­—è¯ä¹¦ç­‰ã€‚ æœ¬è§£é‡Šæ‰€ç§°â€œç»æµæŸå¤±â€ï¼ŒåŒ…æ‹¬å±å®³è®¡ç®—æœºä¿¡æ¯ç³»ç»ŸçŠ¯ç½ªè¡Œä¸ºç»™ç”¨æˆ·ç›´æ¥é€ æˆçš„ç»æµæŸå¤±ï¼Œä»¥åŠç”¨æˆ·ä¸ºæ¢å¤æ•°æ®ã€åŠŸèƒ½è€Œæ”¯å‡ºçš„å¿…è¦è´¹ç”¨ã€‚","categories":[{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","permalink":"http://fightinggg.github.io/indigo/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"}],"tags":[]},{"title":"ç ´åä¹‹ç‹ï¼šDDOSæ”»å‡»ä¸é˜²èŒƒæ·±åº¦å‰–æ","slug":"è®¡ç®—æœºç½‘ç»œ/ç ´åä¹‹ç‹ï¼šDDOSæ”»å‡»ä¸é˜²èŒƒæ·±åº¦å‰–æ/index","date":"2021-09-06T13:41:00.000Z","updated":"2021-09-06T13:41:00.000Z","comments":true,"path":"QZ0M0C.html","link":"","permalink":"http://fightinggg.github.io/indigo/QZ0M0C.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 1. ç¬”è€…åºè¿™ç¯‡Blogè®°å½•äº†ç¬”è€…å¯¹ã€Šç ´åä¹‹ç‹ï¼š DDoSæ”»å‡»ä¸é˜²èŒƒæ·±åº¦å‰–æã€‹çš„å­¦ä¹ è®°å½•ï¼Œè´¡çŒ®å‡ºæ¥å’Œå¤§å®¶ä¸€èµ·å­¦ä¹ ã€‚ ä¸ºä»€ä¹ˆå­¦è¿™ä¸ªï¼Œç¬”è€…çš„æœåŠ¡åœ¨2021å¹´9æœˆ4æ—¥æ™šä¸Šé­å—äº†æƒ¨é‡çš„DDoSæ”»å‡»ï¼Œæ”»å‡»è€…ä½¿ç”¨äº†100å¤šå°è‚‰é¸¡ï¼Œå¯¹ç¬”è€…å¯¹æœåŠ¡è¿›è¡Œäº†æŒç»­çš„CCæ”»å‡»ï¼Œæœ€ç»ˆå¯¼è‡´äº§ç”Ÿäº†18TBçš„æµé‡ï¼Œè¿™éƒ¨åˆ†è´¹ç”¨æ€»è®¡é«˜è¾¾4000å…ƒäººæ°‘å¸ï¼Œå½“ç„¶åœ¨è…¾è®¯å·¥ä½œäººå‘˜çš„ç§¯æå¸®åŠ©ä¸‹ï¼Œå¯¹è¿™ç¬”è´¹ç”¨è¿›è¡Œäº†å¤„ç†ï¼Œç¬”è€…ä¹Ÿä¸ç”¨å¯¹è¿™äº›è´¹ç”¨è¿›è¡Œæ”¯ä»˜ï¼Œæ‰€ä»¥ç¬”è€…åœ¨æ­¤ç”±è¡·åœ°æ„Ÿè°¢è…¾è®¯äº‘å›¢é˜Ÿï¼Œå¦å¤–ä¹Ÿæ„Ÿè°¢ç¬”è€…çš„å¤§å­¦å®¤å‹ï¼Œè°¢è°¢ä½ ä»¬çš„å¸®åŠ©ã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 1. ç¬”è€…åºè¿™ç¯‡Blogè®°å½•äº†ç¬”è€…å¯¹ã€Šç ´åä¹‹ç‹ï¼š DDoSæ”»å‡»ä¸é˜²èŒƒæ·±åº¦å‰–æã€‹çš„å­¦ä¹ è®°å½•ï¼Œè´¡çŒ®å‡ºæ¥å’Œå¤§å®¶ä¸€èµ·å­¦ä¹ ã€‚ ä¸ºä»€ä¹ˆå­¦è¿™ä¸ªï¼Œç¬”è€…çš„æœåŠ¡åœ¨2021å¹´9æœˆ4æ—¥æ™šä¸Šé­å—äº†æƒ¨é‡çš„DDoSæ”»å‡»ï¼Œæ”»å‡»è€…ä½¿ç”¨äº†100å¤šå°è‚‰é¸¡ï¼Œå¯¹ç¬”è€…å¯¹æœåŠ¡è¿›è¡Œäº†æŒç»­çš„CCæ”»å‡»ï¼Œæœ€ç»ˆå¯¼è‡´äº§ç”Ÿäº†18TBçš„æµé‡ï¼Œè¿™éƒ¨åˆ†è´¹ç”¨æ€»è®¡é«˜è¾¾4000å…ƒäººæ°‘å¸ï¼Œå½“ç„¶åœ¨è…¾è®¯å·¥ä½œäººå‘˜çš„ç§¯æå¸®åŠ©ä¸‹ï¼Œå¯¹è¿™ç¬”è´¹ç”¨è¿›è¡Œäº†å¤„ç†ï¼Œç¬”è€…ä¹Ÿä¸ç”¨å¯¹è¿™äº›è´¹ç”¨è¿›è¡Œæ”¯ä»˜ï¼Œæ‰€ä»¥ç¬”è€…åœ¨æ­¤ç”±è¡·åœ°æ„Ÿè°¢è…¾è®¯äº‘å›¢é˜Ÿï¼Œå¦å¤–ä¹Ÿæ„Ÿè°¢ç¬”è€…çš„å¤§å­¦å®¤å‹ï¼Œè°¢è°¢ä½ ä»¬çš„å¸®åŠ©ã€‚ 2. DDoSæ”»å‡»çš„æ¥æº2.1. åƒµå°¸ç¨‹åºä¸åƒµå°¸ç½‘ç»œåƒµå°¸ç¨‹åºå°±æ˜¯å¯ä»¥æ§åˆ¶è®¡ç®—æœºçš„ä¸€äº›ç¨‹åºï¼Œè¿™äº›ç¨‹åºä¸ä¸€å®šæ˜¯æ¶æ„çš„ã€‚åƒµå°¸ç¨‹åºå¯ä»¥è‡ªå‘æ€§çš„è¿›è¡Œä¼ æ’­ï¼Œé«˜åº¦å¯æ§ï¼Œä¸”è‡ªå¸¦åŠ å¯†ã€‚ ç”±åˆ†å¸ƒåœ¨å¤§é¢ç§¯è®¡ç®—æœºä¸Šçš„åƒµå°¸ç¨‹åºç»„åˆåœ¨ä¸€èµ·æ‰€å½¢æˆçš„å¤§å‹ç½‘ç»œã€‚åƒµå°¸ä¸»äººå¯ä»¥æ§åˆ¶æ•´ä¸ªåƒµå°¸ç½‘ç»œã€‚ åƒµå°¸ç½‘ç»œçš„å¦ä¸€ä¸ªç‰¹ç‚¹æ˜¯ï¼Œæ§åˆ¶è€…åœ¨å‘å¸ƒæŒ‡ä»¤åï¼Œå°±å¯ä»¥æ–­å¼€ä¸åƒµå°¸ç½‘ç»œçš„è¿æ¥ã€‚ä¹‹åï¼Œæ§åˆ¶æŒ‡ä»¤ä¼šåœ¨åƒµå°¸ç¨‹åºä¹‹é—´è‡ªè¡Œä¼ æ’­å’Œæ‰§è¡Œã€‚å› æ­¤ï¼Œåƒµå°¸ä¸»æœºèƒ½å¤Ÿåœ¨æ§åˆ¶è€…å¾ˆå°‘æˆ–ä¸æ’æ‰‹çš„æƒ…å†µä¸‹ååŒåˆä½œï¼Œå…±åŒå®Œæˆä¸€é¡¹ä»»åŠ¡ã€‚ 2.2. åƒµå°¸ç½‘ç»œçš„ç»„å»º æ„ŸæŸ“ä¼ æ’­ï¼Œåƒµå°¸ç¨‹åºçš„æ„ŸæŸ“æ‰‹æ®µå’Œè •è™«ã€æœ¨é©¬ç­‰æ— å·®åˆ«ã€‚ å®‰è£…æ‰§è¡Œï¼Œ åƒµå°¸ç¨‹åºä¼šè¿›è¡Œè‡ªæˆ‘å¤åˆ¶ï¼Œå¼€æœºè‡ªå¯ï¼Œéšè—è‡ªèº«ã€‚ æ¥å…¥åƒµå°¸ç½‘ç»œï¼Œ å½“åƒµå°¸ç¨‹åºå®‰è£…å¹¶éšè—ä»¥åï¼Œå°±ä¼šæ„å»ºC&amp;Cé€šé“åŠ å…¥åƒµå°¸ç½‘ç»œã€‚ å‘½ä»¤æ‰§è¡Œï¼Œæ¥å…¥åƒµå°¸ç½‘ç»œçš„åƒµå°¸ç¨‹åºå°±å¼€å§‹æ‰§è¡Œåƒµå°¸ä¸»äººçš„æŒ‡ä»¤ï¼Œæˆ–è€…å‘åƒµå°¸ä¸»äººå‘é€å¿ƒè·³ä»¥ç­‰å¾…åƒµå°¸ä¸»äººçš„å‘½ä»¤ã€‚ 2.3. åƒµå°¸ç½‘ç»œçš„ç±»å‹2.3.1. IRCå‹åƒµå°¸ç½‘ç»œåƒµå°¸ç½‘ç»œçš„æ‹“æ‰‘å›¾å¦‚ä¸‹ï¼Œåƒµå°¸ä¸»äººå’ŒC&amp;CæœåŠ¡å™¨è¿›è¡Œé€šä¿¡ï¼Œåƒµå°¸ç½‘ç»œå’ŒC&amp;CæœåŠ¡å™¨è¿›è¡Œé€šä¿¡ã€‚åƒµå°¸ä¸»äººå‘C&amp;CæœåŠ¡ä¸‹å‘æŒ‡ä»¤ï¼ŒC&amp;CæœåŠ¡å™¨å‘åƒµå°¸ç½‘ç»œä¸‹å‘æŒ‡ä»¤ã€‚ å½“ç„¶å‘¢è¿™ä¸ªæ¶æ„æœ‰å¾ˆå¤šé—®é¢˜ï¼Œé¦–å…ˆC&amp;CæœåŠ¡å™¨å­˜åœ¨å•ç‚¹æ•…éšœé—®é¢˜ï¼Œç„¶åé˜²å¾¡è€…å¯ä»¥ä¼ªè£…æˆIRCåƒµå°¸ç½‘ç»œçš„ä¸€å‘˜ï¼Œä»è€Œç›‘æ§æ•´ä¸ªåƒµå°¸ç½‘ç»œã€‚ 2.3.2. HTTPå‹åƒµå°¸ç½‘ç»œHTTPå‹åƒµå°¸ç½‘ç»œçš„æ‹“æ‰‘å¦‚ä¸‹ï¼Œå¯¹äºIRCå‹åƒµå°¸ç½‘ç»œï¼ŒHTTPå‹å¯ä»¥é€‰æ‹©æ›´å¤šçš„é€šä¿¡ç«¯å£ï¼ˆIRCé€šä¿¡ç«¯å£æ˜¯å›ºå®šçš„ï¼‰ï¼Œ å¦å¤–åƒµå°¸ç½‘ç»œçš„æ§åˆ¶æµé‡ï¼ˆå¿ƒè·³ï¼‰ä¼šæ·¹æ²¡åœ¨å¤§é‡çš„WEBé€šä¿¡ä¸­ã€‚ 2.3.3. P2På‹åƒµå°¸ç½‘ç»œP2På‹åƒµå°¸ç½‘ç»œæœ‰äº†å¾ˆå¤§çš„æå‡ï¼Œé¦–å…ˆC&amp;CæœåŠ¡å™¨ä¸å†å­˜åœ¨å•ç‚¹æ•…éšœé—®é¢˜ï¼ŒP2Påè®®ä¹Ÿæ²¡æœ‰ä»€ä¹ˆç‰¹å¾ï¼Œå¾ˆéš¾å‘ç°åƒµå°¸ç½‘ç»œçš„è¸ªè¿¹ã€‚ P2På‹åƒµå°¸ç½‘ç»œä¸­æœ‰4ä¸ªè§’è‰²ï¼Œåƒµå°¸ä¸»äººï¼ŒC&amp;CæœåŠ¡å™¨ï¼ŒServentæœåŠ¡å™¨ï¼ŒClientæœåŠ¡å™¨ã€‚ ServentæœåŠ¡å™¨ä¸»è¦è´Ÿè´£æ‰§è¡ŒæŒ‡ä»¤å’Œåˆ†å‘æŒ‡ä»¤ï¼Œå› ä¸ºä»–ä»¬å…·æœ‰å…¬ç½‘IP ClientæœåŠ¡å™¨ä¸»è¦è´Ÿè´£æ‰§è¡ŒæŒ‡ä»¤ã€‚ ä¸»è¦ä»‹ç»ä¸€ä¸‹åŠåˆ†å¸ƒå¼P2Påƒµå°¸ç½‘ç»œï¼ŒServentä¼šç»´æŠ¤ä¸€ä¸ªæœ‰é™çš„é“¾è¡¨ï¼Œå…¶ä¸­å†™ç€å…¶ä»–Serventçš„IP åœ¨Serventè¢«æ„ŸæŸ“æ—¶ï¼Œéœ€è¦æ”»å‡»è€…å°†é€šè¿‡ç¡¬ç¼–ç çš„æ–¹å¼å°†ä¸€éƒ¨åˆ†å…¶ä»–Serventçš„IPå†™å…¥ï¼Œå½“Serventå¯åŠ¨ä»¥åï¼Œä¼šå»è¿æ¥è‡ªå·±å·²çŸ¥çš„Serventï¼Œå¹¶å°†ä»–ä»¬æ‰€çŸ¥é“çš„å…¶ä»–çš„Serventå†™å…¥è‡ªå·±çš„é“¾è¡¨ï¼Œå½“é“¾è¡¨æ»¡äº†çš„æ—¶å€™ï¼Œä¼šç›´æ¥è¦†ç›–æœ€è€çš„IPï¼Œè¿™æ ·å¯ä»¥ä¿è¯é“¾è¡¨ä¸­éƒ½æ˜¯æ¯”è¾ƒæ–°çš„IPã€‚ è¿™æœ‰ç‚¹åƒIPåè®®äº†ï¼ŒIPåè®®ä¸­æ¯å°æœºå™¨éƒ½æ²¡æœ‰å…¨å±€è·¯ç”±è¡¨ï¼Œä½†æ˜¯ä»–ä»¬å¯ä»¥é€šè¿‡å±€éƒ¨è·¯ç”±è¡¨å®ç°æ‰€æœ‰çš„å¯»è·¯åŠŸèƒ½ã€‚ å½“åƒµå°¸ä¸»äººä¸‹å‘æŒ‡ä»¤çš„æ—¶å€™ï¼Œæœ‰C&amp;CæœåŠ¡å™¨ä¸‹å‘ï¼Œè¿›è€ŒServentäº’ç›¸ä¸‹å‘ï¼ˆé‡å¤åˆ™ä¸¢å¼ƒï¼‰ï¼Œæœ€ååˆ°Client è¿™æ ·çš„æ¶æ„ï¼Œå¦‚æœä¸€ä¸ªåƒµå°¸èŠ‚ç‚¹è¢«æ•è·ï¼Œä¹Ÿæ— æ³•çª¥æ¢æ•´ä¸ªåƒµå°¸ç½‘ç»œçš„å…¨è²Œï¼Œå°±æ˜¯ä¸€äº›åƒµå°¸ä¸»æœºè¢«å°æ€ï¼Œä¹Ÿä¸ä¼šå½±å“åˆ°åƒµå°¸ç½‘ç»œã€‚è¿™å°±æ˜¯é›†ç¾¤ã€‚ 2.4. åƒµå°¸ç½‘ç»œçš„ç”¨é€”DDoSã€å‘åƒåœ¾é‚®ä»¶ã€çªƒå–éšç§ã€æŠ¢å ç³»ç»Ÿèµ„æºï¼ˆæŒ–çŸ¿ï¼‰ 3. DDoSæ”»å‡»çš„æ–¹æ³•3.1. æ”»å‡»ç½‘ç»œèµ„æºæ”»å‡»ç½‘ç»œèµ„æºï¼Œæ˜¯å¯¹è¢«æ”»å‡»è€…çš„ç½‘ç»œæœåŠ¡è¿›è¡Œæ”»å‡»ï¼Œè¿™äº›æ”»å‡»ä¼šå¯¼è‡´ç”¨æˆ·çš„è¯·æ±‚å°†åœ¨åˆ°è¾¾è¢«æ”»å‡»è€…çš„ä¸šåŠ¡å¤„ç†å‰å°±è¢«æ‹’ç»ã€‚ 3.1.1. ç›´æ¥æ”»å‡»ä½¿ç”¨åƒµå°¸ç½‘ç»œå‘è¢«æ”»å‡»è€…å‘é€å¤§é‡çš„ç½‘ç»œæ•°æ®åŒ…ï¼Œä»¥å æ»¡ç›®æ ‡çš„å¸¦å®½ï¼Œä»è€Œè¾¾åˆ°æ‹’ç»æœåŠ¡çš„æ•ˆæœã€‚ è¿™äº›æ”»å‡»æ‰‹æ®µä¸»è¦åŒ…æ‹¬ICMP&#x2F;IGMPæ´ªæ°´æ”»å‡»å’ŒUDPæ´ªæ°´æ”»å‡»ä¸¤ç§ã€‚ 12graph LR åƒµå°¸ç½‘ç»œ --&quot;å‘é€ICMP/IGMP/UDPåŒ…&quot; --&gt; è¢«æ”»å‡»è€… åœ¨ICMPæ´ªæ°´æ”»å‡»ä¸­ï¼Œç›´æ¥å‘é€å¤§é‡ICMPåŒ… åœ¨IGMPæ´ªæ°´æ”»å‡»ä¸­ï¼Œç›´æ¥å‘é€å¤§é‡IGMPåŒ… åœ¨UDPæ´ªæ°´æ”»å‡»ä¸­ï¼Œå› ä¸ºUDPåŒ…çš„å¤§å°æ˜¯ä¸å›ºå®šçš„ï¼Œæ‰€ä»¥åˆ†ä¸ºå°åŒ…å’Œå¤§åŒ…æ”»å‡»ï¼Œå°åŒ…æ”»å‡»æŒ‡çš„æ˜¯ä½¿ç”¨64å­—èŠ‚ï¼ˆä»¥å¤ªç½‘ä¸Šä¼ è¾“çš„æœ€å°æ•°æ®å¸§ï¼‰çš„æ•°æ®åŒ…ï¼Œå°åŒ…æ”»å‡»å°†å¯¼è‡´å„ç§ç½‘ç»œè®¾å¤‡å¯¹æ•°æ®åŒ…è¿›è¡Œæ£€æŸ¥ã€æ ¡éªŒï¼Œè¿™ç›´æ¥æ¶ˆè€—äº†åŸºç¡€ç½‘ç»œè®¾å¤‡çš„å¤„ç†èƒ½åŠ›ã€‚å¤§åŒ…æ”»å‡»æŒ‡çš„æ˜¯ä½¿ç”¨1500å­—èŠ‚çš„æ•°æ®åŒ…ï¼Œè¿™ä¸ªå¤§å°å°†å¯¼è‡´UPDåŒ…è¢«ç½‘ç»œè®¾å¤‡è¿›è¡Œåˆ†ç‰‡é‡ç»„ï¼Œä¹Ÿæ¶ˆè€—äº†åŸºç¡€ç½‘ç»œè®¾å¤‡çš„å¤„ç†èƒ½åŠ›ã€‚ 3.1.2. åå°„å’Œæ”¾å¤§æ”»å‡»åå°„çš„åŸç†ä¸»è¦æ˜¯ä¾é IPæ¬ºéª—ï¼Œåˆ©ç”¨ä¸€äº›ç½‘ç»œåè®®ä¸­çš„åº”ç­”æ•°æ®åŒ…æ¥å®æ–½æ”»å‡»ã€‚ 12graph LR åƒµå°¸ç½‘ç»œ --å‘é€ä¸€äº›ç½‘ç»œåè®®çš„è¯·æ±‚åŒ…&lt;br&gt;å¹¶è¿›è¡ŒIPæ¬ºéª—--&gt; åå°„å™¨ --äº§ç”Ÿåº”ç­”æ¶ˆæ¯--&gt; è¢«æ”»å‡»è€… &#x2F;&#x2F; TODO å¼€Blogä»‹ç»NTPåè®®ï¼Œä»‹ç»DNSåè®®, ä»‹ç»SNMPåè®® ACKåå°„æ”»å‡»ï¼Œç›´æ¥ä½œç”¨äºTCPåè®®ï¼Œå‘é€SYNæ¶ˆæ¯ï¼Œåå°„å™¨å°±å‘è¢«æ”»å‡»è€…å‘é€äº†ACKåº”ç­”ã€‚ DNSæ”¾å¤§æ”»å‡»ï¼Œä½œç”¨äºDNSåè®®ï¼Œåƒµå°¸ç½‘ç»œå‘é€digæŸ¥è¯¢å‘½ä»¤ï¼ŒDNSæœåŠ¡å™¨å°±å‘è¢«æ”»å‡»è€…äº§ç”Ÿäº†åº”ç­”ï¼Œç”±äºDNSçš„åº”ç­”æ•°æ®åŒ…è¦æ¯”è¯·æ±‚åŒ…å¤§ï¼Œæ‰€ä»¥åƒµå°¸ç½‘ç»œçš„æµé‡å°†è¢«DNSæœåŠ¡å™¨è¿›è¡Œæ”¾å¤§ï¼Œè¿™ä¸ªå€ç‡ä¸€èˆ¬ä¸º2-10å€ NTPæ”¾å¤§æ”»å‡»ï¼Œåƒµå°¸ç½‘ç»œå‘é€monlistè¯·æ±‚ï¼ŒNTPæœåŠ¡å™¨äº§ç”Ÿçš„åº”ç­”æ•°æ®åŒ…è¦æ¯”è¯·æ±‚å¤§700å€ï¼Œè¿™å°†å¯¼è‡´ä¸€æ¬¡éå¸¸ææ€–çš„è¢­å‡»ã€‚ SNMPæ”¾å¤§æ”»å‡»ï¼ŒåŒä¸Š 3.1.3. æ”»å‡»é“¾è·¯é“¾è·¯å±‚æ”»å‡»æŒ‡çš„æ˜¯å ç”¨é“¾è·¯èµ„æºï¼Œç›´æ¥å¯¼è‡´è¢«æ”»å‡»è€…çš„ç½‘ç»œæ‹¥å µã€‚ 12graph LR a[&quot;åƒµå°¸ç½‘ç»œ&quot;] --å¤§é‡çš„æ•°æ®--&gt; b[&quot;åƒµå°¸ç½‘ç»œ&quot;] é€šå¸¸å°†åƒµå°¸ç½‘ç»œåˆ†ä¸ºä¸¤ç»„ï¼Œå…¶ä¸­ä¸€ç»„å‘å¦ä¸€ç»„å‘é€å¤§é‡çš„æ•°æ®åŒ…ï¼Œè¿™äº›æ•°æ®åŒ…éƒ½ä¼šé€”å¾„ç”¨æˆ·åˆ°è¢«æ”»å‡»è€…çš„é“¾è·¯ï¼Œå¯¼è‡´ç”¨æˆ·åˆ°è¢«æ”»å‡»è€…çš„é“¾è·¯è¢«é˜»å¡ï¼Œäº§ç”Ÿäº†æ‹’ç»æœåŠ¡ã€‚ åˆ†ç»„é€šå¸¸ä½¿ç”¨tracerouteå·¥å…·æ¥å®Œæˆã€‚ 3.2. æ”»å‡»ç³»ç»Ÿèµ„æºäºæ”»å‡»ç½‘ç»œèµ„æºä¸åŒï¼Œæ”»å‡»ç³»ç»Ÿèµ„æºå¾€å¾€ä¸“æ³¨äºå¯¹è¢«æ”»å‡»è€…çš„æœåŠ¡å™¨æ€§èƒ½çš„æ¶ˆè€—ï¼Œé€šè¿‡å ç”¨æœåŠ¡å™¨èµ„æºæ¥è¾¾åˆ°æ‹’ç»æœåŠ¡çš„ç›®çš„ã€‚ 3.2.1. æ”»å‡»TCPè¿æ¥&#x2F;&#x2F; TODO å¼€Blogä»‹ç»TCPåè®® TCPè¿æ¥æ´ªæ°´æ”»å‡» åƒµå°¸ç½‘ç»œä¸­çš„å¤§é‡å—æ§ä¸»æœºå‘è¢«æ”»å‡»è€…å‘èµ·å¤§é‡çš„TCPè¿æ¥ï¼Œå¹¶å®Œæˆä¸‰æ¬¡æ¡æ‰‹ï¼ˆæ¯å°ä¸»æœºéƒ½å‘èµ·å¤§é‡çš„TCPè¿æ¥ï¼‰ï¼Œè¢«æ”»å‡»è€…åœ¨TCPè¿æ¥è¡¨ä¸­ç»´æŠ¤TCPè¿æ¥ï¼Œåƒµå°¸ç½‘ç»œä¸­çš„TCPè¿æ¥å æ»¡äº†è¢«æ”»å‡»è€…çš„è¿æ¥è¡¨ï¼Œæœ€åç”¨æˆ·æ— æ³•å»ºç«‹TCPè¿æ¥ï¼Œäº§ç”Ÿäº†æ‹’ç»æœåŠ¡ã€‚ img SYNæ´ªæ°´æ”»å‡» ç”±äºTCPè¿æ¥å»ºç«‹çš„æ—¶å€™éœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Œä¸”TCPé‡‡ç”¨ACKæœºåˆ¶ï¼Œå¦‚æœå—æ§ä¸»æœºåœ¨è¿›è¡ŒTCPæ¡æ‰‹çš„æ—¶å€™ï¼Œåªå‘é€ä¸€ä¸ªSYNï¼Œç„¶åå¿½ç•¥æ‰æœåŠ¡ç«¯è¿”å›çš„SYN+ACK,é‚£ä¹ˆè¿™å°†å¯¼è‡´æœåŠ¡å™¨è®¤ä¸ºè¿™æ¬¡ç­”å¤äº§ç”Ÿäº†ä¸¢åŒ…ï¼Œè€Œä¸æ–­è¿›è¡Œé‡å‘ï¼Œæœ€ç»ˆæœåŠ¡å™¨çš„èµ„æºè¢«æ¶ˆè€—ï¼Œå¯¼è‡´äº†æ‹’ç»æœåŠ¡ã€‚ å½“ç„¶SYNæ´ªæ°´æ”»å‡»ä¹Ÿå¯ä»¥ä¼ªè£…IPï¼Œä»è€Œè¾¾åˆ°éšè—çš„æ•ˆæœã€‚ img PSH+ACKæ´ªæ°´æ”»å‡» ç”±äºå¸¦æœ‰PSHæ ‡å¿—ä½çš„TCPæ•°æ®åŒ…ä¼šå¼ºåˆ¶è¦æ±‚æ¥æ”¶ç«¯å°†æ¥æ”¶ç¼“å†²åŒºæ¸…ç©ºå¹¶å°†æ•°æ®æäº¤ç»™åº”ç”¨æœåŠ¡è¿›è¡Œå¤„ç†ï¼Œå› æ­¤å½“æ”»å‡»è€…åˆ©ç”¨å—æ§ä¸»æœºå‘æ”»å‡»ç›®æ ‡å‘é€å¤§é‡çš„PSH+ACKæ•°æ®åŒ…æ—¶ï¼Œè¢«æ”»å‡»ç›®æ ‡å°±ä¼šæ¶ˆè€—å¤§é‡çš„ç³»ç»Ÿèµ„æºä¸æ–­åœ°è¿›è¡Œæ¥æ”¶ç¼“å†²åŒºçš„æ¸…ç©ºå¤„ç†ï¼Œå¯¼è‡´æ— æ³•æ­£å¸¸å¤„ç†æ•°æ®ï¼Œä»è€Œé€ æˆæ‹’ç»æœåŠ¡ img RSTæ´ªæ°´æ”»å‡» RSTæ´ªæ°´æ”»å‡»æ¯”è¾ƒæœ‰æ„æ€ï¼Œåƒµå°¸ç½‘ç»œä¸­çš„ä¸»æœºå¯ä»¥å…³é—­æ­£å¸¸ç”¨æˆ·ä¸æœåŠ¡å™¨çš„è¿æ¥ã€‚ åœ¨TCPè¿æ¥ä¸­ï¼ŒTCPæŒ¥æ‰‹çš„æ—¶å€™æœ‰å¥½å‡ ç§æƒ…å†µï¼ˆä¸è¦ä»¥ä¸ºä¸€å®šæ˜¯å››æ¬¡æŒ¥æ‰‹ï¼‰ï¼Œå…¶ä¸­å¦‚æœå‘ç”Ÿäº†å¼‚å¸¸ï¼Œåˆ™å‘é€RSTæŠ¥æ–‡ï¼Œå‘é€ç«¯æ­¤æ—¶ä¸éœ€è¦ç­‰å¾…ç¼“å†²åŒºçš„æ•°æ®å…¨éƒ¨å‘é€å®Œæ¯•ï¼Œè€Œæ˜¯ç›´æ¥ä¸¢å¼ƒå®ƒä»¬ï¼Œç„¶åå…³é—­TCPè¿æ¥ï¼Œæ¥æ”¶ç«¯ä¹Ÿä¼šæ¸…é™¤ç¼“å†²åŒºå¹¶å…³é—­è¿æ¥ï¼Œå¹¶ä¸”ä¸éœ€è¦å›å¤ACKã€‚ æ”»å‡»è€…åˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œä¼ªé€ è‡ªå·±çš„IPå’Œç«¯å£ï¼Œå‘æœåŠ¡å™¨å‘é€RSTåŒ…ï¼Œè¿™æ—¶åªè¦è¿™ä¸ªåŒ…çš„åºåˆ—å·åœ¨æœåŠ¡å™¨çš„æ¥å—çª—å£ä¸­ï¼Œåˆ™RSTç”Ÿæ•ˆï¼Œç”¨æˆ·çš„è¿æ¥è¢«è¿«å…³é—­ã€‚ åœ¨å†…ç½‘ä¸­ï¼Œå¯ä»¥é€šè¿‡å—…æ¢çš„æŠ€æœ¯æ¥è·å–åºåˆ—å· åœ¨å¤–ç½‘ä¸­å¯ä»¥é€šè¿‡å¤§é‡çš„çŒœæµ‹å°è¯•æ¥è§£å†³ Sockstressæ”»å‡» Sockstressä¸æ˜¯æ´ªæ°´æ”»å‡»ï¼Œç›¸åè€Œæ˜¯ä¸€ç§æ…¢é€Ÿæ”»å‡»(Low and Slow Attack)ã€‚ TCPè¿æ¥ä¼ è¾“æ•°æ®çš„æ—¶å€™ï¼Œä¼šå…ˆæŠŠæ•°æ®å‚¨å­˜åˆ°ç¼“å†²åŒºï¼Œæ¥æ”¶ç«¯ä¼šæœ‰ä¸€ä¸ªæ¥å—ç¼“å†²åŒºå‰©ä½™å¯ç”¨çª—å£å¤§å°ï¼Œå¦‚æœè¿™ä¸ªå€¼ä¸º0ï¼Œåˆ™è¡¨æ˜æ¥æ”¶ç«¯çš„ç¼“å­˜åŒºå·²ç»æ»¡äº†ï¼Œå‘é€ç«¯åº”è¯¥åœæ­¢å‘é€æ•°æ®ï¼Œç›´åˆ°çª—å£å˜åŒ–ã€‚ Sockstressä¸‰æ¬¡æ¡æ‰‹æ—¶ï¼Œåœ¨æœ€åä¸€æ¬¡ACKåº”ç­”çš„æ—¶å€™ï¼Œå°†ä»–çš„TCPæ¥å—çª—å£å¤§å°æ”¹ä¸º0ï¼Œæ­¤åæ”»å‡»ç›®æ ‡å°±ä¼šä¸æ–­çš„è¯¢é—®æ”»å‡»è€…å…¶TCPçª—å£æ˜¯å¦æœ‰æ›´æ–°ï¼Œä½†æ˜¯æ”»å‡»è€…ä¸ä¼šä¿®æ”¹è‡ªå·±çš„çª—å£ï¼Œæ‰€ä»¥è¿™æ ·çš„è¯¢é—®ä¼šä¸€ç›´æŒç»­ï¼Œç›´åˆ°å æ»¡æœåŠ¡å™¨çš„èµ„æºã€‚ Sockstressæ”»å‡»çš„å¦ä¸€ç§æ–¹å¼æ˜¯å°†TCPçª—å£è®¾ç½®ä¸ºä¸€ä¸ªéå¸¸å°çš„å€¼ï¼Œä¾‹å¦‚4å­—èŠ‚ã€‚è¿™æ ·æ”»å‡»ç›®æ ‡å°†ä¸å¾—ä¸æŠŠéœ€è¦å‘é€çš„æ•°æ®åˆ‡åˆ†æˆå¤§é‡4å­—èŠ‚å¤§å°çš„åˆ†ç‰‡ï¼Œè¿™ä¼šæå¤§åœ°æ¶ˆè€—ç›®æ ‡çš„å†…å­˜å’Œå¤„ç†å™¨èµ„æºï¼Œé€ æˆç³»ç»Ÿå“åº”ç¼“æ…¢å’Œæ‹’ç»æœåŠ¡ã€‚ 3.2.2. æ”»å‡»SSLè¿æ¥åœ¨SSLåè®®ä¸­ï¼Œæœ‰è¿™æ ·ä¸€ä¸ªç°è±¡ï¼ŒæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯çš„CPUè®¡ç®—èµ„æºæ¶ˆè€—æ—¶ä¸ä¸€æ ·çš„ï¼Œç‰¹åˆ«æ˜¯RSA 4096ç®—æ³•ï¼ŒæœåŠ¡å™¨æ¶ˆè€—çš„CPUèµ„æºè¦æ¯”å®¢æˆ·ç«¯é«˜å‡º25å€ã€‚ THC SSL DoSæ”»å‡» åœ¨SSLåè®®ä¸­ï¼Œä¸€æ—¦å®Œæˆäº†å¯†é’¥åå•†ä»¥åï¼Œå°±ä¼šä½¿ç”¨å¯¹ç§°åŠ å¯†ï¼Œå¯¹ç§°åŠ å¯†æ˜¯ä¸å­˜åœ¨CPUè®¡ç®—æ¶ˆè€—ä¸å¯¹ç­‰çš„æƒ…å†µçš„ï¼Œæ‰€ä»¥çªç ´ç‚¹åœ¨éå¯¹ç§°åŠ å¯†ã€‚ SSLåè®®ä¸­æœ‰ä¸€ä¸ªRenegotiationé€‰é¡¹å¯ä»¥é‡æ–°è¿›è¡Œå¯†é’¥åå•†ï¼Œæ”»å‡»è€…ä¸æ–­çš„å‘é€Renegotiationé€‰é¡¹ï¼Œæœ€ç»ˆé€šè¿‡CPUæ¶ˆè€—çš„ä¸å¯¹ç­‰ï¼Œä»è€Œæ‹–å®æœåŠ¡å™¨ã€‚ å¦‚æœä¸æ”¯æŒRenegotiationé€‰é¡¹ï¼Œæ”»å‡»è€…ä¹Ÿå¯ä»¥é€šè¿‡å»ºç«‹å¤§é‡çš„SSLè¿æ¥å®ç°ç›¸åŒçš„æ•ˆæœã€‚ SSLæ´ªæ°´æ”»å‡» åœ¨SSLæ¡æ‰‹é˜¶æ®µï¼Œç”±äºæœåŠ¡å™¨éœ€è¦å¯¹å®¢æˆ·ç«¯å‘é€çš„æ•°æ®è¿›è¡Œè§£å¯†ä»¥åŠæ ¡éªŒï¼Œè¿™ä¸ªè¿‡ç¨‹å¾ˆæ¶ˆè€—CPUèµ„æºï¼Œå¦‚æœå®¢æˆ·ç«¯å‘é€é”™è¯¯çš„æ•°æ®ï¼ˆä¼ªé€ ä¸è€—CPUï¼‰ï¼Œåˆ™æœåŠ¡å™¨å°±è¢«æ·¹æ²¡åœ¨å¤§é‡çš„è§£å¯†å’Œæ ¡éªŒä¸­äº†ã€‚ 3.3. æ”»å‡»åº”ç”¨èµ„æº3.3.1. æ”»å‡»DNSæœåŠ¡ DNS Queryæ´ªæ°´æ”»å‡» DNS QUeryæ´ªæ°´æ”»å‡»é€‰æ‹©å¤§é‡çš„ä¸åŒçš„åŸŸåå»è¯·æ±‚DNSæœåŠ¡å™¨ï¼Œè®©ä»–å†…ç½®çš„ç¼“å­˜æ— æ•ˆåŒ–ï¼Œå¹¶å¢åŠ ä»–çš„è´Ÿæ‹…ï¼Œç›´åˆ°æ‹–å®ã€‚ åœ¨DNSè§£æçš„è¿‡ç¨‹ä¸­ï¼Œå®¢æˆ·ç«¯å‘èµ·ä¸€æ¬¡æŸ¥è¯¢è¯·æ±‚ï¼ŒDNSæœåŠ¡å™¨å¯èƒ½éœ€è¦è¿›è¡Œé¢å¤–çš„å¤šæ¬¡æŸ¥è¯¢æ‰èƒ½å®Œæˆè§£æçš„è¿‡ç¨‹å¹¶ç»™å‡ºåº”ç­”ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä¼šæ¶ˆè€—ä¸€å®šçš„è®¡ç®—å’Œç½‘ç»œèµ„æºã€‚å¦‚æœæ”»å‡»è€…åˆ©ç”¨å¤§é‡å—æ§ä¸»æœºä¸æ–­å‘é€ä¸åŒåŸŸåçš„è§£æè¯·æ±‚ï¼Œé‚£ä¹ˆDNSæœåŠ¡å™¨çš„ç¼“å­˜ä¼šè¢«ä¸æ–­åˆ·æ–°ï¼Œè€Œå¤§é‡è§£æè¯·æ±‚ä¸èƒ½å‘½ä¸­ç¼“å­˜åˆå¯¼è‡´DNSæœåŠ¡å™¨å¿…é¡»æ¶ˆè€—é¢å¤–çš„èµ„æºè¿›è¡Œè¿­ä»£æŸ¥è¯¢ï¼Œè¿™ä¼šæå¤§åœ°å¢åŠ DNSæœåŠ¡å™¨çš„èµ„æºæ¶ˆè€—ï¼Œå¯¼è‡´DNSå“åº”ç¼“æ…¢ç”šè‡³å®Œå…¨æ‹’ç»æœåŠ¡ã€‚ DNS NXNOMAINæ´ªæ°´æ”»å‡» DNS NXNOMAINæ´ªæ°´æ”»å‡»é€‰æ‹©ä½¿ç”¨ä¸å­˜åœ¨çš„åŸŸåå»è¯·æ±‚ï¼ŒDNSæœåŠ¡å™¨æ— æ³•è§£æè¿™ä¸ªåŸŸåï¼Œä¼šæƒ³ä¸Šä¸€çº§DNSæœåŠ¡å™¨è¿›è¡Œè¯·æ±‚ï¼Œæ”»å‡»è€…å› æ­¤å¯ä»¥è¿›ä¸€æ­¥æ¶ˆè€—DNSæœåŠ¡å™¨çš„èµ„æºã€‚ 3.3.2. æ”»å‡»WebæœåŠ¡ HTTPæ´ªæ°´æ”»å‡» æ³¨æ„åˆ°HTTPåè®®æ˜¯åŸºäºTCPåè®®çš„ï¼Œåœ¨æ¡æ‰‹ä»¥åæ‰å¼€å§‹HTTPé€šä¿¡ï¼Œæ‰€ä»¥HTTPæ´ªæ°´æ”»å‡»æ— æ³•ä¼ªé€ æºIPåœ°å€ã€‚æ”»å‡»è€…é€šå¸¸ä½¿ç”¨HTTPä»£ç†æœåŠ¡å™¨è¿›è¡Œæ”»å‡»ã€‚ Slowlorisæ”»å‡» HTTPåè®®è§„å®šï¼ŒHTTPæŠ¥æ–‡åˆ†ä¸ºè¯·æ±‚è¡Œã€è¯·æ±‚å¤´å’Œè¯·æ±‚ä½“ï¼Œå…¶ä¸­è¯·æ±‚å¤´å’Œè¯·æ±‚ä½“é—´æœ‰ä¸€ä¸ªç©ºè¡Œï¼Œæ‰€ä»¥å¦‚æœæ²¡æœ‰è¯·æ±‚ä½“ï¼Œåˆ™HTTPæŠ¥æ–‡ä»¥ä¸¤ä¸ª\\næˆ–è€…\\r\\nç»“å°¾ã€‚ å¦‚æœæ”»å‡»è€…åœ¨GETè¯·æ±‚ä¸­ä¸€ç›´ä¸å‘é€\\nä¸”ç¼“æ…¢åœ°å‘é€HTTPå¤´ï¼Œåˆ™æœåŠ¡å™¨çš„èµ„æºä¼šä¸€ç›´è¢«å ç”¨ï¼Œæœ€ç»ˆå¯¼è‡´æ‹’ç»æœåŠ¡ã€‚ æ…¢é€ŸPOSTè¯·æ±‚æ”»å‡» åœ¨POSTè¯·æ±‚çš„Bodyä¸­ï¼Œä¸€ä¸ªå­—èŠ‚ä¸€ä¸ªå­—èŠ‚åœ°å‘é€HTTP Body,è¿™æ ·ç¼“æ…¢åœ°ä¼ è¾“ä¼šä¸€ç›´å ç”¨æœåŠ¡å™¨çš„èµ„æºï¼Œæœ€ç»ˆå¯¼è‡´æ‹’ç»æœåŠ¡ã€‚ 3.4. æ··åˆæ”»å‡»å¯¹ä¸åŒçš„æ”»å‡»æ–¹æ³•è¿›è¡Œåˆ†ç±»ï¼Œç„¶åæ··åˆå¤šç§æ”»å‡»ï¼Œè¿™äº›æ”»å‡»ç›¸è¾…ç›¸æˆã€‚ æ”»å‡»åˆ†ç±» æ´ªæ°´æ”»å‡» æ…¢é€Ÿæ”»å‡» ç½‘ç»œå±‚æ”»å‡» ICMP&#x2F;IGMPæ´ªæ°´æ”»å‡» ä¼ è¾“å±‚æ”»å‡» UDPæ´ªæ°´æ”»å‡»TCPè¿æ¥æ´ªæ°´æ”»å‡»SYNæ´ªæ°´æ”»å‡»PSH+ACKæ´ªæ°´æ”»å‡»ACKåå°„æ”»å‡»RSTæ´ªæ°´æ”»å‡»SSLæ´ªæ°´æ”»å‡» Sockstressæ”»å‡»THC SSL DoSæ”»å‡» åº”ç”¨å±‚æ”»å‡» DNS QUERYæ´ªæ°´æ”»å‡»DNS NXDOMAINæ´ªæ°´æ”»å‡»DNS æ”¾å¤§æ”»å‡»HTTPæ´ªæ°´æ”»å‡»SNMPæ”¾å¤§æ”»å‡»NTPæ”¾å¤§æ”»å‡» Slowlorisæ”»å‡»æ…¢é€ŸPOSTæ”»å‡» æ··åˆæ”»å‡»å¯ä»¥ç»•è¿‡ä¸€äº›é˜²æŠ¤è®¾å¤‡ ä¾‹å¦‚ï¼Œå°†SYNæ´ªæ°´æ”»å‡»ä¸ACKæ´ªæ°´æ”»å‡»ç»„åˆåœ¨ä¸€èµ·ï¼ŒSYNè¯·æ±‚åŒ…åŠä¸ä¹‹åŒ¹é…çš„ACKåº”ç­”åŒ…ï¼Œå°±èƒ½å¤Ÿç»•è¿‡ä¸€äº›é˜²æŠ¤è®¾å¤‡çš„åå‘æ¢æµ‹ç®—æ³• æ··åˆæ”»å‡»å¯ä»¥æ©ç›–æ‹’ç»æœåŠ¡çš„çœŸæ­£åŸå›  å°†Slowlorisæ”»å‡»å’Œæ…¢é€ŸPOSTè¯·æ±‚æ”»å‡»æ··å…¥åˆ°HTTPæ´ªæ°´æ”»å‡»ä¸­ï¼Œæ”»å‡»ç›®æ ‡åœ¨å‘ç°æ”»å‡»å¹¶è¿›è¡Œå¤„ç†æ—¶ï¼Œå¤§é‡çš„æ´ªæ°´æ”»å‡»ä¼šæ·¹æ²¡äº†æ…¢é€Ÿè¯·æ±‚æ”»å‡»ï¼Œè€Œæ— æ³•å‘ç°è¢«æ‹’ç»æœåŠ¡çš„çœŸæ­£åŸå›  4. DDoSæ”»å‡»çš„æ²»ç†å’Œç¼“è§£ä¸‹å›¾æ˜¯é’ˆå¯¹DDoSå„ä¸ªæ­¥éª¤çš„æ²»ç†å’Œç¼“è§£æ–¹æ³•ã€‚ 4.1. åƒµå°¸ç½‘ç»œçš„æ²»ç† ç¼–å†™åƒµå°¸ç¨‹åºæ¸…é™¤å·¥å…·ï¼Œæ‹¦æˆªC&amp;CæœåŠ¡å™¨çš„é€šä¿¡ï¼Œä½†è¿™æ ·å¾€å¾€åªèƒ½æ¸…é™¤å†°å±±ä¸€è§’ æ¥ç®¡æˆ–è€…æ‘§æ¯åƒµå°¸ç½‘ç»œï¼Œå¦‚Nitolåƒµå°¸ç½‘ç»œï¼Œåƒµå°¸ç¨‹åºéœ€è¦ä¸3322.orgæœåŠ¡å™¨è¿›è¡Œé€šä¿¡ï¼Œäºæ˜¯å¾®è½¯ç›´æ¥ç‚¹åæŒ‡æ§3322.orgåŸŸåçš„æ‰€æœ‰è€…ï¼Œæœ€åæ¥ç®¡äº†è¯¥åŸŸåï¼ŒNitolåƒµå°¸ç½‘ç»œè¢«æ‘§æ¯ã€‚ 4.2. åœ°å€ä¼ªé€ æ”»å‡»çš„æ²»ç† CERTï¼Œ éœ€è¦ISPé…åˆï¼ŒISPè¿‡æ»¤æ‰ä¸‹é¢çš„æµé‡ ä»å¤–éƒ¨æ¥å£è¿›å…¥å†…éƒ¨ç½‘ç»œçš„æ•°æ®åŒ…ï¼Œä½†æºåœ°å€å±äºå†…éƒ¨ç½‘ç»œï¼› ç”±å†…éƒ¨ç½‘ç»œå‘å¤–å‘é€çš„æ•°æ®åŒ…ï¼Œä½†æ˜¯æºåœ°å€ä¸å±äºå†…éƒ¨ç½‘ç»œã€‚ RFC 2827,éœ€è¦åŸºç¡€ç½‘ç»œè®¾æ–½æ”¯æŒï¼Œå¦‚è·¯ç”±å™¨ï¼Œè¿™äº›è®¾å¤‡è¦å¯¹ç½‘æ®µä¸­å‘å‡ºçš„åŒ…çš„æºIPè¿›è¡Œæ ¡éªŒ Unicast Reverse Path Forwarding, è¯¦è§BCP84ï¼Œ ä¹Ÿè¦æ±‚å¯¹åŸºç¡€ç½‘ç»œè®¾æ–½è¿›è¡Œå‡çº§ åˆ†å¸ƒå¼è¿‡æ»¤ï¼Œè·¯ç”±å™¨æ ¹æ®æ•°æ®åŒ…çš„æºåœ°å€å’Œç›®çš„åœ°å€åˆ¤æ–­å…¶è½¬å‘è·¯å¾„æ˜¯å¦ç»è¿‡è‡ªå·±ã€‚å¦‚æœä¸ç»è¿‡ï¼Œåˆ™ä¸¢å¼ƒè¯¥æ•°æ®åŒ… 4.3. æ”»å‡»åå°„ç‚¹çš„æ²»ç† Open Resolver Project ï¼Œ è¿™æ˜¯ä¸€ä¸ªå›½é™…ç»„ç»‡ï¼Œå¯ä»¥å¸®åŠ©ä½¿ç”¨è€…åˆ¤æ–­æŸä¸ªDNSæœåŠ¡å™¨æ˜¯å¦å¯ä»¥ä½œä¸ºåå°„å™¨ï¼Œå…¶åŸç†æ˜¯ä»å¤šä¸ªåœ°æ–¹å¯¹è¯¥DNSæœåŠ¡å™¨è¿›è¡Œè¯·æ±‚ï¼Œè§‚å¯Ÿè¯¥DNSæœåŠ¡å™¨çš„å“åº”æƒ…å†µ å¦‚æœä¸€ä¸ªDNSæœåŠ¡å™¨å¯ä»¥è¢«ä»ä»»æ„åœ°å€è®¿é—®ï¼Œå¹¶æ— é™é€Ÿåœ°å›åº”æŸ¥è¯¢è¯·æ±‚ï¼Œé‚£ä¹ˆå®ƒå°±å¯ä»¥è¢«ç”¨ä½œDDoSæ”»å‡»çš„åå°„ç‚¹ã€‚ RRL(Responsee Rate Limiting), é™åˆ¶DNSæœåŠ¡å™¨çš„å“åº”é€Ÿåº¦ NISTï¼Œ è¿™æ˜¯ä¸€æœ¬åä¸ºã€Šå®‰å…¨åŸŸåç³»ç»Ÿéƒ¨ç½²æŒ‡å—ã€‹çš„ä¹¦ 4.4. æµé‡ç¨€é‡Šæµé‡ç¨€é‡Šæœ¬è´¨ä¸Šåªæ˜¯ä½¿ç”¨äº†æ›´å¤šçš„æœºå™¨æ¥å¤„ç†DDoSæ”»å‡»ã€‚ CDNæŠ€æœ¯ï¼ˆè¿™é‡Œä¸å±•å¼€äº†ï¼Œè¿™ä¸ªæ˜¯è®¡ç®—æœºç½‘ç»œåŸºç¡€çŸ¥è¯†ï¼‰ Anycast ä»»æ’­æŠ€æœ¯ï¼Œä»»æ‹¨æŠ€æœ¯å¯ä»¥è®©ä¸€ç»„ä¸»æœºä½¿ç”¨åŒä¸€ä¸ªIPåœ°å€ï¼Œä¸€èˆ¬æ˜¯æ— çŠ¶æ€æœåŠ¡ä½¿ç”¨çš„ï¼Œå¯ä¿è¯é«˜å¯ç”¨æ€§å’Œè´Ÿè½½å‡è¡¡ï¼Œé€šå¸¸ç”±ä¸€ä¸ªè·¯ç”±å™¨ä¸‹è¿æ¥å¤šä¸ªä¸»æœºï¼Œè¯·æ±‚æŠ¥æ–‡ä¼šè½¬å‘åˆ°æœ€è¿‘çš„é‚£ä¸ªä¸»æœºã€‚ 4.5. æµé‡æ¸…æ´— IPä¿¡èª‰æ£€æŸ¥ï¼Œå¯¹äº’è”ç½‘çš„IPåœ°å€åˆ†é…ä¸€ä¸ªä¿¡èª‰å€¼ï¼Œå½“å‘ç”Ÿç½‘ç»œæ‹¥å µçš„æ—¶å€™ï¼Œä¼˜å…ˆä¸¢å¼ƒä¿¡èª‰å€¼ä½çš„åŒ…ã€‚ æ”»å‡»ç‰¹å¾åŒ¹é…ï¼Œå‘åŠ¨DDoSæ”»å‡»å¾€å¾€éœ€è¦å·¥å…·ï¼Œè¿™äº›åŒ…æœ‰æ—¶ä¼šæœ‰ä¸€äº›å·¥å…·çš„ç‰¹æ€§ï¼Œæ¯”å¦‚THC SSL DoSæ”»å‡»æ—¶ï¼Œåå¤åœ°åå•†å¯†é’¥ é€Ÿåº¦æ£€æŸ¥ä¸é™åˆ¶ï¼Œä¸€äº›æ”»å‡»å‘ç”Ÿçš„æ—¶å€™ï¼Œä»–çš„åŒ…å¾ˆå¤šï¼Œå¦‚å„ç§æ´ªæ°´æ”»å‡» TCPä»£ç†å’ŒéªŒè¯ï¼Œä½¿ç”¨ä»£ç†æœåŠ¡å™¨è¿›è¡Œæµé‡æ¸…æ´—ï¼Œå³å¯ç¼“è§£SYNæ´ªæ°´æ”»å‡»ï¼Œè§å›¾ åè®®å®Œæ•´æ€§éªŒè¯ï¼Œæœ‰ä¸€äº›æ”»å‡»åªå‘é€åŒ…ï¼Œä½†ä¸è‡ªå·±è§£æï¼Œæ¯”å¦‚HTTPæ”»å‡»æ—¶ï¼Œå‘ä¸€ä¸ªHTTPè¯·æ±‚ï¼ŒæœåŠ¡å™¨è¿”å›ä¸€ä¸ª302åå°±ç»“æŸäº†ã€‚ img img å®¢æˆ·ç«¯çœŸå®æ€§éªŒè¯ï¼Œå¯ä»¥ä½¿ç”¨å›¾ç‰‡éªŒè¯ç ã€åŠ¨æ€æ‰§è¡Œjsç­‰ç­‰æ¥å¤„ç†ã€‚","categories":[{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","permalink":"http://fightinggg.github.io/indigo/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"}],"tags":[{"name":"è¯»ä¹¦","slug":"è¯»ä¹¦","permalink":"http://fightinggg.github.io/indigo/tags/%E8%AF%BB%E4%B9%A6/"}]},{"title":"Educational Codeforces Round 112 (Rated for Div. 2)","slug":"ACM/åˆ·é¢˜å®æˆ˜/CodeForces/Educational Codeforces Round 112 (Rated for Div. 2)/index","date":"2021-08-01T03:47:00.000Z","updated":"2021-08-01T03:47:00.000Z","comments":true,"path":"QX56IC.html","link":"","permalink":"http://fightinggg.github.io/indigo/QX56IC.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ¯”èµ›é“¾æ¥https://codeforces.com/contest/1555 1. A. PizzaForces1.1. é¢˜æ„6å…ƒ15ä¸ªç‰©å“ï¼Œ8å…ƒ20ä¸ªç‰©å“ï¼Œ10å…ƒ25ä¸ªç‰©å“ ç°åœ¨éœ€è¦ä¹°è‡³å°‘nä¸ªç‰©å“ï¼Œé—®éœ€è¦å¤šå°‘é’± 1.2. åšæ³•é¦–å…ˆçœ‹å•ä»·ï¼Œå‘ç°ä»–ä»¬éƒ½ç›¸åŒï¼Œç„¶åå°±æ˜¯å°½é‡ä¸è¦å¤šä¹°äº†ã€‚ å¦‚æœnæ¯”15,20,25çš„æœ€å°å…¬å€æ•°çš„ä¸¤å€è¿˜è¦å¤§ï¼Œåˆ™å¤šå‡ºçš„è¿™ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥è€ƒè™‘ç›´æ¥è´­ä¹°6å…ƒçš„ï¼Œå‰©ä¸‹çš„å°èŒƒå›´dpå³å¯ æ ¸å¿ƒæ€æƒ³ï¼š å¤§èŒƒå›´è´ªå¿ƒï¼Œå°èŒƒå›´dp notes: æ³¨æ„ä¸€å®šæ˜¯è‡³å°‘ä¸¤å€ä»¥ä¸Šæ‰èƒ½è´ªå¿ƒ","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ¯”èµ›é“¾æ¥https://codeforces.com/contest/1555 1. A. PizzaForces1.1. é¢˜æ„6å…ƒ15ä¸ªç‰©å“ï¼Œ8å…ƒ20ä¸ªç‰©å“ï¼Œ10å…ƒ25ä¸ªç‰©å“ ç°åœ¨éœ€è¦ä¹°è‡³å°‘nä¸ªç‰©å“ï¼Œé—®éœ€è¦å¤šå°‘é’± 1.2. åšæ³•é¦–å…ˆçœ‹å•ä»·ï¼Œå‘ç°ä»–ä»¬éƒ½ç›¸åŒï¼Œç„¶åå°±æ˜¯å°½é‡ä¸è¦å¤šä¹°äº†ã€‚ å¦‚æœnæ¯”15,20,25çš„æœ€å°å…¬å€æ•°çš„ä¸¤å€è¿˜è¦å¤§ï¼Œåˆ™å¤šå‡ºçš„è¿™ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥è€ƒè™‘ç›´æ¥è´­ä¹°6å…ƒçš„ï¼Œå‰©ä¸‹çš„å°èŒƒå›´dpå³å¯ æ ¸å¿ƒæ€æƒ³ï¼š å¤§èŒƒå›´è´ªå¿ƒï¼Œå°èŒƒå›´dp notes: æ³¨æ„ä¸€å®šæ˜¯è‡³å°‘ä¸¤å€ä»¥ä¸Šæ‰èƒ½è´ªå¿ƒ 1.3. ä»£ç 1234567891011121314151617181920212223242526272829303132333435#include &lt;bits/stdc++.h&gt;using namespace std;int main() &#123; std::ios::sync_with_stdio(false); cin.tie(0); int step; cin &gt;&gt; step; // 6 8 10 -&gt; 2*3 2*2*2 2*5 -&gt; 2*2*2*3*5 // -&gt; int lcm = 2 * 2 * 2 * 3 * 5; vector&lt;int&gt; dp(2 * lcm); for (int i = 1; i &lt; 2 * lcm; i++) &#123; int v1 = (i - 6) &gt;= 0 ? dp[i - 6] : 0; int v2 = (i - 8) &gt;= 0 ? dp[i - 8] : 0; int v3 = (i - 10) &gt;= 0 ? dp[i - 10] : 0; dp[i] = min(&#123;v1 + 15, v2 + 20, v3 + 25&#125;); &#125; while (step--) &#123; long long n; cin &gt;&gt; n; if (n / lcm == 0) &#123; cout &lt;&lt; dp[n % lcm] &lt;&lt; endl; &#125; else &#123; cout &lt;&lt; (1ll * dp[lcm - 1] * (n / lcm - 1) + dp[n % lcm + lcm]) &lt;&lt; endl; &#125; &#125;&#125; 2. B. Two Tablespass 3. C. Coin Rows3.1. é¢˜æ„ä¸¤è¡Œnåˆ—çš„çŸ©é˜µï¼Œaliceå’Œbobåœ¨å·¦ä¸Šè§’ï¼Œä»–ä»¬åªå¯ä»¥å¾€å³æˆ–è€…å¾€ä¸‹èµ°ï¼Œaliceå…ˆèµ°ï¼Œbobåèµ°ã€‚ æ‰€æœ‰bobç»è¿‡çš„ä½ç½®ï¼Œå¦‚æœè¿™é‡Œæ²¡æœ‰è¢«aliceèµ°è¿‡ï¼Œé‚£ä¹ˆbobå°±å¯ä»¥æ‹¿èµ°è¿™é‡Œçš„å€¼ï¼Œ æœ€åbobå¸Œæœ›æœ€å¤§åŒ–è‡ªå·±çš„å€¼çš„å’Œï¼Œaliceå¸Œæœ›æœ€å°åŒ–bobçš„å€¼çš„å’Œ é—®æœ€åbobçš„å€¼çš„å’Œæœ€åæ˜¯å¤šå°‘ 3.2. åšæ³•è€ƒè™‘aliceä»€ä¹ˆæ—¶å€™å‘ä¸‹èµ°ï¼Œç„¶åbobèƒ½æ‹¿è¿™æ®µç¬¬ä¸€è¡Œçš„åç¼€ï¼Œæˆ–è€…ç¬¬äºŒè¡Œçš„å‰ç¼€ï¼Œbobä¼šå–æœ€å¤§ 3.3. ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940#include &lt;bits/stdc++.h&gt;using namespace std;int main() &#123; std::ios::sync_with_stdio(false); cin.tie(0); int step; cin &gt;&gt; step; while (step--) &#123; int n; cin &gt;&gt; n; vector&lt;int&gt; a(n + 2), b(n + 2); for (int i = 1; i &lt;= n; i++) &#123; cin &gt;&gt; a[i]; &#125; for (int i = 1; i &lt;= n; i++) &#123; cin &gt;&gt; b[i]; &#125; for (int i = n - 1; i &gt;= 1; i--) &#123; a[i] += a[i + 1]; &#125; for (int i = 1; i &lt;= n; i++) &#123; b[i] += b[i - 1]; &#125; int ans = 1e9; for (int i = 1; i &lt;= n; i++) &#123; int ans1 = a[i + 1]; int ans2 = b[i - 1]; //cout &lt;&lt; ans1 &lt;&lt; &quot; &quot; &lt;&lt; ans2 &lt;&lt; endl; ans = min(ans, max(ans1, ans2)); &#125; cout &lt;&lt; ans &lt;&lt; &quot;\\n&quot;; &#125;&#125; 4. D. Say No to Palindromes4.1. é¢˜æ„æ²¡æœ‰é•¿åº¦è¶…è¿‡1çš„å›æ–‡å­ä¸²çš„ä¸²å°±æ˜¯æ¼‚äº®ä¸²ï¼Œç»™ä½ ä¸€ä¸ªä¸²Sï¼Œkç»„è¯¢é—®ï¼Œæ¯æ¬¡é—®Sçš„ä¸€ä¸ªå­ä¸²è‡³å°‘ä¿®æ”¹å‡ ä¸ªå­—ç¬¦åæ˜¯æ¼‚äº®ä¸² SåªåŒ…å«abcä¸‰ä¸ªå­—æ¯ 4.2. åšæ³•æ‰“è¡¨å‘ç°æ¼‚äº®ä¸²åªæœ‰6ç±»ï¼Œä»–ä»¬åˆ†åˆ«ä»¥abc,acb,bac,bca,cab,cbaä½œä¸ºè‡ªå·±çš„å¾ªç¯èŠ‚ ï¼Œç„¶åå°±ç›´æ¥æŒ‰ç…§è¿™6ç±»æ¥è¿›è¡Œæ¯”è¾ƒï¼Œçœ‹æœ‰å¤šå°‘å­—ç¬¦ä¸åŒå³å¯ï¼Œå¯ä»¥ä½¿ç”¨å‰ç¼€å’Œä¼˜åŒ–ã€‚ 4.3. ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758#include &lt;bits/stdc++.h&gt;using namespace std;int sz[3][3][200000 + 5];int n, m;string s;int l, r;int solve(int a, int b, int c) &#123; int same = sz[0][a][r] - sz[0][a][l - 1] + sz[1][b][r] - sz[1][b][l - 1] + sz[2][c][r] - sz[2][c][l - 1];// cout &lt;&lt; r - l + 1 - same &lt;&lt; endl; return r - l + 1 - same;&#125;int main() &#123; std::ios::sync_with_stdio(false); cin.tie(0); cin &gt;&gt; n &gt;&gt; m &gt;&gt; s; s.insert(s.begin(), &#x27; &#x27;); for(int i=1;i&lt;=n;i++)&#123; // cout&lt;&lt;s[i]; &#125; vector&lt;vector&lt;int&gt;&gt; size; for (int i = 0; i &lt; 3; i++) &#123; for (int j = 0; j &lt; 3; j++) &#123; for (int k = 1; k &lt;= n; k++) &#123; sz[i][j][k] = k &gt; 1 ? sz[i][j][k - 1] : 0; if (k % 3 == j) &#123; sz[i][j][k] += (s[k] == (&#x27;a&#x27; + i)); &#125; // cout&lt;&lt;sz[i][j][k]&lt;&lt;&quot; &quot;; &#125; // cout&lt;&lt;endl; &#125; // cout&lt;&lt;endl; &#125; for (int i = 0; i &lt; m; i++) &#123; cin &gt;&gt; l &gt;&gt; r;// cout &lt;&lt; solve(2, 1, 0) &lt;&lt; endl; int ans = min(&#123;solve(0, 1, 2), solve(0, 2, 1), solve(1, 2, 0), solve(1, 0, 2), solve(2, 1, 0), solve(2, 0, 1), &#125;); cout &lt;&lt; ans &lt;&lt; &quot;\\n&quot;; &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"CodeForces","slug":"ACM/åˆ·é¢˜å®æˆ˜/CodeForces","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/CodeForces/"}],"tags":[]},{"title":"Codeforces Round #734 (Div. 3)","slug":"ACM/åˆ·é¢˜å®æˆ˜/CodeForces/Codeforces Round #734 (Div. 3)/index","date":"2021-07-24T03:08:00.000Z","updated":"2021-07-24T03:08:00.000Z","comments":true,"path":"QWQBDC.html","link":"","permalink":"http://fightinggg.github.io/indigo/QWQBDC.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ¯”èµ›é“¾æ¥https://codeforces.com/contest/1551 1. A. Polycarp and Coins1.1. é¢˜æ„ç»™ä½ ä¸€ä¸ªæ•°nï¼Œä½ è¦æŠŠä»–æ‹†ä¸º$c_1+2c_2$çš„å½¢å¼ï¼Œä½ éœ€è¦æœ€å°åŒ–$c_1$å’Œ$c_2$çš„å·® 1.2. åšæ³•å¯¹æ¨¡3çš„ä½™æ•°è¿›è¡Œåˆ†ç±»è®¨è®º 1.3. ä»£ç 123456789101112131415161718192021222324#include &lt;bits/stdc++.h&gt;using namespace std;int main() &#123; std::ios::sync_with_stdio(false); cin.tie(); int step; cin &gt;&gt; step; while (step--) &#123; int n; cin &gt;&gt; n; if (n % 3 == 0) &#123; cout &lt;&lt; n / 3 &lt;&lt; &quot; &quot; &lt;&lt; n / 3 &lt;&lt; endl; &#125; else if (n % 3 == 1) &#123; cout &lt;&lt; n / 3 + 1 &lt;&lt; &quot; &quot; &lt;&lt; n / 3 &lt;&lt; endl; &#125; else &#123; cout &lt;&lt; n / 3 &lt;&lt; &quot; &quot; &lt;&lt; n / 3 + 1 &lt;&lt; endl; &#125; &#125;&#125;","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ¯”èµ›é“¾æ¥https://codeforces.com/contest/1551 1. A. Polycarp and Coins1.1. é¢˜æ„ç»™ä½ ä¸€ä¸ªæ•°nï¼Œä½ è¦æŠŠä»–æ‹†ä¸º$c_1+2c_2$çš„å½¢å¼ï¼Œä½ éœ€è¦æœ€å°åŒ–$c_1$å’Œ$c_2$çš„å·® 1.2. åšæ³•å¯¹æ¨¡3çš„ä½™æ•°è¿›è¡Œåˆ†ç±»è®¨è®º 1.3. ä»£ç 123456789101112131415161718192021222324#include &lt;bits/stdc++.h&gt;using namespace std;int main() &#123; std::ios::sync_with_stdio(false); cin.tie(); int step; cin &gt;&gt; step; while (step--) &#123; int n; cin &gt;&gt; n; if (n % 3 == 0) &#123; cout &lt;&lt; n / 3 &lt;&lt; &quot; &quot; &lt;&lt; n / 3 &lt;&lt; endl; &#125; else if (n % 3 == 1) &#123; cout &lt;&lt; n / 3 + 1 &lt;&lt; &quot; &quot; &lt;&lt; n / 3 &lt;&lt; endl; &#125; else &#123; cout &lt;&lt; n / 3 &lt;&lt; &quot; &quot; &lt;&lt; n / 3 + 1 &lt;&lt; endl; &#125; &#125;&#125; 2. B2. Wonderful Coloring - 22.1. é¢˜æ„ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸ºnçš„åºåˆ—ï¼Œä½ è¦ç”¨kç§é¢œè‰²ç»™åºåˆ—çš„æ¯ä¸ªå…ƒç´ æŸ“è‰²ï¼Œ each element of the sequence is either painted in one of k colors or isnâ€™t painted; each two elements which are painted in the same color are different (i. e. thereâ€™s no two equal values painted in the same color); letâ€™s calculate for each of k colors the number of elements painted in the color â€” all calculated numbers must be equal; the total number of painted elements of the sequence is the maximum among all colorings of the sequence which meet the first three conditions. ä½ è¦æœ€å¤§åŒ–è¢«æŸ“è‰²çš„å…ƒç´ çš„ä¸ªæ•° 2.2. åšæ³•è´ªå¿ƒæŸ“è‰²ï¼Œå…ˆæŠŠå…ƒç´ æŒ‰ç…§å€¼åˆ†ç±»ï¼Œæ¯ä¸ªç±»ä¸­å¦‚æœæœ‰è¶…è¿‡kä¸ªé¢œè‰²ï¼Œåˆ™ç›´æ¥ä¸¢å¼ƒï¼Œæœ€åæŠŠè¿™äº›å…ƒç´ æ”¾åˆ°ä¸€èµ·æ„æˆé›†åˆ$S$ï¼Œç»§ç»­ä¸¢å¼ƒä¸€äº›å…ƒç´ ,ç›´åˆ°$|s|$æ˜¯kçš„å€æ•° 2.3. ä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041#include &lt;bits/stdc++.h&gt;using namespace std;inline int read() &#123; int x; cin &gt;&gt; x; return x;&#125;int main() &#123; int step = read(); while (step--) &#123; int n = read(); int k = read(); vector&lt;int&gt; a(n); vector&lt;int&gt; pos; vector&lt;int&gt; vis(n + 1); for (int i = 0; i &lt; n; i++) &#123; a[i] = read(); if (vis[a[i]] &lt; k) &#123; pos.push_back(i); &#125; vis[a[i]]++; &#125; sort(pos.begin(), pos.end(), [&amp;a](int x, int y) &#123; return a[x] &lt; a[y]; &#125;); vector&lt;int&gt; ans(n, 0); while (pos.size() % k != 0) pos.pop_back(); for (int i = 0; i &lt; pos.size(); i++) &#123; ans[pos[i]] = i % k + 1; &#125; for (int i = 0; i &lt; n; i++) &#123; printf(&quot;%d &quot;, ans[i]); &#125; printf(&quot;\\n&quot;); &#125;&#125; 3. C. Interesting Story3.1. é¢˜æ„ A story is called interesting if there exists a letter which occurs among all words of the story more times than all other letters together. å¦‚æœä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œæœ‰ä¸€ä¸ªå­—ç¬¦å‡ºç°çš„æ¬¡æ•°ï¼Œå¸å…¶ä»–å­—ç¬¦å‡ºç°çš„æ¬¡æ•°ä¹‹å’Œè¿˜è¦å¤§ï¼Œåˆ™è¿™ä¸ªå­—ç¬¦ä¸²ä¸ºæœ‰è¶£ã€‚ You are given a sequence of n words consisting of letters â€˜aâ€™, â€˜bâ€™, â€˜câ€™, â€˜dâ€™ and â€˜eâ€™. Your task is to choose the maximum number of them to make an interesting story. If thereâ€™s no way to make a non-empty story, output 0. ç»™ä½ ä¸€äº›å­—ç¬¦ä¸²ï¼Œä½ è¦ä»ä¸­é€‰æ‹©æœ€å¤šçš„å­—ç¬¦ä¸²ï¼Œè¿™äº›å­—ç¬¦ä¸²æ‹¼åœ¨ä¸€èµ·ä¹‹åæ˜¯ä¸€ä¸ªæœ‰è¶£çš„å­—ç¬¦ä¸²ã€ å­—ç¬¦ä¸²åªç”±abcdeäº”ç§å­—ç¬¦æ„æˆ 3.2. åšæ³•å¯¹æ¯ç§å­—ç¬¦åˆ†åˆ«åˆ¤æ–­ï¼Œå‡è®¾ç°åœ¨åœ¨å¤„ç†aï¼Œæ¯ä¸ªå­—ç¬¦ä¸²ä¸­aå‡ºç°çš„æ¬¡æ•°ä¸º$a_i$å…¶ä»–å­—ç¬¦å‡ºç°çš„æ¬¡æ•°ä¸º$x_i$,ç„¶åå¯¹å­—ç¬¦ä¸²æŒ‰ç…§$a_i-x_i$æ’åºï¼Œè´ªå¿ƒé€‰æ‹©å‰å‡ é¡¹å³å¯ 3.3. ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051#include &lt;bits/stdc++.h&gt;using namespace std;int solve(const vector&lt;vector&lt;int&gt;&gt; &amp;a, int pos) &#123; vector&lt;int&gt; t(a.size()); for (int i = 0; i &lt; a.size(); i++) &#123; t[i] = i; &#125; sort(t.begin(), t.end(), [&amp;a, pos](int x, int y) &#123; return 2 * a[x][pos] - a[x][5] &gt; 2 * a[y][pos] - a[y][5]; &#125;); int ans = 0; int cnt = 0; int all = 0; for (int i = 0; i &lt; a.size(); i++) &#123; cnt += a[t[i]][pos]; all += a[t[i]][5]; //cout &lt;&lt; &quot;i &quot; &lt;&lt; i &lt;&lt; &quot; cnt &quot; &lt;&lt; cnt &lt;&lt; &quot; all &quot; &lt;&lt; all &lt;&lt; endl; if (cnt &gt; all - cnt) &#123; ans = i + 1; &#125; &#125; return ans;&#125;int main() &#123; std::ios::sync_with_stdio(false); cin.tie(0); int step; cin &gt;&gt; step; while (step--) &#123; int n; cin &gt;&gt; n; vector&lt;vector&lt;int&gt;&gt; a(n, vector&lt;int&gt;(6)); for (int i = 0; i &lt; n; i++) &#123; string s; cin &gt;&gt; s; for (char ch:s) &#123; a[i][ch - &#x27;a&#x27;]++; a[i][5]++; &#125; &#125; cout &lt;&lt; max(&#123;solve(a, 0), solve(a, 1), solve(a, 2), solve(a, 3), solve(a, 4)&#125;) &lt;&lt; endl; &#125;&#125; 4. D2. Domino (hard version)4.1. é¢˜æ„sbé¢˜ç›®æ²¡è¥å…»ï¼Œä¸å±•å¼€äº† 4.2. ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106#include &lt;bits/stdc++.h&gt;using namespace std;int main() &#123; std::ios::sync_with_stdio(false); cin.tie(0); int step; cin &gt;&gt; step; while (step--) &#123; int n, m, k; cin &gt;&gt; n &gt;&gt; m &gt;&gt; k; vector&lt;string&gt; ans(n, string(m, &#x27; &#x27;)); if (n % 2 == 0 &amp;&amp; m % 2 == 0) &#123; if (k % 2 == 0) &#123; puts(&quot;YES&quot;); for (int i = 0; i &lt; n; i += 2) &#123; for (int j = 0; j &lt; m; j += 2) &#123; if (k) &#123; k -= 2; ans[i][j] = (j &amp; 2) ? &#x27;a&#x27; : &#x27;c&#x27;; ans[i][j + 1] = (j &amp; 2) ? &#x27;a&#x27; : &#x27;c&#x27;; ans[i + 1][j] = (j &amp; 2) ? &#x27;b&#x27; : &#x27;d&#x27;; ans[i + 1][j + 1] = (j &amp; 2) ? &#x27;b&#x27; : &#x27;d&#x27;; &#125; else &#123; ans[i][j] = (i &amp; 2) ? &#x27;e&#x27; : &#x27;g&#x27;; ans[i + 1][j] = (i &amp; 2) ? &#x27;e&#x27; : &#x27;g&#x27;; ans[i][j + 1] = (i &amp; 2) ? &#x27;f&#x27; : &#x27;h&#x27;; ans[i + 1][j + 1] = (i &amp; 2) ? &#x27;f&#x27; : &#x27;h&#x27;; &#125; &#125; &#125; for (int i = 0; i &lt; n; i++) &#123; cout &lt;&lt; ans[i] &lt;&lt; endl; &#125; &#125; else &#123; puts(&quot;NO&quot;); &#125; &#125; else if (n % 2 == 0 &amp;&amp; m % 2 == 1) &#123; if (k * 2 &lt;= n * (m - 1) &amp;&amp; k % 2 == 0) &#123; puts(&quot;YES&quot;); for (int i = 0; i &lt; n; i += 2) &#123; for (int j = 0; j &lt; m - 1; j += 2) &#123; if (k) &#123; k -= 2; ans[i][j] = (j &amp; 2) ? &#x27;a&#x27; : &#x27;c&#x27;; ans[i][j + 1] = (j &amp; 2) ? &#x27;a&#x27; : &#x27;c&#x27;; ans[i + 1][j] = (j &amp; 2) ? &#x27;b&#x27; : &#x27;d&#x27;; ans[i + 1][j + 1] = (j &amp; 2) ? &#x27;b&#x27; : &#x27;d&#x27;; &#125; else &#123; ans[i][j] = (i &amp; 2) ? &#x27;e&#x27; : &#x27;g&#x27;; ans[i + 1][j] = (i &amp; 2) ? &#x27;e&#x27; : &#x27;g&#x27;; ans[i][j + 1] = (i &amp; 2) ? &#x27;f&#x27; : &#x27;h&#x27;; ans[i + 1][j + 1] = (i &amp; 2) ? &#x27;f&#x27; : &#x27;h&#x27;; &#125; &#125; &#125; for (int i = 0; i &lt; n; i += 2) &#123; ans[i][m - 1] = (i &amp; 2) ? &#x27;z&#x27; : &#x27;x&#x27;; ans[i + 1][m - 1] = (i &amp; 2) ? &#x27;z&#x27; : &#x27;x&#x27;; &#125; for (int i = 0; i &lt; n; i++) &#123; cout &lt;&lt; ans[i] &lt;&lt; endl; &#125; &#125; else &#123; puts(&quot;NO&quot;); &#125; &#125; else &#123; // n%2==1 &amp;&amp; m%2==0 k -= m / 2; if (k &gt;= 0 &amp;&amp; k % 2 == 0) &#123; puts(&quot;YES&quot;); for (int i = 0; i &lt; n - 1; i += 2) &#123; for (int j = 0; j &lt; m; j += 2) &#123; if (k) &#123; k -= 2; ans[i][j] = (j &amp; 2) ? &#x27;a&#x27; : &#x27;c&#x27;; ans[i][j + 1] = (j &amp; 2) ? &#x27;a&#x27; : &#x27;c&#x27;; ans[i + 1][j] = (j &amp; 2) ? &#x27;b&#x27; : &#x27;d&#x27;; ans[i + 1][j + 1] = (j &amp; 2) ? &#x27;b&#x27; : &#x27;d&#x27;; &#125; else &#123; ans[i][j] = (i &amp; 2) ? &#x27;e&#x27; : &#x27;g&#x27;; ans[i + 1][j] = (i &amp; 2) ? &#x27;e&#x27; : &#x27;g&#x27;; ans[i][j + 1] = (i &amp; 2) ? &#x27;f&#x27; : &#x27;h&#x27;; ans[i + 1][j + 1] = (i &amp; 2) ? &#x27;f&#x27; : &#x27;h&#x27;; &#125; &#125; &#125; for (int j = 0; j &lt; m; j += 2) &#123; ans[n - 1][j] = (j &amp; 2) ? &#x27;z&#x27; : &#x27;x&#x27;; ans[n - 1][j + 1] = (j &amp; 2) ? &#x27;z&#x27; : &#x27;x&#x27;; &#125; for (int i = 0; i &lt; n; i++) &#123; cout &lt;&lt; ans[i] &lt;&lt; endl; &#125; &#125; else &#123; puts(&quot;NO&quot;); &#125; &#125; &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"CodeForces","slug":"ACM/åˆ·é¢˜å®æˆ˜/CodeForces","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/CodeForces/"}],"tags":[]},{"title":"UMLå›¾è¡¨æŒ‡å¼•","slug":"UML/UMLå›¾è¡¨æŒ‡å¼•/index","date":"2021-07-21T05:00:00.000Z","updated":"2021-07-21T05:00:00.000Z","comments":true,"path":"QWKWK0.html","link":"","permalink":"http://fightinggg.github.io/indigo/QWKWK0.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial UML ç»Ÿä¸€å»ºæ¨¡è¯­è¨€ï¼ˆè‹±è¯­ï¼šUnified Modeling Languageï¼Œç¼©å†™ UMLï¼‰æ˜¯éä¸“åˆ©çš„ç¬¬ä¸‰ä»£å»ºæ¨¡å’Œè§„çº¦è¯­è¨€ã€‚UMLæ˜¯ä¸€ç§å¼€æ”¾çš„æ–¹æ³•ï¼Œç”¨äºè¯´æ˜ã€å¯è§†åŒ–ã€æ„å»ºå’Œç¼–å†™ä¸€ä¸ªæ­£åœ¨å¼€å‘çš„ã€é¢å‘å¯¹è±¡çš„ã€è½¯ä»¶å¯†é›†ç³»ç»Ÿçš„åˆ¶å“çš„å¼€æ”¾æ–¹æ³•ã€‚UMLå±•ç°äº†ä¸€ç³»åˆ—æœ€ä½³å·¥ç¨‹å®è·µï¼Œè¿™äº›æœ€ä½³å®è·µåœ¨å¯¹å¤§è§„æ¨¡ï¼Œå¤æ‚ç³»ç»Ÿè¿›è¡Œå»ºæ¨¡æ–¹é¢ï¼Œç‰¹åˆ«æ˜¯åœ¨è½¯ä»¶æ¶æ„å±‚æ¬¡å·²ç»è¢«éªŒè¯æœ‰æ•ˆã€‚ æ‘˜è‡ªï¼š ç»´åŸºç™¾ç§‘ï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨ä¹¦ ç±»å›¾ç±»å›¾ä¸»è¦æè¿°çš„æ˜¯ç±»ä¸ç±»ä¹‹é—´çš„å…³ç³»ï¼Œè¿™äº›å…³ç³»åˆ†ä¸ºæ³›åŒ–å…³ç³»(generalization)ã€å®ç°å…³ç³»(realize)ã€èšåˆå…³ç³»(aggregation)ã€ç»„åˆå…³ç³»(composition)ã€å…³è”å…³ç³»(association)ã€ä¾èµ–å…³ç³»(dependency) æ³›åŒ–å…³ç³»æ³›åŒ–å³ç±»çš„ç»§æ‰¿ï¼Œè‡ªè¡Œè½¦ç»§æ‰¿è½¦ï¼ŒçŒ«ç»§æ‰¿åŠ¨ç‰©ï¼Œ æ‰€ä»¥è‡ªè¡Œè½¦æ˜¯è½¦çš„æ³›åŒ–ï¼ŒçŒ«æ˜¯åŠ¨ç‰©çš„æ³›åŒ–ï¼Œç”·äººæ˜¯äººçš„æ³›åŒ– (ç®­å¤´åº”è¯¥æ˜¯ç©ºå¿ƒ) 1234classDiagram è½¦ &lt;|-- è‡ªè¡Œè½¦ åŠ¨ç‰© &lt;|-- çŒ« äºº &lt;|-- ç”·äºº 1234classDiagram è½¦ &lt;|-- è‡ªè¡Œè½¦ åŠ¨ç‰© &lt;|-- çŒ« äºº &lt;|-- ç”·äºº","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial UML ç»Ÿä¸€å»ºæ¨¡è¯­è¨€ï¼ˆè‹±è¯­ï¼šUnified Modeling Languageï¼Œç¼©å†™ UMLï¼‰æ˜¯éä¸“åˆ©çš„ç¬¬ä¸‰ä»£å»ºæ¨¡å’Œè§„çº¦è¯­è¨€ã€‚UMLæ˜¯ä¸€ç§å¼€æ”¾çš„æ–¹æ³•ï¼Œç”¨äºè¯´æ˜ã€å¯è§†åŒ–ã€æ„å»ºå’Œç¼–å†™ä¸€ä¸ªæ­£åœ¨å¼€å‘çš„ã€é¢å‘å¯¹è±¡çš„ã€è½¯ä»¶å¯†é›†ç³»ç»Ÿçš„åˆ¶å“çš„å¼€æ”¾æ–¹æ³•ã€‚UMLå±•ç°äº†ä¸€ç³»åˆ—æœ€ä½³å·¥ç¨‹å®è·µï¼Œè¿™äº›æœ€ä½³å®è·µåœ¨å¯¹å¤§è§„æ¨¡ï¼Œå¤æ‚ç³»ç»Ÿè¿›è¡Œå»ºæ¨¡æ–¹é¢ï¼Œç‰¹åˆ«æ˜¯åœ¨è½¯ä»¶æ¶æ„å±‚æ¬¡å·²ç»è¢«éªŒè¯æœ‰æ•ˆã€‚ æ‘˜è‡ªï¼š ç»´åŸºç™¾ç§‘ï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨ä¹¦ ç±»å›¾ç±»å›¾ä¸»è¦æè¿°çš„æ˜¯ç±»ä¸ç±»ä¹‹é—´çš„å…³ç³»ï¼Œè¿™äº›å…³ç³»åˆ†ä¸ºæ³›åŒ–å…³ç³»(generalization)ã€å®ç°å…³ç³»(realize)ã€èšåˆå…³ç³»(aggregation)ã€ç»„åˆå…³ç³»(composition)ã€å…³è”å…³ç³»(association)ã€ä¾èµ–å…³ç³»(dependency) æ³›åŒ–å…³ç³»æ³›åŒ–å³ç±»çš„ç»§æ‰¿ï¼Œè‡ªè¡Œè½¦ç»§æ‰¿è½¦ï¼ŒçŒ«ç»§æ‰¿åŠ¨ç‰©ï¼Œ æ‰€ä»¥è‡ªè¡Œè½¦æ˜¯è½¦çš„æ³›åŒ–ï¼ŒçŒ«æ˜¯åŠ¨ç‰©çš„æ³›åŒ–ï¼Œç”·äººæ˜¯äººçš„æ³›åŒ– (ç®­å¤´åº”è¯¥æ˜¯ç©ºå¿ƒ) 1234classDiagram è½¦ &lt;|-- è‡ªè¡Œè½¦ åŠ¨ç‰© &lt;|-- çŒ« äºº &lt;|-- ç”·äºº 1234classDiagram è½¦ &lt;|-- è‡ªè¡Œè½¦ åŠ¨ç‰© &lt;|-- çŒ« äºº &lt;|-- ç”·äºº å®ç°å…³ç³»å®ç°å…³ç³»å³å®ç°ï¼Œdockerå®ç°äº†CRIï¼Œpodmanä¹Ÿå®ç°äº†CRIï¼ŒLXCä¹Ÿå®ç°äº†CRI (è¿™é‡Œä¹Ÿåº”è¯¥æ˜¯ç©ºå¿ƒç®­å¤´) 12345classDiagram CRI &lt;|.. docker CRI &lt;|.. podman CRI &lt;|.. LXC CRI &lt;|.. others 12345classDiagram CRI &lt;|.. docker CRI &lt;|.. podman CRI &lt;|.. LXC CRI &lt;|.. others èšåˆå…³ç³»èšåˆå…³ç³»æŒ‡çš„æ˜¯ä¸€äº›ç±»èšåˆåœ¨ä¸€èµ·æˆä¸ºäº†ä¸€ä¸ªæ–°çš„ç±»ï¼Œå¾ˆå¤šå¼€å‘çˆ±å¥½è€…èšåˆåœ¨ä¸€èµ·æˆäº†apacheåŸºé‡‘ä¼šã€å…¬æœ‰äº‘ä¸Šçš„MysqlæœåŠ¡å’Œæˆ‘ä»¬çš„JavaæœåŠ¡èšåˆåœ¨ä¸€èµ·æˆä¸ºäº†ä¸€ä¸ªWebæœåŠ¡ æ³¨æ„ï¼š èšåˆå…³ç³»çš„æ•´ä½“ï¼Œæ•´ä½“æ²¡æœ‰äº†ï¼Œéƒ¨åˆ†è¿˜å¯ä»¥å­˜åœ¨ 123classDiagram ApacheåŸºé‡‘ä¼š o-- developmentLover WebæœåŠ¡ o-- å…¬æœ‰äº‘çš„Mysqlé›†ç¾¤ 123classDiagram ApacheåŸºé‡‘ä¼š o-- developmentLover WebæœåŠ¡ o-- å…¬æœ‰äº‘çš„Mysqlé›†ç¾¤ ç»„åˆå…³ç³»ç»„åˆå…³ç³»æŒ‡çš„æ˜¯ä¸€äº›ç±»ç»„åˆåœ¨ä¸€èµ·æˆä¸ºäº†ä¸€ä¸ªæ–°çš„ç±»ï¼Œç†äº‹ä¼šå’Œé¡¹ç›®ç®¡ç†å§”å‘˜ä¼šç»„æˆäº†apacheåŸºé‡‘ä¼šã€æ‰‹è„šå¤´èº«ä½“ç»„æˆäº†äºº æ³¨æ„ï¼š ç»„åˆå…³ç³»çš„æ•´ä½“ï¼Œæ•´ä½“æ²¡æœ‰äº†ï¼Œéƒ¨åˆ†ä¹Ÿå°±ä¸å­˜åœ¨ 1234567classDiagram ApacheåŸºé‡‘ä¼š *-- ç†äº‹ä¼š ApacheåŸºé‡‘ä¼š *-- é¡¹ç›®ç®¡ç†å§”å‘˜ä¼š äºº *-- å¤´ äºº *-- æ‰‹ äºº *-- è„š äºº *-- èº«ä½“ 1234567classDiagram ApacheåŸºé‡‘ä¼š *-- ç†äº‹ä¼š ApacheåŸºé‡‘ä¼š *-- é¡¹ç›®ç®¡ç†å§”å‘˜ä¼š äºº *-- å¤´ äºº *-- æ‰‹ äºº *-- è„š äºº *-- èº«ä½“ å…³è”å…³ç³» ä¹˜è½¦äººå’Œè½¦ç¥¨ä¹‹é—´å°±æ˜¯ä¸€ç§å…³è”å…³ç³»ï¼›å­¦ç”Ÿå’Œå­¦æ ¡å°±æ˜¯ä¸€ç§å…³è”å…³ç³»ï¼› å…³è”å…³ç³»é»˜è®¤ä¸å¼ºè°ƒæ–¹å‘ï¼Œè¡¨ç¤ºå¯¹è±¡é—´ç›¸äº’çŸ¥é“ï¼›å¦‚æœç‰¹åˆ«å¼ºè°ƒæ–¹å‘ï¼Œå¦‚ä¸‹å›¾ï¼Œè¡¨ç¤ºAçŸ¥é“Bï¼Œä½† Bä¸çŸ¥é“Aï¼› æ‘˜è‡ªï¼š çœ‹æ‡‚UMLç±»å›¾å’Œæ—¶åºå›¾ 12classDiagram B &lt;-- A 12classDiagram B &lt;-- A ä¾èµ–å…³ç³»æˆ‘ä»¬çš„springåº”ç”¨ä¾èµ–springæ¡†æ¶ Mysqlæ•°æ®åº“ä¾èµ–Bæ ‘ 123classDiagram springæ¡†æ¶ &lt;.. springåº”ç”¨ Bæ ‘ &lt;.. Mysql 123classDiagram springæ¡†æ¶ &lt;.. springåº”ç”¨ Bæ ‘ &lt;.. Mysql æ—¶åºå›¾è°ƒç”¨123sequenceDiagram A -&gt;&gt; +B: è°ƒç”¨ B --&gt;&gt; -A: è¿”å› å¼‚æ­¥è°ƒç”¨12sequenceDiagram A --) B: å¼‚æ­¥è°ƒç”¨","categories":[{"name":"UML","slug":"UML","permalink":"http://fightinggg.github.io/indigo/categories/UML/"}],"tags":[]},{"title":"Javaå¼‚å¸¸åŸå› åŠå¤„ç†","slug":"Language/Java/Javaå¼‚å¸¸åŸå› åŠå¤„ç†/index","date":"2021-07-21T04:57:00.000Z","updated":"2022-05-05T09:06:00.000Z","comments":true,"path":"QWKWF0.html","link":"","permalink":"http://fightinggg.github.io/indigo/QWKWF0.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Javaå¸¸è§å¼‚å¸¸1234567891011classDiagram Object &lt;|-- Throwable Throwable &lt;|-- Error Throwable &lt;|-- Exception Error &lt;|-- OutOfMemoryError Error &lt;|-- NoClassDefFoundError Error &lt;|-- StackOverflowError Exception &lt;|-- IOException Exception &lt;|-- RuntimeException RuntimeException &lt;|-- NullPointerException RuntimeException &lt;|-- IndexOutOfBoundsException NoClassDefFoundError å¼‚å¸¸åŸå› å¤„ç†","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Javaå¸¸è§å¼‚å¸¸1234567891011classDiagram Object &lt;|-- Throwable Throwable &lt;|-- Error Throwable &lt;|-- Exception Error &lt;|-- OutOfMemoryError Error &lt;|-- NoClassDefFoundError Error &lt;|-- StackOverflowError Exception &lt;|-- IOException Exception &lt;|-- RuntimeException RuntimeException &lt;|-- NullPointerException RuntimeException &lt;|-- IndexOutOfBoundsException NoClassDefFoundError å¼‚å¸¸åŸå› å¤„ç† ç±»åˆå§‹åŒ–å¤±è´¥å¦‚æœä¸€ä¸ªç±»åˆå§‹åŒ–å¤±è´¥ï¼Œåœ¨ç¬¬ä¸€æ¬¡å¤±è´¥çš„æ—¶å€™ä¼šæŠ¥é”™java.lang.ExceptionInInitializerErrorï¼Œç¬¬äºŒæ¬¡å°±ä¼šjava.lang.NoClassDefFoundError ä»Šå¤©ç¢°åˆ°è¿™ä¸ªé—®é¢˜äº†ï¼ŒæŸ¥äº†ä¸€ä¸‹åˆï¼ˆ2023-05-05ï¼‰ï¼Œfuck 12345678910111213141516package com.example.demo;public class Main &#123; public static void main(String[] args) &#123; try &#123; new ClassNotDefErrorFromClassLoad(); &#125; catch (Throwable e) &#123; e.printStackTrace(); &#125; new ClassNotDefErrorFromClassLoad(); &#125;&#125;class ClassNotDefErrorFromClassLoad &#123; private static final String ERROR = String.valueOf(1 / 0);&#125; 1234567java.lang.ExceptionInInitializerError at com.example.demo.Main.main(Main.java:6)Caused by: java.lang.ArithmeticException: / by zero at com.example.demo.ClassNotDefErrorFromClassLoad.&lt;clinit&gt;(Main.java:15) ... 1 moreException in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class com.example.demo.ClassNotDefErrorFromClassLoad at com.example.demo.Main.main(Main.java:10) classæ–‡ä»¶ä¸¢å¤±å¯¹ä¸‹é¢è¿™ä¸ªç±»ï¼Œå¯åŠ¨åç¨‹åºè¿è¡Œæ­£å¸¸ 1234567891011package com.example.demo;public class Main &#123; public static void main(String[] args) &#123; new ClassNotDefErrorFromClassNotFound(); &#125;&#125;class ClassNotDefErrorFromClassNotFound &#123;&#125; 1Process finished with exit code 0 æˆ‘ä»¬è§‚å¯Ÿç¼–è¯‘çš„ç»“æœï¼Œå‘ç°ä¸¤ä¸ªclassæ–‡ä»¶ 1234567891011121314$ tree target/target/|-- classes| |-- application.properties| `-- com| `-- example| `-- demo| |-- ClassNotDefErrorFromClassNotFound.class| `-- Main.class|-- generated-sources| `-- annotations|-- generated-test-sources| `-- test-annotations`-- test-classes è¿™æ—¶å€™æˆ‘ä»¬åˆ é™¤ClassNotDefErrorFromClassNotFound.classï¼Œç„¶åè¿è¡Œä»£ç ï¼Œå‘ç°æŠ¥é”™NoClassDefFoundError 12345678910Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/example/demo/ClassNotDefErrorFromClassNotFound at com.example.demo.Main.main(Main.java:5)Caused by: java.lang.ClassNotFoundException: com.example.demo.ClassNotDefErrorFromClassNotFound at java.net.URLClassLoader.findClass(URLClassLoader.java:382) at java.lang.ClassLoader.loadClass(ClassLoader.java:424) at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349) at java.lang.ClassLoader.loadClass(ClassLoader.java:357) ... 1 moreProcess finished with exit code 1","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"}],"tags":[]},{"title":"VK Cup 2021 - Elimination (Engine)","slug":"ACM/åˆ·é¢˜å®æˆ˜/CodeForces/VK Cup 2021 - Elimination (Engine)/index","date":"2021-07-18T15:16:00.000Z","updated":"2021-07-18T15:16:00.000Z","comments":true,"path":"QWG52O.html","link":"","permalink":"http://fightinggg.github.io/indigo/QWG52O.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ¯”èµ›é“¾æ¥VK Cup 2021 - Elimination (Engine) 1. A. Binary Decimal1.1. é¢˜æ„ç»™ä½ ä¸€ä¸ªåè¿›åˆ¶æ•°ï¼Œä½ è¦æŠŠå®ƒæ‹†æˆå¤šä¸ªåªç”±0å’Œ1ç»„æˆçš„åè¿›åˆ¶æ•°ä¹‹å’Œï¼Œé—®æœ€å°‘æ‹†å‡ ä¸ªã€‚ 1.2. åšæ³•ç­”æ¡ˆå°±æ˜¯åè¿›åˆ¶æ•°æ¯ä¸ªä½ä¸Šçš„æ•°ä¸­çš„æœ€å¤§å€¼ 1.3. ä»£ç 1234567891011121314151617181920#include &lt;bits/stdc++.h&gt;using namespace std;int main() &#123; std::ios::sync_with_stdio(false); cin.tie(); int n; cin &gt;&gt; n; while (n--) &#123; int x; cin &gt;&gt; x; int mx = 0; while (x) &#123; mx = max(mx, x % 10); x /= 10; &#125; cout &lt;&lt; mx &lt;&lt; endl; &#125;&#125;","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ¯”èµ›é“¾æ¥VK Cup 2021 - Elimination (Engine) 1. A. Binary Decimal1.1. é¢˜æ„ç»™ä½ ä¸€ä¸ªåè¿›åˆ¶æ•°ï¼Œä½ è¦æŠŠå®ƒæ‹†æˆå¤šä¸ªåªç”±0å’Œ1ç»„æˆçš„åè¿›åˆ¶æ•°ä¹‹å’Œï¼Œé—®æœ€å°‘æ‹†å‡ ä¸ªã€‚ 1.2. åšæ³•ç­”æ¡ˆå°±æ˜¯åè¿›åˆ¶æ•°æ¯ä¸ªä½ä¸Šçš„æ•°ä¸­çš„æœ€å¤§å€¼ 1.3. ä»£ç 1234567891011121314151617181920#include &lt;bits/stdc++.h&gt;using namespace std;int main() &#123; std::ios::sync_with_stdio(false); cin.tie(); int n; cin &gt;&gt; n; while (n--) &#123; int x; cin &gt;&gt; x; int mx = 0; while (x) &#123; mx = max(mx, x % 10); x /= 10; &#125; cout &lt;&lt; mx &lt;&lt; endl; &#125;&#125; 2. B. Putting Plates2.1. é¢˜æ„å‘Šè¯‰ä½ çŸ©é˜µçš„é•¿å’Œå®½ï¼Œä½ è¦åœ¨çŸ©é˜µçš„è¾¹ç•Œä¸Šå¡«0æˆ–è€…1ï¼Œä¸å…è®¸å‡ºç°ä¸¤ä¸ª1ç›¸é‚»ï¼ˆä¸Šä¸‹å·¦å³ä»¥åŠå¯¹è§’ä¸€å…±å…«ä¸ªæ–¹å‘ï¼‰ 2.2. åšæ³•è´ªå¿ƒé¡ºæ—¶é’ˆå¡«1ï¼Œèƒ½å¡«å°±å¡«ï¼Œè¿™ä¸ªè´ªå¿ƒæ˜¯å¯¹çš„ 2.3. ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243#include &lt;bits/stdc++.h&gt;using namespace std;int main() &#123; std::ios::sync_with_stdio(false); cin.tie(); int n; cin &gt;&gt; n; while (n--) &#123; int x, y; cin &gt;&gt; x &gt;&gt; y; vector&lt;vector&lt;int&gt;&gt; vis(x, vector&lt;int&gt;(y)); // ä¸Šé¢ // 1010101010.... for (int i = 0; i &lt; y; i += 2) &#123; vis[0][i] = 1; &#125; // å³è¾¹ for (int i = 2; i &lt; x; i += 2) &#123; vis[i][y - 1] = 1; &#125; // ä¸‹é¢ for (int i = y - 3; i &gt;= 0; i -= 2) &#123; vis[x - 1][i] = 1; &#125; // å·¦è¾¹ for (int i = x - 3; i &gt;= 2; i -= 2) &#123; vis[i][0] = 1; &#125; for(int i=0;i&lt;x;i++)&#123; for(int j=0;j&lt;y;j++)&#123; cout&lt;&lt;vis[i][j]; &#125; cout&lt;&lt;endl; &#125; cout&lt;&lt;endl; &#125;&#125; 3. C. Pursuit3.1. é¢˜æ„ä¸¤ä¸ªäººæ¯”nåœºï¼Œæ¯ä¸ªäººçš„æ€»åˆ†å–å„è‡ªæœ€å¤§çš„$n+\\lfloor \\frac{n}{4}\\rfloor$ä¸ªå¾—åˆ†æ±‚å’Œã€‚ ä½ ç°åœ¨çŸ¥é“äº†å‰kåœºæ¯”èµ›çš„ç»“æœï¼Œé—®ä½ è‡³å°‘è¿˜è¦æ¯”å¤šå°‘åœºï¼Œä½ æ‰æœ‰å¯èƒ½èµ¢è¿‡å¯¹æ–¹ï¼ˆå¯ä»¥å‡è®¾ä½ åé¢å…¨éƒ¨å¾—æ»¡åˆ†ï¼Œå¯¹é¢å¾—0åˆ†ï¼‰ 3.2. é¢˜è§£äºŒåˆ†åœºæ•°ï¼Œè‡ªå·±å–100åˆ†ï¼Œå¯¹é¢å–0åˆ† 3.3. ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445#include &lt;bits/stdc++.h&gt;using namespace std;int main() &#123; std::ios::sync_with_stdio(false); cin.tie(); int step; cin &gt;&gt; step; while (step--) &#123; int n; cin &gt;&gt; n; vector&lt;int&gt; me(n), you(n); for (int i = 0; i &lt; n; i++) cin &gt;&gt; me[i]; for (int i = 0; i &lt; n; i++) cin &gt;&gt; you[i]; sort(me.begin(), me.end(), [](int a, int b) &#123; return a &gt; b; &#125;); sort(you.begin(), you.end(), [](int a, int b) &#123; return a &gt; b; &#125;); for (int i = 1; i &lt; me.size(); i++) &#123; me[i] += me[i - 1]; &#125; for (int i = 1; i &lt; me.size(); i++) &#123; you[i] += you[i - 1]; &#125; int l = 0, r = n + 1; while (l &lt; r) &#123; int mid = (l + r) &gt;&gt; 1; int ksub = (mid + n) - (mid + n) / 4; int big = min(ksub, mid); int little = ksub - big; int meSum = big * 100 + (little == 0 ? 0 : me[little - 1]); int youSum = you[min(ksub - 1, n - 1)]; if (meSum &gt;= youSum) &#123; r = mid; &#125; else &#123; l = mid + 1; &#125; &#125; cout &lt;&lt; l &lt;&lt; endl; &#125;&#125; 4. D. Secret Santa4.1. é¢˜æ„ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•°ç»„aï¼Œæ¯ä¸ªæ•°éƒ½åœ¨1åˆ°nä¹‹é—´ï¼ˆåŒ…æ‹¬1å’Œnï¼‰ï¼Œä½ éœ€è¦å¯»æ‰¾ä¸€ä¸ªå®Œå…¨é”™æ’bï¼Œä½¿å¾—å°½å¯èƒ½å¤šçš„iæ»¡è¶³a[i]=b[i] 4.2. åšæ³•è´ªå¿ƒä¸€éï¼Œå°½å¯èƒ½å¤šçš„åŒ¹é…ï¼Œè¿™æ˜¯ç­”æ¡ˆçš„ä¸Šå±Šï¼Œå¯èƒ½ä¼šå‰©ä¸‹ä¸€äº›ä½ç½®æ²¡æœ‰åˆ†é…å€¼ï¼Œå¦‚æœè¶…è¿‡1ä¸ªä½ç½®ï¼Œåˆ™å¯ä»¥åˆ†é…æˆåŠŸ å¦‚æœåªå‰©ä¸‹ä¸€ä¸ªä½ç½®posäº†ï¼Œä¸”ä»–çš„å€¼ä¸ºxï¼Œé‚£å°±çœ‹bä¸­å“ªä¸ªä½ç½®ç°åœ¨çš„å€¼ä¸ºxï¼ŒæŠŠå®ƒä¿®æ”¹ä¸ºposï¼Œç„¶åb[pos]=x 4.3. ä»£ç 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768#include &lt;bits/stdc++.h&gt;using namespace std;int main() &#123; std::ios::sync_with_stdio(false); cin.tie(); int step; cin &gt;&gt; step; while (step--) &#123; int n; cin &gt;&gt; n; vector&lt;int&gt; a(n), b(n); for (int i = 0; i &lt; n; i++) cin &gt;&gt; a[i], a[i]--; vector&lt;int&gt; vis(n); vector&lt;int&gt; pos; for (int i = 0; i &lt; n; i++) &#123; if (!vis[a[i]]) &#123; vis[a[i]] = true; b[i] = a[i]; &#125; else &#123; b[i] = -1; pos.push_back(i); &#125; &#125; vector&lt;int&gt; value; for (int i = 0; i &lt; n; i++) &#123; if (!vis[i]) &#123; value.push_back(i); &#125; &#125; int ans = n-value.size(); for (int i = 0; i &lt; pos.size(); i++) &#123; int posi = pos[i]; b[posi] = value.back(); value.pop_back(); if (b[posi] == posi) &#123; if (value.empty()) &#123; int index = 0; while (b[index] != a[posi]) index++; swap(b[posi], b[index]); //212 //213 &#125; else &#123; b[posi] = value.back(); value.pop_back(); value.push_back(posi); &#125; &#125; &#125; cout&lt;&lt;ans&lt;&lt;endl; for (int i = 0; i &lt; n; i++) &#123; cout &lt;&lt; (b[i] + 1) &lt;&lt; (i == n - 1 ? &quot;\\n&quot; : &quot; &quot;); &#125; &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"CodeForces","slug":"ACM/åˆ·é¢˜å®æˆ˜/CodeForces","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/CodeForces/"}],"tags":[]},{"title":"Codeforces Round #729 (Div. 2) - E1","slug":"ACM/åˆ·é¢˜å®æˆ˜/CodeForces/Codeforces Round #729 (Div. 2) - E1/index","date":"2021-07-16T06:20:19.000Z","updated":"2021-07-16T06:20:19.000Z","comments":true,"path":"QWBQXV.html","link":"","permalink":"http://fightinggg.github.io/indigo/QWBQXV.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial é¢˜ç›®å¤§æ„ï¼šä½ éœ€è¦è®¡ç®—æœ‰å¤šå°‘å¯¹æ»¡è¶³é•¿åº¦ä¸ºnçš„æ’åˆ—$p$å’Œ$q$ï¼Œæ»¡è¶³$p$å­—å…¸åº&gt;$q$ ä¸” $inv(p)&lt;inv(q)$ï¼Œç­”æ¡ˆå–æ¨¡ $inv$ ä¸ºé€†åºå¯¹ä¸ªæ•° åšæ³•ï¼šè®¾$f(i,j)$ä¸ºé•¿åº¦ä¸º$i$ã€é€†åºå¯¹ä¸ªæ•°ä¸º$j$çš„æ’åˆ—çš„ä¸ªæ•° , è€ƒè™‘ç¬¬ä¸€ä¸ªæ•°å­—ä¸º$t$ $f(i,j) &#x3D; \\sum_{t \\in [1,i]} f(i-1,j-t+1)$ ä¸€ä¸ªå¡«$u$ï¼Œå¦ä¸€ä¸ªå¡«$v$ $u&lt;v$ $$\\begin{aligned}ans[i] \\&amp;&#x3D; i * ans[i-1] + \\sum_{1&lt;&#x3D;u&lt;v&lt;&#x3D;i, x+u&gt;y+v} f(i-1,x)\\cdot f(i-1,y) \\&amp;&#x3D; i * ans[i-1] + \\sum_{x-y&gt;v-u, 1&lt;&#x3D;u&lt;v&lt;&#x3D;i} f(i-1,x)\\cdot f(i-1,y) \\&amp;&#x3D; i * ans[i-1] + \\sum_{x-y&gt;d, 1&lt;&#x3D;d&lt;i} (i-d)*f(i-1,x)\\cdot f(i-1,y) \\&amp;&#x3D; i * ans[i-1] + \\sum_{x,y} f(i-1,x)\\cdot f(i-1,y) \\cdot \\sum_{x-y&gt;d, 1&lt;&#x3D;d&lt;i} (i-d)\\end{aligned}$$","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial é¢˜ç›®å¤§æ„ï¼šä½ éœ€è¦è®¡ç®—æœ‰å¤šå°‘å¯¹æ»¡è¶³é•¿åº¦ä¸ºnçš„æ’åˆ—$p$å’Œ$q$ï¼Œæ»¡è¶³$p$å­—å…¸åº&gt;$q$ ä¸” $inv(p)&lt;inv(q)$ï¼Œç­”æ¡ˆå–æ¨¡ $inv$ ä¸ºé€†åºå¯¹ä¸ªæ•° åšæ³•ï¼šè®¾$f(i,j)$ä¸ºé•¿åº¦ä¸º$i$ã€é€†åºå¯¹ä¸ªæ•°ä¸º$j$çš„æ’åˆ—çš„ä¸ªæ•° , è€ƒè™‘ç¬¬ä¸€ä¸ªæ•°å­—ä¸º$t$ $f(i,j) &#x3D; \\sum_{t \\in [1,i]} f(i-1,j-t+1)$ ä¸€ä¸ªå¡«$u$ï¼Œå¦ä¸€ä¸ªå¡«$v$ $u&lt;v$ $$\\begin{aligned}ans[i] \\&amp;&#x3D; i * ans[i-1] + \\sum_{1&lt;&#x3D;u&lt;v&lt;&#x3D;i, x+u&gt;y+v} f(i-1,x)\\cdot f(i-1,y) \\&amp;&#x3D; i * ans[i-1] + \\sum_{x-y&gt;v-u, 1&lt;&#x3D;u&lt;v&lt;&#x3D;i} f(i-1,x)\\cdot f(i-1,y) \\&amp;&#x3D; i * ans[i-1] + \\sum_{x-y&gt;d, 1&lt;&#x3D;d&lt;i} (i-d)*f(i-1,x)\\cdot f(i-1,y) \\&amp;&#x3D; i * ans[i-1] + \\sum_{x,y} f(i-1,x)\\cdot f(i-1,y) \\cdot \\sum_{x-y&gt;d, 1&lt;&#x3D;d&lt;i} (i-d)\\end{aligned}$$ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182#include&lt;iostream&gt;using namespace std;/** * é¢˜ç›®å¤§æ„ï¼š * http://codeforces.com/contest/1542/problem/E1 * ä½ éœ€è¦è®¡ç®—æœ‰å¤šå°‘å¯¹æ»¡è¶³é•¿åº¦ä¸ºnçš„æ’åˆ—på’Œqï¼Œæ»¡è¶³på­—å…¸åº&gt;q ä¸” inv(p)&lt;inv(q)ï¼Œç­”æ¡ˆå–æ¨¡ * inv ä¸ºé€†åºå¯¹ä¸ªæ•° * * åšæ³•ï¼š * è®¾f(i,j)ä¸ºé•¿åº¦ä¸ºiã€é€†åºå¯¹ä¸ªæ•°ä¸ºjçš„æ’åˆ—çš„ä¸ªæ•° , è€ƒè™‘ç¬¬ä¸€ä¸ªæ•°å­—ä¸ºt * f(i,j) = sum_&#123;t \\in [1,i]&#125; f(i-1,j-t+1) * * ä¸€ä¸ªå¡«uï¼Œå¦ä¸€ä¸ªå¡«v u&lt;v * ans[i] = i * ans[i-1] + sum_&#123;1&lt;=u&lt;v&lt;=i, x+u&gt;y+v&#125; f(i-1,x)*f(i-1,y) * = i * ans[i-1] + sum_&#123;x-y&gt;v-u, 1&lt;=u&lt;v&lt;=i&#125; f(i-1,x)*f(i-1,y) * = i * ans[i-1] + sum_&#123;x-y&gt;d, 1&lt;=d&lt;i&#125; (i-d)*f(i-1,x)*f(i-1,y) * = i * ans[i-1] + sum_&#123;x,y&#125; f(i-1,x)*f(i-1,y) * sum_&#123;x-y&gt;d, 1&lt;=d&lt;i&#125; (i-d) * * 4 403458273 * 17 */const int maxn = 50 + 5;int f[maxn][maxn * maxn];int main() &#123; int n, mod; cin &gt;&gt; n &gt;&gt; mod; // O(n^4) f[1][0] = 1; for (int i = 2; i &lt;= n; i++) &#123; for (int j = 0; j &lt;= n * n; j++) &#123; f[i][j] = 0; for (int t = 1; t &lt;= i; t++) &#123; f[i][j] = (f[i][j] + f[i - 1][j - t + 1]) % mod; &#125; &#125; &#125; // O(n^5) int ans = 0; for (int i = 1; i &lt;= n; i++) &#123; int add = 0; int upi = (0 + i - 1) * i / 2; for (int x = 0; x &lt;= upi; x++) &#123; for (int y = 0; y &lt; x; y++) &#123; int tmp = min(i - 1, x - y - 1); int sd = (i - 1 + i - tmp) * tmp / 2;// printf(&quot;x=%d y=%d %d\\n&quot;, x, y, sd); add = (add + 1ll * sd * f[i - 1][x] % mod * f[i - 1][y]) % mod; &#125; &#125;// cout &lt;&lt; &quot;i=&quot; &lt;&lt; i &lt;&lt; &quot; add=&quot; &lt;&lt; add &lt;&lt; endl; ans = (1ll * i * ans + add) % mod; &#125; cout &lt;&lt; ans &lt;&lt; endl; for (int i = 1; i &lt;= n; i++) &#123; for (int j = 0; j &lt;= n * n; j++) &#123;// printf(&quot;%d%c&quot;, f[i][j], j == n * n ? &#x27;\\n&#x27; : &#x27; &#x27;); &#125; &#125;&#125;/*** * * 123 0 * 132 1 * 213 1 * 231 2 * 312 2 * 321 3 * **/","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"CodeForces","slug":"ACM/åˆ·é¢˜å®æˆ˜/CodeForces","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/CodeForces/"}],"tags":[]},{"title":"é€šè¿‡å¼€æºé¡¹ç›®è·å–jetbrainså…¨å®¶æ¡¶License","slug":"Others/é€šè¿‡å¼€æºé¡¹ç›®è·å–jetbrainså…¨å®¶æ¡¶License/index","date":"2021-07-09T14:13:00.000Z","updated":"2021-07-09T14:13:00.000Z","comments":true,"path":"QVZE5O.html","link":"","permalink":"http://fightinggg.github.io/indigo/QVZE5O.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial JetBrains Licenseä¸è¦ç”¨ç ´è§£ç‰ˆæœ¬çš„JetBrainsè½¯ä»¶OKï¼Ÿå‡­è‡ªå·±çš„èƒ½åŠ›è·å–ä»–çš„Licenseä¸è¡Œå—ï¼Ÿ å…ˆæ¥çœ‹çœ‹è¿™ä¸ªé¡µé¢ï¼Œè¿™é‡Œä»‹ç»äº†å¼€æºé¡¹ç›®çš„å®šä¹‰ æ»¡è¶³å¼€æºå®šä¹‰ã€‚ æ­£åœ¨ç§¯æå¼€å‘ä¸­ï¼Œå³åœ¨è¿‡å» 3 ä¸ªæœˆå†…å®šæœŸæäº¤æ–°ä»£ç æäº¤ã€‚ ä¸æä¾›å¼€æºè½¯ä»¶çš„ä»˜è´¹ç‰ˆæœ¬æˆ–å›´ç»•å¼€æºé¡¹ç›®çš„ä»»ä½•å•†ä¸šæœåŠ¡ï¼ˆä¾‹å¦‚ä»˜è´¹æ”¯æŒã€å’¨è¯¢ç­‰ï¼‰ã€‚ ä¸ç”±å•†ä¸šå…¬å¸æˆ–ç»„ç»‡ï¼ˆéæ”¿åºœç»„ç»‡ã€æ•™è‚²ã€ç ”ç©¶æˆ–æ”¿åºœï¼‰èµ„åŠ©çš„ã€‚ ä¸ä¸ºæ ¸å¿ƒé¡¹ç›®å¼€å‘å•†ä»˜é’±ã€‚ æ¢å¥è¯è¯´ï¼Œåªè¦ä½ æœ‰ä¸€ä¸ªåœ¨è¿‡å» 3 ä¸ªæœˆå†…å®šæœŸæäº¤çš„å¼€æºé¡¹ç›®ï¼Œä¸”éå•†ä¸šæ¨¡å¼ï¼Œä½ å°±å¯ä»¥è·å–JBçš„License ç„¶åä½ å°±æ¥è¿™é‡Œç”³è¯· å‡ å¤©åå°±èƒ½ç»™ä½ ç»“æœäº†","categories":[{"name":"Others","slug":"Others","permalink":"http://fightinggg.github.io/indigo/categories/Others/"}],"tags":[]},{"title":"redisæºç ","slug":"Database/redisæºç /index","date":"2021-06-26T06:45:00.000Z","updated":"2021-06-26T06:45:00.000Z","comments":true,"path":"QVAQR0.html","link":"","permalink":"http://fightinggg.github.io/indigo/QVAQR0.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ç‰ˆæœ¬ä½¿ç”¨6.2.4 sds.h sds.cå†…å­˜å¯¹é½__attribute__((__packed__))å¯ä»¥è®©ç¼–è¯‘å™¨å¯¹ç»“æ„ä½“ä¸è¿›è¡Œå†…å­˜å¯¹é½ï¼Œè¯¦ç»†å‚è€ƒ 1234567891011121314151617181920212223242526#include &lt;stdint.h&gt;#include &lt;stdio.h&gt;struct __attribute__((__packed__)) sdshdr64 &#123; uint64_t len; /* used */ uint64_t alloc; /* excluding the header and null terminator */ unsigned char flags; /* 3 lsb of type, 5 unused bits */ char buf[];&#125;;struct _sdshdr64 &#123; uint64_t len; /* used */ uint64_t alloc; /* excluding the header and null terminator */ unsigned char flags; /* 3 lsb of type, 5 unused bits */ char buf[];&#125;;int main() &#123; printf(&quot;packed: %d\\n&quot;, sizeof(struct sdshdr64)); printf(&quot;nopacked: %d\\n&quot;, sizeof(struct _sdshdr64));&#125;/*gcc a.c -o a &amp;&amp; ./apacked: 17nopacked: 24*/ å®####åæ ‡è¯†çš„å­—ç¬¦ä¸²ä¼šè¢«æ›¿æ¢ï¼Œç„¶åå…¶å·¦å³çš„å†…å®¹åŠ ä¸Šè‡ªå·±ä¼šè¢«åˆå¹¶åˆ°ä¸€èµ·ï¼Œç¼–è¯‘å™¨å°†å…¶è§†ä¸ºæ ‡è¯†ç¬¦è¿›è¡Œè§£æï¼Œè¯¦ç»†å‚è€ƒ","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ç‰ˆæœ¬ä½¿ç”¨6.2.4 sds.h sds.cå†…å­˜å¯¹é½__attribute__((__packed__))å¯ä»¥è®©ç¼–è¯‘å™¨å¯¹ç»“æ„ä½“ä¸è¿›è¡Œå†…å­˜å¯¹é½ï¼Œè¯¦ç»†å‚è€ƒ 1234567891011121314151617181920212223242526#include &lt;stdint.h&gt;#include &lt;stdio.h&gt;struct __attribute__((__packed__)) sdshdr64 &#123; uint64_t len; /* used */ uint64_t alloc; /* excluding the header and null terminator */ unsigned char flags; /* 3 lsb of type, 5 unused bits */ char buf[];&#125;;struct _sdshdr64 &#123; uint64_t len; /* used */ uint64_t alloc; /* excluding the header and null terminator */ unsigned char flags; /* 3 lsb of type, 5 unused bits */ char buf[];&#125;;int main() &#123; printf(&quot;packed: %d\\n&quot;, sizeof(struct sdshdr64)); printf(&quot;nopacked: %d\\n&quot;, sizeof(struct _sdshdr64));&#125;/*gcc a.c -o a &amp;&amp; ./apacked: 17nopacked: 24*/ å®####åæ ‡è¯†çš„å­—ç¬¦ä¸²ä¼šè¢«æ›¿æ¢ï¼Œç„¶åå…¶å·¦å³çš„å†…å®¹åŠ ä¸Šè‡ªå·±ä¼šè¢«åˆå¹¶åˆ°ä¸€èµ·ï¼Œç¼–è¯‘å™¨å°†å…¶è§†ä¸ºæ ‡è¯†ç¬¦è¿›è¡Œè§£æï¼Œè¯¦ç»†å‚è€ƒ sds.h æºç sds å¯ä»¥è¢«ç®€å•çš„è®¤ä¸ºæ˜¯ä¸€ä¸ª char* 1typedef char *sds; æ¥ä¸‹æ¥æ˜¯5ç§ sds ä»–ä»¬æ˜¯sdshdr5, sdshdr8, sdshdr16, sdshdr32, sdshdr64, åˆ†åˆ«å¯ä»¥å‚¨å­˜é•¿åº¦ä¸º$2^5$, $2^8$, $2^{16}$, $2^{32}$, $2^{64}$ çš„å­—ç¬¦ä¸²ã€‚ __attribute__ ((__packed__))æ˜¯ç¼–è¯‘å™¨æŒ‡ä»¤ï¼Œå¯ä»¥å–æ¶ˆå†…å­˜å¯¹é½ï¼Œè®©å†…å­˜ç´§å‡‘æ’åˆ—ï¼Œè¿™éƒ¨åˆ†é¦–å…ˆçœ‹åå››ä¸ªç»“æ„ä½“ï¼Œä»–ä»¬çš„å†…å­˜ç»“æ„å®šä¹‰å‡ ä¹ä¸€æ‘¸ä¸€æ ·ã€‚ len: å­—ç¬¦ä¸²çš„é•¿åº¦ allocï¼š åˆ†é…çš„ç©ºé—´å¤§å° flagsï¼š å­—ç¬¦ä¸²çš„ç±»å‹ï¼ˆ5ç§ï¼‰ï¼Œæ‰€ä»¥åªæœ‰æœ€ä½çš„ä¸‰ä½æœ‰æ„ä¹‰ï¼Œé«˜5ä½ä¸åšä½¿ç”¨ã€‚ bufï¼š å­—ç¬¦ä¸²çš„å®é™…å†…å®¹ å¯¹äºsdshdr5,ä»–æ¯”è¾ƒç‰¹æ®Šï¼Œå®é™…ä¸Šä»–çš„lenå’Œallocä¸€å®šç›¸ç­‰ï¼Œå¹¶å‚¨å­˜äºflagsçš„é«˜5ä½ä¸Šï¼Œå€Ÿæ­¤å®ç°äº†å†…å­˜å‹ç¼©ã€‚ 123456789101112131415161718192021222324252627282930/* Note: sdshdr5 is never used, we just access the flags byte directly. * However is here to document the layout of type 5 SDS strings. */struct __attribute__ ((__packed__)) sdshdr5 &#123; unsigned char flags; /* 3 lsb of type, and 5 msb of string length */ char buf[];&#125;;struct __attribute__ ((__packed__)) sdshdr8 &#123; uint8_t len; /* used */ uint8_t alloc; /* excluding the header and null terminator */ unsigned char flags; /* 3 lsb of type, 5 unused bits */ char buf[];&#125;;struct __attribute__ ((__packed__)) sdshdr16 &#123; uint16_t len; /* used */ uint16_t alloc; /* excluding the header and null terminator */ unsigned char flags; /* 3 lsb of type, 5 unused bits */ char buf[];&#125;;struct __attribute__ ((__packed__)) sdshdr32 &#123; uint32_t len; /* used */ uint32_t alloc; /* excluding the header and null terminator */ unsigned char flags; /* 3 lsb of type, 5 unused bits */ char buf[];&#125;;struct __attribute__ ((__packed__)) sdshdr64 &#123; uint64_t len; /* used */ uint64_t alloc; /* excluding the header and null terminator */ unsigned char flags; /* 3 lsb of type, 5 unused bits */ char buf[];&#125;; sds æŠŠå­—ç¬¦ä¸²çš„å†…å®¹ï¼Œä»¥åŠä»–çš„å…ƒä¿¡æ¯ï¼ˆå­—ç¬¦ä¸²ç±»å‹ã€å­—ç¬¦ä¸²é•¿åº¦ã€å­—ç¬¦ä¸²åˆ†é…çš„ç©ºé—´ï¼‰å‚¨å­˜åœ¨äº†ä¸€èµ·ï¼Œè®©å†…å­˜æ’åˆ—æ›´åŠ ç´§è‡´ã€‚ adlist.c adlist.hå¾ˆæ™®é€šçš„é“¾è¡¨ï¼Œå¹¶æ²¡æœ‰ä»€ä¹ˆå¾ˆç‰¹æ®Šçš„åœ°æ–¹ï¼Œæ³¨æ„listIterçš„directionæ˜¯è¿­ä»£å™¨çš„æ–¹å‘ã€‚ 12345678910111213141516171819typedef struct listNode &#123; struct listNode *prev; struct listNode *next; void *value;&#125; listNode;typedef struct listIter &#123; listNode *next; int direction;&#125; listIter;typedef struct list &#123; listNode *head; listNode *tail; void *(*dup)(void *ptr); void (*free)(void *ptr); int (*match)(void *ptr, void *key); unsigned long len;&#125; list; mt19937-64.c mt19937-64.hæ¢…æ£®ç´ æ•°åœ¨OEISä¸Šï¼Œæ¢…æ£®ç´ æ•°æœ‰è¿™äº›, ç»´åŸºç™¾ç§‘ä¸Šä¹Ÿæœ‰è¯´æ˜, æˆ‘ä»¬éœ€è¦æ³¨æ„åˆ°çš„æ˜¯$2^{19937}-1$æ˜¯ä¸€ä¸ªæ¢…æ£®ç´ æ•° çº¿æ€§åé¦ˆç§»ä½å¯„å­˜å™¨çº¿æ€§åé¦ˆç§»ä½å¯„å­˜å™¨ï¼ˆLinear Feedback Shifting Registerï¼Œç®€ç§° LFSRï¼‰ å‡è®¾ä½ æœ‰ä¸€ä¸ªå¯„å­˜å™¨ï¼Œå¯„å­˜å™¨ä¸­å‚¨å­˜ç€ä¸€äº›äºŒè¿›åˆ¶ä½ï¼Œå¯„å­˜å™¨ä¸­æœ‰å‡ ä¸ªä½è¢«æ ‡è®°äº†ï¼Œæ¥ä¸‹æ¥ä¼šæœ‰æ— é™è½®æ“ä½œï¼Œæ¯è½®æ“ä½œå¦‚ä¸‹ å¯„å­˜å™¨è¾“å‡ºæœ€ä½ä½xï¼ˆx&#x3D;0æˆ–1ï¼‰ã€‚ å¯„å­˜å™¨é€‰æ‹©è¢«æ ‡è®°çš„ä½å’Œxï¼Œå–å‡ºå…¶å€¼ï¼Œæ”¾åˆ°ä¸€èµ·è¿›è¡Œå¼‚æˆ–ï¼Œå¾—åˆ°yï¼ˆy&#x3D;0æˆ–1ï¼‰ã€‚ å¯„å­˜å™¨æŠŠè‡ªå·±å³ç§»1ä½ï¼Œç„¶åæŠŠå€¼yæ”¾å…¥æœ€é«˜ä½ã€‚ å…·ä½“æ¥è¯´ï¼Œä½ æœ‰ä¸€ä¸ª$8$ä½å¯„å­˜å™¨ï¼Œåˆå§‹å‚¨å­˜ç€$00001111$ï¼Œå…¶ä¸­$3$,$5$,$7$ä½è¢«æ ‡è®°äº†ï¼Œäºæ˜¯å¼€å§‹æ“ä½œã€‚ ç¬¬ä¸€è½®è¾“å‡º$x&#x3D;1$ï¼Œç„¶åä»ä½ä½åˆ°é«˜ä½é€‰æ‹©äº†$1$,$0$,$0$, æœ€å$y&#x3D;1 \\oplus1 \\oplus 0 \\oplus 0&#x3D;0$ï¼Œå¯„å­˜å™¨å˜æˆäº†$00000111$ ç¬¬äºŒè½®è¾“å‡º$x&#x3D;1$ï¼Œç„¶åä»ä½ä½åˆ°é«˜ä½é€‰æ‹©äº†$1$,$0$,$0$, æœ€å$y&#x3D;1 \\oplus1 \\oplus 0 \\oplus 0&#x3D;0$ï¼Œå¯„å­˜å™¨å˜æˆäº†$00000011$ ç¬¬ä¸‰è½®è¾“å‡º$x&#x3D;1$ï¼Œç„¶åä»ä½ä½åˆ°é«˜ä½é€‰æ‹©äº†$0$,$0$,$0$, æœ€å$y&#x3D;1 \\oplus 0 \\oplus 0 \\oplus 0&#x3D;1$ï¼Œå¯„å­˜å™¨å˜æˆäº†$10000001$ ç¬¬å››è½®è¾“å‡º$x&#x3D;1$ï¼Œç„¶åä»ä½ä½åˆ°é«˜ä½é€‰æ‹©äº†$0$,$0$,$0$, æœ€å$y&#x3D;1 \\oplus 0 \\oplus 0 \\oplus 0&#x3D;1$ï¼Œå¯„å­˜å™¨å˜æˆäº†$11000000$ ç¬¬äº”è½®è¾“å‡º$x&#x3D;0$ï¼Œç„¶åä»ä½ä½åˆ°é«˜ä½é€‰æ‹©äº†$0$,$0$,$1$, æœ€å$y&#x3D;0 \\oplus 0 \\oplus 0 \\oplus 1&#x3D;1$ï¼Œå¯„å­˜å™¨å˜æˆäº†$11100000$ â€¦â€¦ æ¢…æ£®æ—‹è½¬ç®—æ³•è¿™æ˜¯ä¸€ä¸ªéšæœºæ•°ç”Ÿæˆç®—æ³•ï¼Œè¿™é‡Œæœ‰ä¸€ç¯‡æœ‰è¶£çš„Blogï¼Œæœ‰å…´è¶£å¯ä»¥è¯»ä¸€ä¸‹ã€‚è¿™é‡Œå¼•ç”¨ä¸€äº›ä¸»è¦å†…å®¹ã€‚ æ¢…æ£®æ—‹è½¬ç®—æ³•ï¼ˆMersenne Twister Algorithmï¼Œç®€ç§° MTï¼‰ $32$ ä½çš„æ¢…æ£®æ—‹è½¬ç®—æ³•èƒ½å¤Ÿäº§ç”Ÿå‘¨æœŸä¸º $P$ çš„ $w$-æ¯”ç‰¹çš„éšæœºæ•°åºåˆ—${\\vec x_i}$ï¼›å…¶ä¸­ $w&#x3D;32$ã€‚è¿™ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸€ä¸ª$\\vec x$ æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º $32$ çš„è¡Œå‘é‡ï¼Œå¹¶ä¸”å…¶ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½æ˜¯äºŒå…ƒæ•°åŸŸ$\\mathbb{F}_2 \\overset{\\text{def}}{&#x3D;} {0, 1}$ä¸­çš„å…ƒç´ ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å®šä¹‰å¦‚ä¸‹ä¸€äº›è®°å·ï¼Œæ¥æè¿°æ¢…æ£®æ—‹è½¬ç®—æ³•æ˜¯å¦‚ä½•è¿›è¡Œæ—‹è½¬ï¼ˆçº¿æ€§ç§»ä½ï¼‰çš„ã€‚ $n$ï¼šå‚ä¸æ¢…æ£®æ—‹è½¬çš„éšæœºæ•°ä¸ªæ•°ï¼› $r$ï¼š$[0, w)$ ä¹‹é—´çš„æ•´æ•°ï¼› $m$ï¼š$(0, n]$ä¹‹é—´çš„æ•´æ•°ï¼› $\\mathbf{A}$ï¼š$w \\times w$ çš„å¸¸çŸ©é˜µï¼› $\\vec x^{(u)}$ï¼š$\\vec x$çš„æœ€é«˜ $w - r$ æ¯”ç‰¹ç»„æˆçš„æ•°ï¼ˆä½ä½è¡¥é›¶ï¼‰ï¼› $\\vec x^{(l)}$ï¼š$\\vec x$çš„æœ€ä½ r æ¯”ç‰¹ç»„æˆçš„æ•°ï¼ˆé«˜ä½è¡¥é›¶ï¼‰ã€‚ æ¢…æ£®æ—‹è½¬ç®—æ³•ï¼Œé¦–å…ˆéœ€è¦æ ¹æ®éšæœºæ•°ç§å­åˆå§‹åŒ–$ n $ä¸ªè¡Œå‘é‡ï¼š$$\\vec x_0, \\vec x_1, \\ldots, \\vec x_{n - 1}.$$è€Œåæ ¹æ®ä¸‹å¼ï¼Œä»$ k&#x3D;0$ å¼€å§‹ä¾æ¬¡è®¡ç®— $\\vec x_{n}$ï¼š$$\\begin{equation}\\vec x_{k + n} \\overset{\\text{def}}{&#x3D;} \\vec x_{k + m}\\oplus \\bigl(\\vec x_{k}^{(u)}\\mid \\vec x_{k + 1}^{(l)}\\bigr)\\mathbf{A}.\\label{eq:twister}\\end{equation}$$ å…¶ä¸­ï¼Œ$\\vec x\\mid \\vec xâ€™$è¡¨ç¤ºä¸¤ä¸ªäºŒè¿›åˆ¶æ•°æŒ‰ä½æˆ–ï¼›$\\vec x\\oplus \\vec xâ€™$è¡¨ç¤ºä¸¤ä¸ªäºŒè¿›åˆ¶æ•°æŒ‰ä½åŠåŠ ï¼ˆä¸è¿›ä½ï¼Œä¹Ÿå°±æ˜¯æŒ‰ä½å¼‚æˆ–ï¼‰ï¼›$\\vec x\\mathbf A$ åˆ™è¡¨ç¤ºæŒ‰ä½åŠåŠ çš„çŸ©é˜µä¹˜æ³•ã€‚åœ¨ MT ä¸­ï¼Œ$\\mathbf A$ è¢«å®šä¹‰ä¸º$$\\begin{pmatrix}&amp; 1 \\&amp; &amp; 1 \\&amp; &amp; &amp; \\ddots \\&amp; &amp; &amp; &amp; 1 \\a_{w - 1} &amp; a_{w - 2} &amp; a_{w - 3} &amp; \\cdots &amp; a_0\\end{pmatrix}$$ æˆ‘ä»¬ç°åœ¨çœ‹çœ‹è¿™ä¸ªè®¡ç®—å’Œæ—‹è½¬æœ‰ä»€ä¹ˆå…³ç³»ã€‚é¦–å…ˆä¸è€ƒè™‘çŸ©é˜µ$\\mathbf A$. åˆ™æœ‰$\\vec x_{k + n} \\overset{\\text{def}}{&#x3D;} \\vec x_{k + m}\\oplus \\bigl(\\vec x_{k}^{(u)}\\mid \\vec x_{k + 1}^{(l)}\\bigr)$, è¿™ä¸ªå¼å­ç¬”è€…çœ‹äº†å¾ˆä¹…æ‰æ˜ç™½ä»–å°±æ˜¯$w$è½®çº¿æ€§åé¦ˆç§»ä½å¯„å­˜å™¨å˜æ¢ã€‚ä¸‹å›¾æ˜¯è®¡ç®—$x_n$çš„æ—¶å€™çš„å¼‚æˆ–æƒ…å†µï¼Œ å¯ä»¥çœ‹åˆ°$x_n$çš„æ¯ä¸€ä¸ªä½éƒ½æ˜¯ç‹¬ç«‹çš„å¼‚æˆ– å›è¿‡å¤´æ¥çœ‹ 2 å¼ï¼Œä¸éš¾å‘ç°ï¼Œè¿™å…¶å®ç›¸å½“äºä¸€ä¸ª $nw - r$ çº§çš„çº¿æ€§åé¦ˆç§»ä½å¯„å­˜å™¨ï¼ˆå– $\\vec x_k^{(u)}$çš„æœ€é«˜ $wâˆ’r$ ä½ä¸ $\\vec x_{k + 1}^{(l)}$çš„æœ€ä½ $r $ä½è¿›è¡Œè¿­ä»£å¼‚æˆ–ï¼Œå†ç»è¿‡ä¸€ä¸ªä¸å½±å“å‘¨æœŸçš„çº¿æ€§å˜æ¢ $\\mathbf A$ï¼‰ã€‚åªä¸è¿‡ï¼Œ2 å¼æ¯ä¸€æ¬¡è¿ç®—ï¼Œç›¸å½“äº $LFSR$ è¿›è¡Œäº† $w$ è½®è®¡ç®—ã€‚è‹¥ $w$ ä¸ $nwâˆ’r$ äº’ç´ ï¼Œé‚£ä¹ˆè¿™ä¸€å¾®å°çš„æ”¹å˜æ˜¯ä¸ä¼šå½±å“ $LFSR$ çš„å‘¨æœŸçš„ã€‚è€ƒè™‘åˆ° $LFSR$ çš„è®¡ç®—è¿‡ç¨‹åƒæ˜¯åœ¨ã€Œæ—‹è½¬ã€ï¼Œè¿™å³æ˜¯ã€Œæ¢…æ£®ã€æ—‹è½¬ã€ã€åå­—çš„æ¥ç”±ã€‚ mt19937æºç ä¸»è¦çš„è®¡ç®—éƒ½åœ¨è¿™é‡Œ 1234567891011121314unsigned long long genrand64_int64(void)&#123; //... for (i=0;i&lt;NN-MM;i++) &#123; x = (mt[i]&amp;UM)|(mt[i+1]&amp;LM); mt[i] = mt[i+MM] ^ (x&gt;&gt;1) ^ mag01[(int)(x&amp;1ULL)]; &#125; for (;i&lt;NN-1;i++) &#123; x = (mt[i]&amp;UM)|(mt[i+1]&amp;LM); mt[i] = mt[i+(MM-NN)] ^ (x&gt;&gt;1) ^ mag01[(int)(x&amp;1ULL)]; &#125; //...&#125; ç„¶åæ˜¯63ä½ç”Ÿæˆ 12345/* generates a random number on [0, 2^63-1]-interval */long long genrand64_int63(void)&#123; return (long long)(genrand64_int64() &gt;&gt; 1);&#125; å®æ•°çš„ç”Ÿæˆ 1234567891011121314151617/* generates a random number on [0,1]-real-interval */double genrand64_real1(void)&#123; return (genrand64_int64() &gt;&gt; 11) * (1.0/9007199254740991.0);&#125;/* generates a random number on [0,1)-real-interval */double genrand64_real2(void)&#123; return (genrand64_int64() &gt;&gt; 11) * (1.0/9007199254740992.0);&#125;/* generates a random number on (0,1)-real-interval */double genrand64_real3(void)&#123; return ((genrand64_int64() &gt;&gt; 12) + 0.5) * (1.0/4503599627370496.0);&#125; dict.c dict.hå­—å…¸æºç å­—å…¸ç»“æ„ä½“å®šä¹‰ï¼Œéœ€è¦æ³¨æ„è¿™é‡Œæœ‰ä¸¤ä¸ªdicthtï¼Œå³ä¸¤ä¸ªå­—å…¸ï¼Œè¿™æ¶‰åŠåˆ°äº†ä¸€ä¸ªé‡hashé—®é¢˜ï¼Œredisä½¿ç”¨äº†æ¸è¿›å¼rehashç®—æ³•ï¼Œå³æŠŠé‡hashåˆ†å¸ƒåˆ°å„ä¸ªåœ°æ–¹(æ’å…¥ã€æŸ¥è¯¢ç­‰)ï¼Œä½¿å¾—é‡hashçš„å¤æ‚åº¦é™ä½ä¸º$O1$ï¼Œ redisæ˜¯å•çº¿ç¨‹ï¼Œç»å¯¹ä¸èƒ½å‡ºç°è¿‡äºè€—æ—¶çš„æ“ä½œï¼Œå¦åˆ™å½±å“rediså»¶æ—¶ 12345678typedef struct dict &#123; dictType *type; void *privdata; dictht ht[2]; long rehashidx; /* rehashing not in progress if rehashidx == -1 */ int16_t pauserehash; /* If &gt;0 rehashing is paused (&lt;0 indicates coding error) */&#125; dict; server.h server.c-1-è·³è¡¨è·³è¡¨å®šä¹‰åœ¨è¿™é‡Œ 12345678910111213141516/* ZSETs use a specialized version of Skiplists */typedef struct zskiplistNode &#123; sds ele; double score; struct zskiplistNode *backward; struct zskiplistLevel &#123; struct zskiplistNode *forward; unsigned long span; &#125; level[];&#125; zskiplistNode;typedef struct zskiplist &#123; struct zskiplistNode *header, *tail; unsigned long length; int level;&#125; zskiplist; intset.c intset.hæ•´æ•°é›†åˆï¼Œè¿™é‡Œå¯ä»¥å‚¨å­˜æ•´æ•° 123456789101112131415typedef struct intset &#123; uint32_t encoding; uint32_t length; int8_t contents[];&#125; intset;intset *intsetNew(void);intset *intsetAdd(intset *is, int64_t value, uint8_t *success);intset *intsetRemove(intset *is, int64_t value, int *success);uint8_t intsetFind(intset *is, int64_t value);int64_t intsetRandom(intset *is);uint8_t intsetGet(intset *is, uint32_t pos, int64_t *value);uint32_t intsetLen(const intset *is);size_t intsetBlobLen(intset *is);int intsetValidateIntegrity(const unsigned char *is, size_t size, int deep); encodingæ˜¯ç¼–ç æ–¹å¼ï¼ŒæŒ‡çš„æ˜¯contentsä¸­çš„æ•°æ®å¦‚ä½•å‚¨å­˜ï¼Œç¼–ç æ–¹å¼åˆ†ä¸ºä¸‰ç§ 12345/* Note that these encodings are ordered, so: * INTSET_ENC_INT16 &lt; INTSET_ENC_INT32 &lt; INTSET_ENC_INT64. */#define INTSET_ENC_INT16 (sizeof(int16_t))#define INTSET_ENC_INT32 (sizeof(int32_t))#define INTSET_ENC_INT64 (sizeof(int64_t)) lengthæ˜¯æ•°å­—çš„ä¸ªæ•° contentsæ˜¯å†…å®¹ï¼Œä½†æ˜¯ä»–ä¸ä¸€å®šæ˜¯8ä½çš„æ•´æ•°ï¼Œå–å†³äºencodingçš„å€¼ã€‚ æ•´æ•°é›†åˆå‡çº§ç”±äºæ•´æ•°é›†åˆåˆå§‹æƒ…å†µå‚¨å­˜çš„æ˜¯INTSET_ENC_INT16ï¼Œå½“ä½ æ’å…¥ä¸€ä¸ª32ä½çš„æ•°å­—ä»¥åï¼Œä¼šå‡ºç°æº¢å‡ºï¼Œè¿™æ—¶å€™å°±éœ€è¦è¿›è¡Œå‡çº§ï¼Œå°±ç›´æ¥å¼€è¾Ÿæ–°çš„ç©ºé—´ç„¶åæ‹·è´è¿‡å»ï¼Œå¤æ‚çš„$O(N)$ ä¸æ”¯æŒé™çº§ ziplist.c ziplist.hå‹ç¼©åˆ—è¡¨ server.h server.c-2-å¯¹è±¡rediså¯¹è±¡éƒ½åœ¨è¿™é‡Œç»Ÿä¸€èµ·æ¥ 123456789typedef struct redisObject &#123; unsigned type:4; unsigned encoding:4; unsigned lru:LRU_BITS; /* LRU time (relative to global lru_clock) or * LFU data (least significant 8 bits frequency * and most significant 16 bits access time). */ int refcount; void *ptr;&#125; robj; server.h-3-dbè¿™æ¬¡ä¸»è¦å…³æ³¨redisServerï¼Œè¿™ä¸ªç»“æ„ä½“æœ‰460è¡Œï¼Œç¬”è€…çœå»äº†ä¸€äº›,å¯ä»¥ç åˆ€redisDbæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œdbnumè®°å½•ä»–çš„æ•°é‡ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œdbnumä¸º6 1234567struct redisServer &#123; // ... redisDb *db; // ... int dbnum; /* Total number of configured DBs */ // ...&#125;; ç„¶åæ˜¯å®¢æˆ·ç«¯è¿™è¾¹, æ³¨æ„åˆ°client,. è¿™é‡Œä¹Ÿæœ‰ä¸€ä¸ªæŒ‡é’ˆï¼Œå½“ç„¶ä»–æŒ‡å‘çš„å°±æ˜¯å½“å‰ä½¿ç”¨çš„dbï¼Œè€Œä¸æ˜¯æ•°ç»„ã€‚ 12345typedef struct client &#123; // ... redisDb *db; /* Pointer to currently SELECTed DB. */ // ...&#125; client; çœ‹å®ŒæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ï¼Œç„¶åçœ‹db 1234567891011121314/* Redis database representation. There are multiple databases identified * by integers from 0 (the default database) up to the max configured * database. The database number is the &#x27;id&#x27; field in the structure. */typedef struct redisDb &#123; dict *dict; /* The keyspace for this DB */ dict *expires; /* Timeout of keys with a timeout set */ dict *blocking_keys; /* Keys with clients waiting for data (BLPOP)*/ dict *ready_keys; /* Blocked keys that received a PUSH */ dict *watched_keys; /* WATCHED keys for MULTI/EXEC CAS */ int id; /* Database ID */ long long avg_ttl; /* Average TTL, just for stats */ unsigned long expires_cursor; /* Cursor of the active expire cycle. */ list *defrag_later; /* List of key names to attempt to defrag one by one, gradually. */&#125; redisDb; å¯¹äºredisDbï¼Œç¬”è€…è¿™é‡Œå¼•ç”¨ä¸€ä¸‹ã€ŠRedisè®¾è®¡ä¸å®ç°ã€‹ä¸­çš„ä¸€ä¸ªå›¾ï¼Œè¯»è€…å¯ä»¥çœ‹çš„æ›´åŠ æ¸…æ™° rio.c rio.hrioå³redis ioï¼Œ ä¸»è¦å®ç°äº†redisä¸­çš„ioæ“ä½œ, rioæ˜¯ä¸€ä¸ªç»“æ„ä½“ï¼Œä»–å°±æ˜¯_rio, ä¸‹é¢æ˜¯æºç ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253struct _rio &#123; /* Backend functions. * Since this functions do not tolerate short writes or reads the return * value is simplified to: zero on error, non zero on complete success. */ size_t (*read)(struct _rio *, void *buf, size_t len); size_t (*write)(struct _rio *, const void *buf, size_t len); off_t (*tell)(struct _rio *); int (*flush)(struct _rio *); /* The update_cksum method if not NULL is used to compute the checksum of * all the data that was read or written so far. The method should be * designed so that can be called with the current checksum, and the buf * and len fields pointing to the new block of data to add to the checksum * computation. */ void (*update_cksum)(struct _rio *, const void *buf, size_t len); /* The current checksum and flags (see RIO_FLAG_*) */ uint64_t cksum, flags; /* number of bytes read or written */ size_t processed_bytes; /* maximum single read or write chunk size */ size_t max_processing_chunk; /* Backend-specific vars. */ union &#123; /* In-memory buffer target. */ struct &#123; sds ptr; off_t pos; &#125; buffer; /* Stdio file pointer target. */ struct &#123; FILE *fp; off_t buffered; /* Bytes written since last fsync. */ off_t autosync; /* fsync after &#x27;autosync&#x27; bytes written. */ &#125; file; /* Connection object (used to read from socket) */ struct &#123; connection *conn; /* Connection */ off_t pos; /* pos in buf that was returned */ sds buf; /* buffered data */ size_t read_limit; /* don&#x27;t allow to buffer/read more than that */ size_t read_so_far; /* amount of data read from the rio (not buffered) */ &#125; conn; /* FD target (used to write to pipe). */ struct &#123; int fd; /* File descriptor. */ off_t pos; sds buf; &#125; fd; &#125; io;&#125;; ç®€å•æ¥è¯´ï¼Œä»–çš„è¿™äº›å­—æ®µï¼Œåˆ†åˆ«å¯¹åº”è¿™äº›å†…å®¹ï¼š å­—æ®µ å†…å®¹ read è¯»æ•°æ®ï¼Œæ˜¯å‡½æ•°æŒ‡é’ˆ write å†™æ•°æ®ï¼Œæ˜¯å‡½æ•°æŒ‡é’ˆ tell tellï¼Œæ˜¯å‡½æ•°æŒ‡é’ˆ flush flushï¼Œæ˜¯å‡½æ•°æŒ‡é’ˆ update_cksum æ ¡éªŒå’Œï¼Œæ˜¯å‡½æ•°æŒ‡é’ˆ cksum å½“å‰æ ¡éªŒå’Œ flags æ˜¯å¦å‘ç”Ÿè¯»å†™é”™è¯¯ processed_bytes å·²ç»å¤„ç†çš„å­—èŠ‚æ•° max_processing_chunk å•æ¬¡æœ€å¤§å¤„ç†çš„å­—èŠ‚æ•° io å…·ä½“çš„è¯»å†™ç›®æ ‡ è¿™é‡Œçš„å‡½æ•°æŒ‡é’ˆä¸»è¦ä½œç”¨æ˜¯ç»™åé¢çš„ä¸‹é¢è¿™äº›å‡½æ•°ä½¿ç”¨ï¼Œè¿™ç§ç¼–ç¨‹æ–¹å¼æœ‰ä¸€ç‚¹åƒé¢å‘å¯¹è±¡ä¸­çš„æŠ½è±¡ç±»ã€‚æ³¨æ„çœ‹ï¼Œä¸‹é¢çš„rioWriteä½¿ç”¨äº†å¯¹è±¡rçš„writeæ–¹æ³•ï¼Œå®ç°äº†ä»»æ„ é•¿åº¦lençš„å†™å…¥ã€‚è€Œå¯¹è±¡rçš„writeæ–¹æ³•æ˜¯ä¸æ”¯æŒä»»æ„é•¿åº¦lençš„ã€‚rioReadä¹Ÿæ˜¯åŒç†äº†ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839static inline size_t rioWrite(rio *r, const void *buf, size_t len) &#123; if (r-&gt;flags &amp; RIO_FLAG_WRITE_ERROR) return 0; while (len) &#123; size_t bytes_to_write = (r-&gt;max_processing_chunk &amp;&amp; r-&gt;max_processing_chunk &lt; len) ? r-&gt;max_processing_chunk : len; if (r-&gt;update_cksum) r-&gt;update_cksum(r,buf,bytes_to_write); if (r-&gt;write(r,buf,bytes_to_write) == 0) &#123; r-&gt;flags |= RIO_FLAG_WRITE_ERROR; return 0; &#125; buf = (char*)buf + bytes_to_write; len -= bytes_to_write; r-&gt;processed_bytes += bytes_to_write; &#125; return 1;&#125;static inline size_t rioRead(rio *r, void *buf, size_t len) &#123; if (r-&gt;flags &amp; RIO_FLAG_READ_ERROR) return 0; while (len) &#123; size_t bytes_to_read = (r-&gt;max_processing_chunk &amp;&amp; r-&gt;max_processing_chunk &lt; len) ? r-&gt;max_processing_chunk : len; if (r-&gt;read(r,buf,bytes_to_read) == 0) &#123; r-&gt;flags |= RIO_FLAG_READ_ERROR; return 0; &#125; if (r-&gt;update_cksum) r-&gt;update_cksum(r,buf,bytes_to_read); buf = (char*)buf + bytes_to_read; len -= bytes_to_read; r-&gt;processed_bytes += bytes_to_read; &#125; return 1;&#125;static inline off_t rioTell(rio *r) &#123; return r-&gt;tell(r);&#125;static inline int rioFlush(rio *r) &#123; return r-&gt;flush(r);&#125; è¿™é‡Œæœ‰ä¸€ä¸ªæœ‰è¶£çš„å‡½æ•° 123456/* Flushes any buffer to target device if applicable. Returns 1 on success * and 0 on failures. */static int rioBufferFlush(rio *r) &#123; UNUSED(r); return 1; /* Nothing to do, our write just appends to the buffer. */&#125; å…¶ä¸­çš„UNUSEDæ¥è‡ªäºä¸€ä¸ªå® #define UNUSED(V) ((void) V), å…¶ä½œç”¨æ˜¯æ¶ˆé™¤ç¼–è¯‘å™¨çš„è­¦å‘Šï¼š å˜é‡æœªä½¿ç”¨ã€‚ æœ€åæ˜¯æ•´ä¸ªbufferioçš„æºç , å®šä¹‰äº†ä¸€äº›å‡½æ•°ï¼Œè¿™äº›å‡½æ•°åªç»™rioBufferIOè¿™ä¸ªå¯¹è±¡ä½¿ç”¨ã€‚è¿™æ˜¯ä¸€ç§å•ä¾‹æ¨¡å¼ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748/* ------------------------- Buffer I/O implementation ----------------------- *//* Returns 1 or 0 for success/failure. */static size_t rioBufferWrite(rio *r, const void *buf, size_t len) &#123; r-&gt;io.buffer.ptr = sdscatlen(r-&gt;io.buffer.ptr,(char*)buf,len); r-&gt;io.buffer.pos += len; return 1;&#125;/* Returns 1 or 0 for success/failure. */static size_t rioBufferRead(rio *r, void *buf, size_t len) &#123; if (sdslen(r-&gt;io.buffer.ptr)-r-&gt;io.buffer.pos &lt; len) return 0; /* not enough buffer to return len bytes. */ memcpy(buf,r-&gt;io.buffer.ptr+r-&gt;io.buffer.pos,len); r-&gt;io.buffer.pos += len; return 1;&#125;/* Returns read/write position in buffer. */static off_t rioBufferTell(rio *r) &#123; return r-&gt;io.buffer.pos;&#125;/* Flushes any buffer to target device if applicable. Returns 1 on success * and 0 on failures. */static int rioBufferFlush(rio *r) &#123; UNUSED(r); return 1; /* Nothing to do, our write just appends to the buffer. */&#125;static const rio rioBufferIO = &#123; rioBufferRead, rioBufferWrite, rioBufferTell, rioBufferFlush, NULL, /* update_checksum */ 0, /* current checksum */ 0, /* flags */ 0, /* bytes read or written */ 0, /* read/write chunk size */ &#123; &#123; NULL, 0 &#125; &#125; /* union for io-specific vars */&#125;;void rioInitWithBuffer(rio *r, sds s) &#123; *r = rioBufferIO; r-&gt;io.buffer.ptr = s; r-&gt;io.buffer.pos = 0;&#125; æ–‡ä»¶ioå’Œç¼“å†²åŒºioç›¸å·®ä¸å¤§ï¼Œæ³¨æ„å…³æ³¨æ–‡ä»¶ioçš„å†™å‡½æ•°ï¼Œè¿™é‡Œæ¶‰åŠåˆ°ä¸€ä¸ªå¼‚æ­¥åˆ·ç›˜çš„é—®é¢˜ã€‚ rediså¯¹å¤šä¸ªæ“ä½œç³»ç»Ÿåšäº†å…¼å®¹,åœ¨linuxä¸‹redis_fsyncå°±æ˜¯fsyncï¼Œæ–‡ä»¶è¯»å†™ä¹Ÿæœ‰è‡ªå·±çš„ç¼“å†²åŒºï¼Œä¸€æ—¦å¼€å¯äº†è‡ªåŠ¨åŒæ­¥io.file.autosyncï¼Œåˆ™æ¯å†™å…¥ä¸€å®šæ•°é‡io.file.bufferedçš„æ•°æ®ï¼Œå°±è¿›è¡ŒåŒæ­¥fsync(fileno(fp))ã€‚ 12345678910111213141516/* Returns 1 or 0 for success/failure. */static size_t rioFileWrite(rio *r, const void *buf, size_t len) &#123; size_t retval; retval = fwrite(buf,len,1,r-&gt;io.file.fp); r-&gt;io.file.buffered += len; if (r-&gt;io.file.autosync &amp;&amp; r-&gt;io.file.buffered &gt;= r-&gt;io.file.autosync) &#123; fflush(r-&gt;io.file.fp); if (redis_fsync(fileno(r-&gt;io.file.fp)) == -1) return 0; r-&gt;io.file.buffered = 0; &#125; return retval;&#125; æ¥ä¸‹æ¥çš„ä¸¤ä¸ªioåˆ†åˆ«æ˜¯connection ioå’Œ file descriptor io, å‰è€…åªå®ç°äº†ä»socketä¸­è¯»å–æ•°æ®çš„æ¥å£ï¼Œåè€…åªå®ç°äº†å‘fdä¸­å†™æ•°æ®çš„æ¥å£ï¼ˆThis target is used to write the RDB file to pipe, when the master just streams the data to the replicas without creating an RDB on-disk image (diskless replication option)ï¼‰ã€‚ rdb.c rdb.hrdbSaveRioç›´æ¥çœ‹å‡½æ•°rdbSaveRioçš„å®ç°ï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¯ä¸€äº›å‡†å¤‡å·¥ä½œï¼ŒRDBçš„ç‰ˆæœ¬è¢«å‚¨å­˜åˆ°äº†å­—ç¬¦ä¸²magicä¸­ 123456789101112131415161718int rdbSaveRio(rio *rdb, int *error, int rdbflags, rdbSaveInfo *rsi) &#123; // ... dictIterator *di = NULL; dictEntry *de; char magic[10]; uint64_t cksum; size_t processed = 0; int j; long key_count = 0; long long info_updated_time = 0; char *pname = (rdbflags &amp; RDBFLAGS_AOF_PREAMBLE) ? &quot;AOF rewrite&quot; : &quot;RDB&quot;; if (server.rdb_checksum) rdb-&gt;update_cksum = rioGenericUpdateChecksum; snprintf(magic,sizeof(magic),&quot;REDIS%04d&quot;,RDB_VERSION); // ...&#125; ç¬¬äºŒéƒ¨åˆ†rdbWriteRawç›´æ¥æŠŠmagicç‰ˆæœ¬æ•°æ®å†™å…¥rdbè¾“å‡ºæµï¼ŒrdbSaveInfoAuxFieldså†™å…¥äº†ä¸€äº›kvå¯¹ï¼Œåˆ†åˆ«æ˜¯redis-ver,redis-bits,ctimeå’Œused-memã€‚ å¯¹äºrdbSaveModulesAuxï¼Œä»–æ˜¯module.cå’Œmodule.hä¸­çš„å†…å®¹ï¼Œå¤§æ¦‚å°±æ˜¯ä¿å­˜äº†ä¸€ä¸ªmoduleså­—å…¸ã€‚ 1234567891011121314151617int rdbSaveInfoAuxFields(rio *rdb, int rdbflags, rdbSaveInfo *rsi) &#123; // ... if (rdbSaveAuxFieldStrStr(rdb,&quot;redis-ver&quot;,REDIS_VERSION) == -1) return -1; if (rdbSaveAuxFieldStrInt(rdb,&quot;redis-bits&quot;,redis_bits) == -1) return -1; if (rdbSaveAuxFieldStrInt(rdb,&quot;ctime&quot;,time(NULL)) == -1) return -1; if (rdbSaveAuxFieldStrInt(rdb,&quot;used-mem&quot;,zmalloc_used_memory()) == -1) return -1; // ... return 1;&#125;int rdbSaveRio(rio *rdb, int *error, int rdbflags, rdbSaveInfo *rsi) &#123; // ... if (rdbWriteRaw(rdb,magic,9) == -1) goto werr; if (rdbSaveInfoAuxFields(rdb,rdbflags,rsi) == -1) goto werr; if (rdbSaveModulesAux(rdb, REDISMODULE_AUX_BEFORE_RDB) == -1) goto werr; // ...&#125; ç¬¬ä¸‰éƒ¨åˆ†å¼€å§‹å¤„ç†æ•°æ®åº“,å…¶ä¸»ä½“å¦‚ä¸‹ã€‚ä¾æ¬¡å†™å…¥äº†æ•°æ®åº“çš„ç¼–å·ã€æ•°æ®åº“kvä¸ªæ•°ï¼Œæ•°æ®åº“è¶…æ—¶kvä¸ªæ•°ã€‚ 123456789101112131415161718192021222324252627int rdbSaveRio(rio *rdb, int *error, int rdbflags, rdbSaveInfo *rsi) &#123; // ... for (j = 0; j &lt; server.dbnum; j++) &#123; redisDb *db = server.db+j; dict *d = db-&gt;dict; if (dictSize(d) == 0) continue; di = dictGetSafeIterator(d); /* Write the SELECT DB opcode */ if (rdbSaveType(rdb,RDB_OPCODE_SELECTDB) == -1) goto werr; if (rdbSaveLen(rdb,j) == -1) goto werr; /* Write the RESIZE DB opcode. */ uint64_t db_size, expires_size; db_size = dictSize(db-&gt;dict); expires_size = dictSize(db-&gt;expires); if (rdbSaveType(rdb,RDB_OPCODE_RESIZEDB) == -1) goto werr; if (rdbSaveLen(rdb,db_size) == -1) goto werr; if (rdbSaveLen(rdb,expires_size) == -1) goto werr; /* Iterate this DB writing every entry */ while((de = dictNext(di)) != NULL) &#123; // ... &#125; &#125; // ...&#125; ç¬¬ä¸‰éƒ¨åˆ†çš„whileå¾ªç¯ä¸­ï¼Œå¯¹æ•´ä¸ªæ•°æ®åº“çš„kvå­—å…¸è¿›è¡Œäº†è¿­ä»£ï¼Œä¾æ¬¡å†™å…¥äº†rioçš„æµã€‚ 12345678910111213141516171819202122232425262728293031/* Iterate this DB writing every entry */while((de = dictNext(di)) != NULL) &#123; sds keystr = dictGetKey(de); robj key, *o = dictGetVal(de); long long expire; initStaticStringObject(key,keystr); expire = getExpire(db,&amp;key); if (rdbSaveKeyValuePair(rdb,&amp;key,o,expire) == -1) goto werr; /* When this RDB is produced as part of an AOF rewrite, move * accumulated diff from parent to child while rewriting in * order to have a smaller final write. */ if (rdbflags &amp; RDBFLAGS_AOF_PREAMBLE &amp;&amp; rdb-&gt;processed_bytes &gt; processed+AOF_READ_DIFF_INTERVAL_BYTES) &#123; processed = rdb-&gt;processed_bytes; aofReadDiffFromParent(); &#125; /* Update child info every 1 second (approximately). * in order to avoid calling mstime() on each iteration, we will * check the diff every 1024 keys */ if ((key_count++ &amp; 1023) == 0) &#123; long long now = mstime(); if (now - info_updated_time &gt;= 1000) &#123; sendChildInfo(CHILD_INFO_TYPE_CURRENT_INFO, key_count, pname); info_updated_time = now; &#125; &#125;&#125; æœ€åä¸€éƒ¨åˆ†ï¼Œå†™å…¥äº†ç»“æŸç¬¦å’Œchecksum 1234567891011121314151617181920212223242526/* If we are storing the replication information on disk, persist * the script cache as well: on successful PSYNC after a restart, we need * to be able to process any EVALSHA inside the replication backlog the * master will send us. */if (rsi &amp;&amp; dictSize(server.lua_scripts)) &#123; di = dictGetIterator(server.lua_scripts); while((de = dictNext(di)) != NULL) &#123; robj *body = dictGetVal(de); if (rdbSaveAuxField(rdb,&quot;lua&quot;,3,body-&gt;ptr,sdslen(body-&gt;ptr)) == -1) goto werr; &#125; dictReleaseIterator(di); di = NULL; /* So that we don&#x27;t release it again on error. */&#125;if (rdbSaveModulesAux(rdb, REDISMODULE_AUX_AFTER_RDB) == -1) goto werr;/* EOF opcode */if (rdbSaveType(rdb,RDB_OPCODE_EOF) == -1) goto werr;/* CRC64 checksum. It will be zero if checksum computation is disabled, the * loading code skips the check in this case. */cksum = rdb-&gt;cksum;memrev64ifbe(&amp;cksum);if (rioWrite(rdb,&amp;cksum,8) == 0) goto werr;return C_OK; rdbSaveé¦–å…ˆrdbSaveåˆ›å»ºäº†ä¸€ä¸ªåä¸ºtemp-pid.rdbçš„æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶å°†ç”¨äºè¾“å‡ºrdbçš„ç»“æœã€‚ 123456789101112131415161718192021int rdbSave(char *filename, rdbSaveInfo *rsi) &#123; char tmpfile[256]; char cwd[MAXPATHLEN]; /* Current working dir path for error messages. */ FILE *fp = NULL; rio rdb; int error = 0; snprintf(tmpfile,256,&quot;temp-%d.rdb&quot;, (int) getpid()); fp = fopen(tmpfile,&quot;w&quot;); if (!fp) &#123; char *cwdp = getcwd(cwd,MAXPATHLEN); serverLog(LL_WARNING, &quot;Failed opening the RDB file %s (in server root dir %s) &quot; &quot;for saving: %s&quot;, filename, cwdp ? cwdp : &quot;unknown&quot;, strerror(errno)); return C_ERR; &#125; // ...&#125; ç„¶åä½¿ç”¨è¯¥æ–‡ä»¶åˆå§‹åŒ–rioæµï¼Œå¹¶æ ¹æ®é…ç½®æ–‡ä»¶rioæ˜¯å¦è¿›è¡Œè‡ªåŠ¨åˆ·ç›˜ã€‚ 123456789int rdbSave(char *filename, rdbSaveInfo *rsi) &#123; // ... rioInitWithFile(&amp;rdb,fp); startSaving(RDBFLAGS_NONE); if (server.rdb_save_incremental_fsync) rioSetAutoSync(&amp;rdb,REDIS_AUTOSYNC_BYTES); // ...&#125; æ¥ç€æ‰§è¡ŒrdbSaveRioï¼Œå¹¶åˆ·ç›˜ 1234567891011121314int rdbSave(char *filename, rdbSaveInfo *rsi) &#123; // ... if (rdbSaveRio(&amp;rdb,&amp;error,RDBFLAGS_NONE,rsi) == C_ERR) &#123; errno = error; goto werr; &#125; /* Make sure data will not remain on the OS&#x27;s output buffers */ if (fflush(fp)) goto werr; if (fsync(fileno(fp))) goto werr; if (fclose(fp)) &#123; fp = NULL; goto werr; &#125; fp = NULL; // ...&#125; æœ€åæŠŠè¿™ä¸ªrdbæ–‡ä»¶å‘½åä¸ºfilenameï¼Œå¹¶ç»“æŸrdbã€‚ rdbSaveBackgroundforkå‡ºä¸€ä¸ªå­è¿›ç¨‹ï¼Œå­è¿›ç¨‹æ‰§è¡Œrdbä»»åŠ¡ã€‚ 12345678910111213141516171819202122232425262728293031323334int rdbSaveBackground(char *filename, rdbSaveInfo *rsi) &#123; pid_t childpid; if (hasActiveChildProcess()) return C_ERR; server.dirty_before_bgsave = server.dirty; server.lastbgsave_try = time(NULL); if ((childpid = redisFork(CHILD_TYPE_RDB)) == 0) &#123; int retval; /* Child */ redisSetProcTitle(&quot;redis-rdb-bgsave&quot;); redisSetCpuAffinity(server.bgsave_cpulist); retval = rdbSave(filename,rsi); if (retval == C_OK) &#123; sendChildCowInfo(CHILD_INFO_TYPE_RDB_COW_SIZE, &quot;RDB&quot;); &#125; exitFromChild((retval == C_OK) ? 0 : 1); &#125; else &#123; /* Parent */ if (childpid == -1) &#123; server.lastbgsave_status = C_ERR; serverLog(LL_WARNING,&quot;Can&#x27;t save in background: fork: %s&quot;, strerror(errno)); return C_ERR; &#125; serverLog(LL_NOTICE,&quot;Background saving started by pid %ld&quot;,(long) childpid); server.rdb_save_time_start = time(NULL); server.rdb_child_type = RDB_CHILD_TYPE_DISK; return C_OK; &#125; return C_OK; /* unreached */&#125; Makefileacl.cae.cae.hae_epoll.cae_evport.cae_kqueue.cae_select.canet.canet.haof.casciilogo.hatomicvar.hbio.cbio.hbitops.cblocked.cchildinfo.ccli_common.ccli_common.hcluster.ccluster.hconfig.cconfig.hconnection.cconnection.hconnhelpers.hcrc16.ccrc16_slottable.hcrc64.ccrc64.hcrcspeed.ccrcspeed.hdb.cdebug.cdebugmacro.hdefrag.cendianconv.cendianconv.hevict.cexpire.cfmacros.hgeo.cgeo.hgeohash.cgeohash.hgeohash_helper.cgeohash_helper.hhelp.hhyperloglog.clatency.clatency.hlazyfree.clistpack.clistpack.hlistpack_malloc.hlocaltime.clolwut.clolwut.hlolwut5.clolwut6.clzf.hlzfP.hlzf_c.clzf_d.cmemtest.cmkreleasehdr.shmodule.cmodulesmonotonic.cmonotonic.hmulti.cnetworking.cnotify.cobject.cpqsort.cpqsort.hpubsub.cquicklist.cquicklist.hrand.crand.hrax.crax.hrax_malloc.hredis-benchmark.credis-check-aof.credis-check-rdb.credis-cli.credis-trib.rbredisassert.credisassert.hredismodule.hrelease.creplication.cscripting.csdsalloc.hsentinel.cserver.cserver.hsetcpuaffinity.csetproctitle.csha1.csha1.hsha256.csha256.hsiphash.cslowlog.cslowlog.hsolarisfixes.hsort.csparkline.csparkline.hstream.hsyncio.ct_hash.ct_list.ct_set.ct_stream.ct_string.ct_zset.ctesthelp.htimeout.ctls.ctracking.cutil.cutil.hvalgrind.supversion.hzipmap.czipmap.hzmalloc.czmalloc.h","categories":[{"name":"Database","slug":"Database","permalink":"http://fightinggg.github.io/indigo/categories/Database/"}],"tags":[]},{"title":"è·Ÿæˆ‘ä¸€èµ·è‡ªå·±å†™ç¼–è¯‘å™¨-6.è¯­ä¹‰åˆ†æ","slug":"ç¼–è¯‘å™¨/è·Ÿæˆ‘ä¸€èµ·è‡ªå·±å†™ç¼–è¯‘å™¨-6.è¯­ä¹‰åˆ†æ/index","date":"2021-06-24T14:25:05.000Z","updated":"2021-08-29T09:41:05.000Z","comments":true,"path":"QV7MPT.html","link":"","permalink":"http://fightinggg.github.io/indigo/QV7MPT.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 6. è¯­ä¹‰åˆ†æ6.1. è¯­æ³•åˆ¶å¯¼ç¿»è¯‘è¯­æ³•åˆ¶å¯¼ç¿»è¯‘åˆ†ä¸ºä¸¤ç±»ï¼Œä¸€ç±»æ˜¯Så‹è¯­æ³•åˆ¶å¯¼ç¿»è¯‘ï¼Œå¦ä¸€ç±»æ˜¯Lå‹è¯­æ³•åˆ¶å¯¼ç¿»è¯‘ã€‚è¿™é‡Œæˆ‘ä»¬ä¸»è¦ä»‹ç»Så‹è¯­æ³•åˆ¶å¯¼ç¿»è¯‘ï¼Œå› ä¸ºä»–æ›´ç®€å•ï¼Œæ›´åŠ é€‚ç”¨äºè¯­æ³•æ ‘ã€‚ 6.2. Så‹è¯­æ³•åˆ¶å¯¼ç¿»è¯‘å½“æˆ‘ä»¬æ„å»ºå‡ºè¯­æ³•ä¹¦ä»¥åï¼Œå…¶æ¯ä¸ªèŠ‚ç‚¹ä¸è‡ªå·±çš„å­èŠ‚ç‚¹çš„å…³ç³»å°±æ˜¯äº§ç”Ÿå¼çš„å…³ç³»ï¼Œå¯¹è¯­æ³•æ ‘è¿›è¡ŒDFSå°±æ˜¯éå†æ•´ä¸ªè¯­æ³•æ ‘ï¼Œå¾ˆå¤šä¿¡æ¯å¯ä»¥åœ¨éå†çš„è¿‡ç¨‹ä¸­è‡ªåº•å‘ä¸Šè¿›è¡Œé€æ­¥ç¿»è¯‘ã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 6. è¯­ä¹‰åˆ†æ6.1. è¯­æ³•åˆ¶å¯¼ç¿»è¯‘è¯­æ³•åˆ¶å¯¼ç¿»è¯‘åˆ†ä¸ºä¸¤ç±»ï¼Œä¸€ç±»æ˜¯Så‹è¯­æ³•åˆ¶å¯¼ç¿»è¯‘ï¼Œå¦ä¸€ç±»æ˜¯Lå‹è¯­æ³•åˆ¶å¯¼ç¿»è¯‘ã€‚è¿™é‡Œæˆ‘ä»¬ä¸»è¦ä»‹ç»Så‹è¯­æ³•åˆ¶å¯¼ç¿»è¯‘ï¼Œå› ä¸ºä»–æ›´ç®€å•ï¼Œæ›´åŠ é€‚ç”¨äºè¯­æ³•æ ‘ã€‚ 6.2. Så‹è¯­æ³•åˆ¶å¯¼ç¿»è¯‘å½“æˆ‘ä»¬æ„å»ºå‡ºè¯­æ³•ä¹¦ä»¥åï¼Œå…¶æ¯ä¸ªèŠ‚ç‚¹ä¸è‡ªå·±çš„å­èŠ‚ç‚¹çš„å…³ç³»å°±æ˜¯äº§ç”Ÿå¼çš„å…³ç³»ï¼Œå¯¹è¯­æ³•æ ‘è¿›è¡ŒDFSå°±æ˜¯éå†æ•´ä¸ªè¯­æ³•æ ‘ï¼Œå¾ˆå¤šä¿¡æ¯å¯ä»¥åœ¨éå†çš„è¿‡ç¨‹ä¸­è‡ªåº•å‘ä¸Šè¿›è¡Œé€æ­¥ç¿»è¯‘ã€‚ 6.3. æ­£åˆ™æ–‡æ³•è¯­æ³•åˆ¶å¯¼ç¿»è¯‘è¿™é‡Œåˆ—ä¸¾ä¸€ä¸ªç¬”è€…çš„é¡¹ç›®compilerä¸­ä¸€ä¸ªæœ‰è¶£çš„å­æ¨¡å—ï¼Œæ­£åˆ™å­æ¨¡å—ï¼Œ ç›´æ¥çœ‹ä»£ç , è¿™é‡Œæ˜¯ä¸€ä¸ªè¯­æ³•åˆ¶å¯¼ç¿»è¯‘ç‰‡æ®µï¼Œåœ¨äº§ç”Ÿå¼unit -&gt; charä¸‹ï¼Œ å…¶ä¸­æœ‰å››ä¸ªå‚æ•°ï¼Œfaæ˜¯ä¸Šä¸‹é—®ä¿¡æ¯ï¼Œrtæ˜¯å½“å‰èŠ‚ç‚¹ï¼Œsonlistæ˜¯å­èŠ‚ç‚¹æ•°ç»„ï¼ŒaccessAllSonæ˜¯ä¸€ä¸ªå­æ ‘åˆ†æçš„æ¥å£ã€‚ é¦–å…ˆè°ƒç”¨ accessAllSon.run();å°†å­æ ‘è¿›è¡Œç¿»è¯‘ å½“å­æ ‘ç¿»è¯‘å®Œæˆä»¥åï¼Œsonlistä¸­ä¼šæœ‰å­èŠ‚ç‚¹çš„æ‰€æœ‰ä¿¡æ¯ï¼Œè¿™æ—¶å€™æˆ‘ä»¬åªéœ€è¦å°†å­æ ‘æ‰€ç”Ÿäº§çš„nfaæ”¾å…¥å½“å‰èŠ‚ç‚¹çš„nfaå³å¯ 1234Map.entry(&quot;unit -&gt; char&quot;, (fa, rt, sonList, accessAllSon) -&gt; &#123; accessAllSon.run(); rt.put(&quot;nfa&quot;, sonList.get(0).get(&quot;nfa&quot;));&#125;), ç„¶åçœ‹æ˜Ÿå·ç‰‡æ®µï¼Œä¸€ä¸ªæ­£åˆ™åé¢ç´§è·Ÿç€ä¸€ä¸ªaddä»£è¡¨è¿™ä¸ªæ­£åˆ™å¯ä»¥å‡ºç°1æ¬¡æˆ–è€…å¤šæ¬¡ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦å…ˆå¯¹å­æ ‘è¿›è¡Œç¿»è¯‘ï¼Œç„¶åå–å‡ºç¿»è¯‘åçš„unitçš„nfaï¼Œå¯¹ä»–è¿›è¡Œè‡ªå¾ªç¯æ“ä½œã€‚ä½•ä¸ºè‡ªå¾ªç¯å¯è§5.5.4. æ­£åˆ™ä¾‹4 12345Map.entry(&quot;unit -&gt; unit add&quot;, (fa, rt, sonList, accessAllSon) -&gt; &#123; accessAllSon.run(); Nfa&lt;Object, String&gt; nfa = toNfa(sonList.get(0).get(&quot;nfa&quot;)); rt.put(&quot;nfa&quot;, NfaUtils.series(nfa, NfaUtils.selfLoop(nfa, Nfa.EMPTY_TRANS), Nfa.EMPTY_TRANS));&#125;), 6.4. JSONæ–‡æ³•è¯­æ³•åˆ¶å¯¼ç¿»è¯‘ç„¶åæ¥çœ‹ç¬”è€…ié¡¹ç›®ä¸­å¦ä¸€ä¸ªæœ‰è¶£çš„å­æ¨¡å—ï¼ŒJSONå­æ¨¡å—, è¿™éƒ¨åˆ†ä»£ç éå¸¸çŸ­ï¼Œæˆ‘ä»¬å°±ç›´æ¥å…¨éƒ¨è´´è¿‡æ¥ï¼Œ object -&gt; string | array | leftCurlyBracket kvs rightCurlyBracket ç­‰ åˆ™ç›´æ¥å°†å­æ ‘çš„ç»“æœæ”¾å…¥å½“å‰çš„obj kv -&gt; string colon objectåˆ™å°†å­æ ‘çš„stringå˜ä¸ºkeyï¼Œobjå½“ä½œvalueï¼Œåˆ¶é€ ä¸€ä¸ªmap kvs -&gt; kvs comma kvåˆ™åˆå¹¶å­æ ‘çš„map 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758Map&lt;String, SyntaxDirectedTranslationUtils.SyntaxDirectedTranslationConsumer&gt; innerNodeConfig = Map.ofEntries( Map.entry(&quot;object -&gt; string&quot;, (fa, rt, son, accessAllSon) -&gt; &#123; accessAllSon.run(); rt.put(&quot;object&quot;, son.get(0).get(&quot;tokenRaw&quot;)); &#125;), Map.entry(&quot;object -&gt; number&quot;, (fa, rt, son, accessAllSon) -&gt; &#123; throw new RuntimeException(); &#125;), Map.entry(&quot;object -&gt; array&quot;, (fa, rt, son, accessAllSon) -&gt; &#123; accessAllSon.run(); rt.put(&quot;object&quot;, son.get(0).get(&quot;object&quot;)); &#125;), Map.entry(&quot;object -&gt; leftCurlyBracket kvs rightCurlyBracket&quot;, (fa, rt, son, accessAllSon) -&gt; &#123; accessAllSon.run(); rt.put(&quot;object&quot;, son.get(1).get(&quot;object&quot;)); &#125;), Map.entry(&quot;object -&gt; leftCurlyBracket rightCurlyBracket&quot;, (fa, rt, son, accessAllSon) -&gt; &#123; accessAllSon.run(); rt.put(&quot;object&quot;, Map.of()); &#125;), Map.entry(&quot;target -&gt; object&quot;, (fa, rt, son, accessAllSon) -&gt; &#123; accessAllSon.run(); rt.put(&quot;object&quot;, son.get(0).get(&quot;object&quot;)); &#125;), Map.entry(&quot;array -&gt; leftSquareBracket objects rightSquareBracket&quot;, (fa, rt, son, accessAllSon) -&gt; &#123; accessAllSon.run(); rt.put(&quot;object&quot;, son.get(1).get(&quot;object&quot;)); &#125;), Map.entry(&quot;array -&gt; leftSquareBracket rightSquareBracket&quot;, (fa, rt, son, accessAllSon) -&gt; &#123; accessAllSon.run(); rt.put(&quot;object&quot;, List.of()); &#125;), Map.entry(&quot;kvs -&gt; kv&quot;, (fa, rt, son, accessAllSon) -&gt; &#123; accessAllSon.run(); rt.put(&quot;object&quot;, son.get(0).get(&quot;object&quot;)); &#125;), Map.entry(&quot;kvs -&gt; kvs comma kv&quot;, (fa, rt, son, accessAllSon) -&gt; &#123; accessAllSon.run(); Map&lt;String, Object&gt; kvs = toMap(son.get(0).get(&quot;object&quot;)); Map&lt;String, Object&gt; kv = toMap(son.get(2).get(&quot;object&quot;)); rt.put(&quot;object&quot;, MergeableMap.merge(kvs, kv)); &#125;), Map.entry(&quot;kv -&gt; string colon object&quot;, (fa, rt, son, accessAllSon) -&gt; &#123; accessAllSon.run(); String key = toString(son.get(0).get(&quot;tokenRaw&quot;)); Object value = son.get(2).get(&quot;object&quot;); rt.put(&quot;object&quot;, Map.of(key, value)); &#125;), Map.entry(&quot;objects -&gt; object&quot;, (fa, rt, son, accessAllSon) -&gt; &#123; accessAllSon.run(); rt.put(&quot;object&quot;, List.of(son.get(0).get(&quot;object&quot;))); &#125;), Map.entry(&quot;objects -&gt; objects comma object&quot;, (fa, rt, son, accessAllSon) -&gt; &#123; accessAllSon.run(); Collection&lt;Object&gt; l1 = toList(son.get(0).get(&quot;object&quot;)); Collection&lt;Object&gt; l2 = List.of(son.get(2).get(&quot;object&quot;)); rt.put(&quot;object&quot;, MergeableCollection.merge(l1, l2)); &#125;) 6.5. Pavaå­é¡¹ç›®è¯­æ³•åˆ¶å¯¼ç¿»è¯‘pavaè¯­è¨€æ˜¯ä¸€é—¨ç±»cè¯­è¨€ï¼Œå…¶æ”¯æŒå‡½æ•°ã€æ•´å½¢ã€å­—ç¬¦ä¸²ã€åŠ å‡ä¹˜é™¤ç­‰è¿ç®—ã€forã€ifã€whileç­‰å¾ªç¯ã€‚ pavaé¡¹ç›®éå¸¸å¤æ‚ï¼Œå…¶ä¸­æ¶‰åŠåˆ°äº†ä¸‰åœ°å€ä»£ç ã€ä½œç”¨åŸŸã€CPUæŠ½è±¡ã€å¯„å­˜å™¨åˆ†é…ç­‰ä¿¡æ¯ï¼Œè¿™é‡Œä¸æ‰“ç®—å±•å¼€ï¼Œç¬”è€…ä¼šåœ¨å¦ä¸€ç¯‡Blogä¸­è¿›è¡Œè¯¦ç»†åˆ†æã€‚è¿™é‡Œåªåšç®€è¦ä»‹ç»ã€‚ 6.5.1. ä¸‰åœ°å€ä»£ç ä¸‰åœ°å€ä»£ç æ˜¯ä¸€ç§ç±»ä¼¼äºæ±‡ç¼–çš„ä»£ç ï¼Œæ¯ä¸ªä»£ç æœ€å¤šåªæœ‰ä¸‰ä¸ªåœ°å€ï¼Œä¸€ä¸ªè¿ç®—ï¼Œå¾€å¾€ä¸ºç¬¬äºŒå’Œç¬¬ä¸‰ä¸ªåœ°å€æ“ä½œä»¥åï¼Œå…¶å€¼å­˜å…¥åœ°å€1ã€‚ 6.5.2. å˜é‡å®šä¹‰å½“å®šä¹‰ä¸€ä¸ªå˜é‡æ—¶ï¼Œå°†å…¶ä½œç”¨åŸŸæå‡è‡³å‡½æ•°å…¥å£ï¼Œå…·ä½“æ–¹æ¡ˆä¸ºåœ¨è¯­æ³•åˆ¶å¯¼ç¿»è¯‘çš„æ—¶å€™å°†å­æ ‘çš„ä½œç”¨åŸŸåˆå¹¶åˆ°è‡ªå·±èº«ä¸Š 6.5.3. å˜é‡è®¡ç®—æŒ‰ç…§è¯­æ³•åˆ¶å¯¼ç¿»è¯‘ï¼Œæ‰€æœ‰çš„äºŒå…ƒè¿ç®—ã€ä¸€å…ƒè¿ç®—ï¼Œéƒ½éœ€è¦æ–°å»ºä¸€ä¸ªä¸´æ—¶å˜é‡æ¥å‚¨å­˜ 6.5.4. if æ¡ä»¶åˆ†æ”¯ifåªéœ€è¦æ”¯æŒjumpæŒ‡ä»¤å³å¯ç¿»è¯‘ï¼Œå…ˆè®¡ç®—ifçš„æ¡ä»¶çš„å€¼ï¼Œå°†å…¶ç»“æœæ”¾å…¥ä¸´æ—¶å˜é‡ï¼Œç„¶åä½¿ç”¨jumpIfTrueè¿™ç§æŒ‡ä»¤æ¥è¿›è¡Œè·³è½¬ã€‚ 6.5.5. for&#x2F;whileå¾ªç¯ç¨å¾®æ”¹æ”¹ifçš„è·³è½¬å³å¯å®ç° 6.5.6. å‡½æ•°å‡½æ•°æ˜¯ä¸€ä¸ªå¾ˆå¤æ‚çš„ä¸œè¥¿ï¼Œå½“è°ƒç”¨ä¸€ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œéœ€è¦ä¿å­˜å½“å‰æ‰€æœ‰çš„å˜é‡ï¼Œç„¶åå‚æ•°å…¥æ ˆï¼Œè·³è½¬ï¼Œ å½“ä¸€ä¸ªå‡½æ•°æ‰§è¡Œæ—¶ï¼Œ éœ€è¦ä»æ ˆä¸­å–å‡ºå˜é‡ï¼Œæ‰§è¡Œå‡½æ•°ä½“ä»¥åï¼Œéœ€è¦ä»æ ˆä¸­å–å‡ºè¿”å›åœ°å€ï¼ˆPCæŒ‡é’ˆï¼‰ï¼Œå°†è¿”å›å€¼å­˜å…¥å¯„å­˜å™¨ï¼Œç„¶åè¿”å›ã€‚ 6.6. IFæ¡ä»¶åˆ†æ”¯ç¿»è¯‘æŸ¥çœ‹ä¸‹é¢çš„ä»£ç  1if condititon code1 else code2 å‡è®¾conditionçš„ä»£ç ä¸ºconditon.code,è¿™æ®µä»£ç æ‰§è¡Œå®Œä»¥åå€¼ä¿ç•™åœ¨åœ°å€condition.addressä¸­ï¼Œ å‡è®¾code1çš„ä»£ç ä¸ºcode1.code, code2çš„ä»£ç ä¸ºcode2.codeï¼Œ è¿™æ˜¯çš„ä»£ç å¸ƒå±€ä¸ºå››æ®µï¼Œç¬¬ä¸€æ®µå¯¹åº”ifï¼Œå…ˆæ‰§è¡Œå®Œcondition.codeï¼Œç„¶åæ ¹æ®conditon.addressæ¥å†³å®šæ˜¯å¦è·³è½¬åˆ°code2Beginï¼Œ å¦‚æœä¸ºçœŸåˆ™è·³è½¬ï¼Œå¦åˆ™ç»§ç»­å‘ä¸‹æ‰§è¡Œ æ³¨æ„åˆ°code1.codeå’Œcode2.codeæ‰§è¡Œå®Œä»¥åï¼Œéƒ½ä¼šè·³è½¬çš„åˆ°LABEL IFEND 123456789101112$&#123;conditon.code&#125;JUMIFFALSE conditon.address code2BeginLABEL code1Begin$&#123;code1.code&#125;JUMP IFENDLABEL code2Begin$&#123;code2.code&#125;JUMP IFENDLABEL IFEND 6.7. WHILEå¾ªç¯ç¿»è¯‘è¿˜æ˜¯ä¸€æ · å‡è®¾conditionçš„ä»£ç ä¸ºconditon.code,è¿™æ®µä»£ç æ‰§è¡Œå®Œä»¥åå€¼ä¿ç•™åœ¨åœ°å€condition.addressä¸­ï¼Œ å‡è®¾codeçš„ä»£ç ä¸ºcode.code 1while condititon code ä»£ç åˆ†ä¸ºå››æ®µ ç¬¬ä¸€æ®µä¸ºwhileçš„å¼€å§‹ï¼Œ ç¬¬äºŒæ®µä¸ºæ¡ä»¶åˆ¤æ–­ï¼Œå¦‚æœä¸ºçœŸåˆ™è·³è½¬åˆ°whileEndï¼Œå¦åˆ™å‘ä¸‹æ‰§è¡Œ ç¬¬ä¸‰æ®µä¸ºcodeï¼Œæ‰§è¡Œä»¥åè·³è½¬åˆ°whileBeginè¿›è¡Œé‡æ–°å¾ªç¯ ç¬¬å››æ®µä¸ºwhlieEnd,æ˜¯whileå¾ªç¯çš„å‡ºå£ 123456789LABEL whileBegin$&#123;conditon.code&#125;JUMIFFALSE conditon.address whileEnd$&#123;code1.code&#125;JUMP whileBeginLABEL whileEnd 6.8. FOR&#x2F;DOWHILEå¾ªç¯å’Œwhileä¸€æ ·","categories":[{"name":"ç¼–è¯‘å™¨","slug":"ç¼–è¯‘å™¨","permalink":"http://fightinggg.github.io/indigo/categories/%E7%BC%96%E8%AF%91%E5%99%A8/"}],"tags":[{"name":"è¯»ä¹¦","slug":"è¯»ä¹¦","permalink":"http://fightinggg.github.io/indigo/tags/%E8%AF%BB%E4%B9%A6/"},{"name":"è·Ÿæˆ‘ä¸€èµ·å†™ç¼–è¯‘å™¨","slug":"è·Ÿæˆ‘ä¸€èµ·å†™ç¼–è¯‘å™¨","permalink":"http://fightinggg.github.io/indigo/tags/%E8%B7%9F%E6%88%91%E4%B8%80%E8%B5%B7%E5%86%99%E7%BC%96%E8%AF%91%E5%99%A8/"}]},{"title":"è·Ÿæˆ‘ä¸€èµ·è‡ªå·±å†™ç¼–è¯‘å™¨-5.10.LRè¯­æ³•åˆ†æ","slug":"ç¼–è¯‘å™¨/è·Ÿæˆ‘ä¸€èµ·è‡ªå·±å†™ç¼–è¯‘å™¨-5.10.LRè¯­æ³•åˆ†æ/index","date":"2021-06-24T14:25:04.000Z","updated":"2021-08-29T09:41:04.000Z","comments":true,"path":"QV7MPS.html","link":"","permalink":"http://fightinggg.github.io/indigo/QV7MPS.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 5.10. LRè¯­æ³•åˆ†æç»è¿‡äº†å‰é¢çš„LLè¯­æ³•åˆ†æï¼Œç°åœ¨æˆ‘ä»¬è¿›å…¥åˆ°äº†LRè¯­æ³•åˆ†æï¼ŒLRè¯­æ³•åˆ†æä¹Ÿæ˜¯ä¸€å¥—ç®—æ³•ï¼Œè¿™é‡Œä¸»è¦ä»‹ç»ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯SLRç®—æ³•ï¼Œé¢†ä¸ªæ˜¯LR1ç®—æ³•ã€‚ LRè¯­æ³•åˆ†ææœ¬è´¨ä¸Šä¸ºä»å·¦åˆ°å³è‡ªåº•å‘ä¸Šç®—æ³•ï¼Œä»å·¦åˆ°å³ä¸€ä¸ªä¸€ä¸ªè¯»å…¥å­—ç¬¦ï¼Œç„¶åæŒ‰ç…§äº§ç”Ÿå¼è¿›è¡Œè§„çº¦ï¼Œç›´åˆ°è§„çº¦å‡ºæ–‡æ³•å¼€å§‹çš„ç¬¦å·ã€‚ 5.10.1. LRç®—æ³•LRè¯­æ³•åˆ†ææœ€é‡è¦çš„å°±æ˜¯ç§»å…¥å’Œè§„çº¦ã€‚ä¸‹é¢ä¸¾ä¸€ä¸ªä¾‹å­æ¥ç†è§£ç§»å…¥å’Œè§„çº¦ã€‚ 12345åŠ æ³•ï¼šï¼ˆ ç»ˆç»“ç¬¦: number, +, * éç»ˆç»“ç¬¦: PRODUCTION äº§ç”Ÿå¼: PRODUCTION -&gt; number | PRODUCTION + PRODUCTION | PRODUCTION * PRODUCTION | (PRODUCTION) å¼€å§‹ï¼š PRODUCTION","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 5.10. LRè¯­æ³•åˆ†æç»è¿‡äº†å‰é¢çš„LLè¯­æ³•åˆ†æï¼Œç°åœ¨æˆ‘ä»¬è¿›å…¥åˆ°äº†LRè¯­æ³•åˆ†æï¼ŒLRè¯­æ³•åˆ†æä¹Ÿæ˜¯ä¸€å¥—ç®—æ³•ï¼Œè¿™é‡Œä¸»è¦ä»‹ç»ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯SLRç®—æ³•ï¼Œé¢†ä¸ªæ˜¯LR1ç®—æ³•ã€‚ LRè¯­æ³•åˆ†ææœ¬è´¨ä¸Šä¸ºä»å·¦åˆ°å³è‡ªåº•å‘ä¸Šç®—æ³•ï¼Œä»å·¦åˆ°å³ä¸€ä¸ªä¸€ä¸ªè¯»å…¥å­—ç¬¦ï¼Œç„¶åæŒ‰ç…§äº§ç”Ÿå¼è¿›è¡Œè§„çº¦ï¼Œç›´åˆ°è§„çº¦å‡ºæ–‡æ³•å¼€å§‹çš„ç¬¦å·ã€‚ 5.10.1. LRç®—æ³•LRè¯­æ³•åˆ†ææœ€é‡è¦çš„å°±æ˜¯ç§»å…¥å’Œè§„çº¦ã€‚ä¸‹é¢ä¸¾ä¸€ä¸ªä¾‹å­æ¥ç†è§£ç§»å…¥å’Œè§„çº¦ã€‚ 12345åŠ æ³•ï¼šï¼ˆ ç»ˆç»“ç¬¦: number, +, * éç»ˆç»“ç¬¦: PRODUCTION äº§ç”Ÿå¼: PRODUCTION -&gt; number | PRODUCTION + PRODUCTION | PRODUCTION * PRODUCTION | (PRODUCTION) å¼€å§‹ï¼š PRODUCTION è€è§„çŸ©ï¼Œç›´æ¥æ¥è¾“å…¥1+2*3*(4+5) é¦–å…ˆè¾“å…¥1ï¼Œè¿™æ—¶å€™é€‰æ‹©ç§»å…¥ 12graph LR number(&quot;number(1)&quot;) ç„¶åé‡åˆ°+,é€‰æ‹©è§„çº¦PRODUCTION -&gt; number 12graph TD pro(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;) ç„¶åè¾“å…¥+,é€‰æ‹©ç§»å…¥ 123graph TD pro(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;) + ç„¶åè¾“å…¥å­—ç¬¦2, é€‰æ‹©ç§»å…¥ 1234graph TD pro(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;) + number2(&quot;number(2)&quot;) ç„¶åé‡åˆ°å­—ç¬¦*,é€‰æ‹©è§„çº¦ PRODUCTION -&gt; number 1234graph TD pro1(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;) + pro2(&quot;PRODUCTION&quot;) --&gt; number2(&quot;number(2)&quot;) è¾“å…¥å­—ç¬¦*, é€‰æ‹©ç§»å…¥ 12345graph TD pro1(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;) + pro2(&quot;PRODUCTION&quot;) --&gt; number2(&quot;number(2)&quot;) * è¾“å…¥å­—ç¬¦3,é€‰æ‹©ç§»å…¥ 123456graph TD pro1(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;) + pro2(&quot;PRODUCTION&quot;) --&gt; number2(&quot;number(2)&quot;) * number3(&quot;number(3)&quot;) é‡åˆ°å­—ç¬¦*, é€‰æ‹©è§„çº¦PRODUCTION -&gt; number 123456graph TD pro1(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;) + pro2(&quot;PRODUCTION&quot;) --&gt; number2(&quot;number(2)&quot;) * pro3(&quot;PRODUCTION&quot;) --&gt; number3(&quot;number(3)&quot;) é‡åˆ°å­—ç¬¦*,é€‰æ‹©è§„çº¦PRODUCTION -&gt; PRODUCTION * PRODUCTION 1234567graph TD pro1(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;) + pro2(&quot;PRODUCTION&quot;) --&gt; number2(&quot;number(2)&quot;) * pro3(&quot;PRODUCTION&quot;) --&gt; number3(&quot;number(3)&quot;) proMum(PRODUCTION) --&gt; pro2 &amp; pro3 &amp; * è¯»å–å­—ç¬¦*,é€‰æ‹©ç§»å…¥ 12345678graph TD pro1(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;) + pro2(&quot;PRODUCTION&quot;) --&gt; number2(&quot;number(2)&quot;) * pro3(&quot;PRODUCTION&quot;) --&gt; number3(&quot;number(3)&quot;) proMum(PRODUCTION) --&gt; pro2 &amp; pro3 &amp; * mul2(&quot;*&quot;) è¯»å–å­—ç¬¦( é€‰æ‹©ç§»å…¥ 123456789graph TD pro1(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;) + pro2(&quot;PRODUCTION&quot;) --&gt; number2(&quot;number(2)&quot;) * pro3(&quot;PRODUCTION&quot;) --&gt; number3(&quot;number(3)&quot;) proMum(PRODUCTION) --&gt; pro2 &amp; pro3 &amp; * mul2(&quot;*&quot;) left(&quot;(&quot;) è¯»å–å­—ç¬¦4, é€‰æ‹©ç§»å…¥ 12345678910graph TD pro1(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;) + pro2(&quot;PRODUCTION&quot;) --&gt; number2(&quot;number(2)&quot;) * pro3(&quot;PRODUCTION&quot;) --&gt; number3(&quot;number(3)&quot;) proMum(PRODUCTION) --&gt; pro2 &amp; pro3 &amp; * mul2(&quot;*&quot;) left(&quot;(&quot;) n4(&quot;number(4)&quot;) é‡åˆ°å­—ç¬¦+ï¼Œé€‰æ‹©è§„çº¦PODUCTION -&gt; number 12345678910graph TD pro1(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;) + pro2(&quot;PRODUCTION&quot;) --&gt; number2(&quot;number(2)&quot;) * pro3(&quot;PRODUCTION&quot;) --&gt; number3(&quot;number(3)&quot;) proMum(PRODUCTION) --&gt; pro2 &amp; pro3 &amp; * mul2(&quot;*&quot;) left(&quot;(&quot;) pro4(PRODUCTION) --&gt; n4(&quot;number(4)&quot;) è¯»å…¥å­—ç¬¦+, é€‰æ‹©ç§»å…¥ 1234567891011graph TD pro1(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;) + pro2(&quot;PRODUCTION&quot;) --&gt; number2(&quot;number(2)&quot;) * pro3(&quot;PRODUCTION&quot;) --&gt; number3(&quot;number(3)&quot;) proMum(PRODUCTION) --&gt; pro2 &amp; pro3 &amp; * mul2(&quot;*&quot;) left(&quot;(&quot;) pro4(PRODUCTION) --&gt; n4(&quot;number(4)&quot;) add2(+) è¯»å…¥å­—ç¬¦5, é€‰æ‹©ç§»å…¥ 123456789101112graph TD pro1(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;) + pro2(&quot;PRODUCTION&quot;) --&gt; number2(&quot;number(2)&quot;) * pro3(&quot;PRODUCTION&quot;) --&gt; number3(&quot;number(3)&quot;) proMum(PRODUCTION) --&gt; pro2 &amp; pro3 &amp; * mul2(&quot;*&quot;) left(&quot;(&quot;) pro4(PRODUCTION) --&gt; n4(&quot;number(4)&quot;) add2(+) n5(&quot;number(5)&quot;) é‡åˆ°å­—ç¬¦)é€‰æ‹©è§„çº¦PRODUCTION -&gt; number 123456789101112graph TD pro1(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;) + pro2(&quot;PRODUCTION&quot;) --&gt; number2(&quot;number(2)&quot;) * pro3(&quot;PRODUCTION&quot;) --&gt; number3(&quot;number(3)&quot;) proMum(PRODUCTION) --&gt; pro2 &amp; pro3 &amp; * mul2(&quot;*&quot;) left(&quot;(&quot;) pro4(PRODUCTION) --&gt; n4(&quot;number(4)&quot;) add2(+) pro5(PRODUCTION) --&gt;n5(&quot;number(5)&quot;) é‡åˆ°å­—ç¬¦)é€‰æ‹©è§„çº¦PRODUCTION -&gt; PRODUCTION + PRODUCTION 12345678910111213graph TD pro1(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;) + pro2(&quot;PRODUCTION&quot;) --&gt; number2(&quot;number(2)&quot;) * pro3(&quot;PRODUCTION&quot;) --&gt; number3(&quot;number(3)&quot;) proMum(PRODUCTION) --&gt; pro2 &amp; pro3 &amp; * mul2(&quot;*&quot;) left(&quot;(&quot;) pro4(PRODUCTION) --&gt; n4(&quot;number(4)&quot;) add2(+) pro5(PRODUCTION) --&gt;n5(&quot;number(5)&quot;) proSum2(PRODUCTION) --&gt; pro4 &amp; add2 &amp; pro5 è¯»å…¥å­—ç¬¦) , é€‰æ‹©ç§»å…¥ 1234567891011121314graph TD pro1(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;) + pro2(&quot;PRODUCTION&quot;) --&gt; number2(&quot;number(2)&quot;) * pro3(&quot;PRODUCTION&quot;) --&gt; number3(&quot;number(3)&quot;) proMum(PRODUCTION) --&gt; pro2 &amp; pro3 &amp; * mul2(&quot;*&quot;) left(&quot;(&quot;) pro4(PRODUCTION) --&gt; n4(&quot;number(4)&quot;) add2(+) pro5(PRODUCTION) --&gt;n5(&quot;number(5)&quot;) proSum2(PRODUCTION) --&gt; pro4 &amp; add2 &amp; pro5 right(&quot;)&quot;) é‡åˆ°å­—ç¬¦$,é€‰æ‹©è§„çº¦PRODUCTION -&gt; ( PRODUCTION ) 123456789101112131415graph TD pro1(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;) + pro2(&quot;PRODUCTION&quot;) --&gt; number2(&quot;number(2)&quot;) * pro3(&quot;PRODUCTION&quot;) --&gt; number3(&quot;number(3)&quot;) proMum(PRODUCTION) --&gt; pro2 &amp; pro3 &amp; * mul2(&quot;*&quot;) left(&quot;(&quot;) pro4(PRODUCTION) --&gt; n4(&quot;number(4)&quot;) add2(+) pro5(PRODUCTION) --&gt;n5(&quot;number(5)&quot;) proSum2(PRODUCTION) --&gt; pro4 &amp; add2 &amp; pro5 right(&quot;)&quot;) proLeftRight(PRODUCTION) --&gt; left &amp; proSum2 &amp; right é‡åˆ°å­—ç¬¦$,é€‰æ‹©è§„çº¦PRODUCTION -&gt; PRODUCTION*PRODUCTION 12345678910111213141516graph TD pro1(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;) + pro2(&quot;PRODUCTION&quot;) --&gt; number2(&quot;number(2)&quot;) * pro3(&quot;PRODUCTION&quot;) --&gt; number3(&quot;number(3)&quot;) proMum(PRODUCTION) --&gt; pro2 &amp; pro3 &amp; * mul2(&quot;*&quot;) left(&quot;(&quot;) pro4(PRODUCTION) --&gt; n4(&quot;number(4)&quot;) add2(+) pro5(PRODUCTION) --&gt;n5(&quot;number(5)&quot;) proSum2(PRODUCTION) --&gt; pro4 &amp; add2 &amp; pro5 right(&quot;)&quot;) proLeftRight(PRODUCTION) --&gt; left &amp; proSum2 &amp; right pro2LeftRight --&gt; proLeftRight &amp; proMum &amp; mul2 é‡åˆ°å­—ç¬¦$,é€‰æ‹©è§„çº¦PRODUCTION -&gt; PRODUCTION+PRODUCTION 1234567891011121314151617graph TD pro1(&quot;PRODUCTION&quot;) --&gt; number(&quot;number(1)&quot;) + pro2(&quot;PRODUCTION&quot;) --&gt; number2(&quot;number(2)&quot;) * pro3(&quot;PRODUCTION&quot;) --&gt; number3(&quot;number(3)&quot;) proMum(PRODUCTION) --&gt; pro2 &amp; pro3 &amp; * mul2(&quot;*&quot;) left(&quot;(&quot;) pro4(PRODUCTION) --&gt; n4(&quot;number(4)&quot;) add2(+) pro5(PRODUCTION) --&gt;n5(&quot;number(5)&quot;) proSum2(PRODUCTION) --&gt; pro4 &amp; add2 &amp; pro5 right(&quot;)&quot;) proLeftRight(PRODUCTION) --&gt; left &amp; proSum2 &amp; right pro2LeftRight --&gt; proLeftRight &amp; proMum &amp; mul2 summm(PRODUCTION) --&gt; pro1 &amp; + &amp; pro2LeftRight è‡³æ­¤ï¼Œç»“æŸ 5.10.2. ç§»å…¥è¿˜æ˜¯è§„çº¦ç°åœ¨è¯»è€…åº”è¯¥æ˜ç™½ï¼ŒLRç®—æ³•æ˜¯éå¸¸å¼ºå¤§çš„ï¼Œä½†æ˜¯å½“ç¢°åˆ°ä¸€ä¸ªå­—ç¬¦çš„æ—¶å€™ï¼Œè¦é€‰æ‹©ç§»å…¥è¿˜æ˜¯è§„çº¦å‘¢ï¼Œå½“é€‰æ‹©è§„çº¦çš„æ—¶å€™ï¼Œè¦ç”¨å“ªä¸ªäº§ç”Ÿå¼è§„çº¦å‘¢ï¼Ÿ å½“LRåˆ†æè¡¨è¡¨æ˜ï¼Œå¯ä»¥åŒæ—¶ç§»å…¥å’Œè§„çº¦æ—¶ï¼Œè¿™è¢«ç§°ä¸ºç§»å…¥è§„çº¦å†²çª å½“LRåˆ†æè¡¨è¡¨æ˜ï¼Œå¯ä»¥åŒæ—¶å¤šä¸ªäº§ç”Ÿå¼è§„çº¦æ—¶ï¼Œè¿™è¢«ç§°ä¸ºè§„çº¦è§„çº¦å†²çª 5.10.3. SLRç®—æ³•ä»‹ç»SLRç®—æ³•æ˜¯æœ€ç®€å•çš„LRç®—æ³•ï¼Œé¦–å…ˆå½“ç„¶æ˜¯éœ€è¦è®¡ç®—FIRSTé›†å’ŒFOLLOWé›†çš„ã€‚ç„¶åå°±æ˜¯è®¡ç®—å¢å¹¿æ–‡æ³•ï¼Œè¿™é‡Œæ¶‰åŠåˆ°é¡¹é›†çš„æ¦‚å¿µã€‚ 5.10.4. SLRé¡¹é›†å¢å¹¿äº§ç”Ÿå¼ï¼Œäº§ç”Ÿå¼çš„å½¢å¼ä¸ºA -&gt; B1 B2 B3 B4, ä»–ä»…èƒ½ä»£è¡¨æ›¿æ¢è§„åˆ™ï¼Œæ— æ³•ä»£è¡¨å½“å‰åŒ¹é…åˆ°å“ªä¸ªåœ°æ–¹äº†ï¼Œå¢å¹¿äº§ç”Ÿå¼å‘å…¶ä¸­åŠ äº†ä¸€ä¸ªæ ‡è®°ä½ï¼Œç”¨æ¥è¡¨ç¤ºå½“å‰åŒ¹é…åˆ°äº†å“ªä¸ªåœ°æ–¹ã€‚ æ¯”å¦‚A -&gt; Â· B1 B2 B3 B4ä»£è¡¨åˆšåˆšå¼€å§‹åŒ¹é…ï¼ŒA -&gt; B1 Â· B2 B3 B4ä»£è¡¨å·²ç»è¯†åˆ«äº†ç¬¦å·B1 å€Ÿæ­¤æ¦‚å¿µï¼Œå¼•å…¥é¡¹é›†ï¼Œé¡¹é›†å°±æ˜¯ä¸€ä¸ªäº§ç”Ÿå¼ä»¥åŠä»–çš„åŒ¹é…æ ‡è®°ä½ä¸Šç»è¿‡äº§ç”Ÿå¼æ›¿æ¢ä¹‹åå¾—åˆ°çš„é—­åŒ…ã€‚ 12345åŠ æ³•ï¼š ç»ˆç»“ç¬¦: number, + éç»ˆç»“ç¬¦: SUM äº§ç”Ÿå¼: SUM -&gt; number | SUM + number å¼€å§‹ï¼š SUM å¼€å§‹çš„äº§ç”Ÿå¼ä¸ºä¸‹æ–‡ï¼Œ è¿™é‡Œå·²ç»æ„æˆäº†é—­åŒ…ã€‚æˆ‘ä»¬å®šä¹‰è¿™ä¸ªäº§ç”Ÿå¼é›†åˆä¸ºé¡¹é›†1ã€‚ 12SUM -&gt; Â· numberSUM -&gt; Â· SUM + number é¡¹é›†1åœ¨è¯»å…¥numberä»¥åï¼Œå¾—åˆ°äº†é¡¹é›†2 1SUM -&gt; number Â· é¡¹é›†1åœ¨è¯»å…¥SUMä»¥åï¼Œå¾—åˆ°äº†é¡¹é›†3 1SUM -&gt; SUM Â· + number é¡¹é›†3è¯»å…¥+ä»¥åï¼Œå¾—åˆ°äº†é¡¹é›†4 1SUM -&gt; SUM + Â· number é¡¹é›†4è¯»å…¥numberä»¥åï¼Œå¾—åˆ°äº†é¡¹é›†5 1SUM -&gt; SUM + number Â· äºæ˜¯æˆ‘ä»¬æ•´ç†ä¸€ä¸‹ 12345678910graph TD I1(&quot;SUM -&gt; Â· number&lt;br/&gt;SUM -&gt; Â· SUM + number&quot;) I2(&quot;SUM -&gt; number Â·&quot;) I3(&quot;SUM -&gt; SUM Â· + number&quot;) I4(&quot;SUM -&gt; SUM + Â· number&quot;) I5(&quot;SUM -&gt; SUM + number Â·&quot;) I1 --&gt;|number| I2 I1 --&gt;|SUM| I3 I3 --&gt;|+| I4 I4 --&gt;|number| I5 æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸€ä¸ªé—­åŒ…çš„é—®é¢˜ 1234567åŠ æ³•ä¹˜æ³•ï¼š ç»ˆç»“ç¬¦: number, +, * éç»ˆç»“ç¬¦: SUM, MUL, PRODUCTION äº§ç”Ÿå¼: SUM -&gt; PRODUCTION + MUL MUL -&gt; MUL * number | number PRODUCTION -&gt; SUM | MUL å¼€å§‹ï¼š PRODUCTION å¼€å§‹çš„äº§ç”Ÿå¼ä¸ºä¸‹æ–‡ 12PRODUCTION -&gt; Â· SUMPRODUCTION -&gt; Â· MUL ä½†æ˜¯ä»–æ²¡æœ‰æ„æˆé—­åŒ…ï¼Œéœ€è¦è¿›è¡Œé—­åŒ…æ›¿æ¢ï¼Œå³å±•å¼€æ ‡è®°ä½åçš„éç»ˆç»“ç¬¦ï¼Œ ä¸‹æ–‡æ˜¯é¡¹é›†1 12345PRODUCTION -&gt; Â· SUMPRODUCTION -&gt; Â· MULSUM -&gt; Â· PRODUCTION + MULMUL -&gt; Â· MUL * numberMUL -&gt; Â· number é¡¹é›†1è¯»å…¥numberè½¬ä¸ºé¡¹é›†2 1MUL -&gt; number Â· é¡¹é›†1è¯»å…¥SUMè½¬ä¸ºé¡¹é›†3 1PRODUCTION -&gt; SUM Â· é¡¹é›†1è¯»å…¥MULè½¬ä¸ºé¡¹é›†4 12PRODUCTION -&gt; MUL Â· MUL -&gt; MUL Â· * number é¡¹é›†1è¯»å…¥PRODUCTION è½¬ä¸ºé¡¹é›†5 1SUM -&gt; PRODUCTION Â· + MUL é¡¹é›†4è¯»å…¥ * åˆ°é¡¹é›†6 1MUL -&gt; MUL * Â· number é¡¹é›†6è¯»å…¥numberï¼Œå¾—åˆ°é¡¹é›†7 1MUL -&gt; MUL * number Â· é¡¹é›†5è¯»å…¥+å¾—åˆ°é¡¹é›†8ï¼Œ 123SUM -&gt; PRODUCTION + Â· MULMUL -&gt; Â· MUL * numberMUL -&gt; Â· number é¡¹é›†8è¯»å…¥MULåˆ°é¡¹é›†9 12SUM -&gt; PRODUCTION + MUL Â·MUL -&gt; MUL Â· * number ä¸‹å›¾æ˜¯å…¨æµç¨‹ 12345678910111213141516171819202122graph TD I1(&quot;çŠ¶æ€1&lt;br/&gt;PRODUCTION -&gt; Â· SUM&lt;br/&gt;PRODUCTION -&gt; Â· MUL&lt;br/&gt;SUM -&gt; Â· PRODUCTION + MUL&lt;br/&gt;MUL -&gt; Â· MUL * number&lt;br/&gt;MUL -&gt; Â· number&quot;) I2(&quot;çŠ¶æ€2&lt;br/&gt;MUL -&gt; number Â·&quot;) I3(&quot;çŠ¶æ€3&lt;br/&gt;PRODUCTION -&gt; SUM Â· &quot;) I4(&quot;çŠ¶æ€4&lt;br/&gt;PRODUCTION -&gt; MUL Â· &lt;br/&gt;MUL -&gt; MUL Â· * number&quot;) I5(&quot;çŠ¶æ€5&lt;br/&gt;SUM -&gt; PRODUCTION Â· + MUL&quot;) I6(&quot;çŠ¶æ€6&lt;br/&gt;MUL -&gt; MUL * Â· number&quot;) I7(&quot;çŠ¶æ€7&lt;br/&gt;MUL -&gt; MUL * number Â· &quot;) I8(&quot;çŠ¶æ€8&lt;br/&gt;SUM -&gt; PRODUCTION + Â· MUL&lt;br/&gt;MUL -&gt; Â· MUL * number&lt;br/&gt;MUL -&gt; Â· number&quot;) I9(&quot;çŠ¶æ€9&lt;br/&gt;SUM -&gt; PRODUCTION + MUL Â·&lt;br/&gt;MUL -&gt; MUL Â· * number&quot;) I10(&quot;çŠ¶æ€10&lt;br/&gt;MUL -&gt; number Â·&quot;) I1 --&gt;|number| I2 I1 --&gt;|SUM| I3 I1 --&gt;|MUL| I4 I1 --&gt;|PODUCTION| I5 I4 --&gt;|*| I6 I6 --&gt;|number| I7 I5 --&gt;|+| I8 I8 --&gt;|MUL| I9 I8 --&gt;|number| I10 I9 --&gt;|*| I6 5.10.5. SLRè¡¨ç”Ÿæˆç®—æ³•å½“æˆ‘ä»¬è®¡ç®—å‡ºé¡¹é›†ä»¥åï¼Œå°±å¯ä»¥æ ¹æ®é¡¹é›†ã€FIRSTé›†ã€FOLLOWé›†æ„å»ºSLRè¡¨äº†ï¼Œå…·ä½“æ„é€ æ–¹å¼å¦‚ä¸‹ï¼Œå¯¹äºé¡¹é›†ä¸­çš„æ¯ä¸ªé¡¹ï¼Œå°±æ˜¯SLRè¡¨çš„è¡Œï¼Œä¹Ÿå³çŠ¶æ€ã€‚è¿™æ¬¡æˆ‘ä»¬ç›´æ¥çœ‹è¿™ä¸ªå¤æ‚çš„ä¾‹å­(è§6.10.4) 1234567åŠ æ³•ä¹˜æ³•ï¼š ç»ˆç»“ç¬¦: number, +, * éç»ˆç»“ç¬¦: SUM, MUL, PRODUCTION äº§ç”Ÿå¼: SUM -&gt; PRODUCTION + MUL MUL -&gt; MUL * number | number PRODUCTION -&gt; SUM | MUL å¼€å§‹ï¼š PRODUCTION çŠ¶æ€ä¸­çš„è¾¹å°±å¯¹åº”ç€ç§»å…¥ï¼Œä¸‹é¢æˆ‘ä»¬é¦–å…ˆæŒ‰ç…§è¾¹å¡«å……æ‰€æœ‰çš„ç§»å…¥æŒ‡ä»¤,ç§»å…¥æŒ‡ä»¤é’ˆå¯¹äºç»ˆç»“ç¬¦ï¼ŒçŠ¶æ€1ä¸‹çš„s2,å°±å¯¹åº”ç€ç§»å…¥å­—ç¬¦numberï¼Œç„¶åè·³è½¬åˆ°çŠ¶æ€2 çŠ¶æ€ number + * SUM MUL PRODUCTION $ 1 s2 2 3 4 s6 5 s8 6 s7 7 8 s10 9 s6 10 ç„¶åæŒ‰ç…§è¾¹å¡«å……gotoï¼Œå¯¹äºéç»ˆç»“ç¬¦ï¼ŒæŒ‰ç…§è¾¹è¿›è¡Œå¡«å†™ï¼ˆå’Œç§»å…¥ä¸€è‡´ï¼‰ï¼Œgoto3æ„å‘³ç€çŠ¶æ€1ä¸‹ï¼Œç¢°åˆ°SUMåï¼Œè·³è½¬åˆ°çŠ¶æ€3 çŠ¶æ€ number + * SUM MUL PRODUCTION $ 1 s2 goto3 goto4 goto5 2 3 4 s6 5 s8 6 s7 7 8 s10 goto9 9 s6 10 ç¬¬ä¸‰æ­¥æ³¨æ„åˆ°çŠ¶æ€3å’ŒçŠ¶æ€4è¾ƒä¸ºç‰¹æ®Šï¼Œä»–ä»¬åŒ…å«äº†ç»ˆç»“æ€ï¼Œæ‰€ä»¥åœ¨çŠ¶æ€3å’ŒçŠ¶æ€4ä¸‹è¾“å…¥$åˆ™è¡¨æ˜è¯†åˆ«å®Œæˆ çŠ¶æ€ number + * SUM MUL PRODUCTION $ 1 s2 goto3 goto4 goto5 2 3 ACC 4 s6 ACC 5 s8 6 s7 7 8 s10 goto9 9 s6 10 æœ€åä¸€æ­¥ï¼Œæ ¹æ®FOLLOWé›†å¤„ç†è§„çº¦ï¼Œå…ˆæƒ³æƒ³è§„çº¦æ˜¯ä»€ä¹ˆï¼Œå°±æ˜¯ç¢°åˆ°ä¸€ä¸ªæ— æ³•è¯†åˆ«çš„å­—ç¬¦ä»¥åï¼Œéœ€è¦å°†ä»¥å‰çš„æ•°æ®è¿›è¡Œè§„çº¦ï¼ŒçŠ¶æ€2ï¼Œ3ï¼Œ4ï¼Œ7ï¼Œ9ï¼Œ10éƒ½å­˜åœ¨è§„çº¦çš„æƒ…å†µï¼Œ å…ˆæ¥è®¡ç®—FOLLOWé›†ï¼Œèƒ½å‘ç°MULçš„FOLLOWé›†ä¸º*, +,$, SUMçš„FOLLOWé›†ä¸º+,$ï¼ŒPRODUCTIONçš„FOLLOWé›†ä¸º+,$ å…ˆçœ‹çŠ¶æ€2ï¼Œæ˜æ˜¾å¯ä»¥ä½¿ç”¨äº§ç”Ÿå¼MUL -&gt; numberè§„çº¦ï¼Œä½†æ˜¯åœ¨çŠ¶æ€2ç¢°åˆ°å“ªäº›å­—ç¬¦æ‰èƒ½è§„çº¦å‘¢ï¼Ÿå…¶å®å°±æ˜¯MULçš„FOLLOWé›†,äºæ˜¯æœ‰äº†ä¸‹è¡¨,rä»£è¡¨è§„çº¦ï¼Œå…¶å³è¾¹çš„æ‹¬å·å†…å†™ç€äº§ç”Ÿå¼ çŠ¶æ€ number + * SUM MUL PRODUCTION $ 1 s2 goto3 goto4 goto5 2 r(MUL-&gt;number) r(MUL-&gt;number) r(MUL-&gt;number) 3 ACC 4 s6 ACC 5 s8 6 s7 7 8 s10 goto9 9 s6 10 åé¢çš„çŠ¶æ€3ï¼Œ4ï¼Œ7ï¼Œ9ï¼Œ10åŒç†äº†ï¼Œå‰©ä¸‹çš„æ²¡æœ‰å¡«å……çš„åœ°æ–¹å°±æ˜¯æŠ¥é”™äº†ï¼Œæ³¨æ„åˆ°çŠ¶æ€2å’Œ3ï¼Œç¢°åˆ°$æ—¶è¦ç‰¹æ®Šåˆ¤æ–­ï¼Œç›´æ¥ACC çŠ¶æ€ number + * SUM MUL PRODUCTION $ 1 s2 goto3 goto4 goto5 2 r(MUL-&gt;number) r(MUL-&gt;number) r(MUL-&gt;number) 3 r(PRODUCTION -&gt; SUM) ACC 4 r(PRODUCTION -&gt; MUL) s6 ACC 5 s8 6 s7 7 r(MUL -&gt; MUL * number ) r(MUL -&gt; MUL * number ) r(MUL -&gt; MUL * number ) 8 s10 goto9 9 r(SUM -&gt; PRODUCTION + MUL) s6 r(SUM -&gt; PRODUCTION + MUL) 10 r(MUL-&gt;number) r(MUL-&gt;number) r(MUL-&gt;number) æ¥ä¸‹æ¥æˆ‘ä»¬æ ¹æ®SLRè¡¨æ¥è·‘ä¸€ä¸‹LRç®—æ³•éªŒè¯ä¸€ä¸‹è¾“å…¥1+2*3 æ­¥éª¤ çŠ¶æ€ æ“ä½œ çŠ¶æ€æ ˆ ç¬¦å·æ ˆ 1 æœ€å¼€å§‹æœ‰ä¸€ä¸ªçŠ¶æ€æ ˆï¼Œå…¶ä¸­åŒ…å«çŠ¶æ€1ä¸€ä¸ªç¬¦å·æ ˆï¼Œä¸ºç©º [æ ˆåº•,1] [æ ˆåº•] 2 ä»çŠ¶æ€æ ˆé¡¶è¯»å–çŠ¶æ€ç°åœ¨ä½äºçŠ¶æ€1 è¯»å…¥å­—ç¬¦number1, æ‰§è¡Œs2 åˆ™çŠ¶æ€2å…¥æ ˆï¼Œå­—ç¬¦number1å…¥æ ˆ [æ ˆåº•,1,2] [æ ˆåº•,number1] 3 ä»çŠ¶æ€æ ˆé¡¶è¯»å–çŠ¶æ€ç°åœ¨ä½äºçŠ¶æ€2 é‡åˆ°å­—ç¬¦+ä¸è¯»å…¥, æ‰§è¡Œr(MUL-&gt;number) çŠ¶æ€æ ˆå¼¹å‡ºçŠ¶æ€2ï¼Œç¬¦å·æ ˆå¼¹å‡ºnumber1ç„¶åMULç¬¦å·å‡†å¤‡å…¥æ ˆ, å…¥æ ˆæ—¶çŠ¶æ€æ ˆé¡¶ä¸º1äºæ˜¯æ‰§è¡Œgoto4 [æ ˆåº•,1,4] [æ ˆåº•,MUL] 4 ä»çŠ¶æ€æ ˆé¡¶è¯»å–çŠ¶æ€ç°åœ¨ä½äºçŠ¶æ€4 é‡åˆ°å­—ç¬¦+ä¸è¯»å…¥, æ‰§è¡Œr(PRODUCTION -&gt; MUL) çŠ¶æ€4å¼¹å‡ºï¼Œç¬¦å·MULå¼¹å‡ºï¼Œç„¶åPRODUCTIONç¬¦å·å‡†å¤‡å…¥æ ˆï¼Œæ­¤æ—¶æ ˆé¡¶ä¸º1 äºæ˜¯æ‰§è¡Œgoto5 [æ ˆåº•,1,5] [æ ˆåº•,PRODUCTION] 5 ä»çŠ¶æ€æ ˆé¡¶è¯»å–çŠ¶æ€ç°åœ¨ä½äºçŠ¶æ€4 è¯»å…¥å­—ç¬¦+ï¼Œ æ‰§è¡Œs8 [æ ˆåº•,1,5,8] [æ ˆåº•,PRODUCTION,+] 6 ä»çŠ¶æ€æ ˆé¡¶è¯»å–çŠ¶æ€ç°åœ¨ä½äºçŠ¶æ€8 è¯»å…¥å­—ç¬¦number2,æ‰§è¡Œs10 [æ ˆåº•,1,5,8,10] [æ ˆåº•,PRODUCTION,+,number2] 7 ä»çŠ¶æ€æ ˆé¡¶è¯»å–çŠ¶æ€ç°åœ¨ä½äºçŠ¶æ€10 é‡åˆ°å­—ç¬¦*ä¸è¯»å…¥,äºæ˜¯å¼¹æ ˆã€goto9 [æ ˆåº•,1,5,8,9] ,[æ ˆåº•,PRODUCTION,+,MUL] 8 ä»çŠ¶æ€æ ˆé¡¶è¯»å–çŠ¶æ€ç°åœ¨ä½äºçŠ¶æ€9 è¯»å…¥å­—ç¬¦*ï¼Œæ‰§è¡Œs6 [æ ˆåº•,1,5,8,9,6] [æ ˆåº•,PRODUCTION,+,MUL,*] 9 ä»çŠ¶æ€æ ˆé¡¶è¯»å–çŠ¶æ€ç°åœ¨ä½äºçŠ¶æ€6 ,è¯»å…¥å­—ç¬¦number3ï¼Œ æ‰§è¡Œs7 [æ ˆåº•,1,5,8,9,6,7] [æ ˆåº•,PRODUCTION,+,MUL,*,number3] 10 ä»çŠ¶æ€æ ˆé¡¶è¯»å–çŠ¶æ€ç°åœ¨ä½äºçŠ¶æ€7 é‡åˆ°å­—ç¬¦$ä¸è¯»å…¥,æ‰§è¡Œr(MUL -&gt; MUL * number )ç¬¦å·æ ˆå¼¹å‡ºä¸‰ä¸ªï¼ŒçŠ¶æ€æ ˆå¼¹å‡ºä¸‰ä¸ªç„¶åå¤„äºçŠ¶æ€8ï¼ŒæŒ‰ç…§å‘ç°é‡åˆ°MULæ‰§è¡Œgoto9 [æ ˆåº•,1,5,8,9] [æ ˆåº•,PRODUCTION,+,MUL] 11 ä»çŠ¶æ€æ ˆé¡¶è¯»å–çŠ¶æ€ç°åœ¨ä½äºçŠ¶æ€9 é‡åˆ°å­—ç¬¦$ä¸è¯»å…¥, æ‰§è¡Œr(SUM -&gt; PRODUCTION + MUL)ä¸¤ä¸ªæ ˆéƒ½æ˜¯å¼¹å‡ºä¸‰ä¸ªï¼Œå¤„äºçŠ¶æ€1é‡åˆ°SUM,æ‰§è¡Œgoto3 [æ ˆåº•,1,3] [æ ˆåº•,SUM] 12 ä»çŠ¶æ€æ ˆé¡¶è¯»å–çŠ¶æ€ç°åœ¨ä½äºçŠ¶æ€3, è¯»å…¥å­—ç¬¦$ï¼Œç»“æŸ 5.10.6 SLRç®—æ³•ä¼ªä»£ç  æ„é€ æ–‡æ³•çš„è§„èŒƒLR(0) é¡¹é›†ç°‡ C &#x3D; ${I_0, I_1, â€¦ I_n}$. å¯¹äºçŠ¶æ€iï¼Œ â‘  å¦‚æœ[A-&gt;Î±Â·aÎ²]åœ¨çŠ¶æ€ä¸­ï¼Œaä¸ºç»ˆç»“ç¬¦ä¸”GOTO(i,a)&#x3D;jï¼Œ åˆ™ACTION[i,a]ä¸º: â€œç§»å…¥jâ€ â‘¡ å¦‚æœ[A-&gt;Î±Â·]åœ¨çŠ¶æ€ä¸­ä¸”Aä¸ä¸ºå¼€å§‹ç¬¦å·ï¼Œåˆ™å¯¹äºæ‰€æœ‰çš„FOLLOW(A)çš„å­—ç¬¦aï¼Œå°†ACTION[i,a]è®¾ä¸º: â€œè§„çº¦A-&gt;Î±â€ â‘¢ å¦‚æœ[A-&gt;Î±Â·]åœ¨çŠ¶æ€ä¸­ä¸”Aä¸ºå¼€å§‹ç¬¦å·ï¼Œåˆ™å°†ACTION[i,$]è®¾ä¸º: â€œæ¥å—â€ å¯¹äºçŠ¶æ€iï¼Œå¦‚æœAä¸ºéç»ˆç»“ç¬¦ä¸” GOTO(i,A)&#x3D;j åˆ™GOTO[i,A]&#x3D;j å‰©ä¸‹çš„åœ°æ–¹å°±æ˜¯æŠ¥é”™ 5. èµ·ç‚¹æ˜¯[Sâ€™-&gt;Â·S] 5.10.7 å†²çªä¸è§„çº¦ç”±äºSLRæ–‡æ³•å¾ˆç®€å•ï¼Œä»–èƒ½è¯†åˆ«çš„æ–‡æ³•å…¶å®å¾ˆå°‘å¾ˆå°‘ï¼Œå¤§éƒ¨åˆ†æ–‡æ³•åœ¨ä»–è¿™é‡Œéƒ½ä¼šå†²çªï¼Œä¹Ÿå°±æ˜¯ä¸€å¼ SLRè¡¨ä¸­ï¼Œä¸€ä¸ªçŠ¶æ€é‡åˆ°äº†åŒä¸€ä¸ªç¬¦å·æ—¶ï¼Œè¡¨è¦æ±‚è¿›è¡Œå¤šç§æ“ä½œã€‚ ä½†æ˜¯SLRæ–‡æ³•ä¹Ÿå®¹æ˜“å®ç°ï¼Œæ‰€ä»¥åœ¨ç¬”è€…çš„compileré¡¹ç›®ä¸­ï¼Œå¾ˆå¤šåœ°æ–¹éƒ½ç›´æ¥æ‰§è¡Œäº†SLRç®—æ³• æ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦å¯¹æ–‡æ³•è¿›è¡Œè¿›ä¸€æ­¥å¢å¹¿ï¼Œåé¢æå‡ºLR1ç®—æ³•ã€‚ 5.10.8 LR1 å¢å¹¿æ–‡æ³•LR1åœ¨SLRçš„åŸºç¡€ä¸Šç»§ç»­è¿›è¡Œå¢å¹¿ï¼Œç»§ç»­å¼•å…¥äº†endé›†åˆï¼Œä¸‹é¢ç»§ç»­å›å¿†ä¸€ä¸‹æ–‡æ³•å’Œé¡¹é›† 1234567åŠ æ³•ä¹˜æ³•ï¼š ç»ˆç»“ç¬¦: number, +, * éç»ˆç»“ç¬¦: SUM, MUL, PRODUCTION äº§ç”Ÿå¼: SUM -&gt; PRODUCTION + MUL MUL -&gt; MUL * number | number PRODUCTION -&gt; SUM | MUL å¼€å§‹ï¼š PRODUCTION 12345678910111213141516171819202122graph TD I1(&quot;çŠ¶æ€1&lt;br/&gt;PRODUCTION -&gt; Â· SUM&lt;br/&gt;PRODUCTION -&gt; Â· MUL&lt;br/&gt;SUM -&gt; Â· PRODUCTION + MUL&lt;br/&gt;MUL -&gt; Â· MUL * number&lt;br/&gt;MUL -&gt; Â· number&quot;) I2(&quot;çŠ¶æ€2&lt;br/&gt;MUL -&gt; number Â·&quot;) I3(&quot;çŠ¶æ€3&lt;br/&gt;PRODUCTION -&gt; SUM Â· &quot;) I4(&quot;çŠ¶æ€4&lt;br/&gt;PRODUCTION -&gt; MUL Â· &lt;br/&gt;MUL -&gt; MUL Â· * number&quot;) I5(&quot;çŠ¶æ€5&lt;br/&gt;SUM -&gt; PRODUCTION Â· + MUL&quot;) I6(&quot;çŠ¶æ€6&lt;br/&gt;MUL -&gt; MUL * Â· number&quot;) I7(&quot;çŠ¶æ€7&lt;br/&gt;MUL -&gt; MUL * number Â· &quot;) I8(&quot;çŠ¶æ€8&lt;br/&gt;SUM -&gt; PRODUCTION + Â· MUL&lt;br/&gt;MUL -&gt; Â· MUL * number&lt;br/&gt;MUL -&gt; Â· number&quot;) I9(&quot;çŠ¶æ€9&lt;br/&gt;SUM -&gt; PRODUCTION + MUL Â·&lt;br/&gt;MUL -&gt; MUL Â· * number&quot;) I10(&quot;çŠ¶æ€10&lt;br/&gt;MUL -&gt; number Â·&quot;) I1 --&gt;|number| I2 I1 --&gt;|SUM| I3 I1 --&gt;|MUL| I4 I1 --&gt;|PODUCTION| I5 I4 --&gt;|*| I6 I6 --&gt;|number| I7 I5 --&gt;|+| I8 I8 --&gt;|MUL| I9 I8 --&gt;|number| I10 I9 --&gt;|*| I6 å…³æ³¨çŠ¶æ€1Â· 12345PRODUCTION -&gt; Â· SUMPRODUCTION -&gt; Â· MULSUM -&gt; Â· PRODUCTION + MULMUL -&gt; Â· MUL * numberMUL -&gt; Â· number å¯¹äºå…¶ä¸­çš„PRODUCTION -&gt; Â· SUMï¼Œæˆ‘ä»¬å‘ç°ï¼Œå…¶åç´§è·Ÿç€çš„å› è¯¥æ˜¯$ï¼Œ ç”±SUM -&gt; Â· PRODUCTION + MULå¾—å‡ºï¼ŒPRODUCTION -&gt; Â· SUMåå¯ä¸º+ æ³¨æ„äº§ç”Ÿå¼MUL -&gt; Â· numberï¼Œä»–çš„åé¢æ˜¯* 12345PRODUCTION -&gt; Â· SUM, $/+PRODUCTION -&gt; Â· MUL, $/+SUM -&gt; Â· PRODUCTION + MUL, $/+MUL -&gt; Â· MUL * number, $/+MUL -&gt; Â· number, * ç„¶åæ˜¯çŠ¶æ€2 1MUL -&gt; number Â· , * çŠ¶æ€3 1PRODUCTION -&gt; SUM Â· , $/+ çŠ¶æ€4 12PRODUCTION -&gt; MUL Â· , $/+MUL -&gt; MUL Â· * number, $/+ çŠ¶æ€5 1SUM -&gt; PRODUCTION Â· + MUL, $/+ çŠ¶æ€8 123SUM -&gt; PRODUCTION + Â· MUL, $/+MUL -&gt; Â· MUL * number, $/+MUL -&gt; Â· number, * çŠ¶æ€9 12SUM -&gt; PRODUCTION + MUL Â· , $/+MUL -&gt; MUL Â· * number, $/+ çŠ¶æ€10 1MUL -&gt; number Â· , * çŠ¶æ€6 1MUL -&gt; MUL * Â· number, $/+ çŠ¶æ€7 1MUL -&gt; MUL * number Â·, $/+ 12345678910111213141516171819202122graph TD I1(&quot;çŠ¶æ€1&lt;br/&gt;PRODUCTION -&gt; Â· SUM, $/+&lt;br/&gt;PRODUCTION -&gt; Â· MUL, $/+&lt;br/&gt;SUM -&gt; Â· PRODUCTION + MUL, $/+&lt;br/&gt;MUL -&gt; Â· MUL * number, $/+&lt;br/&gt;MUL -&gt; Â· number, *&quot;) I2(&quot;çŠ¶æ€2&lt;br/&gt;MUL -&gt; number Â· , *&quot;) I3(&quot;çŠ¶æ€3&lt;br/&gt;PRODUCTION -&gt; SUM Â· , $/+&quot;) I4(&quot;çŠ¶æ€4&lt;br/&gt;PRODUCTION -&gt; MUL Â· , $/+&lt;br/&gt;MUL -&gt; MUL Â· * number, $/+&quot;) I5(&quot;çŠ¶æ€5&lt;br/&gt;SUM -&gt; PRODUCTION Â· + MUL, $/+&quot;) I6(&quot;çŠ¶æ€6&lt;br/&gt;MUL -&gt; MUL * Â· number, $/+&quot;) I7(&quot;çŠ¶æ€7&lt;br/&gt;MUL -&gt; MUL * number Â·, $/+&quot;) I8(&quot;çŠ¶æ€8&lt;br/&gt;SUM -&gt; PRODUCTION + Â· MUL, $/+&lt;br/&gt;MUL -&gt; Â· MUL * number, $/+&lt;br/&gt;MUL -&gt; Â· number, *&quot;) I9(&quot;çŠ¶æ€9&lt;br/&gt;SUM -&gt; PRODUCTION + MUL Â·, $/+&lt;br/&gt;MUL -&gt; MUL Â· * number, $/+&quot;) I10(&quot;çŠ¶æ€10&lt;br/&gt;MUL -&gt; number Â·, *&quot;) I1 --&gt;|number| I2 I1 --&gt;|SUM| I3 I1 --&gt;|MUL| I4 I1 --&gt;|PODUCTION| I5 I4 --&gt;|*| I6 I6 --&gt;|number| I7 I5 --&gt;|+| I8 I8 --&gt;|MUL| I9 I8 --&gt;|number| I10 I9 --&gt;|*| I6 5.10.9 LR1è¡¨ç”Ÿæˆç®—æ³•ä¼ªä»£ç å½“è¯»è€…ç†è§£äº†SLRè¡¨ç”Ÿæˆçš„ä¼ªä»£ç åï¼ŒLR1è¿åˆƒè€Œè§£ï¼Œåªæœ‰2.2ä¸ä¸€æ ·ï¼Œ å¯ä»¥å‘ç°LR1ç”šè‡³éƒ½ä¸éœ€è¦ä½¿ç”¨FOLLOWé›†ã€‚ æ„é€ æ–‡æ³•çš„è§„èŒƒLR(0) é¡¹é›†ç°‡ C &#x3D; ${I_0, I_1, â€¦ I_n}$. å¯¹äºçŠ¶æ€iï¼Œ â‘  å¦‚æœ[A-&gt;Î±Â·aÎ²]åœ¨çŠ¶æ€ä¸­ï¼Œaä¸ºç»ˆç»“ç¬¦ä¸”GOTO(i,a)&#x3D;jï¼Œ åˆ™ACTION[i,a]ä¸º: â€œç§»å…¥jâ€ â‘¡ å¦‚æœ[A-&gt;Î±Â·]åœ¨çŠ¶æ€ä¸­ä¸”Aä¸ä¸ºå¼€å§‹ç¬¦å·ï¼Œåˆ™å¯¹äºæ­¤æ—¶çš„å¢å¹¿æ–‡æ³•ä¸­çš„endé›†çš„å­—ç¬¦aï¼Œå°†ACTION[i,a]è®¾ä¸º: â€œè§„çº¦A-&gt;Î±â€ â‘¢ å¦‚æœ[A-&gt;Î±Â·]åœ¨çŠ¶æ€ä¸­ä¸”Aä¸ºå¼€å§‹ç¬¦å·ï¼Œåˆ™å°†ACTION[i,$]è®¾ä¸º: â€œæ¥å—â€ å¯¹äºçŠ¶æ€iï¼Œå¦‚æœAä¸ºéç»ˆç»“ç¬¦ä¸” GOTO(i,A)&#x3D;j åˆ™GOTO[i,A]&#x3D;j å‰©ä¸‹çš„åœ°æ–¹å°±æ˜¯æŠ¥é”™ 5. èµ·ç‚¹æ˜¯[Sâ€™-&gt;Â·S] 5.10.10 LR1ç®—æ³•ä¸SLRç®—æ³•æ¯”è¾ƒå¯ä»¥çœ‹åˆ°LR1ç®—æ³•æ¯”SLRç®—æ³•æ›´åŠ ä¸¥æ ¼ï¼ŒLR1çš„endé›†å¾€å¾€ä¼šæ¯”FOLLOWé›†ä¸­çš„å­—ç¬¦å°‘ã€‚ 5.10.11 äºŒä¹‰æ€§æ–‡æ³•å›åˆ°æœ€åˆçš„èµ·ç‚¹ï¼ŒLRç®—æ³•ä½¿ç”¨ç§»å…¥å’Œè§„çº¦æ¥å®Œæˆè¯­æ³•æ ‘çš„æ„å»ºï¼Œå¦‚æœæ–‡æ³•äºŒä¹‰ï¼Œåˆ™å¯¹äºæ‰€ç”Ÿæˆçš„LRåˆ†æè¡¨ï¼Œä¼šæœ‰å†²çªçš„ç°è±¡ï¼Œå³åŒæ—¶è¦æ±‚ç§»å…¥å’Œè§„çº¦ï¼Œæˆ–è€…è¦æ±‚ä½¿ç”¨å¤šç§äº§ç”Ÿå¼è¿›è¡Œè§„çº¦ï¼Œè¿™æ—¶å€™ä¸€ç§è§£å†³åŠæ³•æ˜¯æ¶ˆé™¤äºŒä¹‰æ€§ï¼Œä½†æ˜¯æ¶ˆé™¤äºŒä¹‰æ€§çš„ä»£ä»·å¤ªé«˜ï¼Œå¾€å¾€å¯¼è‡´æ–‡æ³•éš¾ä»¥ç†è§£ã€‚ äºæ˜¯å¯ä»¥é‡‡å–å¦ä¸€ç§æ–¹æ¡ˆï¼Œä¾‹å¦‚æŒ‡å®šä¼˜å…ˆçº§ã€‚ äºŒä¹‰ä¾‹å­1,ç§»å…¥è§„çº¦å†²çª 12345ifelse: ç»ˆç»“ç¬¦: if, else, condition, block éç»ˆç»“ç¬¦: target äº§ç”Ÿå¼: target -&gt; block | if condition target | if condition target else target å¼€å§‹ï¼š target åœ¨é¢å¯¹è¿™ä¸ªæ–‡æ³•æ—¶ï¼Œåœ¨ç¢°åˆ°ç»ˆç»“ç¬¦elseæ—¶ï¼Œ target -&gt; if condition targetè¦æ±‚è§„çº¦ï¼Œtarget -&gt; if condition target else targetè€Œè¦æ±‚ç§»å…¥ï¼Œå®é™…ä¸Šï¼Œæ­£ç¡®çš„åšæ³•ä¸ºè¦æ±‚ç§»å…¥ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦ç»™å‰ä¸€ä¸ªäº§ç”Ÿå¼æ›´é«˜çš„ä¼˜å…ˆçº§å³å¯è§£å†³é—®é¢˜ã€‚ äºŒä¹‰ä¾‹å­2,ç§»å…¥è§„çº¦å†²çª 12345åŠ æ³•ï¼š ç»ˆç»“ç¬¦: number, + éç»ˆç»“ç¬¦: SUM äº§ç”Ÿå¼: SUM -&gt; number | SUM + SUM å¼€å§‹ï¼š SUM å½“æ ˆä¸­å·²æœ‰1+2åï¼Œå¦‚æœåˆç¢°åˆ°äº†åŠ å·ï¼Œè¿™æ—¶å€™æ—¶ç§»å…¥è¿˜æ˜¯è§„çº¦å‘¢ï¼Ÿ å¯¹äºå·¦ç»“åˆæ€§æ–‡æ³•ï¼Œåº”è¯¥é€‰æ‹©è§„çº¦ï¼Œå¯¹äºå³ç»“åˆæ€§æ–‡æ³•ï¼Œåº”è¯¥é€‰æ‹©ç§»å…¥ã€‚ äºŒä¹‰ä¾‹å­3ï¼Œ ç§»å…¥è§„çº¦å†²çª 12345åŠ æ³•ä¹˜æ³•ï¼š ç»ˆç»“ç¬¦: number, + éç»ˆç»“ç¬¦: E äº§ç”Ÿå¼: E -&gt; number | E + E | E * E å¼€å§‹ï¼š E å½“æ ˆä¸­å·²æœ‰1+2åï¼Œå¦‚æœåˆç¢°åˆ°äº†ä¹˜å·ï¼Œ è¿™æ˜¯è¦ç§»å…¥è¿˜æ˜¯è§„çº¦å‘¢ï¼ŒE-&gt;E +E è¦æ±‚è§„çº¦,E-&gt;E * E è¦æ±‚ç§»å…¥,è¿™æ—¶åº”è¯¥é€‰æ‹©ç§»å…¥, å³ç»™åè€…æ›´é«˜çš„ä¼˜å…ˆçº§ã€‚ 5.10.12 æ€»ç»“è‡³æ­¤ï¼Œå¤§éƒ¨åˆ†äºŒä¹‰æ€§é—®é¢˜å·²è¢«è§£å†³ï¼Œç¼–è¯‘å™¨çš„å‰ç«¯æµç¨‹ä¹Ÿä»¥è¯­æ³•æ ‘çš„æˆåŠŸç”Ÿæˆè€Œå‘Šä¸€æ®µè½äº†ã€‚","categories":[{"name":"ç¼–è¯‘å™¨","slug":"ç¼–è¯‘å™¨","permalink":"http://fightinggg.github.io/indigo/categories/%E7%BC%96%E8%AF%91%E5%99%A8/"}],"tags":[{"name":"è¯»ä¹¦","slug":"è¯»ä¹¦","permalink":"http://fightinggg.github.io/indigo/tags/%E8%AF%BB%E4%B9%A6/"},{"name":"è·Ÿæˆ‘ä¸€èµ·å†™ç¼–è¯‘å™¨","slug":"è·Ÿæˆ‘ä¸€èµ·å†™ç¼–è¯‘å™¨","permalink":"http://fightinggg.github.io/indigo/tags/%E8%B7%9F%E6%88%91%E4%B8%80%E8%B5%B7%E5%86%99%E7%BC%96%E8%AF%91%E5%99%A8/"}]},{"title":"è·Ÿæˆ‘ä¸€èµ·è‡ªå·±å†™ç¼–è¯‘å™¨-5.è¯­æ³•åˆ†æ","slug":"ç¼–è¯‘å™¨/è·Ÿæˆ‘ä¸€èµ·è‡ªå·±å†™ç¼–è¯‘å™¨-5.è¯­æ³•åˆ†æ/index","date":"2021-06-24T14:25:03.000Z","updated":"2021-08-29T09:41:03.000Z","comments":true,"path":"QV7MPR.html","link":"","permalink":"http://fightinggg.github.io/indigo/QV7MPR.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 5. è¯­æ³•åˆ†æ5.1. æ–‡æ³•æ–‡æ³•çš„ç§ç±»æœ‰å¾ˆå¤šï¼Œæ­£åˆ™æ–‡æ³•ï¼Œä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•ï¼Œä¸Šä¸‹æ–‡æœ‰å…³æ–‡æ³•ã€‚ 5.1.1. æ­£åˆ™æ–‡æ³•è¿™ä¸€å—å†…å®¹å°±æ˜¯æˆ‘ä»¬å¹³æ—¶æ‰€ç”¨åˆ°çš„æ­£åˆ™è¡¨è¾¾å¼çš„æ–‡æ³•ï¼Œä»–çš„è¯æ˜¯å„ä¸ªå­—ç¬¦ã€‚ 5.1.2. ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•æ¶‰åŠåˆ°4ä¸ªå®šä¹‰ ç»ˆç»“ç¬¦ï¼š æ–‡æ³•çš„åŸºæœ¬å•å…ƒï¼Œè¯ éç»ˆç»“ç¬¦ï¼š æ–‡æ³•çš„ä¸­é—´å˜é‡ï¼Œä¸€äº›è¯æŒ‰é¡ºåºæ’åˆ—æ„æˆçš„ç¬¦å· äº§ç”Ÿå¼ï¼š è¿æ¥éç»ˆç»“ç¬¦å’Œç»ˆç»“ç¬¦çš„ç­‰å¼ï¼Œäº§ç”Ÿå¼è¡¨æ˜äº†ä¸€äº›ç»ˆç»“ç¬¦å’Œéç»ˆç»“ç¬¦å¦‚ä½•æ’åˆ—å¯ä»¥å¾—åˆ°æ–°çš„éç»ˆç»“ç¬¦ å¼€å§‹ï¼š æ–‡æ³•å¼€å§‹çš„éç»ˆç»“ç¬¦ï¼Œä»–è¡¨æ˜äº†ä»€ä¹ˆæ ·çš„éç»ˆç»“ç¬¦æ»¡è¶³å½“å‰æ–‡æ³• ä¾‹å­ 12345åŠ æ³•ï¼š ç»ˆç»“ç¬¦: number, + éç»ˆç»“ç¬¦: SUM äº§ç”Ÿå¼ï¼š SUM -&gt; number + number | SUM + number å¼€å§‹ï¼š SUM ä¸Šè¯‰æ–‡æ³•å¯ä»¥æ¥å— 1+2ï¼Œ æˆ‘ä»¬åªéœ€è¦æŠŠ1å’Œ2è§†ä¸ºnumberï¼Œå³å¯ï¼Œæ­¤æ—¶çš„è¯æ³•å•å…ƒå°±æ˜¯1ï¼Œ2ï¼Œ+ ç”±äºé«˜çº§ç¨‹åºè®¾è®¡è¯­è¨€åŸºæœ¬å¯ä»¥è¢«è§†ä¸ºä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•ï¼Œæ–‡æ³•çš„è¯­æ³•åˆ†ææœ‰å¾ˆå¤šç®—æ³•ï¼Œåé¢ä¼šä¾æ¬¡å¯¹ä»–ä»¬è¿›è¡Œä»‹ç»ã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 5. è¯­æ³•åˆ†æ5.1. æ–‡æ³•æ–‡æ³•çš„ç§ç±»æœ‰å¾ˆå¤šï¼Œæ­£åˆ™æ–‡æ³•ï¼Œä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•ï¼Œä¸Šä¸‹æ–‡æœ‰å…³æ–‡æ³•ã€‚ 5.1.1. æ­£åˆ™æ–‡æ³•è¿™ä¸€å—å†…å®¹å°±æ˜¯æˆ‘ä»¬å¹³æ—¶æ‰€ç”¨åˆ°çš„æ­£åˆ™è¡¨è¾¾å¼çš„æ–‡æ³•ï¼Œä»–çš„è¯æ˜¯å„ä¸ªå­—ç¬¦ã€‚ 5.1.2. ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•æ¶‰åŠåˆ°4ä¸ªå®šä¹‰ ç»ˆç»“ç¬¦ï¼š æ–‡æ³•çš„åŸºæœ¬å•å…ƒï¼Œè¯ éç»ˆç»“ç¬¦ï¼š æ–‡æ³•çš„ä¸­é—´å˜é‡ï¼Œä¸€äº›è¯æŒ‰é¡ºåºæ’åˆ—æ„æˆçš„ç¬¦å· äº§ç”Ÿå¼ï¼š è¿æ¥éç»ˆç»“ç¬¦å’Œç»ˆç»“ç¬¦çš„ç­‰å¼ï¼Œäº§ç”Ÿå¼è¡¨æ˜äº†ä¸€äº›ç»ˆç»“ç¬¦å’Œéç»ˆç»“ç¬¦å¦‚ä½•æ’åˆ—å¯ä»¥å¾—åˆ°æ–°çš„éç»ˆç»“ç¬¦ å¼€å§‹ï¼š æ–‡æ³•å¼€å§‹çš„éç»ˆç»“ç¬¦ï¼Œä»–è¡¨æ˜äº†ä»€ä¹ˆæ ·çš„éç»ˆç»“ç¬¦æ»¡è¶³å½“å‰æ–‡æ³• ä¾‹å­ 12345åŠ æ³•ï¼š ç»ˆç»“ç¬¦: number, + éç»ˆç»“ç¬¦: SUM äº§ç”Ÿå¼ï¼š SUM -&gt; number + number | SUM + number å¼€å§‹ï¼š SUM ä¸Šè¯‰æ–‡æ³•å¯ä»¥æ¥å— 1+2ï¼Œ æˆ‘ä»¬åªéœ€è¦æŠŠ1å’Œ2è§†ä¸ºnumberï¼Œå³å¯ï¼Œæ­¤æ—¶çš„è¯æ³•å•å…ƒå°±æ˜¯1ï¼Œ2ï¼Œ+ ç”±äºé«˜çº§ç¨‹åºè®¾è®¡è¯­è¨€åŸºæœ¬å¯ä»¥è¢«è§†ä¸ºä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•ï¼Œæ–‡æ³•çš„è¯­æ³•åˆ†ææœ‰å¾ˆå¤šç®—æ³•ï¼Œåé¢ä¼šä¾æ¬¡å¯¹ä»–ä»¬è¿›è¡Œä»‹ç»ã€‚ 5.1.3. ä¸Šä¸‹æ–‡æœ‰å…³æ–‡æ³•åœ¨ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•ä¸­ï¼Œäº§ç”Ÿå¼å·¦éƒ¨éƒ½æ˜¯å•ä¸ªéç»ˆç»“ç¬¦ï¼Œå¦‚æœæ”¾å¼€è¿™ä¸ªé™åˆ¶ï¼Œé‚£ä¹ˆå°±æˆäº†ä¸Šä¸‹æ–‡æœ‰å…³æ–‡æ³•ã€‚è¿™é‡Œä¸æ˜¯é‡ç‚¹ï¼Œç›´æ¥è·³è¿‡ï¼Œæœ‰å…´è¶£çš„è¯»è€…å¯ä»¥è‡ªè¡Œå­¦ä¹ ã€‚ 5.2. æœ€å·¦é€’å½’ä¸‹é™é€’å½’ä¸‹é™ç®—æ³•å¯ä»¥è§£æä¸€éƒ¨åˆ†ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•ï¼Œé€’å½’ä¸‹é™å…¶å®å°±æ˜¯æšä¸¾ï¼Œä»–æ˜¯ä¸€ç§è‡ªé¡¶å‘ä¸‹çš„ç®—æ³•ï¼Œä»æ–‡æ³•çš„å¼€å§‹å¼€å§‹ï¼Œ é€æ¸æ›¿æ¢æœ€å·¦ä¾§çš„éç»ˆç»“ç¬¦ä¸ºæ–°çš„ç¬¦å·åˆ—è¡¨ï¼Œç›´åˆ°åŒ¹é…æˆåŠŸ,å…¶ä»£ç ä¸º: 1234567891011åŒ¹é…(å‚æ•°1ï¼š deque, å‚æ•°2ï¼š å½“å‰åŒ¹é…çš„ä¸‹æ ‡i) å¦‚æœåŒç«¯é˜Ÿåˆ—deque[e1,e2,e3...]çš„æœ€å·¦ä¾§e1æ˜¯ç»ˆç»“ç¬¦ ä»åŒç«¯é˜Ÿåˆ—deque[terminalSymbol,e2,e3,e4...]å–å‡ºå¹¶åˆ é™¤æœ€å·¦ä¾§çš„ç»ˆç»“ç¬¦terminalSymbol å¦‚æœ terminalSymbolå’Œå½“å‰ç¬¬iä¸ªtokenä¸ç›¸ç­‰ï¼Œ è¿”å›å¤±è´¥ å¦åˆ™ è¿”å› ç»§ç»­åŒ¹é…(deque,i+1) å¦‚æœåŒç«¯é˜Ÿåˆ—deque[e1,e2,e3...]çš„æœ€å·¦ä¾§e1æ˜¯éç»ˆç»“ç¬¦ ä»åŒç«¯é˜Ÿåˆ—deque[noTerminalSymbol,e2,e3,e4...]å–å‡ºå¹¶åˆ é™¤æœ€å·¦ä¾§çš„éç»ˆç»“ç¬¦noTerminalSymbol æšä¸¾ä»¥éç»ˆç»“ç¬¦noTerminalSymbolä¸ºå·¦éƒ¨çš„äº§ç”Ÿå¼production å°†productionå³éƒ¨çš„æ‰€æœ‰ç¬¦å·[s1,s2,s3...]é¡ºåºä¸å˜æ”¾åœ¨deque[e1,e2,e3...]å·¦ä¾§å¾—åˆ°[s1,s2,s3...e1,e2,e3...] å¦‚æœ ç»§ç»­åŒ¹é…(deque,i) æˆåŠŸ è¿”å›æˆåŠŸ è¿”å›å¤±è´¥ è¿™æ ·çš„ä¸€ä¸ªç®—æ³•ï¼Œ ç¬¬ä¸€ï¼Œä»–çš„æ—¶é—´å¤æ‚åº¦æ˜¯æŒ‡æ•°çš„ï¼Œéå¸¸æ…¢ ç¬¬äºŒï¼Œå¦‚æœæ–‡æ³•å­˜åœ¨å·¦é€’å½’ï¼Œåˆ™ç®—æ³•æ­»å¾ªç¯ ç¬¬ä¸‰ï¼Œå¦‚æœæ–‡æ³•äºŒä¹‰ï¼Œåˆ™ç®—æ³•è¾“å‡ºçš„è¯­æ³•æ ‘ä¸ç¡®å®š 5.3. å·¦é€’å½’æ–‡æ³•å¦‚æœä¸€ä¸ªæ–‡æ³•ä¸­å­˜åœ¨äº§ç”Ÿå¼A -&gt; A * * *åˆ™è¿™ä¸ªæ–‡æ³•ä¸ºç›´æ¥å·¦é€’å½’æ–‡æ³•ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ä¸ªæ–‡æ³•ä¸ºå·¦é€’å½’æ–‡æ³•, å› ä¸ºSUM -&gt; SUM + number 12345åŠ æ³•ï¼š ç»ˆç»“ç¬¦: number, + éç»ˆç»“ç¬¦: SUM äº§ç”Ÿå¼: SUM -&gt; number + number | SUM + number å¼€å§‹ï¼š SUM å¦‚æœä¸€ä¸ªæ–‡æ³•åœ¨ç»è¿‡æœ‰é™æ¬¡äº§ç”Ÿå¼æ›¿æ¢ä»¥åï¼Œå‡ºç°äº†A -&gt; A * * *åˆ™è¿™ä¸ªæ–‡æ³•ä¸ºé—´æ¥å·¦é€’å½’æ–‡æ³•ã€‚å¦‚ä¸‹é¢çš„æ–‡æ³•, å› ä¸ºSUM -&gt; S + S -&gt; SUM + S 123456åŠ æ³•ï¼š ç»ˆç»“ç¬¦: number, + éç»ˆç»“ç¬¦: SUM, S äº§ç”Ÿå¼: SUM -&gt; S + S S -&gt; SUM | number å¼€å§‹ï¼š SUM å½“æ–‡æ³•ä¸­å­˜åœ¨å·¦é€’å½’æ—¶ï¼Œå°†æœ€å·¦ä¾§çš„éç»ˆç»“ç¬¦æ›¿æ¢ä¸ºç¬¦å·æ•°ç»„å°†å¯¼è‡´æ— ç©·æ— å°½çš„å¾ªç¯ã€ 5.4. äºŒä¹‰æ€§æ–‡æ³•å¦‚æœä¸€ä¸ªtokenæµï¼Œå¯¹åº”äºä¸€ä¸ªæ–‡æ³•å­˜åœ¨ä¸æ­¢ä¸€æ£µè¯­æ³•æ ‘ï¼Œåˆ™è¯¥æ–‡æ³•ä¸ºäºŒä¹‰æ€§æ–‡æ³•ï¼Œä¸‹é¢çš„æ–‡æ³•ä¸ºäºŒä¹‰æ€§æ–‡æ³• 12345ifelse: ç»ˆç»“ç¬¦: if, else, condition, block éç»ˆç»“ç¬¦: target äº§ç”Ÿå¼: target -&gt; block | if condition target | if condition target else target å¼€å§‹ï¼š target è€ƒè™‘if condition if condition block else blockä»–æœ‰ä¸¤é¢—è¯­æ³•æ ‘ 123456graph TD t1[&quot;target&quot;] --&gt; ict[&quot;target -&gt; if condition target&quot;] ict --&gt; i1[&quot;if&quot;] &amp; c1[&quot;condition&quot;] &amp; t2[&quot;target -&gt; if condition target else target&quot;] t2 --&gt; i2[&quot;if&quot;] &amp; c2[&quot;condition&quot;] &amp; t3[&quot;target -&gt; block&quot;] &amp; else &amp; t4[&quot;target -&gt; block&quot;] t3 --&gt; b1[&quot;block&quot;] t4 --&gt; b2[&quot;block&quot;] 123456graph TD t1[&quot;target&quot;] --&gt; ict[&quot;target -&gt; if condition target else target&quot;] ict --&gt; i1[&quot;if&quot;] &amp; c1[&quot;condition&quot;] &amp; t2[&quot;target -&gt; if condition target&quot;] &amp; else &amp; t4[&quot;target -&gt; block&quot;] t2 --&gt; i2[&quot;if&quot;] &amp; c2[&quot;condition&quot;] &amp; t3[&quot;target -&gt; block&quot;] t3 --&gt; b1[&quot;block&quot;] t4 --&gt; b2[&quot;block&quot;] 5.5. ä¹”å§†æ–¯åŸºèŒƒå¼ åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œä¸€ä¸ªå½¢å¼æ–‡æ³•æ˜¯ Chomsky èŒƒå¼çš„ï¼Œå½“ä¸”ä»…å½“æ‰€æœ‰äº§ç”Ÿè§„åˆ™éƒ½æœ‰å¦‚ä¸‹å½¢å¼ï¼š A â†’ BC æˆ– A â†’ Î± æˆ– S â†’ Îµ è¿™é‡Œçš„ A, B å’Œ C æ˜¯éç»ˆç»“ç¬¦ï¼ŒÎ± æ˜¯ç»ˆç»“ç¬¦ï¼ˆè¡¨ç¤ºå¸¸é‡å€¼çš„ç¬¦å·ï¼‰ï¼ŒS æ˜¯å¼€å§‹ç¬¦å·ï¼Œè€Œ Îµ æ˜¯ç©ºä¸²ã€‚è¿˜æœ‰ï¼ŒB å’Œ C éƒ½ä¸å¯ä»¥æ˜¯å¼€å§‹ç¬¦å·ã€‚ æ‰€æœ‰çš„ Chomsky èŒƒå¼çš„æ–‡æ³•éƒ½æ˜¯ä¸Šä¸‹æ–‡æ— å…³ï¼Œåè¿‡æ¥ï¼Œæ‰€æœ‰ä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•éƒ½å¯ä»¥æœ‰æ•ˆçš„å˜æ¢æˆç­‰ä»·çš„ Chomsky èŒƒå¼çš„æ–‡æ³•ã€‚ å¼•ç”¨ï¼š ä¹”å§†æ–¯åŸºèŒƒå¼ å°†ä¸€ä¸ªä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•è½¬åŒ–ä¸ºä¹”å§†æ–¯åŸºèŒƒå¼ä¹Ÿéå¸¸ç®€å•ï¼Œè¿™ä¸åšèµ˜è¿°ã€‚ 5.6. CYKç®—æ³• CYKç®—æ³•ï¼ˆè‹±è¯­ï¼šCockeâ€“Youngerâ€“Kasami algorithmï¼Œç¼©å†™ä¸ºCYK algorithmï¼‰æ˜¯ç”±çº¦ç¿°Â·ç§‘å…‹ï¼ŒYoungerå’Œåµ©å¿ é›„å…±åŒç ”ç©¶å‡ºæ¥å¤§çº¦å‘è¡¨äº1965å¹´çš„ä¸€ä¸ªç®—æ³•ï¼Œå®ƒæ˜¯ä¸€ä¸ªç”¨æ¥åˆ¤å®šä»»æ„ç»™å®šçš„å­—ç¬¦ä¸² æ˜¯å¦å±äºä¸€ä¸ªä¸Šä¸‹æ–‡æ— å…³æ–‡æ³•çš„ç®—æ³•ã€‚ å¼•ç”¨ï¼š CYKç®—æ³• è¿™æ˜¯ä¸€ç§dpç®—æ³•ï¼ŒåŸºäºä¹”å§†æ–¯åŸºèŒƒå¼ï¼Œdp[i,j]ä»£è¡¨å­ä¸²(i:j)èƒ½è¢«è¯†åˆ«ä¸ºå“ªäº›éç»ˆç»“ç¬¦ï¼Œè¿™æ˜¯åªéœ€è¦åœ¨iå’Œjä¸­é—´æšä¸¾k, ç”±dp[i,k] å’Œdp[k+1,j]è½¬ç§»å³å¯ã€‚ 5.7. FIRSTé›†æ¯ä¸ªéç»ˆç»“ç¬¦éƒ½èƒ½å¤Ÿè¯†åˆ«ä¸€äº›æ–‡æœ¬ï¼Œè¿™äº›æ–‡æœ¬çš„ç¬¬ä¸€ä¸ªå­—ç¬¦å°±æ˜¯è¿™ä¸ªéç»ˆç»“ç¬¦çš„FIRSTé›†çš„ä¸€å‘˜ã€‚ æ¢å¥è¯è¯´ï¼Œéç»ˆç»“ç¬¦çš„FIRSTé›†å°±æ˜¯è¯¥éç»ˆç»“ç¬¦ç»è¿‡äº§ç”Ÿå¼è½¬æ¢ä»¥åå½¢æˆçš„åºåˆ—çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆè¯¥å…ƒç´ å¿…é¡»ä¸ºç»ˆç»“ç¬¦ï¼‰ 5.7.1. ä¾‹å­1å…ˆç»™å‡ºæ–‡æ³• 12345åŠ æ³•ï¼š ç»ˆç»“ç¬¦: number, + éç»ˆç»“ç¬¦: SUM äº§ç”Ÿå¼: SUM -&gt; number + number | SUM + number å¼€å§‹ï¼š SUM è¯¥æ–‡æ³•æœ‰éç»ˆç»“ç¬¦SUMï¼Œæ ¹æ®äº§ç”Ÿå¼SUM-&gt;number+numberï¼Œå¾—å‡ºnumberåœ¨SUMçš„FIRSTé›†ä¸­ï¼Œæ ¹æ®äº§ç”Ÿå¼SUM-&gt;SUM+numberæˆ‘ä»¬æ— æ³•å¾—å‡ºä»»ä½•ä¿¡æ¯ã€‚ ç»¼ä¸Šï¼ŒSUMçš„FIRSTé›†ä¸º&#123;number&#125; 5.7.2. ä¾‹å­21234567åŠ æ³•å’Œä¹˜æ³•ï¼š ç»ˆç»“ç¬¦: number, +, * éç»ˆç»“ç¬¦: SUM, MUL, PRODUCTION äº§ç”Ÿå¼: SUM -&gt; PRODUCTION + PRODUCTION MUL -&gt; PRODUCTION * PRODUCTION PRODUCTION -&gt; number | SUM | MUL å¼€å§‹ï¼š PRODUCTION æ ¹æ®äº§ç”Ÿå¼SUM -&gt; PRODUCTION + PRODUCTIONæ¨æ–­å‡ºPRODUCTIONçš„FIRSTé›†éƒ½åœ¨SUMçš„FIRSTé›†ä¸­ æ ¹æ®äº§ç”Ÿå¼MUL -&gt; PRODUCTION * PRODUCTIONæ¨æ–­å‡ºPRODUCTIONçš„FIRSTé›†éƒ½åœ¨MULçš„FIRSTé›†ä¸­ æ ¹æ®äº§ç”Ÿå¼PRODUCTION -&gt; number | SUM | MULæ¨æ–­å‡ºnumberåœ¨PRODUCTIONçš„FIRSTé›†ä¸­ï¼ŒSUMçš„FIRSTé›†å’ŒMULçš„FIRSTé›†åœ¨PRODUCTIONçš„FIRSTé›†ä¸­ã€‚ æ ¹æ®ä¸Šé¢ä¸‰ä¸ªç»“è®ºï¼Œæˆ‘ä»¬å¯ä»¥æ„é€ ä¸€ä¸ªå›¾ã€‚ 1234graph LR PRODUCTION --&gt;|åŒ…å«| number &amp; SUM &amp; MUL SUM --&gt;|åŒ…å«| PRODUCTION MUL --&gt;|åŒ…å«| PRODUCTION èªæ˜çš„è¯»è€…å¯ä»¥ç›´æ¥çœ‹å‡ºï¼Œå…¶å®ä»–ä»¬ä¸‰ä¸ªéç»ˆç»“ç¬¦çš„FIRSTé›†éƒ½æ˜¯&#123;number&#125;. 5.7.3. FIRSTé›†è®¡ç®—ç®—æ³•ï¼ˆç®€å•ç‰ˆï¼‰å¦‚ä½•è®¡ç®—FIRSTé›†ï¼Ÿæˆ‘ä»¬ç›´æ¥è€ƒè™‘äº§ç”Ÿå¼ A--&gt;B...ï¼Œ æ˜¾ç„¶Aä¸€å®šæ˜¯éç»ˆç»“ç¬¦ï¼Œ å¦‚æœBä¹Ÿæ˜¯éç»ˆç»“ç¬¦ï¼Œåˆ™Bçš„firsté›†éƒ½åœ¨Açš„firsté›†ä¸­ï¼Œ å¦‚æœBæ˜¯ç»ˆç»“ç¬¦ï¼Œåˆ™Båœ¨Açš„firsté›†ä¸­ã€‚ å€Ÿæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æ„é€ å‡ºä¸€ä¸ªæœ‰å‘å›¾ï¼Œè¯¥å›¾ä¸Šæ¯ä¸ªèŠ‚ç‚¹æŒ‰ç…§æœ‰å‘è¾¹èƒ½åˆ°è¾¾çš„ç»ˆç»“ç¬¦ï¼Œå°±æ˜¯è¯¥èŠ‚ç‚¹æ‰€ä»£è¡¨çš„éç»ˆç»“ç¬¦çš„FIRSTé›†çš„ä¸€å‘˜ã€‚å…¶å®è¿™æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæœ‰å‘å›¾é—­åŒ…é—®é¢˜ã€‚ 5.7.4. å¤æ‚ä¸€ç‚¹çš„FIRSTé›†ä¾‹å­Îµä»£è¡¨å¯ä»¥ä¸ºç©ºï¼Œå³ä»€ä¹ˆä¹Ÿæ²¡æœ‰ 1234567å˜é‡å£°æ˜ï¼š ç»ˆç»“ç¬¦: type, symbol, visibility, staticable éç»ˆç»“ç¬¦: staticableOPT, visibilityOPT, TARGET äº§ç”Ÿå¼: TARGET -&gt; visibilityOPT staticableOPT type symbol visibilityOPT -&gt; visibility | Îµ staticableOPT -&gt; staticable | Îµ å¼€å§‹ï¼š TARGET æ ¹æ®TARGET -&gt; visibilityOPT staticableOPT type symbolå¾—å‡ºvisibilityOPTçš„FIRSTé›†åœ¨TARGETçš„FIRSTé›†ä¸­ï¼Œè€ƒè™‘åˆ°visibilityOPTå¯ä»¥ä¸ºç©ºï¼Œæ‰€ä»¥å½“visibilityOPTä¸ºç©ºæ—¶ï¼ŒstaticableOPTçš„FIRSTé›†åœ¨TARGETçš„FIRSTé›†ä¸­ï¼ŒåŒç†ï¼Œtypeä¹Ÿåœ¨TARGETçš„FIRSTé›†ä¸­ã€‚ visibilityOPTçš„firsté›†ä¸º&#123;visibility&#125; staticableOPTçš„firsté›†ä¸º&#123;staticable&#125; æœ€ç»ˆTARGETçš„firsté›†ä¸º&#123;visibility,staticable,type&#125; 5.7.5. FIRSTè®¡ç®—æ–¹æ³•ï¼ˆæœ€ç»ˆç‰ˆï¼‰å¦‚ä½•è®¡ç®—FIRSTé›†ï¼Ÿæˆ‘ä»¬ç›´æ¥è€ƒè™‘äº§ç”Ÿå¼ A--&gt;BCDE...ï¼Œ æ˜¾ç„¶Aä¸€å®šæ˜¯éç»ˆç»“ç¬¦ï¼Œ å¦‚æœBä¹Ÿæ˜¯éç»ˆç»“ç¬¦ï¼Œåˆ™Bçš„firsté›†éƒ½åœ¨Açš„firsté›†ä¸­ï¼Œç„¶åæ ¹æ®Bèƒ½å¦ä¸ºç©ºåˆ¤æ–­C è‹¥Bå¯ä¸ºç©ºï¼Œåˆ™Cçš„firsté›†éƒ½åœ¨Açš„firsté›†ä¸­ï¼Œç„¶åæ ¹æ®Cèƒ½å¦ä¸ºç©ºåˆ¤æ–­Dï¼Œä¾æ¬¡é€’æ¨ å¦‚æœBæ˜¯ç»ˆç»“ç¬¦ï¼Œåˆ™Båœ¨Açš„firsté›†ä¸­ã€‚ å€Ÿæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æ„é€ å‡ºä¸€ä¸ªæœ‰å‘å›¾ï¼Œè¯¥å›¾ä¸Šæ¯ä¸ªèŠ‚ç‚¹æŒ‰ç…§æœ‰å‘è¾¹èƒ½åˆ°è¾¾çš„ç»ˆç»“ç¬¦ï¼Œå°±æ˜¯è¯¥èŠ‚ç‚¹æ‰€ä»£è¡¨çš„éç»ˆç»“ç¬¦çš„FIRSTé›†çš„ä¸€å‘˜ã€‚å…¶å®è¿™æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæœ‰å‘å›¾é—­åŒ…é—®é¢˜ã€‚ 5.7.6. å¯è¾¾é—­åŒ…ä¹‹SPFAç®—æ³•12345å°†æ‰€æœ‰çš„æœ‰å‘è¾¹(from,to)å…¥é˜Ÿqueueï¼Œåªè¦queueéç©º: å–å‡ºå¹¶åˆ é™¤queueé˜Ÿé¦–top ç”¨top.toçš„å¯è¾¾é›†åˆåˆå¹¶åˆ°top.fromçš„å¯è¾¾é›†åˆä¸­ï¼Œå¦‚æœæ­¤è¿‡ç¨‹å¯¹top.fromçš„å¯è¾¾é›†åˆé€ æˆäº†ä¿®æ”¹: å°†æ‰€æœ‰ä»¥top.fromä¸ºæœ‰å‘è¾¹ç»ˆç‚¹çš„è¾¹edgeå…¥é˜Ÿqueue è¯¥ç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸ºO(VE), (Vä¸ºé¡¶ç‚¹æ•°ï¼ŒEä¸ºè¾¹æ•°) 5.7.7. å¯è¾¾é—­åŒ…ä¹‹Tarjanç®—æ³•12é¦–å…ˆä½¿ç”¨Tarjanä¸‰å¤§ç®—æ³•ä¸­çš„æœ‰å‘å›¾å¼ºè¿é€šç¼©å›¾ï¼Œåœ¨åŒä¸€ä¸ªå¼ºè¿é€šåˆ†é‡çš„ç‚¹ï¼Œä»–ä»¬çš„å¯è¾¾é›†åˆç›¸åŒç¼©å›¾ä»¥åå¾—åˆ°çš„æ˜¯DAGæœ‰å‘æ— ç¯å›¾ï¼Œåœ¨æœ‰å‘æ— ç¯å›¾ä¸ŠæŒ‰ç…§æ‹“æ‰‘åºè¿›è¡ŒDPï¼Œè®¡ç®—æ‰€æœ‰ç»“æœ è¯¥ç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸ºO(V+V) (Vä¸ºé¡¶ç‚¹æ•°ï¼ŒEä¸ºè¾¹æ•°) 5.7.8. æ€»ç»“å®é™…ä¸Šï¼Œä¸€èˆ¬çš„æ–‡æ³•éƒ½ä¸ä¼šå¾ˆå¤æ‚ï¼Œå…¶ä¾èµ–å›¾çš„é¡¶ç‚¹æ•°ä¸ä¼šè¶…è¿‡200ï¼Œè¾¹æ•°ä¸ä¼šè¶…è¿‡1000ï¼Œæ‰€ä»¥SPFAç®—æ³•è¶³ä»¥è§£å†³é—®é¢˜ã€‚ 5.8. FOLLOWé›†è®¡ç®—åœ¨äº§ç”Ÿå¼ä¸­ï¼Œç»è¿‡ä¸€å®šæ¬¡æ•°çš„æ›¿æ¢ä»¥åï¼Œå¦‚æœæŸä¸ªç»ˆç»“ç¬¦å‡ºç°åœ¨äº†æŸä¸ªéç»ˆç»“ç¬¦çš„åé¢ï¼Œåˆ™è¿™ä¸ªç»ˆç»“ç¬¦è¢«è®¡å…¥è¿™ä¸ªéç»ˆç»“ç¬¦çš„FOLLOWé›†ã€‚ 5.8.1. ä¾‹å­12345åŠ æ³•ï¼š ç»ˆç»“ç¬¦: number, + éç»ˆç»“ç¬¦: SUM äº§ç”Ÿå¼: SUM -&gt; number + number | SUM + number å¼€å§‹ï¼š SUM æˆ‘ä»¬å‘ç°SUMçš„åé¢å¯ä»¥è·Ÿä¸Š+ï¼Œæ‰€ä»¥SUMçš„FOLLOWé›†å°±æ˜¯+ 5.8.2. ä¾‹å­1234567åŠ æ³•å’Œä¹˜æ³•ï¼š ç»ˆç»“ç¬¦: number, +, * éç»ˆç»“ç¬¦: SUM, MUL, PRODUCTION äº§ç”Ÿå¼: SUM -&gt; PRODUCTION + PRODUCTION MUL -&gt; PRODUCTION * PRODUCTION PRODUCTION -&gt; number | SUM | MUL å¼€å§‹ï¼š PRODUCTION SUM -&gt; PRODUCTION + PRODUCTIONå¯ä»¥å¾—åˆ°PRODUCTION çš„FOLLOWé›†ä¸­æœ‰+,åŒç†MUL -&gt; PRODUCTION * PRODUCTIONå¾—å‡ºæœ‰* SUMçš„FOLLOWé›†ä¸­æœ‰*å’Œ+,å› ä¸ºSUM -&gt; PRODUCTION + PRODUCTIONï¼Œå³PRODUCTIONçš„FOLLOWé›†éƒ½åœ¨SUMä¸­ã€‚ åŒç†MULçš„FOLLOWé›†ä¸­æœ‰*å’Œ+ 5.8.3 ç®—æ³•è€ƒè™‘éç»ˆæç¬¦A, å¦‚æœå­˜åœ¨äº§ç”Ÿå¼S-&gt;*AB**,åˆ™Bçš„FIRSTé›†åœ¨Açš„FOLLOWé›†ä¸­ è‹¥Bå¯ä¸ºç©ºï¼Œåˆ™çœ‹Båçš„ä¸‹ä¸€ä¸ªç¬¦å·ï¼Œå…¶FIRSTé›†åœ¨Açš„FOLLOWé›†ä¸­ å¦‚æœå­˜åœ¨äº§ç”Ÿå¼S-&gt;**Aï¼Œåˆ™Sçš„FOLLOWé›†éƒ½åœ¨Açš„FOLLOWé›†ä¸­ã€‚ å¦‚æ­¤æ„æˆäº†ä¾èµ–å›¾ï¼Œåˆæ˜¯å¯è¾¾é—­åŒ…è®¡ç®—ã€‚è®¡ç®—æ­¥éª¤å‚è§FIRSTé›†ç®—æ³•ã€‚ 5.9. LLè¯­æ³•åˆ†æLLè¯­æ³•åˆ†ææŒ‡çš„æ˜¯ä»å·¦å‘å³æœ€å·¦æ¨å¯¼ï¼Œæ˜¯ä¸€ç§è‡ªé¡¶å‘ä¸‹çš„ç®—æ³•ï¼Œå®é™…ä¸Šï¼Œæ‰€æœ‰çš„è‡ªé¡¶å‘ä¸‹ç®—æ³•éƒ½æ— æ³•è§£å†³å·¦é€’å½’æ–‡æ³•ã€‚è¿›è¡ŒLLåˆ†æï¼Œéœ€è¦æå‰è®¡ç®—FIRSTé›†å’ŒFOLLOWé›†ã€‚ LLç®—æ³•è¿›è¡Œè‡ªé¡¶å‘ä¸‹åˆ†æï¼Œè‡ªé¡¶å‘ä¸‹åˆ†æçš„æ ¸å¿ƒæ­¥éª¤æœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯åŒ¹é…ï¼Œå¦ä¸€ä¸ªæ˜¯å±•å¼€ã€‚ å½“ä»å·¦åˆ°å³è‡ªé¡¶å‘ä¸‹åˆ†ææ—¶ï¼Œå¦‚æœå½“å‰çš„ç¬¦å·ä¸ºç»ˆç»“ç¬¦ï¼Œæ­¤æ—¶åªèƒ½èµ°åŒ¹é…ï¼Œè€Œä¸”å½“å‰ç¬¦å·å¿…é¡»å’Œè¾“å…¥çš„ç¬¦å·åŒ¹é…ã€‚ å¦‚æœå½“å‰ç¬¦å·ä¸ºéç»ˆç»“ç¬¦ï¼Œæ­¤æ—¶åªèƒ½ å±•å¼€ï¼Œä½†æ˜¯ç”¨å“ªä¸ªäº§ç”Ÿå¼å±•å¼€ï¼Œå¾€å¾€ä¸å¥½é€‰æ‹©ï¼ŒLLç®—æ³•åˆ™æ ¹æ®FIRSTé›†å’ŒFOLLOWé›†æ¥è¿›è¡Œé€‰æ‹©ã€‚ 5.9.1 ä¾‹å­123456åŠ æ³•ï¼šï¼ˆæ³¨æ„è¿™é‡Œçš„äº§ç”Ÿå¼è¢«æˆ‘æ¢æˆäº†å³ç»“åˆï¼Œä¸”æå–äº†å…¬å› å¼ï¼‰ ç»ˆç»“ç¬¦: number, + éç»ˆç»“ç¬¦: SUM, ADD äº§ç”Ÿå¼: SUM -&gt; number ADD ADD -&gt; + SUM | Îµ å¼€å§‹ï¼š SUM å¾…è¯†åˆ«å­—ç¬¦ä¸²1+2+3+4 ç¬¬ä¸€æ­¥è®¡ç®—FIRSTé›†ï¼ŒSUMçš„FIRSTé›†ä¸ºï¼š number ADDçš„FIRSTé›†ä¸º+ ç¬¬äºŒæ­¥è®¡ç®—FOLLOWé›†ï¼ŒSUMçš„FOLLOWé›†ä¸ºï¼š $,+ ADDçš„FOLLOWé›†ä¸º $ æœ€å¼€å§‹çš„æ—¶å€™ï¼Œæœ‰ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªå¼€å§‹çš„ç¬¦å·SUM ç„¶åæˆ‘ä»¬è¿›è¡Œè¾“å…¥ï¼Œè¾“å…¥å­—ç¬¦1,è¿™æ˜¯ä¸€ä¸ªnumberï¼Œnumberå’ŒSUMæ— æ³•åŒ¹é…ï¼Œæ‰€ä»¥å¿…é¡»æŠŠSUMç”¨äº§ç”Ÿå¼æ›¿æ¢ï¼ŒSUMåªæœ‰ä¸€ä¸ªäº§ç”Ÿå¼ï¼Œäºæ˜¯SUMè¢«æ¢æˆäº†number ADD,æ­¤æ—¶çš„é˜Ÿåˆ—çš„æ“ä½œå°±æ˜¯ä»å·¦è¾¹ å¼¹å‡ºSUMï¼Œå†æ”¾å…¥number ADD æ›¿æ¢ä»¥åï¼Œå­—ç¬¦1å°±å¯ä»¥å’ŒnumberåŒ¹é…äº†ï¼Œäºæ˜¯è¾“å…¥å­—ç¬¦æˆåŠŸï¼Œé˜Ÿåˆ—å¼¹å‡ºnumber ç´§æ¥ç€ï¼Œè¾“å…¥å­—ç¬¦+, è¿™æ—¶å€™é˜Ÿåˆ—ä¸­åªæœ‰ä¸€ä¸ªADD,ADDå’Œ+æ— æ³•åŒ¹é…ï¼Œäºæ˜¯éœ€è¦ç”¨äº§ç”Ÿå¼æ›¿æ¢ï¼Œç”¨å“ªä¸ªæ¢å‘¢ï¼Ÿæ˜¾ç„¶ç”¨+ SUMæ¢ï¼Œå› ä¸ºÎµçš„FIRSTé›†ä¸ºç©ºï¼Œæ‰€ä»¥æ­¤æ—¶æ›¿æ¢ä»¥åï¼Œé˜Ÿåˆ—å˜ä¸º+ SUM æ›¿æ¢ä»¥åï¼Œå­—ç¬¦+å°±å¯ä»¥å’Œé˜Ÿåˆ—çš„é˜Ÿé¦–åŒ¹é…ï¼Œè¾“å…¥æˆåŠŸâ€¦. ç„¶åç®—æ³•ä¸æ–­è¿­ä»£ï¼Œç›´åˆ°å®Œæˆè¾“å…¥ã€‚ 5.9.2 æ€»ç»“å…¶å®LLè¯­æ³•åˆ†æå°±æ˜¯å‰é¢ä»‹ç»çš„æœ€å·¦é€’å½’ä¸‹é™ç®—æ³•çš„ç‰¹æ®Šæƒ…å†µï¼Œå½“æ–‡æ³•æ²¡æœ‰äºŒä¹‰æ€§ï¼Œæ–‡æ³•ä¸èƒ½åœ¨è¿›è¡Œåˆå¹¶å…¬å› å¼ï¼Œæ–‡æ³•æ²¡æœ‰å·¦é€’å½’æ—¶ï¼Œæ–‡æ³•å°±ä¸éœ€è¦é€’å½’åˆ†è§£äº†ã€‚ LLè¯­æ³•åˆ†ææœ‰å¾ˆå¤šå±€é™æ€§ï¼Œä»–èƒ½è§£å†³çš„æ–‡æ³•å°‘çš„å¯æ€œï¼Œè™½ç„¶åé¢æœ‰åŠæ³•é€šè¿‡æ–‡æ³•çš„ç­‰ä»·è½¬åŒ–ï¼ŒæŠŠä¸€ä¸ªå·¦é€’å½’æ–‡æ³•è½¬åŒ–ä¸ºéå·¦é€’å½’ï¼Œæå–å…¬å› å¼ï¼Œæ¶ˆé™¤äºŒä¹‰æ€§ï¼Œä½†æ˜¯è¿™æ ·åšçš„ä»£ä»·éå¸¸å¤§ï¼Œè¿™æ ·çš„å·¥ä½œå¾€å¾€ä¼šå¯¼è‡´æ–‡æ³•å˜å¾—ç‰¹åˆ«å¤æ‚ï¼Œç‰¹åˆ«ä¸å¥½ç†è§£ï¼Œå°±é—®ä¸‹å—è¿™ä¸¤ä¸ªæ–‡æ³•ä½ å–œæ¬¢å“ªä¸€ä¸ªï¼Ÿ 123456åŠ æ³•ï¼šï¼ˆæ³¨æ„è¿™é‡Œçš„äº§ç”Ÿå¼è¢«æˆ‘æ¢æˆäº†å³ç»“åˆï¼Œä¸”æå–äº†å…¬å› å¼ï¼‰ ç»ˆç»“ç¬¦: number, + éç»ˆç»“ç¬¦: SUM, ADD äº§ç”Ÿå¼: SUM -&gt; number ADD ADD -&gt; + SUM | Îµ å¼€å§‹ï¼š SUM 12345åŠ æ³•ï¼š ç»ˆç»“ç¬¦: number, + éç»ˆç»“ç¬¦: SUM äº§ç”Ÿå¼: SUM -&gt; number | SUM + SUM å¼€å§‹ï¼š SUM","categories":[{"name":"ç¼–è¯‘å™¨","slug":"ç¼–è¯‘å™¨","permalink":"http://fightinggg.github.io/indigo/categories/%E7%BC%96%E8%AF%91%E5%99%A8/"}],"tags":[{"name":"è¯»ä¹¦","slug":"è¯»ä¹¦","permalink":"http://fightinggg.github.io/indigo/tags/%E8%AF%BB%E4%B9%A6/"},{"name":"è·Ÿæˆ‘ä¸€èµ·å†™ç¼–è¯‘å™¨","slug":"è·Ÿæˆ‘ä¸€èµ·å†™ç¼–è¯‘å™¨","permalink":"http://fightinggg.github.io/indigo/tags/%E8%B7%9F%E6%88%91%E4%B8%80%E8%B5%B7%E5%86%99%E7%BC%96%E8%AF%91%E5%99%A8/"}]},{"title":"è·Ÿæˆ‘ä¸€èµ·è‡ªå·±å†™ç¼–è¯‘å™¨-4.è¯æ³•åˆ†æ","slug":"ç¼–è¯‘å™¨/è·Ÿæˆ‘ä¸€èµ·è‡ªå·±å†™ç¼–è¯‘å™¨-4.è¯æ³•åˆ†æ/index","date":"2021-06-24T14:25:02.000Z","updated":"2021-08-29T09:41:02.000Z","comments":true,"path":"QV7MPQ.html","link":"","permalink":"http://fightinggg.github.io/indigo/QV7MPQ.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 5. è¯æ³•åˆ†æè¯æ³•åˆ†æï¼Œå¦‚å…¶åï¼Œåªåˆ†æè¯è¯­ï¼Œå³tokenï¼Œè¯æ˜¯ä¸€ä¸ªæ–‡æ³•çš„æœ€å°å•å…ƒã€‚è‡³äºä»€ä¹ˆæ˜¯æ–‡æ³•ï¼Œåé¢ä¼šä»‹ç»ï¼Œè¿™é‡Œä¸éœ€è¦è¿‡å¤šå¿§è™‘ã€‚ 5.1. ä¸¾ä¸ªä¾‹å­æ¯”å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªä»£ç ,è¿™ä¸ªä»£ç å’Œc&#x2F;c++å¾ˆç›¸ä¼¼ï¼ˆä½†æ˜¯è¿™ä¸ªæ˜¯pavaä»£ç ï¼Œè¯»è€…ç›®å‰å¯ä»¥ç†è§£ä¸ºcä»£ç ï¼‰ï¼Œè¿™æ˜¯ä¸€ä¸ªè®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—çš„ä»£ç ï¼Œä»–çš„è¯æ³•åˆ†æç»“æœæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ 12345678int fib(int x)&#123; if(x&lt;2) return 1; return fib(x-1) + fib(x-2);&#125;int main()&#123; int a = fib(5); return a;&#125; ä¸‹æ–‡çš„ä»£ç å°±æ˜¯è¯æ³•åˆ†æç»“æœ, è¯æ³•åˆ†æå™¨ä»æºæ–‡ä»¶ä¾æ¬¡è¯»å–ï¼Œç„¶ååˆ†å‰²å‡ºæœ€å°çš„è¯æ³•å•å…ƒï¼Œ","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 5. è¯æ³•åˆ†æè¯æ³•åˆ†æï¼Œå¦‚å…¶åï¼Œåªåˆ†æè¯è¯­ï¼Œå³tokenï¼Œè¯æ˜¯ä¸€ä¸ªæ–‡æ³•çš„æœ€å°å•å…ƒã€‚è‡³äºä»€ä¹ˆæ˜¯æ–‡æ³•ï¼Œåé¢ä¼šä»‹ç»ï¼Œè¿™é‡Œä¸éœ€è¦è¿‡å¤šå¿§è™‘ã€‚ 5.1. ä¸¾ä¸ªä¾‹å­æ¯”å¦‚æˆ‘ä»¬æœ‰ä¸€ä¸ªä»£ç ,è¿™ä¸ªä»£ç å’Œc&#x2F;c++å¾ˆç›¸ä¼¼ï¼ˆä½†æ˜¯è¿™ä¸ªæ˜¯pavaä»£ç ï¼Œè¯»è€…ç›®å‰å¯ä»¥ç†è§£ä¸ºcä»£ç ï¼‰ï¼Œè¿™æ˜¯ä¸€ä¸ªè®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—çš„ä»£ç ï¼Œä»–çš„è¯æ³•åˆ†æç»“æœæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ 12345678int fib(int x)&#123; if(x&lt;2) return 1; return fib(x-1) + fib(x-2);&#125;int main()&#123; int a = fib(5); return a;&#125; ä¸‹æ–‡çš„ä»£ç å°±æ˜¯è¯æ³•åˆ†æç»“æœ, è¯æ³•åˆ†æå™¨ä»æºæ–‡ä»¶ä¾æ¬¡è¯»å–ï¼Œç„¶ååˆ†å‰²å‡ºæœ€å°çš„è¯æ³•å•å…ƒï¼Œ æœ€å¼€å§‹è¯æ³•åˆ†æå™¨è¯»åˆ°äº†å­—ç¬¦iï¼Œç„¶åè¯»åˆ°äº†å­—ç¬¦nï¼Œç„¶åè¯»åˆ°äº†å­—ç¬¦t,ç´§æ¥ç€è¯»åˆ°äº†ç©ºæ ¼å­—ç¬¦ ï¼Œè¿™æ—¶å€™è¯æ³•åˆ†æå™¨å‘åŠ›ï¼Œè¿›è¡Œåˆ†å‰²ï¼Œå°†å‰ä¸‰ä¸ªå­—ç¬¦intåˆ’ä¸ºæœ€å°è¯æ³•å•å…ƒç¬¦å·ã€‚ ç´§æ¥ç€ç»§ç»­è¯»å–f,å½“ä»–è¯»å…¥fè¿™ä¸ªå­—ç¬¦çš„æ—¶å€™ï¼Œè¯æ³•åˆ†æå™¨å‘åŠ›ï¼Œå°†ç¬¬å››ä¸ªå­—ç¬¦ (ç©ºæ ¼å­—ç¬¦)åˆ’ä¸ºè¯æ³•å•å…ƒempty,å½“ç„¶åœ¨ä¸‹æ–‡ä¸­æ— æ³•æ‰¾åˆ°emtpyè¿™ä¸ªtokenï¼Œå› ä¸ºemptyä»£è¡¨ç©ºå­—ç¬¦ï¼Œå¯æœ‰å¯æ— ã€‚ ç„¶åè¯æ³•åˆ†æå™¨ç»§ç»­åˆ†æï¼Œä¸æ–­åœ°è§£æï¼Œä¸€ç›´è§£æå‡ºfib(ç¬¦å·)ï¼Œ ((å·¦æ‹¬å·)ï¼Œ int(ç¬¦å·),x(ç¬¦å·),)(å³æ‹¬å·) 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950&quot;int&quot;(symbol)&quot;fib&quot;(symbol)&quot;(&quot;(leftBracket)&quot;int&quot;(symbol)&quot;x&quot;(symbol)&quot;)&quot;(rightBracket)&quot;&#123;&quot;(leftCurlyBracket)&quot;if&quot;(if)&quot;(&quot;(leftBracket)&quot;x&quot;(symbol)&quot;&lt;&quot;(lt)&quot;2&quot;(number)&quot;)&quot;(rightBracket)&quot;return&quot;(return)&quot;1&quot;(number)&quot;;&quot;(semicolon)&quot;return&quot;(return)&quot;fib&quot;(symbol)&quot;(&quot;(leftBracket)&quot;x&quot;(symbol)&quot;-&quot;(sub)&quot;1&quot;(number)&quot;)&quot;(rightBracket)&quot;+&quot;(add)&quot;fib&quot;(symbol)&quot;(&quot;(leftBracket)&quot;x&quot;(symbol)&quot;-&quot;(sub)&quot;2&quot;(number)&quot;)&quot;(rightBracket)&quot;;&quot;(semicolon)&quot;&#125;&quot;(rightCurlyBracket)&quot;int&quot;(symbol)&quot;main&quot;(symbol)&quot;(&quot;(leftBracket)&quot;)&quot;(rightBracket)&quot;&#123;&quot;(leftCurlyBracket)&quot;int&quot;(symbol)&quot;a&quot;(symbol)&quot;=&quot;(eq)&quot;fib&quot;(symbol)&quot;(&quot;(leftBracket)&quot;5&quot;(number)&quot;)&quot;(rightBracket)&quot;;&quot;(semicolon)&quot;return&quot;(return)&quot;a&quot;(symbol)&quot;;&quot;(semicolon)&quot;&#125;&quot;(rightCurlyBracket)&quot;$END&quot;($END) 5.2. è¯†åˆ«è¯æ³•å•å…ƒç¼–è¯‘å™¨çš„ç¬¬ä¸€æ­¥å°±æ˜¯è¯æ³•åˆ†æï¼Œä»–éœ€è¦ä»å¾…åˆ†æçš„æ–‡æœ¬ä¸­ï¼Œé€å­—ç¬¦è¯»å–ï¼Œå¹¶åˆ†å‰²è¯æ³•å•å…ƒã€‚ä¸€ç§é«˜æ•ˆè€Œæœ‰ç®€å•çš„æ–¹å¼å°±æ˜¯ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ„å»ºNFAæ¨¡å‹ï¼Œç„¶åä¼˜åŒ–ä¸ºDFAï¼Œæ­¤åå¯¹æ–‡æœ¬è¿›è¡Œåˆ†å‰²ã€‚ è¿™é‡Œå¯èƒ½æœ‰ä¸€äº›æŠ½è±¡ï¼Œçªç„¶æ¥äº†è¿™ä¹ˆå¤šæ¦‚å¿µï¼Œä¸‹é¢ä¸€ä¸ªä¸€ä¸ªæ¥è§£é‡Šã€‚ 5.3. ç¡®å®šæœ‰é™çŠ¶æ€è‡ªåŠ¨æœºç¡®å®šæœ‰é™çŠ¶æ€è‡ªåŠ¨æœº è¢«ç§°ä¸ºDFA ç¡®å®šæœ‰é™çŠ¶æ€è‡ªåŠ¨æœº${\\displaystyle {\\mathcal {A}}}$æ˜¯ç”± ä¸€ä¸ªéç©ºæœ‰é™çš„çŠ¶æ€é›†åˆ${\\displaystyle Q}$ ä¸€ä¸ªè¾“å…¥å­—æ¯è¡¨${\\displaystyle \\Sigma }$ï¼ˆéç©ºæœ‰é™çš„å­—ç¬¦é›†åˆ) ä¸€ä¸ªè½¬ç§»å‡½æ•°${\\displaystyle \\delta :Q\\times \\Sigma \\rightarrow Q}$ï¼ˆä¾‹å¦‚ï¼š${\\displaystyle \\delta \\left(q,\\sigma \\right)&#x3D;p,\\left(p,q\\in Q,\\sigma \\in \\Sigma \\right)}$) ä¸€ä¸ªå¼€å§‹çŠ¶æ€${\\displaystyle s\\in Q}$ ä¸€ä¸ªæ¥å—çŠ¶æ€çš„é›†åˆ${\\displaystyle F\\subseteq Q}$ æ‰€ç»„æˆçš„5-å…ƒç»„ã€‚å› æ­¤ä¸€ä¸ªDFAå¯ä»¥å†™æˆè¿™æ ·çš„å½¢å¼ï¼š${\\displaystyle {\\mathcal {A}}&#x3D;\\left(Q,\\Sigma ,\\delta ,s,F\\right)}$ã€‚ 5.4. éç¡®å®šæœ‰é™çŠ¶æ€è‡ªåŠ¨æœºéç¡®å®šæœ‰é™çŠ¶æ€è‡ªåŠ¨æœºåˆè¢«ç§°ä¸ºNFAï¼Œä¸DFAä¸åŒçš„æ˜¯ä»–çš„è½¬ç§»æ˜¯ä¸ç¡®å®šçš„ï¼Œä»–çš„è½¬ç§»ä¸å”¯ä¸€ã€‚ 4.5. æ­£åˆ™è¡¨è¾¾å¼è¯†åˆ«åŸç†4.5.1. æ­£åˆ™ä¾‹1é¦–å…ˆç»™å‡ºä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼aï¼Œ è¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼èƒ½è¯†åˆ«ï¼Œä¸”ä»…èƒ½è¯†åˆ«å­—ç¬¦ä¸²aï¼Œé‚£ä¹ˆå¦‚ä½•æ¥è¡¨ç¤ºå‘¢?ä¸‹å›¾æ˜¯è¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼æ‰€å¯¹åº”çš„nfaï¼Œæœ€å¼€å§‹æˆ‘ä»¬åœ¨çŠ¶æ€startï¼Œ å½“æˆ‘ä»¬è¯»å–å­—ç¬¦aä»¥åï¼Œä¼šè½¬ç§»åˆ°endï¼Œå½“æˆ‘ä»¬åˆ°è¾¾endçš„æ—¶å€™å¦‚æœè¾“å…¥ç»“æŸï¼Œè‡ªåŠ¨æœºå°±è¾“å‡ºåŒ¹é…æˆåŠŸã€‚æ‰€ä»¥è¯¥è‡ªåŠ¨æœºèƒ½ä½¿è¢«å­—ç¬¦ä¸²aï¼Œå¦‚æœè¾“å…¥ä¸ºbï¼Œ è‡ªåŠ¨æœºåœ¨startæ—¶ï¼Œä¼šå› ä¸ºæ²¡æœ‰bè¿™ä¸ªè½¬ç§»è€Œç›´æ¥è¾“å‡ºåŒ¹é…å¤±è´¥ï¼Œå¦‚æœè¾“å…¥ä¸ºabè‡ªåŠ¨æœºä¼šå› ä¸ºåœ¨endå¤„æ— æ³•æ‰¾åˆ°è½¬ç§»bè€Œè¾“å‡ºåŒ¹é…å¤±è´¥. 123graph LR start[startèµ·ç‚¹] --&gt;|a| ed(endç»ˆç»“) 4.5.2. æ­£åˆ™ä¾‹2è€ƒè™‘ä¸²è”ï¼Œæ¥æ­£åˆ™è¡¨è¾¾å¼abï¼Œ è¿™é‡Œå¦‚ä½•æ„å»ºå‘¢ï¼Œé¦–å…ˆæˆ‘ä»¬åˆ†åˆ«æ„å»ºä¸¤ä¸ªè‡ªåŠ¨æœºã€‚ 1234graph LR start1[start1èµ·ç‚¹] --&gt;|a| ed1(end1ç»ˆç»“) start2[start2èµ·ç‚¹] --&gt;|b| ed2(end2ç»ˆç»“) ç„¶åå°†ä»–ä»¬ç»„è£…åœ¨ä¸€èµ·ï¼Œ æ³¨æ„åˆ°è¿™é‡Œå‡ºç°äº†ä¸€ä¸ªç©ºï¼Œè¿™å°±æ„å‘³ç€ï¼Œå½“æˆ‘ä»¬å¤„äºçŠ¶æ€end1çš„æ—¶å€™å¯ä»¥ä¸è¾“å…¥ä»»ä½•å­—ç¬¦ï¼Œç›´æ¥è½¬ç§»åˆ°çŠ¶æ€start2 ï¼Œäºæ˜¯è¿™ä¸ªè‡ªåŠ¨æœºæœ€å¼€å§‹åœ¨start1 å¤„ï¼Œå½“ä»–è¾“å…¥å­—ç¬¦aï¼Œä»–ä¼šè½¬ç§»åˆ°end1 ä»¥åŠstart2ï¼Œå½“ç»§ç»­è¾“å…¥å­—ç¬¦bï¼Œä¼šè½¬ç§»åˆ°end2ï¼ˆend1æ— æ³•è½¬ç§»,start2å¯è½¬ç§»ï¼‰ 12345graph LR start1[start1èµ·ç‚¹] --&gt;|a| ed1(end1) ed1 --&gt;|ç©º| start2 start2[start2] --&gt;|b| ed2(end2ç»ˆç»“) 4.5.3. æ­£åˆ™ä¾‹3è€ƒè™‘å¹¶è”,æ¥æ­£åˆ™è¡¨è¾¾å¼a|bï¼Œ è¿™é‡Œå¦‚ä½•æ„å»º? ä¾ç„¶æ„å»ºä¸¤ä¸ªè‡ªåŠ¨æœº 1234graph LR start1[start1èµ·ç‚¹] --&gt;|a| ed1(end1ç»ˆç»“) start2[start2èµ·ç‚¹] --&gt;|b| ed2(end2ç»ˆç»“) ç„¶åä¸²è”ï¼Œ è¿™é‡Œä¸ç”¨å†è§£é‡Šäº† 123456graph LR start1[start1] --&gt;|a| ed1(end1) start2[start2] --&gt;|b| ed2(end2) start[startèµ·ç‚¹] --&gt;|ç©º| start1 &amp; start2 ed1 &amp; ed2 --&gt;|ç©º| ed[endç»ˆç»“] 4.5.4. æ­£åˆ™ä¾‹4è€ƒè™‘è‡ªå¾ªç¯ï¼Œ æ¥æ­£åˆ™è¡¨è¾¾å¼a+, åŠ å·è¡¨ç¤ºå‡ºç°æœ€å°‘ä¸€æ¬¡,å¯ä»¥ä¸ºå¤šæ¬¡, åªéœ€è¦å¼•ä¸€æ¡ä»endåˆ°startçš„è¾¹å³å¯ 1234graph LR start[startèµ·ç‚¹] --&gt;|a| ed(endç»ˆç»“) ed --&gt;|ç©º| start è‡³æ­¤æˆ‘ä»¬å·²ç»åˆ†æå®Œäº†æ‰€æœ‰çš„æ­£åˆ™å•å…ƒï¼Œå¤æ‚çš„æ­£åˆ™è¡¨è¾¾å¼å‡å¯ç”±æ­¤åˆå¹¶è€Œæˆã€‚ 4.6. NFAè½¬DFAnfaè½¬dfaç®—æ³•æ¶‰åŠåˆ°ä¸€ä¸ªé—­åŒ…ï¼Œæˆ‘ä»¬ç›´æ¥å¯¹è¿™ä¸ªnfaæ¥è®¡ç®—é—­åŒ… 123graph LR start[startèµ·ç‚¹] --&gt;|a| ed(endç»ˆç»“) ed --&gt;|ç©º| start æœ€å¼€å§‹ä½äºçŠ¶æ€startï¼Œ å½“è¾“å…¥aä»¥åï¼Œè¿›å…¥çŠ¶æ€endï¼Œ è®¡ç®—endçš„ç©ºé—­åŒ…[start,end]ï¼Œå½“ä»çŠ¶æ€[start,end]è¾“å…¥aä»¥åï¼Œè¿›å…¥çŠ¶æ€endï¼Œä¹Ÿå°±æ˜¯[start,end], äºæ˜¯æœ€ç»ˆæˆ‘ä»¬å¾—åˆ°äº†è¿™ä¸ªdfa 123graph LR start[start] --&gt;|a| ed([start,end]) ed --&gt;|a| ed 4.7. DFAè¯†åˆ«å¦‚ä½•ä¸ºä¸€é—¨è¯­è¨€è®¾è®¡ä»–çš„dfaå‘¢ï¼Ÿå®é™…ä¸Šä¸€é—¨è¯­è¨€æ¶‰åŠåˆ°å¤šä¸ªtokenï¼Œæ¯ä¸ªtokenéƒ½ä¼šç”±ä¸€ä¸ªæ­£åˆ™ï¼Œé‚£ä¹ˆå°±ä¼šå‡ºç°æ­£åˆ™å†²çªï¼Œå³ä¸€ä¸ªå­—ç¬¦ä¸²å¯ä»¥è¢«è¯†åˆ«ä¸ºå¤šç§tokenï¼Œè¿™æ—¶å€™å°±å®šä¹‰ä¼˜å…ˆçº§å³å¯ã€‚ å¦ä¸€ç§æƒ…å†µï¼Œå³æ˜¯å¦è´ªå©ªï¼Œå¦‚æœä¸€ä¸ªå­—ç¬¦ä¸²çš„å‰ç¼€å¯ä»¥è¢«è¯†åˆ«ä¸ºä¸€ä¸ªtokenï¼Œå³å­—ç¬¦ä¸²ifhahaçš„å‰ç¼€ifå¯ä»¥è¢«è¯†åˆ«ä¸ºtokenif ,è€Œä»–è‡ªèº«å¯ä»¥è¢«è¯†åˆ«ä¸ºtokensymbolï¼Œè¿™æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦é€‰æ‹©æœ€é•¿çš„é‚£ä¸ªï¼Œå³æœ€é•¿åŒ¹é…å³å¯ã€‚ 4.8. æ•ˆæœå±•ç¤ºç¬”è€…çš„é¡¹ç›®ä¸­åˆæ¶‰åŠåˆ°ä¸€æ¬¾cç±»è¯­è¨€(pavaè¯­è¨€)çš„tokené…ç½® 123456789101112131415161718192021222324252627282930313233343536373839&#123; &quot;tokens&quot;: [ &#123;&quot;number&quot;: &quot;0|[123456789]\\\\d*&quot;&#125;, &#123;&quot;doubleQuotes&quot;: &quot;\\&quot;&quot;&#125;, &#123;&quot;blank&quot;: &quot;\\\\s+&quot;&#125;, &#123;&quot;leftCurlyBracket&quot;: &quot;\\\\&#123;&quot;&#125;, &#123;&quot;rightCurlyBracket&quot;: &quot;\\\\&#125;&quot;&#125;, &#123;&quot;string&quot;: &quot;\\&quot;[\\\\s\\\\w\\\\d]*\\&quot;&quot;&#125;, &#123;&quot;include&quot;: &quot;#include&quot;&#125;, &#123;&quot;while&quot;: &quot;while&quot;&#125;, &#123;&quot;if&quot;: &quot;if&quot;&#125;, &#123;&quot;for&quot;: &quot;for&quot;&#125;, &#123;&quot;return&quot;: &quot;return&quot;&#125;, &#123;&quot;break&quot;: &quot;break&quot;&#125;, &#123;&quot;continue&quot;: &quot;continue&quot;&#125;, &#123;&quot;do&quot;: &quot;do&quot;&#125;, &#123;&quot;goto&quot;: &quot;goto&quot;&#125;, &#123;&quot;else&quot;: &quot;else&quot;&#125;, &#123;&quot;comma&quot;: &quot;,&quot;&#125;, &#123;&quot;leftBracket&quot;: &quot;\\\\(&quot;&#125;, &#123;&quot;rightBracket&quot;: &quot;\\\\)&quot;&#125;, &#123;&quot;add&quot;: &quot;\\\\+&quot;&#125;, &#123;&quot;sub&quot;: &quot;\\\\-&quot;&#125;, &#123;&quot;mul&quot;: &quot;\\\\*&quot;&#125;, &#123;&quot;div&quot;: &quot;/&quot;&#125;, &#123;&quot;mod&quot;: &quot;%&quot;&#125;, &#123;&quot;doubleEq&quot;: &quot;==&quot;&#125;, &#123;&quot;eq&quot;: &quot;=&quot;&#125;, &#123;&quot;ne&quot;: &quot;!=&quot;&#125;, &#123;&quot;leftShift&quot;: &quot;&lt;&lt;&quot;&#125;, &#123;&quot;rightShift&quot;: &quot;&gt;&gt;&quot;&#125;, &#123;&quot;be&quot;: &quot;&gt;=&quot;&#125;, &#123;&quot;le&quot;: &quot;&lt;=&quot;&#125;, &#123;&quot;bt&quot;: &quot;&gt;&quot;&#125;, &#123;&quot;lt&quot;: &quot;&lt;&quot;&#125;, &#123;&quot;semicolon&quot;: &quot;;&quot;&#125;, &#123;&quot;symbol&quot;: &quot;[_\\\\w][_\\\\w\\\\d]*&quot;&#125; ]&#125; è¯¥é…ç½®åœ¨ç»è¿‡è‡ªåŠ¨æ„å»ºå·¥å…·compiler&#x2F;Reg.java at master Â· fightinggg&#x2F;compiler Â· GitHubæ„å»ºä»¥åå¾—åˆ°äº†ä¸‹å›¾çš„nfa, å¦‚æœæ­¤å›¾å¤ªå°ï¼Œè¯»è€…å¯ä»¥å³é”®ç‚¹å‡»åˆ°æ–°é¡µé¢æŸ¥çœ‹ï¼Œæ­¤å¤„ä¸å¯¹æ­¤å·¥å…·è¿›è¡Œè§£é‡Šï¼Œå› ä¸ºå®ƒæ¶‰åŠåˆ°æ›´æ·±å±‚æ¬¡çš„å†…å®¹ï¼Œç¬”è€…å°†åœ¨åé¢çš„ç« èŠ‚ä¸­äºˆé€‚å½“çš„æ—¶å€™å¯¹æ­¤å·¥å…·è¿›è¡Œæè¿°ï¼Œå¦ä¸€æ–¹é¢ç”±äºæ­¤dfaä¹Ÿä¸æ˜¯å¾ˆå¤§ï¼Œäººå·¥ç»˜åˆ¶ä¹Ÿä¸æ˜¯ä¸å¯èƒ½ï¼Œç»¼ä¸Šæ­¤å¤„ä¸åšè§£æäº†ã€‚","categories":[{"name":"ç¼–è¯‘å™¨","slug":"ç¼–è¯‘å™¨","permalink":"http://fightinggg.github.io/indigo/categories/%E7%BC%96%E8%AF%91%E5%99%A8/"}],"tags":[{"name":"è¯»ä¹¦","slug":"è¯»ä¹¦","permalink":"http://fightinggg.github.io/indigo/tags/%E8%AF%BB%E4%B9%A6/"},{"name":"è·Ÿæˆ‘ä¸€èµ·å†™ç¼–è¯‘å™¨","slug":"è·Ÿæˆ‘ä¸€èµ·å†™ç¼–è¯‘å™¨","permalink":"http://fightinggg.github.io/indigo/tags/%E8%B7%9F%E6%88%91%E4%B8%80%E8%B5%B7%E5%86%99%E7%BC%96%E8%AF%91%E5%99%A8/"}]},{"title":"è·Ÿæˆ‘ä¸€èµ·è‡ªå·±å†™ç¼–è¯‘å™¨-123.å¼•è¨€","slug":"ç¼–è¯‘å™¨/è·Ÿæˆ‘ä¸€èµ·è‡ªå·±å†™ç¼–è¯‘å™¨-123.å¼•è¨€/index","date":"2021-06-24T14:25:00.000Z","updated":"2021-08-29T09:41:00.000Z","comments":true,"path":"QV7MPO.html","link":"","permalink":"http://fightinggg.github.io/indigo/QV7MPO.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 1. å¼•è¨€æƒ³åšç¼–è¯‘å™¨å¾ˆä¹…äº†ï¼Œå¤§å­¦æœŸé—´ç•™ä¸‹äº†ä¸å°‘é—æ†¾ï¼Œæ²¡æœ‰å®ç°è‡ªå·±çš„ç¼–è¯‘å™¨ï¼Œæ²¡æœ‰å®ç°è‡ªå·±çš„JVMï¼Œæ²¡æœ‰å®ç°è‡ªå·±çš„æ•°æ®åº“ï¼Œå½“ç„¶è¿™å…¶ä¸­æœ‰å¾ˆå¤šåŸå› ï¼Œæ¯”å¦‚å­¦é™¢çš„è¦æ±‚å¤ªæ¾ï¼Œæ¯”å¦‚è‡ªå·±ä¹Ÿä¸å¤Ÿä¸»åŠ¨ï¼Œç»è¿‡ä¸¤ä¸ªå¤šæœˆçš„å­¦ä¹ ï¼Œç¬”è€…çš„Pava1.0ä»¥åŠPavaç¼–è¯‘å™¨å·²ç»å‘å¸ƒï¼Œè¿™ç¯‡Blogä¸»è¦ä»‹ç»ç†è®ºï¼Œå°†å¼•å¯¼è¯»è€…ä¸€æ­¥ä¸€æ­¥æ„å»ºä¸€ä¸ªè‡ªå·±çš„ç¼–è¯‘å™¨ã€‚ 2. å­¦ä¹ é‡ç‚¹å¼€å‘ç¼–è¯‘å™¨æˆ‘èƒ½å­¦åˆ°ä»€ä¹ˆï¼Ÿç¼–è¯‘å™¨æœ¬èº«å—ï¼Ÿå…¶å®ä¸å¯¹ï¼Œæˆ‘ä»¬è®¾è®¡ç¼–è¯‘å™¨çš„æ—¶å€™ï¼Œä¼šé‡åˆ°å¾ˆå¤šé—®é¢˜ï¼Œè§£å†³è¿™äº›é—®é¢˜çš„æ–¹æ³•æ‰æ˜¯æœ€ç»ˆé‡è¦çš„ä¸œè¥¿ã€‚ 3. ç¼–è¯‘å™¨çš„æµç¨‹ä»å¤´å¼€å‘ä¸€ä¸ªç¼–è¯‘å™¨æ˜¯éå¸¸å›°éš¾çš„ï¼Œè¿™æ¶‰åŠåˆ°å¾ˆå¤šçŸ¥è¯†ç‚¹ï¼Œè¿™ä¸€éƒ¨åˆ†ä¸»è¦ä»‹ç»ç°ä»£ç¼–è¯‘å™¨çš„æ¶æ„ã€‚ é¾™ä¹¦ä¸ŠæŠŠç¼–è¯‘å™¨åˆ†ä¸ºå‰ç«¯å’Œåç«¯ä¸¤ä¸ªéƒ¨åˆ†ï¼Œæºä»£ç é¦–å…ˆç»è¿‡å‰ç«¯è½¬åŒ–ä¸ºä¸­é—´ä»£ç ï¼Œä¸­é—´ä»£ç ç»è¿‡åç«¯è½¬åŒ–ä¸ºæ±‡ç¼–æ–‡ä»¶ã€‚æ­¤åçš„å·¥ä½œå°±ä¸æ˜¯ç¼–è¯‘å™¨çš„ç®¡ç†èŒƒå›´äº†ï¼Œæ¥ä¸‹æ¥ç”±æ±‡ç¼–å™¨å’Œé“¾æ¥å™¨å°†æ±‡ç¼–æ–‡ä»¶è½¬åŒ–ä¸ºå¯æ‰§è¡Œæ–‡ä»¶ã€‚ 12graph LR æºä»£ç  --ç¼–è¯‘å™¨å‰ç«¯--&gt; ä¸­é—´ä»£ç  --ç¼–è¯‘å™¨åç«¯--&gt; æ±‡ç¼–æ–‡ä»¶ --æ±‡ç¼–å™¨å’Œé“¾æ¥å™¨--&gt; å¯æ‰§è¡Œæ–‡ä»¶ ä¸ºä»€ä¹ˆç¼–è¯‘å™¨è¦åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Ÿä¸ºä»€ä¹ˆè¦åˆ†å‡ºå‰ç«¯å’Œåç«¯ï¼Ÿå®é™…ä¸Šè¿™æ ·çš„æ¶æ„åšå¥½ä»¥åï¼Œåªè¦æˆ‘ä»¬ä¸º$m$ç§æºä»£ç ç¼–å†™ä¸€ä¸ªå‰ç«¯ï¼Œä¸º$n$ç§æ¶æ„çš„æœºå™¨ç¼–å†™åç«¯ï¼Œåˆ™æˆ‘ä»¬å¯ä»¥ç»„æˆ$n*m$ç§ç¼–è¯‘å™¨ã€‚å½“ä¸€ä¸ªæ–°ç±»å‹çš„æºä»£ç æˆ–è€…æ–°æ¶æ„çš„æœºå™¨å‡ºç°æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä»¥æ›´å¿«çš„é€Ÿåº¦å¯¹ç¼–è¯‘å™¨è¿›è¡Œæ›´æ–°ï¼Œä»è€Œæ”¯æŒè¿™äº›æºä»£ç æˆ–æœºå™¨ã€‚å¦ä¸€æ–¹é¢ï¼Œå¦‚æœæƒ³è¦å¯¹æºç¨‹åºè¿›è¡Œä¼˜åŒ–ï¼Œç¼–è¯‘å™¨å‰ç«¯è´Ÿè´£ä¼˜åŒ–å—ï¼Ÿè¿˜æ˜¯ç¼–è¯‘å™¨åç«¯è´Ÿè´£ä¼˜åŒ–ï¼Ÿè¿™å…¶å®æ˜¯ä¼˜åŒ–å™¨çš„å·¥ä½œï¼Œä¼˜åŒ–å™¨çš„è¾“å…¥æ˜¯ä¸­é—´ä»£ç ï¼Œè¾“å‡ºä¹Ÿæ˜¯ä¸­é—´ä»£ç ã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 1. å¼•è¨€æƒ³åšç¼–è¯‘å™¨å¾ˆä¹…äº†ï¼Œå¤§å­¦æœŸé—´ç•™ä¸‹äº†ä¸å°‘é—æ†¾ï¼Œæ²¡æœ‰å®ç°è‡ªå·±çš„ç¼–è¯‘å™¨ï¼Œæ²¡æœ‰å®ç°è‡ªå·±çš„JVMï¼Œæ²¡æœ‰å®ç°è‡ªå·±çš„æ•°æ®åº“ï¼Œå½“ç„¶è¿™å…¶ä¸­æœ‰å¾ˆå¤šåŸå› ï¼Œæ¯”å¦‚å­¦é™¢çš„è¦æ±‚å¤ªæ¾ï¼Œæ¯”å¦‚è‡ªå·±ä¹Ÿä¸å¤Ÿä¸»åŠ¨ï¼Œç»è¿‡ä¸¤ä¸ªå¤šæœˆçš„å­¦ä¹ ï¼Œç¬”è€…çš„Pava1.0ä»¥åŠPavaç¼–è¯‘å™¨å·²ç»å‘å¸ƒï¼Œè¿™ç¯‡Blogä¸»è¦ä»‹ç»ç†è®ºï¼Œå°†å¼•å¯¼è¯»è€…ä¸€æ­¥ä¸€æ­¥æ„å»ºä¸€ä¸ªè‡ªå·±çš„ç¼–è¯‘å™¨ã€‚ 2. å­¦ä¹ é‡ç‚¹å¼€å‘ç¼–è¯‘å™¨æˆ‘èƒ½å­¦åˆ°ä»€ä¹ˆï¼Ÿç¼–è¯‘å™¨æœ¬èº«å—ï¼Ÿå…¶å®ä¸å¯¹ï¼Œæˆ‘ä»¬è®¾è®¡ç¼–è¯‘å™¨çš„æ—¶å€™ï¼Œä¼šé‡åˆ°å¾ˆå¤šé—®é¢˜ï¼Œè§£å†³è¿™äº›é—®é¢˜çš„æ–¹æ³•æ‰æ˜¯æœ€ç»ˆé‡è¦çš„ä¸œè¥¿ã€‚ 3. ç¼–è¯‘å™¨çš„æµç¨‹ä»å¤´å¼€å‘ä¸€ä¸ªç¼–è¯‘å™¨æ˜¯éå¸¸å›°éš¾çš„ï¼Œè¿™æ¶‰åŠåˆ°å¾ˆå¤šçŸ¥è¯†ç‚¹ï¼Œè¿™ä¸€éƒ¨åˆ†ä¸»è¦ä»‹ç»ç°ä»£ç¼–è¯‘å™¨çš„æ¶æ„ã€‚ é¾™ä¹¦ä¸ŠæŠŠç¼–è¯‘å™¨åˆ†ä¸ºå‰ç«¯å’Œåç«¯ä¸¤ä¸ªéƒ¨åˆ†ï¼Œæºä»£ç é¦–å…ˆç»è¿‡å‰ç«¯è½¬åŒ–ä¸ºä¸­é—´ä»£ç ï¼Œä¸­é—´ä»£ç ç»è¿‡åç«¯è½¬åŒ–ä¸ºæ±‡ç¼–æ–‡ä»¶ã€‚æ­¤åçš„å·¥ä½œå°±ä¸æ˜¯ç¼–è¯‘å™¨çš„ç®¡ç†èŒƒå›´äº†ï¼Œæ¥ä¸‹æ¥ç”±æ±‡ç¼–å™¨å’Œé“¾æ¥å™¨å°†æ±‡ç¼–æ–‡ä»¶è½¬åŒ–ä¸ºå¯æ‰§è¡Œæ–‡ä»¶ã€‚ 12graph LR æºä»£ç  --ç¼–è¯‘å™¨å‰ç«¯--&gt; ä¸­é—´ä»£ç  --ç¼–è¯‘å™¨åç«¯--&gt; æ±‡ç¼–æ–‡ä»¶ --æ±‡ç¼–å™¨å’Œé“¾æ¥å™¨--&gt; å¯æ‰§è¡Œæ–‡ä»¶ ä¸ºä»€ä¹ˆç¼–è¯‘å™¨è¦åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Ÿä¸ºä»€ä¹ˆè¦åˆ†å‡ºå‰ç«¯å’Œåç«¯ï¼Ÿå®é™…ä¸Šè¿™æ ·çš„æ¶æ„åšå¥½ä»¥åï¼Œåªè¦æˆ‘ä»¬ä¸º$m$ç§æºä»£ç ç¼–å†™ä¸€ä¸ªå‰ç«¯ï¼Œä¸º$n$ç§æ¶æ„çš„æœºå™¨ç¼–å†™åç«¯ï¼Œåˆ™æˆ‘ä»¬å¯ä»¥ç»„æˆ$n*m$ç§ç¼–è¯‘å™¨ã€‚å½“ä¸€ä¸ªæ–°ç±»å‹çš„æºä»£ç æˆ–è€…æ–°æ¶æ„çš„æœºå™¨å‡ºç°æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä»¥æ›´å¿«çš„é€Ÿåº¦å¯¹ç¼–è¯‘å™¨è¿›è¡Œæ›´æ–°ï¼Œä»è€Œæ”¯æŒè¿™äº›æºä»£ç æˆ–æœºå™¨ã€‚å¦ä¸€æ–¹é¢ï¼Œå¦‚æœæƒ³è¦å¯¹æºç¨‹åºè¿›è¡Œä¼˜åŒ–ï¼Œç¼–è¯‘å™¨å‰ç«¯è´Ÿè´£ä¼˜åŒ–å—ï¼Ÿè¿˜æ˜¯ç¼–è¯‘å™¨åç«¯è´Ÿè´£ä¼˜åŒ–ï¼Ÿè¿™å…¶å®æ˜¯ä¼˜åŒ–å™¨çš„å·¥ä½œï¼Œä¼˜åŒ–å™¨çš„è¾“å…¥æ˜¯ä¸­é—´ä»£ç ï¼Œè¾“å‡ºä¹Ÿæ˜¯ä¸­é—´ä»£ç ã€‚ æ¥ä¸‹æ¥è¯»è€…æœ€å…³å¿ƒçš„é—®é¢˜ï¼Œåº”è¯¥æ˜¯ä¸­é—´ä»£ç æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿä¸­é—´ä»£ç å¹¶ä¸åªæ˜¯ä¸€ç§å½¢å¼ï¼Œå¦‚æœæˆ‘ä»¬å¿½ç•¥ä¼˜åŒ–å™¨ï¼Œå°±å¯ä»¥è®¤ä¸ºä¸­é—´ä»£ç å°±æ˜¯ä¸€ä¸ªå›ºå®šçš„å½¢å¼ã€‚è¿™ä¸ªå½¢å¼å°±æ˜¯ä¸‰åœ°å€å½¢å¼æˆ–å››å…ƒç»„å½¢å¼ï¼Œè‡³äºä¸‰åœ°å€å½¢å¼å’Œå››å…ƒå¼å½¢å¼ç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Œæˆ‘ä»¬åé¢å†åšä»‹ç»ã€‚ 3.1. ç¼–è¯‘å™¨å‰ç«¯æµç¨‹ä»æºä»£ç åˆ°ä¸­é—´ä»£ç ï¼Œç¼–è¯‘å™¨å·²ç»æœ‰äº†å¾ˆæˆç†Ÿçš„æ¶æ„ï¼Œä¸€èˆ¬åˆ†ä¸ºä¸‹é¢è¿™å‡ æ­¥ã€‚ 12graph LR æºä»£ç  --è¯æ³•åˆ†æå™¨--&gt; tokenæµ --è¯­æ³•åˆ†æå™¨--&gt; è¯­æ³•æ ‘ --ä¸­é—´ä»£ç ç”Ÿæˆå™¨--&gt; ä¸­é—´ä»£ç  3.2. ç¼–è¯‘å™¨åç«¯æµç¨‹12graph LR è¯­æ³•æ ‘ --ä¸­é—´ä»£ç ç”Ÿæˆå™¨--&gt; ä¸­é—´ä»£ç 1 --æœºå™¨æ— å…³ä¼˜åŒ–--&gt; ä¸­é—´ä»£ç 2 --æœºå™¨æœ‰å…³ä¼˜åŒ–--&gt; ä¸­é—´ä»£ç 3 --æ±‡ç¼–ä»£ç ç”Ÿæˆå™¨--&gt; æ±‡ç¼–ä»£ç  ç³»åˆ—åšå®¢è·Ÿæˆ‘ä¸€èµ·å†™ç¼–è¯‘å™¨","categories":[{"name":"ç¼–è¯‘å™¨","slug":"ç¼–è¯‘å™¨","permalink":"http://fightinggg.github.io/indigo/categories/%E7%BC%96%E8%AF%91%E5%99%A8/"}],"tags":[{"name":"è¯»ä¹¦","slug":"è¯»ä¹¦","permalink":"http://fightinggg.github.io/indigo/tags/%E8%AF%BB%E4%B9%A6/"},{"name":"è·Ÿæˆ‘ä¸€èµ·å†™ç¼–è¯‘å™¨","slug":"è·Ÿæˆ‘ä¸€èµ·å†™ç¼–è¯‘å™¨","permalink":"http://fightinggg.github.io/indigo/tags/%E8%B7%9F%E6%88%91%E4%B8%80%E8%B5%B7%E5%86%99%E7%BC%96%E8%AF%91%E5%99%A8/"}]},{"title":"Flinkå­¦ä¹ ","slug":"å¤§æ•°æ®/Flinkå­¦ä¹ /index","date":"2021-06-07T17:36:00.000Z","updated":"2021-06-07T17:36:00.000Z","comments":true,"path":"QUCE80.html","link":"","permalink":"http://fightinggg.github.io/indigo/QUCE80.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è¿è¡Œæºç æˆ‘ä»¬å°†è¿è¡Œ1.13.0ç‰ˆæœ¬çš„Flinkï¼Œå…¶scalaç¯å¢ƒä¸º2.12 Step1. è·å–å­¦ä¹ é¡¹ç›®1git clone https://github.com/fightinggg/flink-src-study.git --recursive åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ï¼Œç¬”è€…æŠŠflinkæºç ä½œä¸ºäº†ä¸€ä¸ªgit submoduleæ”¾ç½®äºæ–‡ä»¶å¤¹flinkä¸­ï¼Œç”¨æ¥ä¸´æ—¶æŸ¥çœ‹ï¼Œå½“ç„¶æˆ‘ä¸ªäººä¸å»ºè®®çœ‹è¿™äº›ä»£ç ï¼Œå› ä¸ºè¿™ä¸ªæ–‡ä»¶å¤¹å¤ªå¤§äº†ï¼ŒIDEéƒ½ä¸èƒ½å¾ˆå¥½çš„å¤„ç†ä»–ã€‚ ç„¶åå°±å¯ä»¥ç›´æ¥è¿è¡Œäº†","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è¿è¡Œæºç æˆ‘ä»¬å°†è¿è¡Œ1.13.0ç‰ˆæœ¬çš„Flinkï¼Œå…¶scalaç¯å¢ƒä¸º2.12 Step1. è·å–å­¦ä¹ é¡¹ç›®1git clone https://github.com/fightinggg/flink-src-study.git --recursive åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ï¼Œç¬”è€…æŠŠflinkæºç ä½œä¸ºäº†ä¸€ä¸ªgit submoduleæ”¾ç½®äºæ–‡ä»¶å¤¹flinkä¸­ï¼Œç”¨æ¥ä¸´æ—¶æŸ¥çœ‹ï¼Œå½“ç„¶æˆ‘ä¸ªäººä¸å»ºè®®çœ‹è¿™äº›ä»£ç ï¼Œå› ä¸ºè¿™ä¸ªæ–‡ä»¶å¤¹å¤ªå¤§äº†ï¼ŒIDEéƒ½ä¸èƒ½å¾ˆå¥½çš„å¤„ç†ä»–ã€‚ ç„¶åå°±å¯ä»¥ç›´æ¥è¿è¡Œäº† Step2. Enjoy Itç°åœ¨ä½ å¯ä»¥ç›´æ¥ä»è¿™é‡Œè¿›å…¥flinkçš„æ§åˆ¶å°http://localhost:8081ï¼Œ ä½ ä¹Ÿå¯ä»¥ç›´æ¥åœ¨idealä¸­è°ƒè¯•flinkã€‚ Step3. Debugè‡ªå·±è®¾æ–­ç‚¹å°±å¥½äº†ã€‚ ä½¿ç”¨Flinkä¸‹é¢ä½¿ç”¨flink-examples-streaming_2.12-1.13.0æ¥æ¼”ç¤º æ‰§è¡Œç¯å¢ƒè¿™ä¸ªåŒ…ä¸‹çš„æ‰€æœ‰çš„exampleåœ¨mainå‡½æ•°çš„ç¬¬ä¸€è¡Œå…¨éƒ¨é¦–å…ˆé€‰æ‹©è·å–ç¯å¢ƒï¼Œä»£ç å¦‚ä¸‹ã€‚ 1env = StreamExecutionEnvironment.getExecutionEnvironment(); æ•°æ®æºå½“æˆ‘ä»¬è·å–è¿è¡Œç¯å¢ƒä»¥åï¼Œç´§æ¥ç€å°±éœ€è¦æ‹¿åˆ°æ•°æ®æºï¼Œexamplesä¸­çš„å„ä¸ªä¾‹å­è·å–æ•°æ®æºçš„æ–¹æ¡ˆå¦‚ä¸‹ã€‚ æ–¹æ¡ˆ example ä»æ•°ç»„è·å– 1. WordCount2. WindowWordCountâ€¦ ä»æ–‡ä»¶æŒ‰è¡Œè·å– 1. WordCount2. WindowWordCountâ€¦ ä»è‡ªå®šä¹‰Sourceè·å– 1. TopSpeedWindowing2. KafkaEventsGeneratorJobâ€¦ ä»Kafkaè·å– 1. StateMachineExampleâ€¦ ä»Socketè·å– 1. SocketWindowWordCountâ€¦ ä»é›†åˆè·å– 1. WindowJoinâ€¦ ç®—å­ç¬¬ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼šä»€ä¹ˆæ˜¯ç®—å­ï¼Ÿ ç®—å­æè¿°äº†ä¸€ç³»åˆ—çš„è®¡ç®—æ“ä½œï¼Œä»–å‘Šè¯‰è®¡ç®—æœºä¸€ä¸ªæ•°æ®åº”è¯¥å¦‚ä½•å¤„ç†ã€‚ 123456789101112131415161718192021graph LR %% style classDef green fill:#a3e4d7,stroke:#333,stroke-width:1px classDef blue fill:#d6eaf8,stroke:#333,stroke-width:1px classDef brown fill:#edbb99,stroke:#333,stroke-width:1px classDef grey fill:#f2f3f4,stroke:#333,stroke-width:1px %% point start((æ•°æ®æº)):::green op1(ç®—å­1):::blue op2(ç®—å­1):::blue op3(ç®—å­1):::blue op4(ç®—å­2):::blue op5(ç®—å­2):::blue op6(ç®—å­2):::blue output((è¾“å‡º)):::brown shuffle((shuffle)):::grey %% edge start --&gt; op1 &amp; op2 &amp; op3 --- shuffle --&gt; op4 &amp; op5 &amp; op6 --&gt; output ä¸€æ—¦æˆ‘ä»¬æœ‰äº†æ•°æ®æºä»¥åï¼Œæ•°æ®æºæºæºä¸æ–­çš„äº§ç”Ÿæ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒå½“ä½œä¸€ä¸ªæµï¼Œå¯ä»¥è¿›è¡Œè®¡ç®—äº†ï¼ŒDataStreamè¢«flatMapä»¥åæ˜¯SingleOutputStreamOperator,å®é™…ä¸Šè¿™ä¸ªç±»å’ŒDataSreamåŒºåˆ«å¹¶ä¸æ˜¯ç‰¹åˆ«å¤§ï¼ŒSingleOutputStreamOperatorç»§æ‰¿è‡ªDataStreamä¸”æ²¡æœ‰é‡å†™ä»»ä½•å‡½æ•°ã€‚ KeyedStreamåˆ™æä¾›äº†ä¸€äº›èšåˆå‡½æ•°ã€‚ 12345678910111213graph LR %% style classDef green fill:#a3e4d7,stroke:#333,stroke-width:1px %% point DataStream(DataStream&lt;br/&gt;æ•°æ®æº):::green SingleOutputStreamOperator(SingleOutputStreamOperator&lt;br/&gt;ç®€å•çš„è¾“å‡ºæµ):::green KeyedStream(KeyedStream&lt;br/&gt;è¢«Keyåˆ†ç»„çš„æµ):::green %% edge DataStream --&gt;|flatMap| SingleOutputStreamOperator DataStream --&gt;|keyBy| KeyedStream æ›´å…·ä½“ä¸€ç‚¹ï¼Œå¦‚wordCountï¼Œä»–ç»è¿‡flatMapåˆ†è¯ï¼Œç„¶åä½¿ç”¨è¯è¿›è¡ŒKeyï¼Œæœ€åèšåˆï¼Œä»£ç å¦‚ä¸‹ã€‚ 123456DataStream&lt;Tuple2&lt;String, Integer&gt;&gt; counts = // split up the lines in pairs (2-tuples) containing: (word,1) text.flatMap(new Tokenizer()) // group by the tuple field &quot;0&quot; and sum up tuple field &quot;1&quot; .keyBy(value -&gt; value.f0) .sum(1); çª—å£å½“ç„¶å¤æ‚ä¸€ç‚¹ç‚¹çš„å¦‚WindowWordCountï¼Œä¸­é—´ç©¿æ’äº†ä¸€ä¸ªè®¡æ•°çª—å£ï¼Œä»£ç å¦‚ä¸‹ã€‚ 12345678DataStream&lt;Tuple2&lt;String, Integer&gt;&gt; counts = // split up the lines in pairs (2-tuples) containing: (word,1) text.flatMap(new WordCount.Tokenizer()) // create windows of windowSize records slided every slideSize records .keyBy(value -&gt; value.f0) .countWindow(windowSize, slideSize) // group by the tuple field &quot;0&quot; and sum up tuple field &quot;1&quot; .sum(1); Socketæ•°æ®æºæœ€å¤æ‚çš„SocketWindowWordCountï¼Œé¦–å…ˆæ‰§è¡Œnc -l 12345ï¼Œç„¶åå¯åŠ¨æ­¤ç±»çš„mainå‡½æ•°ï¼Œncå¯ä»¥ç›´æ¥è¾“å…¥ï¼Œæˆ‘ä»¬èƒ½å‘æ¯5ç§’è¾“å‡ºäº†ä¸€æ¬¡å®æ—¶è®¡ç®—ç»“æœï¼Œä»£ç å¦‚ä¸‹ã€‚ 1234567891011121314151617181920DataStream&lt;WordWithCount&gt; windowCounts = text.flatMap( new FlatMapFunction&lt;String, WordWithCount&gt;() &#123; @Override public void flatMap( String value, Collector&lt;WordWithCount&gt; out) &#123; for (String word : value.split(&quot;\\\\s&quot;)) &#123; out.collect(new WordWithCount(word, 1L)); &#125; &#125; &#125;) .keyBy(value -&gt; value.word) .window(TumblingProcessingTimeWindows.of(Time.seconds(5))) .reduce( new ReduceFunction&lt;WordWithCount&gt;() &#123; @Override public WordWithCount reduce(WordWithCount a, WordWithCount b) &#123; return new WordWithCount(a.word, a.count + b.count); &#125; &#125;); å¼‚æ­¥æ•°æ®æºé¦–å…ˆæå‡ºä¸€ä¸ªèƒŒæ™¯ï¼Œæœ‰ä¸€æ¡æ¥è‡ªKafkaçš„æ•°æ®ï¼Œç”±äºæŸäº›åŸå› ï¼Œè¯¥æ•°æ®ä¸­æš‚æ—¶ä¸åŒ…å«å®Œæ•´çš„å­—æ®µï¼Œå½“æˆ‘ä»¬ä½¿ç”¨Flinkä»Kafkaè¯»å–æ•°æ®ä»¥åï¼Œè¿˜éœ€è¦æŸ¥è¯¢Mysqlè¡¥å…¨å…¶å­—æ®µï¼Œæ­¤åæ‰èƒ½ä½¿ç”¨Flinkåšæ¥ä¸‹æ¥çš„æ“ä½œã€‚ å¦‚æœè‡ªå®šä¹‰æ•°æ®æºï¼Œä»Kafkaæ¶ˆè´¹æ•°æ®ï¼Œç„¶åæŸ¥è¯¢Mysqlï¼Œæœ€åè¾“å‡ºï¼Œè¿™å…¶ä¸­å…¶å®æ¶‰åŠåˆ°å¾ˆå¤šé—®é¢˜ï¼Œä¸€ä¸ªæœ€ç®€å•çš„æƒ³æ³•æ˜¯ä»Kafkaå•çº¿ç¨‹æ¶ˆè´¹æ•°æ®ï¼Œç„¶åé˜»å¡ä½ï¼Œå»æŸ¥è¯¢Mysqlã€‚ 1234567891011sequenceDiagram rect rgb(0, 0, 255, .1) loop DataStream -&gt;&gt; + Kafka : æ‹‰å–æ•°æ® Kafka --) - DataStream : è¿”å›æ•°æ® DataStream -&gt;&gt; + Mysql : æŸ¥è¯¢æœªçŸ¥å­—æ®µ Mysql --) - DataStream : è¿”å›æœªçŸ¥å­—æ®µ DataStream -&gt;&gt; + out : äº§ç”Ÿä¸€æ¡æ•°æ® out --) - DataStream : æ•°æ®ç”Ÿäº§æˆåŠŸ end end è¿™æ ·åšæ— å¯åšéï¼Œä½†æ˜¯æ•ˆç‡å ªå¿§ï¼ŒKafkaæ‹‰å–æ•°æ®è¦å¿«äºMysqlï¼Œæ‰€ä»¥è¡¥å…¨å­—æ®µä»¥åŠè¾“å‡ºç»“æœå¯ä»¥å¼‚æ­¥å®Œæˆï¼ŒåŸºäºç¬¬äºŒä¸ªç‚¹ï¼Œå¼•å…¥äº†RichAsyncFunctionã€‚ 12345678910sequenceDiagram rect rgb(0, 0, 255, .1) loop DataStream -&gt;&gt; + Kafka : æ‹‰å–æ•°æ® Kafka --) - DataStream : è¿”å›æ•°æ® DataStream -) + çº¿ç¨‹æ±  : åç»­å·¥ä½œå§”æ‰˜ç»™çº¿ç¨‹æ±  end end çº¿ç¨‹æ±  -&gt;&gt; - çº¿ç¨‹æ±  : å®Œæˆå‰©ä¸‹çš„å·¥ä½œ å½“ç„¶RichAsyncFunctionåšçš„å·¥ä½œä¸ä»…ä»…æ˜¯è¿™äº›ï¼Œå®é™…ä¸Šå¤„ç†æµç¨‹ä¹Ÿæ¯”è¿™ä¸ªå¤æ‚å¾ˆå¤šï¼Œè¿™é‡Œä»ä¸­æŒ‘å‡ ä¸ªå‡ºæ¥èŠä¸€èŠã€‚ é¦–å…ˆæ˜¯é¡ºåºé—®é¢˜ï¼Œç”±äºåç»­å·¥ä½œå§”æ‰˜ç»™äº†çº¿ç¨‹æ± ï¼Œçº¿ç¨‹æ± å†…éƒ¨å½“ç„¶å¯ä»¥å¹¶å‘æ‰§è¡Œï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æ²¡åŠæ³•ä¿è¯æœ‰å“ªäº›æ•°æ®å…ˆå¤„ç†å®Œæ¯•ï¼ŒAsync I/O ç»™å‡ºçš„ç¬¬ä¸€ä¸ªè§£å†³æ–¹æ¡ˆæ˜¯é€šè¿‡é˜Ÿåˆ—ä¿è¯é¡ºåºï¼Œå“ªä¸ªä»»åŠ¡å…ˆæ‰§è¡Œå®Œæˆ‘ä¸ç®¡ï¼Œæœ€ç»ˆæŒ‰å…¥é˜Ÿé¡ºåºå–ç»“æœï¼›ç¬¬äºŒä¸ªè§£å†³æ–¹æ¡ˆæ˜¯å®Œå…¨ä¸ç†ä¼šé¡ºåºï¼Œè°å…ˆæ‰§è¡Œå®Œå°±å–å‡ºè°çš„ç»“æœï¼›ç¬¬ä¸‰ä¸ªè§£å†³æ–¹æ¡ˆæ˜¯å…³æ³¨watermarkï¼Œå¯¹äºå½“å‰watermarkä¸‹çš„æ•°æ®ï¼Œæ‰§è¡Œå®Œå°±ç›´æ¥å–å‡ºç»“æœï¼Œå¯¹äºä¸‹ä¸€ä¸ªwatermarkçš„æ•°æ®ï¼Œå°†å…¶ç¼“å­˜ï¼Œç›´åˆ°ä»–çš„watermarkæŠµè¾¾ã€‚è¯»è€…å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°æ›´åŠ è¯¦ç»†çš„è¿‡ç¨‹http://wuchong.me/blog/2017/05/17/flink-internals-async-io/ GPUè®¡ç®—MatrixVectorMulæ˜¯ä¸€ä¸ªGPUè®¡ç®—ä¾‹å­ï¼Œå…¶ä¸­ä¸»è¦çš„å†…å®¹åœ¨Multiplierä¸­ã€‚è¿™é‡Œ ä¸åšè¿‡å¤šä»‹ç»ã€‚ Iteratoræ¨¡å‹è¯•æƒ³ï¼Œå¦‚æœæœ‰ä¸€äº›å…ƒç´ éœ€è¦è¿›è¡Œè¿­ä»£è®¡ç®—ï¼Œæ¯”å¦‚è¯´æˆ‘ä»¬è®¡ç®—ä¸¤ä¸ªå…ƒç´ è¿›è¡Œæ–æ³¢æ‹‰å¥‘æ•°åˆ—çš„ç¬¬né¡¹ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥å†™ä¸€ä¸ªé€’å½’ï¼Ÿ 123int fib(int a,int b,int n)&#123; return n&lt;=0 ? b : fib(b,a+b,n-1);&#125; å¦‚æœæŸäº›ç®—å­ä¹Ÿéœ€è¦è¿›è¡Œè¿™äº›æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ProcessFunction, ä¸‹é¢è¿™ä¸ªä»£ç å’Œä¸Šé¢çš„ä»£ç çš„æ€æƒ³å¼‚æ›²åŒå·¥ã€‚ 123456789101112131415@Overridepublic void processElement( Tuple5&lt;Integer, Integer, Integer, Integer, Integer&gt; value, Context ctx, Collector&lt;Tuple5&lt;Integer, Integer, Integer, Integer, Integer&gt;&gt; out) throws Exception &#123; Tuple5&lt;Integer, Integer, Integer, Integer, Integer&gt; element = new Tuple5&lt;&gt;(value.f0, value.f1, value.f3, value.f2 + value.f3, ++value.f4); if (value.f2 &lt; BOUND &amp;&amp; value.f3 &lt; BOUND) &#123; ctx.output(ITERATE_TAG, element); &#125; else &#123; out.collect(element); &#125;&#125; WindowJoinæ¨¡å‹å‚è€ƒSQLè¯­æ³•ä¸­çš„Joinæ“ä½œï¼Œä¸¤ä¸ªstreamå°†æŒ‰ç…§æŒ‡å®šçš„keyè¿›è¡Œèšåˆã€‚ 1234567891011121314151617181920212223public static DataStream&lt;Tuple3&lt;String, Integer, Integer&gt;&gt; runWindowJoin( DataStream&lt;Tuple2&lt;String, Integer&gt;&gt; grades, DataStream&lt;Tuple2&lt;String, Integer&gt;&gt; salaries, long windowSize) &#123; return grades.join(salaries) .where(new NameKeySelector()) .equalTo(new NameKeySelector()) .window(TumblingEventTimeWindows.of(Time.milliseconds(windowSize))) .apply( new JoinFunction&lt; Tuple2&lt;String, Integer&gt;, Tuple2&lt;String, Integer&gt;, Tuple3&lt;String, Integer, Integer&gt;&gt;() &#123; @Override public Tuple3&lt;String, Integer, Integer&gt; join( Tuple2&lt;String, Integer&gt; first, Tuple2&lt;String, Integer&gt; second) &#123; return new Tuple3&lt;String, Integer, Integer&gt;( first.f0, first.f1, second.f1); &#125; &#125;);&#125;","categories":[{"name":"å¤§æ•°æ®","slug":"å¤§æ•°æ®","permalink":"http://fightinggg.github.io/indigo/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/"}],"tags":[]},{"title":"Kafka-Docker","slug":"é˜Ÿåˆ—/Kafka/Kafka-Docker/index","date":"2021-05-28T08:17:00.000Z","updated":"2021-05-28T08:17:00.000Z","comments":true,"path":"QTT5OC.html","link":"","permalink":"http://fightinggg.github.io/indigo/QTT5OC.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Install Kafkastep 1. launch zookeeper in background12345docker run -d \\-p 2181:2181 \\--name zookeeper \\-m 100M --memory-swap 100M --cpus 0.1 \\zookeeper step 2. launch kafka12345678910docker run -it --rm \\--link zookeeper:zookeeper \\--name=kafka \\-p 9092:9092 \\-m 200M --memory-swap=1024M \\1144560553/kafka:test \\bin/kafka-server-start.sh config/server.properties \\--override zookeeper.connect=zookeeper:2181 \\--override listeners=PLAINTEXT://0.0.0.0:9092 \\--override advertised.listeners=PLAINTEXT://localhost:9092 Project In Githubhttps://github.com/fightinggg/kafka-docker Project In Dockerhub","categories":[{"name":"é˜Ÿåˆ—","slug":"é˜Ÿåˆ—","permalink":"http://fightinggg.github.io/indigo/categories/%E9%98%9F%E5%88%97/"},{"name":"Kafka","slug":"é˜Ÿåˆ—/Kafka","permalink":"http://fightinggg.github.io/indigo/categories/%E9%98%9F%E5%88%97/Kafka/"}],"tags":[]},{"title":"å‘å¸ƒMavenäºŒæ–¹åŒ…åˆ°Githubä»“åº“","slug":"Language/Java/Maven/å‘å¸ƒMavenäºŒæ–¹åŒ…åˆ°Githubä»“åº“/index","date":"2021-05-22T09:38:00.000Z","updated":"2021-05-22T09:38:00.000Z","comments":true,"path":"QTI5FC.html","link":"","permalink":"http://fightinggg.github.io/indigo/QTI5FC.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ä½¿ç”¨Github Packages Repositoryè¿™é‡Œä¸»è¦ä»‹ç»Github packagesæ­å»ºç§æœï¼Œè¿™ç§æ–¹æ¡ˆä¸Šä¼ å’Œä¸‹è½½éƒ½éœ€è¦ä½¿ç”¨token æ­¥éª¤1è®¿é—®åœ°å€ ,ç‚¹å‡»Generate new token åˆ›å»ºæ–°çš„tokenï¼Œé€‰æ‹©æƒé™ write:packages","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ä½¿ç”¨Github Packages Repositoryè¿™é‡Œä¸»è¦ä»‹ç»Github packagesæ­å»ºç§æœï¼Œè¿™ç§æ–¹æ¡ˆä¸Šä¼ å’Œä¸‹è½½éƒ½éœ€è¦ä½¿ç”¨token æ­¥éª¤1è®¿é—®åœ°å€ ,ç‚¹å‡»Generate new token åˆ›å»ºæ–°çš„tokenï¼Œé€‰æ‹©æƒé™ write:packages æ­¥éª¤2é…ç½®settings.xml ,æ·»åŠ é…ç½®, ä¿®æ”¹ç”¨æˆ·åå’Œpassword(è¿™é‡Œå†™token) 1234567&lt;servers&gt; &lt;server&gt; &lt;id&gt;github&lt;/id&gt; &lt;username&gt;fightinggg&lt;/username&gt; &lt;password&gt;TOKEN&lt;/password&gt; &lt;/server&gt;&lt;/servers&gt; æ­¥éª¤3å¢åŠ é¡¹ç›®ä¸­çš„ä¸­å¤®ä»“åº“, æ³¨æ„ä¿®æ”¹url 1234567&lt;distributionManagement&gt; &lt;repository&gt; &lt;id&gt;github&lt;/id&gt; &lt;name&gt;GitHub fightinggg Apache Maven Packages&lt;/name&gt; &lt;url&gt;https://maven.pkg.github.com/fightinggg/maven-repository&lt;/url&gt; &lt;/repository&gt;&lt;/distributionManagement&gt; æ­¥éª¤4å¢åŠ é¡¹ç›®çš„é…ç½®ï¼Œé€‰æ‹©github 123&lt;properties&gt; &lt;github.global.server&gt;github&lt;/github.global.server&gt;&lt;/properties&gt; æ­¥éª¤51mvn clean deploy ä½¿ç”¨Github Pageæ­¥éª¤1åœ¨githubåˆ›å»ºä¸€ä¸ªä»“åº“ï¼Œæ¯”å¦‚æˆ‘è¿™é‡Œåˆ›å»ºçš„æ˜¯è¿™ä¸ª æ­¥éª¤2é…ç½®settings.xmlä¸­çš„å¯†ç , ç»†èŠ‚å‚è§ç¬¬ä¸€ç§æ–¹æ³•ï¼Œæ³¨æ„è¿™é‡Œçš„TOKENè¦é€‰æ‹©å…¨éƒ¨æƒé™ï¼Œè€Œä¸ä»…ä»…æ˜¯write:packages 1234567&lt;servers&gt; &lt;server&gt; &lt;id&gt;github&lt;/id&gt; &lt;username&gt;fightinggg&lt;/username&gt; &lt;password&gt;TOKEN&lt;/password&gt; &lt;/server&gt;&lt;/servers&gt; æ­¥éª¤3å¢åŠ pom.xmlçš„é…ç½®å’Œbuildæ’ä»¶ 12345678910111213141516171819202122232425262728293031323334353637383940414243&lt;properties&gt; &lt;github.global.server&gt;github&lt;/github.global.server&gt; &lt;java.version&gt;8&lt;/java.version&gt; &lt;/properties&gt; &lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt; &lt;version&gt;2.8.1&lt;/version&gt; &lt;configuration&gt; &lt;altDeploymentRepository&gt;internal.repo::default::file://$&#123;project.build.directory&#125;/mvn-repo &lt;/altDeploymentRepository&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;plugin&gt; &lt;groupId&gt;com.github.github&lt;/groupId&gt; &lt;artifactId&gt;site-maven-plugin&lt;/artifactId&gt; &lt;version&gt;0.12&lt;/version&gt; &lt;configuration&gt; &lt;message&gt;Maven artifacts for $&#123;project.version&#125;&lt;/message&gt; &lt;noJekyll&gt;true&lt;/noJekyll&gt; &lt;outputDirectory&gt;$&#123;project.build.directory&#125;/mvn-repo&lt;/outputDirectory&gt; &lt;branch&gt;refs/heads/$&#123;project.groupId&#125;-$&#123;project.artifactId&#125;-$&#123;project.version&#125;&lt;/branch&gt; &lt;includes&gt; &lt;include&gt;**/*&lt;/include&gt; &lt;/includes&gt; &lt;repositoryName&gt;maven-repository&lt;/repositoryName&gt; &lt;!-- å¯¹åº”githubä¸Šåˆ›å»ºçš„ä»“åº“åç§° name --&gt; &lt;repositoryOwner&gt;fightinggg&lt;/repositoryOwner&gt; &lt;!-- github ä»“åº“æ‰€æœ‰è€… --&gt; &lt;/configuration&gt; &lt;executions&gt; &lt;execution&gt; &lt;goals&gt; &lt;goal&gt;site&lt;/goal&gt; &lt;/goals&gt; &lt;phase&gt;deploy&lt;/phase&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; æ­¥éª¤41mvn deploy ä½¿ç”¨12345678910&lt;repositories&gt; &lt;repository&gt; &lt;id&gt;maven-repo-master&lt;/id&gt; &lt;url&gt;https://github.com/fightinggg/maven-repository/raw/com.oj.polinoj-sandbox-open-api-0.0.1-SNAPSHOT/&lt;/url&gt; &lt;snapshots&gt; &lt;enabled&gt;true&lt;/enabled&gt; &lt;updatePolicy&gt;always&lt;/updatePolicy&gt; &lt;/snapshots&gt; &lt;/repository&gt;&lt;/repositories&gt; å‚è€ƒhttps://docs.github.com/en/packages/working-with-a-github-packages-registry/working-with-the-apache-maven-registry https://blog.csdn.net/hwangfantasy/article/details/69389766","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"Maven","slug":"Language/Java/Maven","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/Maven/"}],"tags":[]},{"title":"ç¬¬44å±ŠICPCäºšæ´²èµ›åŒºå—äº¬ç«™","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ¯”èµ›/ç¬¬44å±ŠICPCäºšæ´²èµ›åŒºå—äº¬ç«™/index","date":"2021-05-10T15:00:00.000Z","updated":"2021-05-10T15:00:00.000Z","comments":true,"path":"QSWCC0.html","link":"","permalink":"http://fightinggg.github.io/indigo/QSWCC0.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ¯”èµ›é“¾æ¥https://www.jisuanke.com/contest/20871/challenges","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"æ¯”èµ›","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ¯”èµ›","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/%E6%AF%94%E8%B5%9B/"}],"tags":[]},{"title":"ç¬¬44å±ŠICPCäºšæ´²èµ›åŒºé“¶å·ç«™","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ¯”èµ›/ç¬¬44å±ŠICPCäºšæ´²èµ›åŒºé“¶å·ç«™/index","date":"2021-05-09T15:00:00.000Z","updated":"2021-05-09T15:00:00.000Z","comments":true,"path":"QSUHO0.html","link":"","permalink":"http://fightinggg.github.io/indigo/QSUHO0.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ¯”èµ›é“¾æ¥https://www.jisuanke.com/contest/20844 B. So Easy1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283#include&lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;typedef vector&lt;int&gt; v1;const int bit = 30;const int maxn = 1e5 + 5;v1 tree[maxn], kdisSon[maxn];int value[maxn], stk[maxn];unsigned long long dp[maxn], ans[maxn];int state[maxn][4];void dfs1(int cur, int k, int dep) &#123; stk[dep] = cur; if (dep - k &gt;= 0) &#123; kdisSon[stk[dep - k]].push_back(cur); &#125; for (int son:tree[cur]) &#123; dfs1(son, k, dep + 1); &#125;&#125;void dfs2(int cur, int j, int k) &#123; for (int t = 0; t &lt; 4; t++) &#123; state[cur][t] = 0; &#125; for (int son:tree[cur]) &#123; dfs2(son, j, k); for (int kson:kdisSon[son]) &#123; int msk1 = (value[kson] &amp; (1 &lt;&lt; j)) &gt;&gt; j; int msk2 = (value[kson] &amp; (1 &lt;&lt; k)) &gt;&gt; k; int t = msk1 &lt;&lt; 1 | msk2; state[cur][t]--; &#125; for (int t = 0; t &lt; 4; t++) &#123; state[cur][t] += state[son][t]; &#125; &#125; int msk1 = (value[cur] &amp; (1 &lt;&lt; j)) &gt;&gt; j; int msk2 = (value[cur] &amp; (1 &lt;&lt; k)) &gt;&gt; k; int t = msk1 &lt;&lt; 1 | msk2; state[cur][t]++; dp[cur] = 0; for (int t = 0; t &lt;= 1; t++) &#123; ll add = 1ll * state[cur][t ^ 3] * state[cur][t]; add &lt;&lt;= j + k; dp[cur] += add; &#125;&#125;int main() &#123; int n, k; scanf(&quot;%d%d&quot;, &amp;n, &amp;k); for (int i = 1; i &lt;= n; i++) &#123; scanf(&quot;%d&quot;, &amp;value[i]); &#125; for (int i = 2; i &lt;= n; i++) &#123; int fa; scanf(&quot;%d&quot;, &amp;fa); tree[fa].push_back(i); &#125; dfs1(1, k, 0); for (int i = 0; i &lt; bit; i++) &#123; dfs2(1, i, i); for (int cur = 1; cur &lt;= n; cur++) &#123; ans[cur] += dp[cur]; &#125; for (int j = i + 1; j &lt; bit; j++) &#123; dfs2(1, i, j); for (int cur = 1; cur &lt;= n; cur++) &#123; ans[cur] += dp[cur] * 2; &#125; &#125; &#125; for (int i = 1; i &lt;= n; i++) &#123; printf(&quot;%llu\\n&quot;, ans[i]); &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"æ¯”èµ›","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ¯”èµ›","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/%E6%AF%94%E8%B5%9B/"}],"tags":[]},{"title":"æ•°è®ºåˆ†å—","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦/æ•°è®ºåˆ†å—/index","date":"2021-05-09T12:38:00.000Z","updated":"2021-05-09T12:38:00.000Z","comments":true,"path":"QSUB3C.html","link":"","permalink":"http://fightinggg.github.io/indigo/QSUB3C.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial åˆ†å—å·²çŸ¥æŸå‡½æ•°$f(x)$å¯¹äº$x\\in[l,r]$ï¼Œæœ‰$f(x)$å…³äº$x$å•è°ƒï¼Œä¸”$f(x)$å€¼åŸŸè¿œå°äº$x$çš„å®šä¹‰åŸŸã€‚ ç°åœ¨è¦ä½ æ±‚$\\sum_{x&#x3D;1}^n g(x,f(x))$ é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æ ¹æ®$f(x)$å¯¹$g$è¿›è¡Œåˆ†å—ï¼Œåœ¨è¿™ä¸€å—ä¸­ï¼Œå§‹ç»ˆæœ‰å¸¸æ•°$y&#x3D;f(x)$ï¼Œç„¶åå¯¹$h(x)&#x3D;g(x,y)$ç»Ÿè®¡$x$çš„å‰ç¼€å’Œã€‚ æœ€ç»ˆæˆ‘ä»¬å°±èƒ½å¾ˆå¿«çš„è®¡ç®—ç­”æ¡ˆã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial åˆ†å—å·²çŸ¥æŸå‡½æ•°$f(x)$å¯¹äº$x\\in[l,r]$ï¼Œæœ‰$f(x)$å…³äº$x$å•è°ƒï¼Œä¸”$f(x)$å€¼åŸŸè¿œå°äº$x$çš„å®šä¹‰åŸŸã€‚ ç°åœ¨è¦ä½ æ±‚$\\sum_{x&#x3D;1}^n g(x,f(x))$ é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æ ¹æ®$f(x)$å¯¹$g$è¿›è¡Œåˆ†å—ï¼Œåœ¨è¿™ä¸€å—ä¸­ï¼Œå§‹ç»ˆæœ‰å¸¸æ•°$y&#x3D;f(x)$ï¼Œç„¶åå¯¹$h(x)&#x3D;g(x,y)$ç»Ÿè®¡$x$çš„å‰ç¼€å’Œã€‚ æœ€ç»ˆæˆ‘ä»¬å°±èƒ½å¾ˆå¿«çš„è®¡ç®—ç­”æ¡ˆã€‚ ç»†èŠ‚å¯¹äºåˆ†å—ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬æ— æ³•ç›´æ¥è®¡ç®—å—çš„èŒƒå›´ï¼Œéœ€è¦äºŒåˆ†ï¼Œæ¯”å¦‚è¿™é¢˜ https://nanti.jisuanke.com/t/42386 ä¸‹é¢å±•ç¤ºè¯¦ç»†çš„äºŒåˆ†åˆ†å—ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132333435int f(ll x) &#123; __int128 prod = x; int res = 0; while (prod * x &lt;= _n) &#123; prod *= x; res++; &#125; return res;&#125;// æ‰¾åˆ°æœ€å¤§çš„xï¼Œ ä½¿å¾—f(x)==f(l)ll calcEnd(ll l, ll r) &#123; while (l &lt; r) &#123; ll mid = (l + r + 1) / 2; // (l,r] if (f(l) == f(mid)) &#123; l = mid; &#125; else &#123; r = mid - 1; &#125; &#125; return l;&#125;// O(lgn * lgn * lgn)int solve(ll n) &#123; int ans = 0; for (ll l = 2, r; l &lt;= n; l = r + 1) &#123; r = calcEnd(l, n); int I = f(l);// printf(&quot;cal: %lld %lld %d \\n&quot;, l, r, I); int add = (sum(n % mod, I, r) - sum(n % mod, I, l - 1) + mod) % mod; ans = (ans + add) % mod; &#125; return ans;&#125; è¿‡é¢˜ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;const int maxn = 100;const int mod = 998244353;int qpow(int a, int b) &#123; int ret = 1; while (b) &#123; if (b &amp; 1) ret = 1ll * ret * a % mod; a = 1ll * a * a % mod; b &gt;&gt;= 1; &#125; return ret;&#125;// æ‹‰æ ¼æœ—æ—¥æ’å€¼æ³•int facinv[maxn] = &#123;1, 1&#125;;void facinv_ini() &#123; for (int i = 0, fac = 1; i &lt; maxn; ++i, fac = 1ll * fac * i % mod) &#123; facinv[i] = qpow(fac, mod - 2); &#125;&#125;int lagrange(int *y, int n, int x) &#123;// O(n) næ¬¡å¤šé¡¹å¼æœ‰n+1é¡¹ y[0]...y[n] -&gt; y[x] static int prepre[maxn], suf[maxn], *pre = prepre + 1; pre[-1] = suf[n + 1] = 1; for (int i = 0; i &lt;= n; ++i) pre[i] = 1ll * pre[i - 1] * (x - i + mod) % mod; for (int i = n; i &gt;= 0; i--) suf[i] = 1ll * suf[i + 1] * (i - x + mod) % mod; int b = 0; for (int i = 0; i &lt;= n; ++i) &#123; int up = 1ll * pre[i - 1] * suf[i + 1] % mod; int down = 1ll * facinv[i] * facinv[n - i] % mod; b = (b + 1ll * y[i] * up % mod * down) % mod; &#125; return b;&#125;// O(I)int sum(int n, int I, ll mx) &#123; static int f[100]; f[0] = 0; f[1] = (1ll * (n + 1) * (I + 1) % mod - (I + 1) + mod) % mod; for (int x = 2; x &lt;= I + 3; x++) &#123; int left = 1ll * (n + 1) * (I + 1) % mod * x % mod; int fenzi = (qpow(x, 2) - qpow(x, I + 3) + mod) % mod; int fenmu = (1 - x + mod) % mod; f[x] = (left - 1ll * fenzi * qpow(fenmu, mod - 2) % mod + mod) % mod; &#125; for (int x = 1; x &lt;= I + 3; x++) &#123; f[x] = (f[x - 1] + f[x]) % mod; &#125; return lagrange(f, I + 3, mx % mod);&#125;ll _n;int f(ll x) &#123; __int128 prod = x; int res = 0; while (prod * x &lt;= _n) &#123; prod *= x; res++; &#125; return res;&#125;// æ‰¾åˆ°æœ€å¤§çš„xï¼Œ ä½¿å¾—f(x)==f(l)ll calcEnd(ll l, ll r) &#123; while (l &lt; r) &#123; ll mid = (l + r + 1) / 2; // (l,r] if (f(l) == f(mid)) &#123; l = mid; &#125; else &#123; r = mid - 1; &#125; &#125; return l;&#125;// O(lgn * lgn * lgn)int solve(ll n) &#123; int ans = 0; for (ll l = 2, r; l &lt;= n; l = r + 1) &#123; r = calcEnd(l, n); int I = f(l);// printf(&quot;cal: %lld %lld %d \\n&quot;, l, r, I); int add = (sum(n % mod, I, r) - sum(n % mod, I, l - 1) + mod) % mod; ans = (ans + add) % mod; &#125; return ans;&#125;int main() &#123; facinv_ini(); ll n; while (cin &gt;&gt; n) &#123; _n = n; for (int i = 0; i &lt; 1e3; i++) &#123; solve(n); &#125; printf(&quot;%d\\n&quot;, solve(n)); &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ•°å­¦","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%95%B0%E5%AD%A6/"}],"tags":[]},{"title":"åæ¼”","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦/åæ¼”/index","date":"2021-05-08T11:53:00.000Z","updated":"2021-05-08T11:53:00.000Z","comments":true,"path":"QSSECC.html","link":"","permalink":"http://fightinggg.github.io/indigo/QSSECC.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è«æ¯”ä¹Œæ–¯åæ¼”ç‹„åˆ©å…‹é›·å·ç§¯$$\\begin{aligned}f(n)\\circ g(n)&#x3D;\\sum_{d|n} f(d)\\cdot g(\\frac{n}{d})\\end{aligned}$$ è«æ¯”ä¹Œæ–¯å‡½æ•°$$f(n)&#x3D;\\begin{cases}1 &amp;n&#x3D;1\\(-1)^k &amp;n&#x3D;p_1\\cdot p_2\\cdot \\cdot \\cdot p_k\\0 &amp;p^k|n , k&gt;1\\end{cases}$$ åæ¼”è‹¥$F(n)&#x3D;\\sum_{d|n} f(d)$ åˆ™$f(n)&#x3D;\\sum_{d|n}\\mu(d)F(\\frac{n}{d})$ äºŒé¡¹å¼åæ¼”$$f_n &#x3D; \\sum_{i&#x3D;0}^n (-1)^i {n \\choose i} g_i\\Leftrightarrowg_n &#x3D; \\sum_{i&#x3D;0}^n (-1)^i {n \\choose i} f_i$$","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ•°å­¦","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%95%B0%E5%AD%A6/"}],"tags":[]},{"title":"ç”Ÿæˆå‡½æ•°ä¸å½¢å¼å¹‚çº§æ•°","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦/ç”Ÿæˆå‡½æ•°ä¸å½¢å¼å¹‚çº§æ•°/index","date":"2021-05-08T05:11:00.000Z","updated":"2021-05-08T05:11:00.000Z","comments":true,"path":"QSRVQC.html","link":"","permalink":"http://fightinggg.github.io/indigo/QSRVQC.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å‰è¨€å…³äºç”Ÿæˆå‡½æ•°æœ‰å¾ˆå¤šæ¦‚å¿µæ¨¡ç³Šçš„åœ°æ–¹ï¼Œæ¯”å¦‚ç”Ÿæˆå‡½æ•°çš„ä¹˜æ³•æ˜¯æ€ä¹ˆå®šä¹‰çš„ï¼Œæ¯”å¦‚ä¹˜æ³•å¯ä»¥æ¢åºå—ï¼Ÿæ¯”å¦‚ä¸ºä»€ä¹ˆå¯ä»¥æŠŠå¤šé¡¹å¼å˜æˆå¯¹æ•°å‡½æ•°ï¼Ÿä¸ºä»€ä¹ˆåˆå¯ä»¥ä½¿ç”¨æ³°å‹’å±•å¼€ï¼Ÿ å‰ç½®çŸ¥è¯†ä»£æ•°ç³»ç»Ÿï¼Œç¾¤è®º ç¯ç¯æ˜¯ä¸€ä¸ªå…·æœ‰ä¸¤ä¸ªäºŒå…ƒè¿ç®—çš„ä»£æ•°ç³»ç»Ÿã€‚ç¯$\\lt R,+,\\circ\\gt$æ»¡è¶³ $\\lt R,+\\gt$æ„æˆäº¤æ¢ç¾¤ï¼Œ å³$+$æ»¡è¶³å°é—­æ€§ã€ç»“åˆå¾‹ã€å•ä½å…ƒã€é€†å…ƒã€äº¤æ¢å¾‹ $\\lt R,\\circ\\gt$æ„æˆåŠç¾¤ï¼Œ å³$\\cdot$æ»¡è¶³å°é—­æ€§ã€ç»“åˆå¾‹ã€å•ä½å…ƒ $\\circ$å¯¹$+$æœ‰åˆ†é…ç‡ï¼Œå³$a\\circ(b+c)&#x3D;a\\circ b+a\\circ c$","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å‰è¨€å…³äºç”Ÿæˆå‡½æ•°æœ‰å¾ˆå¤šæ¦‚å¿µæ¨¡ç³Šçš„åœ°æ–¹ï¼Œæ¯”å¦‚ç”Ÿæˆå‡½æ•°çš„ä¹˜æ³•æ˜¯æ€ä¹ˆå®šä¹‰çš„ï¼Œæ¯”å¦‚ä¹˜æ³•å¯ä»¥æ¢åºå—ï¼Ÿæ¯”å¦‚ä¸ºä»€ä¹ˆå¯ä»¥æŠŠå¤šé¡¹å¼å˜æˆå¯¹æ•°å‡½æ•°ï¼Ÿä¸ºä»€ä¹ˆåˆå¯ä»¥ä½¿ç”¨æ³°å‹’å±•å¼€ï¼Ÿ å‰ç½®çŸ¥è¯†ä»£æ•°ç³»ç»Ÿï¼Œç¾¤è®º ç¯ç¯æ˜¯ä¸€ä¸ªå…·æœ‰ä¸¤ä¸ªäºŒå…ƒè¿ç®—çš„ä»£æ•°ç³»ç»Ÿã€‚ç¯$\\lt R,+,\\circ\\gt$æ»¡è¶³ $\\lt R,+\\gt$æ„æˆäº¤æ¢ç¾¤ï¼Œ å³$+$æ»¡è¶³å°é—­æ€§ã€ç»“åˆå¾‹ã€å•ä½å…ƒã€é€†å…ƒã€äº¤æ¢å¾‹ $\\lt R,\\circ\\gt$æ„æˆåŠç¾¤ï¼Œ å³$\\cdot$æ»¡è¶³å°é—­æ€§ã€ç»“åˆå¾‹ã€å•ä½å…ƒ $\\circ$å¯¹$+$æœ‰åˆ†é…ç‡ï¼Œå³$a\\circ(b+c)&#x3D;a\\circ b+a\\circ c$ äº¤æ¢ç¯å½“$\\circ$è¿ç®—æ»¡è¶³äº¤æ¢å¾‹æ—¶ï¼Œè¿™ä¸ªç¯æ„æˆäº†äº¤æ¢ç¯ã€‚ å¹‚çº§æ•°æ¯ä¸€é¡¹ä¸­éƒ½åŒ…å«æœªçŸ¥é‡$x$çš„æ— ç©·çº§æ•°ï¼Œæ˜¯æ•°å­¦åˆ†æé¢†åŸŸçš„æ¦‚å¿µï¼Œå¾€å¾€ç ”ç©¶ä»–çš„æé™ã€‚ å½¢å¼å¹‚çº§æ•°æ¯ä¸€é¡¹ä¸­éƒ½åŒ…å«æœªçŸ¥é‡$x$çš„æ— ç©·å¤šé¡¹å¼ï¼Œæ˜¯ç»„åˆæ•°å­¦é¢†åŸŸçš„æ¦‚å¿µï¼Œå¾€å¾€ç”¨å®ƒç ”ç©¶è®¡æ•°é—®é¢˜ã€‚ æ¦‚å¿µæ­å»ºç”±äºç¬”è€…å¹¶æœªæ‰¾åˆ°åˆé€‚çš„ç›¸å…³èµ„æ–™ï¼Œäºæ˜¯å‡†å¤‡è‡ªå·±æ­å»ºä¸€ä¸ªå½¢å¼å¹‚çº§æ•°ä½“ç³»ã€‚é¦–å…ˆæˆ‘ä»¬éœ€è¦å®šä¹‰ä»€ä¹ˆæ˜¯å½¢å¼å¹‚çº§æ•°ã€‚ æ•°è®ºå¹‚å‡½æ•°å½¢å¦‚$f(x)&#x3D;x^a ï¼Œ a\\in N^0$çš„å‡½æ•°ï¼Œ å³æŒ‡æ•°æ˜¯éè´Ÿæ•´æ•°çš„å¹‚å‡½æ•°ã€‚ æ•°è®ºå¤šé¡¹å¼å®šä¹‰æ•°è®ºå¤šé¡¹å¼æ˜¯å¤šä¸ªæ•°è®ºå¹‚å‡½æ•°çš„çº¿æ€§ç»„åˆçš„å’Œã€‚ æ— ç©·æ•°è®ºå¤šé¡¹å¼å®šä¹‰å®šä¹‰æœ‰æ— ç©·é¡¹çš„æ•°è®ºå¤šé¡¹å¼ä¸ºæ— ç©·æ•°è®ºå¤šé¡¹å¼ã€‚åé¢ä¸ºäº†ç®€ç§°ï¼Œä¹Ÿå†™ä½œæ— ç©·å¤šé¡¹å¼ã€‚ ä¸ºäº†æ–¹ä¾¿è¡¨ç¤ºæ— ç©·ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç´¯å’Œçš„å½¢å¼æ¥å®šä¹‰ä¸€ä¸ªæ— ç©·æ•°è®ºå¤šé¡¹å¼ï¼Œå³$$\\begin{aligned}f&#x3D;\\sum_{i&#x3D;0}^\\infty f_i\\cdot x^i\\end{aligned}$$å…¶ä¸­$f_i$æ˜¯ä¸€ä¸ªå…³äºiçš„å‡½æ•°ã€‚ å®šä¹‰æ‰€æœ‰æ— ç©·å¤šé¡¹å¼çš„é›†åˆä¸º$R$ æ— ç©·å¤šé¡¹å¼çš„$+$è¿ç®—$f$å’Œ$g$æ˜¯ä¸€ä¸ªæ— ç©·å¤šé¡¹å¼ï¼Œå®šä¹‰$\\begin{aligned}h&#x3D;f+g&#x3D;\\sum_{i&#x3D;0}^\\infty (f_i+g_i)\\cdot x^i\\end{aligned}$ å¾ˆæ˜æ˜¾$&lt;R,+\\gt$æ»¡è¶³å°é—­æ€§ã€ç»“åˆå¾‹ã€äº¤æ¢å¾‹ å•ä½å…ƒæ˜¯$\\begin{aligned}e&#x3D;\\sum_{i&#x3D;0}^\\infty e_i\\cdot x^i\\end{aligned}$æ»¡è¶³$\\forall i, e_i&#x3D;0$ï¼Œ $f$çš„é€†å…ƒæ˜¯$\\sum_{i&#x3D;0}^\\infty -f_i\\cdot x^i$ æ‰€ä»¥$\\lt R,+\\gt$æ„æˆäº¤æ¢ç¾¤ã€‚ æ— ç©·å¤šé¡¹å¼çš„$\\circ$è¿ç®—$f$å’Œ$g$æ˜¯ä¸€ä¸ªæ— ç©·å¤šé¡¹å¼ï¼Œå®šä¹‰$\\begin{aligned}h&#x3D;f\\circ g&#x3D;\\sum_{i&#x3D;0}^\\infty \\sum_{a&#x3D;0}^if_a\\cdot g_{i-a}\\cdot x^i\\end{aligned}$ å¾ˆæ˜æ˜¾$\\lt R,\\circ\\gt$æ»¡è¶³å°é—­æ€§ã€ç»“åˆå¾‹ æ‰€ä»¥$\\lt R,+\\gt$æ„æˆåŠç¾¤ã€‚ å•ä½å…ƒæ˜¯$\\begin{aligned}e&#x3D;\\sum_{i&#x3D;0}^\\infty e_i\\cdot x^i\\end{aligned}$æ»¡è¶³$e_i&#x3D;\\begin{cases}1, &amp; \\text{if $i$ is 0} \\0, &amp; \\text{if $i$ is not 0}\\end{cases}$ï¼Œ æ— ç©·å¤šé¡¹å¼ç¯æ»¡è¶³åˆ†é…ç‡(æ‡’å¾—è¯æ˜äº†)ï¼Œ$\\lt,+,\\circ\\gt$æ˜¯ç¯ æ³°å‹’è¡¨ç¤ºæ³•ï¼ˆæ ¸æ­¦å™¨ï¼‰æ ¹æ®æ— ç©·å¤šé¡¹å¼çš„å®šä¹‰ï¼Œåªè¦ç¡®å®šäº†å‡½æ•°$f_i$ï¼Œ æ— ç©·å¤šé¡¹å¼å°±å”¯ä¸€ç¡®å®šäº†ï¼Œå—åˆ°æ³°å‹’å±•å¼€çš„å¯å‘ï¼Œæˆ‘ä»¬ç»™å‡ºæ–°çš„è¡¨ç¤ºæ³•ï¼Œå‡½æ•°$F(x)$çš„ié˜¶å¯¼å‡½æ•°$F^{(i)}(x)$çš„åœ¨ç‚¹0å¤„çš„å€¼ï¼Œå¯ä»¥æ„æˆä¸€ä¸ªåºåˆ—ï¼Œæˆ‘ä»¬ä»¤$f_i&#x3D;\\frac{F^{(i)}(0)}{i!}$,æƒŠè®¶çš„å‘ç°æˆ‘ä»¬å¯ä»¥é€šè¿‡ç»™å®šå‡½æ•°$F$ç¡®å®šä¸€ä¸ªæ— ç©·å¤šé¡¹å¼$f$ã€‚ æ¨è®º1æ³°å‹’è¡¨ç¤ºæ³•$F$å’Œ$G$çš„å’Œå°±æ˜¯$f+g$, è¯æ˜è¿‡ç¨‹å¾ˆç®€å• å¦‚æœ$H&#x3D;F+G$ ï¼Œåˆ™$H^{(i)}(0)&#x3D;F^{(i)}(0)+G^{(i)}(0)$, å³$h_i&#x3D;f_i+g_i$ æ¨è®º2æ³°å‹’è¡¨ç¤ºæ³•$F$å’Œ$G$çš„ç§¯å°±æ˜¯$f\\circ g$, è¯æ˜è¿‡ç¨‹å¾ˆç®€å• å¦‚æœ$H&#x3D;F\\cdot G$, åˆ™$H^{(i)}(0)&#x3D;\\sum_{j&#x3D;0}^i C_j^i\\cdot F^{(j)}(0)\\cdot G^{(i-j)}(0)$, å³$h_i&#x3D;\\sum_{j&#x3D;0}^i f_j\\cdot g_{i-j}$,è¿™ä¸$\\circ$è¿ç®—çš„å®šä¹‰å®Œå…¨ä¸€æ ·ã€‚ æ€»ç»“æˆ‘ä»¬ç›´æ¥å°†æ‰€æœ‰æ— ç©·å¤šé¡¹å¼æ›¿æ¢ä¸ºæ³°å‹’è¡¨ç¤ºæ³•ï¼Œç„¶åä¹˜èµ·æ¥ï¼Œæœ€åä½¿ç”¨æ³°å‹’å±•å¼€è¿›è¡Œè¿˜åŸï¼Œä¸ä¼šå¯¹æœ€ç»ˆç­”æ¡ˆäº§ç”Ÿå½±å“ã€‚ ç”Ÿæˆå‡½æ•°æ™®é€šå‹ç”Ÿæˆå‡½æ•°nä¸ªæ²¡æœ‰æ ‡å·çš„çƒï¼Œä½ è¦æŠŠå®ƒä»¬åˆ†æˆmä¸ªæœ‰æ ‡å·çš„ç›’å­é‡Œé¢ï¼Œç›’å­å…è®¸ç©º $f&#x3D;1+x+x^2+x^3+â€¦$ ç„¶å$f^n$çš„næ¬¡é¡¹ç³»æ•°å°±æ˜¯ç­”æ¡ˆã€‚ å…ˆè½¬ä¸ºæ³°å‹’è¡¨ç¤ºæ³•$F&#x3D;\\frac{1}{1-x}$ï¼Œ ç„¶ååšå¹‚ï¼Œ$F^m&#x3D;(1-x)^{-m}$, æœ€åæ³°å‹’å±•å¼€,å¾—åˆ°næ¬¡é¡¹ç³»æ•°ä¸º$C_{m+n-1}^{m-1}$ ä¸€ä¸ªé‡è¦çš„ç»“è®º$$C_{-a}^b &#x3D; (-1)^b C_{a+b-1}^b$$","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ•°å­¦","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%95%B0%E5%AD%A6/"}],"tags":[]},{"title":"2020ç‰›å®¢æš‘æœŸå¤šæ ¡è®­ç»ƒè¥ç¬¬ä¸ƒåœº","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ¯”èµ›/2020ç‰›å®¢æš‘æœŸå¤šæ ¡è®­ç»ƒè¥ç¬¬ä¸ƒåœº/index","date":"2021-05-07T15:00:00.000Z","updated":"2021-05-07T15:00:00.000Z","comments":true,"path":"QSQSC0.html","link":"","permalink":"http://fightinggg.github.io/indigo/QSQSC0.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ¯”èµ›é“¾æ¥https://ac.nowcoder.com/acm/contest/16151?&amp;headNav=www D. Fake Newsé¢˜æ„è¾“å…¥ä¸€ä¸ªæ•°$n$ï¼Œé—®ä½ $\\begin{aligned}\\sum_{i&#x3D;1}^n i^2\\end{aligned}$ æ˜¯ä¸æ˜¯ä¸€ä¸ªå®Œå…¨å¹³æ–¹æ•°ã€‚ æ•°æ®èŒƒå›´$10^6$ç»„è¾“å…¥ $n\\lt 10^{15}$ é¢˜è§£å‰ç¼€å’Œä¸º$\\frac{n\\cdot(n+1)\\cdot(2n+1)}{6}$, ç”±äº$n$ï¼Œ$n+1$ï¼Œ$2n+1$ä¸¤ä¸¤äº’è´¨ï¼Œæ‰€ä»¥ä»–ä»¬æ’é™¤æ‰$2$å’Œ$3$è¿™ä¸¤ä¸ªå› å­ä»¥åæ˜¯å®Œå…¨å¹³æ–¹æ•°ã€‚ç›´æ¥éªŒè¯è¿™ä¸ªå°±å¯ä»¥äº†ã€‚ H. Dividingé¢˜æ„ (1,k)åˆæ³• å¦‚æœ(n,k)åˆæ³•ï¼Œåˆ™(n+k,k)åˆæ³• å¦‚æœ(n,k)åˆæ³•ï¼Œåˆ™(nk,k)åˆæ³• è¾“å…¥$N$,$K$, é—®ä½ æœ‰å¤šå°‘ç»„$1\\le n\\le N,1\\le k\\le K$åˆæ³•ã€‚ é¢˜è§£æ˜¾ç„¶æ¯ä¸ª$k$éƒ½æ˜¯ç‹¬ç«‹çš„ã€‚ è€ƒè™‘nçš„kè¿›åˆ¶ï¼Œå¾ˆå®¹æ˜“å‘ç°ç¬¬ä¸€å¥è¯è¯´çš„æ˜¯$1$åˆæ³•ï¼Œç¬¬äºŒå¥è¯è¯´çš„æ˜¯åˆæ³•çš„æ•°åŠ ä¸Š$10$åˆæ³•ï¼Œç¬¬ä¸‰å¥è¯è¯´çš„æ˜¯åˆæ³•çš„æ•°å·¦ç§»ä¸€ä½åˆæ³•ã€‚ æ‰€ä»¥å¾ˆå®¹æ˜“å‘ç°ï¼Œåªè¦æœ€ä½ä½ä¸º0æˆ–è€…1ï¼Œå°±æ˜¯åˆæ³•çš„ã€‚ ç„¶åå°±æ˜¯ä¸€ä¸ªåˆ†å—çš„æ¨¡ç‰ˆé¢˜äº†ã€‚è®¡ç®—$\\begin{aligned}\\sum_{i&#x3D;1}^K \\sum_{j&#x3D;1}^N [j\\mod i\\le 1]\\end{aligned}$ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748#include &lt;bits/stdc++.h&gt;using namespace std;#define ll long longconst int mod = 1e9 + 7;// [0,n] sum n/ill cal(ll k, ll n) &#123; ll ans = 0, pos; // i=1, min(n,k) for (ll i = 1; i &lt;= min(n, k); i = pos + 1) &#123; pos = n / (n / i); pos = min(pos, min(n , k)); //doing something ans += (pos - (i - 1)) * (n / i); ans %= mod; &#125; // i=min(n,k)+1 , k return ans;&#125;ll cal2(ll k, ll n) &#123; if(k == 1) &#123; return 0; &#125; ll ans = 0, pos; for (ll i = 2; i &lt;= min(n - 1, k); i = pos + 1) &#123; pos = (n - 1) / ((n - 1) / i); pos = min(pos, min(n - 1, k)); //doing something ans += (pos - (i - 1)) * ((n - 1) / i); ans %= mod; &#125; ans += k-1; return ans % mod;&#125;int main() &#123; ll n, k; scanf(&quot;%lld %lld&quot;, &amp;n, &amp;k); // cout &lt;&lt; cal(k, n) &lt;&lt; &quot; &quot; &lt;&lt; cal2(k, n) &lt;&lt; endl; ll ans = (cal(k, n) + cal2(k, n)); printf(&quot;%lld&quot;, ans % mod);&#125; B. Mask Allocationé¢˜æ„ç»™ä½ $n\\times m$ä¸ªå£ç½©ï¼Œä½ å¯ä»¥å¯¹å£ç½©è¿›è¡Œåˆ†ç»„ï¼Œè¦æ±‚åˆ†ç»„åå¯ä»¥åœ¨ä¸æ‹†å¼€ç»„çš„æƒ…å†µä¸‹ï¼Œåˆ†é…ç»™nä¸ªåŒ»é™¢ã€‚æ¯ä¸ªåŒ»é™¢mä¸ªå£ç½©ï¼Œä¹Ÿå¯ä»¥åˆ†é…ç»™mä¸ªåŒ»é™¢ï¼Œæ¯ä¸ªåŒ»é™¢nä¸ªå£ç½©ã€‚ æ•°æ®èŒƒå›´$100$ç»„è¾“å…¥ $1\\le n,m \\le 10^4$ é¢˜è§£ä¸å¦¨è€ƒè™‘$n&lt;m$, é‚£ä¹ˆæˆ‘ä»¬ç›´æ¥åˆ†å‡ºnä¸ªnï¼Œé‚£ä¹ˆåé¢å‰©ä½™$n\\times m-n\\times n$ä¸ªå£ç½©ï¼Œè¦æ±‚å¯ä»¥åˆ†æˆ$m-n$ä¸ªnï¼Œä»¥åŠnä¸ª$m-n$ï¼Œæ³¨æ„åˆ°å‡ºç°äº†å­é—®é¢˜ã€‚æ‰€ä»¥é€’å½’è§£å†³ã€‚","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"æ¯”èµ›","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ¯”èµ›","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/%E6%AF%94%E8%B5%9B/"}],"tags":[]},{"title":"2020CCPCé•¿æ˜¥ç«™","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ¯”èµ›/2020CCPCé•¿æ˜¥ç«™/index","date":"2021-05-06T15:00:10.000Z","updated":"2021-05-06T15:00:10.000Z","comments":true,"path":"QSOXOA.html","link":"","permalink":"http://fightinggg.github.io/indigo/QSOXOA.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ¯”èµ›é“¾æ¥http://codeforces.com/gym/102832 A. Kryptoné¢˜æ„å……æ¸¸æˆå¸ï¼Œé¦–å……å¯ä»¥è·å¾—ä¼˜æƒ ï¼Œä¹‹åå……å€¼å°±æ²¡æœ‰ä¼˜æƒ äº†ï¼Œé—®ä½ xå…ƒæœ€å¤šèƒ½æ‹¿åˆ°å¤šå°‘æ¸¸æˆå¸ã€‚$$\\begin{array}{|c|c|c|}\\hline\\text{Price (RMB yuan)}&amp; \\text{Normal amount (coupons)}&amp; \\text{First recharge reward (coupons)}\\ \\hline 1 &amp; 10 &amp; 8\\ \\hline 6 &amp; 60 &amp; 18\\ \\hline 28 &amp; 280 &amp; 28\\ \\hline 88 &amp; 880 &amp; 58\\ \\hline 198 &amp; 1980 &amp; 128\\ \\hline 328 &amp; 3280 &amp; 198\\ \\hline 648 &amp; 6480 &amp; 388\\ \\hline\\end{array}$$","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ¯”èµ›é“¾æ¥http://codeforces.com/gym/102832 A. Kryptoné¢˜æ„å……æ¸¸æˆå¸ï¼Œé¦–å……å¯ä»¥è·å¾—ä¼˜æƒ ï¼Œä¹‹åå……å€¼å°±æ²¡æœ‰ä¼˜æƒ äº†ï¼Œé—®ä½ xå…ƒæœ€å¤šèƒ½æ‹¿åˆ°å¤šå°‘æ¸¸æˆå¸ã€‚$$\\begin{array}{|c|c|c|}\\hline\\text{Price (RMB yuan)}&amp; \\text{Normal amount (coupons)}&amp; \\text{First recharge reward (coupons)}\\ \\hline 1 &amp; 10 &amp; 8\\ \\hline 6 &amp; 60 &amp; 18\\ \\hline 28 &amp; 280 &amp; 28\\ \\hline 88 &amp; 880 &amp; 58\\ \\hline 198 &amp; 1980 &amp; 128\\ \\hline 328 &amp; 3280 &amp; 198\\ \\hline 648 &amp; 6480 &amp; 388\\ \\hline\\end{array}$$ é¢˜è§£åªè€ƒè™‘é¦–å……ï¼Œè¿™ä¸ªé¢˜ç›®æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ª01èƒŒåŒ…ï¼Œè€ƒè™‘å…¶ä»–å……å€¼ï¼Œæ˜¯ä¸€ä¸ªå®Œå…¨èƒŒåŒ…ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;ll f[10][2100];int main() &#123; ll n; scanf(&quot;%lld&quot;, &amp;n); vector&lt;pair&lt;ll , ll &gt;&gt; packags; packags.push_back(make_pair(1, 18)); packags.push_back(make_pair(6, 78)); packags.push_back(make_pair(28, 308)); packags.push_back(make_pair(88, 938)); packags.push_back(make_pair(198, 2108)); packags.push_back(make_pair(328, 3478)); packags.push_back(make_pair(648, 6868)); for (ll i = 0; i &lt; packags.size(); ++i) &#123; for (ll j = 0; j &lt;= n; ++j) &#123; ll v = packags[i].first, w = packags[i].second; if (j &gt;= v &amp;&amp; i &gt;= 1) &#123; f[i][j] = max(f[i - 1][j], f[i - 1][j - v] + w); &#125; else if (i &gt;= 1) &#123; f[i][j] = f[i - 1][j]; &#125; else &#123; f[i][j] = (j &gt;= v) ? w : 0; &#125; &#125; &#125; ll ans = 0; for (ll i = 0; i &lt;= n; ++i) &#123; ans = max(ans, f[6][i] + (n - i) * 10); &#125; printf(&quot;%lld\\n&quot;, ans);&#125; D. Meaningless Sequenceé¢˜æ„$$a_n &#x3D; \\begin{cases} 1, &amp; n &#x3D; 0 \\ c \\cdot \\max\\limits_{0 \\leq i &lt; n} a_{n \\operatorname{&amp;} i}, &amp; \\text{otherwise} \\end{cases},$$ ä½ è¦è®¡ç®—$$\\left( \\sum\\limits_{i&#x3D;0}^n a_i \\right) \\bmod (10^9+7)$$ é¢˜è§£$a_i$ä¸æ•°å­—içš„äºŒè¿›åˆ¶è¡¨ç¤ºæ³•ä¸­æœ‰å¤šå°‘ä¸ª1æœ‰å…³ï¼Œå¦‚æœæœ‰kä¸ªï¼Œåˆ™ä¸ºcçš„kæ¬¡æ–¹ï¼Œç›´æ¥æ•°ä½dpå³å¯ã€‚ http://codeforces.com/gym/102832/submission/115385503 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;char s[3010];const int mod = 1e9 + 7;int qpow(int a, int b) &#123; int res = 1; while (b) &#123; if (b &amp; 1) &#123; res = 1ll * res * a % mod; &#125; a = 1ll * a * a % mod; b &gt;&gt;= 1; &#125; return res;&#125;int dp[2][3010][3010];bool vis[2][3010][3010];int count(int cur, int n, int limit, int oneCount, int zeroCount) &#123; if (vis[limit][oneCount][zeroCount]) &#123; return dp[limit][oneCount][zeroCount]; &#125; int ans = 0; if (cur == n) &#123; return 1; &#125; // add 0 if (zeroCount != 0) &#123; ans = (ans + count(cur + 1, n, limit &amp;&amp; s[cur] == &#x27;0&#x27;, oneCount, zeroCount - 1)) % mod; &#125; // add 1 if (oneCount != 0) &#123; if (!limit || s[cur] != &#x27;0&#x27;) &#123; ans = (ans + count(cur + 1, n, limit &amp;&amp; s[cur] == &#x27;1&#x27;, oneCount - 1, zeroCount)) % mod; &#125; &#125; vis[limit][oneCount][zeroCount] = true; return dp[limit][oneCount][zeroCount] = ans;&#125;int main() &#123; int c; scanf(&quot;%s %d&quot;, s, &amp;c); int n = strlen(s); int ans = 0; for (int i = 0; i &lt;= n; i++) &#123; int cnt = count(0, n, true, i, n - i); ans = (ans + 1ll * cnt * qpow(c, i)) % mod; &#125; printf(&quot;%d\\n&quot;, ans);&#125; F. Strange Memoryé¢˜æ„ç»™ä½ ä¸€é¢—ç‚¹å¸¦æƒçš„æ ‘ï¼Œä½ è¦è®¡ç®—,å…¶ä¸­$\\oplus$è¡¨ç¤ºå¼‚æˆ–$$\\sum\\limits_{i&#x3D;1}^n\\sum\\limits_{j&#x3D;i+1}^n [a_i \\oplus a_j &#x3D; a_{\\operatorname{lca}(i, j)}] (i \\oplus j).$$ é¢˜è§£æš´åŠ›æšä¸¾lcaï¼Œå¦‚æœè§£å†³äº†ä¸€äº›å­æ ‘çš„å­é—®é¢˜ï¼Œé‚£ä¹ˆåˆå¹¶åˆ°çˆ¶èŠ‚ç‚¹çš„æ—¶å€™ï¼Œåªéœ€è¦æšä¸¾ä¸åŒå­æ ‘é‡Œé¢æœ‰å¤šå°‘ä¸ªæ•°æ»¡è¶³ç‚¹æƒå¼‚æˆ–å’Œç­‰äºçˆ¶èŠ‚ç‚¹å€¼ã€‚ å¾ˆæ˜æ˜¾è¿™é‡Œæ˜¯ä¸‰ä¸ªå˜é‡ï¼Œä½†æ˜¯å½“æšä¸¾lcaæ—¶ï¼Œçˆ¶èŠ‚ç‚¹å€¼ä¸ºå®šå€¼ï¼Œæ‰€ä»¥å®é™…ä¸Šåªæœ‰ä¸¤ä¸ªå˜é‡ï¼Œç”±äºå¼‚æˆ–æ„æˆç¾¤ï¼Œäºæ˜¯å¯ä»¥æšä¸¾ä¸€ä¸ªå˜é‡ï¼Œå¯»æ‰¾å¦ä¸€ä¸ªå˜é‡ï¼Œå¾ˆè‡ªç„¶æƒ³åˆ°äº†æšä¸¾å°çš„å­æ ‘ï¼Œåœ¨å¤§çš„å­æ ‘ä¸­å¯»æ‰¾ï¼Œè¿™å®é™…ä¸Šå°±æ˜¯æ ‘ä¸Šå¯å‘å¼åˆå¹¶ã€‚ http://codeforces.com/gym/102832/submission/115392207 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;const ll maxn = 1e5 + 100;ll a[maxn], sz[maxn];vector&lt;ll&gt; g[maxn];struct Node &#123; vector&lt;ll&gt; bit0, bit1; vector&lt;ll&gt; lazy; Node() : bit0(17), bit1(17) &#123;&#125; ll query(ll x) &#123; for (ll tmp:lazy) &#123; lazyInsert(tmp); &#125; lazy.clear(); ll res = 0; for (ll i = 0; i &lt; 17; ++i) &#123; if ((1 &lt;&lt; i) &amp; x) &#123; res += bit0[i]; &#125; else &#123; res += bit1[i]; &#125; &#125; return res; &#125; void insert(ll x) &#123; lazy.push_back(x); &#125; void lazyInsert(ll x) &#123; for (ll i = 0; i &lt; 17; ++i) &#123; if ((1 &lt;&lt; i) &amp; x) &#123; bit1[i] += (1 &lt;&lt; i); &#125; else &#123; bit0[i] += (1 &lt;&lt; i); &#125; &#125; &#125;&#125;;struct DS &#123; vector&lt;pair&lt;ll, ll &gt;&gt; kv; ll ans = 0; unordered_map&lt;ll, Node&gt; ma; ll query(ll k, ll v) &#123; auto tmp = ma.find(v); return tmp == ma.end() ? 0 : tmp-&gt;second.query(k); &#125; void insert(ll k, ll v) &#123; kv.push_back(&#123;k, v&#125;); ma[v].insert(k); &#125;&#125;;void dfs(ll u, ll f) &#123; sz[u] = 1; for (auto v : g[u]) &#123; if (v == f) &#123; continue; &#125; dfs(v, u); sz[u] += sz[v]; &#125;&#125;void dfs2(ll u, ll f, DS &amp;ds) &#123; ll mxv = 0; for (auto v : g[u]) &#123; if (v == f) &#123; continue; &#125; if (sz[v] &gt; sz[mxv]) &#123; mxv = v; &#125; &#125; if (mxv != 0) &#123; dfs2(mxv, u, ds); ll ans = ds.ans; for (auto v : g[u]) &#123; if (v == f || v == mxv) &#123; continue; &#125; DS tem; dfs2(v, u, tem); ans += tem.ans; for (auto x : tem.kv) &#123; ans += ds.query(x.first, x.second ^ a[u]); &#125; for (auto x: tem.kv) &#123; ds.insert(x.first, x.second); &#125; &#125; ds.ans = ans; &#125; ds.insert(u, a[u]);&#125;int main() &#123;// cout &lt;&lt; bitset&lt;32&gt;(1e5) &lt;&lt; endl; ll n; scanf(&quot;%lld&quot;, &amp;n); for (ll i = 1; i &lt;= n; ++i) &#123; scanf(&quot;%lld&quot;, &amp;a[i]); &#125; for (ll i = 1; i &lt;= n - 1; ++i) &#123; ll u, v; scanf(&quot;%lld %lld&quot;, &amp;u, &amp;v); g[u].push_back(v); g[v].push_back(u); &#125; dfs(1, 0); DS ds; dfs2(1, 0, ds); printf(&quot;%lld\\n&quot;, ds.ans);&#125; K. Ragdollé¢˜æ„ç»™ä½ ä¸€ä¸ªæ£®æ—ï¼Œæ¯ä¸ªç‚¹æœ‰ä¸€ä¸ªæƒï¼Œæœ‰ä¸‰ä¸ªæ“ä½œï¼Œ å¢åŠ ä¸€ä¸ªå•ä¸ªèŠ‚ç‚¹çš„æ ‘ åˆå¹¶ä¸¤é¢—æ ‘ ä¿®æ”¹ä¸€é¢—æ ‘çš„æŸä¸ªèŠ‚ç‚¹çš„æƒ æ¯æ¬¡æ“ä½œä»¥åä½ è¦è¾“å‡ºæœ‰å¤šå°‘å¯¹èŠ‚ç‚¹åœ¨åŒä¸€æ£µæ ‘ä¸”$gcd(i,j)&#x3D;i\\oplus j$ é¢˜è§£é¢„å¤„ç†å‡ºæ‰€æœ‰$gcd(i,j)&#x3D;i\\oplus j$çš„æ•°å¯¹ï¼Œç„¶åå¯å‘å¼åˆå¹¶ã€‚","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"æ¯”èµ›","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ¯”èµ›","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/%E6%AF%94%E8%B5%9B/"}],"tags":[]},{"title":"2020çœèµ›ç½‘èµ›","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ¯”èµ›/2020çœèµ›ç½‘èµ›/index","date":"2021-05-05T15:00:00.000Z","updated":"2021-05-05T15:00:00.000Z","comments":true,"path":"QSN300.html","link":"","permalink":"http://fightinggg.github.io/indigo/QSN300.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ¯”èµ›é“¾æ¥https://ac.nowcoder.com/acm/contest/15167 A. A Warm Welcomeé¢˜æ„è¾“å‡ºShenzhen Institute of Computing Sciences B. Mr.Maxwell and attractionsé¢˜æ„ä½ å¯ä»¥ä¸Šåˆå·¥ä½œä¸‹åˆç©ï¼Œä¹Ÿå¯ä»¥ä¸Šåˆç©ä¸‹åˆå·¥ä½œã€‚ ç©å¯ä»¥è·å¾—å¿«ä¹ï¼Œç©çš„æ—¶å€™æœ‰ä¸¤ç±»åœ°æ–¹ï¼Œä¸€ç±»æ˜¯å®¤å†…ï¼Œä¸€ç±»æ˜¯å®¤å¤–ï¼Œå®¤å¤–ä¸‹åˆç©ä¼šé™ä½å¿«ä¹å€¼ä¸º$80%$ï¼Œé‡å¤ç©ä¸€ä¸ªåœ°æ–¹ä¼šå¯¼è‡´å¿«ä¹å€¼é™ä½$60%$, å¯å åŠ ã€‚ ä½ éœ€è¦è‡³å°‘kä¸ªæ—©ä¸Šéƒ½åœ¨å·¥ä½œï¼Œé—®ä½ æœ€å¤šè·å¾—å¤šå°‘å¿«ä¹å€¼ã€‚ é¢˜è§£æšä¸¾ç©å¤šå°‘æ¬¡å®¤å†…å³å¯ã€‚ç”¨å‰ç¼€å’ŒåŠ é€Ÿã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061#include&lt;bits/stdc++.h&gt;using namespace std;#pragma warning(disable:4996)priority_queue&lt;double, vector&lt;double&gt;, less&lt;double&gt;&gt;ap, bp;const int maxn = 1e5 + 100;double a[maxn],b[maxn],at[maxn],bt[maxn],apreSum[maxn], bpreSum[maxn];int n, m, t, k;void initQ() &#123; int cnt = 1; while (cnt &lt;= t) &#123; double cura = ap.top(); ap.pop(); ap.push(cura * 0.6); at[cnt] = cura; apreSum[cnt] = apreSum[cnt - 1] + at[cnt]; double curb = bp.top(); bp.pop(); bp.push(curb * 0.6); bt[cnt] = curb; bpreSum[cnt] = bpreSum[cnt - 1] + bt[cnt]; cnt++; &#125;&#125;void show() &#123; for (int i = 1; i &lt;= t; i++) &#123; cout &lt;&lt; at[i] &lt;&lt; &quot; &quot; &lt;&lt; bt[i] &lt;&lt; endl; &#125; for (int i = 1; i &lt;= t; i++) &#123; cout &lt;&lt; apreSum[i] &lt;&lt; &quot; &quot; &lt;&lt; bpreSum[i] &lt;&lt; endl; &#125;&#125;void solve() &#123; double ans = 0.0; for (int x = 0; x &lt;= t; x++) &#123; int y2 = t - x; int y1 = y2; if (x &lt; k) &#123; y1 -= (k-x); &#125; double curAns = apreSum[x] + bpreSum[y1] + (0.8 * (bpreSum[y2] - bpreSum[y1])); ans = max(ans, curAns); &#125; printf(&quot;%.2lf&quot;, ans);&#125;int main() &#123; scanf(&quot;%d%d%d%d&quot;, &amp;n, &amp;m, &amp;t, &amp;k); for (int i = 1; i &lt;= n; i++) &#123; scanf(&quot;%lf&quot;, &amp;a[i]); ap.push(a[i]); &#125; for (int i = 1; i &lt;= m; i++) &#123; scanf(&quot;%lf&quot;, &amp;b[i]); bp.push(b[i]); &#125; initQ(); solve();&#125; C. Hamster and Equationé¢˜æ„è¾“å…¥nå’Œk è¾“å‡º$$x_1(x_1+1)+x_2(x_2+1)&#x3D;k(x_3(x_3+1)+x_4(x_4+1))\\ x_1,x_2,x_3,x_4 \\in [-n,n]$$çš„è§£çš„ä¸ªæ•° æ•°æ®èŒƒå›´$0\\lt n,|k|\\lt500$ é¢˜è§£é¢„å¤„ç†ç­‰å¼å·¦è¾¹ï¼Œæšä¸¾ç­‰å¼å³è¾¹ï¼Œå¤æ‚åº¦$n^2$ 12345678910111213141516171819202122232425#include&lt;bits/stdc++.h&gt;using namespace std;#define ll long longint main() &#123; int t; scanf(&quot;%d&quot;, &amp;t); while(t--) &#123; int n, k; scanf(&quot;%d%d&quot;, &amp;n, &amp;k); unordered_map&lt;ll, ll&gt;ex; for(int i = -n ; i &lt;= n; ++i) &#123; for(int j = -n; j &lt;= n; ++j) &#123; ll tem = 1ll * k * (1ll * i * (i + 1) + 1ll * j * (j + 1)); ex[tem]++; &#125; &#125; ll cnt = 0; for(int i = -n; i &lt;= n; ++i) &#123; for(int j = -n; j &lt;= n; ++j) &#123; ll tem = 1ll * i * (i + 1) + 1ll * j * (j + 1); cnt += ex[tem]; &#125; &#125; printf(&quot;%lld\\n&quot;, cnt); &#125;&#125; D. WAé¢˜æ„è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²$S$, ä¸€ä¸ªæ•´æ•°$k$, ä½ å¯ä»¥ä¿®æ”¹å­—ç¬¦ä¸²$S$çš„ä»»æ„kä¸ªå­—æ¯ï¼Œé—®ä½ ä¿®æ”¹åæœ€å¤šå‡ºç°å¤šå°‘ä¸ª$aa$å­ä¸²ã€‚è¾“å‡ºä¿®æ”¹åçš„ä¸²ã€‚ æ•°æ®èŒƒå›´$|S|\\le 5\\times10^5$ $k\\le |S|$ é¢˜è§£é¢„å¤„ç†æ‰€æœ‰aä¹‹é—´çš„ç©ºéš™ï¼Œä¼˜å…ˆä¿®æ”¹çŸ­çš„ç©ºéš™ï¼ŒæŒ‰é¡ºåºæ¨¡æ‹Ÿå³å¯ã€‚æ³¨æ„æœ€åä¿®æ”¹ä¸¤ç«¯çš„ç©ºéš™ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677#include&lt;bits/stdc++.h&gt;using namespace std;#define ll long longconst int maxn = 5e5 + 5;char s[maxn];typedef pair&lt;int, int&gt; pii;int main() &#123; int t; //scanf(&quot;%d&quot;, &amp;t); t = 1; while (t--) &#123; int n, k; scanf(&quot;%d %d %s&quot;, &amp;n, &amp;k, s); vector&lt;pii&gt; vec; vec.push_back(&#123;int(1e9), -1&#125;); for (int i = 0; i &lt; n; i++) &#123; if (s[i] == &#x27;a&#x27;) &#123; vec.push_back(&#123;0, i&#125;); &#125; else &#123; vec.back().first++; &#125; &#125; vector&lt;pii&gt; vec2; for (auto x:vec) &#123; if (x.first != 0) &#123; vec2.push_back(x); &#125; &#125; sort(vec2.begin(), vec2.end()); int cnt = 0; for (auto p:vec2) &#123; if (p.second == -1) &#123; int up = p.second + 1; while (up &lt; n &amp;&amp; s[up] != &#x27;a&#x27;) up++; for (int i = up - 1; i &gt; p.second; i--) &#123; if (cnt == k) &#123; break; &#125; s[i] = &#x27;a&#x27;; cnt++; &#125; &#125; else &#123; for (int i = p.second + 1; i &lt; n &amp;&amp; s[i] != &#x27;a&#x27;; i++) &#123; if (cnt == k) &#123; break; &#125; s[i] = &#x27;a&#x27;; cnt++; &#125; &#125; &#125; int base = 0; for (int i = 0; i &lt; n; i++) &#123; if (i != 0 &amp;&amp; s[i] == &#x27;a&#x27; &amp;&amp; s[i - 1] == &#x27;a&#x27;) &#123; base++; &#125; &#125; printf(&quot;%d\\n%s\\n&quot;, base, s); &#125;&#125; E. Pipeline Maintenanceé¢˜æ„ç»™ä½ ä¸€æ¡é•¿åº¦ä¸ºnçš„é“¾ï¼Œå¤–åŠ ä¸‰ä¸ªç‚¹ï¼Œè¿™ä¸‰ä¸ªç‚¹ä¸é“¾ä¸Šæ¯ä¸ªç‚¹éƒ½è¿è¾¹ï¼Œä½ å¾—åˆ°äº†ä¸€ä¸ªå›¾ï¼Œé—®ä½ è¿™ä¸ªå›¾çš„æœ€å°ç”Ÿæˆæ ‘çš„ä¸ªæ•°æ˜¯å¤šå°‘ã€‚ è¾“å…¥åªæœ‰ä¸€ä¸ªn æ•°æ®èŒƒå›´$n\\lt 10^9$ é¢˜è§£é¦–å…ˆæ¨å‡ºåŸºå°”éœå¤«çŸ©é˜µï¼Œå‘ç°è¿™ä¸ªçŸ©é˜µæ˜¯æœ‰å°‘é‡çš„åœ°æ–¹æœ‰å€¼ï¼Œå¾ˆæ˜æ˜¾ä»–çš„è¡Œåˆ—å¼å°±æ˜¯ä¸€ä¸ªå¤šé¡¹å¼ï¼Œæ‰€ä»¥ç­”æ¡ˆä¸€å®šæ˜¯ä¸€ä¸ªå¤šé¡¹å¼ã€‚ æš´åŠ›è®¡ç®—å‰100é¡¹ï¼Œç„¶åBMçº¿æ€§é€’æ¨å³å¯ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889#include&lt;bits/stdc++.h&gt;#pragma warning(disable:4996)using namespace std;#define rep(i,a,n) for (int i=a;i&lt;n;i++)#define per(i,a,n) for (int i=n-1;i&gt;=a;i--)#define pb push_back#define mp make_pair#define all(x) (x).begin(),(x).end()#define fi first#define se second#define SZ(x) ((int)(x).size())typedef vector&lt;int&gt; VI;typedef long long ll;typedef pair&lt;int, int&gt; PII;const ll mod = 1000000007;ll powmod(ll a, ll b) &#123; ll res = 1; a %= mod; assert(b &gt;= 0); for (; b; b &gt;&gt;= 1) &#123; if (b &amp; 1)res = res * a % mod; a = a * a % mod; &#125;return res; &#125;ll n;namespace linear_seq &#123; const int N = 10010; ll res[N], base[N], _c[N], _md[N]; vector&lt;int&gt; Md; void mul(ll* a, ll* b, int k) &#123; rep(i, 0, k + k) _c[i] = 0; rep(i, 0, k) if (a[i]) rep(j, 0, k) _c[i + j] = (_c[i + j] + a[i] * b[j]) % mod; for (int i = k + k - 1; i &gt;= k; i--) if (_c[i]) rep(j, 0, SZ(Md)) _c[i - k + Md[j]] = (_c[i - k + Md[j]] - _c[i] * _md[Md[j]]) % mod; rep(i, 0, k) a[i] = _c[i]; &#125; int solve(ll n, VI a, VI b) &#123; ll ans = 0, pnt = 0; int k = SZ(a); assert(SZ(a) == SZ(b)); rep(i, 0, k) _md[k - 1 - i] = -a[i]; _md[k] = 1; Md.clear(); rep(i, 0, k) if (_md[i] != 0) Md.push_back(i); rep(i, 0, k) res[i] = base[i] = 0; res[0] = 1; while ((1ll &lt;&lt; pnt) &lt;= n) pnt++; for (int p = pnt; p &gt;= 0; p--) &#123; mul(res, res, k); if ((n &gt;&gt; p) &amp; 1) &#123; for (int i = k - 1; i &gt;= 0; i--) res[i + 1] = res[i]; res[0] = 0; rep(j, 0, SZ(Md)) res[Md[j]] = (res[Md[j]] - res[k] * _md[Md[j]]) % mod; &#125; &#125; rep(i, 0, k) ans = (ans + res[i] * b[i]) % mod; if (ans &lt; 0) ans += mod; return ans; &#125; VI BM(VI s) &#123; VI C(1, 1), B(1, 1); int L = 0, m = 1, b = 1; rep(n, 0, SZ(s)) &#123; ll d = 0; rep(i, 0, L + 1) d = (d + (ll)C[i] * s[n - i]) % mod; if (d == 0) ++m; else if (2 * L &lt;= n) &#123; VI T = C; ll c = mod - d * powmod(b, mod - 2) % mod; while (SZ(C) &lt; SZ(B) + m) C.pb(0); rep(i, 0, SZ(B)) C[i + m] = (C[i + m] + c * B[i]) % mod; L = n + 1 - L; B = T; b = d; m = 1; &#125; else &#123; ll c = mod - d * powmod(b, mod - 2) % mod; while (SZ(C) &lt; SZ(B) + m) C.pb(0); rep(i, 0, SZ(B)) C[i + m] = (C[i + m] + c * B[i]) % mod; ++m; &#125; &#125; return C; &#125; int gao(VI a, ll n) &#123; VI c = BM(a); c.erase(c.begin()); rep(i, 0, SZ(c)) c[i] = (mod - c[i]) % mod; return solve(n, c, VI(a.begin(), a.begin() + SZ(c))); &#125;&#125;;int a[1000] = &#123; 1,20,216,1840,13775,95040,619801,3878720,23520456,139127500,806585879,599175652,861664394,707058859,417979870,901047604,478633297,859865743,368755586,930893321,243990638,416220770,156922876,768961406,372030171,188255286,753829864,246844887,442658427,357182332,744405222,783203806,469197530,863684841,605924134,166060944,506226150,446220745,171110722,498919220,700717610,739340306,607058637,253306001,703467596,231535400,903802311,143421365,864786702,113238066,748503739,575557576,596128329,62322981,98752077,240806338,956345596,374036254,976624372,344168146,879827644,658625868,76392155,576562868,336205776,392396240,70109394,71982377,780620194,821250696,668859101,16081127,485315931,278337560,180126339,172842175,402815218,33449281,512582468,457919375,64916357,966658493,531395887,571188277,243742869,586283678,302575818,40249574,901283990,633872644,396221397,13159314,543397157,575791218,993120783,494677489,620570286,883513941,153287837,309800837 &#125;;int main() &#123; vector&lt;int&gt;v; for (int i = 0; i &lt; 50; i++) &#123; v.push_back(a[i]); &#125; scanf(&quot;%lld&quot;, &amp;n); printf(&quot;%lld\\n&quot;, 1LL * linear_seq::gao(v, n - 1) % mod);&#125; F. Meet in another world, enjoy tasty food!é¢˜æ„æœ‰$n$ä¸ªäººåœ¨æ’é˜Ÿï¼Œç»™ä½ é•¿åº¦ä¸ºnçš„æ•°ç»„ï¼Œè¿™æ˜¯æ¯ä¸ªäººéƒ½çš„è€å¿ƒå€¼ï¼Œæ’åä¸º$i$çš„äººæ¯ç§’ä¼šä¸§å¤±$i$ç‚¹è€å¿ƒï¼Œå½“è€å¿ƒå€¼ä½äº$0$çš„æ—¶å€™ï¼Œè¿™ä¸ªäººä¼šç¦»å¼€é˜Ÿåˆ—ï¼Œä¸æ­¤åŒæ—¶ï¼Œä»–åé¢çš„äººçš„æ’åéƒ½ä¼šå‡å°‘1ã€‚ä½ éœ€è¦è¾“å‡ºå‡ºé˜Ÿé¡ºåºã€‚ æ•°æ®èŒƒå›´$n\\lt 1000$ $a_i&lt;10^{18}$ é¢˜è§£æš´åŠ›è®¡ç®—æ¯ä¸€è½®è°ç¦»å¼€äº†é˜Ÿåˆ—ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465#include&lt;bits/stdc++.h&gt;using namespace std;#define ll long longtypedef pair&lt;ll, ll&gt; pll;int main() &#123; ll t; t = 1; while (t--) &#123; ll n; scanf(&quot;%lld&quot;, &amp;n); vector&lt;pll&gt; a; for (ll i = 1; i &lt;= n; i++) &#123; ll x; scanf(&quot;%lld&quot;, &amp;x); a.push_back(make_pair(x, i)); &#125; vector&lt;ll&gt; ans; for (ll _ = 1; _ &lt;= n; _++) &#123; ll k = 1e18 + 100; for (ll i = 0; i &lt; a.size(); i++) &#123; ll rank = i + 1; k = min(k, (a[i].first + rank - 1) / rank); &#125; vector&lt;pll&gt; b; if (k != 1) &#123; k--; for (ll i = 0, ii = 1; i &lt; a.size(); i++) &#123; if (a[i].first - ii * k &lt;= 0) &#123; ans.push_back(a[i].second); &#125; else &#123; a[i].first -= k * ii; b.push_back(a[i]); ii++; &#125; &#125; a = b; b.clear(); &#125; k = 1; for (ll i = 0, ii = 1; i &lt; a.size(); i++) &#123; if (a[i].first - ii * k &lt;= 0) &#123; ans.push_back(a[i].second); &#125; else &#123; a[i].first -= k * ii; b.push_back(a[i]); ii++; &#125; &#125; a = b; b.clear(); &#125; for (ll x: ans) &#123; printf(&quot;%lld &quot;, x); &#125; printf(&quot;\\n&quot;); &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"æ¯”èµ›","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ¯”èµ›","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/%E6%AF%94%E8%B5%9B/"}],"tags":[]},{"title":"2020CCPCå¨æµ·ç«™","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ¯”èµ›/2020CCPCå¨æµ·ç«™/index","date":"2021-05-04T15:00:00.000Z","updated":"2021-05-04T15:00:00.000Z","comments":true,"path":"QSL8C0.html","link":"","permalink":"http://fightinggg.github.io/indigo/QSL8C0.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ¯”èµ›é“¾æ¥http://codeforces.com/gym/102798 A. Golden Spiritæœ‰ä¸€ä¸ªæ¡¥ï¼Œæ¡¥ä¸¤è¾¹éƒ½æœ‰nä¸ªè€äººï¼Œä½ æ¡¥çš„ä¸€è¾¹ï¼Œä½ å¯ä»¥èŠ±æ—¶é—´xæŠŠä¸€ä¸ªè€äººå¸¦åˆ°å¯¹é¢ï¼Œç„¶åä½ å¯ä»¥æ¥ç€æŠŠé‚£è¾¹çš„è€äººå¸¦å›æ¥ï¼Œä½ ä¹Ÿå¯ä»¥åŸåœ°ç­‰å¾…ï¼Œæ‰€æœ‰è€äººç§»åŠ¨ä¸€æ¬¡ä»¥åéœ€è¦ä¼‘æ¯tåˆ†é’Ÿï¼Œé—®ä½ è‡³å°‘èŠ±è´¹å¤šå°‘æ—¶é—´ï¼Œèƒ½è®©æ‰€æœ‰è€äººéƒ½äº’ç›¸è·‘åˆ°å¯¹é¢ï¼Œç„¶ååˆå›åˆ°åŸæœ¬çš„ä½ç½®ã€‚ 123456789101112131415#include&lt;bits/stdc++.h&gt;using namespace std;#define ll long longint main()&#123; int T; scanf(&quot;%d&quot;, &amp;T); while(T--) &#123; ll n, x, t; scanf(&quot;%lld %lld %lld&quot;, &amp;n, &amp;x, &amp;t); ll y1 = max(x + 2 * t - 2 * n * t, 0ll); ll y2 = max(x - 2 * n * t, 0ll); ll ans1 = y1 + 4 * n * t, ans2 = y2 + (4 * n + 1) * t; printf(&quot;%lld\\n&quot;, min(ans1, ans2)); &#125;&#125;","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ¯”èµ›é“¾æ¥http://codeforces.com/gym/102798 A. Golden Spiritæœ‰ä¸€ä¸ªæ¡¥ï¼Œæ¡¥ä¸¤è¾¹éƒ½æœ‰nä¸ªè€äººï¼Œä½ æ¡¥çš„ä¸€è¾¹ï¼Œä½ å¯ä»¥èŠ±æ—¶é—´xæŠŠä¸€ä¸ªè€äººå¸¦åˆ°å¯¹é¢ï¼Œç„¶åä½ å¯ä»¥æ¥ç€æŠŠé‚£è¾¹çš„è€äººå¸¦å›æ¥ï¼Œä½ ä¹Ÿå¯ä»¥åŸåœ°ç­‰å¾…ï¼Œæ‰€æœ‰è€äººç§»åŠ¨ä¸€æ¬¡ä»¥åéœ€è¦ä¼‘æ¯tåˆ†é’Ÿï¼Œé—®ä½ è‡³å°‘èŠ±è´¹å¤šå°‘æ—¶é—´ï¼Œèƒ½è®©æ‰€æœ‰è€äººéƒ½äº’ç›¸è·‘åˆ°å¯¹é¢ï¼Œç„¶ååˆå›åˆ°åŸæœ¬çš„ä½ç½®ã€‚ 123456789101112131415#include&lt;bits/stdc++.h&gt;using namespace std;#define ll long longint main()&#123; int T; scanf(&quot;%d&quot;, &amp;T); while(T--) &#123; ll n, x, t; scanf(&quot;%lld %lld %lld&quot;, &amp;n, &amp;x, &amp;t); ll y1 = max(x + 2 * t - 2 * n * t, 0ll); ll y2 = max(x - 2 * n * t, 0ll); ll ans1 = y1 + 4 * n * t, ans2 = y2 + (4 * n + 1) * t; printf(&quot;%lld\\n&quot;, min(ans1, ans2)); &#125;&#125; D. ABC Conjectureé¢˜æ„å®šä¹‰$rad(a)$ä¸º$a$çš„ç´ å› å­çš„ç§¯, ç»™ä½ ä¸€ä¸ªcï¼Œä½ è¦è®¡ç®—æ˜¯å¦å­˜åœ¨ä¸¤ä¸ªæ•°$a$å’Œ$b$ï¼Œä½¿å¾—$a+b&#x3D;c$ä¸”$rad(abc)&lt;c$ æ•°æ®èŒƒå›´$1&lt;c&lt;10^{18}$ é¢˜è§£æ‰“è¡¨å‘ç°å”¯ä¸€åˆ†è§£ä¸­ï¼ŒæŒ‡æ•°çš„æœ€å¤§å€¼ä¸ä¸º1æ—¶ä¸€å®šå¯ä»¥åˆ†è§£ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126#include&lt;bits/stdc++.h&gt;#include&lt;iostream&gt;#include&lt;cmath&gt;#include&lt;cstring&gt;#include&lt;algorithm&gt;#include&lt;cstdio&gt;#include&lt;stdlib.h&gt;#include&lt;time.h&gt;#pragma warning(disable:4996)#define times 20using namespace std;#define ll long longmap&lt;ll, ll&gt; mp;ll total;ll factor[110];ll qmul(ll a, ll b, ll M) &#123; a %= M; b %= M; ll ans = 0; while (b) &#123; if (b &amp; 1) &#123; ans = (ans + a) % M; &#125; a = (a &lt;&lt;= 1) % M; b &gt;&gt;= 1; &#125; return ans % M;&#125;///å¿«ä¹˜ï¼Œå› ä¸ºä¸¤ä¸ªlonglongçš„æ•°ç›¸ä¹˜å¯èƒ½ä¼šæº¢å‡ºï¼Œæ‰€ä»¥è¿™é‡Œè½¬ä¹˜æ³•ä¸ºåŠ æ³•ï¼Œæ€æƒ³å’Œå¿«é€Ÿå¹‚ç›¸ä¼¼ll qpow(ll a, ll b, ll int M) &#123; ll ans = 1; ll k = a; while (b) &#123; if (b &amp; 1)ans = qmul(ans, k, M) % M; k = qmul(k, k, M) % M; b &gt;&gt;= 1; &#125; return ans % M;&#125;bool witness(ll a, ll n, ll x, ll sum) &#123; ll judge = qpow(a, x, n); if (judge == n - 1 || judge == 1)return 1; while (sum--) &#123; judge = qmul(judge, judge, n); if (judge == n - 1)return 1; &#125; return 0;&#125;bool miller(ll n) &#123; ///åˆ¤æ–­ç´ æ•° if (n &lt; 2)return 0; if (n == 2)return 1; if ((n &amp; 1) == 0)return 0; ll x = n - 1; ll sum = 0; while (x % 2 == 0) &#123; x &gt;&gt;= 1; sum++; &#125; for (ll i = 1; i &lt;= times; i++) &#123; ll a = rand() % (n - 1) + 1; if (!witness(a, n, x, sum))return 0; ///è´¹é©¬å°å®šç†çš„éšæœºæ•°æ£€éªŒ &#125; return 1;&#125;ll gcd(ll a, ll b) &#123; return b == 0 ? a : gcd(b, a % b);&#125;ll pollard(ll n, ll c) &#123; ll x, y, d, i = 1, k = 2; x = rand() % n; y = x; while (1) &#123; i++; x = (qmul(x, x, n) + c) % n; ///ä¸æ–­è°ƒæ•´x d = gcd(y - x, n); if (d &lt; 0)d = -d; if (d &gt; 1 &amp;&amp; d &lt; n)return d; ///æ‰¾åˆ°å› å­ if (y == x)return n; ///æ‰¾åˆ°å¾ªç¯ï¼Œè¿”å›nï¼Œé‡æ–°æ¥ if (i == k) &#123; ///ä¸€ä¸ªä¼˜åŒ– y = x; k &lt;&lt;= 1; &#125; &#125;&#125;void find(ll n) &#123; if (miller(n)) &#123; factor[++total] = n; mp[n]++; return; &#125; ll p = n; while (p &gt;= n) p = pollard(p, rand() % (n - 1) + 1); find(n / p); find(p);&#125;int main() &#123; int t; scanf(&quot;%d&quot;, &amp;t); while (t--) &#123; total = 0; ll n; scanf(&quot;%lld&quot;, &amp;n); if (n == 1) &#123; puts(&quot;no&quot;); continue; &#125; mp.clear(); find(n); int flag = 0; for (auto&amp; tem : mp) &#123; if (tem.second &gt;= 2) &#123; flag = 1; break; &#125; &#125; printf(&quot;%s\\n&quot;, (flag == 1 ? &quot;yes&quot; : &quot;no&quot;)); &#125;&#125; H. Message Bombé¢˜æ„æœ‰å¤šä¸ªèŠå¤©å®¤ï¼Œä¸‰ä¸ªæ“ä½œ å­¦ç”ŸxåŠ å…¥èŠå¤©å®¤y å­¦ç”Ÿxç¦»å¼€èŠå¤©å®¤y å­¦ç”Ÿxåœ¨èŠå¤©å®¤yå‘å¸ƒä¸€æ¡æ¶ˆæ¯ï¼Œè¿™ä¸ªèŠå¤©å®¤çš„æ‰€æœ‰å…¶ä»–äººä¼šæ”¶åˆ°ä¸€æ¡æ¶ˆæ¯ã€‚ æœ€ååªæœ‰ä¸€æ¬¡è¯¢é—®ï¼Œé—®æ¯ä¸ªå­¦ç”Ÿå„è‡ªæ”¶åˆ°äº†å¤šå°‘æ¡æ¶ˆæ¯ æ•°æ®èŒƒå›´$10^5ä¸ªèŠå¤©å®¤$ $2\\times10^5ä¸ªå­¦ç”Ÿ$ $10^6æ¬¡æ“ä½œ$ é¢˜è§£ç»´æŠ¤ä¸€ä¸ªæ‡’æ ‡è®°ï¼Œå³èŠå¤©å®¤ä¸­çš„åŒå­¦æ”¶åˆ°äº†å¤šå°‘æ¡æ¶ˆæ¯ï¼Œå½“åŒå­¦ç¦»å¼€èŠå¤©å®¤çš„æ—¶å€™ï¼ŒæŠŠè¿™ä¸ªæ‡’æ ‡è®°å‘æ”¾ç»™è¿™ä¸ªå­¦ç”Ÿã€‚ 1234567891011121314151617181920212223242526272829303132333435363738#include&lt;bits/stdc++.h&gt;using namespace std;#define ll long longconst int maxn = 1e5 + 100;const int maxm = 2e5 + 100;set&lt;int&gt;group[maxn];int lazy[maxn];ll ans[maxm];int main()&#123; int n, m, s; scanf(&quot;%d %d %d&quot;, &amp;n, &amp;m, &amp;s); for(int i = 1; i &lt;= s; ++i) &#123; int t, x, y; scanf(&quot;%d %d %d&quot;, &amp;t, &amp;x, &amp;y); if(t == 1) &#123; group[y].insert(x); ans[x] -= lazy[y]; &#125; else if(t == 2) &#123; group[y].erase(group[y].find(x)); ans[x] += lazy[y]; &#125; else if(t == 3) &#123; lazy[y] += 1; ans[x] -= 1; &#125; &#125; for(int i = 1; i &lt;= n; ++i) &#123; if(group[i].size() == 0) &#123; continue; &#125; for(auto x : group[i]) &#123; ans[x] += lazy[i]; &#125; &#125; for(int i = 1; i &lt;= m; ++i) &#123; printf(&quot;%lld\\n&quot;, ans[i]); &#125;&#125; L. Clock Masteré¢˜æ„ä½ è¦æ‰¾ä¸€ä¸ªé•¿åº¦ä¸ºkçš„æ­£æ•´æ•°åºåˆ—aï¼Œä½ è¦æœ€å¤§åŒ–æ•´ä¸ªåºåˆ—æ‰€æœ‰å…ƒç´ çš„lcmï¼Œè¾“å‡ºè¿™ä¸ªlcmå¯¹è‡ªç„¶å¯¹æ•°çš„å¯¹æ•°å‡½æ•°å€¼$ln(lcm)$ é¢˜è§£æ˜¾ç„¶åºåˆ—aä¸­ä¸¤ä¸¤äº’è´¨æ˜¯æœ€ä¼˜è§£ã€‚æ‰€æœ‰æˆ‘ä»¬ç›´æ¥è€ƒè™‘åªå–ç´ æ•°ã€‚ ç„¶åå°±æˆäº†å®¹é‡ä¸º2ï¼Œ3ï¼Œ5ï¼Œ7ï¼Œ11ï¼Œ13ï¼Œ17â€¦ä»·å€¼ä¸ºln2,ln3,ln5,ln7,ln11,ln13,ln17çš„01èƒŒåŒ…é—®é¢˜ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798#include&lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;ll lcm(ll x, ll y) &#123; return x / __gcd(x, y) * y;&#125;ll dfs(int maxValue, int result) &#123; if (maxValue + 1 &gt; result) &#123; return 1; &#125; ll ans = 1; for (int i = maxValue + 1; i &lt;= result; i++) &#123; ans = max(ans, lcm(dfs(i, result - i), i)); &#125; return ans;&#125;void showfactor(int x) &#123; int s = sqrt(x); for(int i = 2; i &lt;= s; ++i) &#123; while(x % i == 0) &#123; cout &lt;&lt; i &lt;&lt; &quot; &quot;; x /= i; &#125; &#125; cout &lt;&lt; x &lt;&lt; endl;&#125;const int maxn = 30000;double f[maxn + 100];vector&lt;int&gt; prime;vector&lt;pair&lt;ll, double&gt;&gt; item[maxn + 100];void ini() &#123; for (int i = 2; i &lt;= maxn; ++i) &#123; int s = sqrt(i); bool ok = true; for (int j = 2; j &lt;= s; ++j) &#123; if (i % j == 0) &#123; ok = false; break; &#125; &#125; if (ok) &#123; prime.push_back(i); &#125; &#125; for (auto x : prime) &#123; for (ll i = x; i &lt;= maxn; i = i * x) &#123; ll c = i; double w = log(i); item[x].push_back(make_pair(c, w)); &#125; &#125; int n = prime.size(); for (int k = 0; k &lt; n; ++k) &#123; for (int v = maxn; v &gt;= 0; --v) &#123; for (int i = 0; i &lt; item[prime[k]].size(); ++i) &#123; ll c = item[prime[k]][i].first; double w = item[prime[k]][i].second; if (v &gt;= c) &#123; f[v] = max(f[v], f[v - c] + w); &#125; &#125; &#125; &#125;&#125;int main() &#123;//// for (int i = 1; i &lt;= 100; i++) &#123;// int ans = dfs(0, i );// cout &lt;&lt; log(ans) &lt;&lt; &quot;\\n&quot;;// &#125; ini(); int t; scanf(&quot;%d&quot;, &amp;t); for (int i = 1; i &lt;= t; ++i) &#123; int b; scanf(&quot;%d&quot;, &amp;b); printf(&quot;%.10lf\\n&quot;, f[b]);// printf(&quot;%.10lf\\n&quot;,pow(2.718281828, f[b]));// printf(&quot;%.10lf\\n&quot;, log(dfs(0, b)));// cout &lt;&lt; dfs(0, b) &lt;&lt; &quot;\\n&quot;;// showfactor(dfs(0, b));// showfactor(1021020); &#125;&#125; C. Rencontreé¢˜æ„ç»™ä½ ä¸€é¢—æ ‘ï¼Œè¾¹å¸¦æƒï¼Œæœ‰ä¸‰ä¸ªäººï¼Œè¿™ä¸‰ä¸ªäººéƒ½æœ‰è‡ªå·±çš„å€™é€‰ç‚¹é›†ï¼Œä»–ä»¬ç­‰æ¦‚ç‡çš„å‡ºç°åœ¨è‡ªå·±çš„å€™é€‰ç‚¹é›†ä¸Šï¼Œä¸‰ä¸ªäººæƒ³è¦èµ°åˆ°åŒä¸€ä¸ªç‚¹ï¼Œé—®ä½ ä¸‰ä¸ªäººèµ°çš„è·¯çš„å’Œçš„æœ€å°‘æœŸæœ›æ˜¯å¤šå°‘ã€‚ é¢˜è§£ä¸‰ä¸ªç‚¹abcæ±‡èšåˆ°ä¸€èµ·çš„æœ€å°ç­”æ¡ˆæ˜¯$\\frac{ab+bc+ac}{2}$, ç„¶åå°±æ˜¯æ¢æ ¹dpã€‚","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"æ¯”èµ›","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ¯”èµ›","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/%E6%AF%94%E8%B5%9B/"}],"tags":[]},{"title":"2020CCPCç»µç¾Šç«™","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ¯”èµ›/2020CCPCç»µç¾Šç«™/index","date":"2021-05-03T15:00:00.000Z","updated":"2021-05-03T15:00:00.000Z","comments":true,"path":"QSJDO0.html","link":"","permalink":"http://fightinggg.github.io/indigo/QSJDO0.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ¯”èµ›é“¾æ¥http://codeforces.com/gym/102822 D. Defuse the Bombsé¢˜æ„æœ‰ä¸€äº›ç‚¸å¼¹ï¼Œç»™ä½ ä¸€ä¸ªæ•°ç»„$a$ï¼Œä»–ä»¬$a_i$ç§’åä¼šçˆ†ç‚¸ï¼Œä½ æ˜¯ä¸€ä¸ªæ‹†å¼¹ä¸“å®¶ï¼Œä½ å¯ä»¥åœ¨ç‚¸å¼¹çˆ†ç‚¸å‰ï¼Œè®©å…¶çˆ†ç‚¸æ—¶é—´å»¶é•¿ä¸€ç§’ï¼Œé—®ä½ æœ€å¤šèƒ½åšæŒå¤šå°‘ç§’ é¢˜è§£äºŒåˆ†ç­”æ¡ˆï¼Œç›´æ¥ç®—æ˜¯é”™è¯¯çš„ï¼Œåªèƒ½äºŒåˆ†ã€‚ G. Game of Cardsé¢˜æ„æœ‰å››ä¸ªå¡ç‰‡ï¼Œä»–ä»¬çš„æ•°å€¼åˆ†åˆ«æ˜¯0ï¼Œ1ï¼Œ2ï¼Œ3ï¼Œä¸¤ä¸ªäººè½®æµæ“ä½œï¼Œæ“ä½œæ˜¯å¯ä»¥é€‰æ‹©ä¸¤å¼ å’Œå°äºç­‰äº3çš„å¡ç‰‡ï¼Œå°†ä»–ä»¬åˆå¹¶æˆä¸€å¼ æ–°çš„å¡ç‰‡ï¼Œå¡ç‰‡çš„å€¼æ˜¯å’Œã€‚è°ä¸èƒ½æ“ä½œè°å°±è¾“äº†ã€‚ é¢˜è§£è€ƒè™‘3çš„æ•°é‡ä¸º0çš„æƒ…å†µï¼Œæ‰‹æ¨sgå‡½æ•°æœ‰å¾ªç¯èŠ‚ï¼Œ ç´§æ¥ç€è€ƒè™‘ä¸‰ç»´sgå‡½æ•°ï¼Œä¸Šç¨‹åºæ‰“è¡¨å‘ç°ä¸‰ç»´ä¹Ÿæœ‰å¾ªç¯èŠ‚ã€‚ J. Joy of Handcrafté¢˜æ„nä¸ªç¯æ³¡ï¼Œæ¯ä¸ªç¯æ³¡éƒ½æ˜¯å‘¨æœŸæ€§å‘å…‰å’Œç†„ç­,åœ¨æ—¶é—´$2kt_i+1$åˆ°æ—¶é—´$2kt_i+t_i$å‘å…‰ï¼Œåœ¨æ—¶é—´$2kt_i+t_i+1$åˆ°æ—¶é—´$2kt_i+2t_i$ç†„ç­ï¼Œå‘å…‰å¼ºåº¦ä¸º$x_i$ã€‚ ä¸ºä½ ä»æ—¶åˆ»1åˆ°æ—¶åˆ»mï¼Œæœ€äº®çš„ç¯æ³¡æœ‰å¤šäº®ã€‚ æ•°æ®èŒƒå›´$n,m&lt;10^5$ $1 \\le t_i,x_i \\le 10^5$ é¢˜è§£é¢„å¤„ç†æ¯ä¸ªå‘¨æœŸæœ€äº®çš„ç¯æ³¡æ˜¯å“ªä¸€ä¸ªï¼Œç„¶åä¼šå¾—åˆ°æœ€å¤šmä¸ªå‘¨æœŸï¼Œå¯¹æ‰€æœ‰å‘¨æœŸæš´åŠ›å–å‡ºå‘å…‰åŒºé—´ï¼Œæ ¹æ®è°ƒå’Œçº§æ•°çš„å’Œå¯ä»¥å¾—å‡ºï¼Œæœ€å¤š$mlogm$ä¸ªåŒºé—´ï¼Œæœ€åç¦»çº¿åˆå¹¶å¤„ç†ã€‚ K. Knowledge is Poweré¢˜æ„è¾“å…¥ä¸€ä¸ªæ•°$n$ï¼Œé—®ä½ èƒ½ä¸èƒ½æŠŠå®ƒåˆ†æˆè‡³å°‘ä¸¤ä¸ªå¤§äºç­‰äº2çš„æ•´æ•°ï¼Œå…¶ä¸­ä¸¤ä¸¤äº’è´¨ä¸”å’Œä¸ºnã€‚ é¢˜è§£åˆ†ç±»è®¨è®ºå°±å¯ä»¥äº†ï¼ŒæŒ‰ç…§æ¨¡4å‰©ä½™çš„æƒ…å†µåˆ†ï¼Œæ³¨æ„æœ€å¤§ç­”æ¡ˆä¸º4 12345678910111213141516171819202122232425262728293031323334353637383940414243444546#include &lt;bits/stdc++.h&gt;using namespace std;#define ll long longint main() &#123; int t; scanf(&quot;%d&quot;, &amp;t); for(int tt = 1; tt &lt;= t; ++tt)&#123; int x; scanf(&quot;%d&quot;, &amp;x); printf(&quot;Case #%d: &quot;, tt); if(x == 6) &#123; printf(&quot;-1\\n&quot;); continue; &#125; if(x &amp; 1) &#123; printf(&quot;1\\n&quot;); &#125; else &#123; if(x % 4 == 0) &#123; printf(&quot;2\\n&quot;); &#125; else &#123; if((x - 3) % 3 == 0) &#123; int y = (x - 3) / 3; if(__gcd(y, y + 2) == 1) &#123; printf(&quot;2\\n&quot;); continue; &#125; &#125; else if((x - 4) % 3 == 0) &#123; int y = (x - 4) / 3; if(__gcd(y, y + 1) == 1 &amp;&amp; __gcd(y, y + 3) == 1 &amp;&amp; __gcd(y + 1, y + 3) == 1) &#123; printf(&quot;3\\n&quot;); continue; &#125; &#125; else if((x - 5) % 3 == 0) &#123; int y = (x - 5) / 3; if(__gcd(y, y + 2) == 1 &amp;&amp; __gcd(y, y + 3) == 1 &amp;&amp; __gcd(y + 2, y + 3) == 1) &#123; printf(&quot;3\\n&quot;); continue; &#125; &#125; printf(&quot;4\\n&quot;); &#125; &#125; &#125;&#125; L. Lotteryé¢˜æ„ç»™ä½ ä¸€äº›ç‰©å“ï¼Œæ¯ä¸ªç‰©å“çš„å®¹é‡ä¸º$2^{a_i}$, ä¸ªæ•°ä¸º$b_i$, ä½ å¯ä»¥éšæ„é€‰æ‹©ï¼Œæœ€åè®¡ç®—å®¹é‡ï¼Œé—®ä½ èƒ½é€‰å‡ºå¤šå°‘æ€»å®¹é‡ï¼ˆèƒŒåŒ…è®¡æ•°ï¼‰ é¢˜è§£é¦–å…ˆè€ƒè™‘äºŒè¿›åˆ¶åˆ†ç»„ï¼Œæœ€åæ¯ä¸ªäºŒè¿›åˆ¶æ•°æœ€å¤šä¸¤ä¸ªï¼Œæ¥ç€è€ƒè™‘è¿ç»­çš„äºŒè¿›åˆ¶æ•°ï¼Œä½¿ç”¨ç»„åˆæ•°å­¦çš„ä¹˜æ³•åŸç†è¿›è¡Œåˆå¹¶ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485#include &lt;bits/stdc++.h&gt;using namespace std;#define ll long longconst ll mod = 1e9 + 7;const int base = 1 &lt;&lt; 16;static ll pw2[base], basepw2[base];void init() &#123; pw2[0] = 1; for (int i = 1; i &lt; base; i++) &#123; pw2[i] = 2ll * pw2[i - 1] % mod; &#125; const int pw2base = pw2[base - 1] * 2ll % mod; // = 2^base basepw2[0] = 1; // base[i] = pow(2,base)^i for (int i = 1; i &lt; base; i++) &#123; basepw2[i] = 1ll * pw2base * basepw2[i - 1] % mod; &#125;&#125;int qpow2(int index) &#123; const int page = index &gt;&gt; 16; const int offset = index &amp; 0xffff; return 1ll * basepw2[page] * pw2[offset] % mod; // (2^base)^page * 2 ^ offset = 2^(base*page+offset) = 2^index&#125;int main() &#123; int T; init(); scanf(&quot;%d&quot;, &amp;T); for (int cas = 1; cas &lt;= T; ++cas) &#123; int n; scanf(&quot;%d&quot;, &amp;n); unordered_map&lt;int, ll&gt; ma; for (int i = 1; i &lt;= n; ++i) &#123; int a, x; scanf(&quot;%d %d&quot;, &amp;a, &amp;x); ma[a] += x; int l = a; while (ma.find(l) != ma.end() &amp;&amp; ma[l] &gt; 2) &#123; ma[l + 1] += (ma[l] - 1) / 2; ma[l] = ((ma[l] &amp; 1) ? 1 : 2); ++l; &#125; &#125; vector&lt;int&gt; a, b; for (auto item : ma) &#123; a.push_back(item.first); if (item.second &gt; 1) &#123; b.push_back(item.first); &#125; &#125; sort(a.begin(), a.end()); sort(b.begin(), b.end()); int l = 0, r = 0, lb = 0; ll ans = 1; for (int i = 1; i &lt; a.size() + 1; ++i) &#123; if (i &lt; a.size() &amp;&amp; a[i] == a[r] + 1) &#123; r = i; &#125; else &#123; ll sum = 1; for (int j = l; j &lt;= r; ++j) &#123; sum += qpow2(a[j] - a[l]); sum %= mod; &#125; while(lb &lt; b.size() &amp;&amp; b[lb] &lt;= a[r]) &#123; sum += qpow2(b[lb] - a[l]); sum %= mod; ++lb; &#125; ans *= sum; ans %= mod; l = r = i; &#125; &#125; printf(&quot;Case #%d: %lld\\n&quot;, cas, ans); &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"æ¯”èµ›","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ¯”èµ›","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/%E6%AF%94%E8%B5%9B/"}],"tags":[]},{"title":"2020ç‰›å®¢æš‘æœŸå¤šæ ¡è®­ç»ƒè¥ç¬¬å…­åœº","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ¯”èµ›/2020ç‰›å®¢æš‘æœŸå¤šæ ¡è®­ç»ƒè¥ç¬¬å…­åœº/index","date":"2021-05-02T15:48:49.000Z","updated":"2021-05-02T15:48:49.000Z","comments":true,"path":"QSHL9D.html","link":"","permalink":"http://fightinggg.github.io/indigo/QSHL9D.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ¯”èµ›é“¾æ¥https://ac.nowcoder.com/acm/contest/15880?&amp;headNav=www B Binary Vectoré¢˜æ„éšæœºnä¸ªnç»´01å‘é‡ï¼Œè¯¢é—®è¿™ä¸ªnä¸ªå‘é‡çº¿æ€§æ— å…³çš„æ¦‚ç‡ é¢˜è§£è€ƒè™‘ç¬¬ä¸€ä¸ªå‘é‡ï¼Œå¯ä»¥æœ‰$2^n-1$é€‰æ‹©ï¼Œä½ ä¸å¯ä»¥é€‰æ‹©å…¨ä¸º0çš„å‘é‡ ç„¶åè€ƒè™‘ä¸ç¬¬ä¸€ä¸ªå‘é‡çº¿æ€§æ— å…³çš„å‘é‡ï¼Œå¯ä»¥æœ‰$2^n-2^1$ä¸ªï¼Œå› ä¸ºç¬¬ä¸€ä¸ªå‘é‡çš„0å€å’Œ1å€ä¸èƒ½é€‰ã€‚ ç„¶åè€ƒè™‘ä¸ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªå‘é‡çº¿æ€§æ— å…³çš„å‘é‡ï¼Œå¯ä»¥æœ‰$2^n-2^2$ä¸ª äºæ˜¯æœ€ç»ˆçš„æ–¹æ¡ˆæ•°ä¸º$\\begin{aligned}\\prod_{i&#x3D;0}^{n}2^n-2^i\\end{aligned}$ ï¼Œ è€ƒè™‘åˆ†æ¯ä¸º$2^{n\\cdot n}$$$\\begin{aligned}&amp;\\frac{\\begin{aligned}\\prod_{i&#x3D;0}^{n-1}2^n-2^i\\end{aligned}}{2^{n\\cdot n}}\\&amp;&#x3D;\\begin{aligned}\\prod_{i&#x3D;0}^{n-1}1-\\frac{2^i}{2^n}\\end{aligned}\\&amp;&#x3D;\\begin{aligned}\\prod_{i&#x3D;1}^{n}1-2^{-i}\\end{aligned}\\end{aligned}$$","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ¯”èµ›é“¾æ¥https://ac.nowcoder.com/acm/contest/15880?&amp;headNav=www B Binary Vectoré¢˜æ„éšæœºnä¸ªnç»´01å‘é‡ï¼Œè¯¢é—®è¿™ä¸ªnä¸ªå‘é‡çº¿æ€§æ— å…³çš„æ¦‚ç‡ é¢˜è§£è€ƒè™‘ç¬¬ä¸€ä¸ªå‘é‡ï¼Œå¯ä»¥æœ‰$2^n-1$é€‰æ‹©ï¼Œä½ ä¸å¯ä»¥é€‰æ‹©å…¨ä¸º0çš„å‘é‡ ç„¶åè€ƒè™‘ä¸ç¬¬ä¸€ä¸ªå‘é‡çº¿æ€§æ— å…³çš„å‘é‡ï¼Œå¯ä»¥æœ‰$2^n-2^1$ä¸ªï¼Œå› ä¸ºç¬¬ä¸€ä¸ªå‘é‡çš„0å€å’Œ1å€ä¸èƒ½é€‰ã€‚ ç„¶åè€ƒè™‘ä¸ç¬¬ä¸€ä¸ªå’Œç¬¬äºŒä¸ªå‘é‡çº¿æ€§æ— å…³çš„å‘é‡ï¼Œå¯ä»¥æœ‰$2^n-2^2$ä¸ª äºæ˜¯æœ€ç»ˆçš„æ–¹æ¡ˆæ•°ä¸º$\\begin{aligned}\\prod_{i&#x3D;0}^{n}2^n-2^i\\end{aligned}$ ï¼Œ è€ƒè™‘åˆ†æ¯ä¸º$2^{n\\cdot n}$$$\\begin{aligned}&amp;\\frac{\\begin{aligned}\\prod_{i&#x3D;0}^{n-1}2^n-2^i\\end{aligned}}{2^{n\\cdot n}}\\&amp;&#x3D;\\begin{aligned}\\prod_{i&#x3D;0}^{n-1}1-\\frac{2^i}{2^n}\\end{aligned}\\&amp;&#x3D;\\begin{aligned}\\prod_{i&#x3D;1}^{n}1-2^{-i}\\end{aligned}\\end{aligned}$$ C Combination of Physics and Mathsé¢˜æ„ç»™ä½ ä¸€ä¸ªçŸ©é˜µï¼Œä½ å¯ä»¥é€‰æ‹©ä»–çš„ä»»æ„è¡Œåˆ æ‰ï¼Œä»»æ„åˆ—åˆ æ‰ï¼Œä½ è¦ä½¿æœ€åå‰©ä¸‹çš„çŸ©é˜µå…ƒç´ å’Œé™¤ä»¥è¿™ä¸ªçŸ©é˜µæœ€åº•ä¸‹ä¸€è¡Œçš„çš„å…ƒç´ å’Œçš„å•†æœ€å¤§ã€‚è¾“å‡ºè¿™ä¸ªçŸ©é˜µã€‚ æ•°æ®èŒƒå›´çŸ©é˜µå…ƒç´ è¡Œåˆ—æ•°å°äº200ï¼Œå…±è®¡100ç»„è¾“å…¥ã€‚è¾“å…¥æ’æ­£ã€‚ é¢˜è§£å‰©ä¸‹çš„çŸ©é˜µï¼Œä¸€å®šæ˜¯åŸå§‹çŸ©é˜µçš„ä¸Šç¼€ã€‚ ç”±äºä¸ç­‰å¼$\\frac{s_1}{a_1}\\ge\\frac{s_1+s_2}{a_1+a_2}$å’Œ$\\frac{s_2}{a_2}\\ge\\frac{s_1+s_2}{a_1+a_2}$, æ‰€ä»¥æˆ‘ä»¬ä¸å¿…é€‰æ‹©å¤šåˆ—ã€‚åªéœ€è¦ç”Ÿä¸‹æ¥ä¸€åˆ—å§å¯ä»¥äº†ã€‚è¿½åç›´æ¥æš´åŠ›ã€‚ E Easy Constructioné¢˜æ„ä½ è¦æ„é€ ä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ’åˆ—ï¼Œå¯¹äºæ‰€æœ‰çš„é•¿åº¦$d\\in[1,n]$ï¼Œè¿™ä¸ªæ’åˆ—æ»¡è¶³ä»–å­˜åœ¨ä¸€ä¸ªå­ä¸²å…¶å’Œæ¨¡nä¸ºk é¢˜è§£ç›´æ¥è€ƒè™‘é•¿åº¦ä¸ºnçš„å­ä¸²ï¼Œå…¶å®å°±æ˜¯ä»–è‡ªèº«ï¼Œå…¶å’Œä¸º$\\frac{n\\cdot (n+1)}{2}$ å¦‚æœnä¸ºå¥‡æ•°ï¼Œåˆ™kå¿…é¡»ä¸º0ï¼Œç„¶åè¿™æ ·æ„é€ ï¼Œæˆ‘ä»¬çš„å¶æ•°å‰ç¼€æ»¡è¶³æ¨¡nä¸º0ï¼Œæˆ‘ä»¬çš„å¥‡æ•°åç¼€æ»¡è¶³æ¨¡nä¸º0 11,n-1,2,n-2,3,n-3...,n å¦‚æœnä¸ºå¶æ•°ï¼Œåˆ™kå¿…é¡»ä¸º$\\frac{n}{2}$ï¼Œè€ƒè™‘åˆ°nçš„åç¼€å’Œåˆ°n&#x2F;2çš„åç¼€ 11,n-1,2,n-2,3,n-3...,n/2,n J Josephus Transformé¢˜æ„ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ’åˆ—ï¼Œè¾“å…¥mä¸ªæ“ä½œï¼Œæ¯ä¸ªæ“ä½œä»¥aä¸ºåŸºæ•°ï¼Œå°†çº¦ç‘Ÿå¤«ç¯çš„å‡ºç¯é¡ºåºä½œä¸ºæ–°çš„æ’åˆ—ã€‚ä¸€å…±åšbæ¬¡ã€‚é—®ä½ æœ€åæ’åˆ—å˜æˆäº†ä»€ä¹ˆã€‚ é¢˜è§£ä½¿ç”¨æ•°ç»„æ•°ç»„ç»´æŠ¤çº¦ç‘Ÿå¤«ç¯å¯¹åº”çš„ç½®æ¢ï¼Œç„¶åä½¿ç”¨ç½®æ¢å¿«é€Ÿå¹‚ï¼Œæœ€åä¹˜èµ·æ¥å¾—åˆ°æœ€åçš„æ’åˆ—ã€‚ K K-Bagé¢˜æ„å¦‚æœä¸€ä¸ªåºåˆ—å¯ä»¥è¢«åˆ†æˆå¤šä¸ªä¸é‡å å­ä¸²ï¼Œæ¯ä¸ªå­ä¸²éƒ½æ˜¯ä¸€ä¸ª1åˆ°kçš„æ’åˆ—ï¼Œåˆ™è¿™ä¸ªåºåˆ—è¢«ç§°ä¸ºæ˜¯ä¸€ä¸ªK-Bagï¼Œç»™ä½ ä¸€ä¸ªåºåˆ—ï¼Œé—®ä½ ä»–æœ‰æ²¡æœ‰å¯èƒ½æ˜¯æŸä¸ªK-Bagçš„å­ä¸²ã€‚ é¢˜è§£é¢„å¤„ç†æ¯ä¸€ä¸ªé•¿åº¦ä¸ºkçš„å­ä¸²ï¼Œåˆ¤æ–­ä»–æ˜¯ä¸æ˜¯æ’åˆ—ï¼Œç„¶åæšä¸¾åºåˆ—å¼€å¤´éæ’åˆ—çš„é•¿åº¦ã€‚","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"æ¯”èµ›","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ¯”èµ›","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/%E6%AF%94%E8%B5%9B/"}],"tags":[]},{"title":"ç¾¤è®º","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦/ç¾¤è®º/index","date":"2021-05-01T10:11:00.000Z","updated":"2021-05-01T10:11:00.000Z","comments":true,"path":"QSFAYC.html","link":"","permalink":"http://fightinggg.github.io/indigo/QSFAYC.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial é›†åˆè®ºé›†åˆè®ºæ˜¯ç¾¤è®ºçš„åŸºç¡€ï¼Œç¾¤è®ºæ˜¯å»ºç«‹åœ¨é›†åˆè®ºä¸Šçš„ã€‚ é›†åˆçš„åŸºæœ¬æ“ä½œé›†åˆçš„äº¤$$A \\cap B &#x3D; \\lbrace x \\vert x \\in A \\wedge x \\in B \\rbrace$$ é›†åˆçš„å¹¶$$A \\cup B &#x3D; \\lbrace x\\vert x \\in A \\vee x \\in B \\rbrace$$ é›†åˆçš„ç¬›å¡å°”ç§¯æ³¨æ„åˆ°ç¬›å¡å°”ç§¯æ˜¯ä¸€ä¸ªäºŒå…ƒç»„ã€‚$$A \\times B &#x3D; \\lbrace (x,y) \\vert x \\in A \\wedge y \\in B \\rbrace$$ é›†åˆçš„æ˜ å°„æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ˜ å°„$f$æ»¡è¶³ $f(x) &#x3D; y $ï¼Œ å…¶ä¸­ $x\\in A$ï¼Œ $y\\in B$ï¼Œ å³æ˜ å°„å¯ä»¥æŠŠä¸€ä¸ªé›†åˆAä¸­çš„å…ƒç´ æ˜ å°„åˆ°é›†åˆBä¸­çš„ä¸€ä¸ªå…ƒç´ ã€‚ å¯ä»¥ç§°æ˜ å°„$f$ä½œç”¨äºé›†åˆAï¼Œæ˜ å°„åˆ°é›†åˆB","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial é›†åˆè®ºé›†åˆè®ºæ˜¯ç¾¤è®ºçš„åŸºç¡€ï¼Œç¾¤è®ºæ˜¯å»ºç«‹åœ¨é›†åˆè®ºä¸Šçš„ã€‚ é›†åˆçš„åŸºæœ¬æ“ä½œé›†åˆçš„äº¤$$A \\cap B &#x3D; \\lbrace x \\vert x \\in A \\wedge x \\in B \\rbrace$$ é›†åˆçš„å¹¶$$A \\cup B &#x3D; \\lbrace x\\vert x \\in A \\vee x \\in B \\rbrace$$ é›†åˆçš„ç¬›å¡å°”ç§¯æ³¨æ„åˆ°ç¬›å¡å°”ç§¯æ˜¯ä¸€ä¸ªäºŒå…ƒç»„ã€‚$$A \\times B &#x3D; \\lbrace (x,y) \\vert x \\in A \\wedge y \\in B \\rbrace$$ é›†åˆçš„æ˜ å°„æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ˜ å°„$f$æ»¡è¶³ $f(x) &#x3D; y $ï¼Œ å…¶ä¸­ $x\\in A$ï¼Œ $y\\in B$ï¼Œ å³æ˜ å°„å¯ä»¥æŠŠä¸€ä¸ªé›†åˆAä¸­çš„å…ƒç´ æ˜ å°„åˆ°é›†åˆBä¸­çš„ä¸€ä¸ªå…ƒç´ ã€‚ å¯ä»¥ç§°æ˜ å°„$f$ä½œç”¨äºé›†åˆAï¼Œæ˜ å°„åˆ°é›†åˆB ç¾¤è®ºäºŒå…ƒè¿ç®—ç»™å®šé›†åˆ$A$ï¼Œä¸éš¾å‘ç°$A\\times A&#x3D;\\lbrace(x,y)\\vert x\\in A \\vee y\\in A\\rbrace$ ç»™å®šæ˜ å°„$f$ä½œç”¨äºé›†åˆ$A\\times A$ï¼Œ å¦‚æœä»–ä¾ç„¶æ˜ å°„åˆ°é›†åˆ$A$ï¼Œ å³$$\\exists x\\in A,\\exists y\\in A æ»¡è¶³f((x,y)) \\in A$$åˆ™$f$å®ç°äº†äºŒå…ƒè¿ç®—ï¼Œä¸ºäº†ç®€åŒ–è¿™ç§è¡¨ç¤ºï¼Œæˆ‘ä»¬å¸¸å¸¸ä½¿ç”¨ç¬¦å·$x\\circ y$è¡¨ç¤º$f((x,y))$ åŠç¾¤ç»™å®šéç©ºé›†åˆ$A$ï¼Œ ç»™å®šäºŒå…ƒè¿ç®—$\\circ$ï¼Œ å¦‚æœæ»¡è¶³ å°é—­æ€§: $\\forall x \\in A, \\forall y \\in A$, éƒ½æœ‰$x\\circ y \\in A$ ç»“åˆå¾‹: $\\forall x \\in A, \\forall y \\in A, \\forall z \\in A$,éƒ½æœ‰$(x\\circ y)\\circ z &#x3D; x\\circ( y \\circ z)$ åˆ™éç©ºé›†åˆAå’ŒäºŒå…ƒè¿ç®—å…±åŒæ„æˆåŠç¾¤ï¼Œä¹Ÿç§°$\\lbrace A:\\circ\\rbrace$æ˜¯ä¸€ä¸ªåŠç¾¤ã€‚ å¹ºåŠç¾¤ç»™å®š$\\lbrace A:\\circ\\rbrace$æ˜¯ä¸€ä¸ªåŠç¾¤ï¼Œ å¦‚æœ$\\exists e_1 \\in A$ï¼Œ $\\forall x \\in A$éƒ½æœ‰$e_1\\circ x &#x3D; x$ï¼Œ åˆ™ç§°$e_1$ä¸ºå·¦å¹ºå…ƒï¼Œä¹Ÿç§°ä¸ºå·¦å•ä½å…ƒã€‚ ç»™å®š$\\lbrace A:\\circ\\rbrace$æ˜¯ä¸€ä¸ªåŠç¾¤ï¼Œ å¦‚æœ$\\exists e_2 \\in A$ï¼Œ $\\forall x \\in A$éƒ½æœ‰$x\\circ e_2 &#x3D; x$ï¼Œ åˆ™ç§°$e_2$ä¸ºå³å¹ºå…ƒï¼Œä¹Ÿç§°ä¸ºå³å•ä½å…ƒã€‚ ç»™å®š$\\lbrace A:\\circ\\rbrace$æ˜¯ä¸€ä¸ªåŠç¾¤ï¼Œ å¦‚æœå·¦å•ä½å…ƒä¸å³å•ä½å…ƒå‡å­˜åœ¨ï¼Œåˆ™$\\lbrace A:\\circ\\rbrace$æ˜¯ä¸€ä¸ªå¹ºåŠç¾¤ã€‚ä¸éš¾è¯æ˜è¿™æ—¶$e_1&#x3D;e_2$ï¼ˆè€ƒè™‘$e_1\\circ e_2$ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬å¸¸å¸¸ç§°å¹ºåŠç¾¤çš„å•ä½å…ƒä¸º$e$ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯å¦‚æœå³å¹ºå…ƒä¸å­˜åœ¨ï¼Œå·¦å¹ºå…ƒå­˜åœ¨ï¼Œåˆ™å·¦å¹ºå…ƒä¸ä¸€å®šå”¯ä¸€ï¼Œå‚è€ƒå¦‚ä¸‹åŠç¾¤, å…¶ä¸­æ‰€æœ‰å…ƒç´ éƒ½æ˜¯å·¦å•ä½å…ƒï¼Œä¸”ä¸å­˜åœ¨å³å•ä½å…ƒã€‚$$A&#x3D;\\lbrace a_1,a_2,a_3,a_4\\rbrace, \\f((x,y)) &#x3D; y$$ ç¾¤ç»™å®š$\\lbrace A:\\circ\\rbrace$æ˜¯ä¸€ä¸ªå¹ºåŠç¾¤ï¼Œ$e$ä¸ºå…¶å•ä½å…ƒï¼Œå¦‚æœ$\\forall x \\in A$ï¼Œéƒ½$\\exists r_1 \\in A$ ä½¿å¾—$r_1\\circ x&#x3D;e$, åˆ™ç§°$e_1$ä¸ºå·¦é€†å…ƒã€‚ ç»™å®š$\\lbrace A:\\circ\\rbrace$æ˜¯ä¸€ä¸ªå¹ºåŠç¾¤ï¼Œ$e$ä¸ºå…¶å•ä½å…ƒï¼Œå¦‚æœ$\\forall x \\in A$ï¼Œéƒ½$\\exists r_2 \\in A$ ä½¿å¾—$x\\circ r_2 &#x3D;e$, åˆ™ç§°$e_2$ä¸ºå³é€†å…ƒã€‚ ç»™å®š$\\lbrace A:\\circ\\rbrace$æ˜¯ä¸€ä¸ªå¹ºåŠç¾¤ï¼Œå¦‚æœ$\\forall x \\in A$ï¼Œå…¶å·¦é€†å…ƒå’Œå³é€†å…ƒå‡å­˜åœ¨ï¼Œåˆ™$\\lbrace A:\\circ\\rbrace$æ˜¯ä¸€ä¸ªç¾¤ã€‚ä¸éš¾è¯æ˜æ­¤æ—¶$r_1&#x3D;r_2$ï¼ˆè€ƒè™‘$r_1\\circ x\\circ r_2$ï¼‰, æ‰€ä»¥æˆ‘ä»¬å¸¸å¸¸ç§°ç¾¤çš„é€†å…ƒä¸º$r$ã€‚ äº¤æ¢ç¾¤ç»™å®š$\\lbrace A:\\circ\\rbrace$æ˜¯ä¸€ä¸ªç¾¤ï¼Œå¦‚æœ$\\forall x \\in A ï¼Œ \\forall y \\in A$ éƒ½æœ‰$x\\circ y &#x3D; y\\circ x$, åˆ™ç§°$\\lbrace A:\\circ\\rbrace$æ˜¯ä¸€ä¸ªäº¤æ¢ç¾¤ã€‚ æ•´æ•°æ¨¡ç¾¤pass ç´ æ•°æ¨¡ç¾¤pass ç½®æ¢ç¾¤ç»™å®šä¸€ä¸ªæ’åˆ—$P&#x3D;\\lbrace p_1,p_2,p_3â€¦p_n\\rbrace$, å®šä¹‰æ˜ å°„è§„åˆ™$$\\begin{aligned}1 \\to p_1\\2 \\to p_2\\3 \\to p_3\\â€¦\\n \\to p_n\\end{aligned}$$äºæ˜¯æˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ªæ˜ å°„h,ä¸å¦¨æŠŠè¿™ä¸ªæ˜ å°„å†™åš$$h&#x3D;\\begin{pmatrix}1 &amp; 2 &amp; 3 &amp;â€¦ &amp;n\\\\p_1 &amp; p_2 &amp; p_3 &amp;â€¦ &amp;p_n\\end{pmatrix}$$ è€ƒè™‘æ’åˆ—çš„æ•°é‡ï¼Œæˆ‘ä»¬ä¸€å…±æœ‰$n!$ä¸ªæ˜ å°„ï¼ŒæŠŠè¿™äº›æ˜ å°„æ„æˆçš„é›†åˆç§°ä¸ºé›†åˆ$A$ã€‚ è€ƒè™‘æ˜ å°„çš„å¤åˆè¿ç®—$h(x)$å¤åˆ$g(x)$å¾—åˆ°äº†$h(g(x))$ï¼Œæˆ‘ä»¬ä¹Ÿå¯å†™ä½œ$(h\\circ g)(x)$, æˆ‘ä»¬æŠŠæ˜ å°„çš„å¤åˆè¿ç®—ç§°ä¸º$f$,åˆ™$f((h,g)) &#x3D; (h \\circ g)$ ä¸éš¾è¯æ˜$\\lbrace A:f\\rbrace$æ˜¯ä¸€ä¸ªç¾¤ã€‚æˆ‘ä»¬å¸¸å¸¸ç§°è¿™ä¸ªç¾¤ä¸º$n$å…ƒç½®æ¢ç¾¤ã€‚ å½“ç„¶å¤§éƒ¨åˆ†ç½®æ¢ç¾¤ä¸å®šæ˜¯äº¤æ¢ç¾¤ã€‚ å¾ªç¯ä¹˜ç§¯å¾ªç¯ä¹˜ç§¯åªæ˜¯ç½®æ¢çš„å¦ä¸€ç§è¡¨ç¤ºæ–¹æ³•ã€‚ è€ƒè™‘ä¸€ä¸ªç½®æ¢ï¼Œå¦‚æœæŒ‰ç…§ä»–çš„çš„æ˜ å°„è§„åˆ™æŠŠå…¶ä¸­çš„æ•´æ•°è¿æ¥èµ·æ¥ï¼Œå¦‚ä¸‹$$\\begin{pmatrix}1 &amp; 2 &amp; 3 &amp;4 &amp;5 &amp;6\\\\3 &amp; 1 &amp; 6 &amp;2 &amp;4 &amp;5\\end{pmatrix}$$ 12graph LR1--&gt;3--&gt;6--&gt;5--&gt;4--&gt;2--&gt;1 ä»–å¯ä»¥æŒ‰ç…§ç¯çš„å½¢å¼å†™ä½œ$(1\\space3\\space6\\space5\\space4 \\space2)$ å¦‚æœè¿æ¥ä»¥åï¼Œæœ‰äº›ä¸€å¤šä½™çš„ç‚¹$$\\begin{pmatrix}1 &amp; 2 &amp; 3 &amp;4 &amp;5 &amp;6\\\\3 &amp; 1 &amp; 6 &amp;4 &amp;2 &amp;5\\end{pmatrix}$$ 123graph LR1--&gt;3--&gt;6--&gt;5--&gt;2--&gt;14--&gt;4 åˆ™å¯ä»¥å†™ä½œ$(1\\space3\\space6\\space5\\space2)\\circ(4)$, è€Œå…¶ä¸­é•¿åº¦ä¸º1çš„å¾ªç¯ç½®æ¢å¯ä»¥çœç•¥ï¼Œæ•…è€Œä¹Ÿå¯å†™ä½œ$(1\\space3\\space6\\space5\\space2)$ å¦‚æœæŸäº›ç½®æ¢æœ‰å¤šä¸ªç¯ï¼Œæ¯”å¦‚ä¸‹é¢è¿™ä¸ªç½®æ¢ã€‚$$\\begin{pmatrix}1 &amp; 2 &amp; 3 &amp;4 &amp;5 &amp;6\\\\2 &amp; 1 &amp; 3 &amp;6 &amp;4 &amp;5\\end{pmatrix}$$ 1234graph LR3--&gt;31--&gt;2--&gt;14--&gt;6--&gt;5--&gt;4 å¯¹äºè¿™ä¸ªç½®æ¢ï¼Œå®é™…ä¸Šä»–æ˜¯ä¸¤ä¸ªç½®æ¢çš„ç§¯ï¼Œå³$$\\begin{pmatrix}1 &amp; 2 &amp; 3 &amp;4 &amp;5 &amp;6\\\\2 &amp; 1 &amp; 3 &amp;6 &amp;4 &amp;5\\end{pmatrix}&#x3D;\\begin{pmatrix}1 &amp; 2 &amp; 3 &amp;4 &amp;5 &amp;6\\\\2 &amp; 1 &amp; 3 &amp;4 &amp;5 &amp;6\\end{pmatrix}\\circ\\begin{pmatrix}1 &amp; 2 &amp; 3 &amp;4 &amp;5 &amp;6\\\\1 &amp; 2 &amp; 3 &amp;6 &amp;4 &amp;5\\end{pmatrix}$$è€Œå³è¾¹çš„ä¸¤ä¸ªç½®æ¢å¯ä»¥åˆ†åˆ«å†™ä½œ$(2\\space 1)$å’Œ$(4\\space6\\space5)$, äºæ˜¯å·¦è¾¹çš„ç½®æ¢ç†æ‰€å½“ç„¶çš„å†™æˆäº†$(2\\space 1)\\circ (4\\space6\\space5)$ æ‰€ä»¥ä¸€ä¸ªç½®æ¢ä¸€å®šå¯ä»¥å†™æˆå¤šä¸ªå¾ªç¯ä¹˜ç§¯çš„å¤åˆã€‚ ç½®æ¢ç¾¤çš„äº¤æ¢å¾‹å½“ä¸¤ä¸ªç½®æ¢çš„å¾ªç¯ä¹˜ç§¯è¡¨ç¤ºæ³•ä¸­ï¼Œä¸å­˜åœ¨ç›¸åŒçš„æ•°å­—çš„æ—¶å€™ï¼Œæ»¡è¶³äº¤æ¢å¾‹ã€‚ä¾‹å¦‚$(1\\space2\\space3)\\circ(4\\space5\\space6)&#x3D;(4\\space5\\space6)\\circ (1\\space2\\space3)$, ä»¥åŠ$(1\\space2\\space3)\\circ(1\\space5\\space6)\\ne(1\\space5\\space6)\\circ (1\\space2\\space3)$ ç½®æ¢ç¾¤çš„å•ä½å…ƒ$(1)\\circ(2)\\circ(3)â€¦(n)$ ç½®æ¢ç¾¤çš„é€†å…ƒå¯¹äºç½®æ¢$$h&#x3D;\\begin{pmatrix}1 &amp; 2 &amp; 3 &amp;â€¦ &amp;n\\\\p_1 &amp; p_2 &amp; p_3 &amp;â€¦ &amp;p_n\\end{pmatrix}$$å…¶é€†å…ƒä¸º$$h&#x3D;\\begin{pmatrix}p_1 &amp; p_2 &amp; p_3 &amp;â€¦ &amp;p_n\\\\1 &amp; 2 &amp; 3 &amp;â€¦ &amp;n\\end{pmatrix}$$ ç½®æ¢ç¾¤çš„æ•´æ•°å¹‚è€ƒè™‘ä¸€ä¸ªnå…ƒç½®æ¢$g$, è€ƒè™‘$g\\circ g$, ä¸å¦¨å†™ä½œ$g^2$, å†è€ƒè™‘$g\\circ g\\circ g$, ä¸å¦¨å†™ä½œ$g^3$, å¦‚ä½•å¿«é€Ÿè®¡ç®—$g^k$ è§£æ³•1: ç”±äºç½®æ¢ç¾¤æ»¡è¶³ç»“åˆå¾‹ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ä½¿ç”¨å¿«é€Ÿå¹‚ç®—æ³•ï¼Œæ—¶é—´å¤æ‚åº¦$O(n\\cdot log(k))$ è§£æ³•2: å¯¹ç½®æ¢åšå¹‚ï¼Œå¯å°†ç½®æ¢åˆ†è§£ä¸ºä¸ç›¸äº¤çš„å¾ªç¯ä¹˜ç§¯ï¼Œç„¶ååˆ†åˆ«åšå¹‚ï¼Œæœ€ååˆå¹¶ï¼Œå³å¦‚æœ$g&#x3D;g_1\\circ g_2$, åˆ™$g^k&#x3D;(g_1\\circ g_2)^k&#x3D;g_1^k\\circ g_2^k$, ç”±äºå¯¹å¾ªç¯ä¹˜ç§¯åšå¹‚ï¼Œåªéœ€è¦åœ¨å…¶å¯¹åº”çš„ç¯ä¸Šè·³è·ƒç›¸åŒçš„é•¿åº¦å³å¯ï¼Œæ‰€ä»¥å¯ä»¥$O(n)$æ¨¡æ‹Ÿï¼Œæœ€ç»ˆåˆ†è§£å¤æ‚åº¦$O(n)$ï¼Œå¯¹å¾ªç¯ä¹˜ç§¯åšå¹‚å¤æ‚åº¦$O(n)$, åˆå¹¶å¤æ‚åº¦$O(n)$,æ€»å¤æ‚åº¦$O(n)$ã€‚ ç½®æ¢ç¾¤çš„åˆ†æ•°å¹‚è€ƒè™‘è®¡ç®—$g^\\frac{a}{b}$ åŒ–ç®€: $g^\\frac{a}{b}&#x3D;(g^\\frac{1}{b})^a$ è¯æ˜è¿‡ç¨‹è¿™é‡Œä¸åšå±•å¼€ã€‚ äºæ˜¯åªéœ€è¦è®¡ç®—$g^\\frac{1}{b}$ç„¶åå¯¹å…¶åšæ•´æ•°å¹‚å³å¯ã€‚æˆ‘ä»¬è®¡ç®—$(1\\space2\\spaceâ€¦n)^b$, å‡è®¾å¾—åˆ°äº†$(a_1\\space a_2\\space â€¦ a_n)$ï¼Œç”±äºå¾ªç¯ä¹˜ç§¯ä¸æ•°å€¼æ— å…³ï¼Œæˆ‘ä»¬å¼ºåˆ¶å‡è®¾$(a_1\\space a_2\\space â€¦ a_n)&#x3D;g$ï¼Œåˆ™å¯ç›´æ¥è¿˜åŸ$g^\\frac{1}{b}$","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ•°å­¦","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%95%B0%E5%AD%A6/"}],"tags":[]},{"title":"2020ç‰›å®¢æš‘æœŸå¤šæ ¡è®­ç»ƒè¥ç¬¬äº”åœº","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ¯”èµ›/2020ç‰›å®¢æš‘æœŸå¤šæ ¡è®­ç»ƒè¥ç¬¬äº”åœº/index","date":"2021-04-30T15:48:49.000Z","updated":"2021-05-05T09:26:00.000Z","comments":true,"path":"QSDVXD.html","link":"","permalink":"http://fightinggg.github.io/indigo/QSDVXD.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial é“¾æ¥https://ac.nowcoder.com/acm/contest/15801?&amp;headNav=www B Graphé¢˜æ„nä¸ªç‚¹çš„å¸¦æƒæ ‘ï¼Œä½ å¯ä»¥åˆ è¾¹ï¼Œä½†è¦ä¿è¯åˆ è¾¹åå›¾è”é€šï¼Œå¯ä»¥åŠ è¾¹ï¼Œä½†è¦ä¿è¯åŠ è¾¹åæ‰€æœ‰ç®€å•ç¯çš„å¼‚æˆ–å’Œä¸º0ã€‚ ç°åœ¨ä½ å¯ä»¥éšä¾¿æ“ä½œï¼Œéœ€è¦æ“ä½œåçš„æ ‘çš„è¾¹æƒå’Œæœ€å°ã€‚ é¢˜è§£é¢˜ç›®ä¸­çš„ä¸¤ä¸ªæ“ä½œéƒ½ä¸ä¼šå½±å“ä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´è·¯å¾„çš„å¼‚æˆ–å’Œã€‚æ‰€ä»¥å®é™…ä¸Šç›¸å½“äºç»™äº†ä¸€ä¸ªå®Œå…¨å›¾ï¼Œä¸¤ä¸ªç‚¹ä¹‹é—´çš„è¾¹æƒå°±æ˜¯åŸå§‹æ ‘ä¸Šè¿™ä¸¤ä¸ªç‚¹ä¹‹é—´çš„è·¯å¾„çš„å¼‚æˆ–å’Œï¼Œä½ è¦æ±‚ä¸€ä¸ªæœ€å°ç”Ÿæˆæ ‘ã€‚ å¾ˆå¤šäººéƒ½çŸ¥é“æœ€å°ç”Ÿæˆæ ‘æœ‰Kruskalç®—æ³•å’ŒPrimç®—æ³•ï¼Œä½†æ˜¯å¾ˆå°‘æœ‰äººçŸ¥é“ç¬¬ä¸‰ä¸ªç®—æ³•ï¼šBoruvkaç®—æ³•ï¼Œå› ä¸ºè¿™ä¸ªç®—æ³•ä¸å¸¸ç”¨ã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial é“¾æ¥https://ac.nowcoder.com/acm/contest/15801?&amp;headNav=www B Graphé¢˜æ„nä¸ªç‚¹çš„å¸¦æƒæ ‘ï¼Œä½ å¯ä»¥åˆ è¾¹ï¼Œä½†è¦ä¿è¯åˆ è¾¹åå›¾è”é€šï¼Œå¯ä»¥åŠ è¾¹ï¼Œä½†è¦ä¿è¯åŠ è¾¹åæ‰€æœ‰ç®€å•ç¯çš„å¼‚æˆ–å’Œä¸º0ã€‚ ç°åœ¨ä½ å¯ä»¥éšä¾¿æ“ä½œï¼Œéœ€è¦æ“ä½œåçš„æ ‘çš„è¾¹æƒå’Œæœ€å°ã€‚ é¢˜è§£é¢˜ç›®ä¸­çš„ä¸¤ä¸ªæ“ä½œéƒ½ä¸ä¼šå½±å“ä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´è·¯å¾„çš„å¼‚æˆ–å’Œã€‚æ‰€ä»¥å®é™…ä¸Šç›¸å½“äºç»™äº†ä¸€ä¸ªå®Œå…¨å›¾ï¼Œä¸¤ä¸ªç‚¹ä¹‹é—´çš„è¾¹æƒå°±æ˜¯åŸå§‹æ ‘ä¸Šè¿™ä¸¤ä¸ªç‚¹ä¹‹é—´çš„è·¯å¾„çš„å¼‚æˆ–å’Œï¼Œä½ è¦æ±‚ä¸€ä¸ªæœ€å°ç”Ÿæˆæ ‘ã€‚ å¾ˆå¤šäººéƒ½çŸ¥é“æœ€å°ç”Ÿæˆæ ‘æœ‰Kruskalç®—æ³•å’ŒPrimç®—æ³•ï¼Œä½†æ˜¯å¾ˆå°‘æœ‰äººçŸ¥é“ç¬¬ä¸‰ä¸ªç®—æ³•ï¼šBoruvkaç®—æ³•ï¼Œå› ä¸ºè¿™ä¸ªç®—æ³•ä¸å¸¸ç”¨ã€‚ å¤§ä½“æ¥è¯´å°±æ˜¯é¦–å…ˆæˆ‘ä»¬æœ‰nä¸ªé¡¶ç‚¹ï¼Œä»–ä»¬ç°åœ¨æ˜¯nä¸ªè”é€šå—ï¼Œæˆ‘ä»¬ä½¿ç”¨æŸç§ç®—æ³•ï¼ˆæš´åŠ›å•Šè´ªå¿ƒå•Šæ’åºå•Šä»€ä¹ˆçš„çææï¼‰å¾—åˆ°äº†æ¯ä¸ªè”é€šå—åˆ°ç¦»ä»–æœ€è¿‘çš„è”é€šå—çš„è¾¹ï¼Œç„¶åä¸€æ¬¡æ€§æŠŠè¿™äº›è¾¹å…¨éƒ¨è¿èµ·æ¥ã€‚æœ€ç»ˆæˆ‘ä»¬å¾—åˆ°äº†å°‘äº$\\frac{n}{2}$ä¸ªè”é€šå—ã€‚ç„¶åç»§ç»­å‰é¢çš„ç®—æ³•ï¼Œç›´åˆ°åªå‰©ä¸‹ä¸€ä¸ªè”é€šå—ï¼Œè¿™æ—¶å€™å°±æ˜¯æœ€å°ç”Ÿæˆæ ‘ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªå·æ¥çš„ä¾‹å­ã€‚ å›åˆ°è¿™é¢˜ä¸­ï¼Œæˆ‘ä»¬æŠŠåŸå§‹æ ‘æ ¹åˆ°æ¯ä¸ªç‚¹çš„è·¯å¾„çš„å¼‚æˆ–å’Œæ±‚å‡ºæ¥ï¼Œå®šä¹‰ä¸º$w$, å³æ ¹èŠ‚ç‚¹åˆ°ç‚¹$u$çš„è·¯å¾„çš„å¼‚æˆ–å’Œä¸º$w(u)$ï¼Œé‚£ä¹ˆå¦‚æœæˆ‘ä»¬åœ¨ç”Ÿæˆæ ‘ä¸­ç‚¹$u$åˆ°ç‚¹$v$é‚£æ¡è¾¹çš„æƒå°±æ˜¯$w(u)å¼‚æˆ–w(v)$ã€‚ æˆ‘ä»¬å¯¹æ¯ä¸ªç‚¹çš„æƒæ”¾å…¥å­—å…¸æ ‘ï¼Œç„¶åæ‰§è¡ŒBoruvkaç®—æ³•ï¼Œæ˜¾ç„¶æœ€å¼€å§‹çš„æ—¶å€™ï¼Œnä¸ªè”é€šå—å¯¹åº”nä¸ªå¶å­ç»“ç‚¹ï¼Œè”é€šå—åˆ°ç¦»ä»–æœ€è¿‘çš„è”é€šå—çš„è·ç¦»å°±æ˜¯ä»–çš„åœ¨å­—å…¸æ ‘ä¸Šçš„å…„å¼Ÿã€‚å½“æˆ‘ä»¬åˆå¹¶ä»¥åï¼Œä¼šå‘ç°æ–°çš„è”é€šå—å¯¹åº”å­—å…¸æ ‘ä¸Šçš„ä¸€ä¸ªå­æ ‘ï¼Œåˆå¹¶çš„æ—¶å€™ä¾ç„¶æ˜¯æ‰¾ä»–çš„å…„å¼Ÿï¼Œæ‰€ä»¥è¿™ä¸ªç®—æ³•å°±æ‰§è¡Œå®Œæ¯•äº†ã€‚ C Easyé¢˜æ„aæ˜¯ä¸€ä¸ªå’Œä¸ºné•¿åº¦ä¸ºkçš„æ­£æ•°åºåˆ—ï¼Œbæ˜¯ä¸€ä¸ªå’Œä¸ºmé•¿åº¦ä¸ºkçš„æ­£æ•°åºåˆ—ï¼Œå®šä¹‰$\\begin{aligned}p&#x3D;\\prod_{i&#x3D;1}^k\\min(a_i,b_i)\\end{aligned}$ , å¯¹æ‰€æœ‰çš„aå’Œbï¼Œæ±‚å…¶å¯¹åº”çš„pçš„å’Œã€‚ é¢˜è§£è€ƒè™‘ç”Ÿæˆå‡½æ•°$$\\begin{aligned}f&amp;&#x3D; \\sum_{1\\le i}\\sum_{1\\le j} \\min(i,j)x^iy^j\\&amp;&#x3D; \\sum_{1\\le i\\lt j} ix^iy^j + \\sum_{1\\le j \\lt i} jx^iy^j + \\sum_{1\\le i} ix^iy^i\\end{aligned}$$ $$\\begin{aligned}&amp;\\sum_{1\\le i\\lt j} ix^iy^j\\&#x3D;&amp;\\sum_{1\\le i} ix^i\\frac{y^{i+1}}{1-y}\\&#x3D;&amp;\\frac{y}{1-y}\\sum_{1\\le i} ix^iy^i\\end{aligned}$$ $$\\begin{aligned}f&amp;&#x3D; \\sum_{1\\le i\\lt j} ix^iy^j + \\sum_{1\\le j \\lt i} jx^iy^j + \\sum_{1\\le i} ix^iy^i\\&amp;&#x3D;\\frac{y}{1-y}\\sum_{1\\le i} ix^iy^i \\frac{x}{1-x}\\sum_{1\\le i} ix^iy^i \\sum_{1\\le i} ix^iy^i\\&amp;&#x3D; (\\frac{y}{1-y}+\\frac{x}{1-x}+1)\\sum_{1\\le i} ix^iy^i\\&amp;&#x3D; (\\frac{y}{1-y}+\\frac{x}{1-x}+1)\\frac{xy}{(1-xy)^2}\\&amp;&#x3D;\\frac{xy}{(1-x)(1-y)(1-xy)}\\end{aligned}$$ ç”±äºéœ€è¦è®¡ç®—$f^k$çš„$x^ny^m$çš„æ¬¡æ•°ï¼Œ æˆ‘ä»¬å¾—åˆ°äº†$$\\begin{aligned}&amp;f^k\\&#x3D;&amp;(xy)^k(1-x)^{-k}(1-y)^{-k}(1-xy)^{-k}\\end{aligned}$$è¿™é‡Œéœ€è¦æˆ‘ä»¬æšä¸¾$(1-xy)^{-k}$çš„æ¬¡æ•°$i$,åˆ™$(1-x)^{-k}$çš„æ¬¡æ•°å¿…é¡»æ˜¯$n-k-i$, åˆ™$(1-y)^i$çš„æ¬¡æ•°å¿…é¡»æ˜¯$m-k-i$$$\\begin{aligned}&amp;\\sum_{i&#x3D;0}^{min(n-k,m-k)}C_{-k}^i (-1)^i \\cdotC_{-k}^{n-k-i} (-1)^{n-k-i} \\cdotC_{-k}^{m-k-i} (-1)^{m-k-i}\\&#x3D;&amp;\\sum_{i&#x3D;0}^{min(n-k,m-k)}C_{i+k-1}^{k-1} \\cdotC_{n-i-1}^{k-1} \\cdotC_{m-i-1}^{k-1}\\end{aligned}$$ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253#include &lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;const int mod = 998244353;int qpow(int a, int b) &#123; int ret = 1; while (b) &#123; if (b &amp; 1) ret = 1ll * ret * a % mod; a = 1ll * a * a % mod; b &gt;&gt;= 1; &#125; return ret;&#125;const int maxn = 2e6 + 10;int fac[maxn], invfac[maxn];void init() &#123; fac[0] = 1; for (int i = 1; i &lt; maxn; i++) &#123; fac[i] = 1ll * fac[i - 1] * i % mod; &#125; invfac[maxn - 1] = qpow(fac[maxn - 1], mod - 2); for (int i = maxn - 2; i &gt;= 0; i--) &#123; invfac[i] = invfac[i + 1] * (i + 1ll) % mod; &#125;&#125;// C_a^bint c(int a, int b) &#123; return 1ll * fac[a] * invfac[b] % mod * invfac[a - b] % mod;&#125;int main() &#123; init(); int t; cin &gt;&gt; t; while (t--) &#123; int n, m, k; cin &gt;&gt; n &gt;&gt; m &gt;&gt; k; int up = min(n - k, m - k); int ans = 0; for (int i = 0; i &lt;= up; i++) &#123; ans += 1ll * c(i + k - 1, k - 1) * c(n - i - 1, k - 1) % mod * c(m - i - 1, k - 1) % mod; ans %= mod; &#125; cout &lt;&lt; ans &lt;&lt; &quot;\\n&quot;; &#125;&#125; D Drop Voicingé¢˜æ„ç»™ä½ ä¸€ä¸ªæ’åˆ—ï¼Œä½ å¯ä»¥éšæ„ä½¿ç”¨ä¸‹é¢çš„ä¸¤ä¸ªæ“ä½œ æŠŠæ’åˆ—$P$å˜ä¸º $P_{n-1},P_1,P_2â€¦P_{n-3},P_{n-2},P_n$ æŠŠæ’åˆ—$P$å˜ä¸º $P_2,P_3â€¦P_{n-2},P_n,P_{n-1},P_1$ å¤šä¸ªè¿ç»­çš„ç¬¬ä¸€ä¸ªæ“ä½œå¯ä»¥åˆå¹¶ä¸ºä¸€æ¬¡multiæ“ä½œï¼Œé—®ä½ æœ€å°‘è¿›è¡Œå¤šå°‘ä¸ªmultiæ“ä½œï¼Œèƒ½æŠŠè¿™ä¸ªæ’åˆ—è¿˜åŸä¸º$1,2,3â€¦n$ æ•°æ®èŒƒå›´æ’åˆ—é•¿åº¦å°äº500 é¢˜è§£æˆ‘ä»¬è€ƒè™‘ä¸€æ¬¡ç¬¬ä¸€ä¸ªæ“ä½œä»¥åï¼Œç´§æ¥ç€æ¥ä¸€æ¬¡ç¬¬äºŒä¸ªæ“ä½œï¼Œåˆ™æ’åˆ—å˜æˆäº† $P_1,P_2,â€¦P_{n-3},P_{n-2},P_{n},P_{n-1}$ æˆ‘ä»¬è€ƒè™‘ä¸¤æ¬¡ç¬¬ä¸€ä¸ªæ“ä½œä»¥åï¼Œç´§æ¥ç€æ¥ä¸¤æ¬¡ç¬¬äºŒä¸ªæ“ä½œï¼Œåˆ™æ’åˆ—å˜æˆäº† $P_1,P_2,â€¦P_{n-3},P_{n},P_{n-2},P_{n-1}$ å¾ˆå®¹æ˜“å‘ç°ï¼Œç¬¬ä¸€ä¸ªæ“ä½œç­‰ä»·äºé€‰æ‹©æœ€åä¸€ä¸ªå…ƒç´ ï¼Œç„¶åæ’å…¥åˆ°ä»»æ„ä¸€ä¸ªåœ°æ–¹ï¼Œè€Œç¬¬äºŒä¸ªæ“ä½œç­‰ç­‰ä»·äºæ—‹è½¬æ•°ç»„ã€‚ äºæ˜¯ï¼Œæˆ‘ä»¬å¦‚æœè€ƒè™‘æŠŠæ•°ç»„æƒ³æƒ³æˆä¸€ä¸ªç¯ï¼Œåˆ™ç¬¬äºŒä¸ªæ“ä½œå°±ä¸ç”¨è€ƒè™‘äº†ï¼Œç¬¬ä¸€ä¸ªæ“ä½œç­‰ä»·äºé€‰æ‹©ä¸€ä¸ªå…ƒç´ ï¼Œæ’å…¥åˆ°ç¯çš„ä»»ä½•åœ°æ–¹ã€‚ æœ€åï¼Œåªéœ€è¦æšä¸¾ç¯çŠ¶æ•°ç»„çš„èµ·ç‚¹ï¼Œç„¶åæ±‚liså³å¯ã€‚ E Bogo Sorté¢˜æ„ç»™ä½ ä¸€ä¸ªç½®æ¢ï¼Œé—®ä½ æœ‰å¤šå°‘ä¸ªæ•°ç»„å¯ä»¥é€šè¿‡æœ‰é™æ¬¡è¿™ä¸ªç½®æ¢è¿˜åŸä¸º$1,2,3â€¦n$ æ•°æ®èŒƒå›´ç½®æ¢é•¿åº¦å°äº$10^5$ é¢˜è§£ç­‰ä»·äºè®¡ç®—ä»¥ç½®æ¢Pä¸ºç”Ÿæˆå…ƒçš„å¾ªç¯å­ç¾¤æ‰€åœ¨çš„é›†åˆçš„å¤§å°ã€‚æŠŠç½®æ¢$P$åˆ†è§£ä¸ºå¾ªç¯ä¹˜ç§¯ï¼Œæ‰€æœ‰å¾ªç¯ä¹˜ç§¯çš„é•¿åº¦çš„lcmå³ä¸ºç­”æ¡ˆã€‚ H Intervalé¢˜æ„ç»™ä½ ä¸€ä¸ªæ•°åˆ—ï¼Œqç»„è¯¢é—®ï¼Œæ¯æ¬¡è¯¢é—®ä¸€ä¸ªåŒºé—´ï¼Œé—®ä½ è¿™ä¸ªåŒºé—´çš„æ‰€æœ‰å­ä¸²çš„æŒ‰ä½ä¸æ‰€æ„æˆçš„é›†åˆçš„å¤§å°ã€‚ æ•°æ®èŒƒå›´æ•°åˆ—é•¿åº¦$10^5$ é¢˜è§£æ¯ä¸ªç‚¹ä½œä¸ºå³ç«¯ç‚¹ï¼Œæœ€å¤šæœ‰logä¸ªå€¼ï¼Œäºæ˜¯æƒ³åˆ°äº†ä»å·¦åˆ°å³æ„å»ºä¸»å¸­æ ‘ï¼Œåˆ™æ¯ä¸€ä¸ªå‰ç¼€æˆ‘ä»¬éƒ½å¯ä»¥è·å¾—ä¸€ä¸ªå…¨å€¼çº¿æ®µæ ‘ã€‚ å½“ä»¥æŸä¸ªç‚¹ä½å³ç«¯ç‚¹è¯¢é—®æ—¶ï¼Œå–å‡ºè¿™ä¸ªä¸»å¸­æ ‘ï¼Œåé¢çš„è§£å†³æ–¹æ¡ˆå°±å’Œæ±‚åŒºé—´å†…ä¸åŒçš„æ•°çš„ä¸ªæ•°ä¸€æ‘¸ä¸€æ ·äº†ã€‚ æ„Ÿæƒ³çœ‹åˆ°ä¸åŒçš„æ•°çš„ä¸ªæ•°ï¼Œåº”è¯¥å¾€ä¸»å¸­æ ‘è€ƒè™‘ã€‚ I Hard Math Problemé¢˜æ„æœ‰ä¸€ä¸ª$n\\times m$çš„å†œç”°ï¼Œä½ å¯ä»¥åœ¨æ¯ä¸ªæ ¼å­ç§æ¤å†œä½œç‰©ã€æŒ–å‘æ”¾æ°´æˆ–è€…æ”¾ç½®è‡ªåŠ¨æ”¶å‰²æœºã€‚ æ¯ä¸ªå†œä½œç‰©çš„ä¸Šä¸‹å·¦å³å››ä¸ªæ ¼å­ä¸­å¿…é¡»è‡³å°‘æœ‰ä¸€ä¸ªæ°´å‘å’Œä¸€ä¸ªè‡ªåŠ¨æ”¶å‰²æœºï¼Œè¿™æ ·çš„å†œä½œç‰©æ‰æœ‰æ•ˆï¼Œå¦åˆ™è¿™ä¸ªå†œä½œç‰©æ— æ•ˆã€‚ é—®ä½ å½“nå’Œmè¶‹äºæ— ç©·å¤§çš„æ—¶å€™ï¼Œåœ¨æ‰€æœ‰çš„$n\\times m$ä¸ªæ–¹æ ¼ä¸­ï¼Œä½ èƒ½ç§æ¤å†œä½œç‰©çš„æ ¼å­æ‰€å æ€»æ ¼å­çš„æ¯”ä¾‹æœ€å¤§æ˜¯å¤šå°‘ã€‚ é¢˜è§£$\\frac{2}{3}$ æ°´ æ”¶ æ°´ æ”¶ æ°´ æ”¶ æ°´ æ”¶ æ°´ æ”¶ æ°´ æ”¶ æ°´ æ”¶ æ°´ æ°´ æ”¶ æ°´ æ”¶ æ°´ æ”¶ æ°´ æ”¶ æ°´ æ”¶ æ°´ æ”¶ æ°´ æ”¶ æ°´ æ°´ æ”¶ æ°´ æ”¶ æ°´ æ”¶ æ°´ æ”¶ æ°´ æ”¶ æ°´ æ”¶ æ°´ æ”¶ æ°´ æ°´ æ”¶ æ°´ æ”¶ æ°´ æ”¶ æ°´ æ”¶ æ°´ æ”¶ æ°´ æ”¶ æ°´ æ”¶ æ°´ æ°´ æ”¶ æ°´ æ”¶ æ°´ æ”¶ æ°´ æ”¶ æ°´ æ”¶ æ°´ æ”¶ æ°´ æ”¶ æ°´","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"æ¯”èµ›","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ¯”èµ›","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/%E6%AF%94%E8%B5%9B/"}],"tags":[]},{"title":"2020ç‰›å®¢æš‘æœŸå¤šæ ¡è®­ç»ƒè¥ç¬¬å››åœº","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ¯”èµ›/2020ç‰›å®¢æš‘æœŸå¤šæ ¡è®­ç»ƒè¥ç¬¬å››åœº/index","date":"2021-04-29T15:48:49.000Z","updated":"2021-05-05T09:25:00.000Z","comments":true,"path":"QSC19D.html","link":"","permalink":"http://fightinggg.github.io/indigo/QSC19D.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial é“¾æ¥https://ac.nowcoder.com/acm/contest/15789 B Basic Gcd Problemé¢˜æ„å®šä¹‰$$f_c(x)&#x3D;\\begin{cases}max_{i&#x3D;1}^n c\\cdot f_c(\\gcd(i,x)) &amp;x\\gt1\\1&amp;x&#x3D;1\\end{cases}$$ è¾“å…¥cå’Œx é¢˜è§£få‡½æ•°è¿­ä»£æ¬¡æ•°è¶Šå¤šï¼Œåˆ™å€¼è¶Šå¤§ï¼Œä¹Ÿå°±æ˜¯xå–gcdçš„æ¬¡æ•°è¶Šå¤šè¶Šå¥½ï¼Œæ‰€ä»¥æ¯æ¬¡é€‰æ‹©xçš„æœ€å¤§å› å­å³å¯ã€‚æœ€ç»ˆä½¿ç”¨å¿«é€Ÿå¹‚è§£å†³ã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial é“¾æ¥https://ac.nowcoder.com/acm/contest/15789 B Basic Gcd Problemé¢˜æ„å®šä¹‰$$f_c(x)&#x3D;\\begin{cases}max_{i&#x3D;1}^n c\\cdot f_c(\\gcd(i,x)) &amp;x\\gt1\\1&amp;x&#x3D;1\\end{cases}$$ è¾“å…¥cå’Œx é¢˜è§£få‡½æ•°è¿­ä»£æ¬¡æ•°è¶Šå¤šï¼Œåˆ™å€¼è¶Šå¤§ï¼Œä¹Ÿå°±æ˜¯xå–gcdçš„æ¬¡æ•°è¶Šå¤šè¶Šå¥½ï¼Œæ‰€ä»¥æ¯æ¬¡é€‰æ‹©xçš„æœ€å¤§å› å­å³å¯ã€‚æœ€ç»ˆä½¿ç”¨å¿«é€Ÿå¹‚è§£å†³ã€‚ C Count New Stringé¢˜æ„ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²Sï¼Œå®šä¹‰f(s,x,y)æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œé•¿åº¦ä¸ºy-x+1ï¼Œä»–çš„ç¬¬kä¸ªå­—ç¬¦ä¸²ä¸º$max_{i&#x3D;x,x+1â€¦x+k}S_i$ ä½ è¦è®¡ç®—$A&#x3D;\\lbrace f(f(s,x_1,y_1),x_2-x_1+1,y_2-x_1+1)| 1\\le x_1\\le x_2 \\le y_2 \\le y_1\\le n \\rbrace$ é¢˜è§£å¯¹äºç¬¬ä¸€å±‚è€Œè¨€ï¼Œåªéœ€è¦è€ƒè™‘æ‰€æœ‰åç¼€å³å¯ã€‚äºæ˜¯æˆäº†ç»™ä½ nä¸ªåç¼€ï¼Œä½ éœ€è¦è®¡ç®—è¿™äº›åç¼€çš„æœ¬è´¨ä¸åŒçš„å­ä¸²ï¼Œç”±äºåç¼€é—´çš„æœ€é•¿å…¬å…±åç¼€å¾ˆé•¿ï¼Œæ‰€ä»¥åœ¨åç¼€è‡ªåŠ¨æœºä¸Šè¦è®°å½•æ¯ä¸ªåç¼€å¯¹åº”çš„lastç»“ç‚¹ã€‚ä»é‚£ä¸ªåœ°æ–¹å¼€å§‹æ‹“å±•å³å¯ã€‚ F Finding the Orderé¢˜æ„æœ‰ä¸¤æ¡å¹³è¡Œçº¿ï¼Œä¸€æ¡ä¸Šæœ‰ABä¸¤ä¸ªç‚¹ï¼Œå¦ä¸€æ¡æœ‰CDä¸¤ä¸ªç‚¹ã€‚ é—®ä½ æ˜¯ABä¸CDåŒå‘ï¼Œè¿˜æ˜¯ABä¸DCåŒå‘ã€‚ é¢˜è§£è€ƒè™‘æ¢¯å½¢ABCDï¼Œæœ‰$AC+BD&gt;AD+BC$ è€ƒè™‘æ¢¯å½¢ABDCï¼Œæœ‰$AD+BC&gt;AC+BD$ H Harder Gcd Problemé¢˜ç›®æè¿°ç»™ä½ 1åˆ°nè¿™nä¸ªæ•°ï¼Œæ¯ä¸ªæ•°åªèƒ½ç”¨ä¸€æ¬¡ï¼Œä½ è¦é€‰å‡ºmä¸ªæ•°å¯¹ï¼Œæ•°å¯¹çš„ä¸¤ä¸ªæ•°ä¸¤ä¸¤äº’ç´ ï¼Œé—®ä½ æœ€å¤šé€‰å¤šå°‘ä¸ªæ•°å¯¹ã€‚ æ•°æ®èŒƒå›´$n&lt;2\\times10^5$ é¢˜è§£ä»å¤§åˆ°å°è€ƒè™‘å¥‡ç´ æ•°pï¼Œå–å‡ºä»–çš„æ‰€æœ‰å€æ•°ï¼Œå¯ä»¥è¯æ˜ï¼Œå¦‚æœè‡³å°‘æœ‰ä¸¤ä¸ªï¼Œåˆ™ä¸€å®šæœ‰$p$å’Œ$2p$, å¦‚æœæœ‰å¥‡æ•°ä¸ªï¼Œåˆ™æ‹¿å‡º2pï¼Œç„¶åä¸¤ä¸¤é…å¯¹ï¼Œå¦‚æœæœ‰å¶æ•°ä¸ªï¼Œåˆ™ä¸¤ä¸¤é…å¯¹ã€‚ æœ€åå‰©ä¸‹æ¥çš„ä¸€å®šå…¨æ˜¯å¶æ•°å’Œä¸€ä¸ª1ï¼Œç›´æ¥ä¸¤ä¸¤é…å¯¹å³å¯ã€‚","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"æ¯”èµ›","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ¯”èµ›","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/%E6%AF%94%E8%B5%9B/"}],"tags":[]},{"title":"2020ç‰›å®¢æš‘æœŸå¤šæ ¡è®­ç»ƒè¥ç¬¬äºŒåœº","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ¯”èµ›/2020ç‰›å®¢æš‘æœŸå¤šæ ¡è®­ç»ƒè¥ç¬¬äºŒåœº/index","date":"2021-04-27T15:48:49.000Z","updated":"2021-05-04T15:48:49.000Z","comments":true,"path":"QS8BXD.html","link":"","permalink":"http://fightinggg.github.io/indigo/QS8BXD.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ¯”èµ›é“¾æ¥https://ac.nowcoder.com/acm/contest/15688?&amp;headNav=www A All with Pairsé¢˜æ„ç»™ä½ å­—ç¬¦ä¸²nä¸ªå­—ç¬¦ä¸²$s_1$ï¼Œ$s_2$ï¼Œ$s_3$ï¼Œâ€¦ $s_n$ç»™ä½ å‡½æ•°$f(s,t)$ï¼Œå…¶å€¼ä¸ºæœ€å¤§çš„é•¿åº¦wï¼Œä½¿å¾—sçš„é•¿åº¦ä¸ºwçš„å‰ç¼€å’Œtçš„é•¿åº¦ä¸ºwçš„åç¼€ç›¸åŒå®Œå…¨ã€‚ ä½ è¦è®¡ç®—$$\\sum_{i&#x3D;1}^{n}\\sum_{i&#x3D;1}^{n}f(s_i,s_j)^2 \\mod 998244353$$ æ•°æ®èŒƒå›´$n&lt;10^5$, å­—ç¬¦ä¸²æ€»é•¿åº¦å°äº$10^6$","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ¯”èµ›é“¾æ¥https://ac.nowcoder.com/acm/contest/15688?&amp;headNav=www A All with Pairsé¢˜æ„ç»™ä½ å­—ç¬¦ä¸²nä¸ªå­—ç¬¦ä¸²$s_1$ï¼Œ$s_2$ï¼Œ$s_3$ï¼Œâ€¦ $s_n$ç»™ä½ å‡½æ•°$f(s,t)$ï¼Œå…¶å€¼ä¸ºæœ€å¤§çš„é•¿åº¦wï¼Œä½¿å¾—sçš„é•¿åº¦ä¸ºwçš„å‰ç¼€å’Œtçš„é•¿åº¦ä¸ºwçš„åç¼€ç›¸åŒå®Œå…¨ã€‚ ä½ è¦è®¡ç®—$$\\sum_{i&#x3D;1}^{n}\\sum_{i&#x3D;1}^{n}f(s_i,s_j)^2 \\mod 998244353$$ æ•°æ®èŒƒå›´$n&lt;10^5$, å­—ç¬¦ä¸²æ€»é•¿åº¦å°äº$10^6$ é¢˜è§£æˆ‘ä»¬æšä¸¾iï¼ŒæŠŠå‰iä¸ªå­—ç¬¦ä¸²å¯¹æ¯ä¸€ä¸ªåç¼€éƒ½hashï¼Œç„¶åæ”¾å…¥mapï¼Œæœ€åæšä¸¾$s_i$çš„å‰ç¼€ï¼Œåœ¨mapä¸­å¯»æ‰¾æ­¤å‰ç¼€çš„hashï¼Œç„¶åå³å¯å¯¹$f(s_i,s_j)$å®ç°è®¡æ•°ï¼Œæœ€åæŠŠå¢åŠ åˆ°å€¼æ·»åŠ åˆ°ç­”æ¡ˆä¸­ã€‚å¤æ‚åº¦$O(len\\cdot\\log(len))$ã€‚lenä¸ºå­—ç¬¦ä¸²æ€»é•¿ã€‚ B Boundaryé¢˜æ„ç»™ä½ äºŒç»´å¹³é¢åˆ°nä¸ªç‚¹ï¼Œä½ è¦æ‰¾ä¸€ä¸ªç»è¿‡åŸç‚¹çš„åœ†ï¼Œç©¿è¿‡å°½å¯èƒ½å¤šçš„ç‚¹ã€‚ æ•°æ®èŒƒå›´æœ€å¤š2000ä¸ªç‚¹ã€‚ é¢˜è§£ä¸‰ä¸ªç‚¹å¯ä»¥ç¡®å®šä¸€ä¸ªåœ†ï¼Œç”±äºæœ‰ä¸€ä¸ªç‚¹åœ¨åŸç‚¹ï¼Œæ‰€ä»¥æˆ‘ä»¬æšä¸¾å¦å¤–ä¸¤ä¸ªç‚¹ã€‚åˆ™å¯ä»¥å”¯ä¸€ç¡®å®šåœ†ï¼Œå¯¹åœ†è¿›è¡Œhashï¼Œç„¶åè®¡æ•°ï¼Œè®¡æ•°æœ€å¤šçš„é‚£ä¸ªå°±æ˜¯ç­”æ¡ˆã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081#include&lt;bits/stdc++.h&gt;using namespace std;#define ll long longconst double inf = 1e18;const double eps = (1e-6);struct point &#123; ll x, y;&#125;;struct circle &#123; double a, b; circle(double a, double b) :a(a), b(b) &#123;&#125;; circle() &#123;&#125;;&#125;;double getFrac(point a, point b, ll isA) &#123; ll z1 = a.x * a.x + a.y * a.y; ll z2 = b.x * b.x + b.y * b.y; ll u1 = 2 * a.x; ll v1 = 2 * a.y; ll u2 = 2 * b.x; ll v2 = 2 * b.y; double fenzi, fenmu; if (isA) &#123; fenzi = z1 * v2 - z2 * v1; fenmu = u1 * v2 - u2 * v1; &#125; else &#123; fenzi = z1 * u2 - z2 * u1; fenmu = v1 * u2 - v2 * u1; &#125; if (fenmu == 0)return inf; return fenzi * 1.0 / fenmu;&#125;int n;const int maxn = 2500;point points[maxn];vector&lt;circle&gt;vec;bool eql(circle c1, circle c2) &#123; if (fabs(c1.a - c2.a) &lt;= eps &amp;&amp; fabs(c1.b - c2.b) &lt;= eps)return true; return false;&#125;int main() &#123; cin &gt;&gt; n; for (ll i = 1; i &lt;= n; i++) &#123; ll x, y; cin &gt;&gt; x &gt;&gt; y; points[i].x = x; points[i].y = y; &#125; for (ll i = 1; i &lt;= n; i++) &#123; for (ll j = i + 1; j &lt;= n; j++) &#123; circle c(getFrac(points[i], points[j], 1), getFrac(points[i], points[j], 0)); if (c.a == inf || c.b == inf)continue; vec.push_back(c); &#125; &#125; if (vec.size() == 0) &#123; cout &lt;&lt; 1 &lt;&lt; endl; return 0; &#125; sort(vec.begin(), vec.end(), [](circle c1, circle c2) &#123; return c1.a == c2.a ? c1.b &lt; c2.b : c1.a &lt; c2.a; &#125;); int ans = 2; int l = 0, r = 0; while (r &lt; vec.size()) &#123; if (eql(vec[l], vec[r])) &#123; r++; &#125; else &#123; ans = max(ans, r - l + 1); l = r; &#125; &#125; ans = max(ans, r - l + 1); ans = (1 + sqrt(1 + 8 * ans)) / 2; cout &lt;&lt; ans &lt;&lt; endl;&#125; C Cover the Treeé¢˜æ„ç»™ä½ ä¸€ä¸ªæ— æ ¹æ ‘ï¼Œä½ éœ€è¦ä½¿ç”¨æœ€å°‘çš„é“¾ä½¿å¾—è¿™æ£µæ ‘çš„æ¯æ¡è¾¹è‡³å°‘è¢«ä¸€æ¡é“¾è¦†ç›–ã€‚ æ•°æ®èŒƒå›´$èŠ‚ç‚¹ä¸ªæ•°n&lt;2\\times 10^5$ é¢˜è§£è´ªå¿ƒï¼Œæˆ‘ä»¬è®©æ¯æ¡é“¾çš„ç«¯ç‚¹éƒ½é€‰æ‹©åº¦æ•°ä¸º1çš„ç»“ç‚¹ã€‚ æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªåº¦æ•°ä¸º1çš„ç»“ç‚¹å½“ä½œæ ¹ï¼ŒæŠŠæ ‘å±•å¼€ä¸ºå¹³é¢ç»“æ„ï¼Œæ ‘æ ¹åœ¨ä¸Šï¼Œå¶å­åœ¨ä¸‹ï¼Œæ˜¾ç„¶æˆ‘ä»¬ç›´æ¥è®©æœ€å·¦è¾¹çš„å¶å­è¿æ¥æœ€å³è¾¹çš„å¶å­å³å¯ï¼Œæœ€åæœ‰ä¸¤ç§æƒ…å†µï¼Œ å‰©ä½™ä¸€ä¸ªç»“ç‚¹ï¼Œæˆ‘ä»¬ç›´æ¥è®©ä»–å’Œæ ¹ç»“ç‚¹ç›¸è¿ã€‚ ä¸å‰©ä½™ä»»ä½•ç»“ç‚¹ï¼Œä½†æ˜¯æœ€åè¿æ¥çš„ä¸¤ä¸ªç»“ç‚¹å½¢æˆçš„é“¾åªèƒ½è¦†ç›–åˆ°lcaï¼Œæ‰€ä»¥æˆ‘ä»¬è®©æ ¹ä¸é‚£ä¸ªlcaç›¸è¿å³å¯ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192#include &lt;bits/stdc++.h&gt;using namespace std;int read() &#123; static bool init = false; if (!init) &#123; ios::sync_with_stdio(false); cin.tie(0); init = true; &#125; int x; cin &gt;&gt; x; return x;&#125;const int maxn = 2e5 + 5;vector&lt;int&gt; tree[maxn];int fa[maxn];int lca(int u, int v) &#123; set&lt;int&gt; se; while (fa[u] != 0) &#123; se.insert(u); u = fa[u]; &#125; se.insert(u); while (se.find(v) == se.end()) &#123; v = fa[v]; &#125; return v;&#125;int main() &#123; int n = read(); for (int i = 0; i &lt; n - 1; i++) &#123; int u = read(); int v = read(); tree[u].push_back(v); tree[v].push_back(u); &#125; queue&lt;int&gt; q; vector&lt;bool&gt; inq(n + 1); int root = -1; for (int i = 1; i &lt;= n; i++) &#123; if (tree[i].size() == 1) &#123; root = i; q.push(i); inq[i] = true; break; &#125; &#125; fa[root] = 0; vector&lt;int&gt; ans; while (!q.empty()) &#123; int u = q.front(); q.pop(); if (tree[u].size() == 1 &amp;&amp; u != root) &#123; ans.push_back(u); &#125; for (int v:tree[u]) &#123; if (inq[v]) &#123; continue; &#125; inq[v] = true; fa[v] = u; q.push(v); &#125; &#125; int size = ans.size(); cout &lt;&lt; size / 2 + 1 &lt;&lt; &quot;\\n&quot;; int i = 0, j = size - 1; while (i &lt; j) &#123; cout &lt;&lt; ans[i] &lt;&lt; &quot; &quot; &lt;&lt; ans[j] &lt;&lt; &quot;\\n&quot;; i++; j--; &#125; if (i == j) &#123; cout &lt;&lt; ans[i] &lt;&lt; &quot; &quot; &lt;&lt; root &lt;&lt; &quot;\\n&quot;; &#125; else &#123; cout &lt;&lt; lca(ans[i], ans[j]) &lt;&lt; &quot; &quot; &lt;&lt; root &lt;&lt; &quot;\\n&quot;; &#125;&#125; E Exclusive ORé¢˜æ„ç»™ä½ é•¿åº¦ä¸ºnçš„åºåˆ—aï¼Œå¯¹äº1åˆ°nçš„æ¯ä¸€ä¸ªæ•°å­—iï¼Œä½ éƒ½è¦è®¡ç®—è¿™ä¸ªåºåˆ—ç²¾ç¡®é€‰æ‹©iä¸ªæ•°å­—èƒ½å¼‚æˆ–å‡ºæ¥çš„æœ€å¤§å¼‚æˆ–å’Œã€‚ ps : æ•°å­—å¯ä»¥é‡å¤é€‰æ‹©ã€‚ æ•°æ®èŒƒå›´$a_i&lt;2^{18}$ é¢˜è§£ä¸éš¾è¯æ˜å½“nå¤§äº36ä»¥åï¼Œéƒ½æ˜¯å¼‚æˆ–æœ€å¤§å€¼ã€‚å¯¹äºå°äº36çš„æƒ…å†µï¼Œä½¿ç”¨fwtå¿«é€Ÿè®¡ç®—å³å¯ã€‚ è¯æ˜: å¯¹äº18ä½çš„äºŒè¿›åˆ¶æ•°ï¼Œå…¶çº¿æ€§åŸºçš„ä¸ªæ•°æœ€å¤šæ˜¯18ï¼Œæ‰€ä»¥18ä¸ªæ•°åŠä»¥å†…ä¸€å®šèƒ½èƒ½å¤Ÿå¼‚æˆ–å‡ºæœ€å¤§çš„å€¼ï¼Œè¿™ä¸ªå€¼æ˜¯ä¸Šç¡®å±Šï¼Œä¸å¦¨è®¾xä¸ªæ•°èƒ½è¾¾åˆ°è¿™ä¸ªä¸Šå±Šï¼Œå…¶ä¸­$x\\le18$ ç„¶åè€ƒè™‘$x+2k$, $k\\ge0$æ˜¾ç„¶ä»–ä»¬éƒ½èƒ½è¾¾åˆ°ï¼Œæˆ‘åªéœ€è¦é€‰ä¸¤ä¸ªç›¸åŒçš„æ•°å­—å³å¯ã€‚ ç„¶åè€ƒè™‘$x+2k+1$, $k\\ge0$, å…¶å®è¿™é‡Œå¹¶ä¸ä¸€å®šèƒ½è¾¾åˆ°ä¸Šå±Šï¼Œæˆ‘ä»¬éœ€è¦æ›´å¤šçš„åˆ†æã€‚è€ƒè™‘è¿™æ ·ä¸€ä¸ªäº‹å®ï¼Œå½“ä½ é€‰æ‹©äº†$x+2k+1\\gt18$çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸€å®šå¯ä»¥æ‰¾åˆ°æ›´å°‘çš„æ•°ï¼Œä½¿å¾—ä»–ä»–ä»¬å¼‚æˆ–å’Œä¸å½“å‰$x+2k+1$ä¸ªæ•°ç›¸ç­‰ã€‚æˆ‘ä»¬ä¸å¦¨è®¾$f[i]$ä¸ºç²¾ç¡®$i$ä¸ªæ•°èƒ½å¼‚æˆ–å‡ºçš„æœ€å¤§å€¼ï¼Œæ˜¾ç„¶$f[i]$å¯ä»¥ç”±$f[j]$è½¬ç§»è¿‡æ¥ï¼Œå…¶ä¸­ijä¹‹å·®ä¸ä¼šè¶…è¿‡18ã€‚ç„¶åè€ƒè™‘$f[j]$ç”±$f[k]$è½¬ç§»è¿‡æ¥ï¼Œjkåªå·®ä¸ä¼šè¶…è¿‡18ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥ç¡®å®šï¼Œ å¦‚æœijå·®ã€jkå·®éƒ½ä¸ºå¶æ•°æˆ–è€…éƒ½ä¸ºå¥‡æ•°ï¼Œåˆ™å¯ä»¥è§„çº¦äº$f[i]ç”±f[k]$è½¬ç§»è¿‡æ¥ï¼Œikä¸ºå¶æ•°ã€‚ å¦‚æœijå·®ã€jkå·®éƒ½ä¸ºä¸€å¥‡ä¸€å¶ï¼Œåˆ™jkä¸­æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæ•°ä¸iä¹‹å·®ä¸ºå¶æ•°ï¼Œä¸å¦¨è®¾å¥¹ä¸ºtï¼Œåˆ™$f[i]$å¯ä»¥æœ‰$f[t]$è½¬ç§»è¿‡æ¥ï¼Œitä¹‹å·®ä¸ºå¶æ•°ã€‚ ç»¼ä¸Šï¼Œå½“iå¤§äº36çš„æ—¶å€™,$f[i]$å¯ä»¥ç”±$f[i-2]$è½¬ç§»ã€‚æ‰€ä»¥æˆ‘ä»¬fwtæš´åŠ›è®¡ç®—åˆ°36å³å¯ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263#include&lt;bits/stdc++.h&gt;using namespace std;//æ±‚å·ç§¯a[]=&gt;fwt(n,0)=&gt;fwt[]=&gt;fwt(n,1)=&gt;a[]//fwt(x$y)=fwt(x)*fwt(y);$ä»£è¡¨|ï¼Œ&amp;ï¼Œ^void fwt(int *a, int n, int f) &#123; for (int k = 1; k &lt; n; k &lt;&lt;= 1) for (int i = 0; i &lt; n; i += (k &lt;&lt; 1)) for (int j = 0; j &lt; k; j++) if (f == 1) &#123; int x = a[i + j], y = a[i + j + k]; //&amp;:a[i+j]+=a[i+j+k]; //|:a[i+j+k]+=a[i+j]; a[i + j] = x + y; a[i + j + k] = x - y; &#125; else &#123; int x = a[i + j], y = a[i + j + k]; //&amp;:a[i+j]-=a[i+j+k]; //|:a[i+j+k]-=a[i+j]; a[i + j] = (x + y) / 2; a[i + j + k] = (x - y) / 2; &#125;&#125;const int maxn = 3e5 + 100;int a[maxn], b[maxn], mx[maxn];int main() &#123; ios::sync_with_stdio(false); cin.tie(0); int n; cin &gt;&gt; n; for (int i = 1; i &lt;= n; ++i) &#123; int x; cin &gt;&gt; x; a[x] = 1; mx[1] = max(mx[1], x); &#125; fwt(a, 1 &lt;&lt; 18, 1); for (int i = 0; i &lt; (1 &lt;&lt; 18); ++i) &#123; b[i] = a[i]; &#125; for (int i = 2; i &lt;= 36; ++i) &#123; for (int j = 0; j &lt; (1 &lt;&lt; 18); ++j) &#123; b[j] = a[j] * b[j]; &#125; fwt(b, 1 &lt;&lt; 18, 0); // c = a^i for (int j = 0; j &lt; (1 &lt;&lt; 18); ++j) &#123; if (b[j]) &#123; b[j] = 1; mx[i] = j; &#125; &#125; fwt(b, 1 &lt;&lt; 18, 1); &#125; for(int i = 37; i &lt;= n; ++i) &#123; mx[i] = mx[i - 2]; &#125; for(int i = 1; i &lt;= n; ++i) &#123; cout &lt;&lt; mx[i] &lt;&lt; &quot; &quot;; &#125; cout &lt;&lt; &quot;\\n&quot;;&#125; G Greater and Greateré¢˜æ„ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸ºnçš„åºåˆ—Aï¼Œå’Œä¸€ä¸ªé•¿åº¦ä¸ºmçš„åºåˆ—Bï¼Œä½ è¦è®¡ç®—Aæœ‰å¤šå°‘ä¸ªå­ä¸²Sï¼Œæ»¡è¶³$\\forall i \\in [1,m] S_i\\gt B_i$ æ•°æ®èŒƒå›´$n&lt;1.5\\times10^5$ $m&lt;4\\times10^4$ é¢˜è§£è®¾$01$çŸ©é˜µ$G[i][j]$ä»£è¡¨$A[i]\\gt B[j]$æ˜¯å¦æˆç«‹ã€‚ åˆ™æˆ‘ä»¬è¦è®¡ç®—çš„å…¶å®æ˜¯Gä¸­æœ‰å¤šå°‘ä¸ªæ–œç€çš„ç›´çº¿ï¼Œå…¶å€¼å…¨æ˜¯1ã€‚ æ¢å¥è¯è¯´ï¼Œä½ è¦è®¡ç®—$bitAnd_{i&#x3D;0}^{m-1} (G[i]&lt;&lt;i)$, $G[i]$ä»£è¡¨çŸ©é˜µGçš„ç¬¬iè¡Œæ‰€ä»£è¡¨çš„äºŒè¿›åˆ¶æ•°ã€‚ æˆ‘ä»¬åŒæ—¶å‘ç°åˆ—ä¸åˆ—æ˜¯ç‹¬ç«‹çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¯¹Aè¿›è¡Œæ’åºï¼Œç„¶åå¯¹äº$G[i]$ï¼Œæ˜¾ç„¶ä»–æ˜¯ä¸€ä¸ªå·¦è¾¹ä¸º0ï¼Œå³è¾¹ä¸º1çš„01ä¸²ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥å¯¹æ¯ä¸€è¡Œä½¿ç”¨bitsetæš´åŠ›æ›´æ–°ï¼Œ æˆ‘ä»¬å‘ç°è¡Œä¸è¡Œæ˜¯ç‹¬ç«‹çš„ã€‚æ‰€ä»¥å¯ä»¥åˆ†åˆ«è®¡ç®—æ¯ä¸€è¡Œï¼Œç„¶åæš´åŠ›ç§»ä½ä½¿ç”¨andè¿ç®—ã€‚ ç©ºé—´å¤æ‚åº¦$O(\\frac{N}{64}+\\frac{M}{64})$ æ—¶é—´å¤æ‚åº¦$O(\\frac{M\\cdot N}{64})$ H Happy Triangleé¢˜æ„å¤šé‡é›†åˆï¼Œæ”¯æŒä¸‰ä¸ªæ“ä½œï¼Œ æ’å…¥ä¸€ä¸ªæ•°x åˆ é™¤ä¸€ä¸ªæ•°x è¯¢é—®èƒ½å¦åœ¨é›†åˆä¸­æ‰¾ä¸¤ä¸ªæ•°ï¼Œå’Œxä¸€èµ·ä½œä¸ºè¾¹é•¿ï¼Œèƒ½æ„æˆä¸‰è§’å½¢ã€‚ é¢˜è§£è€ƒè™‘æŸ¥è¯¢ å¦‚æœxä¸ºæœ€å¤§å€¼ï¼ŒæŸ¥è¯¢ä»–çš„ä¸¤ä¸ªå‰é©±å³å¯ã€‚ å¦‚æœxä¸ºä¸­é—´å€¼ï¼Œä¸€ä¸ªå‰é©±åŠ ä¸€ä¸ªåç»§å³å¯ã€‚ å¦‚æœxä¸ºæœ€å°å€¼ï¼Œæ‰¾åˆ°ç›¸é‚»ä¸¤ä¸ªæ•°ï¼Œè®©ä»–ä»¬å¯¹å·®æœ€å°å³å¯ã€‚ å‰ä¸¤ä¸ªç”¨mapï¼Œåä»¥åç”¨å¹³è¡¡æ•°ã€‚ ä¸ºäº†é¿å…mapçš„è¾¹ç•Œï¼Œå¯ä»¥åœ¨å‰ååŠ å…¥å“¨å…µï¼Œè®¨è®ºçš„æ—¶å€™åˆ é™¤å“¨å…µå³å¯ã€‚ J Just Shuffleé¢˜æ„ç»™ä½ ä¸€ä¸ªç½®æ¢Pï¼Œç»™ä½ ä¸€ä¸ªæ•°å­—kï¼Œä½ è¦è®¡ç®—$P^\\frac{1}{k}$ é¢˜è§£123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232#include &lt;bits/stdc++.h&gt;using namespace std;const int N = 1e5 + 5;typedef vector&lt;int&gt; vi;typedef vector&lt;vector&lt;int&gt;&gt; vvi;/** * * ç½®æ¢æ¨¡ç‰ˆ * ç½®æ¢ä¸‹æ ‡ä»0å¼€å§‹ï¼Œnä»£è¡¨ç½®æ¢çš„é•¿åº¦ï¼Œä¸€èˆ¬ä¸æä¾›å¾ªç¯ä¹˜ç§¯çš„è¿ç®— * *//** * * * * */void show(string s, int *a, int l, int r) &#123; cout &lt;&lt; s; for (int i = l; i &lt;= r; i++) &#123; cout &lt;&lt; a[i] &lt;&lt; &quot; &quot;; &#125; cout &lt;&lt; endl;&#125;// ç½®æ¢å•ä½å…ƒï¼Œ næ˜¯ç½®æ¢çš„é•¿åº¦void get_one(int *a, int n) &#123; for (int i = 0; i &lt; n; ++i) &#123; a[i] = i; &#125;&#125;// æ‹·è´ç½®æ¢void cpy(int *src, int *dst, int n) &#123; for (int i = 0; i &lt; n; i++) &#123; dst[i] = src[i]; &#125;&#125;// ç½®æ¢æ ‡å‡†åŒ–ï¼Œ c=(_b^a)void normal(int *a, int *b, int *c, int n) &#123; vector&lt;int&gt; res(n); for (int i = 0; i &lt; n; i++) &#123; res[a[i]] = b[i]; &#125; cpy(res.data(), c, n);&#125;// ç½®æ¢ä¹˜æ³• c=a*bvoid mul(int *a, int *b, int *c, int n) &#123; vector&lt;int&gt; res(n); for (int i = 0; i &lt; n; ++i) &#123; res[i] = b[a[i]]; &#125; cpy(res.data(), c, n);&#125;// åˆ†è§£ç½®æ¢ä¸ºå¾ªç¯ä¹˜ç§¯vvi decomposition(int *a, int n) &#123; vector&lt;bool&gt; vis(n); vvi res; for (int i = 0; i &lt; n; ++i) &#123; vector&lt;int&gt; tem; if (vis[a[i]]) &#123; continue; &#125; int now = i; while (!vis[a[now]]) &#123; vis[a[now]] = true; tem.push_back(a[now]); now = a[now]; &#125; res.push_back(tem); &#125; return res;&#125;// åˆå¹¶å¾ªç¯ä¹˜ç§¯ä¸ºç½®æ¢void composition(vvi &amp;a, int *b, int n) &#123; vector&lt;int&gt; res(n + 1); for (auto &amp;x:a) &#123; for (int i = 0; i &lt; x.size(); i++) &#123; res[x[i]] = x[(i + 1) % x.size()]; &#125; &#125; cpy(res.data(), b, n);&#125;// åˆ†è§£è½¬æ¢ä¸ºä¸€ä¸ªå¾ªç¯ä¹˜ç§¯, ä¿è¯åªèƒ½åˆ†å‡ºä¸€ä¸ª// a-&gt;bvoid decomposition(int *a, int *b, int n) &#123; cpy(decomposition(a, n).front().data(), b, n);&#125;// åˆå¹¶ä¸€ä¸ªå¾ªç¯ä¹˜ç§¯ä¸ºç½®æ¢void composition(int *a, int *b, int n) &#123; vector&lt;int&gt; res(n); for (int i = 0; i &lt; n; i++) &#123; res[a[i]] = a[(i + 1) % n]; &#125; cpy(res.data(), b, n);&#125;// ç½®æ¢å¿«é€Ÿå¹‚ b=a^kvoid qpow(int *a, int n, int k, int *b) &#123; vvi tem = decomposition(a, n); for (auto &amp;x:tem) &#123; for (int i = 0; i &lt; x.size(); i++) &#123; b[x[i]] = x[(i + k) % x.size()]; &#125; &#125;&#125;void inv(int *a, int *b, int n) &#123; vector&lt;int&gt; res(n); for (int i = 0; i &lt; n; i++) &#123; res[a[i]] = i; &#125; cpy(res.data(), b, n);&#125;// ç½®æ¢å¼€æ–¹ b = a^&#123;1/n&#125;bool sqrt(int *a, int *b, int n, int k) &#123; vector&lt;int&gt; base(n), basepow(n); vvi fac = decomposition(a, n); for (vi &amp;faci:fac) &#123; int size = faci.size(); if (__gcd(k, size) != 1) &#123; // è¿™ä¸ªç®—æ³•æ‰¾ä¸åˆ°è§£ï¼Œä½†æ˜¯è§£åº”è¯¥æ˜¯å­˜åœ¨çš„ return false; &#125; for (int i = 0; i &lt; size; i++) &#123; base[i] = (i + 1) % size; &#125; qpow(base.data(), size, k, basepow.data()); // æŠŠbase å’Œ powbase è½¬åŒ–ä¸ºç½®æ¢ //decomposition(base.data(), base.data(), size); decomposition(basepow.data(), basepow.data(), size); // æˆ‘ä»¬å…³æ³¨ powbase -&gt; base ï¼Œ å³ t \\circ powbase = base // å³ t = base*powbase^&#123;-1&#125; = powbase^&#123;-1&#125; inv(basepow.data(), basepow.data(), size); mul(basepow.data(), faci.data(), faci.data(), size); &#125; composition(fac, b, n); return true;&#125;// get kthstruct bit &#123; int x2; vi d; bit(int mx) &#123; x2 = 1; while (x2 &lt; mx) x2 &lt;&lt;= 1; d = vi(x2 + 1); &#125; void add(int i, int x = 1) &#123; for (i++; i &lt;= x2; i += i &amp; -i) d[i] += x; &#125; int kth(int k) &#123; if (k &gt; d[x2]) return -1; int i = x2 &gt;&gt; 1, p = 0; while (i) &#123; if (d[p + i] &lt; k) p += i, k -= d[p]; i &gt;&gt;= 1; &#125; return p; &#125;&#125;;// a[1...n]void getCircle(int *a, int n, int k) &#123; static bit b(N); for (int i = 1; i &lt;= n; i++) &#123; b.add(i, 1); &#125; for (int i = 1, rk = 1; i &lt;= n; i++) &#123; int mod = n - i + 1; int add = (k - 1 + mod) % mod; rk = (rk + add - 1) % mod + 1; a[i] = b.kth(rk); b.add(a[i], -1); &#125;&#125;int main() &#123; ios::sync_with_stdio(false); cin.tie(0); int n, k; cin &gt;&gt; n &gt;&gt; k; vector&lt;int&gt; a(n); for (int i = 0; i &lt; n; ++i) &#123; cin &gt;&gt; a[i]; a[i]--; &#125; bool ans = sqrt(a.data(), a.data(), n, k); if (!ans) &#123; exit(-1); &#125; for (int i = 0; i &lt; n; i++) &#123; cout &lt;&lt; a[i] + 1 &lt;&lt; &quot; &quot;; &#125; cout &lt;&lt; endl;// qpow(a.data(), n, k, a.data());//// for (int i = 0; i &lt; n; i++) &#123;// cout &lt;&lt; a[i] + 1 &lt;&lt; &quot; &quot;;// &#125;// cout &lt;&lt; endl;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"æ¯”èµ›","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ¯”èµ›","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/%E6%AF%94%E8%B5%9B/"}],"tags":[]},{"title":"ç¬¬45å±ŠICPCäºšæ´²èµ›åŒºä¸Šæµ·ç«™","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ¯”èµ›/ç¬¬45å±ŠICPCäºšæ´²èµ›åŒºä¸Šæµ·ç«™/index","date":"2021-04-25T15:14:00.000Z","updated":"2021-05-04T15:14:00.000Z","comments":true,"path":"QS4KZC.html","link":"","permalink":"http://fightinggg.github.io/indigo/QS4KZC.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å‰è¨€è¿™å‡ å¤©è®­ç»ƒçš„å¤ªé¢‘ç¹äº†ï¼Œä¸€å¤©ä¸€åœºæ¯”èµ›ï¼Œç®€ç›´ä¸è¦å¤ªğŸ‘¹ã€‚ä»å››æœˆ25å·åˆ°5æœˆ3å·9å¤©å¼€äº†7åœºã€‚ æ¯”èµ›åœ°å€https://ac.nowcoder.com/acm/contest/9925","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å‰è¨€è¿™å‡ å¤©è®­ç»ƒçš„å¤ªé¢‘ç¹äº†ï¼Œä¸€å¤©ä¸€åœºæ¯”èµ›ï¼Œç®€ç›´ä¸è¦å¤ªğŸ‘¹ã€‚ä»å››æœˆ25å·åˆ°5æœˆ3å·9å¤©å¼€äº†7åœºã€‚ æ¯”èµ›åœ°å€https://ac.nowcoder.com/acm/contest/9925 B Mine Sweeper IIé¢˜æ„æ‰«é›·ï¼Œç»™ä½ ä¸€ä¸ªn*mçš„çŸ©é˜µï¼Œæ²¡æœ‰ç‚¸å¼¹çš„åœ°æ–¹ä¼šæœ‰æ•°å­—ï¼Œå…¶å€¼ä¸ºå‘¨å›´çš„ç‚¸å¼¹çš„ä¸ªæ•°ã€‚ ç»™ä½ ä¸¤ä¸ªçŸ©é˜µï¼Œç¬¬ä¸€ä¸ªä¸ºAï¼Œç¬¬äºŒä¸ªä¸ºBï¼Œä½ éœ€è¦å¯¹çŸ©é˜µAåšä¸€äº›æ”¹å˜ï¼Œä¿®æ”¹æœ€å¤šä¸€åŠçš„æ ¼å­ï¼ˆå³æŠŠç‚¸å¼¹å˜æˆæ²¡æœ‰ç‚¸å¼¹æˆ–è€…æŠŠæ²¡æœ‰ç‚¸å¼¹å˜æˆæœ‰ç‚¸å¼¹ï¼‰ï¼Œä½¿å¾—çŸ©é˜µAä¿®æ”¹åï¼Œæ²¡æœ‰ç‚¸å¼¹çš„æ ¼å­çš„æ•°å€¼ä¹‹å’Œä¸çŸ©é˜µBç›¸ç­‰ã€‚ æ•°æ®èŒƒå›´$n\\cdot m&lt;10^6$ é¢˜è§£è€ƒè™‘çŸ©é˜µ$B$ï¼Œä»¥åŠä»–çš„ç¿»è½¬$B_2$ï¼ˆç‚¸å¼¹å˜ä¸ºéç‚¸å¼¹ï¼Œéç‚¸å¼¹å˜ä¸ºç‚¸å¼¹ï¼‰ ä»–ä»¬ä¸­æ²¡æœ‰ç‚¸å¼¹çš„æ ¼å­çš„æ•°å€¼ä¹‹å’Œæ˜¯ç›¸ç­‰çš„ï¼Œè¯æ˜è¿‡ç¨‹ä¹Ÿå¾ˆç®€å•ã€‚ ç„¶åæˆ‘ä»¬è€ƒè™‘,æŠŠAå˜ä¸ºå…¶ä¸­ä¸€ä¸ªï¼Œæ˜¾ç„¶å¦‚æœå˜ä¸º$B$éœ€è¦ä¿®æ”¹è¶…è¿‡ä¸€åŠçš„æ ¼å­ï¼Œåˆ™å˜ä¸º$B_2$éœ€è¦ä¿®æ”¹çš„æ ¼å­æ•°é‡å°‘äºä¸€åŠã€‚ C Sum of Logé¢˜æ„è¾“å…¥$x$å’Œ$y$,ä½ è¦è®¡ç®—$$\\sum_{i&#x3D;0}^{x}\\sum_{j&#x3D;0}^{y}[i&amp;j&#x3D;0]\\lfloor \\log_2(i+j)+1\\rfloor$$ æ•°æ®èŒƒå›´$x&lt;10^9, y&lt;10^9$ é¢˜è§£è€ƒè™‘åˆ°$\\log_2(x)$åªå’Œxçš„äºŒè¿›åˆ¶æœ€é«˜ä½çš„1çš„ä½ç½®æœ‰å…³ï¼Œå¦å¤–ç”±äº$i$å’Œ$j$çš„ä¸ä¸º0ï¼Œæ‰€ä»¥ç°åœ¨å˜æˆäº†åªä¸ijä¸­æœ€é«˜çš„äºŒè¿›åˆ¶ä½çš„ä½ç½®æœ‰å…³ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥æ•°ä½dpï¼Œè€ƒè™‘dp(u,limitx,limity)ä»£è¡¨è€ƒè™‘ç¬¬uä½ï¼Œä»¥åŠæ­¤æ—¶xyæ˜¯å¦æœ‰é™åˆ¶ï¼Œå…¶å€¼ä¸ºæ–¹æ¡ˆçš„è®¡æ•°ï¼Œ ç„¶åè¿›è¡Œç¬¬äºŒæ¬¡dpï¼Œæšä¸¾æœ€é«˜ä½1çš„ä½ç½®ï¼Œç„¶åä½¿ç”¨å‰ä¸€æ¬¡dpçš„å€¼ä¹˜ä»¥æœ€é«˜ä½1çš„ä½ç½®æ¥è®¡ç®—ç­”æ¡ˆã€‚ ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116#include &lt;iostream&gt;#include &lt;cmath&gt;#include &lt;algorithm&gt;#include &lt;vector&gt; using namespace std;typedef long long ll; ll dp[50][2][2]; void predp() &#123; for (ll i = 0; i &lt; 40; ++i) &#123; for (ll j = 0; j &lt; 2; ++j) &#123; for (ll k = 0; k &lt; 2; ++k) &#123; dp[i][j][k] = -1; &#125; &#125; &#125;&#125; // å¯¹æ–¹æ¡ˆè®¡æ•°ll dfs(ll u, bool limitx, bool limity, ll x, ll y) &#123; if (dp[u][limitx][limity] != -1) &#123; return dp[u][limitx][limity]; &#125; ll res = 0; if (u == 1) &#123; ll upx = limitx ? x : 1; ll upy = limity ? y : 1; for (ll i = 0; i &lt;= upx; i++) &#123; for (ll j = 0; j &lt;= upy; j++) &#123; if (!(i == 1 &amp;&amp; j == 1)) &#123; res++; &#125; &#125; &#125; &#125; else &#123; ll high = 1 &lt;&lt; (u - 1); // 1000000 1åœ¨ç¬¬uä½ ll mask = high | (high - 1); ll nextMask = mask &gt;&gt; 1; // x=0, y=0 res += dfs(u - 1, limitx &amp;&amp; x &lt; nextMask, limity &amp;&amp; y &lt; nextMask, x &amp; nextMask, y &amp; nextMask); // x=0, y=1 if (!limity || y &gt;= high) &#123; res += dfs(u - 1, limitx &amp;&amp; x &lt; nextMask, limity, x &amp; nextMask, y &amp; nextMask); &#125; // x=1, y=0 if (!limitx || x &gt;= high) &#123; res += dfs(u - 1, limitx, limity &amp;&amp; y &lt; nextMask, x &amp; nextMask, y &amp; nextMask); &#125; &#125; dp[u][limitx][limity] = res; return res;&#125; ll getAns(ll u, bool limitx, bool limity, ll x, ll y) &#123; if (u == 1) &#123; ll count = dfs(u, limitx, limity, x, y) - 1;// prllf(&quot;1*%d\\n&quot;, count); return count; &#125; ll res = 0; ll high = 1 &lt;&lt; (u - 1); // 1000000 1åœ¨ç¬¬uä½ ll mask = high | (high - 1); ll nextMask = mask &gt;&gt; 1; // x=0 y=0 res += getAns(u - 1, limitx &amp;&amp; x &lt; nextMask, limity &amp;&amp; y &lt; nextMask, x &amp; nextMask, y &amp; nextMask); // x=0, y=1 if (!limity || y &gt;= high) &#123; ll count = dfs(u - 1, limitx &amp;&amp; x &lt; nextMask, limity, x &amp; nextMask, y &amp; nextMask);// prllf(&quot;%d*%d\\n&quot;, u, count); res += u * count; &#125; // x=1, y=0 if (!limitx || x &gt;= high) &#123; ll count = dfs(u - 1, limitx, limity &amp;&amp; y &lt; nextMask, x &amp; nextMask, y &amp; nextMask);// prllf(&quot;%d*%d\\n&quot;, u, count); res += u * count; &#125; return res; &#125; ll solve(ll x, ll y) &#123; predp(); return getAns(30, true, true, x, y);&#125; int main() &#123; ios::sync_with_stdio(false); cin.tie(0); ll t; cin &gt;&gt; t; while (t--) &#123; ll x, y; cin &gt;&gt; x &gt;&gt; y; predp(); cout &lt;&lt; solve(x, y) % (int(1e9 + 7)) &lt;&lt; &quot;\\n&quot;; &#125;&#125; D Walkeré¢˜æ„æœ‰ä¸¤ä¸ªäººåœ¨xè½´ä¸Šï¼Œç¬¬ä¸€ä¸ªäººåœ¨ä½ç½®$p_1$,ä»–å¯ä»¥ä»¥é€Ÿåº¦$v_1$è¡Œèµ°ï¼Œç¬¬äºŒä¸ªäººåœ¨ä½ç½®$p_2$ï¼Œå¯ä»¥ä»¥é€Ÿåº¦$v_2$è¡Œèµ°ï¼Œä»–ä»¬å¯ä»¥å‘å·¦æˆ–è€…å‘å³ï¼Œä»»ä½•æ—¶åˆ»éƒ½å¯ä»¥è°ƒå¤´ï¼Œé—®æœ€å°‘ç»è¿‡å¤šä¹…ï¼Œä½¿å¾—åŒºé—´[0,n]ä¸­ä»»æ„ä¸€ä¸ªç‚¹éƒ½è¢«è‡³å°‘ä¸€ä¸ªäººèµ°è¿‡ã€‚ æ•°æ®èŒƒå›´10000ç»„è¾“å…¥ é¢˜è§£é”™è¯¯æ€è·¯è€ƒè™‘æ¯ä¸ªäººå‘å·¦æˆ–è€…å‘å³ï¼Œä¸€å…±å››ä¸ªæƒ…å†µï¼Œ ä¸¤äººéƒ½å‘å·¦ï¼Œåˆ°è¾¾0åå‘å³ï¼Œ ä¸¤äººéƒ½å‘å³ï¼Œåˆ°è¾¾nåå‘å·¦ï¼Œ å·¦è¾¹äººå‘å·¦ï¼Œåˆ°è¾¾0åå‘å³ï¼Œå³è¾¹äººå‘å³ï¼Œåˆ°è¾¾0åå‘å·¦ï¼Œç„¶åæ˜¯ä¸€ä¸ªç›¸é‡é—®é¢˜ å·¦è¾¹äººå‘å³ï¼Œå³è¾¹äººå‘å·¦ã€‚ é”™è¯¯åŸå› ï¼š å·¦è¾¹äººå‘å³èµ°ä¸€ç‚¹ç‚¹ï¼Œç„¶åæ‰å¤´å‘å·¦ç›´åˆ°0ï¼Œå³è¾¹äººå‘å³èµ°åˆ°nï¼Œç„¶åå‘å·¦èµ°ã€‚ æ­£ç¡®æ€è·¯äºŒåˆ†ç­”æ¡ˆï¼ŒåŒæ—¶è€ƒè™‘0å’Œnä½ç½®è¢«å“ªä¸ªäººç¢°åˆ°äº†ï¼Œä¸€å…±å››ä¸ªæƒ…å†µï¼Œå…ˆæ‹¿0æ¥è¯´ï¼Œå‡è®¾å·¦è¾¹çš„äººåœ¨æ—¶é—´tä»¥å†…åˆ°äº†0ï¼Œé‚£ä¹ˆä»–åº”è¯¥å°½é‡è´ªå¿ƒçš„å¾€å³è¾¹è¹­è¹­ã€‚è¿™é‡Œæœ‰ä¸¤ä¸ªç­–ç•¥ï¼š å…ˆå‘å·¦èµ°ï¼Œæ‘¸åˆ°0ï¼Œç„¶åå‘å³è¹­ å…ˆå‘å³è¹­ä¸€ç‚¹ç‚¹ï¼Œç„¶åè½¬å‘ï¼Œåœ¨æ—¶åˆ»tå‰åˆ°è¾¾ä½ç½®0. å¯¹äºå…¶ä»–æƒ…å†µåŒç†ã€‚ ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061#include &lt;iostream&gt;#include &lt;cmath&gt;#include &lt;algorithm&gt;#include &lt;vector&gt;using namespace std;#define ll long longconst double eps = 1e-10;double left(double p, double s) &#123; //printf(&quot;l: %.10lf\\n&quot;, max(s - p, (s + p) / 2)); return max(s - p, (s + p) / 2);&#125;double right(double p, double s, double n) &#123; //printf(&quot;r: %.10f\\n&quot;, min(2 * n - s - p, (n + p - s) / 2)); return min(2 * n - s - p, (n + p - s) / 2);&#125;bool check(double mid, double n, double p1, double v1, double p2, double v2) &#123; double s1 = v1 * mid; double s2 = v2 * mid; return s1 &gt;= p1 &amp;&amp; s2 &gt;= n - p2 &amp;&amp; left(p1, s1) &gt; right(p2, s2, n);&#125;int main() &#123; //ios::sync_with_stdio(false); cin.tie(0); int t; cin &gt;&gt; t; while (t--) &#123; double n, p1, v1, p2, v2; //cin &gt;&gt; n &gt;&gt; p1 &gt;&gt; v1 &gt;&gt; p2 &gt;&gt; v2; scanf(&quot;%lf%lf%lf%lf%lf&quot;, &amp;n, &amp;p1, &amp;v1, &amp;p2, &amp;v2); if (p1 &gt; p2) &#123; swap(p1, p2); swap(v1, v2); &#125; double l = 0, r = 1e9; for (int i = 0; i &lt;= 100; ++i) &#123; double mid = (l + r) / 2; if (check(mid, n, p1, v1, p2, v2)) &#123; r = mid; &#125; else &#123; l = mid; &#125; &#125; l = min(&#123; l, (n + p1) / v1, (2 * n - p1) / v1, (n + p2) / v2, (2 * n - p2) / v2, max((n - p1) / v1, p2 / v2) &#125;); printf(&quot;%.10lf\\n&quot;, l); &#125;&#125; H Rice Arrangementé¢˜æ„åœ†æ¡Œä¸Šæœ‰nä¸ªé¤ä½ï¼Œä»1åˆ°né¡ºæ—¶é’ˆç¼–å·ï¼Œå…¶ä¸­æœ‰kä¸ªé¤ä½ä¸Šæœ‰ç›˜å­ï¼Œåœ†æ¡Œå¤–å›´nä¸ªæ¤…å­ï¼Œkä¸ªäººååœ¨æ¤…å­ä¸Šï¼Œå‘Šè¯‰ä½ ç›˜å­çš„ä½ç½®ï¼Œäººçš„ä½ç½®ï¼Œä½ å¯ä»¥é¡ºæ—¶é’ˆæˆ–é€†æ—¶é’ˆè½¬åŠ¨åœ†æ¡Œï¼Œæ¯æ¬¡è½¬åŠ¨ä¼šè®©ç›˜å­é¡ºæ—¶é’ˆæˆ–é€†æ—¶é’ˆç§»åŠ¨ä¸€ä¸ªå•ä½ï¼Œå½“ä¸€ä¸ªç›˜å­è½¬åˆ°ä¸€ä¸ªäººçš„å‰ï¼Œè¿™ä¸ªäººå¯ä»¥é€‰æ‹©æŠŠç›˜å­æ‹¿ä¸‹æ¥ï¼Œé—®ä½ æœ€å°‘è½¬åŠ¨å¤šå°‘æ¬¡ï¼Œä½¿å¾—æ¯ä¸ªäººéƒ½èƒ½æ‹¿åˆ°ç›˜å­ã€‚ æ•°æ®èŒƒå›´$k&lt;1000$ é¢˜è§£å¦‚æœç¬¬iä¸ªäººæ‹¿äº†ç¬¬jä¸ªç›˜å­ï¼Œé‚£ä¹ˆç¬¬i-1ä¸ªäººæ‹¿çš„ä¸€å®šæ˜¯ç¬¬j-1ä¸ªç›˜å­ã€‚æšä¸¾ç¬¬ä¸€ä¸ªäººæ‹¿äº†å“ªä¸ªç›˜å­å³å¯ I Sky Gardené¢˜æ„æœ‰nä¸ªåŒå¿ƒåœ†ã€‚åœ†çš„åŠå¾„åˆ†åˆ«æ˜¯1åˆ°nï¼Œæœ‰mæ¡ç›´çº¿ï¼Œç»è¿‡åœ†å¿ƒï¼Œæ¯ä¸ªåœ†éƒ½è¢«åˆ†å‰²æˆmç­‰åˆ†ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸­å½¢æˆäº†ä¸€äº›äº¤ç‚¹ï¼Œå®šä¹‰ä¸€ä¸ªç‚¹åˆ°å¦ä¸€ä¸ªç‚¹åˆ°è·ç¦»ä¸ºåœ¨åŒå¿ƒåœ†æˆ–åœ¨ç›´çº¿ä¸Šè¡Œèµ°æ‰€éœ€è¦çš„æœ€çŸ­è·ç¦»ï¼Œä½ éœ€è¦è®¡ç®—äº¤ç‚¹ä¸­ç‚¹ä»»æ„ä¸¤ç‚¹çš„è·ç¦»ä¹‹å’Œã€‚ é¢˜è§£ä¸€å±‚ä¸€å±‚è€ƒè™‘ï¼Œä»å†…å±‚åˆ°å¤–å±‚è¿›è¡Œdpï¼Œæ¯æ¬¡æ–°å¢çš„å€¼ç­‰äºå¤–å±‚ç‚¹åˆ°å†…å±‚æ‰€æœ‰å…¶ä»–ç‚¹åˆ°è·ç¦»ä¹‹å’Œï¼Œå¦ä¸€æ–¹é¢ï¼Œä¸¤ä¸ªç‚¹ä¹‹é—´åˆ°è·ç¦»ï¼Œå¯ä»¥è¯æ˜è¦ä¹ˆåªèµ°ç›´çº¿ï¼Œè¦ä¹ˆåªèµ°åœ†å¼§ã€‚ é¢˜è§£123456789101112131415161718192021222324252627282930313233343536373839404142#include &lt;iostream&gt;#include &lt;cmath&gt;#include &lt;algorithm&gt;#include &lt;vector&gt;using namespace std;#define ll long longconst double pi = acos(-1.0);double dp[510];int main() &#123; ios::sync_with_stdio(false); cin.tie(0); int n, m; cin &gt;&gt; n &gt;&gt; m; double ans = 0; dp[1] = 1; ans += 2 * m * dp[1]; for (int j = 2; j &lt;= 2 * m; ++j) &#123; double tmp = min(2.0, pi / m * 1 * min(j - 1, 2 * m + 1 - j)); dp[1] += tmp; ans += m * tmp; &#125; for (int i = 2; i &lt;= n; ++i) &#123; dp[i] = dp[i - 1] + (i - 1) * (2 * m) + 1; ans += 2 * m * dp[i]; for (int j = 2; j &lt;= 2 * m; ++j) &#123; double tmp = min(2.0 * i, pi / m * i * min(j - 1, 2 * m + 1 - j)); dp[i] += tmp; ans += m * tmp; &#125; &#125; if(m == 1) &#123; ans -= n * (n + 1); &#125; printf(&quot;%.10f\\n&quot;, ans);&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"æ¯”èµ›","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ¯”èµ›","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/%E6%AF%94%E8%B5%9B/"}],"tags":[]},{"title":"latexå¸¸ç”¨å…¬å¼","slug":"Hexo/latexå¸¸ç”¨å…¬å¼/index","date":"2021-04-24T10:16:00.000Z","updated":"2021-04-24T10:16:00.000Z","comments":true,"path":"QS2CIO.html","link":"","permalink":"http://fightinggg.github.io/indigo/QS2CIO.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ç¬¦å·å³é”®ç¬¦å·é€‰æ‹©Copy to Clipboardå³å¯å¤åˆ¶ä»£ç ã€‚ æ•°å­¦ ç¬¦å· æŸ¥çœ‹ ç‚¹ä¹˜ $$\\cdot$$ é›†åˆè®º ç¬¦å· æŸ¥çœ‹ äº¤ $$\\cap$$ å¹¶ $$\\cup$$ ç¬›å¡å°”ç§¯ $$\\times$$ ç«–çº¿ $$\\vert$$","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ç¬¦å·å³é”®ç¬¦å·é€‰æ‹©Copy to Clipboardå³å¯å¤åˆ¶ä»£ç ã€‚ æ•°å­¦ ç¬¦å· æŸ¥çœ‹ ç‚¹ä¹˜ $$\\cdot$$ é›†åˆè®º ç¬¦å· æŸ¥çœ‹ äº¤ $$\\cap$$ å¹¶ $$\\cup$$ ç¬›å¡å°”ç§¯ $$\\times$$ ç«–çº¿ $$\\vert$$ ç½®æ¢$$\\begin{pmatrix}1 &amp; 2 &amp; 3\\\\3 &amp; 2 &amp; 1\\end{pmatrix} \\circ\\begin{pmatrix}2 &amp; 3 \\\\3 &amp; 2\\end{pmatrix}&#x3D;\\begin{pmatrix}1 &amp; 2 &amp; 3 \\\\2 &amp; 3 &amp; 1\\end{pmatrix}$$ å‚è€ƒ1","categories":[{"name":"Hexo","slug":"Hexo","permalink":"http://fightinggg.github.io/indigo/categories/Hexo/"}],"tags":[]},{"title":"ç¬¬45å±ŠICPCäºšæ´²èµ›åŒºå—äº¬ç«™","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ¯”èµ›/ç¬¬45å±ŠICPCäºšæ´²èµ›åŒºå—äº¬ç«™/index","date":"2021-04-24T06:21:00.000Z","updated":"2021-04-24T06:21:00.000Z","comments":true,"path":"QS21N0.html","link":"","permalink":"http://fightinggg.github.io/indigo/QS21N0.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial F Fireworksé“¾æ¥https://ac.nowcoder.com/acm/contest/10272/F é¢˜æ„ä½ æƒ³è¦æ”¾ä¸€ä¸ªçš„çƒŸèŠ±ï¼Œä½ å¯ä»¥èŠ±è´¹æ—¶é—´næ¥åˆ¶ä½œä¸€ä¸ªçƒŸèŠ±ï¼ŒèŠ±è´¹æ—¶é—´mç‚¹ç‡ƒæ‰€æœ‰çš„çƒŸèŠ±ï¼ŒçƒŸèŠ±è¢«ç‚¹ç‡ƒä»¥åå°±é‡Šæ”¾äº†ï¼Œä½†æ˜¯ä»–åªæœ‰$\\frac{p}{10^4}$çš„æ¦‚ç‡å®Œç¾é‡Šæ”¾ï¼Œä½ æƒ³å®Œç¾é‡Šæ”¾è‡³å°‘ä¸€ä¸ªçƒŸèŠ±ï¼Œé‚£ä¹ˆéœ€è¦çš„æœ€å°‘æ—¶é—´çš„æœŸæœ›æ˜¯å¤šå°‘ï¼Ÿ Tç»„è¾“å…¥","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial F Fireworksé“¾æ¥https://ac.nowcoder.com/acm/contest/10272/F é¢˜æ„ä½ æƒ³è¦æ”¾ä¸€ä¸ªçš„çƒŸèŠ±ï¼Œä½ å¯ä»¥èŠ±è´¹æ—¶é—´næ¥åˆ¶ä½œä¸€ä¸ªçƒŸèŠ±ï¼ŒèŠ±è´¹æ—¶é—´mç‚¹ç‡ƒæ‰€æœ‰çš„çƒŸèŠ±ï¼ŒçƒŸèŠ±è¢«ç‚¹ç‡ƒä»¥åå°±é‡Šæ”¾äº†ï¼Œä½†æ˜¯ä»–åªæœ‰$\\frac{p}{10^4}$çš„æ¦‚ç‡å®Œç¾é‡Šæ”¾ï¼Œä½ æƒ³å®Œç¾é‡Šæ”¾è‡³å°‘ä¸€ä¸ªçƒŸèŠ±ï¼Œé‚£ä¹ˆéœ€è¦çš„æœ€å°‘æ—¶é—´çš„æœŸæœ›æ˜¯å¤šå°‘ï¼Ÿ Tç»„è¾“å…¥ æ•°æ®èŒƒå›´$T&lt;10^4, n&lt;10^9, m&lt;10^9, p&lt;10^4$ é¢˜è§£å‡è®¾å‡†å¤‡äº†kä¸ªçƒŸèŠ±ï¼Œç„¶åé‡Šæ”¾ï¼Œè¿™ä¸ªæœŸæœ›å€¼æ˜¯$\\frac{kn+m}{1-(1-\\frac{p}{10^4})^k}$ , è¿™ä¸ªåº”è¯¥åªæœ‰ä¸€ä¸ªæå€¼ç‚¹ï¼Œä¹Ÿå°±æ˜¯æœ€å°å€¼ï¼Œé˜Ÿå‹ç”¨ä¸‰åˆ†è¿‡äº†ï¼Œå½“ç„¶è¿™ä¸ªä¸å¥½è¯æ˜ï¼Œå…¶å®ç›´æ¥ä½¿ç”¨æ¨¡æ‹Ÿé€€ç«å°±å¯ä»¥äº†ã€‚ä¸‹é¢æä¾›äº†ä¸‰åˆ†å’Œæ¨¡æ‹Ÿé€€ç«çš„ç®—æ³•ã€‚ ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445#include &lt;iostream&gt;#include &lt;cmath&gt;#include &lt;algorithm&gt;using namespace std;#define ll long longconst double eps = 1e-9;double cal(double mid, double pp, ll n, ll m) &#123; return (n * mid + m) / (1.0 - pow(pp, mid));&#125;int main() &#123; int t; cin &gt;&gt; t; while (t--) &#123; ll n, m, p; scanf(&quot;%lld%lld%lld&quot;, &amp;n, &amp;m, &amp;p); double pp = 1.0 - 1.0 * p / 10000.0; double t = 1e18, alpha = 0.95, x = 1.0, y = cal(x, pp, n, m), step = 0.8; while (t &gt; 1) &#123; double x_1 = x + t; double x_2 = max(1.0, x - t); double y_1 = cal(x_1, pp, n, m); double y_2 = cal(x_2, pp, n, m); double minx = x_2, miny = y_2; if (y_1 &lt; y_2) &#123; minx = x_1; miny = y_1; &#125; if (y &gt; miny) &#123; x = x + step * (minx - x); y = cal(x, pp, n, m); &#125; t *= alpha; &#125; double ans = 1e308; for (ll i = max(1ll, (ll) x - 100); i &lt;= x + 100; ++i) &#123; ans = min(ans, cal(i, pp, n, m)); &#125; printf(&quot;%.10lf\\n&quot;, ans); &#125;&#125; 123456789101112131415161718192021222324252627282930313233343536373839404142#include &lt;iostream&gt;#include &lt;vector&gt;#include &lt;map&gt;#include &lt;set&gt;#include &lt;bitset&gt;#include &lt;cmath&gt;#include &lt;algorithm&gt;using namespace std;#define ll long longconst double eps = 1e-9;double cal(double mid, double pp, ll n, ll m) &#123; return (n * mid + m) / (1.0 - pow(pp, mid));&#125;int main() &#123; int t; cin &gt;&gt; t; while(t--) &#123; int n, m, p; scanf(&quot;%d%d%d&quot;, &amp;n, &amp;m, &amp;p); double pp = 1.0 - 1.0 * p / 10000.0; ll l = 1, r = 1e18; while(l + 2 &lt; r) &#123; ll lmid = l + (r - l) / 3; ll rmid = l + (r - l) / 3 * 2; if(cal(lmid, pp, n, m) &gt;= cal(rmid, pp, n, m)) &#123; l = lmid; &#125; else if(cal(lmid, pp, n, m) &lt; cal(rmid, pp, n, m)) &#123; r = rmid; &#125; &#125; vector&lt;double&gt;v; for(ll i = l; i &lt;= r; ++i) &#123; v.push_back(cal(i, pp, n, m)); &#125; v.push_back(cal(1, pp, n, m)); sort(v.begin(), v.end()); printf(&quot;%.10lf\\n&quot;, v[0]); &#125;&#125; J Just Another Game of Stonesé“¾æ¥https://ac.nowcoder.com/acm/contest/10272/J é¢˜æ„ç»™ä¸€ä¸ªé•¿åº¦ä¸ºnçš„åºåˆ— æ“ä½œ1: é€‰æ‹©ä¸€æ®µåŒºé—´ï¼ŒæŠŠå°äºç­‰äºmçš„å€¼å˜ä¸ºm æ“ä½œ2: æŠŠè¿™æ®µåŒºé—´çš„å€¼å–å‡ºæ¥ï¼Œæ”¾å…¥ä¸€ä¸ªåˆ—è¡¨ä¸­ï¼Œå‘åˆ—è¡¨ä¸­åŠ å…¥ä¸€ä¸ªå€¼mï¼Œå¯¹åˆ—è¡¨è¿›è¡Œnimåšå¼ˆï¼Œé—®å…ˆæ‰‹å¦‚æœèµ¢ï¼Œä»–ç¬¬ä¸€æ­¥çš„ç­–ç•¥æœ‰å¤šå°‘ç§ã€‚ æ•°æ®èŒƒå›´$n&lt;2e5,3S, 262MB$ é¢˜è§£æ ¹æ®åšå¼ˆè®ºæŠŠç¬¬äºŒä¸ªæ“ä½œè½¬åŒ–ä¸ºï¼š é—®è¿™æ®µåŒºé—´ä¸­æœ‰å¤šå°‘ä¸ªæ•°ï¼Œä»–çš„äºŒè¿›åˆ¶ä¸­ç¬¬kä½æ˜¯1. ç›´æ¥æŒ‰ä½å»ºç«‹çº¿æ®µæ ‘ï¼Œç„¶åä½¿ç”¨å‰å¸æœºçº¿æ®µæ ‘æ¥ç»´æŠ¤ ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176#include &lt;iostream&gt;#include &lt;vector&gt;#include &lt;map&gt;#include &lt;set&gt;#include &lt;bitset&gt;#include &lt;cmath&gt;#include &lt;algorithm&gt;using namespace std;#define lson (u&lt;&lt;1)#define rson (lson|1)#define lmid ((l+r)&gt;&gt;1)#define rmid (lmid+1)int qu = 0;int up = 0;const int maxn = 2e5 + 100;int a[maxn];int mn1[maxn &lt;&lt; 2], mn2[maxn &lt;&lt; 2];int lzy[maxn &lt;&lt; 2], bit[maxn &lt;&lt; 2][32];int cnt[maxn &lt;&lt; 2], xrr[maxn &lt;&lt; 2];void pushup(int u, int l, int r) &#123; map&lt;int, int&gt; ma; ma[mn1[lson]] += cnt[lson]; ma[mn1[rson]] += cnt[rson]; if (lmid - l + 1 != cnt[lson]) &#123; ma[mn2[lson]]++; &#125; if (r - rmid + 1 != cnt[rson]) &#123; ma[mn2[rson]]++; &#125; if (ma.size() &gt; 1) &#123; mn2[u] = (++ma.begin())-&gt;first; &#125; cnt[u] = ma.begin()-&gt;second; for (int i = 0; i &lt; 31; ++i) &#123; bit[u][i] = bit[lson][i] + bit[rson][i]; &#125; mn1[u] = min(mn1[lson], mn1[rson]); xrr[u] = xrr[lson] ^ xrr[rson];&#125;void build(int u, int l, int r) &#123; if (l == r) &#123; xrr[u] = mn1[u] = mn2[u] = a[l]; lzy[u] = 0; cnt[u] = 1; for (int i = 0; i &lt; 31; ++i) &#123; bit[u][i] = ((1 &lt;&lt; i) &amp; a[l]) &gt;&gt; i; &#125; return; &#125; build(lson, l, lmid); build(rson, rmid, r); lzy[u] = 0; pushup(u, l, r);&#125;void pushSon(int son, int l, int r, int value) &#123; if (mn1[son] &lt; value) &#123; for (int i = 0; i &lt; 31; ++i) &#123; bit[son][i] -= (((1 &lt;&lt; i) &amp; mn1[son]) &gt;&gt; i) * cnt[son]; bit[son][i] += (((1 &lt;&lt; i) &amp; value) &gt;&gt; i) * cnt[son]; &#125; lzy[son] = max(lzy[son], value); if (cnt[son] &amp; 1) &#123; xrr[son] ^= mn1[son]; xrr[son] ^= value; &#125; mn1[son] = value; &#125;&#125;void pushdown(int u, int l, int r) &#123; pushSon(lson, l, lmid, lzy[u]); pushSon(rson, rmid, r, lzy[u]);&#125;void modify(int u, int l, int r, int ql, int qr, int mx) &#123; up++; if (ql &lt;= l &amp;&amp; r &lt;= qr) &#123; if (r - l + 1 == cnt[u] || mx &lt; mn2[u]) &#123; pushSon(u, l, r, mx); return; &#125; &#125; pushdown(u, l, r); if (ql &lt;= lmid) &#123; modify(lson, l, lmid, ql, qr, mx); &#125; if (qr &gt; lmid) &#123; modify(rson, rmid, r, ql, qr, mx); &#125; pushup(u, l, r);&#125;int query(int u, int l, int r, int ql, int qr, int bt) &#123; qu++; if (ql &lt;= l &amp;&amp; r &lt;= qr) &#123; return bit[u][bt]; &#125; int res = 0; pushdown(u, l, r); if (ql &lt;= lmid) &#123; res += query(lson, l, lmid, ql, qr, bt); &#125; if (qr &gt; lmid) &#123; res += query(rson, rmid, r, ql, qr, bt); &#125; return res;&#125;int query_xr(int u, int l, int r, int ql, int qr) &#123; qu++; if (ql &lt;= l &amp;&amp; r &lt;= qr) &#123; return xrr[u]; &#125; int res = 0; pushdown(u, l, r); if (ql &lt;= lmid) &#123; res ^= (query_xr(lson, l, lmid, ql, qr)); &#125; if (qr &gt; lmid) &#123; res ^= (query_xr(rson, rmid, r, ql, qr)); &#125; return res;&#125;int main() &#123; ios::sync_with_stdio(false); cin.tie(0); int n, q; cin &gt;&gt; n &gt;&gt; q; for (int i = 1; i &lt;= n; ++i) &#123; cin &gt;&gt; a[i]; &#125; build(1, 1, n); for (int i = 1; i &lt;= q; ++i) &#123; int op, l, r, x; cin &gt;&gt; op &gt;&gt; l &gt;&gt; r &gt;&gt; x; if (op == 1) &#123; modify(1, 1, n, l, r, x); &#125; else &#123; int value = query_xr(1, 1, n, l, r) ^x; if (value == 0) &#123; cout &lt;&lt; &quot;0\\n&quot;; continue; &#125; int bt = 30; while (1) &#123; if ((1 &lt;&lt; bt) &amp; value) &#123; break; &#125; --bt; &#125; int add = 0; if ((value ^ x) &lt; x) &#123; add = 1; &#125; cout &lt;&lt; query(1, 1, n, l, r, bt) + add &lt;&lt; &quot;\\n&quot;; &#125; &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"æ¯”èµ›","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ¯”èµ›","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/%E6%AF%94%E8%B5%9B/"}],"tags":[]},{"title":"ç¬¬45å±ŠICPCäºšæ´²èµ›åŒºæµå—ç«™","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ¯”èµ›/ç¬¬45å±ŠICPCäºšæ´²èµ›åŒºæµå—ç«™/index","date":"2021-04-23T12:11:00.000Z","updated":"2021-04-23T12:11:00.000Z","comments":true,"path":"QS0N6C.html","link":"","permalink":"http://fightinggg.github.io/indigo/QS0N6C.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial A Matrix Equationé“¾æ¥https://ac.nowcoder.com/acm/contest/10662/A é¢˜æ„ç»™ä½ ä¸¤ä¸ª01æ–¹é˜µABï¼Œä½ è¦æ‰¾åˆ°ä¸€ä¸ª01çŸ©é˜µCï¼Œä½¿å¾—åœ¨2çš„æ¨¡ç¾¤ä¸­$A\\times C&#x3D;B\\cdot C$ ,å…¶ä¸­ $\\times$ ä¸ºä¸€èˆ¬çŸ©é˜µä¹˜ç§¯ï¼Œ ç¬¦å· $\\cdot$ ä¸ºå“ˆè¾¾é©¬ç§¯ï¼ˆHadamard productï¼‰ é—®ä½ Cæœ‰å¤šå°‘ä¸ªè§£","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial A Matrix Equationé“¾æ¥https://ac.nowcoder.com/acm/contest/10662/A é¢˜æ„ç»™ä½ ä¸¤ä¸ª01æ–¹é˜µABï¼Œä½ è¦æ‰¾åˆ°ä¸€ä¸ª01çŸ©é˜µCï¼Œä½¿å¾—åœ¨2çš„æ¨¡ç¾¤ä¸­$A\\times C&#x3D;B\\cdot C$ ,å…¶ä¸­ $\\times$ ä¸ºä¸€èˆ¬çŸ©é˜µä¹˜ç§¯ï¼Œ ç¬¦å· $\\cdot$ ä¸ºå“ˆè¾¾é©¬ç§¯ï¼ˆHadamard productï¼‰ é—®ä½ Cæœ‰å¤šå°‘ä¸ªè§£ æ•°æ®èŒƒå›´ABçš„è¡Œåˆ—éƒ½å°äº2000 é¢˜è§£é€šè¿‡è§‚å¯Ÿï¼Œæˆ‘ä»¬å‘ç°Cçš„æ¯ä¸€åˆ—æ˜¯äº’ç›¸ç‹¬ç«‹çš„ï¼Œä¸å¦¨è®¾ä»–çš„ç¬¬iåˆ—ä¸º$C_i$ æˆ‘ä»¬å–å‡ºè¿™é‡Œä¸€åˆ—é‡æ–°æ„å»ºä¸€ä¸ªçŸ©é˜µï¼Œè¿™æ˜¯ä¸€ä¸ªnè¡Œä¸€åˆ—çš„çŸ©é˜µã€‚$$\\begin{bmatrix} C_{1i} \\ C_{2i} \\ C_{3i} \\ . \\ . \\ . \\ C_{ni} \\\\end{bmatrix}$$ç„¶åå°±æœ‰äº†$$\\begin{aligned}A \\times\\begin{bmatrix} C_{1i} \\ C_{2i} \\ C_{3i} \\ . \\ . \\ . \\ C_{ni} \\\\end{bmatrix} &#x3D;\\begin{bmatrix} B_{1i}\\cdot C_{1i} \\ B_{2i}\\cdot C_{2i} \\ B_{3i}\\cdot C_{3i} \\ . \\ . \\ . \\ B_{ni}\\cdot C_{ni} \\\\end{bmatrix} &#x3D;\\begin{bmatrix} B_{11}\\ &amp; B_{22}\\ &amp;&amp; B_{33}\\ &amp;&amp;&amp;\\cdot \\ &amp;&amp;&amp;&amp;\\cdot \\ &amp;&amp;&amp;&amp;&amp;\\cdot \\ &amp;&amp;&amp;&amp;&amp;&amp;B_{ni} \\\\end{bmatrix}\\times\\begin{bmatrix} C_{1i} \\ C_{2i} \\ C_{3i} \\ . \\ . \\ . \\ C_{ni} \\\\end{bmatrix}\\end{aligned}$$å³$$(A -\\begin{bmatrix} B_{11}\\ &amp; B_{22}\\ &amp;&amp; B_{33}\\ &amp;&amp;&amp;\\cdot \\ &amp;&amp;&amp;&amp;\\cdot \\ &amp;&amp;&amp;&amp;&amp;\\cdot \\ &amp;&amp;&amp;&amp;&amp;&amp;B_{ni} \\\\end{bmatrix} )\\times\\begin{bmatrix} C_{1i} \\ C_{2i} \\ C_{3i} \\ . \\ . \\ . \\ C_{ni} \\\\end{bmatrix} &#x3D;\\begin{bmatrix} 0 \\ 0 \\ 0 \\ . \\ . \\ . \\ 0 \\\\end{bmatrix}$$æˆ‘ä»¬å‘ç°è¿™æ˜¯ä¸€ä¸ªé½æ¬¡çº¿æ€§æ–¹ç¨‹ç»„ï¼Œç›´æ¥ä½¿ç”¨é«˜æ–¯æ¶ˆå…ƒå³å¯ï¼Œæ—¶é—´å¤æ‚åº¦$O(N^3)$ï¼Œæ³¨æ„åˆ°æ˜¯01çŸ©é˜µï¼Œå¯ä»¥ä½¿ç”¨å‹ä½çš„æ–¹å¼é™ä½64å€å¤æ‚åº¦ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485#include &lt;iostream&gt;#include &lt;vector&gt;#include &lt;map&gt;#include &lt;set&gt;#include &lt;bitset&gt;using namespace std;int getDel(vector&lt;bitset&lt;205&gt;&gt; a, int n) &#123; int row = 1; for (int maxCol = 1; maxCol &lt;= n; row++, maxCol++) &#123; if (a[row][maxCol] == 0) &#123; int i = row + 1; while (i &lt;= n &amp;&amp; a[i][maxCol] == 0) &#123; i++; &#125; if (i == n + 1) &#123; row--; continue; &#125; else &#123; swap(a[i], a[row]); &#125; &#125; for (int nextRow = row + 1; nextRow &lt;= n; nextRow++) &#123; if (a[nextRow][maxCol] == 0) &#123; continue; &#125; else &#123; a[nextRow] ^= a[row]; &#125; &#125; &#125; return row - 1;&#125;int main() &#123; ios::sync_with_stdio(false); cin.tie(0); const int mod = 998244353; int n; cin &gt;&gt; n; vector&lt;bitset&lt;205&gt;&gt; a(n + 1), b(n + 1); for (int i = 1; i &lt;= n; i++) &#123; for (int j = 1; j &lt;= n; j++) &#123; int x; cin &gt;&gt; x; a[i][j] = x; &#125; &#125; for (int i = 1; i &lt;= n; i++) &#123; for (int j = 1; j &lt;= n; j++) &#123; int x; cin &gt;&gt; x; b[i][j] = x; &#125; &#125; int pow[205] = &#123;1&#125;; for (int i = 1; i &lt; 205; i++) &#123; pow[i] = int(pow[i - 1] * 2LL % mod); &#125; int ans = 1; for (int i = 1; i &lt;= n; i++) &#123; vector&lt;bitset&lt;205&gt;&gt; t = a; // t = a - bi for (int col = 1; col &lt;= n; col++) &#123; t[col][col] = t[col][col] ^ b[col][i]; &#125; int del = getDel(t, n); int tmp = pow[n - del]; ans = int(1LL * tmp * ans % mod); &#125; cout &lt;&lt; ans &lt;&lt; endl;&#125; J Tree Constructeré“¾æ¥https://ac.nowcoder.com/acm/contest/10662/J é¢˜æ„Aliceæœ‰ä¸€é¢—æ ‘ï¼Œä½ éœ€è¦æ„é€ ä¸€ä¸ªé•¿åº¦ä¸ºnçš„åºåˆ—ï¼ŒAliceä¼šæ£€æŸ¥åºåˆ—ï¼Œå¦‚æœæ»¡è¶³$a_i | a_j&#x3D;2^{60}-1$, ç¬¦å·$|$æ˜¯äºŒè¿›åˆ¶è¿ç®—â€™æˆ–â€™, Aliceä¼šå¯¹ç‚¹$i$å’Œç‚¹$j$è¿ä¸Šä¸€æ¡æ— å‘è¾¹ï¼Œæœ€åAliceå¾—åˆ°äº†ä¸€ä¸ªå›¾ï¼Œä»–ä¼šæ£€æŸ¥è¿™ä¸ªå›¾æ˜¯å¦å’Œä»–çš„æ ‘ä¸€æ‘¸ä¸€æ ·ï¼Œå¦‚æœæ˜¯ï¼Œä½ å°±æˆåŠŸäº†ã€‚ æ•°æ®èŒƒå›´$n&lt;100, 0&lt;a_i&lt;2^{60}$ é¢˜è§£è€ƒè™‘ä¸€ä¸ª100ä¸ªç‚¹çš„äºŒåˆ†å›¾ï¼Œä¸å¦¨å‡è®¾è¿™ä¸ªäºŒåˆ†å›¾å·¦ä¾§çš„ç‚¹æ¯”å³ä¾§çš„ç‚¹å°‘ï¼Œä¸”å·¦ä¾§çš„ç‚¹çš„æ•°é‡ä¸ºxã€‚åˆ™$x&lt;50$ã€‚ æˆ‘ä»¬ç»™è¿™$x$ä¸ªç‚¹ä»0åˆ°$x-1$ç¼–å·ï¼Œæœ€åä¸ºä»–ä»¬èµ‹å€¼$2^{60}-1-2^i(iä¸ºç¼–å·)$ï¼Œ å¯¹äºå³è¾¹çš„ç‚¹ï¼Œæˆ‘ä»¬å‡è®¾ä»–ä¸ç¼–å·åœ¨é›†åˆ$S&#x3D;{s_1,s_2,s_3â€¦}$çš„æ‰€æœ‰ç‚¹ç›¸è¿ï¼Œåˆ™æˆ‘ä»¬ä¸ºä»–èµ‹å€¼$2^{s_1}+2^{s_2}+2^{s_3}+â€¦$, ç”±æ­¤æ–¹æ³•ï¼Œæˆ‘ä»¬å‘ç°å¦‚æœå·¦è¾¹çš„ç‚¹è¿å‘å³è¾¹çš„ç‚¹ï¼Œä»–ä»¬çš„å€¼çš„æˆ–æ°å¥½æ»¡è¶³é¢˜æ„ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬è¦è§£å†³çš„æ˜¯å·¦ä¾§çš„ç‚¹ä¸å·¦ä¾§çš„ç‚¹ä¸å¯è¿è¾¹ï¼Œå³ä¾§çš„ç‚¹ä¸å³ä¾§çš„ç‚¹ä¸å¯è¿è¾¹ï¼Œå…¶å®åªéœ€è¦è®©å·¦ä¾§å’Œå³ä¾§çš„ç‚¹çš„å€¼åˆ†åˆ«ä»¥$01,10$å¼€å¤´å³å¯ã€‚ ç„¶åæ ‘æ˜¯ä¸€ç§ç‰¹æ®Šçš„äºŒåˆ†å›¾ã€‚æ­¤é¢˜å·²è§£å†³ã€‚ L Bit Sequenceé“¾æ¥https://ac.nowcoder.com/acm/contest/10662/L é¢˜æ„å®šä¹‰å‡½æ•°$f(x)$ä¸º$x$çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­ï¼Œæ•°å­—$1$å‡ºç°çš„æ¬¡æ•°ã€‚ ç°åœ¨ç»™ä½ ä¸€ä¸ª$01$ä¸²$a$,é—®åœ¨åŒºé—´$[0,L]$ä¸­æœ‰å¤šå°‘ä¸ª$x$æ»¡è¶³: $âˆ€iâˆˆ[0,mâˆ’1],f(x+i) \\mod 2&#x3D;a_i$ Tç»„è¾“å…¥ æ•°æ®èŒƒå›´$T&lt;1000,|a|&lt;100, L&lt;10^{18}$ é¢˜è§£åˆ†æ$f(x)$åœ¨$x&#x3D;0,1,2,3$æ„æˆçš„åºåˆ—$0,1,1,0$, æˆ‘ä»¬å‘ç°å¤åˆ¶ç„¶åå–åå°±èƒ½ä¸æ–­å¾—åˆ°åé¢çš„å€¼æ¯”å¦‚æ¥ä¸‹æ¥çš„å€¼å°±æ˜¯$1,0,0,1$, è¿™ä¸ªå¾ˆå¥½è¯æ˜ï¼Œå…¶å®æœ¬æ¥æ˜¯å¤åˆ¶ç„¶å$+1$ï¼Œä½†æ˜¯åœ¨$2$çš„æ¨¡ç¾¤ä¸­ï¼Œ$+1$å…¶å®å°±æ˜¯å–åã€‚ ç„¶åå°±å˜æˆäº†åœ¨ä¸€ä¸ªé•¿åº¦ä¸º$10^{18}$çš„å­—ç¬¦ä¸²ä¸­å¯»æ‰¾å­ä¸²$a$å‡ºç°çš„æ¬¡æ•°ï¼Œç”±äº$|a|&lt;100$,æˆ‘ä»¬å¯ä»¥å…ˆåˆ†æé•¿åº¦æ°å¥½ä¸º128çš„æ¯ä¸²Aã€‚ç„¶åç¿»è½¬å–åï¼Œåˆ†ææ¥ä¸‹æ¥çš„é•¿åº¦ä¸º128çš„æ¯ä¸²Bï¼Œæ­¤åçš„æ‰€æœ‰ä¸²å‡ä¸ºè¿™ABæ’åˆ—å¾—åˆ°ï¼Œç„¶åè€ƒè™‘è·¨è¶ŠAæˆ–è€…è·¨è¶ŠBçš„æƒ…å†µï¼Œç”±äº$|AB|&#x3D;256$ï¼Œ$|AA|&#x3D;256$ï¼Œ$|BB|&#x3D;256$ï¼Œ$|BA|&#x3D;256$ï¼Œæ‰€ä»¥è·¨è¶Šä¸ä¼šè¶…è¿‡ä¸¤ä¸ª128é•¿åº¦çš„ä¸²æ‰€ä»¥æˆ‘ä»¬ç›´æ¥å¯¹è¿™å››ä¸ªæƒ…å†µåˆ†åˆ«ç»Ÿè®¡å³å¯ï¼Œæœ€åæˆ‘ä»¬åªèƒ½å¤„ç†$L\\mod 128&#x3D;0$çš„æƒ…å†µï¼Œå¯¹äºå‰©ä¸‹çš„ä¸€å°éƒ¨åˆ†ï¼Œç›´æ¥æš´åŠ›å³å¯ã€‚ æ—¶é—´å¤æ‚åº¦$O(T\\times256\\times4)$","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"æ¯”èµ›","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ¯”èµ›","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/%E6%AF%94%E8%B5%9B/"}],"tags":[]},{"title":"ç¬¬45å±ŠICPCäºšæ´²èµ›åŒºæ˜†æ˜ç«™","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ¯”èµ›/ç¬¬45å±ŠICPCäºšæ´²èµ›åŒºæ˜†æ˜ç«™/index","date":"2021-04-20T16:54:00.000Z","updated":"2021-04-24T10:59:00.000Z","comments":true,"path":"QRVGA0.html","link":"","permalink":"http://fightinggg.github.io/indigo/QRVGA0.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial L Simone and graph coloringé“¾æ¥https://ac.nowcoder.com/acm/contest/12548/L?&amp;headNav=acm é¢˜æ„ç»™ä½ ä¸€ä¸ªæ’åˆ—ï¼Œæ’åˆ—çš„é•¿åº¦ä¸è¶…è¿‡$10^6$ã€‚ä½ è¦å¯¹ä»–çš„æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡ŒæŸ“è‰²ï¼Œè¦æ±‚æŸ“è‰²åä¸å­˜åœ¨ä»»ä½•ä¸€ä¸ªé€†åºå¯¹çš„ä¸¤ä¸ªå…ƒç´ é¢œè‰²ç›¸åŒã€‚ä½ éœ€è¦è¾“å‡ºæŸ“è‰²çš„æ•°ç»„ã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial L Simone and graph coloringé“¾æ¥https://ac.nowcoder.com/acm/contest/12548/L?&amp;headNav=acm é¢˜æ„ç»™ä½ ä¸€ä¸ªæ’åˆ—ï¼Œæ’åˆ—çš„é•¿åº¦ä¸è¶…è¿‡$10^6$ã€‚ä½ è¦å¯¹ä»–çš„æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡ŒæŸ“è‰²ï¼Œè¦æ±‚æŸ“è‰²åä¸å­˜åœ¨ä»»ä½•ä¸€ä¸ªé€†åºå¯¹çš„ä¸¤ä¸ªå…ƒç´ é¢œè‰²ç›¸åŒã€‚ä½ éœ€è¦è¾“å‡ºæŸ“è‰²çš„æ•°ç»„ã€‚ è¾“å…¥12345241 3 4 221 2 è¾“å‡º123421 1 1 2 11 1 é¢˜è§£é€†å‘æ€ç»´ï¼Œæˆ‘ä»¬å‡è®¾è‡ªå·±å·²ç»æœ‰äº†ä¸€ä¸ªç­”æ¡ˆï¼Œæˆ‘ä»¬å¯¹ç€è¿™ä¸ªç­”æ¡ˆæŒ‰ç…§é¢œè‰²å¯¹æ’åˆ—è¿›è¡Œå­åºåˆ—æ‹†åˆ†ï¼Œåˆ™æœ‰å‡ ä¸ªé¢œè‰²å°±æœ‰ä¸€ä¸ªå­åºåˆ—ï¼Œè¿™äº›å­åºåˆ—æ°å¥½æ„æˆåŸæ’åˆ—çš„ä¸€ä¸ªåˆ’åˆ†ã€‚ å¯ä»¥æ–­è¨€ï¼Œæ¯ä¸€ä¸ªå­åºåˆ—éƒ½æ˜¯ä¸¥æ ¼å•è°ƒå¢ã€‚ ç„¶åå›åˆ°æ­£å‘æ€ç»´ï¼Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯æŠŠè¿™ä¸ªæ’åˆ—åˆ†æˆnä¸ªå•è°ƒå¢çš„åˆ’åˆ†ï¼Œå¦‚ä½•æœ€å°åŒ–nï¼Ÿ æˆ‘ä»¬è´ªå¿ƒåœ°ç»´æŠ¤ä¸€äº›æ¡¶ï¼Œå¹¶æŒ‰é¡ºåºæšä¸¾æ’åˆ—ä¸­çš„å…ƒç´ ï¼ŒæŠŠä»–ä»¬æ”¾åˆ°è¿™äº›æ¡¶é‡Œé¢ï¼Œä¿è¯æ¡¶ä¸­çš„æ•°æ®å•è°ƒå¢ï¼Œå¦‚æœä»–æ— æ³•æ”¾å…¥ä»»ä½•æ¡¶ï¼Œåˆ™ä¸ºä»–æ–°å»ºä¸€ä¸ªæ¡¶ï¼Œå¦‚æœä»–å¯ä»¥æ”¾å…¥å¤šä¸ªæ¡¶ï¼Œåˆ™é€‰æ‹©æœ€åä¸€ä¸ªå…ƒç´ æœ€å¤§çš„é‚£ä¸ªæ¡¶ã€‚ ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455#include &lt;iostream&gt;#include &lt;vector&gt;#include &lt;map&gt;using namespace std;void solve(vector&lt;int&gt; a) &#123; map&lt;int, int&gt; mp; vector&lt;int&gt; color(a.size()); int cnt = 0; mp[a[0]] = 1; color[0] = ++cnt; for (int i = 1; i &lt; a.size(); i++) &#123; // *it &gt;= key auto it = mp.lower_bound(a[i]); if (it == mp.begin()) &#123; mp[a[i]] = ++cnt; color[i] = cnt; &#125; else &#123; --it; mp[a[i]] = it-&gt;second; color[i] = it-&gt;second; mp.erase(it); &#125; &#125; cout &lt;&lt; cnt &lt;&lt; &quot;\\n&quot;; for (int x:color) &#123; cout &lt;&lt; x &lt;&lt; &quot; &quot;; &#125; cout &lt;&lt; &quot;\\n&quot;;&#125;int main() &#123; ios::sync_with_stdio(false); cin.tie(0); int t; cin &gt;&gt; t; while (t--) &#123; int n; cin &gt;&gt; n; vector&lt;int&gt; a(n); for (int i = 0; i &lt; n; i++) &#123; cin &gt;&gt; a[i]; &#125; solve(a); &#125;&#125; M Stone Gamesé“¾æ¥https://ac.nowcoder.com/acm/contest/12548/M é¢˜æ„ç»™ä½ ä¸€ä¸ªé•¿åº¦1e6çš„æ•°ç»„ï¼Œ1e5ç»„è¯¢é—®ï¼Œæ¯æ¬¡è¯¢é—®è¿™ä¸ªæ•°ç»„çš„ä¸€ä¸ªå­ä¸²(subString)ï¼Œ å¯¹äºè¿™ä¸ªå­ä¸²çš„æ‰€æœ‰å­åºåˆ—(subSequence)ï¼Œä»–ä»¬å„è‡ªçš„å’Œæ„æˆçš„é›†åˆçš„mexä¸ºå¤šå°‘ã€‚å¼ºåˆ¶åœ¨çº¿ã€‚ è¡¥å……ï¼š mexå‡½æ•°è¡¨ç¤ºæ˜¯ï¼šä¸åœ¨è¯¥é›†åˆä¸­çš„æœ€å°çš„éè´Ÿæ•´æ•°çš„å€¼ è¾“å…¥12345675 51 4 2 1 61 32 12 41 43 4 è¾“å‡º12345815494 è¯´æ˜ç”±äºè¿›è¡Œäº†å¼ºåˆ¶åœ¨çº¿å¤„ç†ï¼Œæ‰€æœ‰çš„è¾“å…¥è¿›è¡Œäº†åŠ å¯†ï¼Œä¸‹é¢æ˜¯è§£å¯†åçš„å†…å®¹ In the example above, the actual query intervals are [2,4],[1,5],[3,5],[1,4] and [3,4]. é¢˜è§£æš´åŠ›è€ƒè™‘ä¸€ä¸ªæ•°åˆ—ï¼Œä»–çš„æ‰€æœ‰å­åºåˆ—å„è‡ªçš„å’Œçš„mexè¦æ€ä¹ˆè®¡ç®—ï¼Œæ¯”å¦‚1 4 2 1 6 20 21 å…ˆæ’åº1 1 2 4 6 20 21, ç„¶åä¾æ¬¡æ£€éªŒå‰ç¼€å’Œï¼Œ é¦–å…ˆæ•´æ•°åŒºé—´[0,0]éƒ½å¯è¡Œï¼Œåªè¦ä¸€ä¸ªæ•°ä¸é€‰å³å¯ ç„¶åè€ƒè™‘ç¬¬ä¸€ä¸ªæ•°1ï¼ŒåŒºé—´å˜ä¸º[0,1] ç„¶åè€ƒè™‘ç¬¬äºŒä¸ªæ•°1ï¼ŒåŒºé—´å˜ä¸º[0,2] ç„¶åè€ƒè™‘ç¬¬ä¸‰ä¸ªæ•°2ï¼ŒåŒºé—´å˜ä¸º[0,4] ç„¶åè€ƒè™‘ç¬¬ä¸€ä¸ªæ•°4ï¼ŒåŒºé—´å˜ä¸º[0,8] ç„¶åè€ƒè™‘ç¬¬ä¸€ä¸ªæ•°6ï¼ŒåŒºé—´å˜ä¸º[0,14] ç„¶åè€ƒè™‘ç¬¬ä¸€ä¸ªæ•°20ï¼Œå‰ç¼€æ— æ³•æ‰©å±•äº†å› ä¸ºä½ æ— è®ºå¦‚ä½•éƒ½æ— æ³•æ„é€ å‡ºæ•°å­—15ï¼Œäºæ˜¯æœ€åä¸€ä¸ªæ•°å­—21ä¹Ÿä¸ç”¨è€ƒè™‘äº†ã€‚ åŒºé—´åŠ é€Ÿä¸Šé¢çš„åŠæ³•å¤ªæ…¢äº†ï¼Œå¦‚æœè¿™ä¸ªåºåˆ—é•¿åº¦ä¸ºnï¼Œåˆ™è¦è®¡ç®—næ¬¡ã€‚èƒ½ä¸èƒ½åŠ é€Ÿè¿™ä¸ªè¿‡ç¨‹ï¼Ÿ è€ƒè™‘åˆ°å¦‚æœæšä¸¾åˆ°ç¬¬iä¸ªæ•°çš„æ—¶å€™ï¼ŒåŒºé—´ä¸º[0,x], åˆ™å¯¹äºæ‰€æœ‰å°äºç­‰äºx+1çš„æ•°ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥åˆå¹¶åˆ°åŒºé—´ï¼Œä¸€æ—¦å‘ç°æ²¡æœ‰å°äºç­‰äºx+1çš„æ•°çš„æ—¶å€™ï¼Œç®—æ³•å¯ä»¥ç»“æŸäº†ï¼Œè¿™ä¸ªåºåˆ—æ— æ³•æ„é€ æ•°å­—x+1 ç”±äºæ¯ä¸€è½®æšä¸¾å¯ä»¥æŠŠå¾ˆå¤šæ•°å­—åŠ å…¥åˆ°åŒºé—´ä¸­ï¼ŒåŒºé—´çš„å³ç«¯ç‚¹ä»¥æŒ‡æ•°çš„æ–¹å¼å¢åŠ ï¼Œæ‰€ä»¥è¿™ä¸ªç®—æ³•åªä¼šæšä¸¾lgæ¬¡ã€‚ ä¸»å¸­æ ‘ç»´æŠ¤åŒºé—´å’Œå‰©ä¸‹çš„é—®é¢˜å°±æ˜¯åŒºé—´ä¸­å°äºç­‰äºxçš„æ•°çš„å’Œæ˜¯å¤šå°‘äº†ï¼Œè¿™ä¸ªæ˜¯ä¸»å¸­æ ‘æ¨¡ç‰ˆé¢˜ã€‚ J Parallel Sorté“¾æ¥https://ac.nowcoder.com/acm/contest/12548/J é¢˜æ„ä½ æœ‰ä¸€ä¸ªæ’åˆ—ï¼Œä½ éœ€è¦å¯¹ä»–è¿›è¡Œæ’åºï¼Œä½ æœ‰ä¸€ä¸ªå¾ˆå‰å®³çš„å¹¶è¡Œè®¡ç®—æœºï¼Œèƒ½å¤Ÿé€‰æ‹©ä»»æ„ä¸ªæ•°å¯¹ï¼Œç„¶ååœ¨ä¸€è½®å¤„ç†ä¹‹åï¼Œå°†ä»–ä»¬ä¸¤ä¸¤äº’æ¢ã€‚ç°åœ¨é—®ä½ è‡³å°‘éœ€è¦å¤šå°‘è½®ï¼Œä½ æ‰èƒ½å°†æ•´ä¸ªæ’åˆ—æ’å¥½åº æ•°æ®èŒƒå›´æ’åˆ—é•¿åº¦å°äº$10^5$ é¢˜è§£å¯¹äºä¸€ä¸ªæ’åˆ—ï¼Œæˆ‘ä»¬ä¸è¦å…³æ³¨å…¶ä¸­çš„æ•°å­—çš„å¤§å°ï¼Œæ’åºå³å°†æ­£ç¡®çš„å€¼æ”¾å…¥æ­£ç¡®çš„ä½ç½®å³å¯ï¼Œå³å°†å€¼iï¼Œæ”¾å…¥ä½ç½®iã€‚å‡è®¾æ’åˆ—ä¸ºPï¼Œæ’åˆ—ä¸­çš„æ•°å­—åˆ†åˆ«æ˜¯$P_1,P_2,P_3â€¦P_n$ï¼ŒæŠŠä»–ä»¬å†™æˆç½®æ¢çš„å½¢å¼ï¼š $$\\begin{pmatrix}1 &amp; 2 &amp; 3 &amp; â€¦ &amp; n\\\\P_1 &amp; P_2 &amp; P_3 &amp; â€¦ &amp; P_n\\end{pmatrix}$$ç„¶åæˆ‘ä»¬è€ƒè™‘$P_i$å’Œ$P_j$ $$\\begin{pmatrix}1 &amp; 2 &amp; â€¦ &amp; i &amp; â€¦ &amp; j &amp; â€¦ &amp; n\\\\P_1 &amp; P_2 &amp; â€¦ &amp; P_i&amp; â€¦ &amp;P_j&amp; â€¦ &amp; P_n\\end{pmatrix}$$å½“äº¤æ¢$P_i$å’Œ$P_j$å, å˜æˆäº†: $$\\begin{pmatrix}1 &amp; 2 &amp; â€¦ &amp; i &amp; â€¦ &amp; j &amp; â€¦ &amp; n\\\\P_1 &amp; P_2 &amp; â€¦ &amp; P_j&amp; â€¦ &amp;P_i&amp; â€¦ &amp; P_n\\end{pmatrix}$$ æ³¨æ„åˆ° $$\\begin{pmatrix}1 &amp; 2 &amp; â€¦ &amp; i &amp; â€¦ &amp; j &amp; â€¦ &amp; n\\\\P_1 &amp; P_2 &amp; â€¦ &amp; P_i&amp; â€¦ &amp;P_j&amp; â€¦ &amp; P_n\\end{pmatrix} \\circ\\begin{pmatrix}P_i &amp; P_j\\\\P_j &amp; P_i\\end{pmatrix}&#x3D;\\begin{pmatrix}1 &amp; 2 &amp; â€¦ &amp; i &amp; â€¦ &amp; j &amp; â€¦ &amp; n\\\\P_1 &amp; P_2 &amp; â€¦ &amp; P_j&amp; â€¦ &amp;P_i&amp; â€¦ &amp; P_n\\end{pmatrix}$$ äºæ˜¯æˆ‘ä»¬å‘ç°é¢˜ç›®æœ¬è´¨ä¸Šå°±æ˜¯ç»™æˆ‘ä»¬ä¸€ä¸ªç½®æ¢ï¼Œä½ å¯ä»¥è®©ä»–å’Œå¯¹æ¢è¿›è¡Œä¹˜æ³•è¿ç®—ï¼Œé—®ä½ å¦‚ä½•æ“ä½œèƒ½è®©ä»–å˜æˆç½®æ¢ï¼š$(1)\\circ(2)\\circ(3)\\circ(4)â€¦(n)$ æ ¹æ®ç½®æ¢åˆ†è§£å®šç†ï¼Œä¸€ä¸ªç½®æ¢ä¸€å®šå¯ä»¥å¤šä¸ªå¾ªç¯ç½®æ¢çš„ç§¯ï¼Œä¸å¦¨å‡è®¾åŸå§‹ç½®æ¢è¢«åˆ†è§£ä¸ºäº†$Q_1\\circ Q_2\\circ Q_3â€¦Q_t$ å…¶ä¸­æ¯ä¸€ä¸ª$Q_i$éƒ½æ˜¯ä¸€ä¸ªå¾ªç¯ç½®æ¢ã€‚ æˆ‘ä»¬å‡è®¾è¿›è¡Œäº†kæ¬¡äº¤æ¢ï¼Œåˆ™ç­”æ¡ˆä¸º$(a_1,b_1)\\circ(a_2,b_2)\\circ(a_3,b_3)â€¦(a_k,b_k)$, åˆ™æœ‰$(Q_1\\circ Q_2\\circ Q_3â€¦Q_t)\\circ ((a_1,b_1)\\circ(a_2,b_2)\\circ(a_3,b_3)â€¦(a_k,b_k)) &#x3D; (1)\\circ(2)\\circ(3)â€¦(n)$ è¿™é‡Œå¾ˆæ˜æ˜¾å¯¹äºæ¯ä¸€ä¸ª$Q_i$åˆ†åˆ«ä¹˜ä¸Šå³ä¾§çš„ç­”æ¡ˆï¼Œå¾—åˆ°çš„éƒ½æ˜¯é•¿åº¦ä¸º1çš„å¾ªç¯ç½®æ¢ã€‚äºæ˜¯æˆ‘ä»¬åªéœ€è¦å¯¹æ¯ä¸€ä¸ª$Q_i$åˆ†åˆ«è®¨è®ºï¼Œç„¶åå³ä¾§éœ€è¦ä¹˜ä¸Šçš„æœ€å¤šçš„ç½®æ¢å°±æ˜¯ç­”æ¡ˆã€‚ ä¸å¦¨è€ƒè™‘$Q_1&#x3D;(1,2,3,4â€¦x)$ (æ€è€ƒä¸ºä»€ä¹ˆå¯ä»¥ä¸è®¨è®ºè¿™ç§ï¼š (1,3,5,2,4)) ç„¶åè€ƒè™‘å¯¹ä»–è¿›è¡Œä¸€æ¬¡å¯¹æ¢$(1,y)$ (æ€è€ƒä¸ºä»€ä¹ˆç¬¬ä¸€ä¸ªæ•°å¯ä»¥è§„çº¦åˆ°1) ä¹‹åå˜æˆäº†ï¼š $(\\dot 1,2,3,4â€¦y-1)\\circ (\\dot y,y+1,y+2 â€¦ x)$ ç„¶åæˆ‘ä»¬å‘ç°$Q_1$å˜æˆäº†ä¸¤ä¸ªå¾ªç¯ç½®æ¢çš„ä¹˜ç§¯ï¼Œå¯¹äºä¸‹ä¸€æ¬¡äº¤æ¢ï¼Œæˆ‘ä»¬æ— æ³•å†æ¬¡ä½¿ç”¨æ•°å­—yå’Œæ•°å­—1ï¼Œç¬”è€…åœ¨æ­¤ä¹Ÿå¯¹ä»–ä»¬è¿›è¡Œäº†æ ‡è®°ï¼Œå¯ä»¥çœ‹åˆ°ä»–ä»¬çš„å¤´é¡¶éƒ½æœ‰ä¸€ä¸ªç‚¹ç¬¦å·ã€‚ ä¸‹ä¸€è½®çš„å­é—®é¢˜å˜æˆäº†æœ‰ä¸€ä¸ªæ•°æ— æ³•ä½¿ç”¨ã€‚è¿™å›åˆ°äº†åŸç‚¹ï¼Œä¸”é™åˆ¶æ¡ä»¶æ›´å¤šï¼Œæˆ‘ä»¬ä¸å¦¨ç›´æ¥å‡è®¾$Q_1$çš„æœ‰ä¸€ä¸ªæ•°ä¸èƒ½ä½¿ç”¨ï¼Œä¸å¦¨å‡è®¾ä»–ä¸ºxï¼Œåˆ™$Q_1&#x3D;(1,2,3,4â€¦\\dot x)$ å¯¹ä»–è¿›è¡Œå¯¹æ¢$(1,y)$ å˜æˆäº†$(\\dot 1,2,3,4â€¦y-1)\\circ (\\dot y,y+1,y+2 â€¦ \\dot x)$ ç¨å¾®ç»†å¿ƒä¸€ç‚¹å°±èƒ½å‘ç°å·¦è¾¹çš„ç­‰å¼ä¸ºåŸé—®é¢˜ï¼Œå³è¾¹å¦‚æœ$y&#x3D;x-1$åˆ™ä¸‹ä¸€è½®å¯ç›´æ¥å®Œæˆã€‚ ç»¼ä¸Šï¼Œæœ€å¤šä¸¤è½®å¯æ¢å®Œæ‰€æœ‰çš„æ•°ã€‚æŒ‰ç…§è¿™ä¸ªæ€è·¯æ¨¡æ‹Ÿï¼Œæˆ‘ä»¬å‘ç°æ¯æ¬¡äº¤æ¢çš„æ•°æ»¡è¶³è¿™æ ·çš„æ€§è´¨ï¼Œè¿›è¡Œäº¤æ¢çš„ä¸¤ä¸ªæ•°çš„å’Œæ°å¥½ä¸ºnã€‚ äºæ˜¯æ•´ä¸ªé—®é¢˜ç›´æ¥è§£å†³ã€‚","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"æ¯”èµ›","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ¯”èµ›","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/%E6%AF%94%E8%B5%9B/"}],"tags":[]},{"title":"httpd","slug":"Others/httpd/index","date":"2021-04-19T17:14:00.000Z","updated":"2021-04-19T17:14:00.000Z","comments":true,"path":"QRTMJC.html","link":"","permalink":"http://fightinggg.github.io/indigo/QRTMJC.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 123456docker run \\-d \\--name httpd \\-p 8085:80 \\-v $HOME/sharefile:/usr/local/apache2/htdocs/sharefile \\httpd","categories":[{"name":"Others","slug":"Others","permalink":"http://fightinggg.github.io/indigo/categories/Others/"}],"tags":[]},{"title":"CICD","slug":"Others/CICD/index","date":"2021-04-16T11:17:00.000Z","updated":"2021-04-16T11:17:00.000Z","comments":true,"path":"QRNM0C.html","link":"","permalink":"http://fightinggg.github.io/indigo/QRNM0C.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial CI&#x2F;CDæŒç»­é›†æˆã€æŒç»­äº¤ä»˜ã€æŒç»­éƒ¨ç½² Continuous IntegrationæŒç»­é›†æˆï¼Œå³æ¯å½“å¼€å‘è€…å¯¹ä»£ç è¿›è¡Œpushï¼Œä¼šè‡ªåŠ¨åŒ–æ„å»ºæµæ°´çº¿ï¼Œåœ¨æµæ°´çº¿ä¸­è¿›è¡Œè‡ªåŠ¨åŒ–å†’çƒŸæµ‹è¯•ï¼Œè¿›è¡Œé›†æˆæµ‹è¯•ï¼Œå½“æµ‹è¯•é€šè¿‡ï¼Œå¯ä»¥é€šè¿‡é‚®ä»¶çš„æ–¹å¼å‘ŠçŸ¥å¼€å‘è€…ã€‚ Continuous Delivery æŒç»­äº¤ä»˜ï¼Œå½“CIé€šè¿‡ä»¥åï¼Œæµæ°´çº¿ä¼šè‡ªåŠ¨åŒ–åœ°å°†ä»£ç è¿›è¡Œæ„å»ºï¼Œå¹¶éƒ¨ç½²åˆ°ç±»çœŸå®ç¯å¢ƒä¸­ï¼ˆå³æµ‹è¯•ç¯å¢ƒã€é¢„å‘æ­¥ç¯å¢ƒï¼‰å¦‚æœä»£ç æ²¡æœ‰é—®é¢˜ï¼Œå¯ä»¥ç»§ç»­æ‰‹åŠ¨éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒä¸­ã€‚ Continuous DeploymentæŒç»­éƒ¨ç½²ï¼Œå½“æŒç»­äº¤ä»˜ä¹‹åï¼Œä»£ç å³å¯è‡ªåŠ¨åŒ–éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial CI&#x2F;CDæŒç»­é›†æˆã€æŒç»­äº¤ä»˜ã€æŒç»­éƒ¨ç½² Continuous IntegrationæŒç»­é›†æˆï¼Œå³æ¯å½“å¼€å‘è€…å¯¹ä»£ç è¿›è¡Œpushï¼Œä¼šè‡ªåŠ¨åŒ–æ„å»ºæµæ°´çº¿ï¼Œåœ¨æµæ°´çº¿ä¸­è¿›è¡Œè‡ªåŠ¨åŒ–å†’çƒŸæµ‹è¯•ï¼Œè¿›è¡Œé›†æˆæµ‹è¯•ï¼Œå½“æµ‹è¯•é€šè¿‡ï¼Œå¯ä»¥é€šè¿‡é‚®ä»¶çš„æ–¹å¼å‘ŠçŸ¥å¼€å‘è€…ã€‚ Continuous Delivery æŒç»­äº¤ä»˜ï¼Œå½“CIé€šè¿‡ä»¥åï¼Œæµæ°´çº¿ä¼šè‡ªåŠ¨åŒ–åœ°å°†ä»£ç è¿›è¡Œæ„å»ºï¼Œå¹¶éƒ¨ç½²åˆ°ç±»çœŸå®ç¯å¢ƒä¸­ï¼ˆå³æµ‹è¯•ç¯å¢ƒã€é¢„å‘æ­¥ç¯å¢ƒï¼‰å¦‚æœä»£ç æ²¡æœ‰é—®é¢˜ï¼Œå¯ä»¥ç»§ç»­æ‰‹åŠ¨éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒä¸­ã€‚ Continuous DeploymentæŒç»­éƒ¨ç½²ï¼Œå½“æŒç»­äº¤ä»˜ä¹‹åï¼Œä»£ç å³å¯è‡ªåŠ¨åŒ–éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒã€‚ How To Do itåˆ›å»ºé¡¹ç›®é¦–å…ˆåœ¨Githubåˆ›å»ºé¡¹ç›®ã€‚ æˆ‘ä»¬æ‹¿ä¸€ä¸ªspring booté¡¹ç›®æ¥è¯´, ç›´æ¥è¿›å…¥åˆ°Dockerfileä¸‹, æ¥ä¸‹æ¥ç®€å•ä»‹ç»ä¸€ä¸‹è¿™ä¸ªDockerfileï¼Œç¬¬ä¸€ä¸ªFROMè¡¨ç¤ºç”¨mavenä½œä¸ºåŸºç¡€é•œåƒï¼ŒCOPY . /appæŠŠæ•´ä¸ªé¡¹ç›®æºä»£ç ç§»åŠ¨åˆ°&#x2F;appä¸‹ï¼Œç„¶åWORKDIR /appè¿›å…¥åˆ°ç›®å½•&#x2F;appä¸‹ï¼Œæœ€åæ‰§è¡Œpackageï¼Œæˆ‘è¿™é‡Œä½¿ç”¨-Dmaven.test.skip=trueè·³è¿‡äº†æµ‹è¯•,æ‰€ä»¥è¿™ä¸æ˜¯ä¸€ä¸ªå¾ˆæ£’çš„CIã€‚è‡³æ­¤ç¼–è¯‘äº§ç‰©æ„å»ºå®Œæˆã€‚ ç„¶åå¯åŠ¨ç¬¬äºŒä¸ªé•œåƒæ„å»ºä»»åŠ¡ï¼Œä»openjdk-8-jreå¼€å§‹æ„å»ºï¼Œä½¿ç”¨java -jar /app/main.jarä½œä¸ºå®¹å™¨å¯åŠ¨æŒ‡ä»¤ã€‚äºæ˜¯è¿è¡Œé•œåƒæ„å»ºå®Œæˆã€‚ 123456789FROM maven:3.8.1-openjdk-8COPY . /appWORKDIR /appRUN mvn package -Dmaven.test.skip=true -qFROM openjdk:8-jreCOPY --from=0 /app/start-polinoj/target/*.jar /app/main.jarENV JAVA_PARAM &#x27;&#x27;CMD &quot;java&quot; &quot;-jar&quot; &quot;/app/main.jar&quot; $JAVA_PARAM Docker Hub Hookç„¶åæˆ‘ä»¬å»Dockerhubåˆ›å»ºé¡¹ç›®ï¼Œå¹¶å°†å…¶ä¸­çš„SOURCE REPOISITORYæŒ‡å‘æˆ‘ä»¬çš„GITHUBé¡¹ç›®ã€‚ Enjoy Itæ¯å½“æˆ‘ä»¬å¯¹è¿™ä¸ªé¡¹ç›®çš„masteråˆ†æ”¯æ‰§è¡Œpushï¼Œåˆ™dockerhubä¸Šè‡ªåŠ¨å¯åŠ¨æ„å»ºä»»åŠ¡ã€‚ å¦‚ä½•CDdockerhubä¸Šæœ‰äº†é•œåƒï¼Œæˆ‘ä¹ˆè¦æ‰‹åŠ¨å»éƒ¨ç½²å—ï¼ŸNOï¼ NOï¼ NOï¼ å…ˆå®‰è£…dockerï¼Œç„¶åæ‰§è¡Œä¸‹é¢çš„æŒ‡ä»¤ 123456docker run \\-d \\--name watchtower \\-v /var/run/docker.sock:/var/run/docker.sock \\-m 50M --memory-swap=1024M \\v2tec/watchtower Watchtower is an application that will monitor your running Docker containers and watch for changes to the images that those containers were originally started from. If watchtower detects that an image has changed, it will automatically restart the container using the new image. è‡³æ­¤CDå®Œæˆã€‚","categories":[{"name":"Others","slug":"Others","permalink":"http://fightinggg.github.io/indigo/categories/Others/"}],"tags":[]},{"title":"è‡ªå·±åŠ¨æ‰‹å†™Docker","slug":"Docker/è‡ªå·±åŠ¨æ‰‹å†™Docker/index","date":"2021-04-16T05:46:00.000Z","updated":"2021-06-05T06:44:00.000Z","comments":true,"path":"QRN6OO.html","link":"","permalink":"http://fightinggg.github.io/indigo/QRN6OO.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å®¹å™¨ä¸å¼€å‘è¯­è¨€å®¹å™¨éšç€äº‘è®¡ç®—é¢†åŸŸçš„å…´èµ·ï¼Œå®¹å™¨è¿™ä¸ªè¯å‡ºç°äº†ï¼Œä½†æ˜¯ä»€ä¹ˆæ˜¯å®¹å™¨ï¼Ÿ å®¹å™¨è‹±æ–‡åContainerï¼Œæ˜¯åŸºäºLinux Namespaceä»¥åŠCgroupsæŠ€æœ¯å®ç°çš„å…·å¤‡éš”ç¦»ç‰¹æ€§çš„ä¸€ç»„è¿›ç¨‹ã€‚ OKï¼Œä»–æ˜¯ä¸€ç»„å…·å¤‡éš”ç¦»ç‰¹æ€§çš„è¿›ç¨‹ã€‚ è™šæ‹Ÿæœºè™šæ‹Ÿæœºæ˜¯ä½¿ç”¨HypervisoræŠ€æœ¯æä¾›çš„è™šæ‹ŸåŒ–ç¡¬ä»¶çš„æ“ä½œç³»ç»Ÿã€‚ OKï¼Œè™šæ‹Ÿæœºæ˜¯ä¸€ä¸ªæ“ä½œç³»ç»Ÿã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å®¹å™¨ä¸å¼€å‘è¯­è¨€å®¹å™¨éšç€äº‘è®¡ç®—é¢†åŸŸçš„å…´èµ·ï¼Œå®¹å™¨è¿™ä¸ªè¯å‡ºç°äº†ï¼Œä½†æ˜¯ä»€ä¹ˆæ˜¯å®¹å™¨ï¼Ÿ å®¹å™¨è‹±æ–‡åContainerï¼Œæ˜¯åŸºäºLinux Namespaceä»¥åŠCgroupsæŠ€æœ¯å®ç°çš„å…·å¤‡éš”ç¦»ç‰¹æ€§çš„ä¸€ç»„è¿›ç¨‹ã€‚ OKï¼Œä»–æ˜¯ä¸€ç»„å…·å¤‡éš”ç¦»ç‰¹æ€§çš„è¿›ç¨‹ã€‚ è™šæ‹Ÿæœºè™šæ‹Ÿæœºæ˜¯ä½¿ç”¨HypervisoræŠ€æœ¯æä¾›çš„è™šæ‹ŸåŒ–ç¡¬ä»¶çš„æ“ä½œç³»ç»Ÿã€‚ OKï¼Œè™šæ‹Ÿæœºæ˜¯ä¸€ä¸ªæ“ä½œç³»ç»Ÿã€‚ æ“ä½œç³»ç»Ÿå’Œè¿›ç¨‹çš„åŒºåˆ«æ“ä½œç³»ç»Ÿæ˜¯ç®¡ç†è½¯ä»¶ã€ç¡¬ä»¶çš„ä¸€ç»„è¿›ç¨‹ã€‚ GOè¿™é‡Œä¸åšä»‹ç»ï¼ˆå…¶å®æˆ‘åªèƒ½çœ‹æ‡‚ä¸€ç‚¹ç‚¹Goä»£ç ï¼Œæ²¡æ—¶é—´å­¦ï¼Œåé¢æœ‰æœºä¼šå†å‡ºè¿™æ–¹é¢çš„Blogå§ï¼‰ åŸºç¡€æŠ€æœ¯Linux NamespaceNamespaceå³ä¸ºåç§°ç©ºé—´ï¼Œè¿™æ˜¯ä¸€ä¸ªæ ‘çŠ¶çš„ç»“æ„ï¼Œçˆ¶åç§°ç©ºé—´å¯ä»¥çœ‹åˆ°å­åç§°ç©ºé—´çš„æ‰€æœ‰å†…å®¹ï¼Œåä¹‹åˆ™ä¸è¡Œã€‚è¿™ç±»ä¼¼äºSpringæ¡†æ¶çš„çˆ¶å­Beanfactoryã€‚ Linux ä¸€ä¸ªå®ç°äº†6ä¸ªä¸åŒçš„Namespace Namespace ç±»å‹ ç³»ç»Ÿè°ƒç”¨å‚æ•° å¤‡æ³¨ Mount Namespace CLONE NEWNS æ–‡ä»¶ç³»ç»ŸæŒ‚è½½ç‚¹ UTS Namespace CLONE NEWUTS ä¸»æœºå IPC Namespace CLONE NEWIPC è¿›ç¨‹é€šä¿¡ PID Namespace CLONE NEWPID è¿›ç¨‹ID Network Namespace CLONE NEWNET ç½‘ç»œ User Namespace CLONE NEWUSER ç”¨æˆ· å¯¹äºè¿™äº›Namespaceï¼ŒLinuxæä¾›äº†3ä¸ªç³»ç»Ÿè°ƒç”¨ã€‚ API å¤‡æ³¨ clone åˆ›å»ºæ–°è¿›ç¨‹ï¼Œå¹¶ä¸ºå…¶åˆ†é…6ä¸ªåç§°ç©ºé—´ unshare æŠŠè¿›ç¨‹ç§»å‡ºåç§°ç©ºé—´ setns æŠŠè¿›ç¨‹åŠ å…¥åç§°ç©ºé—´ UTS Namespaceä¸‹é¢æ˜¯ä¸€ä¸ªmain.goæ–‡ä»¶ï¼Œæˆ‘ä»¬ä½¿ç”¨æŒ‡ä»¤go run main.go 12345678910111213141516171819package mainimport ( &quot;os/exec&quot; &quot;syscall&quot; &quot;os&quot; &quot;log&quot;)func main () &#123; cmd := exec.Command(&quot;sh&quot;) cmd.SysProcAttr = &amp;syscall.SysProcAttr&#123; Cloneflags: syscall.CLONE_NEWUTS, &#125; cmd.Stdin = os.Stdin cmd.Stdout = os.Stdout cmd.Stderr = os.Stderr if err := cmd.Run(); err!= nil &#123; log.Fatal(err) &#125;&#125; å–è‡ªåŸä¹¦ç¬¬10é¡µ ç„¶åæˆ‘ä»¬å‘ç°æˆ‘ä»¬è¿›å…¥åˆ°äº†ä¸€ä¸ªshellå‘½ä»¤ä¸­ã€‚ 12[root@VM-4-4-centos tmp]# go run main.go sh-4.4# æ¥ä¸‹æ¥æˆ‘ä»¬æŸ¥çœ‹hostnameå¹¶æ›´æ”¹ç„¶åå†æ¬¡æŸ¥çœ‹ã€‚ 123456789[root@VM-4-4-centos tmp]# go run main.go sh-4.4# hostnameVM-4-4-centossh-4.4# hostnameVM-4-4-centossh-4.4# hostname wsxsh-4.4# hostnamewsxsh-4.4# å›åˆ°å®¿ä¸»æœºä¸Šä½¿ç”¨æŒ‡ä»¤hostname,å‘ç°å®¿ä¸»æœºçš„hostnameå¹¶æ²¡æœ‰å‘ç”Ÿæ”¹å˜ã€‚ 123[root@VM-4-4-centos src]# hostnameVM-4-4-centos[root@VM-4-4-centos src]# æˆ‘ä»¬ä½¿ç”¨æŒ‡ä»¤ps -ef | grep $$æŸ¥çœ‹å½“å‰è¿›ç¨‹çš„pidä¸º1539189ï¼Œ ppidä¸º1539185ã€‚ 1234sh-4.4# ps -ef | grep $$root 1539189 1539185 0 15:01 pts/0 00:00:00 shroot 1540099 1539189 0 15:05 pts/0 00:00:00 ps -efroot 1540100 1539189 0 15:05 pts/0 00:00:00 grep 1539189 ç„¶ååˆ†åˆ«æŸ¥çœ‹ä»–ä»¬çš„nsç©ºé—´, ä¸éš¾å‘ç°åªæœ‰utsç©ºé—´ä¸ä¸€æ ·ã€‚ 1234567891011sh-4.4# ls -l /proc/$$/nstotal 0lrwxrwxrwx 1 root root 0 Apr 16 15:08 cgroup -&gt; &#x27;cgroup:[4026531835]&#x27;lrwxrwxrwx 1 root root 0 Apr 16 15:08 ipc -&gt; &#x27;ipc:[4026531839]&#x27;lrwxrwxrwx 1 root root 0 Apr 16 15:08 mnt -&gt; &#x27;mnt:[4026531840]&#x27;lrwxrwxrwx 1 root root 0 Apr 16 15:08 net -&gt; &#x27;net:[4026531992]&#x27;lrwxrwxrwx 1 root root 0 Apr 16 15:08 pid -&gt; &#x27;pid:[4026531836]&#x27;lrwxrwxrwx 1 root root 0 Apr 16 15:08 pid_for_children -&gt; &#x27;pid:[4026531836]&#x27;lrwxrwxrwx 1 root root 0 Apr 16 15:08 user -&gt; &#x27;user:[4026531837]&#x27;lrwxrwxrwx 1 root root 0 Apr 16 15:06 uts -&gt; &#x27;uts:[4026532643]&#x27;lrwxrwxrwx 1 root root 0 Apr 16 15:07 uts -&gt; &#x27;uts:[4026531838]&#x27; 12345678910sh-4.4# ls -l /proc/1539185/nstotal 0lrwxrwxrwx 1 root root 0 Apr 16 15:08 cgroup -&gt; &#x27;cgroup:[4026531835]&#x27;lrwxrwxrwx 1 root root 0 Apr 16 15:08 ipc -&gt; &#x27;ipc:[4026531839]&#x27;lrwxrwxrwx 1 root root 0 Apr 16 15:08 mnt -&gt; &#x27;mnt:[4026531840]&#x27;lrwxrwxrwx 1 root root 0 Apr 16 15:08 net -&gt; &#x27;net:[4026531992]&#x27;lrwxrwxrwx 1 root root 0 Apr 16 15:08 pid -&gt; &#x27;pid:[4026531836]&#x27;lrwxrwxrwx 1 root root 0 Apr 16 15:08 pid_for_children -&gt; &#x27;pid:[4026531836]&#x27;lrwxrwxrwx 1 root root 0 Apr 16 15:08 user -&gt; &#x27;user:[4026531837]&#x27;lrwxrwxrwx 1 root root 0 Apr 16 15:07 uts -&gt; &#x27;uts:[4026531838]&#x27; å…¶ä»–çš„Namespaceæ›´å¤šçš„ä¾‹å­å¯ä»¥æŸ¥çœ‹åŸä¹¦11-19é¡µï¼Œå³å¯å®ç°å…¶ä»–5ä¸ªç©ºé—´çš„éš”ç¦»ï¼Œå…¶å®åªéœ€è¦ä¿®æ”¹ä»£ç ä¸ºä¸‹é¢è¿™æ ·å³å¯ã€‚æˆ‘ä»¬åªéœ€è¦ä½¿ç”¨ç¬¦å· |å°±èƒ½åŒæ—¶å¼€å¯å¤šä¸ªèµ„æºçš„éš”ç¦»ã€‚ 123cmd.SysProcAttr = &amp;syscall.SysProcAttr&#123; Cloneflags: syscall.CLONE_NEWUTS | syscall.CLONE_NEWIPC,&#125; Linux Cgroupsæœ‰äº†èµ„æºéš”ç¦»ï¼Œè¿˜å·®ä¸€ç‚¹ä¸œè¥¿æ‰èƒ½å®ç°å®¹å™¨ï¼Œé‚£å°±æ˜¯èµ„æºé™åˆ¶ã€æ§åˆ¶ã€ç»Ÿè®¡ï¼ˆåŒ…æ‹¬CPUã€Memoryã€IOç­‰ï¼‰ã€‚Linux Cgroupså°±æ˜¯å¹²è¿™ä¸ªäº‹çš„ã€‚ cgroupsï¼ˆControl Groupsï¼‰æœ€åˆå« Process Containerï¼Œç”± Google å·¥ç¨‹å¸ˆï¼ˆPaul Menage å’Œ Rohit Sethï¼‰äº 2006 å¹´æå‡ºï¼Œåæ¥å› ä¸º Container æœ‰å¤šé‡å«ä¹‰å®¹æ˜“å¼•èµ·è¯¯è§£ï¼Œå°±åœ¨ 2007 å¹´æ›´åä¸º Control Groupsï¼Œå¹¶è¢«æ•´åˆè¿› Linux å†…æ ¸ã€‚é¡¾åæ€ä¹‰å°±æ˜¯æŠŠè¿›ç¨‹æ”¾åˆ°ä¸€ä¸ªç»„é‡Œé¢ç»Ÿä¸€åŠ ä»¥æ§åˆ¶ã€‚ å¼•ç”¨è‡ªï¼š åŸæ–‡é“¾æ¥ Taskåœ¨Cgroupsæœ¯è¯­ä¸­ï¼ŒTaskå°±æ˜¯ä¸€ä¸ªè¿›ç¨‹ã€‚ Cgroupå³ä¸€ä¸ªæ§åˆ¶ç»„ï¼Œå¯ä»¥å¯¹ä¸€ç»„è¿›ç¨‹è¿›è¡Œé…ç½®ã€‚ Subsystemå…·ä½“çš„é…ç½®å­ç³»ç»Ÿï¼Œä¾‹å¦‚cpuå­ç³»ç»Ÿå¯ä»¥é…ç½®Cgroupä¸­è¿›ç¨‹è¢«è°ƒåº¦çš„ç­–ç•¥ï¼Œmemoryå­ç³»ç»Ÿå¯ä»¥æ§åˆ¶Cgroupä¸­è¿›ç¨‹çš„å†…å­˜å ç”¨ã€‚ HierarchyhierarchyæŠŠcgroupæè¿°ä¸ºä¸€ä¸ªæ ‘çŠ¶ç»“æ„ï¼Œåœ¨è¿™ä¸ªæ ‘çŠ¶ç»“æ„ä¸­ï¼ŒCgroupså®Œæˆäº†ç»§æ‰¿ï¼Œå°±å’Œå‰é¢çš„Linux Namespaceä¸€æ ·ã€‚ å®‰è£…Cgroupåº“1yum install -y libcgroup-tools.x86_64 æŸ¥çœ‹cgroupæˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™é‡Œæœ‰å¾ˆå¤šcgroupï¼Œå†’å·å·¦è¾¹æ˜¯å­ç³»ç»Ÿï¼Œå³è¾¹æ˜¯cgroupã€‚ 12345678910111213141516[root@VM-4-4-centos cpu]# lscgroup | head -n 15cpu,cpuacct:/cpu,cpuacct:/YunJingcpu,cpuacct:/dockercpu,cpuacct:/docker/de0ca6c8064d53b51a3076317c90c472b3b62e31d5110c08a9e158d4470bde2acpu,cpuacct:/docker/5e0cd00a0390669e38f844b1ecf56c63dc8d406d0c12d330d278ff137aafd2d2cpu,cpuacct:/docker/29f1d2a9d2d3baaf7e108696dace633e84a75dca7182b3015d0a632d72b2f1f8cpu,cpuacct:/docker/d97f48af25382fad8175a285dfe3c6ebc93fe28d022c534c20c35152a47e9a09cpu,cpuacct:/docker/dfdc0ad0ca19f736e8bb70abcbdbbd75b483b9830920097566e01bb8dc83d1b6cpu,cpuacct:/docker/28c73206d27e9bfcbca5fd9f801ff96a57cd07c5b6806f1bcf5932e4643296e1cpu,cpuacct:/docker/9852a95cfef5ff071cb4554ea73b6699be0ab5aa08f873abe1575ef07c31c68fcpu,cpuacct:/docker/a3845de540c9eaa8dc609b67d09fb40f262a0bc286eef8363607d4fba68dad36cpu,cpuacct:/docker/d46d67f40ea34e5a9e0aaf9e32d0438d9fc9c0db614c2e60139971ab7917602fcpu,cpuacct:/docker/a3fa62cd8e9ec321a708e81c0f5aa1048b636815db225e1f9b3252dd9f676913cpu,cpuacct:/user.slicecpu,cpuacct:/init.scope æŸ¥çœ‹å­ç³»ç»Ÿä¸‹é¢çš„æŒ‡ä»¤ä¼šåˆ—å‡ºæ‰€æœ‰çš„å­ç³»ç»Ÿï¼Œä¸€èˆ¬å°±å‡ ä¸ªå­ç³»ç»Ÿã€‚ 123456789101112[root@VM-4-4-centos cpu]# lssubsys -acpusetcpu,cpuacctblkiomemorydevicesfreezernet_cls,net_prioperf_eventhugetlbpidsrdma æŸ¥çœ‹å­ç³»ç»ŸæŒ‚è½½123456789101112[root@VM-4-4-centos src]# lssubsys -mcpuset /sys/fs/cgroup/cpusetcpu,cpuacct /sys/fs/cgroup/cpu,cpuacctblkio /sys/fs/cgroup/blkiomemory /sys/fs/cgroup/memorydevices /sys/fs/cgroup/devicesfreezer /sys/fs/cgroup/freezernet_cls,net_prio /sys/fs/cgroup/net_cls,net_prioperf_event /sys/fs/cgroup/perf_eventhugetlb /sys/fs/cgroup/hugetlbpids /sys/fs/cgroup/pidsrdma /sys/fs/cgroup/rdma Cgroupä¾‹å­å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œcgroupï¼ˆç²‰è‰²ï¼‰ æ˜¯ä¸€ä¸ªæ ‘çŠ¶ç»“æ„ï¼Œç»„æˆäº†ä¸€ä¸ªHierarchyï¼ˆç»¿è‰²ï¼‰ï¼Œè€Œæ¯ä¸€ä¸ªå­ç³»ç»Ÿï¼ˆè“è‰²ï¼‰å¯ä»¥åˆ†é…åˆ°ä¸€ä¸ªHierarchyä¸Šã€‚ Cgroupsä¸‰ä¸ªç»„ä»¶çš„çº¦æŸ ç³»ç»Ÿåœ¨åˆ›å»ºäº†æ–°çš„ hierarchyä¹‹å,ç³»ç»Ÿä¸­æ‰€æœ‰çš„è¿›ç¨‹éƒ½ä¼šåŠ å…¥è¿™ä¸ª hierarchyçš„ cgroupæ ¹èŠ‚ç‚¹,è¿™ä¸ª cgroupæ ¹èŠ‚ç‚¹æ˜¯ hierarchyé»˜è®¤åˆ›å»ºçš„ã€‚ ä¸€ä¸ª subsystemåªèƒ½é™„åŠ åˆ°ä¸€ä¸ª hierarchyä¸Šé¢ã€‚ ä¸€ä¸ª hierarchyå¯ä»¥é™„åŠ å¤šä¸ª subsystemã€‚ ä¸€ä¸ªè¿›ç¨‹å¯ä»¥ä½œä¸ºå¤šä¸ª cgroupçš„æˆå‘˜,ä½†æ˜¯è¿™äº› cgroupå¿…é¡»åœ¨ä¸åŒçš„ hierarchyä¸­ã€‚ ä¸€ä¸ªè¿›ç¨‹forkå‡ºå­è¿›ç¨‹æ—¶,å­è¿›ç¨‹æ˜¯å’Œçˆ¶è¿›ç¨‹åœ¨åŒä¸€ä¸ª cgroupä¸­çš„,ä¹Ÿå¯ä»¥æ ¹æ®éœ€è¦å°†å…¶ç§»åŠ¨åˆ°å…¶ä»– cgroupä¸­ã€‚ Cgroups å®æˆ˜æˆ‘ä»¬å®‰è£…ä¸‹é¢çš„æ–¹å¼å³å¯åˆ›å»ºä¸€ä¸ªcgroupï¼Œè¿™ä¸ªcgroupåœ¨å­ç³»ç»Ÿcpuæ‰€é™„ç€çš„Hierarchyä¸Šã€‚ åªéœ€è¦åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œcgroupå°±è¢«åˆ›å»ºäº†ã€‚ 12345678910111213[root@VM-4-4-centos cpu]# cd /sys/fs/cgroup/cpu[root@VM-4-4-centos cpu]# mkdir my-cpu[root@VM-4-4-centos cpu]# cd my-cpu/[root@VM-4-4-centos my-cpu]# lltotal 0-rw-r--r-- 1 root root 0 Apr 17 14:32 cgroup.clone_children-rw-r--r-- 1 root root 0 Apr 17 14:32 cgroup.procs-r--r--r-- 1 root root 0 Apr 17 14:32 cpuacct.stat-rw-r--r-- 1 root root 0 Apr 17 14:32 cpuacct.usage-r--r--r-- 1 root root 0 Apr 17 14:32 cpuacct.usage_all-r--r--r-- 1 root root 0 Apr 17 14:32 cpuacct.usage_percpu-r--r--r-- 1 root root 0 Apr 17 14:32 cpuacct.usage_percpu_sys... æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸¤ä¸ªæ–‡ä»¶ 1234[root@VM-4-4-centos my-cpu]# cat cpu.cfs_period_us 100000[root@VM-4-4-centos my-cpu]# cat cpu.cfs_quota_us -1 cfs_period_usç”¨æ¥é…ç½®æ—¶é—´å‘¨æœŸé•¿åº¦ï¼Œcfs_quota_usç”¨æ¥é…ç½®å½“å‰cgroupåœ¨è®¾ç½®çš„å‘¨æœŸé•¿åº¦å†…æ‰€èƒ½ä½¿ç”¨çš„CPUæ—¶é—´æ•°ï¼Œä¸¤ä¸ªæ–‡ä»¶é…åˆèµ·æ¥è®¾ç½®CPUçš„ä½¿ç”¨ä¸Šé™ã€‚ä¸¤ä¸ªæ–‡ä»¶çš„å•ä½éƒ½æ˜¯å¾®ç§’ï¼ˆusï¼‰ï¼Œcfs_period_usçš„å–å€¼èŒƒå›´ä¸º1æ¯«ç§’ï¼ˆmsï¼‰åˆ°1ç§’ï¼ˆsï¼‰ï¼Œcfs_quota_usçš„å–å€¼å¤§äº1mså³å¯ï¼Œå¦‚æœcfs_quota_usçš„å€¼ä¸º-1ï¼ˆé»˜è®¤å€¼ï¼‰ï¼Œè¡¨ç¤ºä¸å—cpuæ—¶é—´çš„é™åˆ¶ã€‚ä¸‹é¢æ˜¯å‡ ä¸ªä¾‹å­ï¼š 12345678910111.é™åˆ¶åªèƒ½ä½¿ç”¨1ä¸ªCPUï¼ˆæ¯250msèƒ½ä½¿ç”¨250msçš„CPUæ—¶é—´ï¼‰ # echo 250000 &gt; cpu.cfs_quota_us /* quota = 250ms */ # echo 250000 &gt; cpu.cfs_period_us /* period = 250ms */2.é™åˆ¶ä½¿ç”¨2ä¸ªCPUï¼ˆå†…æ ¸ï¼‰ï¼ˆæ¯500msèƒ½ä½¿ç”¨1000msçš„CPUæ—¶é—´ï¼Œå³ä½¿ç”¨ä¸¤ä¸ªå†…æ ¸ï¼‰ # echo 1000000 &gt; cpu.cfs_quota_us /* quota = 1000ms */ # echo 500000 &gt; cpu.cfs_period_us /* period = 500ms */3.é™åˆ¶ä½¿ç”¨1ä¸ªCPUçš„20%ï¼ˆæ¯50msèƒ½ä½¿ç”¨10msçš„CPUæ—¶é—´ï¼Œå³ä½¿ç”¨ä¸€ä¸ªCPUæ ¸å¿ƒçš„20%ï¼‰ # echo 10000 &gt; cpu.cfs_quota_us /* quota = 10ms */ # echo 50000 &gt; cpu.cfs_period_us /* period = 50ms */ å¼•ç”¨ï¼š åŸæ–‡é“¾æ¥ ç´§æ¥ç€æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªCPUå¯†é›†å‹çš„ç®—æ³•ï¼Œè®¡ç®—æ–æ³¢æ‹‰å¥‘æ•°åˆ—ç¬¬100000000é¡¹çš„æœ€å4ä½æ•°å­—ã€‚ 123456789101112131415#include&lt;bits/stdc++.h&gt;using namespace std;int main()&#123; int n = 100000000; int a[] = &#123;0,1,1&#125;; for(int i=3;i&lt;=n;i++)&#123; int*fib = a-i+2; fib[i-2] = fib[i-1]; fib[i-1] = fib[i]; fib[i] = (fib[i-1]+fib[i-2])%10000; &#125; cout&lt;&lt;a[2]&lt;&lt;endl; &#125; æˆ‘ä»¬è¿è¡Œä»–ï¼Œå‘ç°å¤§æ¦‚æ‰§è¡Œäº†1ç§’é’Ÿ 123456[root@VM-4-4-centos tmp]# g++ main.cpp -o main &amp;&amp; time ./main6875real 0m1.020suser 0m0.967ssys 0m0.001s ç°åœ¨æˆ‘ä»¬æ„å»ºä¸€ä¸ªåªå ç”¨10%CPUçš„Cgroupsï¼Œå¹¶è®©è¿™ä¸ªè¿›ç¨‹è¿è¡Œåœ¨è¿™ä¸ªCgroupsä¸­ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªè¿›ç¨‹åœ¨9.610ç§’å†…å ç”¨äº†0.963ç§’çš„CPUæ—¶é—´ï¼Œè¿™å’Œæˆ‘ä»¬å¸Œæœ›çœ‹åˆ°çš„10%çš„CPUæ—¶é—´æ˜¯ç›¸ç¬¦åˆçš„ã€‚ 12345678[root@VM-4-4-centos tmp]# echo 10000 &gt; /sys/fs/cgroup/cpu/my-cpu/cpu.cfs_quota_us[root@VM-4-4-centos tmp]# echo 100000 &gt; /sys/fs/cgroup/cpu/my-cpu/cpu.cfs_period_us [root@VM-4-4-centos tmp]# g++ main.cpp -o main &amp;&amp; time cgexec -g cpu:my-cpu ./main6875real 0m9.610suser 0m0.963ssys 0m0.005s ç±»ä¼¼å¦‚å†…å­˜å ç”¨çš„å®æˆ˜ï¼Œåœ¨è¿™é‡Œå¯ä»¥çœ‹åˆ°æ›´å¤š Union File System è”åˆæ–‡ä»¶ç³»ç»Ÿï¼ˆUnion File Systemï¼‰ï¼š2004å¹´ç”±çº½çº¦å·ç«‹å¤§å­¦çŸ³æºªåˆ†æ ¡å¼€å‘ï¼Œå®ƒå¯ä»¥æŠŠå¤šä¸ªç›®å½•(ä¹Ÿå«åˆ†æ”¯)å†…å®¹è”åˆæŒ‚è½½åˆ°åŒä¸€ä¸ªç›®å½•ä¸‹ï¼Œè€Œç›®å½•çš„ç‰©ç†ä½ç½®æ˜¯åˆ†å¼€çš„ã€‚UnionFSå…è®¸åªè¯»å’Œå¯è¯»å†™ç›®å½•å¹¶å­˜ï¼Œå°±æ˜¯è¯´å¯åŒæ—¶åˆ é™¤å’Œå¢åŠ å†…å®¹ã€‚ ä½œè€…ï¼šä¸€å¶ é“¾æ¥ï¼šhttps://www.jianshu.com/p/3ba255463047 å†™æ—¶å¤åˆ¶(copy-on-wrie,ä¸‹æ–‡ç®€ç§°CoW),ä¹Ÿå«éšå¼å…±äº«,æ˜¯ä¸€ç§å¯¹å¯ä¿®æ”¹èµ„æºå®ç°é«˜æ•ˆå¤åˆ¶çš„èµ„æºç®¡ç†æŠ€æœ¯ã€‚å®ƒçš„æ€æƒ³æ˜¯,å¦‚æœä¸€ä¸ªèµ„æºæ˜¯é‡å¤çš„,ä½†æ²¡æœ‰ä»»ä½•ä¿®æ”¹,è¿™æ—¶å¹¶ä¸éœ€è¦ç«‹å³åˆ›å»ºä¸€ä¸ªæ–°çš„èµ„æº,è¿™ä¸ªèµ„æºå¯ä»¥è¢«æ–°æ—§å®ä¾‹å…±äº«ã€‚åˆ›å»ºæ–°èµ„æºå‘ç”Ÿåœ¨ç¬¬ä¸€æ¬¡å†™æ“ä½œ,ä¹Ÿå°±æ˜¯å¯¹èµ„æºè¿›è¡Œä¿®æ”¹çš„æ—¶å€™ã€‚é€šè¿‡è¿™ç§èµ„æºå…±äº«çš„æ–¹å¼,å¯ä»¥æ˜¾è‘—åœ°å‡å°‘æœªä¿®æ”¹èµ„æºå¤åˆ¶å¸¦æ¥çš„æ¶ˆè€—,ä½†æ˜¯ä¹Ÿä¼šåœ¨è¿›è¡Œèµ„æºä¿®æ”¹æ—¶å¢åŠ å°éƒ¨åˆ†çš„å¼€é”€ã€‚ å¼•ç”¨ï¼š åŸä¹¦27é¡µ AUFS Advanced Multi-Layered Unification Filesystem æ”¹å†™äº†UFSï¼Œæé«˜å…¶å¯é æ€§å’Œæ€§èƒ½ã€‚ AUFSå®æˆ˜æˆ‘ä»¬å…ˆåˆ›å»ºå¦‚ä¸‹ç›®å½• 123456789101112[root@VM-4-4-centos aufs]# tree .â”œâ”€â”€ container-layerâ”œâ”€â”€ image-layer1â”‚ â””â”€â”€ file1.txtâ”œâ”€â”€ image-layer2â”‚ â””â”€â”€ file2.txtâ”œâ”€â”€ image-layer3â”‚ â””â”€â”€ file3.txtâ”œâ”€â”€ image-layer4â”‚ â””â”€â”€ file4.txtâ””â”€â”€ mnt å†…å®¹å¦‚ä¸‹ 12345678[root@VM-4-4-centos aufs]# cat image-layer1/file1.txt I&#x27;m in layer1[root@VM-4-4-centos aufs]# cat image-layer2/file2.txt I&#x27;m in layer2[root@VM-4-4-centos aufs]# cat image-layer3/file3.txt I&#x27;m in layer3[root@VM-4-4-centos aufs]# cat image-layer4/file4.txt I&#x27;m in layer4 å¼€å§‹æŒ‚è½½ 12[root@VM-4-4-centos aufs]# sudo mount -t aufs -o dirs=container-layer:image-layer1:image-layer2:image-layer3:image-layer4 none mntmount: /data/src/tmp/aufs/mnt: unknown filesystem type &#x27;aufs&#x27;. GG ç°åœ¨çš„centosä¸Šçš„dockerï¼Œä½¿ç”¨çš„ä¸æ˜¯aufsï¼Œè€Œæ˜¯OverlayFSï¼Œä¸ä¿¡ä½ çœ‹ 123456789101112131415161718[root@VM-4-4-centos aufs]# dfFilesystem 1K-blocks Used Available Use% Mounted ondevtmpfs 407188 0 407188 0% /devtmpfs 420616 48 420568 1% /dev/shmtmpfs 420616 1052 419564 1% /runtmpfs 420616 0 420616 0% /sys/fs/cgroup/dev/vda1 25736400 21166108 3421600 87% /overlay 25736400 21166108 3421600 87% /var/lib/docker/overlay2/665fa7b38b75b193df7995e1535782c88e9922d6097e16472ac94d254e18c850/mergedoverlay 25736400 21166108 3421600 87% /var/lib/docker/overlay2/1f2ddfe4b78e83f2ba5b721d167b584187726a3fae80ce4ffcf400fa0b0ad1db/mergedoverlay 25736400 21166108 3421600 87% /var/lib/docker/overlay2/d76eb09f0d9388bd10daeba94112025dd55c0b6c67cc37fd05ac6664fd4f9947/mergedoverlay 25736400 21166108 3421600 87% /var/lib/docker/overlay2/9c8e0bf244fc65294eb2d4455994ca470cd48d3a7b65318d7382bf53ac611cfe/mergedoverlay 25736400 21166108 3421600 87% /var/lib/docker/overlay2/0cbbbfc5ed25c5583abe765b06f367add27d0834cedea47e8e5bf12d633af1ee/mergedoverlay 25736400 21166108 3421600 87% /var/lib/docker/overlay2/434275a20afd962e4dfea51329f1520fad94ea49b2b9c3d299a06cbf55423b40/mergedoverlay 25736400 21166108 3421600 87% /var/lib/docker/overlay2/180399a29eeb51f456a165adf7ea52a79d1219882fc707b9988b93a8c60a2000/mergedoverlay 25736400 21166108 3421600 87% /var/lib/docker/overlay2/f7afc7f62355db8f11449d0559fad921c929418b5b8fd80c6b20e7db93054546/mergedoverlay 25736400 21166108 3421600 87% /var/lib/docker/overlay2/46d0b181bfd0218a5fa88f3ec0b3f55ef710fc5e8de9ebbac3dc8025c084a372/mergedoverlay 25736400 21166108 3421600 87% /var/lib/docker/overlay2/4b64e9d775bdc157a476a2b7edc6a8141916e57107f2bca0bb795bd18ebe79ea/mergedtmpfs 84120 0 84120 0% /run/user/0 AUFSç»†èŠ‚è¯»æ–‡ä»¶ä¸‹å›¾æ˜¯ä¸€ä¸ªAUFSæŒ‚è½½æƒ…å†µï¼Œå½“æˆ‘ä»¬å¯¹&#x2F;mntå¤„è¿›è¡Œè¯»å–æ–‡ä»¶çš„æ—¶å€™ï¼Œä»–ä¼šä»é¡¶å±‚ä¾æ¬¡å‘ä¸‹å¯»æ‰¾ï¼Œå¦‚æœåœ¨layer4å±‚æ‰¾åˆ°äº†è¿™ä¸ªæ–‡ä»¶ï¼Œåˆ™ç›´æ¥è¯»å–ï¼Œå¦‚æœæ‰¾ä¸åˆ°å°±é€’å½’å‘ä¸‹å¯»æ‰¾ã€‚ å†™æ–‡ä»¶å†™æ–‡ä»¶æ¯”è¾ƒç‰¹æ®Šï¼Œå¦‚æœåº•å±‚æ–‡ä»¶æ— æ³•å†™å…¥ï¼Œåˆ™é€šè¿‡COWæŠ€æœ¯ç›´æ¥å†™mntå±‚å³å¯ã€‚å¦‚æœåº•å±‚æ–‡ä»¶å¯è¯»å†™ï¼Œåˆ™ç›´æ¥å†™å…¥åº•å±‚æ–‡ä»¶ã€‚ åˆ é™¤æ–‡ä»¶ æ–‡ä»¶åœ¨mntå±‚ï¼Œä¸‹å±‚åªè¯»ï¼Œä¸”ä¸‹å±‚æ— æ­¤æ–‡ä»¶ï¼Œç›´æ¥åˆ é™¤ æ–‡ä»¶åœ¨mntå±‚ï¼Œä¸‹å±‚åªè¯»ï¼Œä¸”ä¸‹å±‚æœ‰æ­¤æ–‡ä»¶ï¼Œåˆ é™¤mntå±‚ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªéšè—æ–‡ä»¶.wh.{filename}è¡¨ç¤ºè¯¥æ–‡ä»¶è¢«åˆ é™¤ æ–‡ä»¶åœ¨ä¸‹å±‚è¯»å†™å±‚ï¼Œç›´æ¥åˆ é™¤ã€‚ äº†è§£æ›´å¤šæ‹“å±•é˜…è¯» OverlayFS å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ŒOverlayåœ¨ä¸»æœºä¸Šç”¨åˆ°2ä¸ªç›®å½•ï¼Œè¿™2ä¸ªç›®å½•è¢«çœ‹æˆæ˜¯overlayçš„å±‚ã€‚upperdirä¸ºå®¹å™¨å±‚ã€lowerdirä¸ºé•œåƒå±‚ä½¿ç”¨è”åˆæŒ‚è½½æŠ€æœ¯å°†å®ƒä»¬æŒ‚è½½åœ¨åŒä¸€ç›®å½•(merged)ä¸‹ï¼Œæä¾›ç»Ÿä¸€è§†å›¾ åŸæ–‡: é“¾æ¥ äº†è§£æ›´å¤šæ‹“å±•é˜…è¯» æ„é€ å®¹å™¨Procæ–‡ä»¶ç³»ç»Ÿ Linuxä¸‹çš„procæ–‡ä»¶ç³»ç»Ÿæ˜¯ç”±å†…æ ¸æä¾›çš„,å®ƒå…¶å®ä¸æ˜¯ä¸€ä¸ªçœŸæ­£çš„æ–‡ä»¶ç³»ç»ŸåªåŒ…å«äº†ç³»ç»Ÿè¿è¡Œæ—¶çš„ä¿¡æ¯(æ¯”å¦‚ç³»ç»Ÿå†…å­˜ã€ mountè®¾å¤‡ä¿¡æ¯ã€ä¸€äº›ç¡¬ä»¶é…ç½®ç­‰),å®ƒåªå­˜åœ¨äºå†…å­˜ä¸­,è€Œä¸å ç”¨å¤–å­˜ç©ºé—´ã€‚å®ƒä»¥æ–‡ä»¶ç³»ç»Ÿçš„å½¢å¼,ä¸ºè®¿é—®å†…æ ¸æ•°æ®çš„æ“ä½œæä¾›æ¥å£ã€‚å®é™…ä¸Š,å¾ˆå¤šç³»ç»Ÿå·¥å…·éƒ½æ˜¯ç®€å•åœ°å»è¯»å–è¿™ä¸ªæ–‡ä»¶ç³»ç»Ÿçš„æŸä¸ªæ–‡ä»¶å†…å®¹,æ¯”å¦‚ Ismo,å…¶å®å°±æ˜¯catproc&#x2F;modules å½“éå†è¿™ä¸ªç›®å½•çš„æ—¶å€™,ä¼šå‘ç°å¾ˆå¤šæ•°å­—,è¿™äº›éƒ½æ˜¯ä¸ºæ¯ä¸ªè¿›ç¨‹åˆ›å»ºçš„ç©ºé—´,æ•°å­—å°±æ˜¯å®ƒä»¬çš„PIDã€‚ 12345678910111213141516[root@VM-4-4-centos aufs]# ll /proc | head -n 15total 0dr-xr-xr-x 9 root root 0 Apr 9 15:16 1dr-xr-xr-x 9 root root 0 Apr 17 16:26 10dr-xr-xr-x 9 root root 0 Apr 17 16:26 11dr-xr-xr-x 9 root root 0 Apr 17 15:57 1102dr-xr-xr-x 9 root root 0 Apr 17 15:57 1106dr-xr-xr-x 9 root root 0 Apr 17 15:57 1108dr-xr-xr-x 9 root root 0 Apr 17 15:57 1111dr-xr-xr-x 9 root root 0 Apr 17 15:57 1112dr-xr-xr-x 9 root root 0 Apr 17 15:57 1116dr-xr-xr-x 9 root root 0 Apr 17 15:57 1135dr-xr-xr-x 9 root root 0 Apr 17 15:57 1136dr-xr-xr-x 9 root root 0 Apr 17 16:26 12dr-xr-xr-x 9 root root 0 Apr 17 16:26 13dr-xr-xr-x 9 root root 0 Apr 17 16:17 1411993 ç›®å½•ç»“æ„ ç›®å½• å¤‡æ³¨ &#x2F;proc&#x2F;N PIDä¸ºNçš„è¿›ç¨‹ä¿¡æ¯ &#x2F;proc&#x2F;N&#x2F;cmdline è¿›ç¨‹å¯åŠ¨å‘½ä»¤ &#x2F;proc&#x2F;N&#x2F;cwd é“¾æ¥åˆ°è¿›ç¨‹å½“å‰å·¥ä½œç›®å½• &#x2F;proc&#x2F;N&#x2F;environ è¿›ç¨‹ç¯å¢ƒå˜é‡åˆ—è¡¨ &#x2F;proc&#x2F;N&#x2F;exe é“¾æ¥åˆ°è¿›ç¨‹çš„æ‰§è¡Œå‘½ä»¤æ–‡ä»¶ &#x2F;proc&#x2F;N&#x2F;fd åŒ…å«è¿›ç¨‹ç›¸å…³çš„æ‰€æœ‰æ–‡ä»¶æè¿°ç¬¦ &#x2F;proc&#x2F;N&#x2F;maps ä¸è¿›ç¨‹ç›¸å…³çš„å†…å­˜æ˜ å°„ä¿¡æ¯ &#x2F;proc&#x2F;N&#x2F;mem æŒ‡ä»£è¿›ç¨‹æŒæœ‰çš„å†…å­˜,ä¸å¯è¯» &#x2F;proc&#x2F;N&#x2F;root é“¾æ¥åˆ°è¿›ç¨‹çš„æ ¹ç›®å½• &#x2F;proc&#x2F;N&#x2F;stat è¿›ç¨‹çš„çŠ¶æ€ &#x2F;proc&#x2F;N&#x2F;statm è¿›ç¨‹ä½¿ç”¨çš„å†…å­˜çŠ¶æ€ &#x2F;proc&#x2F;N&#x2F;status è¿›ç¨‹çŠ¶æ€ä¿¡æ¯,æ¯”stat&#x2F; statmæ›´å…·å¯è¯»æ€§ &#x2F;proc&#x2F;self&#x2F; é“¾æ¥åˆ°å½“å‰æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ æœ‰Goæˆ‘ä¸ç”¨å°±ç”¨C++ï¼Œå“ï¼Œå°±æ˜¯ç©ã€‚ 3.1ç‰ˆæœ¬é¡¹ç›®åœ°å€ ç›´æ¥çœ‹main.cppä¸­çš„ä¸»å‡½æ•°, é¦–å…ˆæ˜¯è§£æå‚æ•°ï¼Œç„¶åä½¿ç”¨clone ç³»ç»Ÿè°ƒç”¨åˆ¶é€ ä¸€ä¸ªè¿›ç¨‹ã€‚ 1234567891011121314int main(int argc, char *argv[]) &#123; Param *param = ParamParse::parse(argc, argv); void *stack = malloc(FIBER_STACK);//ä¸ºå­è¿›ç¨‹ç”³è¯·ç³»ç»Ÿå †æ ˆ int containerFlag = SIGCHLD | CLONE_NEWUTS | CLONE_NEWPID | CLONE_NEWNS | CLONE_NEWNET | CLONE_NEWIPC | CLONE_NEWUSER; int pid = clone(doContainer, (char *) stack + FIBER_STACK, containerFlag, param);//åˆ›å»ºå­çº¿ç¨‹ waitpid(pid, NULL, 0); cout &lt;&lt; &quot;parent exit &quot; &lt;&lt; endl;&#125; ç„¶åçœ‹main.cppçš„å­è¿›ç¨‹ï¼Œ è¿™é‡ŒæŒ‚åœ¨procç›®å½•æ˜¯ä¸ºäº†éš”ç¦»ï¼Œç„¶åç”±äºæˆ‘ä»¬å¹¶æ²¡æœ‰ç¼–å†™é•œåƒï¼Œæ‰€ä»¥æˆ‘ä»¬mockäº†ä¸€ä¸ªåªæ”¯æŒcentosçš„é•œåƒã€‚ç´§æ¥ç€å°±æ˜¯å­è¿›ç¨‹è°ƒç”¨execæ›¿æ¢æ‰è‡ªå·±çš„ä»£ç ã€‚ 1234567891011121314151617181920212223242526272829303132333435int doContainer(void *param) &#123; auto *runParam = (RunParam *) param; if (mount(&quot;proc&quot;, &quot;/proc&quot;, &quot;proc&quot;, MS_NOEXEC | MS_NOSUID | MS_NODEV, NULL)) &#123; cerr &lt;&lt; &quot;mount proc error&quot; &lt;&lt; endl; exit(-1); &#125; if (runParam-&gt;getImage() == &quot;centos&quot;) &#123; vector&lt;string&gt; v = runParam-&gt;getExec(); switch (v.size()) &#123; case 1: execlp(v[0].data(), nullptr); break; case 2: execlp(v[0].data(), v[1].data(), NULL); break; case 3: execlp(v[0].data(), v[1].data(), v[2].data(), NULL); break; case 4: execlp(v[0].data(), v[1].data(), v[2].data(), v[3].data(), NULL); break; default: cerr &lt;&lt; &quot;too many params, only four params support&quot; &lt;&lt; endl; exit(0); &#125; cerr &lt;&lt; &quot;exec error: &quot; &lt;&lt; endl; exit(-1); &#125; else &#123; cerr &lt;&lt; &quot;could not find image &#x27;&quot; &lt;&lt; runParam-&gt;getImage() &lt;&lt; &quot;&#x27;&quot; &lt;&lt; endl; exit(-1); &#125;&#125; ç¼–è¯‘è¿è¡Œ3.11234mkdir buildcd buildcmake ..make 123456789101112131415161718192021222324252627[root@wsx pocker]# mkdir build[root@wsx pocker]# cd build[root@wsx build]# cmake ..-- The C compiler identification is GNU 8.3.1-- The CXX compiler identification is GNU 8.3.1-- Check for working C compiler: /usr/bin/cc-- Check for working C compiler: /usr/bin/cc -- works-- Detecting C compiler ABI info-- Detecting C compiler ABI info - done-- Detecting C compile features-- Detecting C compile features - done-- Check for working CXX compiler: /usr/bin/c++-- Check for working CXX compiler: /usr/bin/c++ -- works-- Detecting CXX compiler ABI info-- Detecting CXX compiler ABI info - done-- Detecting CXX compile features-- Detecting CXX compile features - done-- Configuring done-- Generating done-- Build files have been written to: /data/src/pocker/build[root@wsx build]# makeScanning dependencies of target pocker[ 25%] Building CXX object CMakeFiles/pocker.dir/src/param/parse/ParamParse.cpp.o[ 50%] Building CXX object CMakeFiles/pocker.dir/src/param/parse/RunParamParse.cpp.o[ 75%] Building CXX object CMakeFiles/pocker.dir/src/main.cpp.o[100%] Linking CXX executable pocker[100%] Built target pocker é»˜è®¤çš„æç¤º 123[root@wsx build]# ./pocker please run: ./pocker run --help pocker runçš„æç¤º 1234567[root@wsx build]# ./pocker run --helpusage: ./pocker [options] ... image...options: -i, --interactive interactive -t, --tty tty -d, --detach detach -?, --help print this message è°ƒç”¨lsæŒ‡ä»¤ 123[root@wsx build]# ./pocker run -it centos ls .CMakeCache.txt CMakeFiles cmake_install.cmake Makefile pockerparent exit è°ƒç”¨psæŒ‡ä»¤ 1234[root@wsx build]# ./pocker run -it centos ps aux PID TTY TIME CMD 1 pts/0 00:00:00 psparent exit è°ƒç”¨bashæŒ‡ä»¤ 12345678[root@wsx build]# ./pocker run -it centos bash[nobody@wsx build]$ ps -efUID PID PPID C STIME TTY TIME CMDnobody 1 0 0 02:38 pts/0 00:00:00 [bash]nobody 22 1 0 02:38 pts/0 00:00:00 ps -ef[nobody@wsx build]$ exitexitparent exit pocker3.1 in dockerç¬”è€…è¿˜ä¸ºå¤§å®¶å‡†å¤‡äº†ä¸€ä»½å¼€ç®±å³ç”¨çš„3.1ç‰ˆæœ¬ã€‚å¤§å®¶å¯ä»¥ä¸€èµ·æ¥å­¦ä¹ ã€‚ 1234567891011121314151617181920212223242526272829303132333435s@s ~ % docker run --privileged -it --rm 1144560553/pocker:3.1 bash Unable to find image &#x27;1144560553/pocker:3.1&#x27; locally3.1: Pulling from 1144560553/pocker7a0437f04f83: Already exists 4bbae049836d: Pull complete Digest: sha256:8340325bed1f0c26a1a24f0052e03fd06cb873d47a1b5d750f827d2ad4691b9eStatus: Downloaded newer image for 1144560553/pocker:3.1[root@ed07427b0ebd /]# pocker please run: pocker run --help[root@ed07427b0ebd /]# pocker run --helpusage: pocker [options] ... image...options: -i, --interactive interactive -t, --tty tty -d, --detach detach -?, --help print this message[root@ed07427b0ebd /]# pocker run -it centos ps ef PID TTY TIME CMD 1 pts/0 00:00:00 psparent exit [root@ed07427b0ebd /]# pocker run -it centos ls . bin dev etc home lib lib64 lost+found media mnt opt procroot run sbin srv sys tmp usr varparent exit [root@ed07427b0ebd /]# pocker run -it centos bash[nobody@ed07427b0ebd /]$ ps -efUID PID PPID C STIME TTY TIME CMDnobody 1 0 0 07:24 pts/0 00:00:00 [bash]nobody 14 1 0 07:24 pts/0 00:00:00 ps -ef[nobody@ed07427b0ebd /]$ exitexitparent exit [root@ed07427b0ebd /]# exitexit 3.2-cpuç‰ˆæœ¬è¿™ä¸ªç‰ˆæœ¬ç¬”è€…ä¸»è¦å¢åŠ äº†ä¸€äº›cpuçš„é™åˆ¶ï¼Œå…ˆçœ‹main.cppä¸­å¤šäº†ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ˜¯åœ¨å®¹å™¨å¯åŠ¨å‰å°±å·²ç»è°ƒç”¨äº†çš„ï¼Œç›®çš„å°±æ˜¯åˆ›å»ºCPUå­ç³»ç»Ÿï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™é‡Œä¸»è¦ä½¿ç”¨äº†systemç³»ç»Ÿè°ƒç”¨ï¼Œåœ¨ç›®å½•/sys/fs/cgroup/cpuä¸‹ç”¨å®¹å™¨çš„idä¸ºæ–‡ä»¶å¤¹åå­—åˆ›å»ºäº†ä¸€ä¸ªcpuå­ç³»ç»Ÿï¼Œåœ¨å…¶ä¸­ä¿®æ”¹cfs_quota_uså’Œcfs_period_usæ¥è§£å†³cpuèµ„æºçš„é—®é¢˜ã€‚å…·ä½“å¯è§[Cgroups å®æˆ˜](#Cgroups å®æˆ˜)ã€‚ 123456789101112131415161718192021void prepareContainer(RunParam *runParam) &#123; // create cpu subsystem char cmd[128]; string cmdList[] = &#123; &quot;cd /sys/fs/cgroup/cpu &quot;, &quot;&amp;&amp; mkdir %s &quot;, &quot;&amp;&amp; cd %s &quot;, &quot;&amp;&amp; echo %d &gt; cpu.cfs_quota_us &quot;, &quot;&amp;&amp; echo 50000 &gt; cpu.cfs_period_us &quot; &#125;; string cmdOrigin; for (string &amp;s:cmdList) &#123; cmdOrigin += s; &#125; sprintf(cmd, cmdOrigin.data(), runParam-&gt;getContainerId().data(), runParam-&gt;getContainerId().data(), int(runParam-&gt;getCpus() * 50000) ); system(cmd);&#125; ç„¶åå°±æ˜¯åœ¨å®¹å™¨å¯åŠ¨åå¢åŠ äº†ä¸‹é¢è¿™ä¸€æ®µä»£ç , ä¾ç„¶ä½¿ç”¨ç³»ç»Ÿè°ƒç”¨systemï¼ŒæŠŠå®¹å™¨æ‰€åœ¨çš„è¿›ç¨‹IDåŠ å…¥åˆ°tasksæ–‡ä»¶ä¸­ï¼Œå…¶ç›®çš„å°±æ˜¯è®©å½“å‰è¿›ç¨‹åŠ å…¥cpuå­ç³»ç»Ÿï¼Œæ¥é™åˆ¶cpuçš„ä½¿ç”¨ç‡ã€‚ç„¶åä¸ºäº†æµ‹è¯•cpuå­ç³»ç»Ÿçš„æœ‰æ•ˆæ€§ï¼Œç¬”è€…è¿˜åœ¨å…¶ä¸­åŠ äº†ä¸€ä¸ª0åˆ°1e9çš„forå¾ªç¯æ¥å®Œæˆä¸€ä¸ªè®¡ç®—å¯†é›†å‹ä»»åŠ¡ã€‚pockerä¼šè¾“å‡ºè¿™ä¸ªä»»åŠ¡æ‰€å ç”¨çš„æ—¶é—´ï¼ˆå•ä½ä¸ºç§’ï¼‰ã€‚ 12345678910111213// add cpu subsystemchar cmd[128];sprintf(cmd, &quot;echo %d &gt;&gt; /sys/fs/cgroup/cpu/%s/tasks&quot;, getpid(), runParam-&gt;getContainerId().data());system(cmd);int cur = time(0);int a = 1;for (int i = 0; i &lt; 1e9; i++) &#123; a += i;&#125;cout &lt;&lt; a &lt;&lt; endl;cout &lt;&lt; &quot;cost: &quot; &lt;&lt; time(0) - cur &lt;&lt; endl; å½“ç„¶ç¬”è€…ä¾ç„¶å‡†å¤‡äº†ä¸€ä»½å¼€ç®±å³ç”¨çš„dockerç‰ˆæœ¬ï¼Œå¤§å®¶å¯ä»¥è‡ªè¡Œå°è¯•ã€‚ä¸‹é¢æ˜¯ç¬”è€…æµ‹è¯•çš„ç»“æœã€‚ æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å½“cpuså–å€¼ä¸º0.5çš„æ—¶å€™ï¼ŒèŠ±è´¹äº†7ç§’ï¼Œå½“å–å€¼ä¸º0.25çš„æ—¶å€™ï¼ŒèŠ±è´¹äº†18ç§’ã€‚ 123456789101112131415161718192021222324s@s ~ % docker run --privileged -it --rm 1144560553/pocker:3.2-cpu bashUnable to find image &#x27;1144560553/pocker:3.2-cpu&#x27; locally3.2-cpu: Pulling from 1144560553/pocker7a0437f04f83: Pull complete cc5cd42589c1: Pull complete Digest: sha256:01ac27156f599acfa588a51301455b92eca7c4963b0e6c6ab943d66f4c5cb06fStatus: Downloaded newer image for 1144560553/pocker:3.2-cpu[root@37ab95d1bfdb /]# pockerplease run: pocker run --help[root@37ab95d1bfdb /]# pocker run -idt --memory 50m --cpus 0.5 --memory-swap 1024m centos ps efRunParam:: tty: 1, interactive: 1, detach: 1, memory: 50, memorySwap: 1024, cpus: 0.500000, image: centos,containerId: 205b8eaf-76a3-474f-9a3f-4d5a9e5b64ad,containerName: -1243309311cost: 7 PID TTY TIME CMD 1 pts/0 00:00:03 psparent exit [root@37ab95d1bfdb /]# pocker run -idt --memory 50m --cpus 0.25 --memory-swap 1024m centos ps efRunParam:: tty: 1, interactive: 1, detach: 1, memory: 50, memorySwap: 1024, cpus: 0.250000, image: centos,containerId: 322904df-a8b0-46c4-b7c2-ec3e6ea66f17,containerName: -1243309311cost: 18 PID TTY TIME CMD 1 pts/0 00:00:04 psparent exit 3.2-memç‰ˆæœ¬æ–°å¢çš„ä¸»è¦éƒ¨åˆ†è¿˜æ˜¯åœ¨main.cppä¸­ï¼Œè¿™ä¸ªéƒ¨åˆ†å®Œæˆäº†å†…å­˜å­ç³»ç»Ÿï¼Œè¿™é‡Œç›´æ¥çœ‹åˆ°ï¼Œæˆ‘ä»¬åœ¨ä½ç½®/sys/fs/cgroup/memoryæ–°å»ºäº†ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå¹¶é™åˆ¶äº†å†…å­˜å’Œäº¤æ¢å†…å­˜çš„å¤§å°ï¼Œæ³¨æ„åˆ°ä¸€æ—¦è¿›ç¨‹å‘ç”Ÿäº†å†…å­˜æº¢å‡ºï¼Œé»˜è®¤å°†ä¼šè¢«kill 12345678// create memory subsystemcmdList = &#123;&quot;cd /sys/fs/cgroup/memory &quot;, &quot;&amp;&amp; mkdir %s &quot;, &quot;&amp;&amp; cd %s &quot;, &quot;&amp;&amp; echo %d &gt; memory.limit_in_bytes &quot;, &quot;&amp;&amp; echo %d &gt; memory.memsw.limit_in_bytes &quot;&#125;;sprintf(cmd, StringUtils::join(cmdList).data(), runParam-&gt;getContainerId().data(), runParam-&gt;getContainerId().data(), int(runParam-&gt;getMemory()), int(runParam-&gt;getMemorySwap()));system(cmd); ç¬”è€…è¿˜æ˜¯å‡†å¤‡äº†ä¸€ä»½å¼€ç®±å³ç”¨çš„dockerç‰ˆæœ¬(ä»¥åçš„dockerç‰ˆæœ¬éƒ½å°†ç›´æ¥è½¬ç§»åˆ°è´¦å·fightingggä¸‹ï¼Œè€Œä¸æ˜¯1144560553)ï¼Œå¤§å®¶å¯ä»¥ç›´æ¥å°è¯•ã€‚ è¿™é‡Œé¦–å…ˆä½¿ç”¨dockeråˆ›å»ºäº†ä¸€ä¸ªpockerï¼Œç„¶åä½¿ç”¨pockeråˆ›å»ºäº†ä¸€ä¸ªå†…å­˜ç©ºé—´10mbçš„å®¹å™¨ï¼Œæœ€ååœ¨å®¹å™¨ä¸­ä½¿ç”¨å¤§é‡çš„å†…å­˜ï¼Œä¹‹åå‘ç°è¿™ä¸ªå®¹å™¨è¢«Killedã€‚ 123456789s@s ~ % docker run --privileged -it --rm fightinggg/pocker:3.2-mem bash[root@6b67dbf3b43e /]# pocker run -itd -m 10m --memory-swap 10m centos bashRunParam:: tty: 1, interactive: 1, detach: 1, memory: 10485760, memorySwap: 10485760, cpus: 1.000000, image: centos,containerId: 2b90e451-8d10-4efc-b105-42000930b51d,containerName: [nobody@6b67dbf3b43e /]$ bash -c &quot;arr=(1 2 3); for((i=1;i&lt;=1000000;i++)); do arr[i]=i; done; echo $&#123;arr[@]&#125;&quot;Killed[nobody@6b67dbf3b43e /]$ exitexitcontainer exit, thanks for using pocker [root@6b67dbf3b43e /]# æ„é€ é•œåƒ4.1-busyboxç‰ˆæœ¬è¿™ä¸ªç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬å®ç°äº†å®¹å™¨æ ¹ç›®å½•çš„éš”ç¦»ï¼Œé¦–å…ˆä»dockerå®¹å™¨ä¸­å¯¼å‡ºbusyboxçš„æ–‡ä»¶ç³»ç»Ÿï¼Œç„¶åå°†å…¶æŒ‚è½½åˆ°pockeræ‰€æ„é€ çš„å®¹å™¨ä¸­ï¼Œä¸»è¦ä»£ç åœ¨main.cppä¸­ï¼Œè¿™é‡Œå¢åŠ äº†ç³»ç»Ÿè°ƒç”¨SYS_pivot_rootï¼ŒæŠŠbusyboxçš„æ–‡ä»¶ç³»ç»ŸæŒ‚åœ¨åˆ°å½“å‰æ ¹ç›®å½•ï¼Œç„¶åå¸è½½æ—§çš„æ ¹ç›®å½•ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738// mount busyBox 1. change workdir if (chdir(busyBoxDir.data())) &#123; cerr &lt;&lt; &quot;chdir to busyBoxDir error&quot; &lt;&lt; endl; exit(-1); &#125; // mount busyBox 2. mount busyBox if (mount(busyBoxDir.data(), busyBoxDir.data(), &quot;bind&quot;, MS_BIND | MS_REC, NULL)) &#123; cerr &lt;&lt; &quot;mount busyBox error&quot; &lt;&lt; endl; exit(-1); &#125; String privotRootName = &quot;.pivot_root&quot; + runParam-&gt;getContainerId(); String privotRoot = busyBoxDir + &quot;/&quot; + privotRootName; // mount busyBox 3. mkdir put_old if (mkdir(privotRoot.data(), S_IRWXU | S_IRWXG | S_IRWXO)) &#123; cerr &lt;&lt; &quot;mkdir privotRoot error&quot; &lt;&lt; endl; exit(-1); &#125; // mount busyBox 4. privot_root() if (syscall(SYS_pivot_root, busyBoxDir.data(), privotRoot.data())) &#123; cerr &lt;&lt; &quot;privot_root error&quot; &lt;&lt; endl; exit(-1); &#125; // mount busyBox 5. to dir / if (chdir(&quot;/&quot;)) &#123; cerr &lt;&lt; &quot;chdir to / error&quot; &lt;&lt; endl; exit(-1); &#125; // mount busyBox 6. unmount .privot_root if (umount2((&quot;/&quot; + privotRootName).data(), MNT_DETACH)) &#123; cerr &lt;&lt; &quot;unmount .pivot_root error &quot; &lt;&lt; getErr() &lt;&lt; endl; exit(-1); &#125; // mount busyBox 7. delete dir if (rmdir((&quot;/&quot; + privotRootName).data())) &#123; cerr &lt;&lt; &quot;rm .pivot_root error &quot; &lt;&lt; getErr() &lt;&lt; endl; exit(-1); &#125; ç¬”è€…è¿˜æ˜¯å‡†å¤‡äº†ä¸€ä¸ªdockerç‰ˆæœ¬ï¼Œå¯ä»¥çœ‹åˆ°è¿™æ—¶å€™ä½¿ç”¨lsï¼Œå·²ç»èƒ½å‘ç°æ ¹ç›®å½•ä¸‹çš„æ–‡ä»¶ç³»ç»Ÿå‘ç”Ÿäº†å˜åŒ–ã€‚ 123456789101112131415161718s@s hexo-blog % docker run -it --rm --privileged fightinggg/pocker:4.1-busybox [root@2d2a5c1bcd01 /]# pocker run -it busybox shRunParam:: tty: 1, interactive: 1, detach: 0, memory: 10485760, memorySwap: 10485760, cpus: 1.000000, image: busybox,containerId: 0ee090e5-9829-4140-bfd1-48982952f4e0,containerName: container begin: sh/ # ps efPID USER TIME COMMAND 1 root 0:00 sh 4 root 0:00 ps ef/ # ls -a. .. .dockerenv bin dev etc home proc root sys tmp usr var/ # dfFilesystem 1K-blocks Used Available Use% Mounted onoverlay 16447356 7816736 7775428 50% // # exitcontainer exited, status=0, thanks for using pocker[root@2d2a5c1bcd01 /]# exitexits@s hexo-blog % 4.2-overlayç‰ˆæœ¬è¿™éƒ¨åˆ†ç¬”è€…å¹¶æ²¡æœ‰é€‰æ‹©å’ŒåŸä¹¦ä¸­ä¸€æ ·çš„aufsæ–‡ä»¶ç³»ç»Ÿï¼Œè€Œæ˜¯ä½¿ç”¨äº†overlayæ–‡ä»¶ç³»ç»Ÿï¼Œå“å°±æ˜¯ç©ã€‚ä¸»è¦çš„ä¿®æ”¹è¿˜æ˜¯åœ¨main.cppä¸­ã€‚ å¤§æ¦‚æ˜¯å…ˆåˆ›å»ºä¸€ä¸ªdisk.imgæ–‡ä»¶ï¼Œç„¶åå°†å…¶æŒ‚è½½åˆ°ç›®å½•diskä¸‹ï¼Œåœ¨diskç›®å½•ä¸‹åˆ›å»ºä¸‰ä¸ªæ–‡ä»¶å¤¹ï¼Œupperã€tmpå’Œoverlayï¼Œæœ€åä½¿ç”¨overlayæ–‡ä»¶ç³»ç»Ÿä»¥busyboxä¸ºloweræ„é€ å‡ºä¸€ä¸ªä¸¤å±‚æ–‡ä»¶ç³»ç»Ÿã€‚ è¿™é‡Œæœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„ç‚¹ï¼Œä¸ºä»€ä¹ˆè¦æŒ‚è½½disk.imgï¼Œé¦–å…ˆæ³¨æ„åˆ°ä¸€ä¸ªäº‹å®ï¼Œdockeré»˜è®¤ä½¿ç”¨overlayæ–‡ä»¶ç³»ç»Ÿæ¥æ„é€ å®¹å™¨ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸‹é¢è¿™ä¸ªç¨‹åºæ˜¯æœ‰å¯èƒ½è¿è¡Œåœ¨overlayæ–‡ä»¶ç³»ç»Ÿä¸‹çš„ã€‚ overlayæ–‡ä»¶ç³»ç»ŸæŒ‚è½½æ—¶å¯¹upperæœ‰ä¸€å®šçš„è¦æ±‚ï¼Œè¿™å¯¼è‡´äº†overlayæ–‡ä»¶ç³»ç»Ÿæ²¡åŠæ³•åšä¸ºupperå±‚æŒ‚è½½åœ¨å¦ä¸€ä¸ªoverlayæ–‡ä»¶ç³»ç»Ÿä¸‹ã€‚ æ‰€ä»¥æˆ‘ä»¬å¿…é¡»è™šæ‹Ÿä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿã€‚ æŒ‚è½½æµç¨‹å’Œä»£ç éƒ½åœ¨ä¸‹é¢ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051String containerDataDir = containerDir + &quot;/&quot; + runParam-&gt;getContainerId();if (mkdir(containerDataDir.data(), 0777)) &#123; cerr &lt;&lt; &quot; mkdir &quot; &lt;&lt; containerDataDir &lt;&lt; &quot; error&quot; &lt;&lt; endl; exit(-1);&#125;String diskFile = containerDataDir + &quot;/disk.img&quot;;String containerDisk = containerDataDir + &quot;/disk&quot;;// create container disk 1. create disksprintf(cmd, &quot;dd if=/dev/zero bs=1M count=20 of=%s&quot;, diskFile.data());system(cmd);// 2. init file systemif (system((&quot;mkfs.ext4 &quot; + diskFile).data())) &#123; cerr &lt;&lt; &quot;mkfs error &quot; &lt;&lt; diskFile &lt;&lt; endl; exit(-1);&#125;mkdir(containerDisk.data(), 0777);// 3. mount container disk systemsprintf(cmd, &quot;mount %s %s&quot;, diskFile.data(), containerDisk.data());printf(&quot;mount upper: %s\\n&quot;, cmd);if (system(cmd)) &#123; cerr &lt;&lt; &quot;mount &quot; &lt;&lt; diskFile &lt;&lt; &quot; error&quot; &lt;&lt; endl; exit(-1);&#125;String containerUpper = containerDisk + &quot;/upper&quot;;String containerTmp = containerDisk + &quot;/tmp&quot;;String containerMerge = containerDisk + &quot;/overlay&quot;;mkdir(containerUpper.data(), 0777);mkdir(containerTmp.data(), 0777);mkdir(containerMerge.data(), 0777);// system((&quot;ls -al &quot; + containerDisk).data());// 4. build overlaysprintf(cmd, &quot;mount -t overlay overlay &quot; &quot;-olowerdir=%s,upperdir=%s,workdir=%s %s&quot;, busyBoxDir.data(), containerUpper.data(), containerTmp.data(), containerMerge.data());printf(&quot;do: %s\\n&quot;, cmd);if (system(cmd)) &#123; cerr &lt;&lt; &quot;build overlay error &quot; &lt;&lt; getErr() &lt;&lt; endl; exit(-1);&#125; ç¬”è€…ä¾æ—§å‡†å¤‡äº†ä¸€ä»½å¼€ç®±å³ç”¨çš„dockerç‰ˆæœ¬ã€‚å¦‚ä¸‹ã€‚é¦–å…ˆæ¼”ç¤ºäº†åœ¨ç¬¬ä¸€ä¸ªå®¹å™¨ä¸­åˆ›å»ºæ–‡ä»¶abcï¼Œç„¶åé€€å‡ºå®¹å™¨ï¼Œæ¥ç€åœ¨ç¬¬äºŒä¸ªè¿›å…¥ç¬¬äºŒä¸ªå®¹å™¨ï¼ŒæŸ¥çœ‹ç›®å½•ï¼Œæ˜¯çœ‹ä¸åˆ°æ–‡ä»¶abcçš„ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465s@s pocker % docker run -it --rm --privileged fightinggg/pocker:4.2-overlay bashUnable to find image &#x27;fightinggg/pocker:4.2-overlay&#x27; locally4.2-overlay: Pulling from fightinggg/pocker7a0437f04f83: Already exists 00386041dce7: Pull complete 7b2a7c3db2a0: Pull complete eeb1e29037fb: Pull complete 74f885815b4e: Pull complete Digest: sha256:300f607e39217465a547593fda5c93c2a4d20e133dab82a519127bec66976b1eStatus: Downloaded newer image for fightinggg/pocker:4.2-overlay[root@e070166a0ba7 /]# pocker run -it busybox shRunParam:: tty: 1, interactive: 1, detach: 0, memory: 10485760, memorySwap: 10485760, cpus: 1.000000, image: busybox,containerId: f5212791-e818-4fe2-b040-e7f779473e23,containerName: 20+0 records in20+0 records out20971520 bytes (21 MB, 20 MiB) copied, 0.0562303 s, 373 MB/smke2fs 1.45.6 (20-Mar-2020)Discarding device blocks: done Creating filesystem with 20480 1k blocks and 5136 inodesFilesystem UUID: 61b1d479-fca0-41b0-86be-5d9c3c501714Superblock backups stored on blocks: 8193Allocating group tables: done Writing inode tables: done Creating journal (1024 blocks): doneWriting superblocks and filesystem accounting information: donemount upper: mount /usr/local/pocker/data/containers/f5212791-e818-4fe2-b040-e7f779473e23/disk.img /usr/local/pocker/data/containers/f5212791-e818-4fe2-b040-e7f779473e23/diskdo: mount -t overlay overlay -olowerdir=/usr/local/pocker/data/images/busybox,upperdir=/usr/local/pocker/data/containers/f5212791-e818-4fe2-b040-e7f779473e23/disk/upper,workdir=/usr/local/pocker/data/containers/f5212791-e818-4fe2-b040-e7f779473e23/disk/tmp /usr/local/pocker/data/containers/f5212791-e818-4fe2-b040-e7f779473e23/disk/overlaycontainer begin: sh/ # lsbin dev etc home proc root sys tmp usr var/ # mkdir abc/ # lsabc bin dev etc home proc root sys tmp usr var/ # exitcontainer exited, status=0, thanks for using pocker[root@e070166a0ba7 /]# pocker run -it busybox shRunParam:: tty: 1, interactive: 1, detach: 0, memory: 10485760, memorySwap: 10485760, cpus: 1.000000, image: busybox,containerId: 276d1b7b-72de-4538-8b39-fbfb469ae930,containerName: 20+0 records in20+0 records out20971520 bytes (21 MB, 20 MiB) copied, 0.0629004 s, 333 MB/smke2fs 1.45.6 (20-Mar-2020)Discarding device blocks: done Creating filesystem with 20480 1k blocks and 5136 inodesFilesystem UUID: 4231f410-3e32-4486-9d09-2de705563eb8Superblock backups stored on blocks: 8193Allocating group tables: done Writing inode tables: done Creating journal (1024 blocks): doneWriting superblocks and filesystem accounting information: donemount upper: mount /usr/local/pocker/data/containers/276d1b7b-72de-4538-8b39-fbfb469ae930/disk.img /usr/local/pocker/data/containers/276d1b7b-72de-4538-8b39-fbfb469ae930/diskdo: mount -t overlay overlay -olowerdir=/usr/local/pocker/data/images/busybox,upperdir=/usr/local/pocker/data/containers/276d1b7b-72de-4538-8b39-fbfb469ae930/disk/upper,workdir=/usr/local/pocker/data/containers/276d1b7b-72de-4538-8b39-fbfb469ae930/disk/tmp /usr/local/pocker/data/containers/276d1b7b-72de-4538-8b39-fbfb469ae930/disk/overlaycontainer begin: sh/ # lsbin dev etc home proc root sys tmp usr var/ # exitcontainer exited, status=0, thanks for using pocker[root@e070166a0ba7 /]# exitexits@s pocker % 4.3-volumesç‰ˆæœ¬ä»Šå¤©å»æ‹æ¯•ä¸šç…§äº†ï¼Œç´¯äº†ä¸€æ•´å¤©ï¼Œå“ï¼ŒçœŸç´¯ï¼Œæ— èŠä¸­å¾—åˆ°äº†ä¸¤ä¸ªç‚¹ï¼š ä»”ç»†æƒ³äº†æƒ³ï¼Œ4.2ä¸­è®©pockerå»é€‚é…æ“ä½œç³»ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿï¼Œæœ‰ç‚¹ä¸å¤ªåˆç†ï¼Œæˆ‘è§‰å¾—åº”è¯¥pockerè¿˜æ˜¯ä¸åº”è¯¥ç®¡æ“ä½œç³»ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿæ˜¯å“ªä¸ªå…·ä½“çš„ç±»å‹ï¼Œè®©ç”¨æˆ·è‡ªå·±å»æŒ‚è½½ext4å°±å¯ä»¥äº†ï¼Œæ²¡å¿…è¦åœ¨ç¨‹åºä¸­æã€‚ Javaä»£ç å†™C++çœŸæ˜¯shitåˆ°å®¶äº†ï¼Œæˆ‘å…¨ç»™ä»–æ”¹æˆäº†ä¸‹åˆ’çº¿å‘½åã€‚ ç„¶åæ­¥å…¥æ­£é¢˜ï¼Œåœ¨4.2ç‰ˆæœ¬ä¸­æˆ‘ä»¬æ³¨æ„åˆ°æ¢æ ¹ä»¥åï¼Œå¸è½½privotä»¥å‰ï¼Œå¯ä»¥åšä¸€äº›æ–‡ä»¶æ˜ å°„ï¼Œäºæ˜¯ç¬”è€…ç›´æ¥ä½¿ç”¨mountæŒ‡ä»¤å°†å…¶æŒ‚è½½ï¼Œå®ç°äº†å®¹å™¨æ•°æ®çš„æŒä¹…åŒ–ï¼Œä½†æ˜¯ç”±äºç¬”è€…ä½¿ç”¨çš„å‘½ä»¤è¡Œæ¡†æ¶ä¼¼ä¹ä¸æ”¯æŒæ•°ç»„æ ¼å¼çš„flagï¼Œæ‰€ä»¥ç›®å‰åªèƒ½æ˜ å°„ä¸€ä¸ªç›®å½•ã€‚è¿™ä¸ªä»¥ååº”è¯¥ä¼šä¿®å¤ï¼Œæ–°å¢ä»£ç å¦‚ä¸‹ï¼Œéå¸¸ç®€å•ã€‚ 123456789101112void pre_umount_privot(run_param *arg_run_param, string privot_root_name) &#123; if (!arg_run_param-&gt;volumes.empty()) &#123; auto v = arg_run_param-&gt;volumes[0]; string src = &quot;/&quot; + privot_root_name + &quot;/&quot; + v.from; system((&quot;mkdir -p &quot; + v.to).data()); if (mount(src.data(), v.to.data(), NULL, MS_BIND, NULL)) &#123; cerr &lt;&lt; &quot;mount &quot; &lt;&lt; v.from &lt;&lt; &quot; to &quot; &lt;&lt; v.to &lt;&lt; &quot; failed&quot; &lt;&lt; getErr() &lt;&lt; endl; exit(-1); &#125; &#125;&#125; å½“ç„¶ç¬”è€…è¿˜æ˜¯å‡†å¤‡äº†ä¸€ä¸ªéå¸¸niceçš„dockerç‰ˆæœ¬ï¼Œä¸“é—¨ç»™æ‡’äººç”¨çš„ï¼Œä¸‹é¢æ˜¯ä¾‹å­ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445s@s ~ % docker run -it --rm --privileged fightinggg/pocker:4.3-volumes Unable to find image &#x27;fightinggg/pocker:4.3-volumes&#x27; locally4.3-volumes: Pulling from fightinggg/pocker7a0437f04f83: Already exists 00386041dce7: Already exists 06435815e90c: Pull complete 7e9a89da8fed: Pull complete 16d9b87459ec: Pull complete Digest: sha256:f6314e114d6bd6bed21c6749c38b4636d1db51b22f8ab575bbdf72ccd8307dd2Status: Downloaded newer image for fightinggg/pocker:4.3-volumes[root@1e558fec41d2 /]# pocker run -it -v /:/hostdir/root busybox shrun_param:: tty: 1, interactive: 1, detach: 0, memory: 10485760, memory_swap: 10485760, cpus: 1.000000, image: busybox,volumes: [ (from: /, to: /hostdir/root)]id: 744a37f3-a390-4faf-8fbb-3baa43b62988,name: 20+0 records in20+0 records out20971520 bytes (21 MB, 20 MiB) copied, 0.0395407 s, 530 MB/smke2fs 1.45.6 (20-Mar-2020)Discarding device blocks: done Creating filesystem with 20480 1k blocks and 5136 inodesFilesystem UUID: d46262a1-0cc4-46a0-ac1b-1fd908c8fa28Superblock backups stored on blocks: 8193Allocating group tables: done Writing inode tables: done Creating journal (1024 blocks): doneWriting superblocks and filesystem accounting information: donemount upper: mount /usr/local/pocker/data/containers/744a37f3-a390-4faf-8fbb-3baa43b62988/disk.img /usr/local/pocker/data/containers/744a37f3-a390-4faf-8fbb-3baa43b62988/diskdo: mount -t overlay overlay -olowerdir=/usr/local/pocker/data/images/busybox,upperdir=/usr/local/pocker/data/containers/744a37f3-a390-4faf-8fbb-3baa43b62988/disk/upper,workdir=/usr/local/pocker/data/containers/744a37f3-a390-4faf-8fbb-3baa43b62988/disk/tmp /usr/local/pocker/data/containers/744a37f3-a390-4faf-8fbb-3baa43b62988/disk/overlaycontainer begin: sh/ # lsbin dev etc home hostdir proc root sys tmp usr var/ # cd hostdir/hostdir # lsroot/hostdir # cd root/hostdir/root # lsbin etc lib lost+found mnt proc run srv tmp vardev home lib64 media opt root sbin sys usr/hostdir/root # mkdir containerCreateDir/hostdir/root # exitcontainer exited, status=0, thanks for using pocker[root@1e558fec41d2 /]# lsbin containerCreateDir dev etc home lib lib64 lost+found media mnt opt proc root run sbin srv sys tmp usr var[root@1e558fec41d2 /]# å®¹å™¨è¿›é˜¶ç¬”è€…ä¸å‡†å¤‡å®ç°è¿™éƒ¨åˆ†ä»£ç äº†ã€‚ 5.1å®ç°åå°è¿è¡Œåªéœ€è¦å°†å®¹å™¨å˜ä¸ºå®ˆæŠ¤è¿›ç¨‹ï¼Œè®©initæ”¶ç®¡å³å¯ 5.2å®ç°æŸ¥çœ‹è¿è¡Œä¸­çš„å®¹å™¨æ˜¯crudï¼ŒæŠŠæœ¬åœ°jsonæ–‡ä»¶å½“åšäº†æ•°æ®åº“ 5.3å®ç°æŸ¥çœ‹å®¹å™¨æ—¥å¿—åªéœ€è¦é‡å®šå‘å®¹å™¨çš„è¾“å‡ºåˆ°æ–‡ä»¶ä¸­å³å¯ 5.4å®ç°è¿›å…¥å®¹å™¨è¿˜æ˜¯æœ‰ç‚¹æ„æ€çš„ï¼Œéœ€è¦ä½¿ç”¨ç³»ç»Ÿè°ƒç”¨setnsè¿›å…¥å’Œå®¹å™¨ç›¸åŒçš„åç§°ç©ºé—´å³å¯ 5.5åœæ­¢å®¹å™¨å®é™…ä¸Šåªæ˜¯å‘äº†ä¸€ä¸ªkillä¿¡å· 5.6åˆ é™¤å®¹å™¨æ¸…ç†ä¸€ä¸‹å°±å¥½äº† 5.7é€šè¿‡å®¹å™¨åˆ¶ä½œé•œåƒåªéœ€è¦æå‰ä¿ç•™å®¹å™¨çš„upperæ–‡ä»¶ç³»ç»Ÿï¼Œä¹‹åè‡ªå·±åˆå¹¶å³å¯ 5.8é…ç½®ç¯å¢ƒå˜é‡ä¹Ÿåªéœ€è¦ç®€ç®€å•å•çš„åœ¨å®¿ä¸»è¿›ç¨‹è¿›å…¥å®¹å™¨æ—¶é…ç½®å³å¯ å®¹å™¨ç½‘ç»œè¿™éƒ¨åˆ†è¿‡äºåå‘äºè®¡ç®—æœºç½‘ç»œï¼Œå¯¹äºè¿™éƒ¨åˆ†ï¼Œç¬”è€…åé¢ä¼šä¸“é—¨å‡ºä¸€ç¯‡Blogè¿›è¡Œä»‹ç»ã€‚ è¿™éƒ¨åˆ†ä»£ç ç¬”è€…ä¹Ÿä¸å‡†å¤‡å®ç°ã€‚å…³äºå®¹å™¨ç½‘ç»œéƒ¨åˆ†ï¼Œç¬”è€…ç¬¬ä¸€æ¬¡æ¥è§¦åˆ°æ˜¯åœ¨ã€ŠKubernetesæƒå¨æŒ‡å—ï¼šä»Dockeråˆ°Kuberneteså®è·µå…¨æ¥è§¦ã€‹ï¼ˆç¬¬2ç‰ˆï¼‰-2016.10-ç”µå·¥-P519-é¾šæ­£ï¼Œå´æ²»è¾‰ï¼Œç‹ä¼Ÿ ç­‰ çš„ç¬¬ä¸‰ç« ç¬¬ä¸ƒèŠ‚ç½‘ç»œåŸç†ä¸­ï¼Œè¿™ä¸¤æœ¬ä¹¦çš„è¿™ä¸¤ä¸ªåœ°æ–¹ä¸­æœ‰å¾ˆå¤šé‡å¤çš„åœ°æ–¹ã€‚ è‡³æ­¤ï¼Œç¬”è€…çš„Pockeré¡¹ç›®ä¹Ÿå°†ä¼šå‘Šä¸€æ®µè½äº†ã€‚ é«˜çº§å®è·µè¿™éƒ¨åˆ†ä»‹ç»ä¸€äº›åè¯ï¼Œå¸Œæœ›å¯ä»¥ä½“ä¼šåˆ°å…¶ä¸­çš„è®¾è®¡ç†å¿µã€‚ OCIOpen Container Initiative æ˜¯ä¸€ä¸ªç»„ç»‡ï¼Œæ˜¯LinuxåŸºé‡‘ä¼šåœ¨2015å¹´æˆç«‹çš„ï¼Œæ˜¯ä¸€ä¸ªå®šä¹‰å®¹å™¨æ ‡å‡†çš„ç»„ç»‡ã€‚ runCrunCæ˜¯ä¸€ä¸ªå®¹å™¨å¼•æ“ï¼Œä»–ä¸»è¦ç”¨äºæ„é€ ã€è¿è¡Œå®¹å™¨ã€‚ runCæ˜¯ä¸ªè½»é‡çº§çš„å®¹å™¨è¿è¡Œå¼•æ“ï¼Œ åŒ…æ‹¬æ‰€æœ‰ Docker ä½¿ç”¨çš„å’Œå®¹å™¨ç›¸å…³çš„ç³»ç»Ÿè°ƒç”¨çš„ä»£ç ã€‚ runCçš„ç›®æ ‡å°±æ˜¯å»æ„é€ åˆ°å¤„éƒ½å¯ä»¥è¿è¡Œçš„æ ‡å‡†å®¹å™¨ã€‚ å¼•ç”¨ï¼š åŸä¹¦177é¡µ runCçš„æµç¨‹å’Œpockerçš„æµç¨‹æ˜¯æ¯”è¾ƒç±»ä¼¼çš„ï¼Œpockeråªæ˜¯ä¸ªå°demoï¼Œæ¯•ç«Ÿå…¨éƒ¨åŠ èµ·æ¥ä¹Ÿå°±å‡ ç™¾è¡Œä»£ç ï¼Œä»–æ²¡æœ‰ä½¿ç”¨ä»»ä½•è®¾è®¡æ¨¡å¼ã€‚ ä»£ç è¯»åˆ°è¿™é‡Œ,åº”è¯¥å¯ä»¥å¤§æ¦‚ç†è§£runCåˆ›å»ºå®¹å™¨çš„æ•´ä¸ªè¿‡ç¨‹äº†,å¦‚ä¸‹ 1.è¯»å–é…ç½®æ–‡ä»¶ã€‚ 2.è®¾ç½® rootfilesystem 3.ä½¿ç”¨ factoryåˆ›å»ºå®¹å™¨,å„ä¸ªç³»ç»Ÿå¹³å°å‡æœ‰ä¸åŒå®ç°ã€‚ 4.åˆ›å»ºå®¹å™¨çš„åˆå§‹åŒ–è¿›ç¨‹ process 5.è®¾ç½®å®¹å™¨çš„è¾“å‡ºç®¡é“,ä¸»è¦æ˜¯Goçš„ pipes 6.æ‰§è¡Œ Container. Start)å¯åŠ¨ç‰©ç†çš„å®¹å™¨ 7.å›è°ƒinitæ–¹æ³•é‡æ–°åˆå§‹åŒ–å®¹å™¨è¿›ç¨‹ã€‚ runCçˆ¶è¿›ç¨‹ç­‰å¾…å­è¿›ç¨‹åˆå§‹åŒ–æˆåŠŸåé€€å‡ºã€‚ å¯ä»¥çœ‹åˆ°,å…·ä½“çš„æ‰§è¡Œæµç¨‹æ¶‰åŠ3ä¸ªæ¦‚å¿µ: processã€ containerã€ factoryã€‚ factoryç”¨æ¥åˆ›å»ºå®¹å™¨, process è´Ÿè´£è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡å’Œå¯åŠ¨å®¹å™¨ å¼•ç”¨ï¼š åŸä¹¦185é¡µ Containerdcontainerdæ˜¯ä¸€ä¸ªå®ˆæŠ¤è¿›ç¨‹ï¼Œä¸“æ³¨äºå®¹å™¨çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œæ–¹ä¾¿å®¹å™¨ç¼–æ’ã€‚å½“ç„¶containerdåªæ˜¯dockerçš„ä¸€éƒ¨åˆ†ï¼Œä»–ä¸è´Ÿè´£é•œåƒçš„æ„é€ ã€‚ æ¯ä¸ª containedåªè´Ÿè´£ä¸€å°æœºå™¨,Pulé•œåƒã€å¯¹å®¹å™¨çš„æ“ä½œ(å¯åŠ¨ã€åœæ­¢ç­‰)ã€ç½‘ç»œã€å­˜å‚¨éƒ½æ˜¯ç”± containerå®Œæˆçš„ã€‚å…·ä½“è¿è¡Œå®¹å™¨ç”±runCè´Ÿè´£ã€‚ CRIå®¹å™¨å¼•æ“CRIæ˜¯ Container Runtime Interface ï¼Œå³å®¹å™¨è¿è¡Œæ—¶ï¼Œä¼—æ‰€å‘¨çŸ¥ï¼Œå®¹å™¨ä¸åªdockerè¿™ä¸€ä¸ªè½¯ä»¶æ”¯æŒï¼Œè¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„æ”¯æŒå®¹å™¨çš„è½¯ä»¶ï¼Œk8sæ˜¯è´Ÿè´£å®¹å™¨ç¼–æ’çš„ï¼Œk8så®šä¹‰äº†ä¸€å¥—CRIæ ‡å‡†ï¼Œåªè¦ä½ çš„å®¹å™¨æ”¯æŒCRIï¼Œé‚£ä¹ˆk8så°±å¯ä»¥å¸®åŠ©ä½ ç®¡ç†ä»–ã€‚ 12345classDiagram CRI &lt;|.. docker CRI &lt;|.. podman CRI &lt;|.. LXC CRI &lt;|.. others","categories":[{"name":"Docker","slug":"Docker","permalink":"http://fightinggg.github.io/indigo/categories/Docker/"}],"tags":[{"name":"è¯»ä¹¦","slug":"è¯»ä¹¦","permalink":"http://fightinggg.github.io/indigo/tags/%E8%AF%BB%E4%B9%A6/"}]},{"title":"æ»´æ»´ç¬”è¯•é¢˜","slug":"å®ä¹ /ç¬”è¯•/æ»´æ»´ç¬”è¯•é¢˜/index","date":"2021-04-10T14:58:00.000Z","updated":"2021-04-10T14:58:00.000Z","comments":true,"path":"QRCS8O.html","link":"","permalink":"http://fightinggg.github.io/indigo/QRCS8O.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ€»æ½ä¸¤é¢˜éƒ½æ˜¯10è¡Œä»£ç ä¸åˆ°å°±å†™äº† ç¬¬ä¸€é¢˜é¢˜æ„ä½ æœ‰ä¸€ä¸ªæ“ä½œç³»ç»Ÿï¼Œä»–å°†è¦æ‰§è¡Œnä¸ªä»»åŠ¡ï¼Œæ¯ä¸ªä»»åŠ¡æœ‰ä¸¤ä¸ªé˜¶æ®µï¼Œå‡†å¤‡é˜¶æ®µå’Œæ‰§è¡Œé˜¶æ®µï¼Œä»»åŠ¡å¿…é¡»å…ˆå®Œæˆå‡†å¤‡ï¼Œç„¶åæ‰èƒ½æ‰§è¡Œã€‚ ä½ çš„æ“ä½œç³»ç»Ÿåœ¨ä»»æ„æ—¶åˆ»å¯ä»¥æ‰§è¡Œä¸€ä¸ªä»»åŠ¡ï¼Œå¹¶åŒæ—¶å‡†å¤‡å¤šä¸ªä»»åŠ¡ é—®ä½ æœ€å°‘èŠ±è´¹å¤šå°‘æ—¶é—´å¯ä»¥æ‰§è¡Œå®Œæ‰€æœ‰çš„ä»»åŠ¡","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ€»æ½ä¸¤é¢˜éƒ½æ˜¯10è¡Œä»£ç ä¸åˆ°å°±å†™äº† ç¬¬ä¸€é¢˜é¢˜æ„ä½ æœ‰ä¸€ä¸ªæ“ä½œç³»ç»Ÿï¼Œä»–å°†è¦æ‰§è¡Œnä¸ªä»»åŠ¡ï¼Œæ¯ä¸ªä»»åŠ¡æœ‰ä¸¤ä¸ªé˜¶æ®µï¼Œå‡†å¤‡é˜¶æ®µå’Œæ‰§è¡Œé˜¶æ®µï¼Œä»»åŠ¡å¿…é¡»å…ˆå®Œæˆå‡†å¤‡ï¼Œç„¶åæ‰èƒ½æ‰§è¡Œã€‚ ä½ çš„æ“ä½œç³»ç»Ÿåœ¨ä»»æ„æ—¶åˆ»å¯ä»¥æ‰§è¡Œä¸€ä¸ªä»»åŠ¡ï¼Œå¹¶åŒæ—¶å‡†å¤‡å¤šä¸ªä»»åŠ¡ é—®ä½ æœ€å°‘èŠ±è´¹å¤šå°‘æ—¶é—´å¯ä»¥æ‰§è¡Œå®Œæ‰€æœ‰çš„ä»»åŠ¡ è¾“å…¥nè¡¨ç¤ºnä¸ªä»»åŠ¡ nè¡Œï¼Œç¬¬ä¸€ä¸ªæ•°å­—ä¸ºå‡†å¤‡æ—¶é—´ï¼Œç¬¬äºŒä¸ªæ•°å­—ä¸ºæ‰§è¡Œæ—¶é—´ è¾“å…¥12321 54 1 è¾“å‡º17 å¤‡æ³¨å…ˆå‡†å¤‡ä¸€ä¸ªæ—¶é—´ï¼Œç„¶åç”¨5ä¸ªæ—¶é—´æ‰§è¡Œç¬¬ä¸€ä¸ªä»»åŠ¡ï¼Œç„¶åèŠ±ä¸€ä¸ªæ—¶é—´æ‰§è¡Œç¬¬äºŒä¸ªä»»åŠ¡ é¢˜è§£æŒ‰ç…§å‡†å¤‡æ—¶é—´ä»å°åˆ°å¤§æ’åºï¼Œç„¶åä¾æ¬¡æ¨¡æ‹Ÿå³å¯ ç¬¬äºŒé¢˜æè¿°ç»™ä½ é•¿åº¦ä¸ºnä¸ªæ•°ç»„ï¼ˆéƒ½æ˜¯æ­£æ•°ï¼‰ï¼Œä½ å¯ä»¥èŠ±è´¹1çš„ä»£ä»·æ¥æ”¹å˜ä¸€ä¸ªæ•°çš„å€¼ï¼ˆæ”¹æˆæ­£æ•°ï¼‰ï¼Œç„¶åç»™ä½ ä¸€ä¸ªxï¼Œç°åœ¨ä½ éœ€è¦ç”¨æœ€å°çš„ä»£ä»·æŠŠè¿™ä¸ªæ•°ç»„å˜é•¿å…¬å·®ä¸ºxçš„ç­‰å·®æ•°åˆ—ï¼Œè¾“å‡ºæœ€å°çš„ä»£ä»·ã€‚ è¾“å…¥125 31 3 1 3 5 è¾“å‡º13 å¤‡æ³¨æ”¹æˆ1 3 5 7 9 é—®é¢˜è½¬åŒ–æŠŠæ•°ç»„çš„ä¸‹æ ‡å½“ä½œæ¨ªåæ ‡ï¼ŒæŠŠæ•°ç»„çš„å€¼å½“ä½œçºµåæ ‡ï¼Œä½ å¯ä»¥å¾—åˆ°äºŒç»´å¹³é¢å†…çš„nä¸ªç‚¹ã€‚ ç­‰å·®æ•°åˆ—çš„ç‚¹éƒ½åœ¨ä¸€æ¡ç›´çº¿ä¸Šï¼Œæ–œç‡å°±æ˜¯å…¬å·®ï¼Œé¦–é¡¹å°±æ˜¯yè½´æˆªè· ç°åœ¨é—®é¢˜è½¬åŒ–ä¸ºï¼Œç»™ä½ äºŒç»´å¹³é¢å†…çš„nä¸ªç‚¹ï¼Œæ‰¾åˆ°ä¸€æ¡æ–œç‡ä¸ºxç‚¹ç›´çº¿ç»è¿‡å°½å¯èƒ½å¤šçš„ç‚¹ï¼Œä¸”yè½´æˆªè·å¤§äº0ï¼Œè¾“å‡ºæ²¡æœ‰ç»è¿‡çš„ç‚¹ç‚¹ä¸ªæ•°ã€‚ é—®é¢˜è§£å†³ç”±äºæˆªè·ä¸ºxï¼Œæˆ‘ä»¬æšä¸¾æ¯ä¸ªç‚¹æ‰€åœ¨çš„ç›´çº¿ï¼Œè®¡ç®—å‡ºy=kx+b, æˆ‘ä»¬å¯¹ç›´çº¿è¿›è¡Œhash, ç”±äºæ–œç‡ç›¸åŒï¼Œæˆ‘ä»¬åªéœ€è¦å¯¹æˆªè·hashï¼Œä¸å¦¨è®¾ç›´çº¿çš„hashå€¼å°±æ˜¯æˆªè·çš„å¤§å° æˆ‘ä»¬å¯¹hashå€¼è®°æ•°ï¼Œå‡ºç°æ¬¡æ•°æœ€å¤šçš„ä¸”hashå€¼å¤§äº0çš„é‚£ä¸ªæ¡ç›´çº¿ï¼Œå°±æ˜¯æˆ‘ä»¬çš„ç­”æ¡ˆæ‰¾åˆ°çš„ç›´çº¿ï¼Œä¸å¦¨è®¾è¿™ä¸ªç›´çº¿çš„hashå€¼å‡ºç°äº†mæ¬¡ï¼Œæœ€ç»ˆç­”æ¡ˆå°±æ˜¯n-m.","categories":[{"name":"å®ä¹ ","slug":"å®ä¹ ","permalink":"http://fightinggg.github.io/indigo/categories/%E5%AE%9E%E4%B9%A0/"},{"name":"ç¬”è¯•","slug":"å®ä¹ /ç¬”è¯•","permalink":"http://fightinggg.github.io/indigo/categories/%E5%AE%9E%E4%B9%A0/%E7%AC%94%E8%AF%95/"}],"tags":[]},{"title":"ç¾å›¢ç¬”è¯•2","slug":"å®ä¹ /ç¬”è¯•/ç¾å›¢ç¬”è¯•2/index","date":"2021-04-10T04:18:00.000Z","updated":"2021-04-11T04:18:00.000Z","comments":true,"path":"QRBYM0.html","link":"","permalink":"http://fightinggg.github.io/indigo/QRBYM0.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å¤‡æ³¨ç¾å›¢ç¬”è¯•æ¯æ¬¡éƒ½èƒ½æ•™è‚²äººï¼Œå¤ªéš¾äº†ã€‚ ç¬¬ä¸€é¢˜è¾“å…¥nï¼Œkï¼Œç„¶åè¾“å…¥nä¸ªæ•°å­—ï¼Œæ•°å­—ä¸º0ä»£è¡¨Alisçš„æˆ¿å­å¯èƒ½å‡ºç°åœ¨è¿™é‡Œï¼Œæ•°å­—é0ä»£è¡¨å…¶ä»–çš„æˆ¿å­ï¼ˆæ•°å­—çš„å€¼å°±æ˜¯ä»·æ ¼ï¼‰ï¼Œä½ è¦ä¹°ä¸€ä¸ªæˆ¿å­ï¼Œç„¶åè·ç¦»Alisçš„æˆ¿å­çš„æœŸæœ›è·ç¦»æœ€è¿‘ã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å¤‡æ³¨ç¾å›¢ç¬”è¯•æ¯æ¬¡éƒ½èƒ½æ•™è‚²äººï¼Œå¤ªéš¾äº†ã€‚ ç¬¬ä¸€é¢˜è¾“å…¥nï¼Œkï¼Œç„¶åè¾“å…¥nä¸ªæ•°å­—ï¼Œæ•°å­—ä¸º0ä»£è¡¨Alisçš„æˆ¿å­å¯èƒ½å‡ºç°åœ¨è¿™é‡Œï¼Œæ•°å­—é0ä»£è¡¨å…¶ä»–çš„æˆ¿å­ï¼ˆæ•°å­—çš„å€¼å°±æ˜¯ä»·æ ¼ï¼‰ï¼Œä½ è¦ä¹°ä¸€ä¸ªæˆ¿å­ï¼Œç„¶åè·ç¦»Alisçš„æˆ¿å­çš„æœŸæœ›è·ç¦»æœ€è¿‘ã€‚ é¢˜ç›®å‡ºé”…äº†ï¼Œæˆ‘æš´åŠ›æšä¸¾ï¼Œä½†æ˜¯ä¸€ç›´waï¼Œwaäº†åŠä¸ªå°æ—¶äº†å®åœ¨æ˜¯ä¸æ•¢ç›¸ä¿¡ï¼Œç„¶ååˆ‡åˆ°äº†ç¬¬äºŒé¢˜ï¼Œå†™åˆ°ä¸€åŠéš¾å—ï¼Œä¸€æƒ³åˆ°æˆ‘è¿ç¬¬ä¸€é¢˜éƒ½è¿‡ä¸äº†æˆ‘å°±éš¾å—ï¼Œæˆ‘åˆæ¥å›é©¬æªï¼Œæ€å›ç¬¬ä¸€é¢˜ï¼Œç„¶åè¿˜æ˜¯waï¼Œæœ€åç‹ å¿ƒå†³å®šæŠŠç¬¬ä¸€é¢˜ä¸¢äº†ç®—äº†ï¼Œæ¥æ¥å›å›æµªè´¹äº†ä¸å°‘æ—¶é—´ï¼Œè¿˜æ˜¯ä¸€ç›´æ²¡è¿‡ï¼Œæœ€ååˆ‡å®Œç¬¬ä¸‰é¢˜çš„æ—¶å€™ï¼Œç¬”è¯•ä¹Ÿå¿«ç»“æŸäº†ï¼Œæ‰å‘ç°å‡ºç°äº†ä¸€ä¸ªå…¬å‘Šï¼Œè¯´ç¬¬ä¸€é¢˜å¦‚æœæœ‰å¤šä¸ªç­”æ¡ˆè¾“å‡ºæœ€å°çš„é‚£ä¸ªï¼Œæˆ‘æŠŠç¬¬27è¡Œæ”¹æˆ&lt;å°±è¿‡äº† 123456789101112131415161718192021222324252627282930313233#include&lt;bits/stdc++.h&gt;using namespace std;int main()&#123; int n,k; cin&gt;&gt;n&gt;&gt;k; vector&lt;int&gt; mayHomePlace; vector&lt;int&gt; canChoose; vector&lt;int&gt; idx; for(int i=0;i&lt;n;i++)&#123; int ai; cin&gt;&gt;ai; if(ai==0)&#123; mayHomePlace.push_back(i); &#125; if(ai!=0 &amp;&amp; ai&lt;=k)&#123; canChoose.push_back(i); &#125; &#125; int ans=0,d=1e9; for(int i=0;i&lt;canChoose.size();i++)&#123; int x = canChoose[i]; int sum = 0; for(int y:mayHomePlace)&#123; sum+=abs(y-x); &#125; if(sum&lt;=d)&#123; ans=x; d=sum; &#125; &#125; cout&lt;&lt;ans+1&lt;&lt;endl;&#125; ç¬¬äºŒé¢˜ç»™ä½ ä¸€ä¸ª01ä¸²ï¼Œä½ èƒ½åˆ é™¤ä¸‰ä¸ªè¿ç»­çš„å­—ç¬¦ï¼Œå¯ä»¥æ— é™æ¬¡æ“ä½œï¼Œé—®å¦‚ä½•æ“ä½œåè®©0å’Œ1çš„ä¸ªæ•°å·®æœ€å¤§ï¼Œè¾“å‡ºæœ€å¤§çš„å·®å€¼ã€‚ ä½¿ç”¨dpå³å¯dp0[x]ä»£è¡¨å‰xä¸ªå­—ç¬¦0-1æœ€å¤§çš„å·®å€¼ï¼Œ dp1[x]ä»£è¡¨å‰xä¸ªå­—ç¬¦1-0çš„æœ€å¤§å·®å€¼ã€‚ (æœç„¶è¿˜æ˜¯å¤ªä¹…æ²¡åˆ·é¢˜äº†ï¼Œéƒ½ä¸€å¹´å¤šæ²¡å†™è¿‡é¢˜äº†ï¼Œdpæ–¹ç¨‹æˆ‘æ¨äº†å¾ˆä¹…)ï¼Œæœ€å¼€å§‹æ¨å‡ºæ¥æ˜¯è¿™æ ·,ç„¶åä¸€ç›´wa27 1dp0[i] = max(dp0[i-3],dp0[i-3]+cal(s[i],s[i-1],s[i-2])); æœ€åå‘ç°æ­£ç¡®çš„è½¬ç§»æ–¹ç¨‹æ˜¯è¿™ä¸ª 12345dp0[i] = max(dp0[i-3], dp0[i-3]+cal(s[i],s[i-1],s[i-2]), dp0[i-2]+cal(s[i],s[i-1]), dp0[i-1]+cal(s[i]) ); 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263#include&lt;bits/stdc++.h&gt;using namespace std;int cal(char x)&#123; return x==&#x27;0&#x27;?1:-1;&#125;int cal(char x,char y)&#123; return cal(x)+cal(y);&#125;int cal(char x,char y,char z)&#123; return cal(x)+cal(y,z);&#125;int max(int a,int b,int c,int d)&#123; return max(max(a,b),max(c,d));&#125;// 0-1int cal(int n,string s)&#123; vector&lt;int&gt;dp0(s.size()); vector&lt;int&gt;dp1(s.size()); int ct=0; for(int i=0;i&lt;3&amp;&amp;i&lt;s.size();i++)&#123; if(s[i]==&#x27;0&#x27;)&#123; ct++; &#125;else&#123; ct--; &#125; dp0[i] = ct; dp1[i] = -ct; if(i==2)&#123; dp0[i] = max(ct,0); dp1[i] = max(-ct,0); &#125; &#125; for(int i=3;i&lt;s.size();i++)&#123; dp0[i] = max(dp0[i-3], dp0[i-3]+cal(s[i],s[i-1],s[i-2]), dp0[i-2]+cal(s[i],s[i-1]), dp0[i-1]+cal(s[i]) ); dp1[i] = max(dp1[i-3], dp1[i-3]-cal(s[i],s[i-1],s[i-2]), dp1[i-2]-cal(s[i],s[i-1]), dp1[i-1]-cal(s[i]) ); &#125; return max(dp0.back(),dp1.back());&#125;int main()&#123; int n; cin&gt;&gt;n; string s; cin&gt;&gt;s; cout&lt;&lt;cal(n,s)&lt;&lt;endl;&#125; ç¬¬ä¸‰é¢˜æœ‰ä¸¤ä¸ªå°„ç®­é˜Ÿä¼ï¼Œä½ æ˜¯è£åˆ¤ï¼Œè§„å®šå°„ç®­å°„ä¸­åï¼Œå°„å‡»çš„è·ç¦»åœ¨dä¹‹å†…å¾—1åˆ†ï¼Œåœ¨dä¹‹å¤–å¾—2åˆ†ï¼Œå¦‚ä½•è®¾è®¡dçš„å€¼ï¼Œè®©ä¸€ä¸ªé˜Ÿä¼å°½å¯èƒ½çš„é¢†å…ˆåˆ†æ•°ã€‚ æš´åŠ›æšä¸¾då³å¯ï¼Œè®¡ç®—å¾—åˆ†çš„æ—¶å€™ç”¨upper_boundäºŒåˆ†ä¸€ä¸‹ 1234567891011121314151617181920212223242526#include&lt;bits/stdc++.h&gt;using namespace std;int cal(int d,vector&lt;int&gt;&amp;v)&#123; int lw = upper_bound(v.begin(),v.end(),d)-v.begin(); return lw+(v.size()-lw)*2;&#125;int main()&#123; int n,m; cin&gt;&gt;n&gt;&gt;m; vector&lt;int&gt; a(n),b(m); for(int i=0;i&lt;n;i++)&#123; cin&gt;&gt;a[i]; &#125; for(int i=0;i&lt;m;i++)&#123; cin&gt;&gt;b[i]; &#125; sort(a.begin(),a.end()); sort(b.begin(),b.end()); int ans = -1e9; for(int i=1;i&lt;=1000;i++)&#123; ans=max(ans,cal(i,b)-cal(i,a)); &#125; cout&lt;&lt;ans&lt;&lt;endl;&#125; ç¬¬å››é¢˜æš´åŠ›éª—åˆ†ï¼Œæ²¡æœ‰acï¼Œtleäº† 123456789101112131415161718192021222324252627282930313233343536#include&lt;bits/stdc++.h&gt;using namespace std;int main()&#123; int n; cin&gt;&gt;n; string s; cin&gt;&gt;s; vector&lt;vector&lt;int&gt;&gt;v(26,vector&lt;int&gt;(n)); v[s[0]-&#x27;a&#x27;][0]=1; for(int i=0;i&lt;n;i++)&#123; for(int j=0;j&lt;26;j++)&#123; v[j][i]=v[j][i-1]; &#125; v[s[i]-&#x27;a&#x27;][i]++; &#125; int ans = 0; for(int i=0;i&lt;s.size();i++)&#123; for(int j=i;j&lt;s.size();j++)&#123; for(int ch=0;ch&lt;26;ch++)&#123; if(i==0)&#123; if(v[ch][j]&gt;=(j+1+1)/2)&#123; ans++; &#125; &#125; else&#123; if(v[ch][j]-v[ch][i-1]&gt;=(j-i+1+1+1)/2)&#123; ans++; &#125; &#125; &#125; &#125; &#125; cout&lt;&lt;ans&lt;&lt;endl;&#125; ç¬¬äº”é¢˜æ²¡æ—¶é—´çœ‹ã€‚ã€‚ã€‚èœå“­äº†","categories":[{"name":"å®ä¹ ","slug":"å®ä¹ ","permalink":"http://fightinggg.github.io/indigo/categories/%E5%AE%9E%E4%B9%A0/"},{"name":"ç¬”è¯•","slug":"å®ä¹ /ç¬”è¯•","permalink":"http://fightinggg.github.io/indigo/categories/%E5%AE%9E%E4%B9%A0/%E7%AC%94%E8%AF%95/"}],"tags":[]},{"title":"è…¾è®¯äº‘è½»é‡çº§äº‘æœåŠ¡å™¨","slug":"Others/è…¾è®¯äº‘è½»é‡çº§äº‘æœåŠ¡å™¨/index","date":"2021-04-09T07:28:00.000Z","updated":"2021-04-15T04:54:00.000Z","comments":true,"path":"QRACQO.html","link":"","permalink":"http://fightinggg.github.io/indigo/QRACQO.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial é€‰è´­æœåŠ¡å™¨ç‚¹å‡»é“¾æ¥å¹¶ç™»é™†å³å¯æ¥åˆ°è½»é‡çº§æœåŠ¡å™¨çš„é€‰è´­åœ°å€ï¼Œç„¶åæˆ‘ä»¬é€‰æ‹©é¦™æ¸¯ï¼Œé€‰æ‹©centos8ã€‚é€‰é¦™æ¸¯æ˜¯å› ä¸ºé‚£è¾¹çš„æœåŠ¡å™¨å¯ä»¥è®¿é—®å¤–ç½‘å¹¶æ­å»ºVPNï¼Œè€Œä¸”åŸŸåä¹Ÿä¸ç”¨å¤‡æ¡ˆï¼Œæ¯”è¾ƒç®€å•ï¼Œé€‰centos8æ˜¯å› ä¸ºç°åœ¨æµè¡Œçš„æœåŠ¡å™¨éƒ½æ˜¯centos","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial é€‰è´­æœåŠ¡å™¨ç‚¹å‡»é“¾æ¥å¹¶ç™»é™†å³å¯æ¥åˆ°è½»é‡çº§æœåŠ¡å™¨çš„é€‰è´­åœ°å€ï¼Œç„¶åæˆ‘ä»¬é€‰æ‹©é¦™æ¸¯ï¼Œé€‰æ‹©centos8ã€‚é€‰é¦™æ¸¯æ˜¯å› ä¸ºé‚£è¾¹çš„æœåŠ¡å™¨å¯ä»¥è®¿é—®å¤–ç½‘å¹¶æ­å»ºVPNï¼Œè€Œä¸”åŸŸåä¹Ÿä¸ç”¨å¤‡æ¡ˆï¼Œæ¯”è¾ƒç®€å•ï¼Œé€‰centos8æ˜¯å› ä¸ºç°åœ¨æµè¡Œçš„æœåŠ¡å™¨éƒ½æ˜¯centos æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™ä¸ªæœåŠ¡å™¨æ˜¯éå¸¸éå¸¸ä¾¿å®œçš„ï¼Œä½†æ˜¯1æ ¸1Gä¹Ÿæœ‰ä»–è‡ªå·±çš„ç¼ºç‚¹ï¼Œå³åªèƒ½å¼€ä¸¤ä¸‰ä¸ªåº”ç”¨ã€‚ æ­»æœºäº†å¤§å®¶å¯ä»¥è‡ªå·±å°è¯•ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨dockerå¼€å¯äº†msyqlæœåŠ¡ï¼Œæ•´ä¸ªæœåŠ¡å™¨å°±æ­»æœºäº†ï¼ŒåŸå› æ˜¯å†…å­˜å ç”¨è¿‡é«˜å¯¼è‡´ç³»ç»Ÿä¸ç¨³å®šã€‚ åŠ å¤§å†…å­˜è½»é‡çº§æœåŠ¡å™¨çš„å†…å­˜å¾ˆå°ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨äº¤æ¢åˆ†åŒºæ¥ä¼ªé€ å‡ºæ›´å¤§çš„å†…å­˜ï¼ŒæŒ‰ç…§ä»¥ä¸‹æ–¹æ¡ˆæ¥æ„é€ ä¸€ä¸ª8Gçš„äº¤æ¢ç©ºé—´ã€‚ 1234567cd /datamkdir swapcd swap# æˆ‘ä»¬ä½¿ç”¨10Gçš„äº¤æ¢ç©ºé—´ , æ—¢ç„¶éƒ½å·²ç»ä½¿ç”¨äº†æœ€ä½é…çš„æœºå™¨ï¼Œå°±ä¸åœ¨ä¹é€Ÿåº¦äº†ã€‚dd if=/dev/zero of=swapfile bs=1M count=8192mkswap swapfileswapon swapfile ç„¶åå°±å†…å­˜å°±å¾ˆå¤§äº†ï¼Œæœ‰8Gçš„å†…å­˜å‘¢ï¼Œæ˜¯ä¸æ˜¯å¾ˆå¼€å¿ƒï¼ˆæœ‰å†…å­˜ç”¨æ€»æ¯”æ­»æœºå¥½ï¼‰ å¯åŠ¨ä¸€ä¸ªæœåŠ¡æ¥ä¸‹æ¥ä»‹ç»å¦‚å’Œä½¿ç”¨50MBçš„å†…å­˜ï¼Œå¯åŠ¨ä¸€ä¸ªmysqlæœåŠ¡ï¼Œè¿™ä¸ªåŠæ³•å¯ä»¥æ‹“å±•åˆ°æ‰€æœ‰å…¶ä»–æœåŠ¡è¯¸å¦‚redisã€kafkaä¸Šã€‚å€Ÿæ­¤æ–¹æ³•ï¼Œä½ ä¹Ÿèƒ½åœ¨ä¸€å°1æ ¸1Gçš„æœºå™¨ä¸Šå¯åŠ¨åå‡ ä¸ªå®¹å™¨ã€‚ å¯åŠ¨mysqlæœåŠ¡ç´§æ¥ç€æˆ‘ä»¬æŒ‰ç…§è¿™é‡Œçš„æ–¹æ¡ˆåˆ›å»ºä¸€ä¸ªmysqlå®¹å™¨ï¼ˆå†…å­˜åªæœ‰50MBï¼Œäº¤æ¢ç©ºé—´æœ‰1Gï¼Œä½ çŸ¥é“ä»–æœ‰å¤šæ…¢å—ï¼Ÿï¼‰ æˆ‘ä»¬ä½¿ç”¨æŸ¥çœ‹å†…å­˜çš„æŒ‡ä»¤ï¼Œä¸éš¾å‘ç°æˆ‘ä»¬çš„mysqlä¸»è¦ä¾èµ–äºswapç©ºé—´ 1234[root@VM-4-4-centos swap]# free -h total used free shared buff/cache availableMem: 821Mi 321Mi 100Mi 0.0Ki 399Mi 377MiSwap: 8.0Gi 349Mi 7.7Gi å¼€å¯é˜²ç«å¢™æˆ‘ä»¬åœ¨æ§åˆ¶å°ç‚¹å‡»å·¦ä¾§çš„æœåŠ¡å™¨ï¼Œç‚¹å‡»é˜²ç«å¢™ï¼Œç‚¹å‡»æ·»åŠ è§„åˆ™ï¼Œé€‰æ‹©ALLï¼ˆå…è®¸æ‰€æœ‰çš„ç«¯å£æ‰€æœ‰çš„åè®®ï¼‰ è¿æ¥æ•°æ®åº“ç„¶åä½¿ç”¨ideaçš„ideaæ’ä»¶è¿æ¥ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°pingçš„å»¶æ—¶å¤§æ¦‚ä¸º1ç§’ï¼Œå½“ç„¶æˆ‘ä»¬ä¹Ÿå®ç°äº†mysqlæœåŠ¡çš„è¿è¡Œã€‚image-2021-04-15 13.05.54.328 è¿è¡Œäº†5ä¸ªå®¹å™¨çš„dockeræœåŠ¡å¤§å®¶å¯ä»¥çœ‹åˆ°ç°åœ¨ç¬”è€…è¿™é‡Œå·²ç»è¿è¡Œäº†5ä¸ªå®¹å™¨ï¼Œåˆ†åˆ«æ˜¯polinoj(è¿™ä¸ªæ˜¯æˆ‘çš„æ¯•è®¾ï¼Œè¿˜æ²¡åšå®Œï¼ŒçŒ®ä¸ªä¸‘)çš„å‰åç«¯ï¼ŒmysqlæœåŠ¡ï¼Œæ‚¨ç°åœ¨æŸ¥çœ‹çš„blogä¸»ç«™ç‚¹çš„pageæœåŠ¡ï¼Œä»¥åŠä¸€ä¸ªä¸å¯æè¿°çš„vpn 1234567[root@VM-4-4-centos ~]# docker statsCONTAINER ID NAME CPU % MEM USAGE / LIMIT MEM % NET I/O BLOCK I/O PIDS5bc03f67b908 polinoj-frontend 0.00% 4.648MiB / 50MiB 9.30% 182kB / 1.94MB 24.3MB / 4.1kB 2e33f7923267c polinoj-backend 0.08% 44.93MiB / 50MiB 89.86% 382kB / 386kB 28.9GB / 0B 296a3819bdf87b mysql 0.12% 34.62MiB / 50MiB 69.25% 513kB / 749kB 27.3GB / 24.8MB 48b6714f9102f8 hexo-blog 0.00% 4.207MiB / 821.5MiB 0.51% 55.9MB / 1.07GB 3.14GB / 4.1kB 2a3845de540c9 vpn 0.00% 7.441MiB / 821.5MiB 0.91% 11.5GB / 11.3GB 3.42GB / 0B 2 è¿è¡Œäº†è¿™ä¹ˆå¤šå®¹å™¨æœåŠ¡å™¨ç¨³å®šå—ï¼Ÿä½¿ç”¨topæŒ‡ä»¤ï¼ŒæŒ‰ä¸‹cè®©è¿›ç¨‹æŒ‰ç…§cpuä½¿ç”¨ç‡æ’åºï¼Œæˆ‘ä»¬å‘ç°cpuå ç”¨ç‡å¾ˆä½ï¼Œè¿™å¯¹äºæˆ‘ä»¬1æ ¸å¿ƒçš„æœåŠ¡å™¨æ¥è¯´å°èœä¸€ç¢Ÿ ç„¶åæŒ‰ä¸‹mï¼ŒæŒ‰ç…§å†…å­˜æ’åºï¼Œä¸éš¾å‘ç°æˆ‘ä»¬è¿˜æœ‰å¤§é‡çš„å†…å­˜ç©ºé—´æ²¡ç”¨ä½¿ç”¨ã€‚ æ‰€ä»¥5ä¸ªå®¹å™¨å¯¹äºæˆ‘ä»¬çš„æœåŠ¡å™¨æ¥è¯´ç®€ç›´æ˜¯å°èœä¸€ç¢Ÿã€‚ åç»­æ€§èƒ½è¯„æµ‹è¿™é‡Œæˆ‘ä»¬è®²åˆ›å»ºæ›´å¤šçš„å¸¸ç”¨å®¹å™¨ å¯åŠ¨ä¸€ä¸ªredisä¸€ä¸ªä½¿ç”¨äº¤æ¢ç©ºé—´ä½œä¸ºå†…å­˜çš„redisï¼Œé‚£æ€§èƒ½ä¸€å®šå¾ˆå·®äº†ï¼ˆèƒ½è·‘å°±è¡Œï¼Œæ€»æ¯”æ²¡æœ‰å¥½ï¼‰ 12345docker run -itd \\--name redis \\-p 6379:6379 \\-m 50M --memory-swap=1024M \\redis å¯åŠ¨ä¸€ä¸ªredis webå®¢æˆ·ç«¯12345678docker run -d \\--name redis-cli \\-m 50M --memory-swap=1024M \\--link redis:redis \\-e REDIS_1_HOST=redis \\-e REDIS_1_NAME=redis \\-p 8082:80 \\erikdubbelboer/phpredisadmin ç„¶åå°±å¯ä»¥ä½¿ç”¨ä»¥ä¸‹çš„ç«¯å£æ¥è®¿é—®redisæœåŠ¡äº†ï¼Œç¬”è€…åˆ›å»ºäº†ä¸¤ä¸ªkv å¯åŠ¨ä¸€ä¸ªzookeeperæœåŠ¡12345docker run -d \\-p 2181:2181 \\--name zookeeper \\-m 50M --memory-swap=1024M \\zookeeper å¯åŠ¨zookeeper webæœåŠ¡1234567docker run -d \\-p 8083:8080 \\--link zookeeper:zookeeper.zk \\-e ZK_DEFAULT_NODE=zookeeper.zk:2181/ \\--name zk-web \\-m 50M --memory-swap=1024M \\tobilg/zookeeper-webui ä¹‹åä½ å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°ä½ çš„zookeeperæœåŠ¡ å¯åŠ¨ä¸€ä¸ªkafkaæœåŠ¡1234567docker run -d \\-e ZK_HOSTS=zookeeper.zk \\--link zookeeper:zookeeper.zk \\--name=kafka \\-p 9092:9092 \\-m 50M --memory-swap=1024M \\kafkamanager/kafka-manager è‡³æ­¤æˆ‘ä»¬ä¸€å…±å¯åŠ¨äº†10ä¸ªå®¹å™¨ï¼Œæœ¬æ¬¡æµ‹è¯•éå¸¸æˆåŠŸ 12345678910111213[root@VM-4-4-centos ~]# docker ps -aCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMESbff1f01703bd tobilg/zookeeper-webui &quot;./bootstrap.sh&quot; About a minute ago Up About a minute 0.0.0.0:8083-&gt;8080/tcp zk-web9e5331553179 kafkamanager/kafka-manager &quot;cmak-3.0.0.4/bin/cmâ€¦&quot; 57 minutes ago Up 57 minutes 9000/tcp, 0.0.0.0:9092-&gt;9092/tcp kafka06cfdef9497c zookeeper &quot;/docker-entrypoint.â€¦&quot; About an hour ago Up About an hour 2888/tcp, 3888/tcp, 0.0.0.0:2181-&gt;2181/tcp, 8080/tcp zookeeper29f1d2a9d2d3 erikdubbelboer/phpredisadmin &quot;tini -- php -S 0.0.â€¦&quot; About an hour ago Up About an hour 0.0.0.0:8082-&gt;80/tcp redis-clid97f48af2538 redis &quot;docker-entrypoint.sâ€¦&quot; 2 hours ago Up 2 hours 0.0.0.0:6379-&gt;6379/tcp redis5bc03f67b908 1144560553/polinoj-frontend:latest &quot;/docker-entrypoint.â€¦&quot; 7 hours ago Up 7 hours 0.0.0.0:8081-&gt;80/tcp polinoj-frontende33f7923267c 1144560553/polinoj-backend:latest &quot;/bin/sh -c &#x27;\\&quot;java\\&quot; â€¦&quot; 7 hours ago Up 7 hours 0.0.0.0:8080-&gt;80/tcp polinoj-backend6a3819bdf87b mysql &quot;docker-entrypoint.sâ€¦&quot; 13 hours ago Up 13 hours 0.0.0.0:3306-&gt;3306/tcp, 33060/tcp mysqlb6714f9102f8 nginx &quot;/docker-entrypoint.â€¦&quot; 4 weeks ago Up 6 days 0.0.0.0:80-&gt;80/tcp hexo-bloga3845de540c9 imhang/shadowsocks-docker &quot;/bin/sh -c &#x27;ss-servâ€¦&quot; 4 weeks ago Up 6 days 0.0.0.0:443-&gt;443/tcp, 0.0.0.0:443-&gt;443/udp vpn[root@VM-4-4-centos ~]# dockerå†…å­˜CPUä½¿ç”¨æƒ…å†µå¦‚ä¸‹ 12345678910CONTAINER ID NAME CPU % MEM USAGE / LIMIT MEM % NET I/O BLOCK I/O PIDSd46b84eb9863 zk-web 0.14% 43.94MiB / 50MiB 87.88% 27.8kB / 286kB 4.55GB / 16.4kB 3306cfdef9497c zookeeper 0.81% 35.6MiB / 50MiB 71.20% 60.7kB / 49.6kB 9.02GB / 131kB 3229f1d2a9d2d3 redis-cli 0.00% 5.695MiB / 50MiB 11.39% 676kB / 5.19MB 88.1MB / 0B 2d97f48af2538 redis 0.88% 7.426MiB / 50MiB 14.85% 111kB / 471kB 132MB / 24.6kB 55bc03f67b908 polinoj-frontend 0.00% 1.613MiB / 50MiB 3.23% 225kB / 1.99MB 31.8MB / 4.1kB 2e33f7923267c polinoj-backend 0.09% 44.56MiB / 50MiB 89.12% 500kB / 514kB 33.9GB / 0B 296a3819bdf87b mysql 0.10% 17.9MiB / 50MiB 35.80% 627kB / 857kB 28.3GB / 24.8MB 48b6714f9102f8 hexo-blog 0.00% 3.031MiB / 821.5MiB 0.37% 56.6MB / 1.09GB 3.2GB / 4.1kB 2a3845de540c9 vpn 0.01% 5.102MiB / 821.5MiB 0.62% 12.1GB / 11.8GB 3.43GB / 0B 2 ç³»ç»Ÿå†…å­˜ä½¿ç”¨æƒ…å†µ 1234[root@VM-4-4-centos ~]# free -h total used free shared buff/cache availableMem: 821Mi 358Mi 88Mi 0.0Ki 374Mi 348MiSwap: 8.0Gi 782Mi 7.2Gi å¯åŠ¨ä¸€ä¸ªkafka-web-uiæœåŠ¡123456789docker run -d \\-p 9000:9000 \\--link kafka:kafka \\-e KAFKA_BROKERCONNECT=kafka:9092 \\-e JVM_OPTS=&quot;-Xms32M -Xmx64M&quot; \\-e SERVER_SERVLET_CONTEXTPATH=&quot;/&quot; \\--name kafka-web-ui \\-m 30M --memory-swap=1024M \\obsidiandynamics/kafdrop","categories":[{"name":"Others","slug":"Others","permalink":"http://fightinggg.github.io/indigo/categories/Others/"}],"tags":[]},{"title":"å…«è‚¡æ–‡","slug":"å®ä¹ /å…«è‚¡æ–‡/index","date":"2021-04-07T14:14:00.000Z","updated":"2021-04-14T03:34:00.000Z","comments":true,"path":"QR767C.html","link":"","permalink":"http://fightinggg.github.io/indigo/QR767C.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å‰è¨€æœ€è®¨åŒçš„ä¸œè¥¿å°±æ˜¯å…«è‚¡æ–‡äº†ï¼Œä½†æ˜¯æ²¡åŠæ³•ï¼Œè¿™ä¸œè¥¿ä¼šå¿˜è®°ï¼Œä¸è®°ä¸è¡Œã€‚ é¢˜åº“å¼€å§‹OSIä¸ƒå±‚ç½‘ç»œæ˜¯ä»€ä¹ˆç­”æ¡ˆ ä¸ƒå±‚ç½‘ç»œå„æœ‰å“ªäº›åè®®ç­”æ¡ˆ","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å‰è¨€æœ€è®¨åŒçš„ä¸œè¥¿å°±æ˜¯å…«è‚¡æ–‡äº†ï¼Œä½†æ˜¯æ²¡åŠæ³•ï¼Œè¿™ä¸œè¥¿ä¼šå¿˜è®°ï¼Œä¸è®°ä¸è¡Œã€‚ é¢˜åº“å¼€å§‹OSIä¸ƒå±‚ç½‘ç»œæ˜¯ä»€ä¹ˆç­”æ¡ˆ ä¸ƒå±‚ç½‘ç»œå„æœ‰å“ªäº›åè®®ç­”æ¡ˆ IPäº”å±‚ç½‘ç»œæ˜¯ä»€ä¹ˆç­”æ¡ˆ ä¸€ä¸ªHTTPè¿æ¥çš„åº•å±‚æ˜¯ä»€ä¹ˆæ ·çš„ç­”æ¡ˆ1 ç­”æ¡ˆ2 HTTP1.0,1.1,2.0çš„åŒºåˆ«ç­”æ¡ˆ1 ç­”æ¡ˆ2 TCPæ‹¥å¡æ§åˆ¶æ˜¯æ€ä¹ˆå®ç°çš„ æ‹¥å¡æ§åˆ¶ä¸‰ä¸ªçŠ¶æ€å¦‚ä½•è½¬ç§» ç­”æ¡ˆ TCPæµæ§åˆ¶æ˜¯ä»€ä¹ˆç­”æ¡ˆ HTTPçŠ¶æ€ç 301å’Œ302çš„åŒºåˆ«301 æ°¸ä¹…é‡å®šå‘ 302 ä¸´æ—¶é‡å®šå‘ CAè¯ä¹¦æœ‰å“ªäº›å†…å®¹ é¢å‘æœºæ„ä¿¡æ¯ï¼ŒåŸŸåï¼Œå…¬é’¥ï¼Œæœ‰æ•ˆæœŸã€‚ è¯ä¹¦ä¸­è¿˜ä¼šæœ‰&#x3D;&#x3D;è¯ä¹¦ä¸­ä¿¡æ¯é€šè¿‡åŠ å¯†ç®—æ³•&#x3D;&#x3D;ç”Ÿæˆçš„æ•°å­—ç­¾åã€‚ æ•°å­—ç­¾åå°±æ˜¯ä¸€ç§ä¿è¯æ•°æ®å®Œæ•´æ€§ï¼ˆä¸è¢«ç¯¡æ”¹ï¼‰å’Œæœ‰æ•ˆæ€§ï¼ˆæ˜¯çœŸæ­£çš„ä½¿ç”¨è€…å‘æ¥çš„ï¼Œä¸æ˜¯ä¼ªé€ è€…å‘æ¥çš„ï¼‰çš„æ‰‹æ®µã€‚å®ƒä¸€èˆ¬æ˜¯é€šè¿‡ç»™æ•°æ®è®¡ç®—å‡ºçš„hashå€¼åŠ å¯†ç”Ÿæˆã€‚ SSLå’ŒTLSæ¡æ‰‹æµç¨‹ç­”æ¡ˆ SYNæ”»å‡»å¦‚ä½•é¿å…ç­”æ¡ˆ ICMPæ˜¯ä»€ä¹ˆç­”æ¡ˆ PINGçš„è¿‡ç¨‹ç­”æ¡ˆ MyISAMå’ŒInnoDBåŒºåˆ«https://www.jianshu.com/p/a957b18ba40d likeèƒ½ç”¨ç´¢å¼•å—https://blog.csdn.net/lan12334321234/article/details/70048833 ä¸‰èŒƒå¼BCèŒƒå¼https://my.oschina.net/liuyuantao/blog/778826 count(1) count(*) å’Œcount(ä¸»é”®)ã€count(éä¸»é”®)https://blog.csdn.net/iFuMI/article/details/77920767 ç­”æ¡ˆ2 union å’Œunion allhttps://www.cnblogs.com/zhangminghui/p/4408546.html SQLæ‰§è¡Œæ…¢ç‚¹åŸå› https://www.cnblogs.com/kubidemanong/p/10734045.html ä»€ä¹ˆæ˜¯èšç°‡ç´¢å¼•ï¼Œä¼˜åŠ¿ï¼ŒåŠ£åŠ¿ ç´¢å¼•è¦†ç›–æ˜¯ä»€ä¹ˆï¼Ÿ https://cloud.tencent.com/developer/article/1541265 äº‹åŠ¡çš„å››ä¸ªç‰¹æ€§ï¼Œå„è§£å†³äº†ä»€ä¹ˆé—®é¢˜ åŸå­æ€§ï¼šäº‹åŠ¡å†…æ“ä½œä¸å¯åˆ†å‰²ï¼Œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥ ä¸€è‡´æ€§ï¼šå¯¹äºä½¿ç”¨è€…æ¥è¯´ï¼Œæ»¡è¶³ä¸šåŠ¡ç‰¹å®šçš„è§„åˆ™ã€‚ éš”ç¦»æ€§ï¼šä¸€ä¸ªäº‹åŠ¡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¿®æ”¹äº†è¡¨ä¸­çš„æ•°æ®ï¼Œåœ¨è¿™ä¸ªäº‹åŠ¡æäº¤ä¹‹å‰ï¼Œå…¶ä»–äº‹åŠ¡å¯¹å®ƒçš„ä¿®æ”¹ä¸å¯è§ æŒä¹…æ€§ï¼šäº‹åŠ¡ä¸€æ—¦æäº¤å°±å¿…é¡»æŒä¹…åˆ°ç£ç›˜ã€‚ äº‹åŠ¡å¹¶å‘é—®é¢˜ è„è¯»ï¼šäº‹åŠ¡Aè¯»åˆ°äº†äº‹åŠ¡Bæœªæäº¤æ—¶ä¿®æ”¹çš„æ•°æ®ã€‚ ä¸å¯é‡å¤è¯»ï¼šäº‹åŠ¡Aåœ¨é‡å¤è¯»ç›¸åŒçš„æ•°æ®æ—¶ï¼Œæ•°æ®ä¸ä¸€è‡´ã€‚è¢«äº‹åŠ¡Bä¿®æ”¹æäº¤äº†ã€‚ å¹»è¯»ï¼šåœ¨åŒä¸€äº‹ç‰©ä¸­ï¼Œæ‰§è¡Œä¸¤æ¬¡åŒæ ·çš„sqlå¯èƒ½è¿”å›ä¸åŒçš„ç»“æœï¼Œç¬¬äºŒæ¬¡sqlè¿”å›çš„ç»“æœå¯èƒ½äº§ç”Ÿä¹‹å‰ä¸å­˜åœ¨çš„è¡Œã€‚ äº‹åŠ¡éš”ç¦»çº§åˆ«ï¼Œå½“å‰è¯»ï¼Ÿå¿«ç…§è¯»ï¼Ÿhttps://tech.meituan.com/2014/08/20/innodb-lock.html mysqlå¦‚ä½•ä¿è¯äº‹åŠ¡https://juejin.cn/post/6844903959677632519 mysql è®°å½•é”ã€é—´éš™é”ã€ä¸´é”®é”https://zhuanlan.zhihu.com/p/48269420 Mysqlä¸»ä»å¤åˆ¶https://zhuanlan.zhihu.com/p/48269420 Redis äº”ä¸ªæ•°æ®ç»“æ„ï¼Œç¼–ç https://zhuanlan.zhihu.com/p/145436045 http://zhangtielei.com/posts/blog-redis-ziplist.html Redisæ›´å¤šçš„æ•°æ®ç»“æ„https://mp.weixin.qq.com/s/zcWvzZTwUAm2NfAQhxMqeQ Rediså¦‚ä½•å†…å­˜å›æ”¶ï¼Œkvè¿‡æœŸç­–ç•¥https://zhuanlan.zhihu.com/p/145436045 LRUå’ŒLFUç®—æ³•https://www.jianshu.com/p/1f8e36285539 RDBå’ŒAOF AOFé‡å†™æ˜¯ä»€ä¹ˆ https://blog.csdn.net/ljheee/article/details/76284082 Rediså¦‚ä½•é«˜å¯ç”¨ ä¸»ä»å¤åˆ¶å¦‚ä½•å®ç° å“¨å…µæ˜¯ä»€ä¹ˆ è¯»å†™åˆ†ç¦»æ˜¯ä»€ä¹ˆ Redisé›†ç¾¤å¦‚ä½•Hash codisæ˜¯ä»€ä¹ˆ https://www.jianshu.com/p/5de2ab291696 è¿›ç¨‹é€šä¿¡æ–¹å¼ç­”æ¡ˆ æ­»é”æ˜¯ä»€ä¹ˆï¼Œæ¡ä»¶ï¼Œæ€ä¹ˆé¢„é˜²ç­”æ¡ˆ çº¿ç¨‹æ± æ˜¯ä»€ä¹ˆï¼Œå‚æ•°æœ‰å“ªäº›ï¼Œä»»åŠ¡æäº¤æµç¨‹æ˜¯ä»€ä¹ˆhttps://tech.meituan.com/2020/04/02/java-pooling-pratice-in-meituan.html æ ¸å¿ƒçº¿ç¨‹åœ¨ä»»åŠ¡æ‰§è¡Œå®Œä»¥åä¼šé€€å‡ºå—https://www.cnblogs.com/wqff-biubiu/p/12589450.html ç­”æ¡ˆ2 é”çš„ç±»å‹https://tech.meituan.com/2018/11/15/java-lock.html volatilehttps://blog.csdn.net/u010255818/article/details/65633033 Javaå†…å­˜æ¨¡å‹https://zhuanlan.zhihu.com/p/58387104 JVM å†…å­˜åŒºåŸŸhttps://zhuanlan.zhihu.com/p/58387104 MESIåè®®https://www.cnblogs.com/yanlong300/p/8986041.html ä¿¡å·é‡æ˜¯ä»€ä¹ˆç­”æ¡ˆ ä¿¡å·é‡å¦‚ä½•å®ç°ç­”æ¡ˆ æ¡ä»¶å˜é‡æ˜¯ä»€ä¹ˆç­”æ¡ˆ ç®¡ç¨‹æ˜¯ä»€ä¹ˆhttps://zhuanlan.zhihu.com/p/26757689 ThreadLocalæ˜¯ä»€ä¹ˆï¼Œå†…å­˜æ³„éœ²å—https://www.jianshu.com/p/1342a879f523 è½¯å¼•ç”¨ï¼Œå¼±å¼•ç”¨çš„ä¾‹å­https://www.cnblogs.com/dolphin0520/p/3784171.html NIOçš„Bufferã€Channelå’ŒSelectorhttps://www.jianshu.com/p/5442b04ccff8 https://segmentfault.com/a/1190000012316621 ç±»åŠ è½½è¿‡ç¨‹https://zhuanlan.zhihu.com/p/33509426 è°ˆè°ˆåƒåœ¾å›æ”¶ç®—æ³•ç­”æ¡ˆ MMAPhttps://www.cnblogs.com/huxiao-tee/p/4660352.html ç†”æ–­é™çº§é™æµhttps://my.oschina.net/u/4544836/blog/4474352 ç¼“å­˜ç©¿é€ï¼Œç¼“å­˜å‡»ç©¿ï¼Œç¼“å­˜é›ªå´©https://blog.csdn.net/zeb_perfect/article/details/54135506 Stringã€ String Builderã€ Stringbuffer åŒºåˆ«https://segmentfault.com/a/1190000022038238 https://blog.csdn.net/xupeng874395012/article/details/70238863 åŠ¨æ€ä»£ç†çš„åŸç†ï¼ŒJDKå’ŒCGlib çš„åŒºåˆ«https://blog.csdn.net/u013126379/article/details/52121096?utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromMachineLearnPai2%7Edefault-2.control&amp;dist_request_id=&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromMachineLearnPai2%7Edefault-2.control åƒµå°¸è¿›ç¨‹å’Œå­¤å„¿è¿›ç¨‹https://www.cnblogs.com/anker/p/3271773.html æŒç»­é›†æˆ vs. æŒç»­äº¤ä»˜ vs. æŒç»­éƒ¨ç½²https://zhuanlan.zhihu.com/p/103554905","categories":[{"name":"å®ä¹ ","slug":"å®ä¹ ","permalink":"http://fightinggg.github.io/indigo/categories/%E5%AE%9E%E4%B9%A0/"}],"tags":[]},{"title":"Kafkaæƒå¨æŒ‡å—","slug":"é˜Ÿåˆ—/Kafkaæƒå¨æŒ‡å—/index","date":"2021-04-07T07:58:00.000Z","updated":"2021-04-07T07:58:00.000Z","comments":true,"path":"QR6OSO.html","link":"","permalink":"http://fightinggg.github.io/indigo/QR6OSO.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ç”±äºè¿™æ˜¯ç¬¬ä¸‰ç¯‡Kafkaæ–¹é¢çš„å­¦ä¹ èµ„æºï¼Œå‚è§ æ·±å…¥ç†è§£Kafka-æ ¸å¿ƒè®¾è®¡ä¸å®è·µåŸç†å’ŒKafkaï¼Œæ‰€ä»¥ç¬”è€…å¯¹ä¸€äº›é‡å¤çš„éƒ¨åˆ†è¿›è¡Œäº†è·³è¿‡ï¼Œè¿™é‡Œåªå†™ä¸€äº›å¾ˆé‡è¦çš„å†…å®¹ä»¥åŠæœ‰è¶£çš„çŸ¥è¯†ã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ç”±äºè¿™æ˜¯ç¬¬ä¸‰ç¯‡Kafkaæ–¹é¢çš„å­¦ä¹ èµ„æºï¼Œå‚è§ æ·±å…¥ç†è§£Kafka-æ ¸å¿ƒè®¾è®¡ä¸å®è·µåŸç†å’ŒKafkaï¼Œæ‰€ä»¥ç¬”è€…å¯¹ä¸€äº›é‡å¤çš„éƒ¨åˆ†è¿›è¡Œäº†è·³è¿‡ï¼Œè¿™é‡Œåªå†™ä¸€äº›å¾ˆé‡è¦çš„å†…å®¹ä»¥åŠæœ‰è¶£çš„çŸ¥è¯†ã€‚ ç¬¬ä¸‰ç«  Kafkaç”Ÿäº§è€…-å‘kafkaå†™å…¥æ•°æ®ç”Ÿäº§è€…é…ç½®acks(å†é‡å¤ä¸€éè¿™ä¸ªé…ç½®) ackså‚æ•°æŒ‡å®šäº†å¿…é¡»è¦æœ‰å¤šå°‘ä¸ªåˆ†åŒºå‰¯æœ¬æ”¶åˆ°æ¶ˆæ¯,ç”Ÿäº§è€…æ‰ä¼šè®¤ä¸ºæ¶ˆæ¯å†™å…¥æ˜¯æˆåŠŸçš„ã€‚è¿™ä¸ªå‚æ•°å¯¹æ¶ˆæ¯ä¸¢å¤±çš„å¯èƒ½æ€§æœ‰é‡è¦å½±å“ã€‚è¯¥å‚æ•°æœ‰å¦‚ä¸‹é€‰é¡¹ å¦‚æœacks&#x3D;0,ç”Ÿäº§è€…åœ¨æˆåŠŸå†™å…¥æ¶ˆæ¯ä¹‹å‰ä¸ä¼šç­‰å¾…ä»»ä½•æ¥è‡ªæœåŠ¡å™¨çš„å“åº”ã€‚ä¹Ÿå°±æ˜¯è¯´å¦‚æœå½“ä¸­å‡ºç°äº†é—®é¢˜,å¯¼è‡´æœåŠ¡å™¨æ²¡æœ‰æ”¶åˆ°æ¶ˆæ¯,é‚£ä¹ˆç”Ÿäº§è€…å°±æ— ä»å¾—çŸ¥,æ¶ˆæ¯ä¹Ÿå°±ä¸¢å¤±äº†ã€‚ä¸è¿‡,å› ä¸ºç”Ÿäº§è€…ä¸éœ€è¦ç­‰å¾…æœåŠ¡å™¨çš„å“åº”,æ‰€ä»¥å®ƒå¯ä»¥ä»¥ç½‘ç»œèƒ½å¤Ÿæ”¯æŒçš„æœ€å¤§é€Ÿåº¦å‘é€æ¶ˆæ¯,ä»è€Œè¾¾åˆ°å¾ˆé«˜çš„ååé‡ å¦‚æœacks&#x3D;1,åªè¦é›†ç¾¤çš„é¦–é¢†èŠ‚ç‚¹æ”¶åˆ°æ¶ˆæ¯,ç”Ÿäº§è€…å°±ä¼šæ”¶åˆ°ä¸€ä¸ªæ¥è‡ªæœåŠ¡å™¨çš„æˆåŠŸå“åº”ã€‚å¦‚æœæ¶ˆæ¯æ— æ³•åˆ°è¾¾é¦–é¢†èŠ‚ç‚¹(æ¯”å¦‚é¦–é¢†èŠ‚ç‚¹å´©æºƒ,æ–°çš„é¦–é¢†è¿˜æ²¡æœ‰è¢«é€‰ä¸¾å‡ºæ¥)ç”Ÿäº§è€…ä¼šæ”¶åˆ°ä¸€ä¸ªé”™è¯¯å“åº”,ä¸ºäº†é¿å…æ•°æ®ä¸¢å¤±,ç”Ÿäº§è€…ä¼šé‡å‘æ¶ˆæ¯ã€‚ä¸è¿‡,å¦‚æœä¸€ä¸ªæ²¡æœ‰æ”¶åˆ°æ¶ˆæ¯çš„èŠ‚ç‚¹æˆä¸ºæ–°é¦–é¢†,æ¶ˆæ¯è¿˜æ˜¯ä¼šä¸¢å¤±ã€‚è¿™ä¸ªæ—¶å€™çš„ååé‡å–å†³äºä½¿ç”¨çš„æ˜¯åŒæ­¥å‘é€è¿˜æ˜¯å¼‚æ­¥å‘é€ã€‚å¦‚æœè®©å‘é€å®¢æˆ·ç«¯ç­‰å¾…æœåŠ¡å™¨çš„å“åº”(é€šè¿‡è°ƒç”¨ Futureå¯¹è±¡çš„get()æ–¹æ³•),æ˜¾ç„¶ä¼šå¢åŠ å»¶è¿Ÿ(åœ¨ç½‘ç»œä¸Šä¼ è¾“ä¸€ä¸ªæ¥å›çš„å»¶é€€)ã€‚å¦‚æœå®¢æˆ·ç«¯ä½¿ç”¨å›è°ƒ,å»¶è¿Ÿé—®é¢˜å°±å¯ä»¥å¾—åˆ°ç¼“è§£,ä¸è¿‡ååé‡è¿˜æ˜¯ä¼šå—å‘é€ä¸­æ¶ˆæ¯æ•°é‡çš„é™åˆ¶(æ¯”å¦‚,ç”Ÿäº§è€…åœ¨æ”¶åˆ°æœåŠ¡å™¨å“åº”ä¹‹å‰å¯ä»¥å‘é€å¤šå°‘ä¸ªæ¶ˆæ¯)ã€‚ å¦‚æœacks&#x3D;all,åªæœ‰å½“æ‰€æœ‰å‚ä¸å¤åˆ¶çš„èŠ‚ç‚¹å…¨éƒ¨æ”¶åˆ°æ¶ˆæ¯æ—¶,ç”Ÿäº§è€…ã‚ªä¼šæ”¶åˆ°ä¸€ä¸ªæ¥è‡ªæœåŠ¡å™¨çš„æˆåŠŸå“åº”ã€‚è¿™ç§æ¨¡å¼æ˜¯æœ€å®‰å…¨çš„,å®ƒå¯ä»¥ä¿è¯ä¸æ­¢ä¸€ä¸ªæœåŠ¡å™¨æ”¶åˆ°æ¶ˆæ¯,å°±ç®—æœ‰æœåŠ¡å™¨å‘ç”Ÿå´©æºƒ,æ•´ä¸ªé›†ç¾¤ä»ç„¶å¯ä»¥è¿è¡Œ(ç¬¬5ç« å°†è®¨è®ºæ›´å¤šçš„ç»†èŠ‚)ã€‚ä¸è¿‡,å®ƒçš„å»¶è¿Ÿæ¯”acks&#x3D;1æ—¶æ›´é«˜,å› ä¸ºæˆ‘ä»¬è¦ç­‰å¾…ä¸åªä¸€ä¸ªæœåŠ¡å™¨èŠ‚ç‚¹æ¥æ”¶æ¶ˆæ¯ Page: 36 max.in.flight.requests.per.connectionè¿™ä¸ªå‚æ•°å½±å“äº†æ¶ˆæ¯èƒ½å¦ä¹±åº è¯¥å‚æ•°æŒ‡å®šäº†ç”Ÿäº§è€…åœ¨æ”¶åˆ°æœåŠ¡å™¨å“åº”ä¹‹å‰å¯ä»¥å‘é€å¤šå°‘ä¸ªæ¶ˆæ¯ã€‚å®ƒçš„å€¼è¶Šé«˜,å°±ä¼šå ç”¨è¶Šå¤šçš„å†…å­˜,ä¸è¿‡ä¹Ÿä¼šæå‡ååé‡ã€‚æŠŠå®ƒè®¾ä¸º1å¯ä»¥ä¿è¯æ¶ˆæ¯æ˜¯æŒ‰ç…§å‘é€çš„é¡ºåºå†™å…¥æœåŠ¡å™¨çš„,å³ä½¿å‘ç”Ÿäº†é‡è¯• Kafka å¯ä»¥ä¿è¯åŒä¸€ä¸ªåˆ†åŒºé‡Œçš„æ¶ˆæ¯æ˜¯æœ‰åºçš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœç”Ÿäº§è€…æŒ‰ç…§ ä¸€å®šçš„é¡ºåºå‘é€æ¶ˆæ¯ï¼Œbroker å°±ä¼šæŒ‰ç…§è¿™ä¸ªé¡ºåºæŠŠå®ƒä»¬å†™å…¥åˆ†åŒºï¼Œæ¶ˆè´¹è€…ä¹Ÿ ä¼šæŒ‰ç…§åŒæ ·çš„é¡ºåºè¯»å–å®ƒä»¬ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œé¡ºåºæ˜¯éå¸¸é‡è¦çš„ã€‚ä¾‹å¦‚ï¼Œå¾€ ä¸€ä¸ªè´¦æˆ·å­˜å…¥ 100 å…ƒå†å–å‡ºæ¥ï¼Œè¿™ä¸ªä¸å…ˆå–é’±å†å­˜é’±æ˜¯æˆªç„¶ä¸åŒçš„ï¼ä¸è¿‡ï¼Œ æœ‰äº›åœºæ™¯å¯¹é¡ºåºä¸æ˜¯å¾ˆæ•æ„Ÿã€‚ å¦‚æœæŠŠ retries è®¾ä¸ºéé›¶æ•´æ•°ï¼ŒåŒæ—¶æŠŠ max.in.flight.requests.per.connection è®¾ä¸ºæ¯” 1 å¤§çš„æ•°ï¼Œé‚£ä¹ˆï¼Œå¦‚æœç¬¬ä¸€ä¸ªæ‰¹æ¬¡æ¶ˆæ¯å†™å…¥å¤±è´¥ï¼Œè€Œç¬¬äºŒä¸ªæ‰¹æ¬¡å†™å…¥ æˆåŠŸï¼Œbroker ä¼šé‡è¯•å†™å…¥ç¬¬ä¸€ä¸ªæ‰¹æ¬¡ã€‚å¦‚æœæ­¤æ—¶ç¬¬ä¸€ä¸ªæ‰¹æ¬¡ä¹Ÿå†™å…¥æˆåŠŸï¼Œé‚£ ä¹ˆä¸¤ä¸ªæ‰¹æ¬¡çš„é¡ºåºå°±åè¿‡æ¥äº†ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœæŸäº›åœºæ™¯è¦æ±‚æ¶ˆæ¯æ˜¯æœ‰åºçš„ï¼Œé‚£ä¹ˆæ¶ˆæ¯æ˜¯å¦å†™å…¥æˆåŠŸä¹Ÿæ˜¯ å¾ˆå…³é”®çš„ï¼Œæ‰€ä»¥ä¸å»ºè®®æŠŠ retries è®¾ä¸º 0ã€‚å¯ä»¥æŠŠ max.in.flight.requests. per.connection è®¾ä¸º 1ï¼Œè¿™æ ·åœ¨ç”Ÿäº§è€…å°è¯•å‘é€ç¬¬ä¸€æ‰¹æ¶ˆæ¯æ—¶ï¼Œå°±ä¸ä¼šæœ‰å…¶ ä»–çš„æ¶ˆæ¯å‘é€ç»™ brokerã€‚ä¸è¿‡è¿™æ ·ä¼šä¸¥é‡å½±å“ç”Ÿäº§è€…çš„ååé‡ï¼Œæ‰€ä»¥åªæœ‰åœ¨ å¯¹æ¶ˆæ¯çš„é¡ºåºæœ‰ä¸¥æ ¼è¦æ±‚çš„æƒ…å†µä¸‹æ‰èƒ½è¿™ä¹ˆåšã€‚ ç¬¬å››ç«  Kafkaæ¶ˆè´¹è€…-ä»Kafkaè¯»å–æ•°æ®å¦‚æœä¸€ä¸ªæ¶ˆè´¹è€…ç»„ä¸­çš„æ¶ˆè´¹è€…æ•°é‡å‘ç”Ÿäº†å˜åŒ–ï¼Œåˆ™ä¼šå¼•å‘Kafkaåˆ†åŒºçš„é‡åˆ†é…ï¼Œè¿™è¢«ç§°ä¸ºå†å‡è¡¡ å†å‡è¡¡éå¸¸ é‡è¦ï¼Œå®ƒä¸ºæ¶ˆè´¹è€…ç¾¤ç»„å¸¦æ¥äº†é«˜å¯ç”¨æ€§å’Œä¼¸ç¼©æ€§ï¼ˆæˆ‘ä»¬å¯ä»¥æ”¾å¿ƒåœ°æ·»åŠ æˆ–ç§»é™¤æ¶ˆè´¹è€…ï¼‰ï¼Œ ä¸è¿‡åœ¨æ­£å¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¹¶ä¸å¸Œæœ›å‘ç”Ÿè¿™æ ·çš„è¡Œä¸ºã€‚åœ¨å†å‡è¡¡æœŸé—´ï¼Œæ¶ˆè´¹è€…æ— æ³•è¯»å–æ¶ˆ æ¯ï¼Œé€ æˆæ•´ä¸ªç¾¤ç»„ä¸€å°æ®µæ—¶é—´çš„ä¸å¯ç”¨ã€‚å¦å¤–ï¼Œå½“åˆ†åŒºè¢«é‡æ–°åˆ†é…ç»™å¦ä¸€ä¸ªæ¶ˆè´¹è€…æ—¶ï¼Œæ¶ˆ è´¹è€…å½“å‰çš„è¯»å–çŠ¶æ€ä¼šä¸¢å¤±ï¼Œå®ƒæœ‰å¯èƒ½è¿˜éœ€è¦å»åˆ·æ–°ç¼“å­˜ï¼Œåœ¨å®ƒé‡æ–°æ¢å¤çŠ¶æ€ä¹‹å‰ä¼šæ‹–æ…¢ åº”ç”¨ç¨‹åºã€‚ æ¶ˆè´¹è€…éœ€è¦å‘brokerçš„åè°ƒå™¨å‘é€å¿ƒè·³ï¼Œå¦‚æœæ¶ˆè´¹è€…é•¿æ—¶é—´ä¸å‘ï¼Œåˆ™è¢«è§†ä¸ºä¸æ´»è·ƒï¼Œä¼šè§¦å‘åˆ†åŒºçš„é‡åˆ†é…ã€‚ 4.4 è°æ¥æ‰§è¡Œrebalanceå’Œconsumer groupç®¡ç†ï¼Ÿ Kafkaæä¾›äº†ä¸€ä¸ªè§’è‰²ï¼šcoordinatoræ¥æ‰§è¡Œå¯¹äºconsumer groupçš„ç®¡ç†ã€‚å¦ç‡è¯´kafkaå¯¹äºcoordinatorçš„è®¾è®¡ä¸ä¿®æ”¹æ˜¯ä¸€ä¸ªå¾ˆé•¿çš„æ•…äº‹ã€‚æœ€æ–°ç‰ˆæœ¬çš„coordinatorä¹Ÿä¸æœ€åˆçš„è®¾è®¡æœ‰äº†å¾ˆå¤§çš„ä¸åŒã€‚è¿™é‡Œæˆ‘åªæƒ³æåŠä¸¤æ¬¡æ¯”è¾ƒå¤§çš„æ”¹å˜ã€‚ é¦–å…ˆæ˜¯0.8ç‰ˆæœ¬çš„coordinatorï¼Œé‚£æ—¶å€™çš„coordinatoræ˜¯ä¾èµ–zookeeperæ¥å®ç°å¯¹äºconsumer groupçš„ç®¡ç†çš„ã€‚Coordinatorç›‘å¬zookeeperçš„&#x2F;consumers&#x2F;&#x2F;idsçš„å­èŠ‚ç‚¹å˜åŒ–ä»¥åŠ&#x2F;brokers&#x2F;topics&#x2F;æ•°æ®å˜åŒ–æ¥åˆ¤æ–­æ˜¯å¦éœ€è¦è¿›è¡Œrebalanceã€‚groupä¸‹çš„æ¯ä¸ªconsumeréƒ½è‡ªå·±å†³å®šè¦æ¶ˆè´¹å“ªäº›åˆ†åŒºï¼Œå¹¶æŠŠè‡ªå·±çš„å†³å®šæŠ¢å…ˆåœ¨zookeeperä¸­çš„&#x2F;consumers&#x2F;&#x2F;owners&#x2F;&#x2F;ä¸‹æ³¨å†Œã€‚å¾ˆæ˜æ˜¾ï¼Œè¿™ç§æ–¹æ¡ˆè¦ä¾èµ–äºzookeeperçš„å¸®åŠ©ï¼Œè€Œä¸”æ¯ä¸ªconsumeræ˜¯å•ç‹¬åšå†³å®šçš„ï¼Œæ²¡æœ‰é‚£ç§â€œå¤§å®¶å±äºä¸€ä¸ªç»„ï¼Œè¦åå•†åšäº‹æƒ…â€çš„ç²¾ç¥ã€‚ åŸºäºè¿™äº›æ½œåœ¨çš„å¼Šç«¯ï¼Œ0.9ç‰ˆæœ¬çš„kafkaæ”¹è¿›äº†coordinatorçš„è®¾è®¡ï¼Œæå‡ºäº†group coordinatorâ€”â€”æ¯ä¸ªconsumer groupéƒ½ä¼šè¢«åˆ†é…ä¸€ä¸ªè¿™æ ·çš„coordinatorç”¨äºç»„ç®¡ç†å’Œä½ç§»ç®¡ç†ã€‚è¿™ä¸ªgroup coordinatoræ¯”åŸæ¥æ‰¿æ‹…äº†æ›´å¤šçš„è´£ä»»ï¼Œæ¯”å¦‚ç»„æˆå‘˜ç®¡ç†ã€ä½ç§»æäº¤ä¿æŠ¤æœºåˆ¶ç­‰ã€‚å½“æ–°ç‰ˆæœ¬consumer groupçš„ç¬¬ä¸€ä¸ªconsumerå¯åŠ¨çš„æ—¶å€™ï¼Œå®ƒä¼šå»å’Œkafka serverç¡®å®šè°æ˜¯å®ƒä»¬ç»„çš„coordinatorã€‚ä¹‹åè¯¥groupå†…çš„æ‰€æœ‰æˆå‘˜éƒ½ä¼šå’Œè¯¥coordinatorè¿›è¡Œåè°ƒé€šä¿¡ã€‚æ˜¾è€Œæ˜“è§ï¼Œè¿™ç§coordinatorè®¾è®¡ä¸å†éœ€è¦zookeeperäº†ï¼Œæ€§èƒ½ä¸Šå¯ä»¥å¾—åˆ°å¾ˆå¤§çš„æå‡ã€‚åé¢çš„æ‰€æœ‰éƒ¨åˆ†æˆ‘ä»¬éƒ½å°†è®¨è®ºæœ€æ–°ç‰ˆæœ¬çš„coordinatorè®¾è®¡ã€‚ åŸæ–‡é“¾æ¥ï¼š https://www.cnblogs.com/huxi2b/p/6223228.html æ¶ˆè´¹è€…é…ç½® auto.offset.reset è¯¥å±æ€§æŒ‡å®šäº†æ¶ˆè´¹è€…åœ¨è¯»å–ä¸€ä¸ªæ²¡æœ‰åç§»é‡çš„åˆ†åŒºæˆ–è€…åç§»é‡æ— æ•ˆçš„æƒ…å†µä¸‹ï¼ˆå› æ¶ˆè´¹è€…é•¿ æ—¶é—´å¤±æ•ˆï¼ŒåŒ…å«åç§»é‡çš„è®°å½•å·²ç»è¿‡æ—¶å¹¶è¢«åˆ é™¤ï¼‰è¯¥ä½œä½•å¤„ç†ã€‚å®ƒçš„é»˜è®¤å€¼æ˜¯ latestï¼Œæ„ æ€æ˜¯è¯´ï¼Œåœ¨åç§»é‡æ— æ•ˆçš„æƒ…å†µä¸‹ï¼Œæ¶ˆè´¹è€…å°†ä»æœ€æ–°çš„è®°å½•å¼€å§‹è¯»å–æ•°æ®ï¼ˆåœ¨æ¶ˆè´¹è€…å¯åŠ¨ä¹‹ åç”Ÿæˆçš„è®°å½•ï¼‰ã€‚å¦ä¸€ä¸ªå€¼æ˜¯ earliestï¼Œæ„æ€æ˜¯è¯´ï¼Œåœ¨åç§»é‡æ— æ•ˆçš„æƒ…å†µä¸‹ï¼Œæ¶ˆè´¹è€…å°†ä» èµ·å§‹ä½ç½®è¯»å–åˆ†åŒºçš„è®°å½•ã€‚ enable.auto.commit æˆ‘ä»¬ç¨åå°†ä»‹ç»å‡ ç§ä¸åŒçš„æäº¤åç§»é‡çš„æ–¹å¼ã€‚è¯¥å±æ€§æŒ‡å®šäº†æ¶ˆè´¹è€…æ˜¯å¦è‡ªåŠ¨æäº¤åç§» é‡ï¼Œé»˜è®¤å€¼æ˜¯ trueã€‚ä¸ºäº†å°½é‡é¿å…å‡ºç°é‡å¤æ•°æ®å’Œæ•°æ®ä¸¢å¤±ï¼Œå¯ä»¥æŠŠå®ƒè®¾ä¸º falseï¼Œç”±è‡ª å·±æ§åˆ¶ä½•æ—¶æäº¤åç§»é‡ã€‚å¦‚æœæŠŠå®ƒè®¾ä¸º trueï¼Œè¿˜å¯ä»¥é€šè¿‡é…ç½® auto.commit.interval.ms å±æ€§æ¥æ§åˆ¶æäº¤çš„é¢‘ç‡ã€‚ Range: è¯¥ç­–ç•¥ä¼šæŠŠä¸»é¢˜çš„è‹¥å¹²ä¸ªè¿ç»­çš„åˆ†åŒºåˆ†é…ç»™æ¶ˆè´¹è€…ã€‚å‡è®¾æ¶ˆè´¹è€… C1 å’Œæ¶ˆè´¹è€… C2 åŒæ—¶ è®¢é˜…äº†ä¸»é¢˜ T1 å’Œä¸»é¢˜ T2ï¼Œå¹¶ä¸”æ¯ä¸ªä¸»é¢˜æœ‰ 3 ä¸ªåˆ†åŒºã€‚é‚£ä¹ˆæ¶ˆè´¹è€… C1 æœ‰å¯èƒ½åˆ†é…åˆ°è¿™ ä¸¤ä¸ªä¸»é¢˜çš„åˆ†åŒº 0 å’Œåˆ†åŒº 1ï¼Œè€Œæ¶ˆè´¹è€… C2 åˆ†é…åˆ°è¿™ä¸¤ä¸ªä¸»é¢˜çš„åˆ†åŒº 2ã€‚å› ä¸ºæ¯ä¸ªä¸»é¢˜ æ‹¥æœ‰å¥‡æ•°ä¸ªåˆ†åŒºï¼Œè€Œåˆ†é…æ˜¯åœ¨ä¸»é¢˜å†…ç‹¬ç«‹å®Œæˆçš„ï¼Œç¬¬ä¸€ä¸ªæ¶ˆè´¹è€…æœ€ååˆ†é…åˆ°æ¯”ç¬¬äºŒä¸ªæ¶ˆ è´¹è€…æ›´å¤šçš„åˆ†åŒºã€‚åªè¦ä½¿ç”¨äº† Range ç­–ç•¥ï¼Œè€Œä¸”åˆ†åŒºæ•°é‡æ— æ³•è¢«æ¶ˆè´¹è€…æ•°é‡æ•´é™¤ï¼Œå°±ä¼š å‡ºç°è¿™ç§æƒ…å†µã€‚ RoundRobin: è¯¥ç­–ç•¥æŠŠä¸»é¢˜çš„æ‰€æœ‰åˆ†åŒºé€ä¸ªåˆ†é…ç»™æ¶ˆè´¹è€…ã€‚å¦‚æœä½¿ç”¨ RoundRobin ç­–ç•¥æ¥ç»™æ¶ˆè´¹è€… C1 å’Œæ¶ˆè´¹è€… C2 åˆ†é…åˆ†åŒºï¼Œé‚£ä¹ˆæ¶ˆè´¹è€… C1 å°†åˆ†åˆ°ä¸»é¢˜ T1 çš„åˆ†åŒº 0 å’Œåˆ†åŒº 2 ä»¥åŠä¸»é¢˜ T2 çš„åˆ†åŒº 1ï¼Œæ¶ˆè´¹è€… C2 å°†åˆ†é…åˆ°ä¸»é¢˜ T1 çš„åˆ†åŒº 1 ä»¥åŠä¸»é¢˜ T2 çš„åˆ†åŒº 0 å’Œåˆ†åŒº 2ã€‚ä¸€èˆ¬ æ¥è¯´ï¼Œå¦‚æœæ‰€æœ‰æ¶ˆè´¹è€…éƒ½è®¢é˜…ç›¸åŒçš„ä¸»é¢˜ï¼ˆè¿™ç§æƒ…å†µå¾ˆå¸¸è§ï¼‰ï¼ŒRoundRobin ç­–ç•¥ä¼šç»™æ‰€ æœ‰æ¶ˆè´¹è€…åˆ†é…ç›¸åŒæ•°é‡çš„åˆ†åŒºï¼ˆæˆ–æœ€å¤šå°±å·®ä¸€ä¸ªåˆ†åŒºï¼‰ã€‚ è‡ªåŠ¨æäº¤åç§»é‡ç®€å•ï¼Œä½†æ˜¯åæœæ˜¯æ— æ³•é¿å…é‡å¤æ¶ˆæ¯ æ‰‹åŠ¨æäº¤åç§»é‡åŒæ­¥æäº¤commitSyncï¼š å½±å“ååï¼Œåªè¦æ²¡æœ‰å‘ç”Ÿä¸å¯æ¢å¤çš„é”™è¯¯ï¼Œä¸€ç›´å°è¯•ç›´è‡³æäº¤æˆåŠŸ å¼‚æ­¥æäº¤commitASyncï¼š å¼‚æ­¥æäº¤åˆä¼šå¼•å‘ä¸€ä¸ªæ–°çš„é—®é¢˜ï¼Œå¼‚æ­¥æäº¤å¤±è´¥äº†æ€ä¹ˆåŠï¼Ÿ åœ¨æˆåŠŸæäº¤æˆ–ç¢°åˆ°æ— æ³•æ¢å¤çš„é”™è¯¯ä¹‹å‰ï¼ŒcommitSync() ä¼šä¸€ç›´é‡è¯•ï¼Œä½†æ˜¯ commitAsync() ä¸ä¼šï¼Œè¿™ä¹Ÿæ˜¯ commitAsync() ä¸å¥½çš„ä¸€ä¸ªåœ°æ–¹ã€‚å®ƒä¹‹æ‰€ä»¥ä¸è¿›è¡Œé‡è¯•ï¼Œæ˜¯å› ä¸ºåœ¨å®ƒæ”¶åˆ° æœåŠ¡å™¨å“åº”çš„æ—¶å€™ï¼Œå¯èƒ½æœ‰ä¸€ä¸ªæ›´å¤§çš„åç§»é‡å·²ç»æäº¤æˆåŠŸã€‚ è§£å†³åŠæ³•ï¼š æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå•è°ƒé€’å¢çš„åºåˆ—å·æ¥ç»´æŠ¤å¼‚æ­¥æäº¤çš„é¡ºåºã€‚åœ¨æ¯æ¬¡æäº¤å ç§»é‡ä¹‹åæˆ–åœ¨å›è°ƒé‡Œæäº¤åç§»é‡æ—¶é€’å¢åºåˆ—å·ã€‚åœ¨è¿›è¡Œé‡è¯•å‰ï¼Œå…ˆæ£€æŸ¥å›è°ƒ çš„åºåˆ—å·å’Œå³å°†æäº¤çš„åç§»é‡æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœç›¸ç­‰ï¼Œè¯´æ˜æ²¡æœ‰æ–°çš„æäº¤ï¼Œé‚£ä¹ˆå¯ä»¥å®‰å…¨åœ°è¿›è¡Œé‡è¯•ã€‚å¦‚æœåºåˆ—å·æ¯”è¾ƒå¤§ï¼Œè¯´æ˜æœ‰ä¸€ä¸ªæ–°çš„æäº¤å·²ç»å‘é€ å‡ºå»äº†ï¼Œåº”è¯¥åœæ­¢é‡è¯•ã€‚ Page: 60 ç¬”è€…å¯¹è¿™ä¸ªè§£å†³åŠæ³•æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¼‚æ­¥æäº¤è¯·æ±‚å‘é€äº†ä¹±åºæ€ä¹ˆåŠï¼Ÿ è€ƒè™‘ä¸€æ¬¡å¼‚æ­¥æäº¤è¯·æ±‚Aï¼Œç„¶åç”±äºç½‘ç»œé˜»å¡ï¼Œå¯¼è‡´è¿™ä¸ªæäº¤è¶…æ—¶äº†ï¼Œç„¶åå»æ£€æŸ¥å‘ç°åºåˆ—å·æ²¡å˜ï¼Œé‡è¯•æäº¤è¯·æ±‚Aï¼Œç”±äºç¬¬ä¸€æ¬¡æäº¤è¯·æ±‚Aå’Œç¬¬äºŒæ¬¡æäº¤è¯·æ±‚Aç›´æ¥ç»è¿‡äº†ä¸€æ®µæ—¶é—´ï¼Œæäº¤è¯·æ±‚Bå‡ºç°äº†ï¼Œç´§è·Ÿç€æäº¤è¯·æ±‚Aå‘é€äº†å‡ºå»ï¼Œç»“æœæäº¤Bå…ˆåˆ°è¾¾ã€‚ è€ƒè™‘åˆ°Kafkaä½¿ç”¨çš„æ˜¯TCPåè®®ï¼Œå…ˆå‘çš„æ¶ˆæ¯ä¸€å®šå…ˆåˆ°ï¼Œè¿™ä¸ªé—®é¢˜å°±è§£å†³äº†ã€‚ ä½†æ˜¯ï¼Œå‘è¯·æ±‚å’Œå¢åŠ åç§»é‡æ˜¯ä¸¤ä¸ªæ­¥éª¤ï¼Œè¿™é‡Œæ¶‰åŠåˆ°å¹¶å‘é—®é¢˜ï¼Œå¦‚æœè¯·æ±‚Bå…ˆå‘äº†è¯·æ±‚ï¼Œåå¢åŠ åç§»é‡ï¼Œæ­¤æ—¶å‘ç”Ÿçº¿ç¨‹è°ƒåº¦ï¼Œè¯·æ±‚Aå‘äº†å‡ºå»ï¼Œé‚£è¿˜æ˜¯ä¼šå¯¼è‡´ä¸€æ ·çš„é—®é¢˜ï¼Œ æ‰€ä»¥ç¬”è€…è®¤ä¸ºè¿™é‡Œéœ€è¦åŠ é”ã€‚ ç»„åˆåŒæ­¥ä¸å¼‚æ­¥æäº¤æ¶ˆè´¹è€…åœ¨ä¸‹çº¿çš„æ—¶å€™ï¼Œä¹Ÿæ˜¯éœ€è¦æäº¤åç§»é‡çš„ 123456789101112131415161718192021try &#123; while (true) &#123; ConsumerRecords&lt;String, String&gt; records = consumer.poll(100); for (ConsumerRecord&lt;String, String&gt; record : records) &#123; System.out.println( &quot;topic = %s, partition = %s, offset = %d,&quot; + &quot;customer = %s, country = %s\\n&quot;, record.topic(), record.partition(), record.offset(), record.key(), record.value()); &#125; consumer.commitAsync(); //âŠ &#125;&#125; catch (Exception e) &#123; log.error(&quot;Unexpected error&quot;, e);&#125; finally &#123; try &#123; consumer.commitSync(); //â‹ &#125; finally &#123; consumer.close(); &#125;&#125; âŠ å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œæˆ‘ä»¬ä½¿ç”¨ commitAsync() æ–¹æ³•æ¥æäº¤ã€‚è¿™æ ·é€Ÿåº¦æ›´å¿«ï¼Œè€Œä¸”å³ä½¿è¿™æ¬¡æäº¤å¤±è´¥ï¼Œä¸‹ä¸€æ¬¡æäº¤å¾ˆå¯èƒ½ä¼šæˆåŠŸã€‚ â‹ å¦‚æœç›´æ¥å…³é—­æ¶ˆè´¹è€…ï¼Œå°±æ²¡æœ‰æ‰€è°“çš„â€œä¸‹ä¸€æ¬¡æäº¤â€äº†ã€‚ä½¿ç”¨ commitSync() æ–¹æ³•ä¼šä¸€ç›´é‡è¯•ï¼Œç›´åˆ°æäº¤æˆåŠŸæˆ–å‘ç”Ÿæ— æ³•æ¢å¤çš„é”™è¯¯ã€‚ æäº¤ç‰¹å®šçš„åç§»é‡ æ¶ˆè´¹è€… API å…è®¸åœ¨è°ƒç”¨ commitSync() å’Œ commitAsync() æ–¹æ³•æ—¶ä¼ è¿›å»å¸Œæœ›æäº¤ çš„åˆ†åŒºå’Œåç§»é‡çš„ mapã€‚å‡è®¾ä½ å¤„ç†äº†åŠä¸ªæ‰¹æ¬¡çš„æ¶ˆæ¯ï¼Œæœ€åä¸€ä¸ªæ¥è‡ªä¸»é¢˜â€œcustomersâ€ åˆ†åŒº 3 çš„æ¶ˆæ¯çš„åç§»é‡æ˜¯ 5000ï¼Œä½ å¯ä»¥è°ƒç”¨ commitSync() æ–¹æ³•æ¥æäº¤å®ƒã€‚ä¸è¿‡ï¼Œå› ä¸ºæ¶ˆ è´¹è€…å¯èƒ½ä¸åªè¯»å–ä¸€ä¸ªåˆ†åŒºï¼Œä½ éœ€è¦è·Ÿè¸ªæ‰€æœ‰åˆ†åŒºçš„åç§»é‡ï¼Œæ‰€ä»¥åœ¨è¿™ä¸ªå±‚é¢ä¸Šæ§åˆ¶åç§» é‡çš„æäº¤ä¼šè®©ä»£ç å˜å¤æ‚ã€‚ ç‹¬ç«‹çš„æ¶ˆè´¹è€…æœ‰æ—¶å€™æˆ‘ä»¬ä¸éœ€è¦æ¶ˆè´¹è€…ç»„ï¼Œæˆ‘ä»¬åªæœ‰ä¸€ä¸ªæ¶ˆè´¹è€…ã€‚ å¦‚æœæ˜¯è¿™æ ·çš„è¯ï¼Œå°±ä¸éœ€è¦è®¢é˜…ä¸»é¢˜ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ä¸ºè‡ªå·±åˆ†é…åˆ†åŒºã€‚ä¸€ä¸ªæ¶ˆè´¹è€…å¯ä»¥è®¢ é˜…ä¸»é¢˜ï¼ˆå¹¶åŠ å…¥æ¶ˆè´¹è€…ç¾¤ç»„ï¼‰ï¼Œæˆ–è€…ä¸ºè‡ªå·±åˆ†é…åˆ†åŒºï¼Œä½†ä¸èƒ½åŒæ—¶åšè¿™ä¸¤ä»¶äº‹æƒ…ã€‚ 123456789101112131415161718192021List&lt;PartitionInfo&gt; partitionInfos = null;partitionInfos = consumer.partitionsFor(&quot;topic&quot;); //âŠif (partitionInfos != null) &#123; for (PartitionInfo partition : partitionInfos)&#123; partitions.add(new TopicPartition( partition.topic(), partition.partition())); &#125; consumer.assign(partitions); //â‹ while (true) &#123; ConsumerRecords&lt;String, String&gt; records = consumer.poll(1000); for (ConsumerRecord&lt;String, String&gt; record: records) &#123; System.out.println( &quot;topic = %s, partition = %s, &quot; + &quot;offset = %d,customer = %s, country = %s\\n&quot;, record.topic(), record.partition(), record.offset(), record.key(), record.value()); &#125; consumer.commitSync(); &#125;&#125; âŠ å‘é›†ç¾¤è¯·æ±‚ä¸»é¢˜å¯ç”¨çš„åˆ†åŒºã€‚å¦‚æœåªæ‰“ç®—è¯»å–ç‰¹å®šåˆ†åŒºï¼Œå¯ä»¥è·³è¿‡è¿™ä¸€æ­¥ã€‚ â‹ çŸ¥é“éœ€è¦å“ªäº›åˆ†åŒºä¹‹åï¼Œè°ƒç”¨ assign() æ–¹æ³•ã€‚ é™¤äº†ä¸ä¼šå‘ç”Ÿå†å‡è¡¡ï¼Œä¹Ÿä¸éœ€è¦æ‰‹åŠ¨æŸ¥æ‰¾åˆ†åŒºï¼Œå…¶ä»–çš„çœ‹èµ·æ¥ä¸€åˆ‡æ­£å¸¸ã€‚ä¸è¿‡è¦è®°ä½ï¼Œå¦‚ æœä¸»é¢˜å¢åŠ äº†æ–°çš„åˆ†åŒºï¼Œæ¶ˆè´¹è€…å¹¶ä¸ä¼šæ”¶åˆ°é€šçŸ¥ã€‚æ‰€ä»¥ï¼Œè¦ä¹ˆå‘¨æœŸæ€§åœ°è°ƒç”¨ consumer. partitionsFor() æ–¹æ³•æ¥æ£€æŸ¥æ˜¯å¦æœ‰æ–°åˆ†åŒºåŠ å…¥ï¼Œè¦ä¹ˆåœ¨æ·»åŠ æ–°åˆ†åŒºåé‡å¯åº”ç”¨ç¨‹åºã€‚ ç¬¬ 5 ç«  æ·±å…¥Kafka","categories":[{"name":"é˜Ÿåˆ—","slug":"é˜Ÿåˆ—","permalink":"http://fightinggg.github.io/indigo/categories/%E9%98%9F%E5%88%97/"}],"tags":[]},{"title":"Kafkaæ—¶é—´è½®","slug":"é˜Ÿåˆ—/Kafka/Kafkaæ—¶é—´è½®/index","date":"2021-04-06T07:14:00.000Z","updated":"2021-04-06T07:14:00.000Z","comments":true,"path":"QR4S3C.html","link":"","permalink":"http://fightinggg.github.io/indigo/QR4S3C.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial åŸæ–‡é“¾æ¥ ä¾µåˆ  ä¸€å¼ å›¾ç†è§£Kafkaæ—¶é—´è½®(TimingWheel),çœ‹ä¸æ‡‚ç®—æˆ‘è¾“! æœ¬æ–‡æ˜¯ã€å­—èŠ‚å¯è§†åŒ–ç³»åˆ—ã€‘Kafkaä¸“æ æ–‡ç« ã€‚ é€šè¿‡æœ¬æ–‡ä½ å°†äº†è§£åˆ°æ—¶é—´è½®ç®—æ³•æ€æƒ³ï¼Œå±‚çº§æ—¶é—´è½®ï¼Œæ—¶é—´è½®çš„å‡çº§å’Œé™çº§ã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial åŸæ–‡é“¾æ¥ ä¾µåˆ  ä¸€å¼ å›¾ç†è§£Kafkaæ—¶é—´è½®(TimingWheel),çœ‹ä¸æ‡‚ç®—æˆ‘è¾“! æœ¬æ–‡æ˜¯ã€å­—èŠ‚å¯è§†åŒ–ç³»åˆ—ã€‘Kafkaä¸“æ æ–‡ç« ã€‚ é€šè¿‡æœ¬æ–‡ä½ å°†äº†è§£åˆ°æ—¶é—´è½®ç®—æ³•æ€æƒ³ï¼Œå±‚çº§æ—¶é—´è½®ï¼Œæ—¶é—´è½®çš„å‡çº§å’Œé™çº§ã€‚ æ—¶é—´è½®ï¼Œæ˜¯ä¸€ç§å®ç°å»¶è¿ŸåŠŸèƒ½ï¼ˆå®šæ—¶å™¨ï¼‰çš„å·§å¦™ç®—æ³•ï¼Œåœ¨Nettyï¼ŒZookeeperï¼ŒKafkaç­‰å„ç§æ¡†æ¶ä¸­ï¼Œç”šè‡³Linuxå†…æ ¸ä¸­éƒ½æœ‰ç”¨åˆ°ã€‚ æœ¬æ–‡å°†å‚è€ƒKafkaçš„æ—¶é—´è½®ä½œä¸ºä¾‹å­è®²è§£ã€‚ 0 è®¾è®¡æºäºç”Ÿæ´»å¼€å§‹ä¹‹å‰ç»™å¤§å®¶çœ‹å—å®ç€ä¸­åå¹´å†è¡¨ã€‚ å›¾ç‰‡æ¥è‡ªå®ç€å®˜ç½‘ è¿™æ¬¾æ‰‹è¡¨çš„è¡¨ç›˜èåˆäº†ä¸­åå†æ³•ä¸­å„ç§åšå¤§ç²¾æ·±çš„è®¡æ—¶å…ƒç´ ã€‚ ä¸Šæ–¹ä½ç½®çš„å°è¡¨ç›˜æ˜¾ç¤ºæ—¶è¾°æ•°å­—åŠå­—ç¬¦,24å°æ—¶ä¸€å‘¨æœŸ;å¹´ä»½è§†çª—æ˜¾ç¤ºå½“å¹´æ‰€å±ç”Ÿè‚–,12å¹´ä¸€å‘¨æœŸ; å·¦è¾¹ä½ç½®æ˜¾ç¤ºå†œå†æœˆ,12ä¸ªæœˆä¸€å‘¨æœŸ; å†œå†æ—¥, 30å¤©ä¸€å‘¨æœŸ; å³è¾¹ä½ç½®æ˜¾ç¤ºäº”è¡Œå…ƒç´ å’Œåå¤©å¹²,10å¹´ä¸€å‘¨æœŸ; ä¸‹æ–¹çš„è¡¨ç›˜æ˜¾ç¤ºæœˆç›¸ç›ˆäºã€‚ è‡³äºä»·æ ¼â€¦..è¿™ä¸ªè¯é¢˜ç•¥è¿‡ã€‚ è€Œæ—¶é—´è½®ï¼Œå…¶è®¾è®¡æ­£æ˜¯æ¥æºäºç”Ÿæ´»ä¸­çš„æ—¶é’Ÿã€‚ 1 æ—¶é—´è½®å¦‚å›¾å°±æ˜¯ä¸€ä¸ªç®€å•çš„æ—¶é—´è½®ï¼š å›¾ä¸­å¤§åœ†çš„åœ†å¿ƒä½ç½®è¡¨ç¤ºçš„æ˜¯å½“å‰çš„æ—¶é—´ï¼Œéšç€æ—¶é—´æ¨ç§», åœ†å¿ƒå¤„çš„æ—¶é—´ä¹Ÿä¼šä¸æ–­è·³åŠ¨ã€‚ ä¸‹é¢æˆ‘ä»¬å¯¹ç€è¿™ä¸ªå›¾ï¼Œæ¥è¯´è¯´Kafkaçš„æ—¶é—´è½®TimingWheelã€‚ Kafkaæ—¶é—´è½®çš„åº•å±‚å°±æ˜¯ä¸€ä¸ªç¯å½¢æ•°ç»„ï¼Œè€Œæ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ éƒ½å­˜æ”¾ä¸€ä¸ªåŒå‘é“¾è¡¨TimerTaskListï¼Œé“¾è¡¨ä¸­å°è£…äº†å¾ˆå¤šå»¶æ—¶ä»»åŠ¡ã€‚ Kafkaä¸­ä¸€ä¸ªæ—¶é—´è½®TimingWheelæ˜¯ç”±20ä¸ªæ—¶é—´æ ¼ç»„æˆï¼ŒwheelSize &#x3D; 20ï¼›æ¯æ ¼çš„æ—¶é—´è·¨åº¦æ˜¯1msï¼ŒtickMs &#x3D; 1msã€‚å‚ç…§Kafkaï¼Œä¸Šå›¾ä¸­ä¹Ÿç”¨äº†20ä¸ªç°è¾¹å°åœ†è¡¨ç¤ºæ—¶é—´æ ¼ï¼Œä¸ºäº†åŠ¨ç”»æ¼”ç¤ºå¯ä»¥çœ‹å¾—æ¸…æ¥šï¼Œæˆ‘ä»¬è¿™é‡Œæ¯ä¸ªå°åœ†çš„æ—¶é—´è·¨åº¦æ˜¯1sã€‚ æ‰€ä»¥ç°åœ¨æ•´ä¸ªæ—¶é—´è½®çš„æ—¶é—´è·¨åº¦å°±æ˜¯ tickMs * wheelSize ï¼Œä¹Ÿå°±æ˜¯ 20sã€‚ä»0såˆ°19sï¼Œæˆ‘ä»¬éƒ½åˆ†åˆ«æœ‰ä¸€ä¸ªç°è¾¹å°åœ†æ¥æ‰¿è½½ã€‚ Kafkaçš„æ—¶é—´è½®è¿˜æœ‰ä¸€ä¸ªè¡¨ç›˜æŒ‡é’ˆ currentTimeï¼Œè¡¨ç¤ºæ—¶é—´è½®å½“å‰æ‰€å¤„çš„æ—¶é—´ã€‚ä¹Ÿå°±æ˜¯å›¾ä¸­ç”¨é»‘è‰²ç²—çº¿è¡¨ç¤ºçš„åœ†ï¼Œéšç€æ—¶é—´æ¨ç§», è¿™ä¸ªæŒ‡é’ˆä¹Ÿä¼šä¸æ–­å‰è¿›; æ·»åŠ å®šæ—¶ä»»åŠ¡æœ‰äº†æ—¶é—´è½®ï¼Œç°åœ¨å¯ä»¥å¾€é‡Œé¢æ·»åŠ å®šæ—¶ä»»åŠ¡äº†ã€‚æˆ‘ä»¬ç”¨ä¸€ä¸ªç²‰çº¢è‰²çš„å°åœ†æ¥è¡¨ç¤ºä¸€ä¸ªå®šæ—¶ä»»åŠ¡ã€‚ è¿™é‡Œå…ˆè®²ä¸€ä¸‹è®¾å®šï¼Œæ¯ä¸€ä¸ªå®šæ—¶ä»»åŠ¡éƒ½æœ‰å»¶æ—¶æ—¶é—´delayTimeï¼Œå’Œè¿‡æœŸæ—¶é—´ExpiredTimeã€‚ æ¯”å¦‚å½“å‰æ—¶é—´æ˜¯10sï¼Œæˆ‘ä»¬æ·»åŠ äº†ä¸ªå»¶æ—¶æ—¶é—´ä¸º2sçš„ä»»åŠ¡ï¼Œé‚£ä¹ˆè¿™ä¸ªä»»åŠ¡çš„è¿‡æœŸæ—¶é—´å°±æ˜¯12sï¼Œä¹Ÿå°±æ˜¯å½“å‰æ—¶é—´10så†èµ°ä¸¤ç§’ï¼Œå˜æˆäº†12sçš„æ—¶å€™ï¼Œå°±åˆ°äº†è§¦å‘è¿™ä¸ªå®šæ—¶ä»»åŠ¡çš„æ—¶é—´ã€‚ è€Œæ—¶é—´è½®ä¸Šä»£è¡¨æ—¶é—´æ ¼çš„ç°è¾¹å°åœ†ä¸Šæ˜¾ç¤ºçš„æ•°å­—ï¼Œå¯ä»¥ç†è§£ä¸ºä»»åŠ¡çš„è¿‡æœŸæ—¶é—´ã€‚ è®²æ¸…æ¥šè¿™äº›è®¾å®šåï¼Œæˆ‘ä»¬å°±å¼€å§‹æ·»åŠ å®šæ—¶ä»»åŠ¡å§ã€‚ åˆå§‹çš„æ—¶å€™, æ—¶é—´è½®çš„æŒ‡é’ˆå®šæ ¼åœ¨0ã€‚æ­¤æ—¶æ·»åŠ ä¸€ä¸ªè¶…æ—¶æ—¶é—´ä¸º2sçš„ä»»åŠ¡, é‚£ä¹ˆè¿™ä¸ªä»»åŠ¡å°†ä¼šæ’å…¥åˆ°ç¬¬äºŒä¸ªæ—¶é—´æ ¼ä¸­ã€‚ å½“æ—¶é—´è½®çš„æŒ‡é’ˆåˆ°è¾¾ç¬¬äºŒä¸ªæ—¶é—´æ ¼æ—¶, ä¼šå¤„ç†è¯¥æ—¶é—´æ ¼ä¸Šå¯¹åº”çš„ä»»åŠ¡ã€‚åœ¨åŠ¨ç”»ä¸Šå°±æ˜¯è®©çº¢è‰²çš„å°åœ†æ¶ˆå¤±! å¦‚æœè¿™ä¸ªæ—¶å€™åˆæ’å…¥ä¸€ä¸ªå»¶æ—¶æ—¶é—´ä¸º8sçš„ä»»åŠ¡è¿›æ¥, è¿™ä¸ªä»»åŠ¡çš„è¿‡æœŸæ—¶é—´å°±æ˜¯åœ¨å½“å‰æ—¶é—´2sçš„åŸºç¡€ä¸ŠåŠ 8s, ä¹Ÿå°±æ˜¯10s, é‚£ä¹ˆè¿™ä¸ªä»»åŠ¡å°†ä¼šæ’å…¥åˆ°è¿‡æœŸæ—¶é—´ä¸º10sçš„æ—¶é—´æ ¼ä¸­ã€‚ 2 â€œåŠ¨æ€â€æ—¶é—´è½®åˆ°ç›®å‰ä¸ºæ­¢ï¼Œä¸€åˆ‡éƒ½å¾ˆå¥½ç†è§£ã€‚ é‚£ä¹ˆå¦‚æœåœ¨å½“å‰æ—¶é—´æ˜¯2sçš„æ—¶å€™, æ’å…¥ä¸€ä¸ªå»¶æ—¶æ—¶é—´ä¸º19sçš„ä»»åŠ¡æ—¶, è¿™ä¸ªä»»åŠ¡çš„è¿‡æœŸæ—¶é—´å°±æ˜¯åœ¨å½“å‰æ—¶é—´2sçš„åŸºç¡€ä¸ŠåŠ 19s, ä¹Ÿå°±æ˜¯21sã€‚ è¯·çœ‹ä¸‹å›¾ï¼Œå½“å‰çš„æ—¶é—´è½®æ˜¯æ²¡æœ‰è¿‡æœŸæ—¶é—´ä¸º21sçš„æ—¶é—´æ ¼ã€‚è¿™ä¸ªä»»åŠ¡å°†ä¼šæ’å…¥åˆ°è¿‡æœŸæ—¶é—´ä¸º1sçš„æ—¶é—´æ ¼ä¸­ï¼Œè¿™æ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Ÿ å¤ç”¨æ—¶é—´æ ¼ä¸ºäº†è§£ç­”ä¸Šé¢çš„é—®é¢˜ï¼Œæˆ‘ä»¬å…ˆæ¥ç‚¹é­”æ³•ï¼Œ è®©æ—¶é—´è½®ä¸Šçš„æ—¶é—´éƒ½åŠ¨èµ·æ¥ï¼ å…¶å®å‘¢ï¼Œå½“æŒ‡é’ˆå®šæ ¼åœ¨2sçš„ä½ç½®æ—¶, æ—¶é—´æ ¼0s, 1så’Œ2så°±å·²ç»æ˜¯è¿‡æœŸçš„æ—¶é—´æ ¼ã€‚ ä¹Ÿå°±æ˜¯è¯´æŒ‡é’ˆå¯ä»¥ç”¨æ¥åˆ’åˆ†è¿‡æœŸçš„æ—¶é—´æ ¼[0,2]å’Œæœªæ¥çš„æ—¶é—´æ ¼ [3,19]ã€‚è€Œè¿‡æœŸçš„æ—¶é—´æ ¼å¯ä»¥ç»§ç»­å¤ç”¨ã€‚æ¯”å¦‚è¿‡æœŸçš„æ—¶é—´æ ¼0så°±å˜æˆäº†20s, å­˜æ”¾è¿‡æœŸæ—¶é—´ä¸º20sçš„ä»»åŠ¡ã€‚ ç†è§£äº†æ—¶é—´æ ¼çš„å¤ç”¨ä¹‹åï¼Œå†çœ‹å›åˆšåˆšçš„ä¾‹å­ï¼Œå½“å‰æ—¶é—´æ˜¯2sæ—¶ï¼Œæ·»åŠ å»¶æ—¶æ—¶é—´ä¸º19sçš„ä»»åŠ¡ï¼Œé‚£ä¹ˆè¿™ä¸ªä»»åŠ¡å°±ä¼šæ’å…¥åˆ°è¿‡æœŸæ—¶é—´ä¸º21sçš„æ—¶é—´æ ¼ä¸­ã€‚ 3 æ—¶é—´è½®å‡çº§ä¸‹é¢ï¼Œæ–°çš„é—®é¢˜æ¥äº†ï¼Œè¯·åå¥½æ‰¶ç¨³ã€‚ å¦‚æœåœ¨å½“å‰æ—¶é—´æ˜¯2sçš„æ—¶å€™, æ’å…¥ä¸€ä¸ªå»¶æ—¶æ—¶é—´ä¸º22sçš„ä»»åŠ¡, è¿™ä¸ªä»»åŠ¡çš„è¿‡æœŸæ—¶é—´å°±æ˜¯åœ¨2sçš„åŸºç¡€ä¸ŠåŠ 22sï¼Œä¹Ÿå°±æ˜¯24sã€‚ æ˜¾ç„¶å½“å‰æ—¶é—´è½®æ˜¯æ— æ³•æ‰¾åˆ°è¿‡æœŸæ—¶é—´æ ¼ä¸º24ç§’çš„æ—¶é—´æ ¼ï¼Œå› ä¸ºå½“å‰è¿‡æœŸæ—¶é—´æœ€å¤§çš„æ—¶é—´æ ¼æ‰åˆ°21sã€‚è€Œä¸”æˆ‘ä»¬ä¹Ÿæ²¡åŠæ³•åƒå‰é¢é‚£æ ·å†å¤ç”¨æ—¶é—´æ ¼ï¼Œå› ä¸ºé™¤äº†è¿‡æœŸæ—¶é—´ä¸º2sçš„æ—¶é—´æ ¼ï¼Œå…¶ä»–çš„æ—¶é—´æ ¼éƒ½è¿˜æ²¡è¿‡æœŸå‘¢ã€‚å½“å‰æ—¶é—´è½®æ— æ³•æ‰¿è½½è¿™ä¸ªå®šæ—¶ä»»åŠ¡, é‚£ä¹ˆåº”è¯¥æ€ä¹ˆåŠå‘¢? å½“ç„¶æˆ‘ä»¬å¯ä»¥é€‰æ‹©æ‰©å±•æ—¶é—´è½®ä¸Šçš„æ—¶é—´æ ¼, ä½†æ˜¯è¿™æ ·ä¸€æ¥ï¼Œæ—¶é—´è½®å°±å¤±å»äº†æ„ä¹‰ã€‚ æ˜¯æ—¶å€™è¦å‡çº§æ—¶é—´è½®äº†ï¼ æˆ‘ä»¬å…ˆæ¥ç†è§£ä¸‹å¤šå±‚æ—¶é—´è½®ä¹‹é—´çš„è”ç³»ã€‚ 4 å±‚çº§æ—¶é—´è½®å¦‚å›¾æ˜¯ä¸€ä¸ªä¸¤å±‚çš„æ—¶é—´è½®: ç¬¬äºŒå±‚æ—¶é—´è½®ä¹Ÿæ˜¯ç”±20ä¸ªæ—¶é—´æ ¼ç»„æˆ, æ¯ä¸ªæ—¶é—´æ ¼çš„è·¨åº¦æ˜¯20sã€‚ å›¾ä¸­å±•ç¤ºäº†æ¯ä¸ªæ—¶é—´æ ¼å¯¹åº”çš„è¿‡æœŸæ—¶é—´èŒƒå›´, æˆ‘ä»¬å¯ä»¥æ¸…æ™°åœ°çœ‹åˆ°, ç¬¬äºŒå±‚æ—¶é—´è½®çš„ç¬¬0ä¸ªæ—¶é—´æ ¼çš„è¿‡æœŸæ—¶é—´èŒƒå›´æ˜¯ [0,19]ã€‚ä¹Ÿå°±æ˜¯è¯´, ç¬¬äºŒå±‚æ—¶é—´è½®çš„ä¸€ä¸ªæ—¶é—´æ ¼å°±å¯ä»¥è¡¨ç¤ºç¬¬ä¸€å±‚æ—¶é—´è½®çš„æ‰€æœ‰(20ä¸ª)æ—¶é—´æ ¼; ä¸ºäº†è¿›ä¸€æ­¥ç†æ¸…ç¬¬ä¸€å±‚æ—¶é—´è½®å’Œç¬¬äºŒå±‚æ—¶é—´è½®çš„å…³ç³», æˆ‘ä»¬æ‹‰ç€æ—¶é—´çš„å°æ‰‹, ä¸€èµ·è§‚çœ‹ä¸‹é¢çš„åŠ¨å›¾: å¯ä»¥çœ‹åˆ°ï¼Œç¬¬äºŒå±‚æ—¶é—´è½®åŒæ ·ä¹Ÿæœ‰è‡ªå·±çš„æŒ‡é’ˆ, æ¯å½“ç¬¬ä¸€å±‚æ—¶é—´è½®èµ°å®Œä¸€ä¸ªå‘¨æœŸï¼Œç¬¬äºŒå±‚æ—¶é—´è½®çš„æŒ‡é’ˆå°±ä¼šæ¨è¿›ä¸€æ ¼ã€‚ æ·»åŠ å®šæ—¶ä»»åŠ¡å›åˆ°ä¸€å¼€å§‹çš„é—®é¢˜ï¼Œåœ¨å½“å‰æ—¶é—´æ˜¯2sçš„æ—¶å€™, æ’å…¥ä¸€ä¸ªå»¶æ—¶æ—¶é—´ä¸º22sçš„ä»»åŠ¡ï¼Œè¯¥ä»»åŠ¡è¿‡æœŸæ—¶é—´ä¸º24sã€‚ å½“ç¬¬ä¸€å±‚æ—¶é—´è½®å®¹çº³ä¸ä¸‹æ—¶ï¼Œè¿›å…¥ç¬¬äºŒå±‚æ—¶é—´è½®ï¼Œå¹¶æ’å…¥åˆ°è¿‡æœŸæ—¶é—´ä¸º[20,39]çš„æ—¶é—´æ ¼ä¸­ã€‚ æˆ‘ä»¬å†æ¥ä¸ªä¾‹å­ï¼Œå¦‚æœåœ¨å½“å‰æ—¶é—´æ˜¯2sçš„æ—¶å€™, æ’å…¥ä¸€ä¸ªå»¶æ—¶æ—¶é—´ä¸º350sçš„ä»»åŠ¡, è¿™ä¸ªä»»åŠ¡çš„è¿‡æœŸæ—¶é—´å°±æ˜¯åœ¨2sçš„åŸºç¡€ä¸ŠåŠ 350sï¼Œä¹Ÿå°±æ˜¯352sã€‚ ä»å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œè¯¥ä»»åŠ¡æ’å…¥åˆ°ç¬¬äºŒå±‚æ—¶é—´è½®è¿‡æœŸæ—¶é—´ä¸º[340,359]sçš„æ—¶é—´æ ¼ä¸­ï¼Œä¹Ÿå°±æ˜¯ç¬¬17æ ¼çš„ä½ç½®ã€‚ 5 â€œåŠ¨æ€â€å±‚çº§æ—¶é—´è½®é€šå¸¸æ¥è¯´, ç¬¬äºŒå±‚æ—¶é—´è½®çš„ç¬¬0ä¸ªæ—¶é—´æ ¼æ˜¯ç”¨æ¥è¡¨ç¤ºç¬¬ä¸€å±‚æ—¶é—´è½®çš„, è¿™ä¸€æ ¼æ˜¯å­˜æ”¾ä¸äº†ä»»åŠ¡çš„, å› ä¸ºè¶…æ—¶æ—¶é—´0-20sçš„ä»»åŠ¡, ç¬¬ä¸€å±‚æ—¶é—´è½®å°±å¯ä»¥å¤„ç†äº†ã€‚ ä½†æ˜¯! äº‹æƒ…å¾€å¾€æ²¡è¿™ä¹ˆç®€å•, æˆ‘ä»¬æ—¶é—´è½®ä¸Šçš„æ—¶é—´æ ¼éƒ½æ˜¯å¯ä»¥å¤ç”¨çš„! é‚£ä¹ˆè¿™åœ¨ç¬¬äºŒå±‚æ—¶é—´è½®ä¸Šåˆæ˜¯æ€ä¹ˆä½“ç°çš„å‘¢? ä¸‹é¢æ˜¯é­”æ³•æ—¶é—´ï¼Œ æˆ‘ä»¬è®©æ—¶é—´è½®ä¸Šçš„è¿‡æœŸæ—¶é—´éƒ½åŠ¨èµ·æ¥ï¼ ä»å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œå½“ç¬¬ä¸€å±‚æ—¶é—´è½®çš„æŒ‡é’ˆå®šæ ¼åœ¨1sæ—¶ï¼Œè¶…æ—¶æ—¶é—´0sçš„æ—¶é—´æ ¼å°±è¿‡æœŸäº†ã€‚è€Œè¿™ä¸ªæ—¶å€™ï¼Œç¬¬äºŒå±‚æ—¶é—´è½®ç¬¬0ä¸ªæ—¶é—´æ ¼çš„æ—¶é—´èŒƒå›´å°±ä»[0,19]åˆ†ä¸ºäº†è¿‡æœŸçš„[0],å’Œæœªè¿‡æœŸçš„[1,19]ã€‚è€Œè¿‡æœŸçš„[0]å°±ä¼šè¢«æ–°çš„è¿‡æœŸæ—¶é—´[400]å¤ç”¨ã€‚ ç¬¬äºŒå±‚æ—¶é—´è½®ç¬¬0ä¸ªæ—¶é—´æ ¼çš„è¿‡æœŸæ—¶é—´èŒƒå›´æ¼”å˜å¦‚ä¸‹ï¼š [0-19] [400][1,19] [400,401][2,19] â€¦â€¦ [400,419] æ‰€ä»¥ï¼Œå¦‚æœåœ¨å½“å‰æ—¶é—´æ˜¯2sçš„æ—¶å€™, æ’å…¥ä¸€ä¸ªå»¶æ—¶æ—¶é—´ä¸º399sçš„ä»»åŠ¡, è¿™ä¸ªä»»åŠ¡çš„è¿‡æœŸæ—¶é—´å°±æ˜¯åœ¨2sçš„åŸºç¡€ä¸ŠåŠ 399sï¼Œä¹Ÿå°±æ˜¯401sã€‚å¦‚å›¾ï¼Œè¿™ä¸ªä»»åŠ¡è¿˜æ˜¯ä¼šæ’åˆ°ç¬¬äºŒå±‚æ—¶é—´è½®ç¬¬0ä¸ªæ—¶é—´æ ¼ä¸­å»ã€‚ 6 æ—¶é—´è½®é™çº§è¿˜æ˜¯ç”¨å›è¿™ä¸ªå¤§å®¶éƒ½å·²ç»è€³ç†Ÿèƒ½è¯¦çš„ä¾‹å­ï¼Œåœ¨å½“å‰æ—¶é—´æ˜¯2sçš„æ—¶å€™, æ’å…¥ä¸€ä¸ªå»¶æ—¶æ—¶é—´ä¸º22sçš„ä»»åŠ¡ï¼Œè¯¥ä»»åŠ¡è¿‡æœŸæ—¶é—´ä¸º24sã€‚æœ€åè¿›å…¥ç¬¬äºŒå±‚æ—¶é—´è½®ï¼Œå¹¶æ’å…¥åˆ°è¿‡æœŸæ—¶é—´ä¸º[20,39]çš„æ—¶é—´æ ¼ä¸­ã€‚ å½“äºŒå±‚æ—¶é—´è½®ä¸Šçš„å®šæ—¶ä»»åŠ¡åˆ°æœŸåï¼Œæ—¶é—´è½®æ˜¯æ€ä¹ˆåšçš„å‘¢ï¼Ÿ ä»å›¾ä¸­å¯ä»¥çœ‹åˆ°ï¼Œéšç€å½“å‰æ—¶é—´ä»2sç»§ç»­å¾€å‰æ¨è¿›ï¼Œä¸€ç›´åˆ°20sçš„æ—¶å€™ï¼Œæ€»å…±ç»è¿‡äº†18sã€‚æ­¤æ—¶ç¬¬äºŒå±‚æ—¶é—´è½®ä¸­ï¼Œè¶…æ—¶æ—¶é—´ä¸º[20-39s]çš„æ—¶é—´æ ¼ä¸Šçš„ä»»åŠ¡åˆ°æœŸã€‚ åŸæœ¬è¶…æ—¶æ—¶é—´ä¸º24sçš„ä»»åŠ¡ä¼šè¢«å–å‡ºæ¥ï¼Œé‡æ–°åŠ å…¥æ—¶é—´è½®ã€‚æ­¤æ—¶è¯¥å®šæ—¶ä»»åŠ¡çš„å»¶æ—¶æ—¶é—´ä»åŸæœ¬çš„22sï¼Œåˆ°ç°åœ¨è¿˜å‰©ä¸‹4sï¼ˆ22s-18sï¼‰ã€‚æœ€ååœç•™åœ¨ç¬¬ä¸€å±‚æ—¶é—´è½®è¶…æ—¶æ—¶é—´ä¸º24sçš„æ—¶é—´æ ¼ï¼Œä¹Ÿå°±æ˜¯ç¬¬4ä¸ªæ—¶é—´æ ¼ã€‚ éšç€å½“å‰æ—¶é—´ç»§ç»­æ¨è¿›ï¼Œå†ç»è¿‡4såï¼Œè¯¥å®šæ—¶ä»»åŠ¡åˆ°æœŸè¢«æ‰§è¡Œã€‚ ä»è¿™é‡Œå¯ä»¥çœ‹å‡ºæ—¶é—´è½®çš„å·§å¦™ä¹‹å¤„ï¼Œä¸¤å±‚æ—¶é—´è½®åªç”¨äº†40ä¸ªæ•°ç»„å…ƒç´ ï¼Œå´å¯ä»¥æ‰¿è½½[0-399s]çš„å®šæ—¶ä»»åŠ¡ã€‚è€Œä¸‰å±‚æ—¶é—´è½®ç”¨60ä¸ªæ•°ç»„å…ƒç´ ï¼Œå°±å¯ä»¥æ‰¿è½½[0-7999s]çš„å®šæ—¶ä»»åŠ¡ï¼ 7 æ—¶é—´è½®çš„æ¨è¿›ä»åŠ¨ç”»ä¸­å¯ä»¥æ³¨æ„åˆ°, éšç€æ—¶é—´æ¨è¿›, æ—¶é—´è½®çš„æŒ‡é’ˆå¾ªç¯å¾€å¤åœ°å®šæ ¼åœ¨æ¯ä¸€ä¸ªæ—¶é—´æ ¼ä¸Š, æ¯ä¸€æ¬¡éƒ½è¦åˆ¤æ–­å½“å‰å®šæ ¼çš„æ—¶é—´æ ¼é‡Œæ˜¯ä¸æ˜¯æœ‰ä»»åŠ¡å­˜åœ¨; å…¶ä¸­æœ‰å¾ˆå¤šæ—¶é—´æ ¼éƒ½æ˜¯æ²¡æœ‰ä»»åŠ¡çš„, æŒ‡é’ˆå®šæ ¼åœ¨è¿™ç§ç©ºçš„æ—¶é—´æ ¼ä¸­, å°±æ˜¯ä¸€æ¬¡â€ç©ºæ¨è¿›â€; æ¯”å¦‚è¯´, æ’å…¥ä¸€ä¸ªå»¶æ—¶æ—¶é—´400sçš„ä»»åŠ¡, æŒ‡é’ˆå°±è¦æ‰§è¡Œ399æ¬¡â€ç©ºæ¨è¿›â€, è¿™æ˜¯ä¸€ç§æµªè´¹! é‚£ä¹ˆKafkaæ˜¯æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜çš„å‘¢ï¼Ÿè¿™å°±è¦ä»å»¶è¿Ÿé˜Ÿåˆ—DelayQueueå¼€å§‹è®²èµ·äº†ï¼ æ—¶é—´è½®æ­é…å»¶è¿Ÿé˜Ÿåˆ—DelayQueueï¼Œä¼šå‘ç”Ÿä»€ä¹ˆåŒ–å­¦ååº”å‘¢ï¼Ÿè¯·å…³æ³¨å…¬ä¼—å·ã€å­—èŠ‚æ­¦è£…ã€‘åç»­æ›´æ–°ã€‚ å¾€æœŸå›é¡¾ å›¾è¯´å †æ’åº TCPä¸ºå•¥è¦3æ¬¡æ¡æ‰‹å’Œ4æ¬¡æŒ¥æ‰‹ï¼Ÿè¿™æ˜¯ä¸€ç§æ²Ÿé€šæŠ€å·§ ä¸€å¼ å›¾ææ‡‚å½’å¹¶æ’åº Javaçº¿ç¨‹æ± çš„æ•…äº‹, å››ä¸ªèŠ±ç“¶","categories":[{"name":"é˜Ÿåˆ—","slug":"é˜Ÿåˆ—","permalink":"http://fightinggg.github.io/indigo/categories/%E9%98%9F%E5%88%97/"},{"name":"Kafka","slug":"é˜Ÿåˆ—/Kafka","permalink":"http://fightinggg.github.io/indigo/categories/%E9%98%9F%E5%88%97/Kafka/"}],"tags":[]},{"title":"ä»TCPçœ‹HTTP","slug":"è®¡ç®—æœºç½‘ç»œ/ä»TCPçœ‹HTTP/index","date":"2021-04-04T07:09:00.000Z","updated":"2021-04-04T15:00:00.000Z","comments":true,"path":"QR12J0.html","link":"","permalink":"http://fightinggg.github.io/indigo/QR12J0.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ä»¥ä¸‹æˆ‘ä»¬æ¼”ç¤ºä¸€æ¡HTTPè¯·æ±‚æŒ‡ä»¤ 123[root@11c749e93da4 /]# curl www.baidu.com&lt;!DOCTYPE html&gt;&lt;!--STATUS OK--&gt;&lt;html&gt; &lt;head&gt;&lt;meta http-equiv=content-type content=text/html;charset=utf-8&gt;&lt;meta http-equiv=X-UA-Compatible content=IE=Edge&gt;&lt;meta content=always name=referrer&gt;&lt;link rel=stylesheet type=text/css href=http://s1.bdstatic.com/r/www/cache/bdorz/baidu.min.css&gt;&lt;title&gt;ç™¾åº¦ä¸€ä¸‹ï¼Œä½ å°±çŸ¥é“&lt;/title&gt;&lt;/head&gt; &lt;body link=#0000cc&gt; &lt;div id=wrapper&gt; &lt;div id=head&gt; &lt;div class=head_wrapper&gt; &lt;div class=s_form&gt; &lt;div class=s_form_wrapper&gt; &lt;div id=lg&gt; &lt;img hidefocus=true src=//www.baidu.com/img/bd_logo1.png width=270 height=129&gt; &lt;/div&gt; &lt;form id=form name=f action=//www.baidu.com/s class=fm&gt; &lt;input type=hidden name=bdorz_come value=1&gt; &lt;input type=hidden name=ie value=utf-8&gt; &lt;input type=hidden name=f value=8&gt; &lt;input type=hidden name=rsv_bp value=1&gt; &lt;input type=hidden name=rsv_idx value=1&gt; &lt;input type=hidden name=tn value=baidu&gt;&lt;span class=&quot;bg s_ipt_wr&quot;&gt;&lt;input id=kw name=wd class=s_ipt value maxlength=255 autocomplete=off autofocus&gt;&lt;/span&gt;&lt;span class=&quot;bg s_btn_wr&quot;&gt;&lt;input type=submit id=su value=ç™¾åº¦ä¸€ä¸‹ class=&quot;bg s_btn&quot;&gt;&lt;/span&gt; &lt;/form&gt; &lt;/div&gt; &lt;/div&gt; &lt;div id=u1&gt; &lt;a href=http://news.baidu.com name=tj_trnews class=mnav&gt;æ–°é—»&lt;/a&gt; &lt;a href=http://www.hao123.com name=tj_trhao123 class=mnav&gt;hao123&lt;/a&gt; &lt;a href=http://map.baidu.com name=tj_trmap class=mnav&gt;åœ°å›¾&lt;/a&gt; &lt;a href=http://v.baidu.com name=tj_trvideo class=mnav&gt;è§†é¢‘&lt;/a&gt; &lt;a href=http://tieba.baidu.com name=tj_trtieba class=mnav&gt;è´´å§&lt;/a&gt; &lt;noscript&gt; &lt;a href=http://www.baidu.com/bdorz/login.gif?login&amp;amp;tpl=mn&amp;amp;u=http%3A%2F%2Fwww.baidu.com%2f%3fbdorz_come%3d1 name=tj_login class=lb&gt;ç™»å½•&lt;/a&gt; &lt;/noscript&gt; &lt;script&gt;document.write(&#x27;&lt;a href=&quot;http://www.baidu.com/bdorz/login.gif?login&amp;tpl=mn&amp;u=&#x27;+ encodeURIComponent(window.location.href+ (window.location.search === &quot;&quot; ? &quot;?&quot; : &quot;&amp;&quot;)+ &quot;bdorz_come=1&quot;)+ &#x27;&quot; name=&quot;tj_login&quot; class=&quot;lb&quot;&gt;ç™»å½•&lt;/a&gt;&#x27;);&lt;/script&gt; &lt;a href=//www.baidu.com/more/ name=tj_briicon class=bri style=&quot;display: block;&quot;&gt;æ›´å¤šäº§å“&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div id=ftCon&gt; &lt;div id=ftConw&gt; &lt;p id=lh&gt; &lt;a href=http://home.baidu.com&gt;å…³äºç™¾åº¦&lt;/a&gt; &lt;a href=http://ir.baidu.com&gt;About Baidu&lt;/a&gt; &lt;/p&gt; &lt;p id=cp&gt;&amp;copy;2017&amp;nbsp;Baidu&amp;nbsp;&lt;a href=http://www.baidu.com/duty/&gt;ä½¿ç”¨ç™¾åº¦å‰å¿…è¯»&lt;/a&gt;&amp;nbsp; &lt;a href=http://jianyi.baidu.com/ class=cp-feedback&gt;æ„è§åé¦ˆ&lt;/a&gt;&amp;nbsp;äº¬ICPè¯030173å·&amp;nbsp; &lt;img src=//www.baidu.com/img/gs.gif&gt; &lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/body&gt; &lt;/html&gt; æ¥ä¸‹æ¥æ˜¯è¿™æ¡æŒ‡ä»¤æ¶‰åŠåˆ°çš„æ‰€æœ‰TCPä»¥åŠUDPæŠ¥æ–‡ï¼ˆè¿™ç¯‡å¾ˆéš¾ï¼èƒ†å°è€…å‹¿çœ‹ï¼‰","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ä»¥ä¸‹æˆ‘ä»¬æ¼”ç¤ºä¸€æ¡HTTPè¯·æ±‚æŒ‡ä»¤ 123[root@11c749e93da4 /]# curl www.baidu.com&lt;!DOCTYPE html&gt;&lt;!--STATUS OK--&gt;&lt;html&gt; &lt;head&gt;&lt;meta http-equiv=content-type content=text/html;charset=utf-8&gt;&lt;meta http-equiv=X-UA-Compatible content=IE=Edge&gt;&lt;meta content=always name=referrer&gt;&lt;link rel=stylesheet type=text/css href=http://s1.bdstatic.com/r/www/cache/bdorz/baidu.min.css&gt;&lt;title&gt;ç™¾åº¦ä¸€ä¸‹ï¼Œä½ å°±çŸ¥é“&lt;/title&gt;&lt;/head&gt; &lt;body link=#0000cc&gt; &lt;div id=wrapper&gt; &lt;div id=head&gt; &lt;div class=head_wrapper&gt; &lt;div class=s_form&gt; &lt;div class=s_form_wrapper&gt; &lt;div id=lg&gt; &lt;img hidefocus=true src=//www.baidu.com/img/bd_logo1.png width=270 height=129&gt; &lt;/div&gt; &lt;form id=form name=f action=//www.baidu.com/s class=fm&gt; &lt;input type=hidden name=bdorz_come value=1&gt; &lt;input type=hidden name=ie value=utf-8&gt; &lt;input type=hidden name=f value=8&gt; &lt;input type=hidden name=rsv_bp value=1&gt; &lt;input type=hidden name=rsv_idx value=1&gt; &lt;input type=hidden name=tn value=baidu&gt;&lt;span class=&quot;bg s_ipt_wr&quot;&gt;&lt;input id=kw name=wd class=s_ipt value maxlength=255 autocomplete=off autofocus&gt;&lt;/span&gt;&lt;span class=&quot;bg s_btn_wr&quot;&gt;&lt;input type=submit id=su value=ç™¾åº¦ä¸€ä¸‹ class=&quot;bg s_btn&quot;&gt;&lt;/span&gt; &lt;/form&gt; &lt;/div&gt; &lt;/div&gt; &lt;div id=u1&gt; &lt;a href=http://news.baidu.com name=tj_trnews class=mnav&gt;æ–°é—»&lt;/a&gt; &lt;a href=http://www.hao123.com name=tj_trhao123 class=mnav&gt;hao123&lt;/a&gt; &lt;a href=http://map.baidu.com name=tj_trmap class=mnav&gt;åœ°å›¾&lt;/a&gt; &lt;a href=http://v.baidu.com name=tj_trvideo class=mnav&gt;è§†é¢‘&lt;/a&gt; &lt;a href=http://tieba.baidu.com name=tj_trtieba class=mnav&gt;è´´å§&lt;/a&gt; &lt;noscript&gt; &lt;a href=http://www.baidu.com/bdorz/login.gif?login&amp;amp;tpl=mn&amp;amp;u=http%3A%2F%2Fwww.baidu.com%2f%3fbdorz_come%3d1 name=tj_login class=lb&gt;ç™»å½•&lt;/a&gt; &lt;/noscript&gt; &lt;script&gt;document.write(&#x27;&lt;a href=&quot;http://www.baidu.com/bdorz/login.gif?login&amp;tpl=mn&amp;u=&#x27;+ encodeURIComponent(window.location.href+ (window.location.search === &quot;&quot; ? &quot;?&quot; : &quot;&amp;&quot;)+ &quot;bdorz_come=1&quot;)+ &#x27;&quot; name=&quot;tj_login&quot; class=&quot;lb&quot;&gt;ç™»å½•&lt;/a&gt;&#x27;);&lt;/script&gt; &lt;a href=//www.baidu.com/more/ name=tj_briicon class=bri style=&quot;display: block;&quot;&gt;æ›´å¤šäº§å“&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div id=ftCon&gt; &lt;div id=ftConw&gt; &lt;p id=lh&gt; &lt;a href=http://home.baidu.com&gt;å…³äºç™¾åº¦&lt;/a&gt; &lt;a href=http://ir.baidu.com&gt;About Baidu&lt;/a&gt; &lt;/p&gt; &lt;p id=cp&gt;&amp;copy;2017&amp;nbsp;Baidu&amp;nbsp;&lt;a href=http://www.baidu.com/duty/&gt;ä½¿ç”¨ç™¾åº¦å‰å¿…è¯»&lt;/a&gt;&amp;nbsp; &lt;a href=http://jianyi.baidu.com/ class=cp-feedback&gt;æ„è§åé¦ˆ&lt;/a&gt;&amp;nbsp;äº¬ICPè¯030173å·&amp;nbsp; &lt;img src=//www.baidu.com/img/gs.gif&gt; &lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/body&gt; &lt;/html&gt; æ¥ä¸‹æ¥æ˜¯è¿™æ¡æŒ‡ä»¤æ¶‰åŠåˆ°çš„æ‰€æœ‰TCPä»¥åŠUDPæŠ¥æ–‡ï¼ˆè¿™ç¯‡å¾ˆéš¾ï¼èƒ†å°è€…å‹¿çœ‹ï¼‰ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498[root@11c749e93da4 /]# tcpdump -Xvv dropped privs to tcpdumptcpdump: listening on eth0, link-type EN10MB (Ethernet), capture size 262144 bytes07:05:47.059101 IP (tos 0x0, ttl 64, id 10179, offset 0, flags [DF], proto UDP (17), length 59) 11c749e93da4.39962 &gt; 183.60.83.19.domain: [bad udp cksum 0xb69d -&gt; 0x7fa1!] 29001+ A? www.baidu.com. (31) 0x0000: 4500 003b 27c3 4000 4011 5c8a ac11 0004 E..;&#x27;.@.@.\\..... 0x0010: b73c 5313 9c1a 0035 0027 b69d 7149 0100 .&lt;S....5.&#x27;..qI.. 0x0020: 0001 0000 0000 0000 0377 7777 0562 6169 .........www.bai 0x0030: 6475 0363 6f6d 0000 0100 01 du.com.....07:05:47.059181 IP (tos 0x0, ttl 64, id 10180, offset 0, flags [DF], proto UDP (17), length 59) 11c749e93da4.39962 &gt; 183.60.83.19.domain: [bad udp cksum 0xb69d -&gt; 0x8397!] 21075+ AAAA? www.baidu.com. (31) 0x0000: 4500 003b 27c4 4000 4011 5c89 ac11 0004 E..;&#x27;.@.@.\\..... 0x0010: b73c 5313 9c1a 0035 0027 b69d 5253 0100 .&lt;S....5.&#x27;..RS.. 0x0020: 0001 0000 0000 0000 0377 7777 0562 6169 .........www.bai 0x0030: 6475 0363 6f6d 0000 1c00 01 du.com.....07:05:47.059442 IP (tos 0x0, ttl 60, id 50890, offset 0, flags [DF], proto UDP (17), length 144) 183.60.83.19.domain &gt; 11c749e93da4.39962: [udp sum ok] 29001 q: A? www.baidu.com. 4/0/0 www.baidu.com. CNAME www.a.shifen.com., www.a.shifen.com. CNAME www.wshifen.com., www.wshifen.com. A 119.63.197.139, www.wshifen.com. A 119.63.197.151 (116) 0x0000: 4500 0090 c6ca 4000 3c11 c12d b73c 5313 E.....@.&lt;..-.&lt;S. 0x0010: ac11 0004 0035 9c1a 007c 7f99 7149 8180 .....5...|..qI.. 0x0020: 0001 0004 0000 0000 0377 7777 0562 6169 .........www.bai 0x0030: 6475 0363 6f6d 0000 0100 01c0 0c00 0500 du.com.......... 0x0040: 0100 0002 c900 0f03 7777 7701 6106 7368 ........www.a.sh 0x0050: 6966 656e c016 c02b 0005 0001 0000 0103 ifen...+........ 0x0060: 000e 0377 7777 0777 7368 6966 656e c016 ...www.wshifen.. 0x0070: c046 0001 0001 0000 0104 0004 773f c58b .F..........w?.. 0x0080: c046 0001 0001 0000 0104 0004 773f c597 .F..........w?..07:05:47.059514 IP (tos 0x0, ttl 60, id 50891, offset 0, flags [DF], proto UDP (17), length 112) 183.60.83.19.domain &gt; 11c749e93da4.39962: [udp sum ok] 21075 q: AAAA? www.baidu.com. 2/0/0 www.baidu.com. CNAME www.a.shifen.com., www.a.shifen.com. CNAME www.wshifen.com. (84) 0x0000: 4500 0070 c6cb 4000 3c11 c14c b73c 5313 E..p..@.&lt;..L.&lt;S. 0x0010: ac11 0004 0035 9c1a 005c c213 5253 8180 .....5...\\..RS.. 0x0020: 0001 0002 0000 0000 0377 7777 0562 6169 .........www.bai 0x0030: 6475 0363 6f6d 0000 1c00 01c0 0c00 0500 du.com.......... 0x0040: 0100 0004 8700 0f03 7777 7701 6106 7368 ........www.a.sh 0x0050: 6966 656e c016 c02b 0005 0001 0000 0103 ifen...+........ 0x0060: 000e 0377 7777 0777 7368 6966 656e c016 ...www.wshifen..07:05:47.061686 IP (tos 0x0, ttl 64, id 38458, offset 0, flags [DF], proto TCP (6), length 60) 11c749e93da4.60824 &gt; 119.63.197.139.http: Flags [S], cksum 0xe90e (incorrect -&gt; 0xaa0e), seq 4174926008, win 29200, options [mss 1460,sackOK,TS val 1805688806 ecr 0,nop,wscale 7], length 0 0x0000: 4500 003c 963a 4000 4006 bba1 ac11 0004 E..&lt;.:@.@....... 0x0010: 773f c58b ed98 0050 f8d8 50b8 0000 0000 w?.....P..P..... 0x0020: a002 7210 e90e 0000 0204 05b4 0402 080a ..r............. 0x0030: 6ba0 9fe6 0000 0000 0103 0307 k...........07:05:47.063170 IP (tos 0x0, ttl 64, id 10183, offset 0, flags [DF], proto UDP (17), length 71) 11c749e93da4.49216 &gt; 183.60.83.19.domain: [bad udp cksum 0xb6a9 -&gt; 0xef02!] 17086+ PTR? 19.83.60.183.in-addr.arpa. (43) 0x0000: 4500 0047 27c7 4000 4011 5c7a ac11 0004 E..G&#x27;.@.@.\\z.... 0x0010: b73c 5313 c040 0035 0033 b6a9 42be 0100 .&lt;S..@.5.3..B... 0x0020: 0001 0000 0000 0000 0231 3902 3833 0236 .........19.83.6 0x0030: 3003 3138 3307 696e 2d61 6464 7204 6172 0.183.in-addr.ar 0x0040: 7061 0000 0c00 01 pa.....07:05:47.064077 IP (tos 0x0, ttl 57, id 29314, offset 0, flags [DF], proto UDP (17), length 135) 183.60.83.19.domain &gt; 11c749e93da4.49216: [udp sum ok] 17086 NXDomain q: PTR? 19.83.60.183.in-addr.arpa. 0/1/0 ns: 60.183.in-addr.arpa. SOA ns.guangzhou.gd.cn. dns-admin.guangzhou.gd.cn. 2020122301 10800 3600 604800 86400 (107) 0x0000: 4500 0087 7282 4000 3911 187f b73c 5313 E...r.@.9....&lt;S. 0x0010: ac11 0004 0035 c040 0073 bbd3 42be 8183 .....5.@.s..B... 0x0020: 0001 0000 0001 0000 0231 3902 3833 0236 .........19.83.6 0x0030: 3003 3138 3307 696e 2d61 6464 7204 6172 0.183.in-addr.ar 0x0040: 7061 0000 0c00 01c0 1200 0600 0100 0000 pa.............. 0x0050: 9500 3402 6e73 0967 7561 6e67 7a68 6f75 ..4.ns.guangzhou 0x0060: 0267 6402 636e 0009 646e 732d 6164 6d69 .gd.cn..dns-admi 0x0070: 6ec0 3a78 689e bd00 002a 3000 000e 1000 n.:xh....*0..... 0x0080: 093a 8000 0151 80 .:...Q.07:05:47.070294 IP (tos 0x0, ttl 64, id 10187, offset 0, flags [DF], proto UDP (17), length 73) 11c749e93da4.51992 &gt; 183.60.83.19.domain: [bad udp cksum 0xb6ab -&gt; 0x2278!] 64519+ PTR? 139.197.63.119.in-addr.arpa. (45) 0x0000: 4500 0049 27cb 4000 4011 5c74 ac11 0004 E..I&#x27;.@.@.\\t.... 0x0010: b73c 5313 cb18 0035 0035 b6ab fc07 0100 .&lt;S....5.5...... 0x0020: 0001 0000 0000 0000 0331 3339 0331 3937 .........139.197 0x0030: 0236 3303 3131 3907 696e 2d61 6464 7204 .63.119.in-addr. 0x0040: 6172 7061 0000 0c00 01 arpa.....07:05:47.071163 IP (tos 0x0, ttl 251, id 16397, offset 0, flags [DF], proto UDP (17), length 161) 183.60.83.19.domain &gt; 11c749e93da4.51992: [udp sum ok] 64519 NXDomain q: PTR? 139.197.63.119.in-addr.arpa. 0/1/0 ns: 119.in-addr.arpa. SOA ns.apnic.net. read-txt-record-of-zone-first-dns-admin.apnic.net. 3006092649 7200 1800 604800 3600 (133) 0x0000: 4500 00a1 400d 4000 fb11 88d9 b73c 5313 E...@.@......&lt;S. 0x0010: ac11 0004 0035 cb18 008d 397d fc07 8183 .....5....9&#125;.... 0x0020: 0001 0000 0001 0000 0331 3339 0331 3937 .........139.197 0x0030: 0236 3303 3131 3907 696e 2d61 6464 7204 .63.119.in-addr. 0x0040: 6172 7061 0000 0c00 01c0 1700 0600 0100 arpa............ 0x0050: 0006 fe00 4c02 6e73 0561 706e 6963 036e ....L.ns.apnic.n 0x0060: 6574 0027 7265 6164 2d74 7874 2d72 6563 et.&#x27;read-txt-rec 0x0070: 6f72 642d 6f66 2d7a 6f6e 652d 6669 7273 ord-of-zone-firs 0x0080: 742d 646e 732d 6164 6d69 6ec0 3cb3 2d55 t-dns-admin.&lt;.-U 0x0090: 6900 001c 2000 0007 0800 093a 8000 000e i..........:.... 0x00a0: 10 .07:05:47.115732 IP (tos 0x0, ttl 50, id 38458, offset 0, flags [DF], proto TCP (6), length 60) 119.63.197.139.http &gt; 11c749e93da4.60824: Flags [S.], cksum 0x268b (correct), seq 1024829215, ack 4174926009, win 8192, options [mss 1424,sackOK,nop,nop,nop,nop,nop,nop,nop,nop,nop,nop,nop,wscale 5], length 0 0x0000: 4500 003c 963a 4000 3206 c9a1 773f c58b E..&lt;.:@.2...w?.. 0x0010: ac11 0004 0050 ed98 3d15 a71f f8d8 50b9 .....P..=.....P. 0x0020: a012 2000 268b 0000 0204 0590 0402 0101 ....&amp;........... 0x0030: 0101 0101 0101 0101 0103 0305 ............07:05:47.115797 IP (tos 0x0, ttl 64, id 38459, offset 0, flags [DF], proto TCP (6), length 40) 11c749e93da4.60824 &gt; 119.63.197.139.http: Flags [.], cksum 0xe8fa (incorrect -&gt; 0xaa5e), seq 1, ack 1, win 229, length 0 0x0000: 4500 0028 963b 4000 4006 bbb4 ac11 0004 E..(.;@.@....... 0x0010: 773f c58b ed98 0050 f8d8 50b9 3d15 a720 w?.....P..P.=... 0x0020: 5010 00e5 e8fa 0000 P.......07:05:47.115913 IP (tos 0x0, ttl 64, id 38460, offset 0, flags [DF], proto TCP (6), length 117) 11c749e93da4.60824 &gt; 119.63.197.139.http: Flags [P.], cksum 0xe947 (incorrect -&gt; 0x7519), seq 1:78, ack 1, win 229, length 77: HTTP, length: 77 GET / HTTP/1.1 Host: www.baidu.com User-Agent: curl/7.61.1 Accept: */* 0x0000: 4500 0075 963c 4000 4006 bb66 ac11 0004 E..u.&lt;@.@..f.... 0x0010: 773f c58b ed98 0050 f8d8 50b9 3d15 a720 w?.....P..P.=... 0x0020: 5018 00e5 e947 0000 4745 5420 2f20 4854 P....G..GET./.HT 0x0030: 5450 2f31 2e31 0d0a 486f 7374 3a20 7777 TP/1.1..Host:.ww 0x0040: 772e 6261 6964 752e 636f 6d0d 0a55 7365 w.baidu.com..Use 0x0050: 722d 4167 656e 743a 2063 7572 6c2f 372e r-Agent:.curl/7. 0x0060: 3631 2e31 0d0a 4163 6365 7074 3a20 2a2f 61.1..Accept:.*/ 0x0070: 2a0d 0a0d 0a *....07:05:47.170254 IP (tos 0x0, ttl 48, id 24974, offset 0, flags [DF], proto TCP (6), length 40) 119.63.197.139.http &gt; 11c749e93da4.60824: Flags [.], cksum 0xa762 (correct), seq 1, ack 78, win 916, length 0 0x0000: 4500 0028 618e 4000 3006 0062 773f c58b E..(a.@.0..bw?.. 0x0010: ac11 0004 0050 ed98 3d15 a720 f8d8 5106 .....P..=.....Q. 0x0020: 5010 0394 a762 0000 P....b..07:05:47.236240 IP (tos 0x0, ttl 48, id 24975, offset 0, flags [DF], proto TCP (6), length 1488) 119.63.197.139.http &gt; 11c749e93da4.60824: Flags [P.], cksum 0xeea2 (incorrect -&gt; 0x8779), seq 1:1449, ack 78, win 916, length 1448: HTTP, length: 1448 HTTP/1.1 200 OK Accept-Ranges: bytes Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform Connection: keep-alive Content-Length: 2381 Content-Type: text/html Date: Sun, 04 Apr 2021 07:05:47 GMT Etag: &quot;588604eb-94d&quot; Last-Modified: Mon, 23 Jan 2017 13:28:11 GMT Pragma: no-cache Server: bfe/1.0.8.18 Set-Cookie: BDORZ=27315; max-age=86400; domain=.baidu.com; path=/ &lt;!DOCTYPE html&gt; 0x0000: 4500 05d0 618f 4000 3006 fab8 773f c58b E...a.@.0...w?.. 0x0010: ac11 0004 0050 ed98 3d15 a720 f8d8 5106 .....P..=.....Q. 0x0020: 5018 0394 eea2 0000 4854 5450 2f31 2e31 P.......HTTP/1.1 0x0030: 2032 3030 204f 4b0d 0a41 6363 6570 742d .200.OK..Accept- 0x0040: 5261 6e67 6573 3a20 6279 7465 730d 0a43 Ranges:.bytes..C 0x0050: 6163 6865 2d43 6f6e 7472 6f6c 3a20 7072 ache-Control:.pr 0x0060: 6976 6174 652c 206e 6f2d 6361 6368 652c ivate,.no-cache, 0x0070: 206e 6f2d 7374 6f72 652c 2070 726f 7879 .no-store,.proxy 0x0080: 2d72 6576 616c 6964 6174 652c 206e 6f2d -revalidate,.no- 0x0090: 7472 616e 7366 6f72 6d0d 0a43 6f6e 6e65 transform..Conne 0x00a0: 6374 696f 6e3a 206b 6565 702d 616c 6976 ction:.keep-aliv 0x00b0: 650d 0a43 6f6e 7465 6e74 2d4c 656e 6774 e..Content-Lengt 0x00c0: 683a 2032 3338 310d 0a43 6f6e 7465 6e74 h:.2381..Content 0x00d0: 2d54 7970 653a 2074 6578 742f 6874 6d6c -Type:.text/html 0x00e0: 0d0a 4461 7465 3a20 5375 6e2c 2030 3420 ..Date:.Sun,.04. 0x00f0: 4170 7220 3230 3231 2030 373a 3035 3a34 Apr.2021.07:05:4 0x0100: 3720 474d 540d 0a45 7461 673a 2022 3538 7.GMT..Etag:.&quot;58 0x0110: 3836 3034 6562 2d39 3464 220d 0a4c 6173 8604eb-94d&quot;..Las 0x0120: 742d 4d6f 6469 6669 6564 3a20 4d6f 6e2c t-Modified:.Mon, 0x0130: 2032 3320 4a61 6e20 3230 3137 2031 333a .23.Jan.2017.13: 0x0140: 3238 3a31 3120 474d 540d 0a50 7261 676d 28:11.GMT..Pragm 0x0150: 613a 206e 6f2d 6361 6368 650d 0a53 6572 a:.no-cache..Ser 0x0160: 7665 723a 2062 6665 2f31 2e30 2e38 2e31 ver:.bfe/1.0.8.1 0x0170: 380d 0a53 6574 2d43 6f6f 6b69 653a 2042 8..Set-Cookie:.B 0x0180: 444f 525a 3d32 3733 3135 3b20 6d61 782d DORZ=27315;.max- 0x0190: 6167 653d 3836 3430 303b 2064 6f6d 6169 age=86400;.domai 0x01a0: 6e3d 2e62 6169 6475 2e63 6f6d 3b20 7061 n=.baidu.com;.pa 0x01b0: 7468 3d2f 0d0a 0d0a 3c21 444f 4354 5950 th=/....&lt;!DOCTYP 0x01c0: 4520 6874 6d6c 3e0d 0a3c 212d 2d53 5441 E.html&gt;..&lt;!--STA 0x01d0: 5455 5320 4f4b 2d2d 3e3c 6874 6d6c 3e20 TUS.OK--&gt;&lt;html&gt;. 0x01e0: 3c68 6561 643e 3c6d 6574 6120 6874 7470 &lt;head&gt;&lt;meta.http 0x01f0: 2d65 7175 6976 3d63 6f6e 7465 6e74 2d74 -equiv=content-t 0x0200: 7970 6520 636f 6e74 656e 743d 7465 7874 ype.content=text 0x0210: 2f68 746d 6c3b 6368 6172 7365 743d 7574 /html;charset=ut 0x0220: 662d 383e 3c6d 6574 6120 6874 7470 2d65 f-8&gt;&lt;meta.http-e 0x0230: 7175 6976 3d58 2d55 412d 436f 6d70 6174 quiv=X-UA-Compat 0x0240: 6962 6c65 2063 6f6e 7465 6e74 3d49 453d ible.content=IE= 0x0250: 4564 6765 3e3c 6d65 7461 2063 6f6e 7465 Edge&gt;&lt;meta.conte 0x0260: 6e74 3d61 6c77 6179 7320 6e61 6d65 3d72 nt=always.name=r 0x0270: 6566 6572 7265 723e 3c6c 696e 6b20 7265 eferrer&gt;&lt;link.re 0x0280: 6c3d 7374 796c 6573 6865 6574 2074 7970 l=stylesheet.typ 0x0290: 653d 7465 7874 2f63 7373 2068 7265 663d e=text/css.href= 0x02a0: 6874 7470 3a2f 2f73 312e 6264 7374 6174 http://s1.bdstat 0x02b0: 6963 2e63 6f6d 2f72 2f77 7777 2f63 6163 ic.com/r/www/cac 0x02c0: 6865 2f62 646f 727a 2f62 6169 6475 2e6d he/bdorz/baidu.m 0x02d0: 696e 2e63 7373 3e3c 7469 746c 653e e799 in.css&gt;&lt;title&gt;.. 0x02e0: bee5 baa6 e4b8 80e4 b88b efbc 8ce4 bda0 ................ 0x02f0: e5b0 b1e7 9fa5 e981 933c 2f74 6974 6c65 .........&lt;/title 0x0300: 3e3c 2f68 6561 643e 203c 626f 6479 206c &gt;&lt;/head&gt;.&lt;body.l 0x0310: 696e 6b3d 2330 3030 3063 633e 203c 6469 ink=#0000cc&gt;.&lt;di 0x0320: 7620 6964 3d77 7261 7070 6572 3e20 3c64 v.id=wrapper&gt;.&lt;d 0x0330: 6976 2069 643d 6865 6164 3e20 3c64 6976 iv.id=head&gt;.&lt;div 0x0340: 2063 6c61 7373 3d68 6561 645f 7772 6170 .class=head_wrap 0x0350: 7065 723e 203c 6469 7620 636c 6173 733d per&gt;.&lt;div.class= 0x0360: 735f 666f 726d 3e20 3c64 6976 2063 6c61 s_form&gt;.&lt;div.cla 0x0370: 7373 3d73 5f66 6f72 6d5f 7772 6170 7065 ss=s_form_wrappe 0x0380: 723e 203c 6469 7620 6964 3d6c 673e 203c r&gt;.&lt;div.id=lg&gt;.&lt; 0x0390: 696d 6720 6869 6465 666f 6375 733d 7472 img.hidefocus=tr 0x03a0: 7565 2073 7263 3d2f 2f77 7777 2e62 6169 ue.src=//www.bai 0x03b0: 6475 2e63 6f6d 2f69 6d67 2f62 645f 6c6f du.com/img/bd_lo 0x03c0: 676f 312e 706e 6720 7769 6474 683d 3237 go1.png.width=27 0x03d0: 3020 6865 6967 6874 3d31 3239 3e20 3c2f 0.height=129&gt;.&lt;/ 0x03e0: 6469 763e 203c 666f 726d 2069 643d 666f div&gt;.&lt;form.id=fo 0x03f0: 726d 206e 616d 653d 6620 6163 7469 6f6e rm.name=f.action 0x0400: 3d2f 2f77 7777 2e62 6169 6475 2e63 6f6d =//www.baidu.com 0x0410: 2f73 2063 6c61 7373 3d66 6d3e 203c 696e /s.class=fm&gt;.&lt;in 0x0420: 7075 7420 7479 7065 3d68 6964 6465 6e20 put.type=hidden. 0x0430: 6e61 6d65 3d62 646f 727a 5f63 6f6d 6520 name=bdorz_come. 0x0440: 7661 6c75 653d 313e 203c 696e 7075 7420 value=1&gt;.&lt;input. 0x0450: 7479 7065 3d68 6964 6465 6e20 6e61 6d65 type=hidden.name 0x0460: 3d69 6520 7661 6c75 653d 7574 662d 383e =ie.value=utf-8&gt; 0x0470: 203c 696e 7075 7420 7479 7065 3d68 6964 .&lt;input.type=hid 0x0480: 6465 6e20 6e61 6d65 3d66 2076 616c 7565 den.name=f.value 0x0490: 3d38 3e20 3c69 6e70 7574 2074 7970 653d =8&gt;.&lt;input.type= 0x04a0: 6869 6464 656e 206e 616d 653d 7273 765f hidden.name=rsv_ 0x04b0: 6270 2076 616c 7565 3d31 3e20 3c69 6e70 bp.value=1&gt;.&lt;inp 0x04c0: 7574 2074 7970 653d 6869 6464 656e 206e ut.type=hidden.n 0x04d0: 616d 653d 7273 765f 6964 7820 7661 6c75 ame=rsv_idx.valu 0x04e0: 653d 313e 203c 696e 7075 7420 7479 7065 e=1&gt;.&lt;input.type 0x04f0: 3d68 6964 6465 6e20 6e61 6d65 3d74 6e20 =hidden.name=tn. 0x0500: 7661 6c75 653d 6261 6964 753e 3c73 7061 value=baidu&gt;&lt;spa 0x0510: 6e20 636c 6173 733d 2262 6720 735f 6970 n.class=&quot;bg.s_ip 0x0520: 745f 7772 223e 3c69 6e70 7574 2069 643d t_wr&quot;&gt;&lt;input.id= 0x0530: 6b77 206e 616d 653d 7764 2063 6c61 7373 kw.name=wd.class 0x0540: 3d73 5f69 7074 2076 616c 7565 206d 6178 =s_ipt.value.max 0x0550: 6c65 6e67 7468 3d32 3535 2061 7574 6f63 length=255.autoc 0x0560: 6f6d 706c 6574 653d 6f66 6620 6175 746f omplete=off.auto 0x0570: 666f 6375 733e 3c2f 7370 616e 3e3c 7370 focus&gt;&lt;/span&gt;&lt;sp 0x0580: 616e 2063 6c61 7373 3d22 6267 2073 5f62 an.class=&quot;bg.s_b 0x0590: 746e 5f77 7222 3e3c 696e 7075 7420 7479 tn_wr&quot;&gt;&lt;input.ty 0x05a0: 7065 3d73 7562 6d69 7420 6964 3d73 7520 pe=submit.id=su. 0x05b0: 7661 6c75 653d e799 bee5 baa6 e4b8 80e4 value=.......... 0x05c0: b88b 2063 6c61 7373 3d22 6267 2073 5f62 ...class=&quot;bg.s_b07:05:47.236264 IP (tos 0x0, ttl 64, id 38461, offset 0, flags [DF], proto TCP (6), length 40) 11c749e93da4.60824 &gt; 119.63.197.139.http: Flags [.], cksum 0xe8fa (incorrect -&gt; 0xa453), seq 78, ack 1449, win 251, length 0 0x0000: 4500 0028 963d 4000 4006 bbb2 ac11 0004 E..(.=@.@....... 0x0010: 773f c58b ed98 0050 f8d8 5106 3d15 acc8 w?.....P..Q.=... 0x0020: 5010 00fb e8fa 0000 P.......07:05:47.236270 IP (tos 0x0, ttl 48, id 24977, offset 0, flags [DF], proto TCP (6), length 1373) 119.63.197.139.http &gt; 11c749e93da4.60824: Flags [P.], cksum 0x5cf2 (correct), seq 1449:2782, ack 78, win 916, length 1333: HTTP 0x0000: 4500 055d 6191 4000 3006 fb29 773f c58b E..]a.@.0..)w?.. 0x0010: ac11 0004 0050 ed98 3d15 acc8 f8d8 5106 .....P..=.....Q. 0x0020: 5018 0394 5cf2 0000 746e 223e 3c2f 7370 P...\\...tn&quot;&gt;&lt;/sp 0x0030: 616e 3e20 3c2f 666f 726d 3e20 3c2f 6469 an&gt;.&lt;/form&gt;.&lt;/di 0x0040: 763e 203c 2f64 6976 3e20 3c64 6976 2069 v&gt;.&lt;/div&gt;.&lt;div.i 0x0050: 643d 7531 3e20 3c61 2068 7265 663d 6874 d=u1&gt;.&lt;a.href=ht 0x0060: 7470 3a2f 2f6e 6577 732e 6261 6964 752e tp://news.baidu. 0x0070: 636f 6d20 6e61 6d65 3d74 6a5f 7472 6e65 com.name=tj_trne 0x0080: 7773 2063 6c61 7373 3d6d 6e61 763e e696 ws.class=mnav&gt;.. 0x0090: b0e9 97bb 3c2f 613e 203c 6120 6872 6566 ....&lt;/a&gt;.&lt;a.href 0x00a0: 3d68 7474 703a 2f2f 7777 772e 6861 6f31 =http://www.hao1 0x00b0: 3233 2e63 6f6d 206e 616d 653d 746a 5f74 23.com.name=tj_t 0x00c0: 7268 616f 3132 3320 636c 6173 733d 6d6e rhao123.class=mn 0x00d0: 6176 3e68 616f 3132 333c 2f61 3e20 3c61 av&gt;hao123&lt;/a&gt;.&lt;a 0x00e0: 2068 7265 663d 6874 7470 3a2f 2f6d 6170 .href=http://map 0x00f0: 2e62 6169 6475 2e63 6f6d 206e 616d 653d .baidu.com.name= 0x0100: 746a 5f74 726d 6170 2063 6c61 7373 3d6d tj_trmap.class=m 0x0110: 6e61 763e e59c b0e5 9bbe 3c2f 613e 203c nav&gt;......&lt;/a&gt;.&lt; 0x0120: 6120 6872 6566 3d68 7474 703a 2f2f 762e a.href=http://v. 0x0130: 6261 6964 752e 636f 6d20 6e61 6d65 3d74 baidu.com.name=t 0x0140: 6a5f 7472 7669 6465 6f20 636c 6173 733d j_trvideo.class= 0x0150: 6d6e 6176 3ee8 a786 e9a2 913c 2f61 3e20 mnav&gt;......&lt;/a&gt;. 0x0160: 3c61 2068 7265 663d 6874 7470 3a2f 2f74 &lt;a.href=http://t 0x0170: 6965 6261 2e62 6169 6475 2e63 6f6d 206e ieba.baidu.com.n 0x0180: 616d 653d 746a 5f74 7274 6965 6261 2063 ame=tj_trtieba.c 0x0190: 6c61 7373 3d6d 6e61 763e e8b4 b4e5 90a7 lass=mnav&gt;...... 0x01a0: 3c2f 613e 203c 6e6f 7363 7269 7074 3e20 &lt;/a&gt;.&lt;noscript&gt;. 0x01b0: 3c61 2068 7265 663d 6874 7470 3a2f 2f77 &lt;a.href=http://w 0x01c0: 7777 2e62 6169 6475 2e63 6f6d 2f62 646f ww.baidu.com/bdo 0x01d0: 727a 2f6c 6f67 696e 2e67 6966 3f6c 6f67 rz/login.gif?log 0x01e0: 696e 2661 6d70 3b74 706c 3d6d 6e26 616d in&amp;amp;tpl=mn&amp;am 0x01f0: 703b 753d 6874 7470 2533 4125 3246 2532 p;u=http%3A%2F%2 0x0200: 4677 7777 2e62 6169 6475 2e63 6f6d 2532 Fwww.baidu.com%2 0x0210: 6625 3366 6264 6f72 7a5f 636f 6d65 2533 f%3fbdorz_come%3 0x0220: 6431 206e 616d 653d 746a 5f6c 6f67 696e d1.name=tj_login 0x0230: 2063 6c61 7373 3d6c 623e e799 bbe5 bd95 .class=lb&gt;...... 0x0240: 3c2f 613e 203c 2f6e 6f73 6372 6970 743e &lt;/a&gt;.&lt;/noscript&gt; 0x0250: 203c 7363 7269 7074 3e64 6f63 756d 656e .&lt;script&gt;documen 0x0260: 742e 7772 6974 6528 273c 6120 6872 6566 t.write(&#x27;&lt;a.href 0x0270: 3d22 6874 7470 3a2f 2f77 7777 2e62 6169 =&quot;http://www.bai 0x0280: 6475 2e63 6f6d 2f62 646f 727a 2f6c 6f67 du.com/bdorz/log 0x0290: 696e 2e67 6966 3f6c 6f67 696e 2674 706c in.gif?login&amp;tpl 0x02a0: 3d6d 6e26 753d 272b 2065 6e63 6f64 6555 =mn&amp;u=&#x27;+.encodeU 0x02b0: 5249 436f 6d70 6f6e 656e 7428 7769 6e64 RIComponent(wind 0x02c0: 6f77 2e6c 6f63 6174 696f 6e2e 6872 6566 ow.location.href 0x02d0: 2b20 2877 696e 646f 772e 6c6f 6361 7469 +.(window.locati 0x02e0: 6f6e 2e73 6561 7263 6820 3d3d 3d20 2222 on.search.===.&quot;&quot; 0x02f0: 203f 2022 3f22 203a 2022 2622 292b 2022 .?.&quot;?&quot;.:.&quot;&amp;&quot;)+.&quot; 0x0300: 6264 6f72 7a5f 636f 6d65 3d31 2229 2b20 bdorz_come=1&quot;)+. 0x0310: 2722 206e 616d 653d 2274 6a5f 6c6f 6769 &#x27;&quot;.name=&quot;tj_logi 0x0320: 6e22 2063 6c61 7373 3d22 6c62 223e e799 n&quot;.class=&quot;lb&quot;&gt;.. 0x0330: bbe5 bd95 3c2f 613e 2729 3b3c 2f73 6372 ....&lt;/a&gt;&#x27;);&lt;/scr 0x0340: 6970 743e 203c 6120 6872 6566 3d2f 2f77 ipt&gt;.&lt;a.href=//w 0x0350: 7777 2e62 6169 6475 2e63 6f6d 2f6d 6f72 ww.baidu.com/mor 0x0360: 652f 206e 616d 653d 746a 5f62 7269 6963 e/.name=tj_briic 0x0370: 6f6e 2063 6c61 7373 3d62 7269 2073 7479 on.class=bri.sty 0x0380: 6c65 3d22 6469 7370 6c61 793a 2062 6c6f le=&quot;display:.blo 0x0390: 636b 3b22 3ee6 9bb4 e5a4 9ae4 baa7 e593 ck;&quot;&gt;........... 0x03a0: 813c 2f61 3e20 3c2f 6469 763e 203c 2f64 .&lt;/a&gt;.&lt;/div&gt;.&lt;/d 0x03b0: 6976 3e20 3c2f 6469 763e 203c 6469 7620 iv&gt;.&lt;/div&gt;.&lt;div. 0x03c0: 6964 3d66 7443 6f6e 3e20 3c64 6976 2069 id=ftCon&gt;.&lt;div.i 0x03d0: 643d 6674 436f 6e77 3e20 3c70 2069 643d d=ftConw&gt;.&lt;p.id= 0x03e0: 6c68 3e20 3c61 2068 7265 663d 6874 7470 lh&gt;.&lt;a.href=http 0x03f0: 3a2f 2f68 6f6d 652e 6261 6964 752e 636f ://home.baidu.co 0x0400: 6d3e e585 b3e4 ba8e e799 bee5 baa6 3c2f m&gt;............&lt;/ 0x0410: 613e 203c 6120 6872 6566 3d68 7474 703a a&gt;.&lt;a.href=http: 0x0420: 2f2f 6972 2e62 6169 6475 2e63 6f6d 3e41 //ir.baidu.com&gt;A 0x0430: 626f 7574 2042 6169 6475 3c2f 613e 203c bout.Baidu&lt;/a&gt;.&lt; 0x0440: 2f70 3e20 3c70 2069 643d 6370 3e26 636f /p&gt;.&lt;p.id=cp&gt;&amp;co 0x0450: 7079 3b32 3031 3726 6e62 7370 3b42 6169 py;2017&amp;nbsp;Bai 0x0460: 6475 266e 6273 703b 3c61 2068 7265 663d du&amp;nbsp;&lt;a.href= 0x0470: 6874 7470 3a2f 2f77 7777 2e62 6169 6475 http://www.baidu 0x0480: 2e63 6f6d 2f64 7574 792f 3ee4 bdbf e794 .com/duty/&gt;..... 0x0490: a8e7 99be e5ba a6e5 898d e5bf 85e8 afbb ................ 0x04a0: 3c2f 613e 266e 6273 703b 203c 6120 6872 &lt;/a&gt;&amp;nbsp;.&lt;a.hr 0x04b0: 6566 3d68 7474 703a 2f2f 6a69 616e 7969 ef=http://jianyi 0x04c0: 2e62 6169 6475 2e63 6f6d 2f20 636c 6173 .baidu.com/.clas 0x04d0: 733d 6370 2d66 6565 6462 6163 6b3e e684 s=cp-feedback&gt;.. 0x04e0: 8fe8 a781 e58f 8de9 a688 3c2f 613e 266e ..........&lt;/a&gt;&amp;n 0x04f0: 6273 703b e4ba ac49 4350 e8af 8130 3330 bsp;...ICP...030 0x0500: 3137 33e5 8fb7 266e 6273 703b 203c 696d 173...&amp;nbsp;.&lt;im 0x0510: 6720 7372 633d 2f2f 7777 772e 6261 6964 g.src=//www.baid 0x0520: 752e 636f 6d2f 696d 672f 6773 2e67 6966 u.com/img/gs.gif 0x0530: 3e20 3c2f 703e 203c 2f64 6976 3e20 3c2f &gt;.&lt;/p&gt;.&lt;/div&gt;.&lt;/ 0x0540: 6469 763e 203c 2f64 6976 3e20 3c2f 626f div&gt;.&lt;/div&gt;.&lt;/bo 0x0550: 6479 3e20 3c2f 6874 6d6c 3e0d 0a dy&gt;.&lt;/html&gt;..07:05:47.236276 IP (tos 0x0, ttl 64, id 38462, offset 0, flags [DF], proto TCP (6), length 40) 11c749e93da4.60824 &gt; 119.63.197.139.http: Flags [.], cksum 0xe8fa (incorrect -&gt; 0x9f07), seq 78, ack 2782, win 274, length 0 0x0000: 4500 0028 963e 4000 4006 bbb1 ac11 0004 E..(.&gt;@.@....... 0x0010: 773f c58b ed98 0050 f8d8 5106 3d15 b1fd w?.....P..Q.=... 0x0020: 5010 0112 e8fa 0000 P.......07:05:47.236425 IP (tos 0x0, ttl 64, id 38463, offset 0, flags [DF], proto TCP (6), length 40) 11c749e93da4.60824 &gt; 119.63.197.139.http: Flags [F.], cksum 0xe8fa (incorrect -&gt; 0x9f06), seq 78, ack 2782, win 274, length 0 0x0000: 4500 0028 963f 4000 4006 bbb0 ac11 0004 E..(.?@.@....... 0x0010: 773f c58b ed98 0050 f8d8 5106 3d15 b1fd w?.....P..Q.=... 0x0020: 5011 0112 e8fa 0000 P.......07:05:47.245278 IP (tos 0x0, ttl 48, id 24978, offset 0, flags [DF], proto TCP (6), length 1373) 119.63.197.139.http &gt; 11c749e93da4.60824: Flags [P.], cksum 0x5cf2 (correct), seq 1449:2782, ack 78, win 916, length 1333: HTTP 0x0000: 4500 055d 6192 4000 3006 fb28 773f c58b E..]a.@.0..(w?.. 0x0010: ac11 0004 0050 ed98 3d15 acc8 f8d8 5106 .....P..=.....Q. 0x0020: 5018 0394 5cf2 0000 746e 223e 3c2f 7370 P...\\...tn&quot;&gt;&lt;/sp 0x0030: 616e 3e20 3c2f 666f 726d 3e20 3c2f 6469 an&gt;.&lt;/form&gt;.&lt;/di 0x0040: 763e 203c 2f64 6976 3e20 3c64 6976 2069 v&gt;.&lt;/div&gt;.&lt;div.i 0x0050: 643d 7531 3e20 3c61 2068 7265 663d 6874 d=u1&gt;.&lt;a.href=ht 0x0060: 7470 3a2f 2f6e 6577 732e 6261 6964 752e tp://news.baidu. 0x0070: 636f 6d20 6e61 6d65 3d74 6a5f 7472 6e65 com.name=tj_trne 0x0080: 7773 2063 6c61 7373 3d6d 6e61 763e e696 ws.class=mnav&gt;.. 0x0090: b0e9 97bb 3c2f 613e 203c 6120 6872 6566 ....&lt;/a&gt;.&lt;a.href 0x00a0: 3d68 7474 703a 2f2f 7777 772e 6861 6f31 =http://www.hao1 0x00b0: 3233 2e63 6f6d 206e 616d 653d 746a 5f74 23.com.name=tj_t 0x00c0: 7268 616f 3132 3320 636c 6173 733d 6d6e rhao123.class=mn 0x00d0: 6176 3e68 616f 3132 333c 2f61 3e20 3c61 av&gt;hao123&lt;/a&gt;.&lt;a 0x00e0: 2068 7265 663d 6874 7470 3a2f 2f6d 6170 .href=http://map 0x00f0: 2e62 6169 6475 2e63 6f6d 206e 616d 653d .baidu.com.name= 0x0100: 746a 5f74 726d 6170 2063 6c61 7373 3d6d tj_trmap.class=m 0x0110: 6e61 763e e59c b0e5 9bbe 3c2f 613e 203c nav&gt;......&lt;/a&gt;.&lt; 0x0120: 6120 6872 6566 3d68 7474 703a 2f2f 762e a.href=http://v. 0x0130: 6261 6964 752e 636f 6d20 6e61 6d65 3d74 baidu.com.name=t 0x0140: 6a5f 7472 7669 6465 6f20 636c 6173 733d j_trvideo.class= 0x0150: 6d6e 6176 3ee8 a786 e9a2 913c 2f61 3e20 mnav&gt;......&lt;/a&gt;. 0x0160: 3c61 2068 7265 663d 6874 7470 3a2f 2f74 &lt;a.href=http://t 0x0170: 6965 6261 2e62 6169 6475 2e63 6f6d 206e ieba.baidu.com.n 0x0180: 616d 653d 746a 5f74 7274 6965 6261 2063 ame=tj_trtieba.c 0x0190: 6c61 7373 3d6d 6e61 763e e8b4 b4e5 90a7 lass=mnav&gt;...... 0x01a0: 3c2f 613e 203c 6e6f 7363 7269 7074 3e20 &lt;/a&gt;.&lt;noscript&gt;. 0x01b0: 3c61 2068 7265 663d 6874 7470 3a2f 2f77 &lt;a.href=http://w 0x01c0: 7777 2e62 6169 6475 2e63 6f6d 2f62 646f ww.baidu.com/bdo 0x01d0: 727a 2f6c 6f67 696e 2e67 6966 3f6c 6f67 rz/login.gif?log 0x01e0: 696e 2661 6d70 3b74 706c 3d6d 6e26 616d in&amp;amp;tpl=mn&amp;am 0x01f0: 703b 753d 6874 7470 2533 4125 3246 2532 p;u=http%3A%2F%2 0x0200: 4677 7777 2e62 6169 6475 2e63 6f6d 2532 Fwww.baidu.com%2 0x0210: 6625 3366 6264 6f72 7a5f 636f 6d65 2533 f%3fbdorz_come%3 0x0220: 6431 206e 616d 653d 746a 5f6c 6f67 696e d1.name=tj_login 0x0230: 2063 6c61 7373 3d6c 623e e799 bbe5 bd95 .class=lb&gt;...... 0x0240: 3c2f 613e 203c 2f6e 6f73 6372 6970 743e &lt;/a&gt;.&lt;/noscript&gt; 0x0250: 203c 7363 7269 7074 3e64 6f63 756d 656e .&lt;script&gt;documen 0x0260: 742e 7772 6974 6528 273c 6120 6872 6566 t.write(&#x27;&lt;a.href 0x0270: 3d22 6874 7470 3a2f 2f77 7777 2e62 6169 =&quot;http://www.bai 0x0280: 6475 2e63 6f6d 2f62 646f 727a 2f6c 6f67 du.com/bdorz/log 0x0290: 696e 2e67 6966 3f6c 6f67 696e 2674 706c in.gif?login&amp;tpl 0x02a0: 3d6d 6e26 753d 272b 2065 6e63 6f64 6555 =mn&amp;u=&#x27;+.encodeU 0x02b0: 5249 436f 6d70 6f6e 656e 7428 7769 6e64 RIComponent(wind 0x02c0: 6f77 2e6c 6f63 6174 696f 6e2e 6872 6566 ow.location.href 0x02d0: 2b20 2877 696e 646f 772e 6c6f 6361 7469 +.(window.locati 0x02e0: 6f6e 2e73 6561 7263 6820 3d3d 3d20 2222 on.search.===.&quot;&quot; 0x02f0: 203f 2022 3f22 203a 2022 2622 292b 2022 .?.&quot;?&quot;.:.&quot;&amp;&quot;)+.&quot; 0x0300: 6264 6f72 7a5f 636f 6d65 3d31 2229 2b20 bdorz_come=1&quot;)+. 0x0310: 2722 206e 616d 653d 2274 6a5f 6c6f 6769 &#x27;&quot;.name=&quot;tj_logi 0x0320: 6e22 2063 6c61 7373 3d22 6c62 223e e799 n&quot;.class=&quot;lb&quot;&gt;.. 0x0330: bbe5 bd95 3c2f 613e 2729 3b3c 2f73 6372 ....&lt;/a&gt;&#x27;);&lt;/scr 0x0340: 6970 743e 203c 6120 6872 6566 3d2f 2f77 ipt&gt;.&lt;a.href=//w 0x0350: 7777 2e62 6169 6475 2e63 6f6d 2f6d 6f72 ww.baidu.com/mor 0x0360: 652f 206e 616d 653d 746a 5f62 7269 6963 e/.name=tj_briic 0x0370: 6f6e 2063 6c61 7373 3d62 7269 2073 7479 on.class=bri.sty 0x0380: 6c65 3d22 6469 7370 6c61 793a 2062 6c6f le=&quot;display:.blo 0x0390: 636b 3b22 3ee6 9bb4 e5a4 9ae4 baa7 e593 ck;&quot;&gt;........... 0x03a0: 813c 2f61 3e20 3c2f 6469 763e 203c 2f64 .&lt;/a&gt;.&lt;/div&gt;.&lt;/d 0x03b0: 6976 3e20 3c2f 6469 763e 203c 6469 7620 iv&gt;.&lt;/div&gt;.&lt;div. 0x03c0: 6964 3d66 7443 6f6e 3e20 3c64 6976 2069 id=ftCon&gt;.&lt;div.i 0x03d0: 643d 6674 436f 6e77 3e20 3c70 2069 643d d=ftConw&gt;.&lt;p.id= 0x03e0: 6c68 3e20 3c61 2068 7265 663d 6874 7470 lh&gt;.&lt;a.href=http 0x03f0: 3a2f 2f68 6f6d 652e 6261 6964 752e 636f ://home.baidu.co 0x0400: 6d3e e585 b3e4 ba8e e799 bee5 baa6 3c2f m&gt;............&lt;/ 0x0410: 613e 203c 6120 6872 6566 3d68 7474 703a a&gt;.&lt;a.href=http: 0x0420: 2f2f 6972 2e62 6169 6475 2e63 6f6d 3e41 //ir.baidu.com&gt;A 0x0430: 626f 7574 2042 6169 6475 3c2f 613e 203c bout.Baidu&lt;/a&gt;.&lt; 0x0440: 2f70 3e20 3c70 2069 643d 6370 3e26 636f /p&gt;.&lt;p.id=cp&gt;&amp;co 0x0450: 7079 3b32 3031 3726 6e62 7370 3b42 6169 py;2017&amp;nbsp;Bai 0x0460: 6475 266e 6273 703b 3c61 2068 7265 663d du&amp;nbsp;&lt;a.href= 0x0470: 6874 7470 3a2f 2f77 7777 2e62 6169 6475 http://www.baidu 0x0480: 2e63 6f6d 2f64 7574 792f 3ee4 bdbf e794 .com/duty/&gt;..... 0x0490: a8e7 99be e5ba a6e5 898d e5bf 85e8 afbb ................ 0x04a0: 3c2f 613e 266e 6273 703b 203c 6120 6872 &lt;/a&gt;&amp;nbsp;.&lt;a.hr 0x04b0: 6566 3d68 7474 703a 2f2f 6a69 616e 7969 ef=http://jianyi 0x04c0: 2e62 6169 6475 2e63 6f6d 2f20 636c 6173 .baidu.com/.clas 0x04d0: 733d 6370 2d66 6565 6462 6163 6b3e e684 s=cp-feedback&gt;.. 0x04e0: 8fe8 a781 e58f 8de9 a688 3c2f 613e 266e ..........&lt;/a&gt;&amp;n 0x04f0: 6273 703b e4ba ac49 4350 e8af 8130 3330 bsp;...ICP...030 0x0500: 3137 33e5 8fb7 266e 6273 703b 203c 696d 173...&amp;nbsp;.&lt;im 0x0510: 6720 7372 633d 2f2f 7777 772e 6261 6964 g.src=//www.baid 0x0520: 752e 636f 6d2f 696d 672f 6773 2e67 6966 u.com/img/gs.gif 0x0530: 3e20 3c2f 703e 203c 2f64 6976 3e20 3c2f &gt;.&lt;/p&gt;.&lt;/div&gt;.&lt;/ 0x0540: 6469 763e 203c 2f64 6976 3e20 3c2f 626f div&gt;.&lt;/div&gt;.&lt;/bo 0x0550: 6479 3e20 3c2f 6874 6d6c 3e0d 0a dy&gt;.&lt;/html&gt;..07:05:47.245289 IP (tos 0x0, ttl 64, id 38464, offset 0, flags [DF], proto TCP (6), length 52) 11c749e93da4.60824 &gt; 119.63.197.139.http: Flags [.], cksum 0xe906 (incorrect -&gt; 0x8ffe), seq 79, ack 2782, win 274, options [nop,nop,sack 1 &#123;1449:2782&#125;], length 0 0x0000: 4500 0034 9640 4000 4006 bba3 ac11 0004 E..4.@@.@....... 0x0010: 773f c58b ed98 0050 f8d8 5107 3d15 b1fd w?.....P..Q.=... 0x0020: 8010 0112 e906 0000 0101 050a 3d15 acc8 ............=... 0x0030: 3d15 b1fd =...07:05:47.290600 IP (tos 0x0, ttl 48, id 24979, offset 0, flags [DF], proto TCP (6), length 40) 119.63.197.139.http &gt; 11c749e93da4.60824: Flags [.], cksum 0x9c84 (correct), seq 2782, ack 79, win 916, length 0 0x0000: 4500 0028 6193 4000 3006 005d 773f c58b E..(a.@.0..]w?.. 0x0010: ac11 0004 0050 ed98 3d15 b1fd f8d8 5107 .....P..=.....Q. 0x0020: 5010 0394 9c84 0000 P.......07:05:47.290677 IP (tos 0x0, ttl 48, id 24980, offset 0, flags [DF], proto TCP (6), length 40) 119.63.197.139.http &gt; 11c749e93da4.60824: Flags [F.], cksum 0x9c83 (correct), seq 2782, ack 79, win 916, length 0 0x0000: 4500 0028 6194 4000 3006 005c 773f c58b E..(a.@.0..\\w?.. 0x0010: ac11 0004 0050 ed98 3d15 b1fd f8d8 5107 .....P..=.....Q. 0x0020: 5011 0394 9c83 0000 P.......07:05:47.290688 IP (tos 0x0, ttl 64, id 0, offset 0, flags [DF], proto TCP (6), length 40) 11c749e93da4.60824 &gt; 119.63.197.139.http: Flags [.], cksum 0x9f05 (correct), seq 79, ack 2783, win 274, length 0 0x0000: 4500 0028 0000 4000 4006 51f0 ac11 0004 E..(..@.@.Q..... 0x0010: 773f c58b ed98 0050 f8d8 5107 3d15 b1fe w?.....P..Q.=... 0x0020: 5010 0112 9f05 0000 P.......07:05:52.563152 ARP, Ethernet (len 6), IPv4 (len 4), Request who-has _gateway tell 11c749e93da4, length 28 0x0000: 0001 0800 0604 0001 0242 ac11 0004 ac11 .........B...... 0x0010: 0004 0000 0000 0000 ac11 0001 ............07:05:52.563261 IP (tos 0x0, ttl 64, id 11424, offset 0, flags [DF], proto UDP (17), length 69) 11c749e93da4.55957 &gt; 183.60.83.19.domain: [bad udp cksum 0xb6a7 -&gt; 0x168f!] 27628+ PTR? 1.0.17.172.in-addr.arpa. (41) 0x0000: 4500 0045 2ca0 4000 4011 57a3 ac11 0004 E..E,.@.@.W..... 0x0010: b73c 5313 da95 0035 0031 b6a7 6bec 0100 .&lt;S....5.1..k... 0x0020: 0001 0000 0000 0000 0131 0130 0231 3703 .........1.0.17. 0x0030: 3137 3207 696e 2d61 6464 7204 6172 7061 172.in-addr.arpa 0x0040: 0000 0c00 01 .....07:05:52.563277 ARP, Ethernet (len 6), IPv4 (len 4), Request who-has 11c749e93da4 tell _gateway, length 28 0x0000: 0001 0800 0604 0001 0242 d8b4 5ac6 ac11 .........B..Z... 0x0010: 0001 0000 0000 0000 ac11 0004 ............07:05:52.563282 ARP, Ethernet (len 6), IPv4 (len 4), Reply 11c749e93da4 is-at 02:42:ac:11:00:04 (oui Unknown), length 28 0x0000: 0001 0800 0604 0002 0242 ac11 0004 ac11 .........B...... 0x0010: 0004 0242 d8b4 5ac6 ac11 0001 ...B..Z.....07:05:52.563338 ARP, Ethernet (len 6), IPv4 (len 4), Reply _gateway is-at 02:42:d8:b4:5a:c6 (oui Unknown), length 28 0x0000: 0001 0800 0604 0002 0242 d8b4 5ac6 ac11 .........B..Z... 0x0010: 0001 0242 ac11 0004 ac11 0004 ...B........07:05:52.564181 IP (tos 0x0, ttl 251, id 25768, offset 0, flags [DF], proto UDP (17), length 128) 183.60.83.19.domain &gt; 11c749e93da4.55957: [udp sum ok] 27628 NXDomain q: PTR? 1.0.17.172.in-addr.arpa. 0/1/0 ns: 17.172.in-addr.arpa. SOA localhost. nobody.invalid. 1 3600 1200 604800 10800 (100) 0x0000: 4500 0080 64a8 4000 fb11 645f b73c 5313 E...d.@...d_.&lt;S. 0x0010: ac11 0004 0035 da95 006c 3205 6bec 8183 .....5...l2.k... 0x0020: 0001 0000 0001 0000 0131 0130 0231 3703 .........1.0.17. 0x0030: 3137 3207 696e 2d61 6464 7204 6172 7061 172.in-addr.arpa 0x0040: 0000 0c00 01c0 1000 0600 0100 0028 7700 .............(w. 0x0050: 2f09 6c6f 6361 6c68 6f73 7400 066e 6f62 /.localhost..nob 0x0060: 6f64 7907 696e 7661 6c69 6400 0000 0001 ody.invalid..... 0x0070: 0000 0e10 0000 04b0 0009 3a80 0000 2a30 ..........:...*007:06:22.259171 IP6 (hlim 255, next-header ICMPv6 (58) payload length: 16) fe80::783e:2cff:fe82:366e &gt; ip6-allrouters: [icmp6 sum ok] ICMP6, router solicitation, length 16 source link-address option (1), length 8 (1): 7a:3e:2c:82:36:6e 0x0000: 7a3e 2c82 366e 0x0000: 6000 0000 0010 3aff fe80 0000 0000 0000 `.....:......... 0x0010: 783e 2cff fe82 366e ff02 0000 0000 0000 x&gt;,...6n........ 0x0020: 0000 0000 0000 0002 8500 c4d0 0000 0000 ................ 0x0030: 0101 7a3e 2c82 366e ..z&gt;,.6n07:06:22.259342 IP (tos 0x0, ttl 64, id 31879, offset 0, flags [DF], proto UDP (17), length 118) 11c749e93da4.41853 &gt; 183.60.83.19.domain: [bad udp cksum 0xb6d8 -&gt; 0x897b!] 42755+ PTR? e.6.6.3.2.8.e.f.f.f.c.2.e.3.8.7.0.0.0.0.0.0.0.0.0.0.0.0.0.8.e.f.ip6.arpa. (90) 0x0000: 4500 0076 7c87 4000 4011 078b ac11 0004 E..v|.@.@....... 0x0010: b73c 5313 a37d 0035 0062 b6d8 a703 0100 .&lt;S..&#125;.5.b...... 0x0020: 0001 0000 0000 0000 0165 0136 0136 0133 .........e.6.6.3 0x0030: 0132 0138 0165 0166 0166 0166 0163 0132 .2.8.e.f.f.f.c.2 0x0040: 0165 0133 0138 0137 0130 0130 0130 0130 .e.3.8.7.0.0.0.0 0x0050: 0130 0130 0130 0130 0130 0130 0130 0130 .0.0.0.0.0.0.0.0 0x0060: 0130 0138 0165 0166 0369 7036 0461 7270 .0.8.e.f.ip6.arp 0x0070: 6100 000c 0001 a.....07:06:22.260457 IP (tos 0x0, ttl 251, id 8652, offset 0, flags [DF], proto UDP (17), length 177) 183.60.83.19.domain &gt; 11c749e93da4.41853: [udp sum ok] 42755 NXDomain* q: PTR? e.6.6.3.2.8.e.f.f.f.c.2.e.3.8.7.0.0.0.0.0.0.0.0.0.0.0.0.0.8.e.f.ip6.arpa. 0/1/0 ns: 8.e.f.ip6.arpa. SOA localhost. nobody.invalid. 1 3600 1200 604800 10800 (149) 0x0000: 4500 00b1 21cc 4000 fb11 a70a b73c 5313 E...!.@......&lt;S. 0x0010: ac11 0004 0035 a37d 009d 732e a703 8583 .....5.&#125;..s..... 0x0020: 0001 0000 0001 0000 0165 0136 0136 0133 .........e.6.6.3 0x0030: 0132 0138 0165 0166 0166 0166 0163 0132 .2.8.e.f.f.f.c.2 0x0040: 0165 0133 0138 0137 0130 0130 0130 0130 .e.3.8.7.0.0.0.0 0x0050: 0130 0130 0130 0130 0130 0130 0130 0130 .0.0.0.0.0.0.0.0 0x0060: 0130 0138 0165 0166 0369 7036 0461 7270 .0.8.e.f.ip6.arp 0x0070: 6100 000c 0001 c046 0006 0001 0000 2a30 a......F......*0 0x0080: 002f 096c 6f63 616c 686f 7374 0006 6e6f ./.localhost..no 0x0090: 626f 6479 0769 6e76 616c 6964 0000 0000 body.invalid.... 0x00a0: 0100 000e 1000 0004 b000 093a 8000 002a ...........:...* 0x00b0: 30 007:10:28.019149 IP6 (hlim 255, next-header ICMPv6 (58) payload length: 16) fe80::783e:2cff:fe82:366e &gt; ip6-allrouters: [icmp6 sum ok] ICMP6, router solicitation, length 16 source link-address option (1), length 8 (1): 7a:3e:2c:82:36:6e 0x0000: 7a3e 2c82 366e 0x0000: 6000 0000 0010 3aff fe80 0000 0000 0000 `.....:......... 0x0010: 783e 2cff fe82 366e ff02 0000 0000 0000 x&gt;,...6n........ 0x0020: 0000 0000 0000 0002 8500 c4d0 0000 0000 ................ 0x0030: 0101 7a3e 2c82 366e ..z&gt;,.6n ä»IPæŠ¥æ–‡å¼€å§‹è¯´èµ·å…ˆå›é¡¾IPv4æŠ¥æ–‡, ç„¶åå›é¡¾æŠ¥æ–‡ç»†èŠ‚ ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒIPv4å¤´ä¸º20å­—èŠ‚ï¼Œ æ›´ä¸€èˆ¬åœ°ï¼Œç‰ˆæœ¬ä¸º4ï¼Œé¦–éƒ¨é•¿åº¦ä¸º5ï¼ˆ5*4&#x3D;20å­—èŠ‚ï¼‰ï¼ŒæœåŠ¡ç±»å‹ä¸º00ï¼ˆä»£è¡¨å¸¸è§„ï¼‰ï¼Œæ•°æ®æŠ¥é•¿åº¦æœªçŸ¥ï¼Œå–å†³äºæ•°æ®ï¼Œæ‰€ä»¥å‰4ä¸ªå­—èŠ‚ä¸€èˆ¬ä¸º 4500 xxxx 16ä½æ¯”ç‰¹æ ‡è¯†å¯¹äºæ¯ä¸€ä¸ªä¸»æœºå‘é€çš„IPæŠ¥æ–‡ï¼Œå…¶æ•°å€¼æ˜¯é€’å¢çš„ï¼Œå¯¹äºIPæŠ¥æ–‡éƒ½æœ€åä¸€ä¸ªåˆ†ç‰‡æ ‡å¿—ä¸º1ï¼Œå…¶ä»–åˆ†ç‰‡æ ‡å¿—ä¸º0ï¼Œå¦‚æœè·¯ç”±å™¨ä¸æ¶‰åŠåˆ†ç‰‡ï¼Œåˆ™13ä½çš„åç§»ä¹Ÿä¸º0ï¼Œæ•…è€Œè¿™å››ä¸ªå­—èŠ‚ä¸€èˆ¬ä¸º xxxx,xxxx,xxxx,xxxx 0010 0000,0000,0000, ä¹Ÿå³xxxx 4000 å¯¹äº8ä½çš„å¯¿å‘½ï¼Œè¿™ä¸ªæ˜¯æœªçŸ¥çš„ï¼Œå¯¹äºä¸Šå±‚åè®®ï¼ŒUDPä¸º17ï¼ŒTCPä¸º6ï¼Œæ•…è€Œä¸º11æˆ–è€…06,å¯¹äºé¦–éƒ¨æ ¡éªŒå’Œï¼Œè¿™ä¸ªæœªçŸ¥ï¼Œæ•…è€Œè¿™4ä¸ªå­—èŠ‚ä¸€èˆ¬ä¸º xx11 xxxx æˆ–è€… xx06 xxxx æ€»ä½“ä¸Šæ¥çœ‹: UDPæŠ¥æ–‡çš„IPå¤´ä¸º 4500 xxxx xxxx 4000 xx11 xxxx xxxx xxxx xxxx xxxx TCPæŠ¥æ–‡çš„IPå¤´ä¸º 4500 xxxx xxxx 4000 xx06 xxxx xxxx xxxx xxxx xxxx å¤±è´¥çš„UDPè¯·æ±‚æˆ‘ä»¬å‘ç°å‰ä¸¤æ¡ä¸­å‡ºç°äº†ä¸¤ä¸ªUDPæŠ¥æ–‡,è¿™é‡Œå‰10ä¸ªå­—èŠ‚å¾ˆæ˜æ˜¾èƒ½çœ‹åˆ°æ˜¯å±äºUDPæŠ¥æ–‡è¢«IPå°åŒ…äº†ã€‚ 12345678910111207:05:47.059101 IP (tos 0x0, ttl 64, id 10179, offset 0, flags [DF], proto UDP (17), length 59) 11c749e93da4.39962 &gt; 183.60.83.19.domain: [bad udp cksum 0xb69d -&gt; 0x7fa1!] 29001+ A? www.baidu.com. (31) 0x0000: 4500 003b 27c3 4000 4011 5c8a ac11 0004 E..;&#x27;.@.@.\\..... 0x0010: b73c 5313 9c1a 0035 0027 b69d 7149 0100 .&lt;S....5.&#x27;..qI.. 0x0020: 0001 0000 0000 0000 0377 7777 0562 6169 .........www.bai 0x0030: 6475 0363 6f6d 0000 0100 01 du.com.....07:05:47.059181 IP (tos 0x0, ttl 64, id 10180, offset 0, flags [DF], proto UDP (17), length 59) 11c749e93da4.39962 &gt; 183.60.83.19.domain: [bad udp cksum 0xb69d -&gt; 0x8397!] 21075+ AAAA? www.baidu.com. (31) 0x0000: 4500 003b 27c4 4000 4011 5c89 ac11 0004 E..;&#x27;.@.@.\\..... 0x0010: b73c 5313 9c1a 0035 0027 b69d 5253 0100 .&lt;S....5.&#x27;..RS.. 0x0020: 0001 0000 0000 0000 0377 7777 0562 6169 .........www.bai 0x0030: 6475 0363 6f6d 0000 1c00 01 du.com..... å’±ä»¬å…ˆä¸ç®¡è¿™ä¸¤ä¸ªæŠ¥æ–‡æ˜¯å¹²ä»€ä¹ˆçš„,ä¸éš¾å‡ºç°äº†ä¸€ä¸ª[bad udp cksum 0xb69d -&gt; 0x7fa1!],è¿™ä¸ªæ„æ€å¾ˆæ˜æ˜¾äº†,åŸæ¥è¿™æ˜¯ä¸¤ä¸ªåçš„UDPåŒ…ã€‚æˆ‘ä»¬å›é¡¾UDPæŠ¥æ–‡ï¼Œç„¶åå¯¹ç€ä¸¤ä¸ªåŒ…è¿›è¡Œåˆ†æ UDPæŠ¥æ–‡å¤ä¹  å¯¹äºç¬¬ä¸€ä¸ªæŠ¥æ–‡ï¼Œæˆ‘ä»¬å¯¹ä»–è¿›è¡Œå¦‚ä¸‹åˆ†è§£ï¼Œ å…¶ä¸­çš„ [bad udp cksum 0xb69d -&gt; 0x7fa1!]æŒ‡çš„å°±æ˜¯æ•°æ®éƒ¨åˆ†çš„æ ¡éªŒå’Œä¸ç­‰äºb69dæ‰€ä»¥è¿™ä¸ªåŒ…æ˜¯ä¸€ä¸ªå‘ç”Ÿäº†é”™è¯¯çš„åŒ…ï¼Œ å¦ä¸€æ–¹é¢æˆ‘ä»¬è¿˜èƒ½å¾—åˆ°ä¸€äº›ä¿¡æ¯ï¼Œ11c749e93da4.39962 &gt; 183.60.83.19.domain: ä»£è¡¨è¿™ä¸ªåŒ…ç”±11c749e93da4å‘å¾€183.60.83.19:53ï¼Œ 53æ˜¯DNSæœåŠ¡å™¨çš„ç«¯å£ï¼Œæ‰€ä»¥æˆ‘ä»¬çŒœæµ‹è¿™æ˜¯ä¸€ä¸ªDNSè¯·æ±‚ 1234567IP å¤´4500 003b 27c3 4000 4011 5c8a ac11 0004 b73c 5313UDP å¤´9c1a 0035 0027 b69d æ•°æ®7149 0100 0001 0000 0000 0000 0377 7777 0562 61696475 0363 6f6d 0000 0100 01 è™½ç„¶åŸŸåèƒ½è§£æä½†å‡ºç°äº†ä¸€äº›bad udpä¹‹ç±»çš„æ•°æ®åŒ…ï¼Œå¾ˆå¥‡æ€ªï¼Œåæ¥æ·±å…¥äº†è§£äº†ä¸€ä¸‹ç½‘å¡çš„checksum offloading æœºåˆ¶ï¼Œå®ƒæ˜¯è´Ÿè´£è®¡ç®—éœ€è¦å‘é€æˆ–è€…æ¥æ”¶åˆ°çš„TCP&#x2F;UDPæ¶ˆæ¯çš„æ ¡éªŒå’Œï¼Œä»è€ŒèŠ‚çœCPUçš„è®¡ç®—å¼€é”€çš„ä¸€ç§æœºåˆ¶ï¼ŒCheckSum Offloadå®é™…ä¸Šæ˜¯å°†ä¼ è¾“å±‚çš„ä¸€éƒ¨åˆ†å·¥ä½œäº¤ç»™äº†ç¡¬ä»¶å®Œæˆï¼Œä»¥èŠ‚çº¦ç³»ç»Ÿçš„CPUèµ„æºã€‚å¾®è½¯çš„æµ‹è¯•è¡¨æ˜å®ƒå¯ä»¥æœ€å¤šèŠ‚çº¦30%çš„CPUèµ„æºã€‚â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºCSDNåšä¸»ã€Œu010278923ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚åŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/u010278923/article/details/81697553 ç„¶ååé¢å¹¶æ²¡æœ‰çœ‹åˆ°æ­£ç¡®çš„DNSè¯·æ±‚æŠ¥æ–‡ï¼Œç¬”è€…è¿˜æš‚æœªå¼„æ¸…åŸå›  DNSå›åº”å…ˆå¤ä¹ ä¸€ä¸‹DNSåè®® 123456789101112131415161718192007:05:47.059442 IP (tos 0x0, ttl 60, id 50890, offset 0, flags [DF], proto UDP (17), length 144) 183.60.83.19.domain &gt; 11c749e93da4.39962: [udp sum ok] 29001 q: A? www.baidu.com. 4/0/0 www.baidu.com. CNAME www.a.shifen.com., www.a.shifen.com. CNAME www.wshifen.com., www.wshifen.com. A 119.63.197.139, www.wshifen.com. A 119.63.197.151 (116) 0x0000: 4500 0090 c6ca 4000 3c11 c12d b73c 5313 E.....@.&lt;..-.&lt;S. 0x0010: ac11 0004 0035 9c1a 007c 7f99 7149 8180 .....5...|..qI.. 0x0020: 0001 0004 0000 0000 0377 7777 0562 6169 .........www.bai 0x0030: 6475 0363 6f6d 0000 0100 01c0 0c00 0500 du.com.......... 0x0040: 0100 0002 c900 0f03 7777 7701 6106 7368 ........www.a.sh 0x0050: 6966 656e c016 c02b 0005 0001 0000 0103 ifen...+........ 0x0060: 000e 0377 7777 0777 7368 6966 656e c016 ...www.wshifen.. 0x0070: c046 0001 0001 0000 0104 0004 773f c58b .F..........w?.. 0x0080: c046 0001 0001 0000 0104 0004 773f c597 .F..........w?..07:05:47.059514 IP (tos 0x0, ttl 60, id 50891, offset 0, flags [DF], proto UDP (17), length 112) 183.60.83.19.domain &gt; 11c749e93da4.39962: [udp sum ok] 21075 q: AAAA? www.baidu.com. 2/0/0 www.baidu.com. CNAME www.a.shifen.com., www.a.shifen.com. CNAME www.wshifen.com. (84) 0x0000: 4500 0070 c6cb 4000 3c11 c14c b73c 5313 E..p..@.&lt;..L.&lt;S. 0x0010: ac11 0004 0035 9c1a 005c c213 5253 8180 .....5...\\..RS.. 0x0020: 0001 0002 0000 0000 0377 7777 0562 6169 .........www.bai 0x0030: 6475 0363 6f6d 0000 1c00 01c0 0c00 0500 du.com.......... 0x0040: 0100 0004 8700 0f03 7777 7701 6106 7368 ........www.a.sh 0x0050: 6966 656e c016 c02b 0005 0001 0000 0103 ifen...+........ 0x0060: 000e 0377 7777 0777 7368 6966 656e c016 ...www.wshifen.. æˆ‘ä»¬æå–DNSå›åº”ä¸­ç¬¬ä¸€ä¸ªUDPæŠ¥æ–‡çš„æ•°æ®æ®µ 12345678 7149 8180 qI..0001 0004 0000 0000 0377 7777 0562 6169 .........www.bai6475 0363 6f6d 0000 0100 01c0 0c00 0500 du.com..........0100 0002 c900 0f03 7777 7701 6106 7368 ........www.a.sh6966 656e c016 c02b 0005 0001 0000 0103 ifen...+........000e 0377 7777 0777 7368 6966 656e c016 ...www.wshifen..c046 0001 0001 0000 0104 0004 773f c58b .F..........w?..c046 0001 0001 0000 0104 0004 773f c597 .F..........w?.. 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485äº‹åŠ¡id: 7149åˆ†è§£: 8180 -&gt; 1000, 0001, 1000, 0000 -&gt; 1, 0000, 0, 0, 1, 1, 0, 0, 0, 0000QR: 1 -&gt; æŸ¥è¯¢OpCode: 0000 -&gt; æŸ¥è¯¢AA: 0 -&gt; æœªæˆæƒTC: 0 -&gt; æœªæˆªæ–­RD: 1 -&gt; æœŸæœ›é€’å½’RA: 1 -&gt; æ”¯æŒé€’å½’Z: 0 -&gt; ä¿ç•™ä½AD: 0 -&gt; æˆæƒCD: 0 -&gt; ä¸ç¦æ­¢å®‰å…¨æ£€æŸ¥RCODE: 0000 -&gt; æ— é”™è¯¯æŸ¥è¯¢æ•°/åŒºåŸŸæ•°: 0001 -&gt; ä¸€ä¸ªæŸ¥è¯¢å›ç­”æ•°/å…ˆå†³æ¡ä»¶æ•°: 0004 -&gt; 4ä¸ªå›ç­”æˆæƒè®°å½•æ•°/æ›´æ–°æ•°: 0000é¢å¤–ä¿¡æ¯æ•°: 0000æŸ¥è¯¢: 0377 7777 0562 6169 6475 0363 6f6d -&gt; .www.baidu.comå›ç­”: 00 00 01 00 01 c0 0c00 05 00 01 00 00 02 c9 00 0f 03 77 77 77 01 61 06 73 68 69 66 65 6e c0 16 c0 2b 00 05 00 01 00 00 01 03 00 0e 03 77 77 77 07 77 73 68 69 66 65 6e c0 16 c0 46 00 01 00 01 00 00 01 04 00 04 77 3f c5 8b c0 46 00 01 00 01 00 00 01 04 00 04 77 3f c5 97å›ç­”1 -&gt; c0 0c -&gt; 00 05 00 01 00 00 02 c9 00 0f 03 77 77 77 01 61 06 73 68 69 66 65 6e c0 16 åç§°: c00c ç±»å‹: 0005 -&gt; CNAME ç±»ï¼š 0001 -&gt; äº’è”ç½‘ TTL: 0000 02c9 -&gt; ç¼“å­˜ RDLENGTH: 000f -&gt; 15 -&gt; RDATAæœ‰15å­—èŠ‚ RDATA: 03 77 77 77 01 61 06 73 68 69 66 65 6e c0 16 .www.a.shifen..å›ç­”2 -&gt; c0 2b -&gt; 00 05 00 01 00 00 01 03 00 0e 03 77 77 77 07 77 73 68 69 66 65 6e c0 16 åç§°: c02b ç±»å‹: 0005 -&gt; CNAME ç±»ï¼š 0001 -&gt; äº’è”ç½‘ TTL: 0000 0103 -&gt; ç¼“å­˜ RDLENGTH: 000e -&gt; 14 -&gt; RDATAæœ‰14å­—èŠ‚ RDATA: 03 77 77 77 07 77 73 68 69 66 65 6e c0 16 .www.wshifen.. å›ç­”3 -&gt; c0 46 -&gt; 00 01 00 01 00 00 01 04 00 04 77 3f c5 8b åç§°: c046 ç±»å‹: 0001 -&gt; A ç±»ï¼š 0001 -&gt; äº’è”ç½‘ TTL: 0000 0104 -&gt; ç¼“å­˜ RDLENGTH: 0004 -&gt; 4 -&gt; RDATAæœ‰4å­—èŠ‚ RDATA: 77 3f c5 8b -&gt; 119.63.197.139 å›ç­”4 -&gt; c0 46 -&gt; 00 01 00 01 00 00 01 04 00 04 77 3f c5 97 åç§°: c046 ç±»å‹: 0001 -&gt; A ç±»ï¼š 0001 -&gt; äº’è”ç½‘ TTL: 0000 0104 -&gt; ç¼“å­˜ RDLENGTH: 0004 -&gt; 4 -&gt; RDATAæœ‰4å­—èŠ‚ RDATA: 77 3f c5 97 -&gt; 119.63.197.151 7149 8180 qI..0001 0004 0000 0000 0377 7777 0562 6169 .........www.bai6475 0363 6f6d 0000 0100 01c0 0c00 0500 du.com..........0100 0002 c900 0f03 7777 7701 6106 7368 ........www.a.sh6966 656e c016 c02b 0005 0001 0000 0103 ifen...+........000e 0377 7777 0777 7368 6966 656e c016 ...www.wshifen..c046 0001 0001 0000 0104 0004 773f c58b .F..........w?..c046 0001 0001 0000 0104 0004 773f c597 .F..........w?.. æœ€åï¼Œæˆ‘ä»¬å‘ç°è¿™å°±æ˜¯q: A? www.baidu.com. 4/0/0 www.baidu.com. CNAME www.a.shifen.com., www.a.shifen.com. CNAME www.wshifen.com., www.wshifen.com. A 119.63.197.139, www.wshifen.com. A 119.63.197.151 (116) PRTç´§æ¥ç€æ˜¯ä¸€ä¸ªPRTï¼Œ IPåˆ°åŸŸåçš„é€†å‘æŸ¥è¯¢ï¼Œè¿™ä¸ªä¸çŸ¥é“æ˜¯å¹²ä»€ä¹ˆçš„ TCPå¼€å§‹TCPæŠ¥æ–‡å¤ä¹  ç¬¬ä¸€æ¬¡æ¡æ‰‹æˆ‘ä»¬çš„ä¸»æœºå‘é€äº†ç¬¬ä¸€ä¸ªTCPé“¾æ¥ï¼Œ(ä¸‰æ¬¡æ¡æ‰‹ç¬¬ä¸€æ­¥) 12345607:05:47.061686 IP (tos 0x0, ttl 64, id 38458, offset 0, flags [DF], proto TCP (6), length 60) 11c749e93da4.60824 &gt; 119.63.197.139.http: Flags [S], cksum 0xe90e (incorrect -&gt; 0xaa0e), seq 4174926008, win 29200, options [mss 1460,sackOK,TS val 1805688806 ecr 0,nop,wscale 7], length 0 0x0000: 4500 003c 963a 4000 4006 bba1 ac11 0004 E..&lt;.:@.@....... 0x0010: 773f c58b ed98 0050 f8d8 50b8 0000 0000 w?.....P..P..... 0x0020: a002 7210 e90e 0000 0204 05b4 0402 080a ..r............. 0x0030: 6ba0 9fe6 0000 0000 0103 0307 k........... æˆ‘ä»¬æå–TCPæŠ¥æ–‡ 123 ed98 0050 f8d8 50b8 0000 0000a002 7210 e90e 0000 0204 05b4 0402 080a6ba0 9fe6 0000 0000 0103 0307 æå–TCPæŠ¥æ–‡å¤´éƒ¨ 12TCPå¤´ed98 0050 f8d8 50b8 0000 0000 a002 7210 e90e 0000 0204 05b4 0402 080a 6ba0 9fe6 0000 0000 0103 0307 è§£æTCPå¤´ 1234567891011121314151617181920212223æºç«¯å£: ed98 -&gt; 60824ç›®æ ‡ç«¯å£: 0050 -&gt; 80åºåˆ—å·: f8d8 50b8 -&gt; 4174926008ç¡®è®¤å·: 0000 0000 -&gt; 0a002 -&gt; 1010 0000 0000 0010é¦–éƒ¨é•¿åº¦: 0xa -&gt; 10ä¿ç•™: 0x0 -&gt; 0CWR: 0ECE: 0URG: 0ACK: 0PSH: 0RST: 0SYN: 1FIN: 0æ¥æ”¶çª—å£: 7210 -&gt; 29200æ ¡éªŒå’Œ: e90eç´§æ€¥æ•°æ®æŒ‡é’ˆ: 0000é€‰é¡¹1: 0204 05b4 -&gt; mss = 0x05b4 = 1460é€‰é¡¹2: 0402 -&gt; sackOké€‰é¡¹3: 080a 6ba0 9fe6 0000 0000 -&gt; TS val 1805688806 ecr 0é€‰é¡¹4: 01 -&gt; å¡«å……é€‰é¡¹5: 03 0307 -&gt; çª—å£ç¼©æ”¾å› å­ = 7 ç¬¬äºŒæ¬¡æ¡æ‰‹ç™¾åº¦ç»™æˆ‘ä»¬å›åº”äº†ä¸€ä¸ªTCPæŠ¥æ–‡(ä¸‰æ¬¡æ¡æ‰‹ç¬¬äºŒæ­¥) 12345607:05:47.115732 IP (tos 0x0, ttl 50, id 38458, offset 0, flags [DF], proto TCP (6), length 60) 119.63.197.139.http &gt; 11c749e93da4.60824: Flags [S.], cksum 0x268b (correct), seq 1024829215, ack 4174926009, win 8192, options [mss 1424,sackOK,nop,nop,nop,nop,nop,nop,nop,nop,nop,nop,nop,wscale 5], length 0 0x0000: 4500 003c 963a 4000 3206 c9a1 773f c58b E..&lt;.:@.2...w?.. 0x0010: ac11 0004 0050 ed98 3d15 a71f f8d8 50b9 .....P..=.....P. 0x0020: a012 2000 268b 0000 0204 0590 0402 0101 ....&amp;........... 0x0030: 0101 0101 0101 0101 0103 0305 ............ æå–TCPæŠ¥æ–‡ 123 0050 ed98 3d15 a71f f8d8 50b9 .....P..=.....P.a012 2000 268b 0000 0204 0590 0402 0101 ....&amp;...........0101 0101 0101 0101 0103 0305 TCPå¤´éƒ¨ 10050 ed98 3d15 a71f f8d8 50b9 a012 2000 268b 0000 0204 0590 0402 0101 0101 0101 0101 0101 0103 0305 è§£æTCPå¤´éƒ¨ 12345678910111213141516171819202122æºç«¯å£: 0050 -&gt; 80ç›®æ ‡ç«¯å£: ed98 -&gt; 60824åºåˆ—å·: 3d15 a71f -&gt; 1024829215ç¡®è®¤å·: f8d8 50b9 -&gt; 4174926009(è¿˜çœŸæ˜¯æ”¶åˆ°çš„åŒ…å·+1)a012 -&gt; 1010 0000 0001 0010é¦–éƒ¨é•¿åº¦: 0xa -&gt; 10ä¿ç•™: 0x0 -&gt; 0CWR: 0ECE: 0URG: 0ACK: 1PSH: 0RST: 0SYN: 1FIN: 0æ¥æ”¶çª—å£: 2000 -&gt; 8192æ ¡éªŒå’Œ: 268bç´§æ€¥æ•°æ®æŒ‡é’ˆ: 0000é€‰é¡¹1: 0204 0590 -&gt; mss = 0x0590 = 1424é€‰é¡¹2: 0402 -&gt; sackOké€‰é¡¹3-13: 01 01 01 ... -&gt; å¡«å……é€‰é¡¹14: 03 0305 -&gt; çª—å£ç¼©æ”¾å› å­ = 5 ç¬¬ä¸‰æ¬¡æ¡æ‰‹æˆ‘ä»¬ç»™ç™¾åº¦å›å¤ä¸€ä¸ªTCPæŠ¥æ–‡(ä¸‰æ¬¡æ¡æ‰‹å®Œæˆ) 1234507:05:47.115797 IP (tos 0x0, ttl 64, id 38459, offset 0, flags [DF], proto TCP (6), length 40) 11c749e93da4.60824 &gt; 119.63.197.139.http: Flags [.], cksum 0xe8fa (incorrect -&gt; 0xaa5e), seq 1, ack 1, win 229, length 0 0x0000: 4500 0028 963b 4000 4006 bbb4 ac11 0004 E..(.;@.@....... 0x0010: 773f c58b ed98 0050 f8d8 50b9 3d15 a720 w?.....P..P.=... 0x0020: 5010 00e5 e8fa 0000 P....... æå–TCPæŠ¥æ–‡ 12 ed98 0050 f8d8 50b9 3d15 a720 w?.....P..P.=...5010 00e5 e8fa 0000 P....... TCP å¤´ 1ed98 0050 f8d8 50b9 3d15 a720 5010 00e5 e8fa 0000 è§£æTCPå¤´ 123456789101112131415161718æºç«¯å£: ed98 -&gt; 60824ç›®æ ‡ç«¯å£: 0050 -&gt; 80åºåˆ—å·: f8d8 50b9 -&gt; 4174926009(ç›¸å¯¹å€¼ä¸º1)ç¡®è®¤å·: 3d15 a720 -&gt; 1024829216(ç›¸å¯¹å€¼ä¸º1)5010 -&gt; 1010 0000 0001 0000é¦–éƒ¨é•¿åº¦: 0x5 -&gt; 5ä¿ç•™: 0x0 -&gt; 0CWR: 0ECE: 0URG: 0ACK: 1PSH: 0RST: 0SYN: 0FIN: 0æ¥æ”¶çª—å£: 00e5 -&gt; 229æ ¡éªŒå’Œ: e8faç´§æ€¥æ•°æ®æŒ‡é’ˆ: 0000 å‘èµ·HTTPè¯·æ±‚ç´§æ¥ç€æˆ‘ä»¬å‘èµ·äº†ä¸€ä¸ªHTTPè¯·æ±‚,è¿™æ˜¯ä¸€ä¸ªTCPåŒ…ï¼ŒåŒ…å«äº†æˆ‘ä»¬çš„æ•´ä¸ªè¯·æ±‚ 12345678910111213141507:05:47.115913 IP (tos 0x0, ttl 64, id 38460, offset 0, flags [DF], proto TCP (6), length 117) 11c749e93da4.60824 &gt; 119.63.197.139.http: Flags [P.], cksum 0xe947 (incorrect -&gt; 0x7519), seq 1:78, ack 1, win 229, length 77: HTTP, length: 77 GET / HTTP/1.1 Host: www.baidu.com User-Agent: curl/7.61.1 Accept: */* 0x0000: 4500 0075 963c 4000 4006 bb66 ac11 0004 E..u.&lt;@.@..f.... 0x0010: 773f c58b ed98 0050 f8d8 50b9 3d15 a720 w?.....P..P.=... 0x0020: 5018 00e5 e947 0000 4745 5420 2f20 4854 P....G..GET./.HT 0x0030: 5450 2f31 2e31 0d0a 486f 7374 3a20 7777 TP/1.1..Host:.ww 0x0040: 772e 6261 6964 752e 636f 6d0d 0a55 7365 w.baidu.com..Use 0x0050: 722d 4167 656e 743a 2063 7572 6c2f 372e r-Agent:.curl/7. 0x0060: 3631 2e31 0d0a 4163 6365 7074 3a20 2a2f 61.1..Accept:.*/ 0x0070: 2a0d 0a0d 0a *.... TCPå›å¤ç™¾åº¦å¯¹æˆ‘ä»¬çš„HTTPè¯·æ±‚åŒ…è¿›è¡Œäº†TCPå›å¤ï¼Œè¡¨ç¤ºä»–æ”¶åˆ°äº†æˆ‘ä»¬çš„è¯·æ±‚ 1234507:05:47.170254 IP (tos 0x0, ttl 48, id 24974, offset 0, flags [DF], proto TCP (6), length 40) 119.63.197.139.http &gt; 11c749e93da4.60824: Flags [.], cksum 0xa762 (correct), seq 1, ack 78, win 916, length 0 0x0000: 4500 0028 618e 4000 3006 0062 773f c58b E..(a.@.0..bw?.. 0x0010: ac11 0004 0050 ed98 3d15 a720 f8d8 5106 .....P..=.....Q. 0x0020: 5010 0394 a762 0000 P....b.. HTTPå›å¤ç´§æ¥ç€å°±æ˜¯ç™¾åº¦å¯¹æˆ‘ä»¬çš„HTTPå›å¤ï¼Œä»¥åŠæˆ‘ä»¬å¯¹HTTPå›å¤çš„TCPå›å¤,å¹¶ä¸æ–­é‡å¤ï¼Œç›´åˆ°æ¥å—å®Œæ‰€æœ‰HTTPæŠ¥æ–‡ 1234567891011121314151617181920212223242526272807:05:47.236240 IP (tos 0x0, ttl 48, id 24975, offset 0, flags [DF], proto TCP (6), length 1488) 119.63.197.139.http &gt; 11c749e93da4.60824: Flags [P.], cksum 0xeea2 (incorrect -&gt; 0x8779), seq 1:1449, ack 78, win 916, length 1448: HTTP, length: 1448 HTTP/1.1 200 OK Accept-Ranges: bytes Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform Connection: keep-alive Content-Length: 2381 Content-Type: text/html Date: Sun, 04 Apr 2021 07:05:47 GMT Etag: &quot;588604eb-94d&quot; Last-Modified: Mon, 23 Jan 2017 13:28:11 GMT Pragma: no-cache Server: bfe/1.0.8.18 Set-Cookie: BDORZ=27315; max-age=86400; domain=.baidu.com; path=/ &lt;!DOCTYPE html&gt; 0x0000: 4500 05d0 618f 4000 3006 fab8 773f c58b E...a.@.0...w?.. 0x0010: ac11 0004 0050 ed98 3d15 a720 f8d8 5106 .....P..=.....Q. 0x0020: 5018 0394 eea2 0000 4854 5450 2f31 2e31 P.......HTTP/1.1 0x0030: 2032 3030 204f 4b0d 0a41 6363 6570 742d .200.OK..Accept- 0x0040: 5261 6e67 6573 3a20 6279 7465 730d 0a43 Ranges:.bytes..C 0x0050: 6163 6865 2d43 6f6e 7472 6f6c 3a20 7072 ache-Control:.pr ...07:05:47.236264 IP (tos 0x0, ttl 64, id 38461, offset 0, flags [DF], proto TCP (6), length 40) 11c749e93da4.60824 &gt; 119.63.197.139.http: Flags [.], cksum 0xe8fa (incorrect -&gt; 0xa453), seq 78, ack 1449, win 251, length 0 0x0000: 4500 0028 963d 4000 4006 bbb2 ac11 0004 E..(.=@.@....... 0x0010: 773f c58b ed98 0050 f8d8 5106 3d15 acc8 w?.....P..Q.=... 0x0020: 5010 00fb e8fa 0000 P....... æœ€åçš„å››æ¬¡æŒ¥æ‰‹æˆ‘ä»¬è§‚å¯Ÿæœ€åçš„å…­ä¸ªTCPæŠ¥æ–‡ 12345678910111213141516171819202122232425262728293031323307:05:47.236425 IP (tos 0x0, ttl 64, id 38463, offset 0, flags [DF], proto TCP (6), length 40) 11c749e93da4.60824 &gt; 119.63.197.139.http: Flags [F.], cksum 0xe8fa (incorrect -&gt; 0x9f06), seq 78, ack 2782, win 274, length 0 0x0000: 4500 0028 963f 4000 4006 bbb0 ac11 0004 E..(.?@.@....... 0x0010: 773f c58b ed98 0050 f8d8 5106 3d15 b1fd w?.....P..Q.=... 0x0020: 5011 0112 e8fa 0000 P.......07:05:47.245278 IP (tos 0x0, ttl 48, id 24978, offset 0, flags [DF], proto TCP (6), length 1373) 119.63.197.139.http &gt; 11c749e93da4.60824: Flags [P.], cksum 0x5cf2 (correct), seq 1449:2782, ack 78, win 916, length 1333: HTTP 0x0000: 4500 055d 6192 4000 3006 fb28 773f c58b E..]a.@.0..(w?.. 0x0010: ac11 0004 0050 ed98 3d15 acc8 f8d8 5106 .....P..=.....Q. 0x0020: 5018 0394 5cf2 0000 746e 223e 3c2f 7370 P...\\...tn&quot;&gt;&lt;/sp 0x0030: 616e 3e20 3c2f 666f 726d 3e20 3c2f 6469 an&gt;.&lt;/form&gt;.&lt;/di ......07:05:47.245289 IP (tos 0x0, ttl 64, id 38464, offset 0, flags [DF], proto TCP (6), length 52) 11c749e93da4.60824 &gt; 119.63.197.139.http: Flags [.], cksum 0xe906 (incorrect -&gt; 0x8ffe), seq 79, ack 2782, win 274, options [nop,nop,sack 1 &#123;1449:2782&#125;], length 0 0x0000: 4500 0034 9640 4000 4006 bba3 ac11 0004 E..4.@@.@....... 0x0010: 773f c58b ed98 0050 f8d8 5107 3d15 b1fd w?.....P..Q.=... 0x0020: 8010 0112 e906 0000 0101 050a 3d15 acc8 ............=... 0x0030: 3d15 b1fd =...07:05:47.290600 IP (tos 0x0, ttl 48, id 24979, offset 0, flags [DF], proto TCP (6), length 40) 119.63.197.139.http &gt; 11c749e93da4.60824: Flags [.], cksum 0x9c84 (correct), seq 2782, ack 79, win 916, length 0 0x0000: 4500 0028 6193 4000 3006 005d 773f c58b E..(a.@.0..]w?.. 0x0010: ac11 0004 0050 ed98 3d15 b1fd f8d8 5107 .....P..=.....Q. 0x0020: 5010 0394 9c84 0000 P.......07:05:47.290677 IP (tos 0x0, ttl 48, id 24980, offset 0, flags [DF], proto TCP (6), length 40) 119.63.197.139.http &gt; 11c749e93da4.60824: Flags [F.], cksum 0x9c83 (correct), seq 2782, ack 79, win 916, length 0 0x0000: 4500 0028 6194 4000 3006 005c 773f c58b E..(a.@.0..\\w?.. 0x0010: ac11 0004 0050 ed98 3d15 b1fd f8d8 5107 .....P..=.....Q. 0x0020: 5011 0394 9c83 0000 P.......07:05:47.290688 IP (tos 0x0, ttl 64, id 0, offset 0, flags [DF], proto TCP (6), length 40) 11c749e93da4.60824 &gt; 119.63.197.139.http: Flags [.], cksum 0x9f05 (correct), seq 79, ack 2783, win 274, length 0 0x0000: 4500 0028 0000 4000 4006 51f0 ac11 0004 E..(..@.@.Q..... 0x0010: 773f c58b ed98 0050 f8d8 5107 3d15 b1fe w?.....P..Q.=... 0x0020: 5010 0112 9f05 0000 P....... ç¨ä½œäººæ€§åŒ–å¤„ç† 1234567sequenceDiagram æˆ‘ä»¬ -&gt;&gt; ç™¾åº¦: 0x11(ACK,FIN) ç™¾åº¦ -&gt;&gt; æˆ‘ä»¬: 0x18(ACK,PSH) æˆ‘ä»¬ --&gt;&gt; ç™¾åº¦: 0x10(ACK) ç™¾åº¦ --&gt;&gt; æˆ‘ä»¬: 0x10(ACK) ç™¾åº¦ -&gt;&gt; æˆ‘ä»¬: 0x11(ACK,FIN) æˆ‘ä»¬ -&gt;&gt; ç™¾åº¦: 0x10(ACK)","categories":[{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","permalink":"http://fightinggg.github.io/indigo/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"}],"tags":[]},{"title":"HTTPæƒå¨æŒ‡å—","slug":"è®¡ç®—æœºç½‘ç»œ/HTTPæƒå¨æŒ‡å—/index","date":"2021-04-03T07:34:00.000Z","updated":"2021-04-05T09:14:00.000Z","comments":true,"path":"QQZ90O.html","link":"","permalink":"http://fightinggg.github.io/indigo/QQZ90O.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial HTTPæƒå¨æŒ‡å— ç¬¬ä¸€ç« ï¼š HTTPæ¦‚è¿°åª’ä½“ç±»å‹ å› ç‰¹ä¸Šæœ‰æ•°åƒç§ä¸åŒçš„æ•°æ®ç±»å‹,HTTPä»”ç»†åœ°ç»™æ¯ç§è¦é€šè¿‡Webä¼ è¾“çš„å¯¹è±¡éƒ½æ‰“ä¸Šäº†åä¸ºMIMEç±»å‹( MIME type)çš„æ•°æ®æ ¼å¼æ ‡ç­¾ã€‚æœ€åˆè®¾è®¡MIME( Multipurpose Internet Mail Extension,å¤šç”¨é€”å› ç‰¹ç½‘é‚®ä»¶æ‰©å±•)æ˜¯ä¸ºäº†è§£å†³åœ¨ä¸åŒçš„ç”µå­é‚®ä»¶ç³»ç»Ÿä¹‹é—´æ¬ç§»æŠ¥æ–‡æ—¶å­˜åœ¨çš„é—®é¢˜ã€‚MIMEåœ¨ç”µå­é‚®ä»¶ç³»ç»Ÿä¸­å·¥ä½œå¾—éå¸¸å¥½,å› æ­¤HTTPä¹Ÿé‡‡çº³äº†å®ƒ,ç”¨å®ƒæ¥æè¿°å¹¶æ ‡è®°å¤šåª’ä½“å†…å®¹ã€‚ Page: 6","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial HTTPæƒå¨æŒ‡å— ç¬¬ä¸€ç« ï¼š HTTPæ¦‚è¿°åª’ä½“ç±»å‹ å› ç‰¹ä¸Šæœ‰æ•°åƒç§ä¸åŒçš„æ•°æ®ç±»å‹,HTTPä»”ç»†åœ°ç»™æ¯ç§è¦é€šè¿‡Webä¼ è¾“çš„å¯¹è±¡éƒ½æ‰“ä¸Šäº†åä¸ºMIMEç±»å‹( MIME type)çš„æ•°æ®æ ¼å¼æ ‡ç­¾ã€‚æœ€åˆè®¾è®¡MIME( Multipurpose Internet Mail Extension,å¤šç”¨é€”å› ç‰¹ç½‘é‚®ä»¶æ‰©å±•)æ˜¯ä¸ºäº†è§£å†³åœ¨ä¸åŒçš„ç”µå­é‚®ä»¶ç³»ç»Ÿä¹‹é—´æ¬ç§»æŠ¥æ–‡æ—¶å­˜åœ¨çš„é—®é¢˜ã€‚MIMEåœ¨ç”µå­é‚®ä»¶ç³»ç»Ÿä¸­å·¥ä½œå¾—éå¸¸å¥½,å› æ­¤HTTPä¹Ÿé‡‡çº³äº†å®ƒ,ç”¨å®ƒæ¥æè¿°å¹¶æ ‡è®°å¤šåª’ä½“å†…å®¹ã€‚ Page: 6 URI æœåŠ¡å™¨èµ„æºåè¢«ç§°ä¸ºç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦( Uniform Resource Identifier,URI)ã€‚ Page: 7 URIåˆ†ä¸ºä¸¤ç§ï¼ŒURLï¼ˆç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼‰å’ŒURNï¼ˆç»Ÿä¸€èµ„æºåï¼‰ ä¸‹é¢æ˜¯ä¸€ä¸ªURLä¾‹å­ URNæ˜¯ä½œä¸ºç‰¹å®šå†…å®¹çš„å”¯ä¸€åç§°ä½¿ç”¨çš„,ä¸ç›®å‰çš„èµ„æºæ‰€åœ¨åœ°æ— å…³ã€‚ä½¿ç”¨è¿™äº›ä¸ä½ç½®æ— å…³çš„URN,å°±å¯ä»¥å°†èµ„æºå››å¤„æ¬ç§»ã€‚é€šè¿‡URN,è¿˜å¯ä»¥ç”¨åŒä¸€ä¸ªåå­—é€šè¿‡å¤šç§ç½‘ç»œè®¿é—®åè®®æ¥è®¿é—®èµ„æºã€‚ä¾‹å¦‚æˆ‘ä»¬å¯ä»¥è®¿é—®RFC 2141 1urn:ietf:rfc:2141 äº‹åŠ¡ ä¸€ä¸ªHTTPäº‹åŠ¡ç”±ä¸€æ¡(ä»å®¢æˆ·ç«¯å‘å¾€æœåŠ¡å™¨çš„)è¯·æ±‚å‘½ä»¤å’Œä¸€ä¸ª(ä»æœåŠ¡å™¨å‘å›å®¢æˆ·ç«¯çš„)å“åº”ç»“æœç»„æˆã€‚ Page: 7 æ–¹æ³•åŒ…å« GET, PUT, DELETE, POST, HEAD çŠ¶æ€ç  æ¯æ¡HTPå“åº”æŠ¥æ–‡è¿”å›æ—¶éƒ½ä¼šæºå¸¯ä¸€ä¸ªçŠ¶æ€ç ã€‚çŠ¶æ€ç æ˜¯ä¸€ä¸ªä¸‰ä½æ•°å­—çš„ä»£ç å‘ŠçŸ¥å®¢æˆ·ç«¯è¯·æ±‚æ˜¯å¦æˆåŠŸ,æˆ–è€…æ˜¯å¦éœ€è¦é‡‡å–å…¶ä»–åŠ¨ä½œã€‚ Page: 8 æŠ¥æ–‡ HTTPæŠ¥æ–‡æ˜¯ç”±ä¸€è¡Œä¸€è¡Œçš„ç®€å•å­—ç¬¦ä¸²ç»„æˆçš„ã€‚HTTPæŠ¥æ–‡éƒ½æ˜¯çº¯æ–‡æœ¬,ä¸æ˜¯äºŒè¿›åˆ¶ä»£ç ,æ‰€ä»¥äººä»¬å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å¯¹å…¶è¿›è¡Œè¯»å†™ã€‚ æœ‰äº›ç¨‹åºå‘˜ä¼šæŠ±æ€¨HTTPçš„è¯­æ³•è§£æå¤ªå›°éš¾äº†,è¿™é¡¹å·¥ä½œéœ€è¦å¾ˆå¤šæŠ€å·§,è€Œä¸”å¾ˆå®¹æ˜“å‡ºé”™,å°¤å…¶æ˜¯åœ¨è®¾è®¡é«˜é€Ÿè½¯ä»¶çš„æ—¶å€™æ›´æ˜¯å¦‚æ­¤ã€‚äºŒè¿›åˆ¶æ ¼å¼æˆ–æ›´ä¸¥æ ¼çš„æ–‡æœ¬æ ¼å¼å¯èƒ½æ›´å®¹æ˜“å¤„ç†,ä½†å¤§å¤šæ•°HTTPç¨‹åºå‘˜éƒ½å¾ˆæ¬£èµHTTPçš„å¯æ‰©å±•æ€§ä»¥åŠå¯è°ƒè¯•æ€§ Page: 9 HTTPæŠ¥æ–‡åŒ…æ‹¬ä»¥ä¸‹ä¸‰ä¸ªéƒ¨åˆ† èµ·å§‹è¡Œï¼šæŠ¥æ–‡çš„ç¬¬ä¸€è¡Œå°±æ˜¯èµ·å§‹è¡Œ,åœ¨è¯·æ±‚æŠ¥æ–‡ä¸­ç”¨æ¥è¯´æ˜è¦åšäº›ä»€ä¹ˆ,åœ¨å“åº”æŠ¥æ–‡ä¸­è¯´æ˜å‡ºç°äº†ä»€ä¹ˆæƒ…å†µ é¦–éƒ¨å­—æ®µï¼šèµ·å§‹è¡Œåé¢æœ‰é›¶ä¸ªæˆ–å¤šä¸ªé¦–éƒ¨å­—æ®µã€‚æ¯ä¸ªé¦–éƒ¨å­—æ®µéƒ½åŒ…å«ä¸€ä¸ªåå­—ä¸€ä¸ªå€¼ï¼Œä¸ºäº†ä¾¿äºè§£æ,ä¸¤è€…ä¹‹é—´ç”¨å†’å·(:)æ¥åˆ†éš”ã€‚é¦–éƒ¨ä»¥ä¸€ä¸ªç©ºè¡Œç»“æŸï¼Œæ·»åŠ ä¸€ä¸ªé¦–éƒ¨å­—æ®µå’Œæ·»åŠ æ–°è¡Œä¸€æ ·ç®€å•ã€‚ ä¸»ä½“ï¼šç©ºè¡Œä¹‹åå°±æ˜¯å¯é€‰çš„æŠ¥æ–‡ä¸»ä½“äº†,å…¶ä¸­åŒ…å«äº†æ‰€æœ‰ç±»å‹çš„æ•°æ®ã€‚è¯·æ±‚ä¸»ä½“ä¸­åŒ…æ‹¬äº†è¦å‘é€ç»™WebæœåŠ¡å™¨çš„æ•°æ®;å“åº”ä¸»ä½“ä¸­è£…æ•™äº†è¦è¿”å›ç»™å®¢æˆ·ç«¯çš„æ•°æ®ã€‚èµ·å§‹è¡Œå’Œé¦–éƒ¨éƒ½æ˜¯æ–‡æœ¬å½¢å¼ä¸”éƒ½æ˜¯ç»“æ„åŒ–çš„,è€Œä¸»ä½“åˆ™ä¸åŒ,ä¸»ä½“ä¸­å¯ä»¥åŒ…å«ä»»æ„çš„äºŒè¿›åˆ¶æ•°æ®(æ¯”å¦‚å›¾ç‰‡ã€è§†é¢‘ã€éŸ³è½¨ã€è½¯ä»¶ç¨‹åº)ã€‚å½“ç„¶,ä¸»ä½“ä¸­ä¹Ÿå¯ä»¥åŒ…å«æ–‡æœ¬ã€‚ æƒ³çœ‹çœ‹HTTPæŠ¥æ–‡å—ï¼Ÿä¸‹é¢å°±æ˜¯ä¸€ä¸ªHTTPæŠ¥æ–‡ã€‚å­¦ä¼šæŒ‡ä»¤CURL 1234567891011121314151617181920212223242526[root@VM-4-4-centos ~]# curl -v www.baidu.com* Rebuilt URL to: www.baidu.com/* Trying 119.63.197.139...* TCP_NODELAY set* Connected to www.baidu.com (119.63.197.139) port 80 (#0)&gt; GET / HTTP/1.1&gt; Host: www.baidu.com&gt; User-Agent: curl/7.61.1&gt; Accept: */*&gt; &lt; HTTP/1.1 200 OK&lt; Accept-Ranges: bytes&lt; Cache-Control: private, no-cache, no-store, proxy-revalidate, no-transform&lt; Connection: keep-alive&lt; Content-Length: 2381&lt; Content-Type: text/html&lt; Date: Mon, 05 Apr 2021 08:06:24 GMT&lt; Etag: &quot;588604ec-94d&quot;&lt; Last-Modified: Mon, 23 Jan 2017 13:28:12 GMT&lt; Pragma: no-cache&lt; Server: bfe/1.0.8.18&lt; Set-Cookie: BDORZ=27315; max-age=86400; domain=.baidu.com; path=/&lt; &lt;!DOCTYPE html&gt;&lt;!--STATUS OK--&gt;&lt;html&gt; &lt;head&gt;&lt;meta http-equiv=content-type content=text/html;charset=utf-8&gt;&lt;meta http-equiv=X-UA-Compatible content=IE=Edge&gt;&lt;meta content=always name=referrer&gt;&lt;link rel=stylesheet type=text/css href=http://s1.bdstatic.com/r/www/cache/bdorz/baidu.min.css&gt;&lt;title&gt;ç™¾åº¦ä¸€ä¸‹ï¼Œä½ å°±çŸ¥é“&lt;/title&gt;&lt;/head&gt; &lt;body link=#0000cc&gt; &lt;div id=wrapper&gt; &lt;div id=head&gt; &lt;div class=head_wrapper&gt; &lt;div class=s_form&gt; &lt;div class=s_form_wrapper&gt; &lt;div id=lg&gt; &lt;img hidefocus=true src=//www.baidu.com/img/bd_logo1.png width=270 height=129&gt; &lt;/div&gt; &lt;form id=form name=f action=//www.baidu.com/s class=fm&gt; &lt;input type=hidden name=bdorz_come value=1&gt; &lt;input type=hidden name=ie value=utf-8&gt; &lt;input type=hidden name=f value=8&gt; &lt;input type=hidden name=rsv_bp value=1&gt; &lt;input type=hidden name=rsv_idx value=1&gt; &lt;input type=hidden name=tn value=baidu&gt;&lt;span class=&quot;bg s_ipt_wr&quot;&gt;&lt;input id=kw name=wd class=s_ipt value maxlength=255 autocomplete=off autofocus&gt;&lt;/span&gt;&lt;span class=&quot;bg s_btn_wr&quot;&gt;&lt;input type=submit id=su value=ç™¾åº¦ä¸€ä¸‹ class=&quot;bg s_btn&quot;&gt;&lt;/span&gt; &lt;/form&gt; &lt;/div&gt; &lt;/div&gt; &lt;div id=u1&gt; &lt;a href=http://news.baidu.com name=tj_trnews class=mnav&gt;æ–°é—»&lt;/a&gt; &lt;a href=http://www.hao123.com name=tj_trhao123 class=mnav&gt;hao123&lt;/a&gt; &lt;a href=http://map.baidu.com name=tj_trmap class=mnav&gt;åœ°å›¾&lt;/a&gt; &lt;a href=http://v.baidu.com name=tj_trvideo class=mnav&gt;è§†é¢‘&lt;/a&gt; &lt;a href=http://tieba.baidu.com name=tj_trtieba class=mnav&gt;è´´å§&lt;/a&gt; &lt;noscript&gt; &lt;a href=http://www.baidu.com/bdorz/login.gif?login&amp;amp;tpl=mn&amp;amp;u=http%3A%2F%2Fwww.baidu.com%2f%3fbdorz_come%3d1 name=tj_login class=lb&gt;ç™»å½•&lt;/a&gt; &lt;/noscript&gt; &lt;script&gt;document.write(&#x27;&lt;a href=&quot;http://www.baidu.com/bdorz/login.gif?login&amp;tpl=mn&amp;u=&#x27;+ encodeURIComponent(window.location.href+ (window.location.search === &quot;&quot; ? &quot;?&quot; : &quot;&amp;&quot;)+ &quot;bdorz_come=1&quot;)+ &#x27;&quot; name=&quot;tj_login&quot; class=&quot;lb&quot;&gt;ç™»å½•&lt;/a&gt;&#x27;);&lt;/script&gt; &lt;a href=//www.baidu.com/more/ name=tj_briicon class=bri style=&quot;display: block;&quot;&gt;æ›´å¤šäº§å“&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div id=ftCon&gt; &lt;div id=ftConw&gt; &lt;p id=lh&gt; &lt;a href=http://home.baidu.com&gt;å…³äºç™¾åº¦&lt;/a&gt; &lt;a href=http://ir.baidu.com&gt;About Baidu&lt;/a&gt; &lt;/p&gt; &lt;p id=cp&gt;&amp;copy;2017&amp;nbsp;Baidu&amp;nbsp;&lt;a href=http://www.baidu.com/duty/&gt;ä½¿ç”¨ç™¾åº¦å‰å¿…è¯»&lt;/a&gt;&amp;nbsp; &lt;a href=http://jianyi.baidu.com/ class=cp-feedback&gt;æ„è§åé¦ˆ&lt;/a&gt;&amp;nbsp;äº¬ICPè¯030173å·&amp;nbsp; &lt;img src=//www.baidu.com/img/gs.gif&gt; &lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/body&gt; &lt;/html&gt;* Connection #0 to host www.baidu.com left intact &gt; å³ä¸ºæˆ‘ä»¬å‘é€çš„ä¿¡æ¯ &lt; å³ä¸ºæˆ‘ä»¬æ”¶åˆ°çš„ä¿¡æ¯ Telnetä¼ªé€ æˆ‘ä»¬æ¥ä½¿ç”¨telnetä¼ªé€ ä¸€ä¸ªHTTPè¯·æ±‚ï¼ŒæŒ‰ç…§ä¸‹é¢çš„æ–¹æ¡ˆè¿›è¡Œè¾“å…¥ 123456789[root@VM-4-4-centos ~]# telnet www.baidu.com 80Trying 119.63.197.139...Connected to www.baidu.com.Escape character is &#x27;^]&#x27;.GET / HTTP/1.1HOST: www.baidu.comUser-Agent: telnetAccept: */* ç„¶åä½ å°±èƒ½å¾—åˆ°ä¸€å †ç™¾åº¦çš„è¿”å› ä»£ç†æ˜¯ä½äºæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ä¹‹é—´çš„ä¸­é—´ä½“ ç¼“å­˜ ç½‘å…³ä¸€èˆ¬ç”¨äºåè®®è½¬æ¢ éš§é“ï¼Œè¿™æ˜¯ä¸€ä¸ªå¯¹SSLæŠ¥æ–‡å°åŒ…çš„ä¾‹å­ Agentä»£ç†ï¼ŒWebæµè§ˆå™¨æ˜¯æœ€å¸¸è§çš„ä»£ç†ï¼Œé™¤æ­¤ä»¥å¤–è¿˜æœ‰ç½‘ç»œèœ˜è››ã€webæœºå™¨äººç­‰ ç¬¬äºŒç«  URLä¸èµ„æº æ–¹æ¡ˆå³ä½¿ç”¨ä»€ä¹ˆåè®®ï¼Œå¿…é¡»ç”¨å­—æ¯å¼€å¤´ï¼Œå¹¶ç”¨ç¬¬ä¸€ä¸ª:æŠŠURLåˆ†å‰²å¼€ã€‚ ç”¨æˆ·åå’Œå¯†ç ftpå°±æ˜¯ä¸€ä¸ªéœ€è¦è´¦å·å¯†ç çš„åè®®ï¼Œæ¯”å¦‚ 123ftp://ftp.prep.ai.mit.edu/pub/gnuftp://anonymous@ftp.prep.ai.mit.edu/pub/gnuftp://anonymous:my_passwd@ftp.prep.ai.mit.edu/pub/gnu ç¬¬ä¸€ä¸ªä¾‹å­ä¼šé»˜è®¤è´¦å·: anonymous, é»˜è®¤å¯†ç ï¼š xxx(å„æµè§ˆå™¨ä¸ä¸€è‡´) ç¬¬äºŒä¸ªä¾‹å­æŒ‡å®šäº†è´¦å·anonymous ç¬¬ä¸‰ä¸ªä¾‹å­åŒæ—¶æŒ‡å®šäº†è´¦å·å’Œå¯†ç ï¼Œç”¨:åˆ†å‰² ä¸»æœºå’Œç«¯å£http://www.baidu.com:80/path/to?hello=world ä¸»æœºæ˜¯www.baidu.com ç«¯å£æ˜¯80 è·¯å¾„http://www.baidu.com:80/path/to?hello=world è·¯å¾„æ˜¯&#x2F;path&#x2F;to å‚æ•°å‚æ•°è¢«å­—ç¬¦;åˆ†å‰² ftp://prep.ai.mit.edu/pub/gnu;type=d å‚æ•°æ˜¯typeï¼Œå€¼ä¸ºd http://www.joes-hardware.com/hammers;sale=false/index.html;graphics=true æ¯ä¸€ä¸ªè·¯å¾„éƒ½å¯ä»¥æœ‰å‚æ•° æŸ¥è¯¢å­—ç¬¦ä¸²http://www.baidu.com:80/path/to?hello=world å‚æ•°æ˜¯hello&#x3D;world ç‰‡æ®µhttps://fightinggg.github.io/QQZ90O.html#ç‰‡æ®µ è¿™ä¸ªç‰‡æ®µç›´æ¥æŒ‡å‘äº†è¿™å—åŒºåŸŸ ç¬¬ä¸‰ç«  HTTPæŠ¥æ–‡å®‰å…¨æ–¹æ³•GETå’ŒHEADå°±æ˜¯å®‰å…¨çš„æ–¹æ³•ï¼Œä»–ä»¬ä¸ç”¨äº§ç”ŸåŠ¨ä½œ GETé€šå¸¸æ˜¯è¯·æ±‚æœåŠ¡å™¨å‘é€æŸä¸ªèµ„æº HEAD HEADæ–¹æ³•ä¸GETæ–¹æ³•çš„è¡Œä¸ºå¾ˆç±»ä¼¼,ä½†æœåŠ¡å™¨åœ¨å“åº”ä¸­åªè¿”å›é¦–éƒ¨ã€‚ä¸ä¼šè¿”å›å®ä½“çš„ä¸»ä½“éƒ¨åˆ†ã€‚è¿™å°±å…è®¸å®¢æˆ·ç«¯åœ¨æœªè·å–å®é™…èµ„æºçš„æƒ…å†µä¸‹,å¯¹èµ„æºçš„é¦–éƒ¨è¿›è¡Œæ£€æŸ»ã€‚ä½¿ç”¨HEAD,å¯ä»¥: åœ¨ä¸è·å–èµ„æºçš„æƒ…å†µä¸‹äº†è§£èµ„æºçš„æƒ…å†µ(æ¯”å¦‚,åˆ¤æ–­å…¶ç±»å‹) é€šè¿‡æŸ»çœ‹å“åº”ä¸­çš„çŠ¶æ€ç ,çœ‹çœ‹æŸä¸ªå¯¹è±¡æ˜¯å¦å­˜åœ¨ é€šè¿‡æŸ¥çœ‹é¦–éƒ¨,æµ‹è¯•èµ„æºæ˜¯å¦è¢«ä¿®æ”¹äº† æœåŠ¡å™¨å¼€å‘è€…å¿…é¡»ç¡®ä¿è¿”å›çš„é¦–éƒ¨ä¸GETè¯·æ±‚æ‰€è¿”å›çš„é¦–éƒ¨å®Œå…¨ç›¸åŒã€‚éµå¾ª HTTP&#x2F;.1è§„èŒƒ,å°±å¿…é¡»å®ç°HEADæ–¹æ³•ã€‚ Page: 57 PUTPUTæ˜¯å‘æœåŠ¡å™¨å†™å…¥æŸèµ„æº POSTPOSTå‘æœåŠ¡å™¨å‘é€æ•°æ® TRACEè¿™æ˜¯ä¸€ä¸ªè¯Šæ–­è¯·æ±‚ TRACEè¯·æ±‚ä¼šåœ¨ç›®çš„æœåŠ¡å™¨ç«¯å‘èµ·ä¸€ä¸ªâ€œç¯å›â€è¯Šæ–­ã€‚è¡Œç¨‹æœ€åä¸€ç«™çš„æœåŠ¡å™¨ä¼šå¼¹å›ä¸€æ¡ TRACEå“åº”,å¹¶åœ¨å“åº”ä¸»ä½“ä¸­æºå¸¦å®ƒæ”¶åˆ°çš„åŸå§‹è¯·æ±‚æŠ¥æ–‡ã€‚è¿™æ ·å®¢æˆ·ç«¯å°±å¯ä»¥æŸ»çœ‹åœ¨æ‰€æœ‰ä¸­é—´HTTPåº”ç”¨ç¨‹åºç»„æˆçš„è¯·æ±‚&#x2F;å“åº”é“¾ä¸Š,åŸå§‹æŠ¥æ–‡æ˜¯å¦,ä»¥åŠå¦‚ä½•è¢«æ¯åæˆ–ä¿®æ”¹è¿‡. è¿™æ˜¯ä¸€ä¸ªTRACEçš„ä¾‹å­ï¼Œçœ‹æ¥ç™¾åº¦ä¸å¤ªç»™åŠ²å•Šã€‚ githubä¹Ÿæ˜¯è¿™æ · 123456789101112131415[root@VM-4-4-centos ~]# curl -X TRACE -v www.github.com* Rebuilt URL to: www.github.com/* Trying 52.74.223.119...* TCP_NODELAY set* Connected to www.github.com (52.74.223.119) port 80 (#0)&gt; TRACE / HTTP/1.1&gt; Host: www.github.com&gt; User-Agent: curl/7.61.1&gt; Accept: */*&gt; &lt; HTTP/1.1 301 Moved Permanently&lt; Content-Length: 0&lt; Location: https://www.github.com/&lt; * Connection #0 to host www.github.com left intact OPTIONS OPTIONS æ–¹æ³•è¯·æ±‚ Web æœåŠ¡å™¨å‘ŠçŸ¥å…¶æ”¯æŒçš„å„ç§åŠŸèƒ½ã€‚å¯ä»¥è¯¢é—®æœåŠ¡å™¨é€šå¸¸æ”¯æŒ å“ªäº›æ–¹æ³•ï¼Œæˆ–è€…å¯¹æŸäº›ç‰¹æ®Šèµ„æºæ”¯æŒå“ªäº›æ–¹æ³•ã€‚ï¼ˆæœ‰äº›æœåŠ¡å™¨å¯èƒ½åªæ”¯æŒå¯¹ä¸€äº›ç‰¹æ®Š ç±»å‹çš„å¯¹è±¡ä½¿ç”¨ç‰¹å®šçš„æ“ä½œï¼‰ã€‚ ç™¾åº¦è¿˜æ˜¯ä¸€å¦‚å³å¾€ 12345678910111213[root@VM-4-4-centos ~]# telnet www.baidu.com 80Trying 119.63.197.139...Connected to www.baidu.com.Escape character is &#x27;^]&#x27;.OPTIONS * HTTP/1.1Host: www.baidu.comAccept: *HTTP/1.1 200 OKContent-Length: 0Content-Type: text/plainDate: Mon, 05 Apr 2021 09:35:09 GMTServer: Apache 1234567891011[root@VM-4-4-centos ~]# telnet www.github.com 80Trying 13.229.188.59...Connected to www.github.com.Escape character is &#x27;^]&#x27;.OPTIONS * HTTP/1.1Host: www.github.comAccept: *HTTP/1.1 301 Moved PermanentlyContent-Length: 0Location: https://www.github.com/ DELETEåˆ é™¤æŸèµ„æº çŠ¶æ€ç ","categories":[{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","permalink":"http://fightinggg.github.io/indigo/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"}],"tags":[{"name":"è¯»ä¹¦","slug":"è¯»ä¹¦","permalink":"http://fightinggg.github.io/indigo/tags/%E8%AF%BB%E4%B9%A6/"}]},{"title":"TCP-IPè¯¦è§£-å·ä¸€-åè®®","slug":"è®¡ç®—æœºç½‘ç»œ/TCP-IPè¯¦è§£-å·ä¸€-åè®®/index","date":"2021-04-02T01:54:00.000Z","updated":"2021-04-04T08:30:00.000Z","comments":true,"path":"QQWYM0.html","link":"","permalink":"http://fightinggg.github.io/indigo/QQWYM0.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial TCP-IPè¯¦è§£ æ…é‡è¿™æ˜¯ä¸€æœ¬å·¥å…·ä¹¦ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ è¿™æœ¬ä¹¦å’Œæˆ‘æƒ³è±¡ä¸­çš„ä¸å¤ªä¸€æ ·ï¼Œä»–ä¸åå‘äºæŠ€æœ¯ï¼Œä»–æ›´åŠ æ³¨é‡ç»†èŠ‚ï¼Œæ›´åƒæ˜¯ä¸€æœ¬å·¥å…·ä¹¦ï¼Œå…ˆåˆ°è¿™é‡Œäº†ï¼Œä¸ç»†çœ‹äº†ï¼Œæœ‰éœ€è¦å†è¡¥å…… 21&#x2F;4&#x2F;2 æ–°å»º ARPåè®®ã€IPåè®® 21&#x2F;4&#x2F;4 è¡¥å…… DNSåè®®","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial TCP-IPè¯¦è§£ æ…é‡è¿™æ˜¯ä¸€æœ¬å·¥å…·ä¹¦ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ è¿™æœ¬ä¹¦å’Œæˆ‘æƒ³è±¡ä¸­çš„ä¸å¤ªä¸€æ ·ï¼Œä»–ä¸åå‘äºæŠ€æœ¯ï¼Œä»–æ›´åŠ æ³¨é‡ç»†èŠ‚ï¼Œæ›´åƒæ˜¯ä¸€æœ¬å·¥å…·ä¹¦ï¼Œå…ˆåˆ°è¿™é‡Œäº†ï¼Œä¸ç»†çœ‹äº†ï¼Œæœ‰éœ€è¦å†è¡¥å…… 21&#x2F;4&#x2F;2 æ–°å»º ARPåè®®ã€IPåè®® 21&#x2F;4&#x2F;4 è¡¥å…… DNSåè®® ç¬¬äºŒç«  Internet åœ°å€ç»“æ„ å½“ä¸€å°è®¾å¤‡è¿æ¥åˆ°å…¨çƒæ€§çš„ Internetæ—¶,ä¸ºå®ƒä»¬åˆ†é…åœ°å€å°±å¿…é¡»ç»è¿‡åè°ƒ,è¿™æ ·å°±ä¸ä¼šé‡å¤ä½¿ç”¨ç½‘ç»œä¸­çš„å…¶ä»–åœ°å€ã€‚å¯¹äºä¸“ç”¨ç½‘ç»œ,ä½¿ç”¨çš„IPåœ°å€å¿…é¡»ç»è¿‡åè°ƒ,ä»¥é¿å…åœ¨ä¸“ç”¨ç½‘ç»œä¸­å‡ºç°ç±»ä¼¼çš„é‡å¤ã€‚æˆç»„çš„IPåœ°å€è¢«åˆ†é…ç»™ç”¨æˆ·å’Œç»„ç»‡ã€‚è¿™äº›åœ°å€çš„æ‹¥æœ‰è€…å†å°†å®ƒä»¬åˆ†é…ç»™è®¾å¤‡,è¿™é€šå¸¸æ ¹æ®æŸäº›â€œç¼–å·æ–¹æ¡ˆâ€è¿›è¡Œã€‚å¯¹äºå…¨çƒæ€§çš„ Internetåœ°å€,ä¸€ä¸ªåˆ†å±‚ç»“æ„ç®¡ç†å®ä½“å¸®åŠ©ç”¨æˆ·å’ŒæœåŠ¡æä¾›å•†åˆ†é…åœ°å€ã€‚ä¸ªäººç”¨æˆ·é€šå¸¸ç”± InternetæœåŠ¡æä¾›å•†(ISP)åˆ†é…åœ°å€,é€šè¿‡æ”¯ä»˜è´¹ç”¨æ¥è·å¾—åœ°å€å’Œæ‰§è¡Œè·¯ç”±ã€‚ Page: 31 IPv6 åœ¨IPv6ä¸­,åœ°å€çš„é•¿åº¦æ˜¯128ä½,æ˜¯IPv4åœ°å€é•¿åº¦çš„4å€ã€‚ä¸€èˆ¬æ¥è¯´,å¤§å¤šæ•°ç”¨æˆ·å¯¹å®ƒä¸å¤ªç†Ÿæ‚‰ã€‚IPv6åœ°å€çš„ä¼ ç»Ÿè¡¨ç¤ºæ–¹æ³•æ˜¯é‡‡ç”¨ç§°ä¸ºå—æˆ–å­—æ®µçš„å››ä¸ªåå…­è¿›åˆ¶æ•°,è¿™äº›è¢«ç§°ä¸ºå—æˆ–å­—æ®µçš„æ•°ç”±å†’å·åˆ†éš”ã€‚ä¾‹å¦‚,ä¸€ä¸ªåŒ…å«8ä¸ªå—çš„IPv6åœ°å€å¯å†™ä¸º5m05:2000:80ad:5800:0058:0800:2023:1d71ã€‚è™½ç„¶ä¸åƒç”¨æˆ·ç†Ÿæ‚‰çš„åè¿›åˆ¶æ•°,ä½†å°†åå…­è¿›åˆ¶æ•°è½¬æ¢ä¸ºäºŒè¿›åˆ¶æ›´å®¹æ˜“ã€‚å¦å¤–,ä¸€äº›å·²å–å¾—å…±è¯†çš„IPv6åœ°å€ç®€åŒ–è¡¨ç¤ºæ³•å·²è¢«æ ‡å‡†åŒ–[RFC42911]:1.ä¸€ä¸ªå—ä¸­å‰å¯¼çš„é›¶ä¸å¿…ä¹¦å†™ã€‚åœ¨å‰é¢çš„ä¾‹å­ä¸­,åœ°å€å¯å†™ä¸º5f05:200080ad:5800:58:800:2023:1d7l2.å…¨é›¶çš„å—å¯ä»¥çœç•¥,å¹¶ç”¨ç¬¦å·::ä»£æ›¿ã€‚ä¾‹å¦‚,IPv6åœ°å€0:0:0:0:0:0:0:1å¯ç®€å†™ä¸º::1åŒæ ·,åœ°å€2001:0db8:0:0:0:0:0:2å¯ç®€å†™ä¸º2001:db8::2ã€‚ä¸ºäº†é¿å…å‡ºç°æ­§ä¹‰,ä¸€ä¸ªIPv6åœ°å€ä¸­ç¬¦å·::åªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚ åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨[]æ¥åŒ…è£¹IPv6ï¼Œæ¯”å¦‚url: http:&#x2F;&#x2F;[2001:0db8:85a3:08d3:1319:8a2e:0370:7344]:443&#x2F; IPv4åœ°å€åˆ†ç±»åœ¨æœ€åˆï¼ŒIPv4è¢«åˆ†ä¸ºè¿™5ç±» 20ä¸–çºª90å¹´ä»£ä»¥åï¼ŒInterneté‡åˆ°äº†æ–°çš„é—®é¢˜ï¼š 1.åˆ°1994å¹´,ä¸€åŠä»¥ä¸Šçš„Bç±»åœ°å€å·²è¢«åˆ†é…ã€‚é¢„è®¡,Bç±»åœ°å€ç©ºé—´å¤§çº¦åœ¨1995å¹´å°†è¢«ç”¨å°½ã€‚ 2.32ä½çš„IPv4åœ°å€è¢«è®¤ä¸ºä¸è¶³ä»¥åº”ä»˜ Internetåœ¨21ä¸–çºªåˆçš„é¢„æœŸè§„æ¨¡ã€‚ 3.å…¨çƒæ€§è·¯ç”±è¡¨çš„æ¡ç›®æ•°(æ¯ä¸ªç½‘ç»œå·å¯¹åº”ä¸€æ¡),1995å¹´å¤§çº¦ä¸º65000ä¸ªæ¡ç›®,ç›®å‰ä»åœ¨å¢é•¿ä¸­ã€‚éšç€è¶Šæ¥è¶Šå¤šAç±»ã€Bç±»å’ŒCç±»è·¯ç”±æ¡ç›®çš„å‡ºç°,è·¯ç”±æ€§èƒ½å°†å—åˆ°å½±å“ã€‚ Page: 46 CIDRæ— ç±»åˆ«åŸŸé—´è·¯ç”±ï¼Œä½¿ç”¨CIDRï¼Œä»»ä½•ä½å®šä¹‰çš„åœ°å€èŒƒå›´éƒ½å¯ä»¥ä½œä¸ºä¸€ä¸ªç±»çš„ä¸€éƒ¨åˆ†ï¼Œä½†æ˜¯éœ€è¦æä¾›å­ç½‘æ©ç ï¼ˆIPå‰ç¼€é•¿åº¦ï¼‰ æ— ç±»åˆ«åŸŸé—´è·¯ç”±è§£å†³äº†é—®é¢˜1ï¼ŒIPv6è§£å†³äº†é—®é¢˜2ï¼Œé—®é¢˜3æ²¡åŠæ³•äº†ã€‚ èšåˆKleinrockå’ŒKamounæå‡ºä½¿ç”¨åˆ†å±‚è·¯ç”±ï¼Œæ ‘å½¢æ‹“æ‰‘ç½‘ç»œ å¦‚æœæˆ‘ä»¬æŒ‰ç…§åœ°å€å¯¹IPè¿›è¡Œèšåˆï¼Œå°±èƒ½è®©è·¯ç”±è¡¨ä¸­çš„æ¡ç›®å˜å°‘ï¼Œä¸‹å›¾å·¦ä¸­çš„è·¯ç”±è¡¨æœ‰9ä¸ªæ¡ç›®ï¼Œå³ä¸­çš„è·¯ç”±å™¨åªæœ‰ä¸‰ä¸ªæ¡ç›®ä¸”ä¸éšæ ‘çš„ç”Ÿé•¿å˜åŒ–ã€‚ ç‰¹æ®Šç”¨é€”çš„åœ°å€ ç¬¬å››ç« ï¼š åœ°å€è§£æåè®®arpåè®®èƒ½å¤ŸæŠŠIPåœ°å€è½¬æ¢ä¸ºç‰©ç†åœ°å€ã€‚åœ¨linuxä¸Šæ‰§è¡Œå‘½ä»¤ 1arp æˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™é‡Œæœ‰5åˆ—ï¼Œç¬¬ä¸€åˆ—Addresså³IPåœ°å€ï¼ŒHWtypeæ˜¯ç¡¬ä»¶ç±»å‹ï¼ŒHWaddressæ˜¯ç¡¬ä»¶åœ°å€ï¼ŒFlagsæ˜¯æ ‡å¿—ï¼ŒåŒ…æ‹¬Cã€Mã€Pï¼ŒCä»£è¡¨ç”±arpåè®®åŠ¨æ€å­¦ä¹ ï¼ŒMä¸ºæ‰‹åŠ¨è¾“å…¥ï¼ŒPæ˜¯å‘å¸ƒï¼ˆä¸»æœºå¯¹ARPè¯·æ±‚çš„åº”ç­”ï¼‰ï¼ŒIfaceæ˜¯æœ¬åœ°ç½‘ç»œæ¥å£ï¼ˆç½‘å¡ï¼‰ æˆ‘ä»¬ä½¿ç”¨dockerå¯åŠ¨ä¸€ä¸ªcentos8å®¹å™¨ï¼Œå®‰è£…å¥½éœ€è¦çš„ç½‘ç»œå·¥å…·ï¼Œç„¶åæ‰§è¡Œå‘½ä»¤ 1tcpdump -vve ç„¶åå¯¹è¿™ä¸ªå®¹å™¨å†å¯åŠ¨ä¸€ä¸ªbashæ‰§è¡Œ 1telnet fightinggg.top 80 æ³¨æ„åˆ°æœ‰ç€ä¸¤è¡Œå‡ºç° 1212:29:47.647126 02:42:ac:11:00:03 (oui Unknown) &gt; Broadcast, ethertype ARP (0x0806), length 42: Ethernet (len 6), IPv4 (len 4), Request who-has _gateway tell 8d32dcd79d6c, length 2812:29:47.647154 02:42:6b:57:92:7d (oui Unknown) &gt; 02:42:ac:11:00:03 (oui Unknown), ethertype ARP (0x0806), length 42: Ethernet (len 6), IPv4 (len 4), Reply _gateway is-at 02:42:6b:57:92:7d (oui Unknown), length 28 ç¬¬ä¸€è¡Œçš„æ„æ€æ˜¯macä¸º02:42:ac:11:00:03çš„ä¸»æœºå‘å¸ƒäº†ä¸€ä¸ªå¹¿æ’­ï¼šè°çŸ¥é“_gatewayçš„macåœ°å€ï¼Œè¯·å‘Šè¯‰8d32dcd79d6c(docker å®¹å™¨çš„host) ç¬¬äºŒè¡Œçš„æ„æ€æ˜¯macä¸º02:42:6b:57:92:7dçš„ä¸»æœºå‘02:42:ac:11:00:03å‘é€äº†å•æ’­ï¼š_gatewayçš„macåœ°å€ä¸º02:42:6b:57:92:7d ä»£ç†ARP ä»£ç†ARP[RFC1027ä½¿ä¸€ä¸ªç³»ç»Ÿ(é€šå¸¸æ˜¯ä¸€å°ä¸“é—¨é…ç½®çš„è·¯ç”±å™¨)å¯å›ç­”ä¸åŒä¸»æœºçš„ARPè¯·æ±‚ã€‚å®ƒä½¿ARPè¯·æ±‚çš„å‘é€è€…è®¤ä¸ºåšå‡ºå“åº”çš„ç³»ç»Ÿå°±æ˜¯ç›®çš„ä¸»æœº,ä½†å®é™…ä¸Šç›®çš„ä¸»æœºå¯èƒ½åœ¨å…¶ä»–åœ°æ–¹(æˆ–ä¸å­˜åœ¨)ã€‚ARPä»£ç†å¹¶ä¸å¸¸è§,é€šå¸¸åº”å°½é‡é¿å…ä½¿ç”¨å®ƒã€‚ å…è´¹ARPå½“ä¸€å°ä¸»æœºå¯åŠ¨çš„æ—¶å€™ï¼Œä»–ä¼šå‘é€ä¸€ä¸ªARPè¯·æ±‚ï¼Œå¯»æ‰¾è‡ªå·±çš„åœ°å€ï¼Œé€šå¸¸ä»–ä¸æœŸå¾…å¾—åˆ°å›ç­”ã€‚ è¿™æ ·åšæœ‰ä¸¤ä¸ªå¥½å¤„ï¼š ç¡®å®šç½‘ç»œä¸­ä¸å­˜åœ¨å¦ä¸€å°ä¸»æœºå’Œè‡ªå·±çš„IPåœ°å€ç›¸åŒ å¦‚æœä¸»æœºå·²ç»æ”¹å˜äº†è‡ªå·±çš„MACåœ°å€ï¼Œè¿™ä¸ªARPæŠ¥æ–‡ä¼šè®©å…¶ä»–ä¸»æœºæ›´æ–°è¿™å°ä¸»æœºçš„MACåœ°å€ ç¬¬äº”ç« ï¼šInternetåè®®IPæŠ¥æ–‡ ç»†èŠ‚å‚è€ƒè¿™é‡Œ DSå­—æ®µç»†èŠ‚ åè®®è¯¦è§ IPv6å¤´éƒ¨ ä¸‹ä¸€ä¸ªå¤´éƒ¨å…·ä½“çš„æƒ…å†µ ç¬¬11ç«  åç§°è§£æå’ŒåŸŸåç³»ç»ŸDNSæ¶ˆæ¯æ ¼å¼ åç§° å¤‡æ³¨ ä½æ•° äº‹åŠ¡ID å®¢æˆ·ç«¯è®¾ç½®ï¼ŒæœåŠ¡å™¨è¿”å› 16 QR å†³å®šæ˜¯å“åº”è¿˜æ˜¯å›å¤ 1 OpCode 0æ­£å¸¸æŸ¥è¯¢4é€šçŸ¥5æ›´ç»†1-3å¼ƒç”¨ 4 AAï¼ˆauthoritative anwerï¼‰ æˆæƒå›ç­”ï¼Œä¸ç¼“å­˜å›ç­”ç›¸å¯¹ 1 TCï¼ˆtruncatedï¼‰ å¯æˆªæ–­ï¼Œåœ¨UDPä¸­æ ‡è¯†æ˜¯å¦æˆªæ–­ 1 RDï¼ˆrecursion desiredï¼‰ æœŸæœ›é€’å½’ï¼Œå‚è€ƒé€’å½’DNS å¦‚æœå›ç­”æ˜¯ï¼Œåˆ™æœåŠ¡å™¨ä¼šè¿”å›é€’å½’çš„DNSåœ°å€ 1 RAï¼ˆé€’å½’å¯ç”¨ï¼‰ è¡¨æ˜è¯¥æœåŠ¡å™¨æ˜¯å¦æ”¯æŒé€’å½’ï¼Œæ ¹æœåŠ¡å™¨ä¸æ”¯æŒRA 1 Z ä¿ç•™ï¼Œä¸€å®šæ˜¯0 1 AD æ˜¯å¦æˆæƒ 1 CD æ˜¯å¦ç¦ç”¨å®‰å…¨æ£€æŸ¥ï¼ˆéšç¼˜è¡¥å……è¿™éƒ¨åˆ†ï¼‰ 1 RCODE è§ğŸ‘‡ 4 QDCOUNT&#x2F;ZOCOUNT æŸ¥è¯¢æ•°&#x2F;åŒºåŸŸæ•°ğŸ‘‡ 16 ANCOUNT&#x2F;PRCOUNT å›ç­”æ•°&#x2F;å…ˆå†³æ¡ä»¶æ•°ğŸ‘‡ 16 NSCOUNT&#x2F;UPCOUNT æˆæƒè®°å½•æ•°&#x2F;æ›´æ–°æ•°ğŸ‘‡ 16 ARCOUNT&#x2F;ADCOUNT é¢å¤–ä¿¡æ¯æ•°ğŸ‘‡ 16 RCODE QDCOUNT&#x2F;ZOCOUNTæŸ¥è¯¢ç±»16ä½ï¼Œ 1ä»£è¡¨äº’è”ç½‘ç±»ï¼Œ 254ä»£è¡¨æ²¡æœ‰ç±»ï¼Œ 255ä»£è¡¨æ‰€æœ‰ç±» æŸ¥è¯¢ç±»å‹16ä½ï¼Œ ä¸€èˆ¬ä¸ºAï¼ˆIPv6ä¸ºAAAAï¼‰ å›ç­”ï¼Œæˆæƒï¼Œé¢å¤–ä¿¡æ¯","categories":[{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","permalink":"http://fightinggg.github.io/indigo/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"}],"tags":[{"name":"è¯»ä¹¦","slug":"è¯»ä¹¦","permalink":"http://fightinggg.github.io/indigo/tags/%E8%AF%BB%E4%B9%A6/"}]},{"title":"è®¡ç®—æœºç½‘ç»œ-è‡ªé¡¶å‘ä¸‹æ–¹æ³•","slug":"è®¡ç®—æœºç½‘ç»œ/è®¡ç®—æœºç½‘ç»œ-è‡ªé¡¶å‘ä¸‹æ–¹æ³•/index","date":"2021-03-31T05:57:00.000Z","updated":"2021-03-31T05:57:00.000Z","comments":true,"path":"QQTKJ0.html","link":"","permalink":"http://fightinggg.github.io/indigo/QQTKJ0.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ç¬¬ä¸€ç«  è®¡ç®—æœºç½‘ç»œå’Œå› ç‰¹ç½‘ç½‘ç»œè¾¹ç¼˜ ç«¯ç³»ç»Ÿï¼š é€šå¸¸æŠŠä¸å› ç‰¹ç½‘ç›¸è¿çš„è®¡ç®—æœºå’Œå…¶ä»–è®¾å¤‡ç§°ä¸ºç«¯ç³»ï¼Œå› ä¸ºå®ƒä»¬ä½äºå› ç‰¹ç½‘çš„è¾¹ç¼˜ï¼Œ æ•…è€Œè¢«ç§°ä¸ºç«¯ç³»ç»Ÿ ï¼Œç«¯ç³»ç»Ÿä¹Ÿç§°ä¸ºä¸»æœº host , å› ä¸ºå®ƒä»¬å®¹çº³ï¼ˆå³è¿è¡Œï¼‰åº”ç”¨ç¨‹åºï¼Œå¦‚ Web æµè§ˆå™¨ç¨‹åºã€ Web æœåŠ¡å™¨ç¨‹åºã€ç”µå­é‚®ä»¶å®¢æˆ·ç¨‹åºæˆ–ç”µå­é‚®ä»¶æœåŠ¡å™¨ç¨‹åºç­‰ã€‚ Page: 7 å½“ä½ ç†è§£äº†ç«¯ç³»ç»Ÿä¸­ç«¯çš„æ„æ€ä»¥åï¼Œç«¯åˆ°ç«¯ï¼Œç‚¹åˆ°ç‚¹çš„åè¯å°±ä¸ä¼šææ··äº†","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ç¬¬ä¸€ç«  è®¡ç®—æœºç½‘ç»œå’Œå› ç‰¹ç½‘ç½‘ç»œè¾¹ç¼˜ ç«¯ç³»ç»Ÿï¼š é€šå¸¸æŠŠä¸å› ç‰¹ç½‘ç›¸è¿çš„è®¡ç®—æœºå’Œå…¶ä»–è®¾å¤‡ç§°ä¸ºç«¯ç³»ï¼Œå› ä¸ºå®ƒä»¬ä½äºå› ç‰¹ç½‘çš„è¾¹ç¼˜ï¼Œ æ•…è€Œè¢«ç§°ä¸ºç«¯ç³»ç»Ÿ ï¼Œç«¯ç³»ç»Ÿä¹Ÿç§°ä¸ºä¸»æœº host , å› ä¸ºå®ƒä»¬å®¹çº³ï¼ˆå³è¿è¡Œï¼‰åº”ç”¨ç¨‹åºï¼Œå¦‚ Web æµè§ˆå™¨ç¨‹åºã€ Web æœåŠ¡å™¨ç¨‹åºã€ç”µå­é‚®ä»¶å®¢æˆ·ç¨‹åºæˆ–ç”µå­é‚®ä»¶æœåŠ¡å™¨ç¨‹åºç­‰ã€‚ Page: 7 å½“ä½ ç†è§£äº†ç«¯ç³»ç»Ÿä¸­ç«¯çš„æ„æ€ä»¥åï¼Œç«¯åˆ°ç«¯ï¼Œç‚¹åˆ°ç‚¹çš„åè¯å°±ä¸ä¼šææ··äº† æ¥å…¥ç½‘ è¿™æ˜¯æŒ‡å°†ç«¯ç³»ç»Ÿç‰©ç†è¿æ¥åˆ°å…¶è¾¹ç¼˜è·¯ç”±å™¨ (edge router) çš„ç½‘ç»œ è¾¹ç¼˜è·¯ç”±å™¨æ˜¯ç«¯ç³»ç»Ÿåˆ°ä»»ä½•å…¶ä»–è¿œç¨‹ç«¯ç³»ç»Ÿçš„è·¯å¾„ä¸Šçš„ç¬¬ä¸€å°è·¯ç”±å™¨ Page: 8 ä»¥å¤ªç½‘å’ŒWIFIæ¥å…¥ åœ¨å…¬å¸å’Œå¤§å­¦æ ¡å›­ä»¥åŠè¶Šæ¥è¶Šå¤šçš„å®¶åº­ç¯å¢ƒä¸­ï¼Œä½¿ç”¨å±€åŸŸç½‘ (LAN å°†ç«¯ç³»ç»Ÿè¿æ¥åˆ°è¾¹ç¼˜è·¯ç”±å™¨ å°½ç®¡æœ‰è®¸å¤šä¸åŒç±»å‹çš„å±€åŸŸç½‘æŠ€æœ¯ï¼Œä½†æ˜¯ä»¥å¤ªç½‘åˆ°ç›®å‰ä¸ºæ­¢æ˜¯å…¬å¸ã€å¤§å­¦å’Œå®¶åº­ç½‘ç»œä¸­æœ€ä¸ºæµè¡Œçš„æ¥å…¥æŠ€æœ¯ Page: 12 å…¶ä»–æ¥å…¥æ–¹å¼3G ï¼Œ LTEï¼ˆæºäº3Gï¼‰ã€ç”µç¼†ã€æ‹¨å·ç­‰ ç½‘ç»œæ ¸å¿ƒåˆ†ç»„äº¤æ¢ï¼ˆpacket switchingï¼‰ç«¯ç³»ç»Ÿéœ€è¦å½¼æ­¤å‘é€æŠ¥æ–‡ï¼ŒæŠ¥æ–‡è¿›å…¥æ¥å…¥ç½‘ï¼Œå¹¶é€šè¿‡ç½‘ç»œæ ¸å¿ƒåˆ°è¾¾ç›®æ ‡æ¥å…¥ç½‘ï¼Œæœ€ååˆ°è¾¾ç›®æ ‡ç«¯ç³»ç»Ÿï¼ŒæŠ¥æ–‡å¾€å¾€å¾ˆå¤§ï¼Œä¸åˆ©äºä¼ è¾“ï¼Œä»–ä¼šè¢«åˆ†ç»„ä¼ è¾“ï¼Œæ¯ä¸€ä¸ªåˆ†ç»„ï¼ˆpacketï¼‰éƒ½ä¼šç‹¬ç«‹åœ°ç»è¿‡ç½‘ç»œæ ¸å¿ƒï¼Œåœ¨ç½‘ç»œè¿‡æ ¸å¿ƒä¸­ï¼Œä½¿ç”¨åˆ†ç»„äº¤æ¢æœºæ¥è¿›è¡Œä¼ è¾“ åˆ†ç»„äº¤æ¢æœºä¸€èˆ¬æŒ‡çš„æ˜¯è·¯ç”±å™¨å’Œé“¾è·¯å±‚äº¤æ¢æœº å‚¨å­˜è½¬å‘ä¼ è¾“äº¤æ¢æœºä½¿ç”¨å‚¨å­˜è½¬å‘ä¼ è¾“æŠ€æœ¯ï¼Œå³å¿…é¡»æ¥å—åˆ°å®Œæ•´çš„packetä»¥åï¼Œæ‰ä¼šè¿›è¡Œè½¬å‘ã€‚è¿™ä¹Ÿå¯¼è‡´äº†ç½‘ç»œå»¶è¿Ÿä¼šéšç€ä¸­é—´å±‚çš„äº¤æ¢æœºæ•°é‡å‘ˆçº¿æ€§å¢é•¿ã€‚ æ’é˜Ÿæ—¶å»¶å’Œåˆ†ç»„ä¸¢å¤±äº¤æ¢æœºå¾€å¾€æœ‰å¤šæ¡é“¾è·¯ï¼Œå½“ä¸€ä¸ªpacketåˆ°è¾¾çš„æ—¶å€™ï¼Œä»–å°†è¦è¿›è¡Œä¼ è¾“çš„é‚£æ¡é“¾è·¯å¯èƒ½æ­£åœ¨è¿›è¡Œç€å…¶ä»–packetçš„ä¼ è¾“ï¼Œé‚£è¾¹è¿™ä¸ªpacketå¿…é¡»æ”¾å…¥é˜Ÿåˆ—è¿›è¡Œç¼“å­˜ï¼Œäºæ˜¯äº§ç”Ÿäº†æ’é˜Ÿæ—¶å»¶ï¼Œå½“é˜Ÿåˆ—ç¼“å­˜æ»¡äº†ä»¥åï¼Œæ–°åˆ°è¾¾çš„packetå°†ä¼šè¢«ä¸¢å¼ƒã€‚ è½¬å‘è¡¨å’Œè·¯ç”±åè®®è·¯ç”±å™¨åº”è¯¥é€‰æ‹©å“ªæ¡é“¾è·¯è¿›è¡Œpacketçš„è½¬å‘ï¼Ÿ æ¯å°è·¯å·¾å™¨å…·æœ‰ è½¬å‘è¡¨( forwarding table) , ç”¨äºå°†ç›®çš„åœ°å€ ï¼ˆæˆ–ç›®çš„ åœ°å€çš„ éƒ¨åˆ†ï¼‰æ˜ å°„æˆä¸ºè¾“å‡ºé“¾è·¯ å½“æŸåˆ†ç»„åˆ°è¾¾ä¸€å°è·¯ç”±å™¨æ—¶ï¼Œè·¯ç”±å™¨æ£€æŸ¥è¯¥åœ°å€ï¼Œå¹¶ç”¨è¿™ä¸ªç›®çš„åœ°å€æœç´¢å…¶è½¬å‘è¡¨ï¼Œä»¥å‘ç°é€‚å½“çš„å‡ºé“¾è·¯ è·¯ç”±å™¨åˆ™å°†åˆ†ç»„å¯¼å‘è¯¥å‡ºé“¾è·¯ Page: 18 è½¬å‘è¡¨æ€ä¹ˆæ¥ï¼Ÿæˆ‘ä»¬åç»­å†è°ˆã€‚ ç”µè·¯äº¤æ¢ï¼ˆcircuit switchingï¼‰åˆ†ç»„äº¤æ¢æ¶‰åŠåˆ°çš„é—®é¢˜æ˜¯å¯èƒ½å‘ç”Ÿçš„ä¸¢åŒ…ï¼Œå’ŒæœªçŸ¥çš„åŒ…å»¶è¿Ÿï¼Œå‚è€ƒä»¥å‰çš„ç”µè¯ï¼Œå½“æˆ‘ä»¬æ‰“ç”µè¯çš„æ—¶å€™ï¼Œä¼šæœ‰ä¸€ä¸ªæ¥çº¿å‘˜ç»™æˆ‘ä»¬æ¥çº¿ï¼Œäºæ˜¯æˆ‘ä»¬å’Œç”µè¯çš„å¦ä¸€ç«¯å°±æœ‰äº†çœŸå®çš„è¿æ¥ï¼Œç”µè·¯äº¤æ¢å°±æ˜¯è¿™æ ·ï¼Œå½“ç«¯åˆ°ç«¯ä¼šè¯çš„æ—¶å€™ï¼Œäº¤æ¢ç½‘ç»œä¸Šä¼šä¸ºè¿™ä¸ªä¼šè¯é¢„ç•™ç¼“å­˜èµ„æºã€ä¼ è¾“é€Ÿç‡èµ„æºã€‚ åˆ†ç»„äº¤æ¢å’Œç”µè·¯äº¤æ¢çš„åŒºåˆ«åˆ†ç»„äº¤æ¢ç®€å•ï¼Œé«˜æ•ˆï¼Œä½†æ˜¯ä¼šæœ‰ä¸å¯é¢„æµ‹çš„ä¸¢åŒ…å’Œå»¶è¿Ÿ ç”µè·¯äº¤æ¢ç¨³å®šï¼Œå¤æ‚ åˆ†ç»„äº¤æ¢ç½‘ä¸­çš„æ—¶å»¶ã€ä¸¢åŒ…å’Œååé‡æ—¶å»¶å¤„ç†æ—¶å»¶ï¼š æ£€æŸ¥åˆ†ç»„é¦–éƒ¨å’Œå†³å®šå°†è¯¥åˆ†ç»„å¯¼å‘ä½•å¤„æ‰€éœ€è¦çš„æ—¶é—´æ˜¯å¤„ç†æ—¶å»¶çš„ä¸€éƒ¨åˆ† å¤„ç†æ—¶å»¶ä¹Ÿèƒ½å¤ŸåŒ…æ‹¬å…¶ä»–å› ç´ ï¼Œå¦‚æ£€æŸ¥æ¯”ç‰¹çº§åˆ«çš„å·®é”™æ‰€éœ€è¦çš„æ—¶é—´ Pageï¼š 25 æ’é˜Ÿæ—¶å»¶ï¼š åœ¨é˜Ÿåˆ—ä¸­ï¼Œå½“åˆ†ç»„åœ¨é“¾è·¯ä¸Šç­‰å¾…ä¼ è¾“æ—¶ï¼Œå®ƒç»å—æ’é˜Ÿæ—¶å»¶ Pageï¼š 25 ä¼ è¾“æ—¶å»¶: ä»…å½“æ‰€æœ‰å·²ç»åˆ°è¾¾çš„åˆ†ç»„è¢«ä¼ è¾“åï¼Œæ‰èƒ½ä¼ è¾“åˆšåˆ°è¾¾çš„åˆ†ç»„ Page: 25 ä¼ æ’­æ—¶å»¶ï¼š åœ¨é“¾è·¯ä¸Šä¼ æ’­çš„æ—¶é—´ ä¼ è¾“æ—¶å»¶æ˜¯è·¯ç”±å™¨æ¨å‡ºåˆ†ç»„æ‰€éœ€è¦çš„æ—¶é—´ï¼å®ƒæ˜¯åˆ†ç»„é•¿åº¦å’Œé“¾è·¯ä¼ è¾“é€Ÿç‡çš„å‡½æ•°ï¼Œè€Œä¸ä¸¤å°è·¯ç”±å™¨ä¹‹é—´çš„è·ç¦»æ— å…³ã€‚ ä¼ æ’­æ—¶å»¶æ˜¯ä¸€ä¸ªæ¯”ç‰¹ä»ä¸€å°è·¯ç”±å™¨ä¼ æ’­åˆ°å¦ä¸€å°è·¯ç”±å™¨æ‰€éœ€è¦çš„æ—¶é—´ï¼Œå®ƒæ˜¯ä¸¤å°è·¯ç”±å™¨ä¹‹é—´è·ç¦»çš„å‡½æ•°ï¼Œè€Œä¸åˆ†ç»„é•¿åº¦æˆ–é“¾è·¯ä¼ è¾“é€Ÿç‡æ— å…³ã€‚ Pageï¼š 26 ä»packetåˆ°ç¬¬ä¸€ä¸ªbitå¼€å§‹ç¦»å¼€è·¯ç”±å™¨åˆ°æœ€åä¸€ä¸ªbitç¦»å¼€è·¯ç”±å™¨å«åšä¼ è¾“æ—¶å»¶ï¼Œä»æœ€åä¸€ä¸ªbitç¦»å¼€è·¯ç”±å™¨åˆ°æœ€åä¸€ä¸ªbitè¢«ç›®æ ‡è·¯ç”±å™¨æ¥å—ï¼Œå«åšä¼ æ’­æ—¶å»¶ã€‚ 10è¾†è½¦ç»„æˆè¿™å¯¹ä¾æ¬¡ç»è¿‡æ”¶è´¹ç«™Aï¼Œé€”å¾„100kmåˆ°è¾¾æ”¶è´¹ç«™Bï¼Œæ”¶è´¹ç«™å¤„ç†é€Ÿåº¦5è¾†è½¦&#x2F;minï¼Œè½¦é€Ÿ100km&#x2F;h åˆ™ä¼ è¾“æ—¶å»¶&#x3D;(10è¾†è½¦)&#x2F;(5è¾†è½¦&#x2F;min)&#x3D;2min ä¼ æ’­æ—¶å»¶&#x3D;100km&#x2F;(100km&#x2F;h) &#x3D; 1h æ€»æ—¶å»¶ä¸º62min ä¸¢åŒ…å‡è®¾bitåˆ°è¾¾çš„é€Ÿç‡ï¼ˆè½¦é€Ÿï¼‰ä¸ºLa bpsï¼Œä¼ è¾“é€Ÿç‡ä¸ºRï¼ˆæ¨å‡ºbitåˆ°é€Ÿç‡ï¼‰ï¼ˆæ”¶è´¹ç«™å¤„ç†çš„é€Ÿåº¦ï¼‰ï¼Œåˆ™æµé‡å¼ºåº¦ä¸ºLa&#x2F;R å¦‚æœLa&#x2F;R &gt; 1,è¯´æ˜è½¦åœ¨è·¯ä¸Šè·‘çš„é€Ÿåº¦æ¯”è½¦ç»è¿‡æ”¶è´¹ç«™çš„é€Ÿåº¦å¿«ï¼Œè¿™æ—¶å€™ï¼Œå¦‚æœè·¯ä¸Šæ»¡æµï¼Œä¸€å®šä¼šå¼•å‘å µè½¦ã€‚ åœ¨ç½‘ç»œä¸­ï¼Œè·¯ç”±å™¨ä¼šä¸¢æ‰è¿™äº›packetã€‚ åè®®å±‚æ¬¡åŠå…¶æœåŠ¡æ¨¡å‹å› ç‰¹ç½‘5å±‚åè®® åº”ç”¨å±‚ï¼š HTTPï¼ŒSMTPï¼ˆé‚®ä»¶æŠ¥æ–‡ä¼ è¾“ï¼‰ï¼ŒFTPï¼ˆæ–‡ä»¶ä¼ è¾“ï¼‰ï¼ŒDNSï¼ˆåŸŸåç³»ç»Ÿï¼‰ï¼Œæˆ‘ä»¬æŠŠè¿™å±‚çš„packetç§°ä¸ºæŠ¥æ–‡ï¼ˆmessageï¼‰ ä¼ è¾“å±‚ï¼š TCP&#x2F;UDPï¼Œæˆ‘ä»¬æŠŠè¿™å±‚çš„packetç§°ä¸ºæŠ¥æ–‡æ®µï¼ˆsegmentï¼‰ ç½‘ç»œå±‚ï¼š IPï¼Œä¼ è¾“æ•°æ®æŠ¥ï¼ˆdatagramï¼‰ é“¾è·¯å±‚ï¼šè´Ÿè´£ç‚¹åˆ°ç‚¹ä¼ è¾“ï¼Œä¼ è¾“å¸§ï¼ˆframeï¼‰ ç‰©ç†å±‚ï¼špass OSIæ¨¡å‹ è¡¨ç¤ºå±‚çš„ä½œç”¨æ˜¯ä½¿é€šä¿¡çš„åº”ç”¨ç¨‹åºèƒ½å¤Ÿè§£é‡Šäº¤æ¢æ•°æ®çš„å«ä¹‰ è¿™äº›æœåŠ¡åŒ…æ‹¬æ•°æ®å‹ç¼©å’Œæ•°æ®åŠ å¯†ï¼ˆå®ƒä»¬æ˜¯è‡ªè§£é‡Šçš„ï¼‰ä»¥åŠæ•°æ®æè¿°ï¼ˆè¿™ä½¿å¾—åº”ç”¨ç¨‹åºä¸å¿…æ‹…å¿ƒåœ¨å„å°è®¡ç®—æœºä¸­è¡¨ç¤ºï¼å­˜å‚¨çš„å†…éƒ¨æ ¼å¼ä¸åŒçš„é—®é¢˜ï¼‰ ä¼šè¯å±‚æä¾›äº†æ•°æ®äº¤æ¢çš„å®šç•Œå’ŒåŒæ­¥åŠŸèƒ½ï¼ŒåŒ…æ‹¬äº†å»ºç«‹æ£€æŸ¥ç‚¹å’Œæ¢å¤æ–¹æ¡ˆçš„æ–¹æ³• Pageï¼š 36 ç¬¬äºŒç«  åº”ç”¨å±‚HTTP,SMTP,FTPpassï¼ˆè¿™ç¯‡blogä¸»è¦è€ƒè™‘ç½‘ç»œå±‚å’Œä¼ è¾“å±‚ï¼‰ DNS DNS é€šå¸¸æ˜¯ç”±å…¶ä»–åº”ç”¨å±‚åè®®æ‰€ä½¿ç”¨çš„ï¼ŒåŒ…æ‹¬ HTTP MTP FTP, å°†ç”¨æˆ·æä¾›çš„ä¸»æœºåè§£æä¸º IP åœ°å€ åˆ†å¸ƒå¼ã€å±‚æ¬¡æ•°æ®åº“ ä¸ºäº†å¤„ç†æ‰©å±•æ€§é—®é¢˜ï¼Œ DNS ä½¿ç”¨äº†å¤§é‡çš„ DNS æœåŠ¡å™¨ ï¼Œå®ƒä»¬ä»¥å±‚æ¬¡æ–¹å¼ç»„ç»‡ä¸”åˆ†å¸ƒåœ¨å…¨ä¸–ç•ŒèŒƒå›´å†… æ²¡æœ‰ DNS æœåŠ¡å™¨æ‹¥æœ‰å› ç‰¹ç½‘ä¸Šæ‰€æœ‰ä¸»æœºçš„æ˜ å°„ ç›¸å,è¿™äº›æ˜ å°„åˆ†å¸ƒåœ¨æ‰€æœ‰çš„ DNS æœåŠ¡å™¨ä¸Š Page: 86 å®¢æˆ·ç«¯è®¿é—®DNSæœåŠ¡å™¨æœ‰é™è®¿é—®æœ¬åœ°DNSæœåŠ¡å™¨ï¼Œå¦‚æœå…¶ä¸­æ‰¾ä¸åˆ°ä¿¡æ¯ï¼Œç„¶åä½¿ç”¨é€’å½’æˆ–è€…è¿­ä»£çš„æ–¹å¼åœ¨DNSæ ‘ä¸Šè®¿é—®ã€‚ DNSæ•°æ®åº“å‚¨å­˜4å…ƒç»„ï¼ˆNameï¼ŒValueï¼ŒTypeï¼ŒTTLï¼‰ Type&#x3D;Aï¼Œ Nameä¸ºä¸»æœºåï¼ŒValueä¸ºIP Type&#x3D;NSï¼ŒNameä¸ºåŸŸï¼ŒValueä¸ºçŸ¥é“è¿™ä¸ªåŸŸåˆ°DNSæœåŠ¡å™¨çš„ä¸»æœºå Type&#x3D;CNAMEï¼ŒValueä¸ºåˆ«åä¸ºNameçš„ä¸»æœºçš„è§„èŒƒä¸»æœºå Type&#x3D;MXï¼ŒValueæ˜¯ä¸ªåˆ«åä¸ºNameçš„é‚®ä»¶æœåŠ¡å™¨çš„è§„èŒƒä¸»æœºå ç¬¬ä¸‰ç«  ä¼ è¾“å±‚å¤šè·¯åˆ†è§£å’Œå¤šè·¯å¤ç”¨ å°†è¿è¾“å±‚æŠ¥æ–‡æ®µä¸­çš„æ•°æ®äº¤ä»˜åˆ°æ­£ç¡®çš„å¥—æ¥å­—çš„å·¥ä½œç§°ä¸º å¤šè·¯åˆ†è§£ (demult plexing) åœ¨æºä¸»æœºä»ä¸åŒå¥—æ¥å­—ä¸­æ”¶é›†æ•°æ®å—ï¼Œå¹¶ä¸ºæ¯ä¸ªæ•°æ®å—å°è£…ä¸Šé¦–éƒ¨ä¿¡æ¯ï¼ˆè¿™å°†åœ¨ä»¥åç”¨äºåˆ†è§£ï¼‰ä»è€Œç”ŸæˆæŠ¥æ–‡æ®µï¼Œç„¶åå°†æŠ¥æ–‡æ®µä¼ é€’åˆ°ç½‘ç»œå±‚ï¼Œæ‰€æœ‰è¿™äº›å·¥ä½œç§°ä¸ºå¤šè·¯å¤ç”¨ multiplexing) Pageï¼š125 ç½‘ç»œå±‚ä¸ºæˆ‘ä»¬æä¾›äº†ä¸»æœºåˆ°ä¸»æœºçš„ä¼ è¾“ï¼Œä½†æ˜¯ä¸»æœºä¸Šå¯èƒ½æœ‰å¤šä¸ªç¨‹åºåœ¨åŒæ—¶é€šä¿¡ï¼Œé‚£ä¹ˆä¼ è¾“å±‚åœ¨ç½‘ç»œå±‚æ”¶åˆ°æ•°æ®æŠ¥çš„æ—¶å€™ï¼Œå¦‚ä½•æŠŠæ•°æ®æŠ¥äº¤ä»˜åˆ°æ­£ç¡®çš„è¿›ç¨‹å‘¢ï¼Ÿ å®é™…ä¸Šè¿›ç¨‹ä½¿ç”¨ä¼ è¾“æ—¶ï¼Œä¼šä½¿ç”¨socketï¼Œä¸€ä¸ªsocketä¼šå¯¹åº”ä¸€ä¸ªç«¯å£ï¼Œä¼ è¾“å±‚UDPåè®®ä¸ºæ•°æ®æŠ¥å¢åŠ äº†UDPå¤´ï¼Œå…¶ä¸­åŒ…å«äº†åŸç«¯å£å’Œç›®çš„ç«¯å£ä¿¡æ¯ï¼Œä¼ è¾“å±‚é€šè¿‡ç«¯å£æŠŠæŠ¥æ–‡æ®µäº¤ç»™æ­£ç¡®çš„socketã€‚ UDPæŠ¥æ–‡ ä¸ºä»€ä¹ˆUDPè¦æä¾›æ ¡éªŒå’Œï¼Ÿ ä½ å¯èƒ½æƒ³çŸ¥é“ä¸ºä»€ä¹ˆ UDP é¦–å…ˆæä¾›äº†æ£€éªŒå’Œã€å°±åƒè®¸å¤šé“¾è·¯å±‚åè®®ï¼ˆåŒ…æ‹¬æµè¡Œçš„ä»¥å¤ªç½‘åè®®ï¼‰ä¹Ÿæä¾›äº†å·®é”™æ£€æµ‹é‚£æ · å…¶åŸå› æ˜¯ä¸èƒ½ä¿è¯æºå’Œç›® çš„ä¹‹é—´çš„æ‰€æœ‰é“¾è·¯éƒ½æä¾›å·®é”™æ£€æµ‹ï¼›è¿™å°±æ˜¯è¯´ï¼Œä¹Ÿè®¸è¿™äº›é“¾è·¯ä¸­çš„ä¸€æ¡å¯èƒ½ä½¿ç”¨æ²¡æœ‰å·®é”™æ£€æµ‹çš„åè®® æ­¤å¤–ï¼Œå³ä½¿æŠ¥æ–‡æ®µç»é“¾è·¯æ­£ç¡®åœ°ä¼ è¾“ï¼Œå½“æŠ¥æ–‡æ®µå­˜å‚¨åœ¨æŸå°è·¯ç”±å™¨çš„å†…å­˜ä¸­æ—¶ï¼Œä¹Ÿå¯èƒ½å¼•å…¥æ¯”ç‰¹å·®é”™åœ¨æ—¢æ— æ³•ç¡®ä¿é€é“¾è·¯çš„å¯é æ€§ï¼Œåˆæ— æ³•ç¡®ä¿å†…å­˜ä¸­çš„å·®é”™æ£€æµ‹çš„æ¸…å†µä¸‹ï¼Œå¦‚æœç«¯åˆ°ç«¯æ•°æ®ä¼ è¾“æœåŠ¡è¦æä¾›å·®é”™æ£€æµ‹ï¼Œ UDP å°±å¿…é¡»åœ¨ç«¯åˆ°ç«¯åŸºç¡€ä¸Šåœ¨è¿è¾“å±‚æä¾›å·®é”™æ£€æµ‹ è¿™æ˜¯åœ¨ç³»ç»Ÿè®¾è®¡ä¸­è¢«ç§°é¢‚çš„ç«¯åˆ°ç«¯åŸåˆ™ (end-e nd principle) çš„ä¾‹å­[ Saltzer 1984 ] , è¯¥åŸåˆ™è¡¨è¿°ä¸ºå› ä¸ºæŸç§åŠŸèƒ½ï¼ˆåœ¨æ­¤æ—¶ä¸ºå·®é”™æ£€æµ‹ï¼‰å¿…é¡»åŸºäºç«¯åˆ°ç«¯å®ç°ï¼šâ€ä¸åœ¨è¾ƒé«˜çº§åˆ«æä¾›è¿™äº›åŠŸèƒ½çš„ä»£ä»·ç›¸æ¯”ã€åœ¨è¾ƒä½çº§åˆ«ä¸Šè®¾ç½®çš„åŠŸèƒ½å¯èƒ½æ˜¯å†—ä½™çš„æˆ–å‡ ä¹æ²¡æœ‰ä»·å€¼çš„ Pageï¼š 133 TCP RTTä¼°è®¡å‡å€¼+4å€æ–¹å·® EstimatedRTT &#x3D; (1 - a ) Â·EstimatedRTT + aÂ·SampleRTI DevRTI &#x3D; (1 -{3)Â·DevRTI +&#x2F;3Â· I SampleRIT- EstimatedRTT Timeoutlnterval &#x3D; EstimatedRTT + 4 Â·DevRâ€™IT è¶…æ—¶æ—¶é—´åŠ å€å¦‚æœä¸€ä¸ªåŒ…è¢«è®¤å®šä¸ºä¸¢å¤±ï¼Œåˆ™TCPä¼šè§¦å‘é‡ä¼ ï¼Œä½†è¿™ä¸ªåŒ…é‡ä¼ çš„è¶…æ—¶æ—¶é—´ä¼šè¢«è®¾ä¸ºä¸¤å€ï¼Œå› ä¸ºä¸¢åŒ…å¾€å¾€å› ä¸ºç½‘ç»œæ‹¥å¡å¼•èµ·ï¼Œæ‰€ä»¥è¿™ä¸ªæ–¹æ¡ˆå¾ˆä¼˜é›… å¿«é€Ÿé‡ä¼ å½“æ”¶åˆ°å¤šä»å†—ä½™ACKä»¥åï¼Œé‚£ä¸ªåŒ…å¾ˆå¤§æ¦‚ç‡ä¸¢äº†ï¼Œä¸ç”¨ç­‰åˆ°è®¡æ•°å™¨ç»“æŸäº†ã€‚ç›´æ¥é‡æ–°å‘è¿™ä¸ªåŒ…ã€‚ æµé‡æ§åˆ¶æœåŠ¡ TCP é€šè¿‡è®©å‘é€æ–¹ç»´æŠ¤ ä¸ªç§°ä¸ºæ¥æ”¶çª—å£ (receive window) çš„å˜é‡æ¥æä¾›æµé‡æ§åˆ¶é€šä¿—åœ°è¯´ï¼Œæ¥æ”¶çª—å£ç”¨äºç»™å‘é€æ–¹ä¸€ä¸ªæŒ‡ç¤ºâ€”â€”è¯¥æ¥æ”¶æ–¹è¿˜æœ‰å¤šå°‘å¯ç”¨çš„ç¼“å­˜ç©ºé—´ å‰é¢æåˆ°è¿‡ï¼Œ TCP å‘é€æ–¹ä¹Ÿå¯èƒ½å› ä¸º IP ç½‘ç»œçš„æ‹¥å¡è€Œè¢«éåˆ¶,è¿™ç§å½¢å¼çš„å‘é€æ–¹çš„æ§åˆ¶è¢«ç§°ä¸ºæ‹¥å¡æ§åˆ¶ (congestion control) , å³ä½¿æµé‡æ§åˆ¶å’Œæ‹¥å¡æ§åˆ¶é‡‡å–çš„åŠ¨ä½œéå¸¸ç›¸ä¼¼ï¼ˆå¯¹å‘é€æ–¹çš„éåˆ¶ï¼‰ï¼Œä½†æ˜¯å®ƒä»¬æ˜¾ç„¶æ˜¯é’ˆå¯¹å®Œå…¨ä¸åŒçš„åŸå› è€Œé‡‡å–çš„æªæ–½ ä¸ Page: 164 ä¸‰æ¬¡æ‹›æ‰‹å››æ¬¡æŒ¥æ‰‹ SYNæ´ªæ³›æ”»å‡» æˆ‘ä»¬åœ¨ TCP ä¸‰æ¬¡æ¡æ‰‹çš„è®¨è®ºä¸­å·²ç»çœ‹åˆ°ï¼ŒæœåŠ¡å™¨ä¸ºäº†å“åº”ä¸€ä¸ªæ”¶åˆ°çš„ SY N, åˆ†é…å¹¶åˆå§‹åŒ–è¿æ¥å˜é‡å’Œç¼“å­˜ ç„¶åæœåŠ¡å™¨å‘é€ä¸€ä¸ª SYNACK è¿›è¡Œå“åº”ï¼Œå¹¶ç­‰å¾…æ¥è‡ªå®¢æˆ·çš„ACK æŠ¥æ–‡æ®µ å¦‚æœæŸå®¢æˆ·ä¸å‘é€ ACK æ¥å®Œæˆè¯¥ä¸‰æ¬¡æ¡æ‰‹çš„ç¬« ä¸‰æ­¥ï¼Œæœ€ç»ˆï¼ˆé€šå¸¸ åœ¨ä¸€åˆ†å¤šé’Ÿä¹‹åï¼‰æœåŠ¡å™¨å°†ç»ˆæ­¢è¯¥åŠå¼€è¿æ¥å¹¶å›æ”¶èµ„æº Page: 168 SYN cookieï¼Œ æœåŠ¡å™¨æ¥æ”¶åˆ°SYNåä¸ä¼šåˆ†é…èµ„æºï¼Œä»–ç›´æ¥å¯¹å½“å‰æ—¶é—´ã€åŸç«¯å£ã€ç›®æ ‡ç«¯å£ã€æºIPã€ç›®æ ‡IPè¿›è¡ŒåŠ å¯†ï¼Œç„¶åä½œä¸ºåˆå§‹åºåˆ—å·è¿”å›ï¼Œå½“ä»–æ”¶åˆ°ç¬¬ä¸‰æ¬¡æ‹›æ‰‹æ—¶ï¼Œé‡æ–°åŠ å¯†åä¸ç¬¬ä¸€æ¬¡åŠ å¯†ç»“æœï¼ˆå–å‡ºACKçš„å€¼-1ï¼‰æ¯”è¾ƒï¼Œå¦‚æœç›¸ç­‰æ‰åˆ†é…èµ„æºã€‚ æ‹¥å¡æ§åˆ¶è¿™å¼ å›¾è¦èƒŒä¸‹æ¥ã€‚ä¸€å…±12æ¡è¾¹ã€‚ çŠ¶æ€è½¬åŒ–ï¼š åªè¦å‘ç”Ÿäº†é‡å¤3ä¸ªACKåˆ™è¿›å…¥å¿«é€Ÿæ¢å¤ *2 åªè¦å‘ç”Ÿäº†è¶…æ—¶ï¼Œåˆ™è¿›å…¥æ…¢å¯åŠ¨ *2 å¿«é€Ÿæ¢å¤æƒ…å†µä¸‹å‘ç”Ÿäº†NEW ACK,åˆ™è¿›å…¥æ‹¥å¡é¿å… *1 æ…¢å¯åŠ¨æƒ…å†µä¸‹å‘ç”Ÿäº†CWNDè¾¾åˆ°äº†ssthreshåˆ™è¿›å…¥æ‹¥å¡é¿å… *1 â€‹ CWND æ‹¥å¡çª—å£è¡¨ç¤ºä¸º cwnd,ä»–å¯¹ä¸€ä¸ª TCPå‘é€æ–¹èƒ½å‘ç½‘ç»œä¸­å‘é€æµé‡å¤§é€Ÿç‡è¿›è¡Œäº†é™åˆ¶ï¼Œ ç‰¹åˆ«æ˜¯ï¼Œåœ¨ä¸€ä¸ªå‘é€æ–¹ä¸­æœªè¢«ç¡®è®¤çš„æ•°æ®é‡ä¸ä¼šè¶…cwndä¸rwndï¼ˆæ¥å—çª—å£ï¼‰ ä¸­çš„æœ€å°å€¼ æ…¢å¯åŠ¨CWNDå¼€å§‹ä¸º1ï¼Œæ¯åˆ°è¾¾ä¸€ä¸ªACKï¼ŒCWNDè‡ªåŠ¨åŠ 1ï¼Œ æ…¢å¯åŠ¨ç»“æŸï¼š å¦‚æœå‘ç”Ÿäº†è¶…æ—¶å¼•å‘çš„ä¸¢åŒ…ï¼ŒTCPä¼šæŠŠCWNDè®¾ä¸º1å¹¶èµ‹å€¼ssthresh&#x3D;CWND&#x2F;2ï¼Œç„¶åé‡æ–°å¼€å§‹æ…¢å¯åŠ¨ã€‚ å½“CWNDè¾¾åˆ°ssthreshåï¼Œæ…¢å¯åŠ¨ç»“æŸï¼Œè½¬ç§»ä¸ºæ‹¥å¡é¿å…æ¨¡å¼ å¦‚æœæ”¶åˆ°äº†3ä¸ªå†—ä½™çš„ACKï¼Œåˆ™æ‰§è¡Œå¿«é€Ÿé‡ä¼ ï¼Œç„¶åè¿›å…¥å¿«é€Ÿæ¢å¤ æ…¢å¯åŠ¨å¾ˆæ…¢ï¼Œå¦‚æœç”¨æˆ·ç¦»äº‘æœåŠ¡å™¨å¾ˆè¿œï¼Œåˆ™æ›´æ…¢ï¼Œæœ‰ä¸€ä¸ªç»“å±€åŠæ³•ä¸ºTCPåˆ†å²”æŠ€æœ¯ 1 éƒ¨ç½²ä¸´è¿‘ç”¨æˆ·çš„å‰ç«¯æœåŠ¡å™¨ 2 åˆ†å²”TCPï¼Œå®¢æˆ·å‘å‰ç«¯æœåŠ¡å™¨å»ºç«‹TCPé“¾æ¥ï¼Œå‰ç«¯æœåŠ¡å™¨å‘äº‘æœåŠ¡å™¨ç»´æŠ¤ä¸€ä¸ªçª—å£å¾ˆå¤§çš„TCPé“¾æ¥ è¿™æ ·æ…¢å¯åŠ¨å°±åªä¼šå‡ºç°åœ¨ç”¨æˆ·å’Œå‰ç«¯æœåŠ¡å™¨ä¹‹é—´ï¼Œè¿™ä¸ªè¿‡ç¨‹è¦æ¯”ç”¨æˆ·ä¸äº‘æœåŠ¡å™¨å»ºç«‹è¿æ¥å¿«å¾ˆå¤šã€‚ æ‹¥å¡é¿å…æ‹¥å¡é¿å…é˜¶æ®µæ¯ä¸ªRTTè®©CWNDå¢åŠ 1ï¼Œæ…¢å¯åŠ¨æ˜¯æ¯ä¸ªACKåCWNDå¢åŠ 1 ä½•æ—¶åœæ­¢å¢åŠ ï¼š ä¸¢åŒ…ååœæ­¢å¢åŠ ï¼Œå¹¶è®©CWNDå‡åŠï¼Œè®°å½•ssthresh&#x3D;CWND&#x2F;2ï¼Œæœ€åè¿›å…¥å¿«é€Ÿæ¢å¤ å¿«é€Ÿæ¢å¤ åœ¨å¿«é€Ÿæ¢å¤ä¸­ï¼Œå¯¹äºå¼•èµ· TCP è¿›å…¥å¿«é€Ÿæ¢å¤çŠ¶æ€çš„ç¼ºå¤±æŠ¥æ–‡æ®µï¼Œå¯¹æ”¶åˆ°çš„æ¯ä¸ªå†—ä½™çš„ACK, cwnd çš„å€¼å¢åŠ  MSS, æœ€ç»ˆï¼Œå½“å¯¹ä¸¢å¤±æŠ¥æ–‡æ®µçš„ ä¸€ä¸ª ACK åˆ°è¾¾æ—¶ï¼Œ TCP åœ¨é™ä½cwnd åè¿›å…¥æ‹¥å¡é¿å…çŠ¶æ€ ,å¦‚æœå‡ºç°è¶…æ—¶äº‹ä»¶ï¼Œå¿«é€Ÿæ¢å¤åœ¨æ‰§è¡Œå¦‚åŒåœ¨æ…¢å¯åŠ¨å’Œæ‹¥å¡é¿å…ä¸­ç›¸åŒçš„åŠ¨ä½œåï¼Œè¿ç§»åˆ°æ…¢å¯åŠ¨çŠ¶æ€ï¼šå½“ä¸¢åŒ…äº‹ä»¶å‡ºç°æ—¶ï¼Œ cwnd çš„å€¼è¢«è®¾ç½®MSS, å¹¶ä¸” ssthresh çš„å€¼è®¾ç½®ä¸º cwnd å€¼çš„ä¸€åŠ ç¬¬å››ç«  ç½‘ç»œå±‚ï¼š æ•°æ®å¹³é¢è¾“å…¥ç«¯å£å¤„ç† æ­£æ˜¯åœ¨è¿™ä¸ªåœ°æ–¹ï¼Œ è·¯ç”±å™¨ä½¿ç”¨è½¬å‘è¡¨æ¥æŸ¥æ‰¾è¾“å‡ºç«¯å£ï¼Œä½¿å¾—åˆ°è¾¾çš„åˆ†ç»„èƒ½ç»è¿‡äº¤æ¢ç»“æ„è½¬å‘åˆ°è¯¥è¾“å‡ºç«¯å£ Page: 205 è·¯ç”±å™¨è½¬å‘è§„åˆ™åœ¨è·¯ç”±è¡¨ä¸­ï¼Œæ¯ä¸€ä¸ªè·¯ç”±é¡¹éƒ½æœ‰ä¸¤ä¸ªå­—æ®µï¼Œå‰ç¼€å’Œé“¾è·¯æ¥å£ï¼Œå½“ä¸€ä¸ªpacketè¿›å…¥è·¯ç”±å™¨æ—¶ï¼Œè·¯ç”±å™¨è¯»å–ä»–çš„ç›®æ ‡åœ°å€ï¼Œå¹¶ä¸è·¯ç”±è¡¨ä¸­çš„å‰ç¼€è¿›è¡ŒåŒ¹é…ï¼Œå¦‚æœèƒ½å¤ŸåŒ¹é…å¤šé¡¹ï¼Œåˆ™é€‰æ‹©æœ€é•¿åŒ¹é…ï¼Œæœ€åä»è¿™æ¡è®°å½•çš„æ¥å£å¤„è¿›è¡Œè½¬å‘ã€‚ äº¤æ¢ç»“æ„ ä½¿ç”¨å†…å­˜äº¤æ¢ï¼š è¾“å…¥è¾“å‡ºç«¯å£çš„åŠŸèƒ½å’Œä¼ ç»Ÿæ“ä½œç³»ç»Ÿçš„IOè®¾å¤‡ä¸€æ · ä½¿ç”¨æ€»çº¿äº¤æ¢ï¼šä¸€æ¬¡åªæœ‰ä¸€ä¸ªåˆ†ç»„å¯ä»¥è·¨è¶Šæ€»çº¿ï¼Œæ‰€æœ‰çš„å‡ºå£éƒ½èƒ½æ¥æ”¶åˆ°è¿™ä¸ªåˆ†ç»„ï¼Œæ‰€ä»¥å¯ä»¥åœ¨åˆ†ç»„è¿›å…¥æ€»çº¿å‰è®¾ç½®ä¸€ä¸ªæ ‡å¿—ï¼Œåªæœ‰æ­£ç¡®çš„å‡ºå£ä¼šæ¥å—è¿™ä¸ªåˆ†ç»„ï¼Œå…¶ä»–å‡ºå£ä¼šå¿½ç•¥è¿™ä¸ªåˆ†ç»„ã€‚ ä½¿ç”¨ç½‘ç»œè¿›è¡Œäº¤æ¢ï¼Œçºµæ¨ªå¼äº¤æ¢ä¸­é€šè¿‡ç”µè·¯ä¹‹é—´æ§åˆ¶ç½‘ç»œä¸­çº¿è·¯çš„äº¤å‰ç‚¹ï¼Œç„¶åæ‰§è¡Œä¼ è¾“ã€‚ è¾“å‡ºç«¯å£å¤„ç† ä½•æ—¶å‡ºç°æ’é˜Ÿè¾“å…¥æ’é˜Ÿä¸¤ä¸ªè¾“å…¥é˜Ÿåˆ—è¦å»å¾€çš„è¾“å‡ºç«¯å£ç›¸åŒï¼Œä¸€ä¸ªå¤„äºä¼ è¾“ï¼Œé‚£å¦ä¸€ä¸ªå°±åªèƒ½é˜»å¡ï¼Œå¯¹äºé˜»å¡çš„é˜Ÿåˆ—ï¼Œä¸å…‰é˜Ÿé¦–é˜»å¡ï¼Œæ•´ä¸ªé˜Ÿåˆ—éƒ½é˜»å¡ã€‚è¿™è¢«ç§°ä¸ºçº¿è·¯å‰éƒ¨ï¼ˆHead-Of-the-Lineï¼ŒHOLï¼‰é˜»å¡ è¾“å‡ºæ’é˜Ÿå¦‚æœäº¤æ¢ç»“æ„çš„é€Ÿåº¦å¿«äºè¾“å‡ºç«¯å£æ¨å‡ºåˆ†ç»„çš„é€Ÿåº¦ï¼Œé‚£ä¹ˆè¾“å‡ºç«¯å£ä¼šäº§ç”Ÿæ’é˜Ÿã€‚ åˆ†ç»„è°ƒåº¦å…ˆæ¥å…ˆæœåŠ¡ï¼Œä¼˜å…ˆæƒæ’é˜Ÿï¼ˆæœ‰å¤šä¸ªé˜Ÿåˆ—æ’é˜Ÿæ—¶ï¼Œä¼˜å…ˆé€‰æ‹©ä¼˜å…ˆçº§é«˜çš„é˜Ÿåˆ—è¿›è¡Œä¼ è¾“ï¼‰ï¼Œå¾ªç¯å’ŒåŠ æƒå…¬å¹³æ’é˜Ÿï¼ˆåœ¨å¤šä¸ªé˜Ÿåˆ—ä¸­å¾ªç¯è°ƒåº¦ï¼‰ IPv4 åç§° å¤‡æ³¨ å¤§å° ç‰ˆæœ¬ IPåè®®çš„ç‰ˆæœ¬ 4 é¦–éƒ¨é•¿åº¦ ç¡®å®šå¯å˜é€‰é¡¹çš„å¤§å° 4 æœåŠ¡ç±»å‹ è¡¨æ˜æ˜¯å®æ—¶æ•°æ®åŒ…ï¼ˆç”µè¯ï¼‰è¿˜æ˜¯éå®æ—¶æ•°æ®åŒ…ï¼ˆFTPï¼‰ 8 æ•°æ®æŠ¥é•¿åº¦ IPæ•°æ®æŠ¥çš„æ€»é•¿ï¼ˆBytesï¼‰ 16 æ ‡è¯†ï¼Œæ ‡å¿—ï¼Œåç§» ä¸IPåˆ†ç‰‡æœ‰å…³ 32 å¯¿å‘½ TTLï¼Œä¿è¯æŠ¥æ–‡ä¸ä¼šæ°¸è¿œåœ¨é“¾è·¯ä¸­å¾ªç¯ åè®® ä¸Šå±‚åè®®ï¼ˆTCPè¿˜æ˜¯UDPï¼‰ï¼Œå¯ç±»æ¯”ä¼ è¾“å±‚çš„ç«¯å£å·çš„ä½œç”¨ é¦–éƒ¨æ ¡éªŒå’Œ æ³¨æ„æ˜¯é¦–éƒ¨ï¼Œä¸åŒ…å«æ•°æ®éƒ¨ 16 æºIP 32 ç›®æ ‡IP 32 é€‰é¡¹ å¾ˆå°‘è¢«ä½¿ç”¨ï¼Œç”¨äºæ‹“å±•ï¼Œåœ¨IPv6ä¸­è¢«ç§»é™¤ ï¼Ÿ æ•°æ® æœ‰æ•ˆè´Ÿè½½ IPv4æŠ¥æ–‡åˆ†ç‰‡ IP4çš„è®¾è®¡è€…å°†æ ‡è¯†ã€æ ‡å¿—å’Œç‰‡åç§»å­—æ®µæ”¾åœ¨IPæ•°æ®æŠ¥é¦–éƒ¨ä¸­ã€‚å½“ç”Ÿæˆä¸€ä¸ªæ•°æ®æŠ¥æ—¶,å‘é€ä¸»æœºåœ¨ä¸ºè¯¥æ•°æ®æŠ¥è®¾ç½®æºå’Œç›®çš„åœ°å€çš„åŒæ—¶è´´ä¸Šæ ‡è¯†å·ã€‚å‘é€ä¸»æœºé€šå¸¸å°†å®ƒå‘é€çš„æ¯ä¸ªæ•°æ®æŠ¥çš„æ ‡è¯†å·åŠ 1ã€‚å½“æŸè·¯ç”±å™¨éœ€è¦å¯¹ä¸€ä¸ªæ•°æ®æŠ¥åˆ†ç‰‡æ—¶,å½¢æˆçš„æ¯ä¸ªæ•°æ®æŠ¥(å³ç‰‡)å…·æœ‰åˆå§‹æ•°æ®æŠ¥çš„æºåœ°å€ã€ç›®çš„åœ°å€ä¸æ ‡è¯†å·ã€‚å½“ç›®çš„åœ°ä»åŒä¸€å‘é€ä¸»æœºæ”¶åˆ°ä¸€ç³»åˆ—æ•°æ®æŠ¥æ—¶,å®ƒèƒ½å¤Ÿæ£€æŸ»æ•°æ®æŠ¥çš„æ ‡è¯†å·ä»¥ç¡®å®šå“ªäº›æ•°æ®æŠ¥å®é™…ä¸Šæ˜¯åŒä¸€è¾ƒå¤§æ•°æ®æŠ¥çš„ç‰‡ã€‚ç”±äºIPæ˜¯ä¸€ç§ä¸å¯é çš„æœåŠ¡,ä¸€ä¸ªæˆ–å¤šä¸ªç‰‡å¯èƒ½æ°´è¿œåˆ°è¾¾ä¸äº†ç›®çš„åœ°ã€‚å› ä¸ºè¿™ç§åŸå› ,ä¸ºäº†è®©ç›®çš„ä¸»æœºç»å¯¹åœ°ç›¸ä¿¡å®ƒå·²æ”¶åˆ°äº†åˆå§‹æ•°æ®æŠ¥çš„æœ€åä¸ªç‰‡,æœ€åä¸€ä¸ªç‰‡çš„æ ‡å¿—æ¯”ç‰¹è¢«è®¾ä¸º0,è€Œæ‰€æœ‰å…¶ä»–ç‰‡çš„æ ‡å¿—æ¯”ç‰¹è¢«è®¾ä¸º1ã€‚å¦å¤–,ä¸ºäº†è®©ç›®çš„ä¸»æœºç¡®å®šæ˜¯å¦ä¸¢å¤±äº†ä¸€ä¸ªç‰‡(ä¸”èƒ½æŒ‰æ­£ç¡®çš„é¡ºåºé‡æ–°ç»„è£…ç‰‡),ä½¿ç”¨åç§»å­—æ®µæŒ‡å®šè¯¥ç‰‡åº”æ”¾åœ¨åˆå§‹IPæ•°æ®æŠ¥çš„å“ªä¸ªä½ç½® ä¸åŒçš„é“¾è·¯èƒ½æ‰¿å—ä¸åŒçš„å¸§å¤§å°ï¼Œå¯¹äºè·¯ç”±å™¨è€Œè¨€ï¼Œå¦‚æœæ¥æ”¶åˆ°çš„åŒ…å¤ªå¤§æ— æ³•ä¼ è¾“æ€ä¹ˆåŠï¼Ÿè·¯ç”±å™¨è´Ÿè´£åˆ†åŒ…å—ï¼Ÿå¦‚æœè·¯ç”±å™¨åˆ†åŒ…ï¼Œé‚£ä¸‹æ¸¸èŠ‚ç‚¹è¦è´Ÿè´£é‡ç»„åŒ…å—ï¼Ÿ IPv4 çš„è®¾è®¡è€…å†³å®šå°†æ•°æ®æŠ¥çš„é‡æ–°ç»„è£…å·¥ä½œæ”¾åˆ°ç«¯ç³»ç»Ÿä¸­ï¼Œè€Œä¸æ˜¯æ”¾åˆ°ç½‘ç»œè·¯ç”±å™¨ä¸­ IPv4ç¼–å€å±‚æ¬¡åŒ–IPåˆ†é…ï¼ŒæŠŠåœ°å€æŒ‰ç…§å—åˆ†ç»™ISPï¼ŒISPåˆ†ç»™å®¢æˆ·ç»„ç»‡ï¼Œåœ°å€èšåˆæœ‰åˆ©äºè·¯ç”±å™¨è·¯ç”±ç®—æ³•ã€‚ DHCPåŠ¨æ€ä¸»æœºé…ç½®åè®®ï¼ŒDynamic Host Configurationã€‚ DHCPåè®®æ˜¯å››ä¸ªæ­¥éª¤ DHCPæœåŠ¡å‘ç°ï¼Œæ–°ç”¨æˆ·é€šè¿‡å‘é€DHCPå‘ç°æŠ¥æ–‡æ¥å®Œæˆï¼Œä½¿ç”¨å¹¿æ’­çš„æ–¹å¼ã€‚ã€ç›®æ ‡åœ°å€255.255.255.255 æºåœ°å€ 0.0.0.0ã€‘ DHCPæœåŠ¡æä¾›ï¼Œå½“DHCPæœåŠ¡å™¨æ”¶åˆ°äº†DHCPå‘ç°æŠ¥æ–‡ï¼Œä½¿ç”¨DHCPæä¾›æŠ¥æ–‡æ¥è¿›è¡Œå›å¤ã€æºåœ°å€ 223.1.2.5 ç›®æ ‡åœ°å€ 255.255.255.255ã€‘ å› ä¸ºåœ¨å­ç½‘ä¸­å¯èƒ½å­˜åœ¨å‡ ä¸ª DHCP æœåŠ¡å™¨ï¼Œè¯¥å®¢ ä¹Ÿè®¸ä¼šå‘ç°å®ƒå¤„èƒ½åœ¨å‡ ä¸ªæä¾›è€…ä¹‹é—´è¿›è¡Œé€‰æ‹©çš„ä¼˜è¶Šä½ç½® æ¯å°æœåŠ¡å™¨æä¾›çš„æŠ¥æ–‡åŒ…å«æœ‰æ”¶åˆ°çš„å‘ç°æŠ¥æ–‡çš„äº‹åŠ¡ ã€å‘å®¢æˆ·æ¨èçš„ IP åœ°å€ ç½‘ç»œæ©ç ä»¥åŠ IP åœ°å€ç§Ÿç”¨æœŸ (acl\u0002dress lease time) , 1P åœ°å€æœ‰æ•ˆçš„æ—¶é—´ æœåŠ¡å™¨ç§Ÿç”¨æœŸé€šå¸¸è®¾ç½®ä¸ºå‡ å°æ—¶æˆ–å‡ å¤© Pageï¼š 224 DHCPè¯·æ±‚ï¼Œæ–°ç”¨æˆ·å†æ¬¡å¹¿æ’­ï¼Œä»å¤šä¸ªæœåŠ¡ä¸­é€‰æ‹©ä¸€ä¸ªIPï¼Œ DHCPACKï¼ŒDHCPæœåŠ¡å™¨ä½¿ç”¨ACKè¿›è¡Œå“åº”ã€‚ ç½‘ç»œåœ°å€è½¬æ¢æ¯ä¸ªè®¾å¤‡éƒ½è¦ä¸€ä¸ªIPï¼Œä½†IPæ•°é‡ä¸å¤Ÿï¼Œè€ƒè™‘å¤šä¸ªè®¾å¤‡å…±ç”¨ä¸€ä¸ªIPï¼Œåœ¨NATä¸‹æ„å»ºLANå±€åŸŸç½‘ï¼Œé€šè¿‡NATä¸WANè¿›è¡Œäº¤äº’ï¼Œåœ¨NATå¤„å®Œæˆåœ°å€è½¬æ¢ï¼Œç«¯å£æ˜ å°„ IPV6 IPv6æ‰©å¤§äº†åœ°å€å®¹é‡ï¼Œæ–°å¢ä»»æ’­åœ°å€ï¼ˆå‘ä»»æ„ä¸€ä¸ªæ³¨è§£äº¤ä»˜æŠ¥æ–‡ï¼‰ï¼Œèˆå¼ƒäº†è®¸å¤šIPv4å­—æ®µ åç§° å¤‡æ³¨ å¤§å° ç‰ˆæœ¬ ç‰ˆæœ¬å· 4 æµé‡ç±»å‹ å‚è€ƒIPv4çš„æœåŠ¡ç±»å‹ 8 æµæ ‡ç­¾ èƒ½å¤Ÿç»™æŸäº›æµæ ‡ç­¾çš„æ•°æ®æŠ¥æ›´é«˜çš„ä¼˜å…ˆçº§ 20 æœ‰æ•ˆè´Ÿè½½é•¿åº¦ 16 æ¯”ç‰¹å€¼ä½œä¸ºä¸€ä¸ªæ— ç¬¦å·æ•´æ•°ï¼Œç»™å‡ºäº† IPv6 æ•°æ®æŠ¥ä¸­è·Ÿåœ¨å®šé•¿ 16 ä¸‹ä¸€ä¸ªé¦–éƒ¨ å‚è€ƒIPv4çš„ä¸Šå±‚åè®® è·³é™åˆ¶ TTL åœ¨IPv4ä¸­çš„åˆ†ç‰‡&#x2F;é¦–éƒ¨æ ¡éªŒå’Œ&#x2F;é€‰é¡¹éƒ½è¢«åˆ é™¤äº†ï¼ŒIPv6ä¸å…è®¸ä¸­é—´å±‚é‡ç»„å’Œåˆ†ç‰‡ï¼›IPv4ä¸­æ¯æ¬¡è®¡ç®—æ ¡éªŒå’Œå¤ªæ…¢äº†ï¼Œæ‰€ä»¥åˆ é™¤äº†é¦–éƒ¨æ ¡éªŒå’Œï¼›é€‰é¡¹è¢«ä¸‹ä¸€ä¸ªé¦–éƒ¨æ›¿ä»£ æ‰€ä»¥IPv6é¦–éƒ¨å›ºå®šé•¿åº¦ä¸º40å­—èŠ‚ IPv6 in IPv4é€šè¿‡éš§é“çš„æ–¹å¼ï¼Œå¯¹äºé‚£äº›ä¸æ”¯æŒIPv6çš„åœºåˆï¼Œå¯¹IPv6è¿›è¡Œå°åŒ…ï¼Œå˜ä¸ºIPv4 ç¬¬äº”ç«  ç½‘ç»œå±‚ï¼š æ§åˆ¶å¹³é¢è·¯ç”±é€‰æ‹©ç®—æ³•passï¼ˆè¾ƒå¤æ‚ï¼‰ SDNpass ICMP è¢«ä¸»æœºå’Œè·¯ç”±å™¨ç”¨æ¥å½¼æ­¤æ²Ÿç½‘ç»œ çš„ä¿¡æ¯, ICMP æœ€å…¸å‹çš„ç”¨é€”æ˜¯å·®é”™æŠ¥å‘Š ä¾‹å¦‚ï¼Œå½“è¿è¡Œ HTTP ä¼šè¯æ—¶ï¼Œä½ ä¹Ÿè®¸ä¼šé‡åˆ°ä¸€äº›è¯¸å¦‚ â€œç›® çš„ç½‘ç»œä¸å¯ â€ä¹‹ç±»çš„é”™è¯¯æŠ¥æ–‡ è¿™ç§æŠ¥æ–‡å°±æ¥æºäº ICMP åœ¨æŸä¸ªä½ç½®ï¼Œ IP è·¯ç”±å™¨ä¸èƒ½æ‰¾åˆ°ä¸€æ¡é€šå¾€ HTTP è¯·æ±‚ä¸­æ‰€æŒ‡å®šçš„ä¸»æœºçš„è·¯å¾„ã€è¯¥è·¯ç”±å™¨å°±ä¼šå‘ä½ çš„ä¸»æœºç”Ÿæˆå¹¶å‘å‡º ICMP æ–‡ä»¥æŒ‡ç¤ºè¯¥é”™è¯¯ ICMP é€šå¸¸è¢«è®¤ä¸º IP çš„ä¸€éƒ¨åˆ†ï¼Œä½†ä»ä½“ç³»ç»“æ„ä¸Šè®²å®ƒä½äº IP ä¹‹ä¸Šï¼Œå› ä¸º ICMP æŠ¥æ–‡æ˜¯æ‰¿è½½åœ¨ IP åˆ†ç»„ä¸­çš„ è¿™å°±æ˜¯è¯´ï¼Œ ICMP æŠ¥æ–‡æ˜¯ä½œä¸º 1P æœ‰æ•ˆè½½è·æ‰¿è½½çš„ï¼Œå°±åƒ TCP,UDP æŠ¥æ–‡æ®µä½œä¸º IP æœ‰æ•ˆè½½è·è¢«æ‰¿è½½é‚£æ · ç±»ä¼¼åœ°ï¼Œå½“ä¸€å°ä¸»æœºæ”¶åˆ° ä¸ªæŒ‡æ˜ä¸Šå±‚åè®®ä¸ºICMP IP æ•°æ®æŠ¥æ—¶ ï¼ˆä¸Šå±‚åè®®ç¼–ç ä¸º )â€™ å®ƒåˆ†è§£å‡ºè¯¥æ•°æ®æŠ¥çš„å†…å®¹ç»™ ICMP, å°±åƒåˆ†è§£ä¸€ä¸ªæ•°æ®æŠ¥çš„å†…å®¹ç»™ TCP UDP ä¸€æ · Page: 272 SNMPpass","categories":[{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","permalink":"http://fightinggg.github.io/indigo/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"}],"tags":[{"name":"è¯»ä¹¦","slug":"è¯»ä¹¦","permalink":"http://fightinggg.github.io/indigo/tags/%E8%AF%BB%E4%B9%A6/"}]},{"title":"å˜é•¿æ•´å‹","slug":"ç¼–ç /å˜é•¿æ•´å‹/index","date":"2021-03-30T05:43:34.000Z","updated":"2021-03-30T05:43:34.000Z","comments":true,"path":"QQRP8M.html","link":"","permalink":"http://fightinggg.github.io/indigo/QQRP8M.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å˜é•¿æ•´å‹å¤§å®¶éƒ½çŸ¥é“ä¸€èˆ¬æ•´å‹intå ç”¨32ä½ï¼Œæˆ‘ä»¬ä¸ç®¡å¦‚ä½•å‚¨å­˜ï¼Œä»–éƒ½æ˜¯4ä¸ªå­—èŠ‚ï¼Œå¦‚æœæˆ‘ä»¬æœ‰ä¸€ä»½æ•°æ®ï¼Œé‡Œé¢å¤§éƒ¨åˆ†éƒ½æ˜¯å¾ˆå°çš„æ•°å­—ï¼ˆ8ä½å³å¯è¡¨ç¤ºï¼‰ï¼Œå¤¹æ‚äº†ä¸€äº›32ä½çš„å¤§æ•°ã€‚è¿™ä¸ªæ—¶å€™åº”è¯¥å¦‚ä½•ç¼–ç ï¼Œè®©ä»–å ç”¨ç©ºé—´å°‘ä¸€ç‚¹å‘¢ï¼Ÿ","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å˜é•¿æ•´å‹å¤§å®¶éƒ½çŸ¥é“ä¸€èˆ¬æ•´å‹intå ç”¨32ä½ï¼Œæˆ‘ä»¬ä¸ç®¡å¦‚ä½•å‚¨å­˜ï¼Œä»–éƒ½æ˜¯4ä¸ªå­—èŠ‚ï¼Œå¦‚æœæˆ‘ä»¬æœ‰ä¸€ä»½æ•°æ®ï¼Œé‡Œé¢å¤§éƒ¨åˆ†éƒ½æ˜¯å¾ˆå°çš„æ•°å­—ï¼ˆ8ä½å³å¯è¡¨ç¤ºï¼‰ï¼Œå¤¹æ‚äº†ä¸€äº›32ä½çš„å¤§æ•°ã€‚è¿™ä¸ªæ—¶å€™åº”è¯¥å¦‚ä½•ç¼–ç ï¼Œè®©ä»–å ç”¨ç©ºé—´å°‘ä¸€ç‚¹å‘¢ï¼Ÿ å˜é•¿æ•´å‹å‡ºç°äº†ï¼Œæˆ‘ä»¬æŠŠæ¯ä¸ªå­—èŠ‚çœ‹ä½œä¸€ä¸ªå•å…ƒï¼Œç”¨ä»–çš„æœ€é«˜ä½æ¥ä»£è¡¨ä¸€ä¸ªæ‹“å±•ä¿¡æ¯ï¼Œä¿¡æ¯ä¸­å‚¨å­˜äº†ä»€ä¹ˆæˆ‘ä»¬å…ˆä¸è¦ç®¡ã€‚é‚£ä¹ˆæ¯ä¸ªå­—èŠ‚çš„æœ‰æ•ˆå‚¨å­˜ç©ºé—´å…¶å®æ˜¯7ä½ã€‚ ç°åœ¨æˆ‘ä»¬å·²ç»è®¾è®¡å‡ºäº†ä¸€ç§ç¼–ç æ–¹å¼ï¼Œä»–å¯ä»¥è¡¨ç¤ºæ‰€æœ‰çš„7ä½ä»¥å†…çš„æ•°æ®ï¼Œå½“ç„¶è¿™çœ‹èµ·æ¥å¾ˆå‚»ï¼Œç¬¬ä¸€ï¼šæœ‰ä¸€ä½è¢«æµªè´¹äº†ï¼Œç¬¬äºŒï¼š ä»–ä¸èƒ½è¡¨ç¤ºè¶…è¿‡7ä½çš„æ•°æ®ã€‚ è®©æˆ‘ä»¬ç°åœ¨æ¥åˆ©ç”¨å¥½è¿™ä¸ªè¢«æµªè´¹çš„ä½ã€‚å¦‚æœè¿™ä¸€ä½ä¸º1ï¼Œåˆ™ä»£è¡¨ä»–å°†å’Œä»–åé¢çš„ä¸€ä¸ªå­—èŠ‚ç»„æˆä¸€ä¸ªæ–°çš„æ•°ã€‚å¦‚æœè¿™ä¸€ä½ä¸º0ï¼Œåˆ™ä»£è¡¨ä»–å°±æ˜¯ä¸€ä¸ªæ•°ã€‚ å³ 0-000 0000 ä»£è¡¨000 0000 å³ 0-000 0001 ä»£è¡¨000 0001 å³ 0-000 0010 ä»£è¡¨000 0010 â€¦ å³ 0-111 1111 ä»£è¡¨111 1111 å³1-000 0000 ä»£è¡¨é”™è¯¯ï¼Œè¿™ä¸ªæ•°éæ³•äº†ï¼Œå› ä¸ºä»–åé¢æ²¡æœ‰å­—èŠ‚äº† å³1-100 1000 0-100 1000 ä»£è¡¨ 100 1000 100 1000 -&gt; 10 0100 0100 1000 å½“ç„¶ä½ è¿˜èƒ½ç”¨è¿ç»­å¤šä¸ª1å¼€å¤´çš„æ•°æ®æ¥è¡¨ç¤ºæ›´å¤§çš„ä½æ•°ã€‚ zigzagå¾ˆæ˜æ˜¾ï¼Œæˆ‘ä»¬è§£å†³äº†æ­£æ•°çš„ç¼–ç ï¼Œè´Ÿæ•°å¯ä¸è¡Œäº†ï¼Œè´Ÿæ•°çš„å¼€å¤´æ˜¯1ï¼Œä¸€ä¸ªæ•°çš„å‰å¯¼0å¯ä»¥çœç•¥ï¼Œä½†æ˜¯1æ˜¯ä¸èƒ½çœç•¥çš„ã€‚ æˆ‘ä»¬ä¸è¦ä½¿ç”¨è¡¥ç å°±å¥½äº†ï¼Œæˆ‘ä»¬æƒ³æƒ³åŸç çš„å®šä¹‰ï¼Œæœ€é«˜ä½ä¸ºç¬¦å·ä½ï¼Œå‰©ä¸‹çš„ä½æ˜¯ç»å¯¹å€¼ æŠŠç¬¦å·ä½æ”¾åˆ°æœ€ä½ä½æ€ä¹ˆæ ·ï¼Ÿå®Œç¾çš„è§£å†³äº†ã€‚ 0 -&gt; è¿™ä¸ªæ•°å­—ä¸å­˜åœ¨ 00 -&gt; +0 01 -&gt; -0 10 -&gt; +1 11 -&gt; -1 100 -&gt; +10 101 -&gt; -10 110 -&gt; +11 111 -&gt; -11 10101010100101 -&gt; +1010101010010 10101101010101010 -&gt; -1010110101010101 å¦‚æ­¤ç¼–ç ï¼Œè´Ÿæ•°ä¹Ÿå¯ä»¥ç”¨å¾ˆçŸ­çš„å­—èŠ‚è¡¨ç¤ºäº†ï¼Œé…ä¸ªå˜é•¿æ•´å‹ï¼Œéå¸¸å®Œç¾ã€‚","categories":[{"name":"ç¼–ç ","slug":"ç¼–ç ","permalink":"http://fightinggg.github.io/indigo/categories/%E7%BC%96%E7%A0%81/"}],"tags":[]},{"title":"æ·±å…¥ç†è§£Kafka-æ ¸å¿ƒè®¾è®¡ä¸å®è·µåŸç†","slug":"é˜Ÿåˆ—/æ·±å…¥ç†è§£Kafka-æ ¸å¿ƒè®¾è®¡ä¸å®è·µåŸç†/index","date":"2021-03-30T05:00:00.000Z","updated":"2021-04-07T03:48:00.000Z","comments":true,"path":"QQRN80.html","link":"","permalink":"http://fightinggg.github.io/indigo/QQRN80.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ·±å…¥ç†è§£Kafka: æ ¸å¿ƒè®¾è®¡ä¸åŸç†å®è·µ 5.1 æ–‡ä»¶ç›®å½•å¸ƒå±€kafkaæ–‡ä»¶ç›®å½•ä¸­æœ‰å¾ˆå¤šæ–‡ä»¶ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬åªéœ€è¦æŒæ¡*.index, *.log,*.timeindex*å³å¯","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ·±å…¥ç†è§£Kafka: æ ¸å¿ƒè®¾è®¡ä¸åŸç†å®è·µ 5.1 æ–‡ä»¶ç›®å½•å¸ƒå±€kafkaæ–‡ä»¶ç›®å½•ä¸­æœ‰å¾ˆå¤šæ–‡ä»¶ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬åªéœ€è¦æŒæ¡*.index, *.log,*.timeindex*å³å¯ 5.2 æ—¥å¿—æ ¼å¼çš„æ¼”å˜ ä»0.8.xç‰ˆæœ¬å¼€å§‹åˆ°ç°åœ¨çš„2.0.0ç‰ˆæœ¬ï¼ŒKafkaçš„æ¶ˆæ¯æ ¼å¼ä¹Ÿç»å†äº†3ä¸ªç‰ˆæœ¬ï¼šv0ç‰ˆæœ¬ã€v1ç‰ˆæœ¬å’Œv2ç‰ˆæœ¬ã€‚ åˆ†åŒºç”±ä¸€æ¡æ¡æ¶ˆæ¯ç»„æˆï¼Œå¦‚æœæ¶ˆæ¯è®¾è®¡çš„ä¸å¤Ÿåˆç†ï¼Œåˆ†åŒºçš„åŠŸèƒ½å’Œæ€§èƒ½ä¼šå—åˆ°å½±å“ï¼Œè¿‡å¤šçš„å†—ä½™å¯¼è‡´å‚¨å­˜å¢åŠ ã€ç½‘ç»œå¼€é”€å¤§ã€æ€§èƒ½é™ä½ï¼Œç¼ºå°‘å­—æ®µåˆä¼šå½±å“åˆ°æ—¥å¿—çš„ä¿å­˜ã€åˆ‡åˆ†ç­–ç•¥ã€‚ V0ç‰ˆæœ¬çš„æ¶ˆæ¯å³è¾¹æ˜¯æ¶ˆæ¯é›†ï¼Œæ¯ä¸ªRecordæ˜¯ä¸€æ¡æ¶ˆæ¯ï¼Œoffsetæ˜¯åç§»é‡ï¼Œmessagesizeä»£è¡¨æ¶ˆæ¯çš„é•¿åº¦ã€‚ å¯¹äºæ¯ä¸ªRECORDï¼Œä»–çš„å­—æ®µå¦‚ä¸‹ åç§° åŠŸèƒ½ å¤§å° crc32 æ¶ˆæ¯å†…å®¹çš„å¾ªç¯å†—ä½™æ ¡éªŒå€¼ 4B magic æ¶ˆæ¯ç‰ˆæœ¬å· 1B attributes æ¶ˆæ¯å‹ç¼©ç®—æ³• 1B key length keyçš„é•¿åº¦ 4B key key ï¼Ÿ value length valueçš„é•¿åº¦ 4B value value ï¼Ÿ æˆ‘ä»¬æ³¨æ„åˆ°è¿™é‡Œæœ‰ä¸€ä¸ªå‹ç¼©ç®—æ³•ï¼Œè¿™é‡Œå…¶å®å¾ˆæœ‰è¶£ï¼Œè¿™ä¸ªå‹ç¼©ç®—æ³•æŒ‡çš„æ˜¯valueçš„å‹ç¼©ç®—æ³•ï¼Œå¯¹äºä¸€æ¡æ¶ˆæ¯è€Œè¨€ï¼Œä»€ä¹ˆæ—¶å€™éœ€è¦å‹ç¼©å‘¢ï¼Ÿ kafkaä¸ä¼šå¯¹ä¸€æ¡æ•°æ®è¿›è¡Œå‹ç¼©,å› ä¸ºä¸€æ¡æ¶ˆæ¯å¾€å¾€å¾ˆå°ï¼Œå‹ç¼©ä¹Ÿä¸åˆ’ç®—ï¼Œkafkaä¼šå¯¹å¤šæ¡æ¶ˆæ¯è¿›è¡Œå‹ç¼©ï¼Œç„¶åå°è£…ä¸ºä¸€æ¡æ–°çš„æ¶ˆæ¯ã€‚è¿™æ—¶çš„keyæ˜¯æ— ç”¨çš„ã€‚ å¦å¤–å†…å±‚æ¶ˆæ¯çš„offsetåˆå¯ä»¥ä»0å¼€å§‹ç¼–å·äº†ã€‚ V1ç‰ˆæœ¬æ¶ˆæ¯å°±å¤šäº†ä¸€ä¸ªæ—¶é—´æˆ³ V2ç‰ˆæœ¬æ¶ˆæ¯V2ç‰ˆæœ¬å¼•å…¥äº†å˜é•¿æ•´å‹varintsä»¥åŠzigzagç¼–ç ï¼Œè¿™ç§ç¼–ç å¯¹äºè¶Šå°çš„æ•°æ®ï¼Œä»–æ‰€å çš„ç©ºé—´è¶Šå°‘ï¼Œå¯¹äºè¾ƒå¤§çš„æ•°æ®ï¼Œä»–æ‰€å çš„ç©ºé—´è¾ƒå¤šã€‚æœ‰å…´è¶£çš„è¯»è€…å¯ä»¥è‡ªè¡ŒæŸ¥é˜… åœ¨v2ç‰ˆæœ¬ä¸­ï¼Œmessage setæ”¹åä¸ºrecordBatchï¼Œä»–ä¹Ÿæ‹¥æœ‰äº†è‡ªå·±çš„å¤´ï¼Œåœ¨recordBatchä¸­åŒ…å«äº†å¤šä¸ªrecordï¼Œå…¶ä¸­çš„æ¯ä¸ªrecordä¸v1ç‰ˆæœ¬å¹¶æ— å¤ªå¤§å·®å¼‚ï¼Œæˆ‘ä»¬æ³¨æ„åˆ°ï¼Œä»–ä½¿ç”¨äº†å¤§é‡çš„varintå’Œdeltaï¼Œè¿™ä¸ªæ„æ€æ˜¯å¾ˆå¤šæ•°æ®æ˜¯åŸºäºrecordBatchä¸­æ•°æ®çš„ç›¸å¯¹å€¼ï¼Œè¿™ä¹Ÿå¯¼è‡´äº†è¿™äº›æ•°å¾€å¾€å¾ˆå°ï¼Œæ‰€ä»¥varintèƒ½å‘æŒ¥å®ƒæœ€å¤§çš„ä½œç”¨ã€‚ åç§° çŠ¶æ€ è§£é‡Š å¤§å° length message size æ¶ˆæ¯æ€»é•¿åº¦ å˜é•¿ attributes å¼ƒç”¨ 1B timestamp delta timestamp ç›¸å¯¹æ—¶é—´æˆ³ å˜é•¿ offset delta offset ç›¸å¯¹offset å˜é•¿ key length key length å˜é•¿ key key æœªçŸ¥ value length value length å˜é•¿ value value æœªçŸ¥ headers æ–°å¢ åº”ç”¨çº§æ‹“å±•ï¼ˆå¯ä»¥å‚¨å­˜äº†å¤šä¸ªkvï¼‰ varint 5.3 æ—¥å¿—ç´¢å¼• åç§»é‡ç´¢å¼•æ–‡ä»¶ç”¨æ¥å»ºç«‹æ¶ˆæ¯åç§»é‡ï¼ˆoffsetï¼‰åˆ°ç‰©ç†åœ°å€ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Œæ–¹ä¾¿å¿«é€Ÿå®šä½æ¶ˆæ¯æ‰€åœ¨çš„ç‰©ç†æ–‡ä»¶ä½ç½®ï¼›æ—¶é—´æˆ³ç´¢å¼•æ–‡ä»¶åˆ™æ ¹æ®æŒ‡å®šçš„æ—¶é—´æˆ³ï¼ˆtimestampï¼‰æ¥æŸ¥æ‰¾å¯¹åº”çš„åç§»é‡ä¿¡æ¯ã€‚ Kafka ä¸­çš„ç´¢å¼•æ–‡ä»¶ä»¥ç¨€ç–ç´¢å¼•ï¼ˆsparse indexï¼‰çš„æ–¹å¼æ„é€ æ¶ˆæ¯çš„ç´¢å¼•ï¼Œå®ƒå¹¶ä¸ä¿è¯æ¯ä¸ªæ¶ˆæ¯åœ¨ç´¢å¼•æ–‡ä»¶ä¸­éƒ½æœ‰å¯¹åº”çš„ç´¢å¼•é¡¹ã€‚ æ—¥å¿—åˆ†æ®µåˆ‡åˆ† å½“å‰æ—¥å¿—åˆ†æ®µæ–‡ä»¶çš„å¤§å°è¶…è¿‡äº† broker ç«¯å‚æ•°log.segment.bytes é…ç½®çš„å€¼ã€‚log.segment.byteså‚æ•°çš„é»˜è®¤å€¼ä¸º1073741824ï¼Œå³1GBã€‚ å½“å‰æ—¥å¿—åˆ†æ®µä¸­æ¶ˆæ¯çš„æœ€å¤§æ—¶é—´æˆ³ä¸å½“å‰ç³»ç»Ÿçš„æ—¶é—´æˆ³çš„å·®å€¼å¤§äº log.roll.msæˆ–log.roll.hourså‚æ•°é…ç½®çš„å€¼ã€‚å¦‚æœåŒæ—¶é…ç½®äº†log.roll.mså’Œlog.roll.hourså‚æ•°ï¼Œé‚£ä¹ˆlog.roll.msçš„ä¼˜å…ˆçº§é«˜ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œåªé…ç½®äº†log.roll.hourså‚æ•°ï¼Œå…¶å€¼ä¸º168ï¼Œå³7å¤©ã€‚ åç§»é‡ç´¢å¼•æ–‡ä»¶æˆ–æ—¶é—´æˆ³ç´¢å¼•æ–‡ä»¶çš„å¤§å°è¾¾åˆ°brokerç«¯å‚æ•°log.index.size.max.bytesé…ç½®çš„å€¼ã€‚log.index.size.max.bytesçš„é»˜è®¤å€¼ä¸º10485760ï¼Œå³10MBã€‚ è¿½åŠ çš„æ¶ˆæ¯çš„åç§»é‡ä¸å½“å‰æ—¥å¿—åˆ†æ®µçš„åç§»é‡ä¹‹é—´çš„å·®å€¼å¤§äºInteger.MAX_VALUEï¼Œå³è¦è¿½åŠ çš„æ¶ˆæ¯çš„åç§»é‡ä¸èƒ½è½¬å˜ä¸ºç›¸å¯¹åç§»é‡ï¼ˆoffset-baseOffsetï¼Integer.MAX_VALUEï¼‰ã€‚ æ—¶é—´æ’®ç´¢å¼•å’Œåç§»é‡ç´¢å¼•æ˜¯ç±»ä¼¼çš„ 5.4 æ—¥å¿—æ¸…ç†æ—¥å¿—åˆ é™¤æŒ‰ç…§ä¸€å®šçš„ä¿ç•™ç­–ç•¥ç›´æ¥åˆ é™¤ä¸ç¬¦åˆæ¡ä»¶çš„æ—¥å¿—åˆ†æ®µã€‚ åŸºäºæ—¶é—´æŸ¥æ‰¾æ˜¯å¦æœ‰ä¿ç•™æ—¶é—´è¶…è¿‡è®¾å®šçš„é˜ˆå€¼çš„åˆ†æ®µ åŸºäºæ—¥å¿—å¤§å°æŸ¥æ‰¾æ˜¯å¦æœ‰è¶…è¿‡è®¾å®šé˜ˆå€¼çš„åˆ†æ®µ åŸºäºåç§»é‡åŸºäºlogStartOffsetï¼Œå¦‚æœä¸€ä¸ªåˆ†æ®µçš„çš„æœ€åä¸€æ¡æ—¥å¿—çš„åç§»é‡å°äºlogStartOffsetï¼Œè¿™ä¸ªåˆ†æ®µå¯ä»¥åˆ é™¤ã€‚ å³ä¸€ä¸ªåˆ†æ®µçš„èµ·å§‹åç§»é‡å°äºç­‰äºlogStartOffsetï¼Œåˆ™è¿™ä¸ªåˆ†æ®µå‰çš„åˆ†æ®µéƒ½å¯ä»¥åˆ é™¤ï¼Œå› ä¸ºä½äºlogStartOffsetçš„æ—¥å¿—ä¸ä¼šè¢«æ¶ˆè´¹äº†ã€‚ æ—¥å¿—å‹ç¼©é’ˆå¯¹æ¯ä¸ªæ¶ˆæ¯çš„keyè¿›è¡Œæ•´åˆï¼Œå¯¹äºæœ‰ç›¸åŒkeyçš„ä¸åŒvalueå€¼ï¼Œåªä¿ç•™æœ€åä¸€ä¸ªç‰ˆæœ¬ã€‚ å‚è€ƒredisçš„æ¨¡å¼kv 5.5 ç£ç›˜å­˜å‚¨é¡ºåºå†™ Kafka åœ¨è®¾è®¡æ—¶é‡‡ç”¨äº†æ–‡ä»¶è¿½åŠ çš„æ–¹å¼æ¥å†™å…¥æ¶ˆæ¯ï¼Œå³åªèƒ½åœ¨æ—¥å¿—æ–‡ä»¶çš„å°¾éƒ¨è¿½åŠ æ–°çš„æ¶ˆæ¯ï¼Œå¹¶ä¸”ä¹Ÿä¸å…è®¸ä¿®æ”¹å·²å†™å…¥çš„æ¶ˆæ¯ï¼Œè¿™ç§æ–¹å¼å±äºå…¸å‹çš„é¡ºåºå†™ç›˜çš„æ“ä½œï¼Œæ‰€ä»¥å°±ç®— Kafkaä½¿ç”¨ç£ç›˜ä½œä¸ºå­˜å‚¨ä»‹è´¨ï¼Œå®ƒæ‰€èƒ½æ‰¿è½½çš„ååé‡ä¹Ÿä¸å®¹å°è§‘ã€‚ä½†è¿™å¹¶ä¸æ˜¯è®©Kafkaåœ¨æ€§èƒ½ä¸Šå…·å¤‡è¶³å¤Ÿç«äº‰åŠ›çš„å”¯ä¸€å› ç´ ï¼Œ é¡µç¼“å­˜æ“ä½œç³»ç»ŸæŠŠç£ç›˜ç¼“å­˜åˆ°å†…å­˜ä¸­ï¼Œä»¥ä¾¿å‡å°‘å¯¹ç£ç›˜çš„IO å¯¹ä¸€ä¸ªè¿›ç¨‹è€Œè¨€ï¼Œå®ƒä¼šåœ¨è¿›ç¨‹å†…éƒ¨ç¼“å­˜å¤„ç†æ‰€éœ€çš„æ•°æ®ï¼Œç„¶è€Œè¿™äº›æ•°æ®æœ‰å¯èƒ½è¿˜ç¼“å­˜åœ¨æ“ä½œç³»ç»Ÿçš„é¡µç¼“å­˜ä¸­ï¼Œå› æ­¤åŒä¸€ä»½æ•°æ®æœ‰å¯èƒ½è¢«ç¼“å­˜äº†ä¸¤æ¬¡ã€‚å¹¶ä¸”ï¼Œé™¤éä½¿ç”¨Direct I&#x2F;Oçš„æ–¹å¼ï¼Œå¦åˆ™é¡µç¼“å­˜å¾ˆéš¾è¢«ç¦æ­¢ã€‚æ­¤å¤–ï¼Œç”¨è¿‡Javaçš„äººä¸€èˆ¬éƒ½çŸ¥é“ä¸¤ç‚¹äº‹å®ï¼šå¯¹è±¡çš„å†…å­˜å¼€é”€éå¸¸å¤§ï¼Œé€šå¸¸ä¼šæ˜¯çœŸå®æ•°æ®å¤§å°çš„å‡ å€ç”šè‡³æ›´å¤šï¼Œç©ºé—´ä½¿ç”¨ç‡ä½ä¸‹ï¼›Javaçš„åƒåœ¾å›æ”¶ä¼šéšç€å †å†…æ•°æ®çš„å¢å¤šè€Œå˜å¾—è¶Šæ¥è¶Šæ…¢ã€‚åŸºäºè¿™äº›å› ç´ ï¼Œä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿå¹¶ä¾èµ–äºé¡µç¼“å­˜çš„åšæ³•æ˜æ˜¾è¦ä¼˜äºç»´æŠ¤ä¸€ä¸ªè¿›ç¨‹å†…ç¼“å­˜æˆ–å…¶ä»–ç»“æ„ï¼Œè‡³å°‘æˆ‘ä»¬å¯ä»¥çœå»äº†ä¸€ä»½è¿›ç¨‹å†…éƒ¨çš„ç¼“å­˜æ¶ˆè€—ï¼ŒåŒæ—¶è¿˜å¯ä»¥é€šè¿‡ç»“æ„ç´§å‡‘çš„å­—èŠ‚ç æ¥æ›¿ä»£ä½¿ç”¨å¯¹è±¡çš„æ–¹å¼ä»¥èŠ‚çœæ›´å¤šçš„ç©ºé—´ã€‚å¦‚æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ 32GB çš„æœºå™¨ä¸Šä½¿ç”¨28GBè‡³30GBçš„å†…å­˜è€Œä¸ç”¨æ‹…å¿ƒGCæ‰€å¸¦æ¥çš„æ€§èƒ½é—®é¢˜ã€‚æ­¤å¤–ï¼Œå³ä½¿KafkaæœåŠ¡é‡å¯ï¼Œé¡µç¼“å­˜è¿˜æ˜¯ä¼šä¿æŒæœ‰æ•ˆï¼Œç„¶è€Œè¿›ç¨‹å†…çš„ç¼“å­˜å´éœ€è¦é‡å»ºã€‚è¿™æ ·ä¹Ÿæå¤§åœ°ç®€åŒ–äº†ä»£ç é€»è¾‘ï¼Œå› ä¸ºç»´æŠ¤é¡µç¼“å­˜å’Œæ–‡ä»¶ä¹‹é—´çš„ä¸€è‡´æ€§äº¤ç”±æ“ä½œç³»ç»Ÿæ¥è´Ÿè´£ï¼Œè¿™æ ·ä¼šæ¯”è¿›ç¨‹å†…ç»´æŠ¤æ›´åŠ å®‰å…¨æœ‰æ•ˆã€‚ Kafkaå¤§é‡ä½¿ç”¨äº†é¡µç¼“å­˜ï¼Œå½“ç„¶ä»–ä¹Ÿæä¾›åŒæ­¥åˆ·ç›˜å’Œé—´æ–­æ€§åˆ·ç›˜çš„åŠŸèƒ½ã€‚ é›¶æ‹·è´ä»ç£ç›˜è¯»å–æ–‡ä»¶ï¼Œç„¶åå‘é€åˆ°ç½‘å¡ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¤æ‚çš„åŠŸèƒ½ï¼Œè¯»å–æ•°æ®æ—¶ï¼Œæ•°æ®ä¸ä¼šä»ç£ç›˜ç›´æ¥è¯»å–åˆ°è¿›ç¨‹çš„åœ°å€ç©ºé—´ï¼Œå‘é€æ•°æ®æ—¶æ•°æ®ä¹Ÿä¸ä¼šç›´æ¥ä»è¿›ç¨‹çš„åœ°å€ç©ºé—´å‘é€å‡ºå»ï¼Œä»–ä»¬éƒ½éœ€è¦å…ˆç»è¿‡å†…æ ¸ã€‚è¯¦è§è¿™ä¸€ç¯‡blog ä»ä¸Šé¢çš„è¿‡ç¨‹å¯ä»¥çœ‹å‡ºï¼Œæ•°æ®å¹³ç™½æ— æ•…åœ°ä»å†…æ ¸æ¨¡å¼åˆ°ç”¨æˆ·æ¨¡å¼â€œèµ°äº†ä¸€åœˆâ€ï¼Œæµªè´¹äº† 2æ¬¡å¤åˆ¶è¿‡ç¨‹ï¼šç¬¬ä¸€æ¬¡æ˜¯ä»å†…æ ¸æ¨¡å¼å¤åˆ¶åˆ°ç”¨æˆ·æ¨¡å¼ï¼›ç¬¬äºŒæ¬¡æ˜¯ä»ç”¨æˆ·æ¨¡å¼å†å¤åˆ¶å›å†…æ ¸æ¨¡å¼ï¼Œå³ä¸Šé¢4æ¬¡è¿‡ç¨‹ä¸­çš„ç¬¬2æ­¥å’Œç¬¬3æ­¥ã€‚è€Œä¸”åœ¨ä¸Šé¢çš„è¿‡ç¨‹ä¸­ï¼Œå†…æ ¸å’Œç”¨æˆ·æ¨¡å¼çš„ä¸Šä¸‹æ–‡çš„åˆ‡æ¢ä¹Ÿæ˜¯4æ¬¡ã€‚ å¦‚æœä½¿ç”¨é›¶æ‹·è´æŠ€æœ¯ï¼Œæ“ä½œ2å’Œ3å°±å¯ä»¥çœå»äº†ï¼Œå¹¶èŠ‚çœäº†CPUå¤§éƒ¨åˆ†çš„æ—¶é—´ï¼Œå¦‚ä¸‹å›¾ 6.1 åè®®è®¾è®¡Kafkaçš„æ¯ä¸€ä¸ªè¯·æ±‚éƒ½ç”¨å…¬å…±çš„è¯·æ±‚å¤´ è¯·æ±‚å¤´æœ‰å››ä¸ªéƒ¨ä½ Field å¤‡æ³¨ å¤§å° api_key APIæ ‡è¯† int16 api_vesion APIç‰ˆæœ¬å· int16 correlation_id è¯·æ±‚IDï¼ŒæœåŠ¡ç«¯ä¼šåœ¨å›å¤ä¸­åŠ å…¥ç›¸åŒçš„ID int16 client_id å®¢æˆ·ç«¯ID æœªçŸ¥ å“åº”å¤´å°±å¾ˆç®€å•äº†ï¼Œå°±ä¸€ä¸ªcorrelation_id 6.2 æ—¶é—´è½®è¿™é‡Œä»‹ç»çš„å¾ˆè¯¦ç»† 6.4 æ§åˆ¶å™¨ åœ¨ Kafka é›†ç¾¤ä¸­ä¼šæœ‰ä¸€ä¸ªæˆ–å¤šä¸ª brokerï¼Œå…¶ä¸­æœ‰ä¸€ä¸ª broker ä¼šè¢«é€‰ä¸¾ä¸ºæ§åˆ¶å™¨ï¼ˆKafkaControllerï¼‰ï¼Œå®ƒè´Ÿè´£ç®¡ç†æ•´ä¸ªé›†ç¾¤ä¸­æ‰€æœ‰åˆ†åŒºå’Œå‰¯æœ¬çš„çŠ¶æ€ã€‚å½“æŸä¸ªåˆ†åŒºçš„leaderå‰¯æœ¬å‡ºç°æ•…éšœæ—¶ï¼Œç”±æ§åˆ¶å™¨è´Ÿè´£ä¸ºè¯¥åˆ†åŒºé€‰ä¸¾æ–°çš„leaderå‰¯æœ¬ã€‚å½“æ£€æµ‹åˆ°æŸä¸ªåˆ†åŒºçš„ISRé›†åˆå‘ç”Ÿå˜åŒ–æ—¶ï¼Œç”±æ§åˆ¶å™¨è´Ÿè´£é€šçŸ¥æ‰€æœ‰brokeræ›´æ–°å…¶å…ƒæ•°æ®ä¿¡æ¯ã€‚å½“ä½¿ç”¨kafka-topics.shè„šæœ¬ä¸ºæŸä¸ªtopicå¢åŠ åˆ†åŒºæ•°é‡æ—¶ï¼ŒåŒæ ·è¿˜æ˜¯ç”±æ§åˆ¶å™¨è´Ÿè´£åˆ†åŒºçš„é‡æ–°åˆ†é…ã€‚ Controller éœ€è¦è´Ÿè´£ç›‘å¬åˆ†åŒºçš„ç›¸å…³å˜åŒ–ã€ç›‘å¬ä¸»é¢˜ç›¸å…³å˜åŒ–ã€ç›‘å¬brokerå˜åŒ–ç­‰ åœ¨Kafkaçš„æ—©æœŸç‰ˆæœ¬ä¸­ï¼Œå¹¶æ²¡æœ‰é‡‡ç”¨Kafka Controllerè¿™æ ·ä¸€ä¸ªæ¦‚å¿µæ¥å¯¹åˆ†åŒºå’Œå‰¯æœ¬çš„çŠ¶æ€è¿›è¡Œç®¡ç†ï¼Œè€Œæ˜¯ä¾èµ–äºZooKeeperï¼Œæ¯ä¸ªbrokeréƒ½ä¼šåœ¨ZooKeeperä¸Šä¸ºåˆ†åŒºå’Œå‰¯æœ¬æ³¨å†Œå¤§é‡çš„ç›‘å¬å™¨ï¼ˆWatcherï¼‰ã€‚å½“åˆ†åŒºæˆ–å‰¯æœ¬çŠ¶æ€å˜åŒ–æ—¶ï¼Œä¼šå”¤é†’å¾ˆå¤šä¸å¿…è¦çš„ç›‘å¬å™¨ï¼Œè¿™ç§ä¸¥é‡ä¾èµ–ZooKeeper çš„è®¾è®¡ä¼šæœ‰è„‘è£‚ã€ç¾Šç¾¤æ•ˆåº”ï¼Œä»¥åŠé€ æˆ ZooKeeper è¿‡è½½çš„éšæ‚£ï¼ˆæ—§ç‰ˆçš„æ¶ˆè´¹è€…å®¢æˆ·ç«¯å­˜åœ¨åŒæ ·çš„é—®é¢˜ï¼Œè¯¦ç»†å†…å®¹å‚è€ƒ7.2.1èŠ‚ï¼‰ã€‚åœ¨ç›®å‰çš„æ–°ç‰ˆæœ¬çš„è®¾è®¡ä¸­ï¼Œåªæœ‰Kafka Controlleråœ¨ZooKeeperä¸Šæ³¨å†Œç›¸åº”çš„ç›‘å¬å™¨ï¼Œå…¶ä»–çš„brokeræå°‘éœ€è¦å†ç›‘å¬ZooKeeperä¸­çš„æ•°æ®å˜åŒ–ï¼Œè¿™æ ·çœå»äº†å¾ˆå¤šä¸å¿…è¦çš„éº»çƒ¦ã€‚ä¸è¿‡æ¯ä¸ªbrokerè¿˜æ˜¯ä¼šå¯¹&#x2F;controllerèŠ‚ç‚¹æ·»åŠ ç›‘å¬å™¨ï¼Œä»¥æ­¤æ¥ç›‘å¬æ­¤èŠ‚ç‚¹çš„æ•°æ®å˜åŒ–ï¼ˆControllerChangeHandlerï¼‰ã€‚ 8.1 å‰¯æœ¬å‰–æ(è¾ƒéš¾) Kafkaä»0.8ç‰ˆæœ¬å¼€å§‹ä¸ºåˆ†åŒºå¼•å…¥äº†å¤šå‰¯æœ¬æœºåˆ¶ï¼Œé€šè¿‡å¢åŠ å‰¯æœ¬æ•°é‡æ¥æå‡æ•°æ®å®¹ç¾èƒ½åŠ›ã€‚åŒæ—¶ï¼ŒKafkaé€šè¿‡å¤šå‰¯æœ¬æœºåˆ¶å®ç°æ•…éšœè‡ªåŠ¨è½¬ç§»ï¼Œåœ¨Kafkaé›†ç¾¤ä¸­æŸä¸ªbrokerèŠ‚ç‚¹å¤±æ•ˆçš„æƒ…å†µä¸‹ä»ç„¶ä¿è¯æœåŠ¡å¯ç”¨ã€‚åœ¨ 1.1 èŠ‚ä¸­æˆ‘ä»¬å·²ç»ç®€è¦ä»‹ç»è¿‡å‰¯æœ¬çš„æ¦‚å¿µï¼Œå¹¶ä¸”åŒæ—¶ä»‹ç»äº†ä¸å‰¯æœ¬ç›¸å…³çš„ARã€ISRã€HWå’ŒLEOçš„æ¦‚å¿µï¼Œè¿™é‡Œç®€è¦åœ°å¤ä¹ ä¸€ä¸‹ç›¸å…³çš„æ¦‚å¿µï¼š å‰¯æœ¬æ˜¯ç›¸å¯¹äºåˆ†åŒºè€Œè¨€çš„ï¼Œå³å‰¯æœ¬æ˜¯ç‰¹å®šåˆ†åŒºçš„å‰¯æœ¬ã€‚ ä¸€ä¸ªåˆ†åŒºä¸­åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå‰¯æœ¬ï¼Œå…¶ä¸­ä¸€ä¸ªä¸ºleaderå‰¯æœ¬ï¼Œå…¶ä½™ä¸ºfollowerå‰¯æœ¬ï¼Œå„ä¸ªå‰¯æœ¬ä½äºä¸åŒçš„brokerèŠ‚ç‚¹ä¸­ã€‚åªæœ‰leaderå‰¯æœ¬å¯¹å¤–æä¾›æœåŠ¡ï¼Œfollowerå‰¯æœ¬åªè´Ÿè´£æ•°æ®åŒæ­¥ã€‚ åˆ†åŒºä¸­çš„æ‰€æœ‰å‰¯æœ¬ç»Ÿç§°ä¸º ARï¼Œè€ŒISR æ˜¯æŒ‡ä¸leader å‰¯æœ¬ä¿æŒåŒæ­¥çŠ¶æ€çš„å‰¯æœ¬é›†åˆï¼Œå½“ç„¶leaderå‰¯æœ¬æœ¬èº«ä¹Ÿæ˜¯è¿™ä¸ªé›†åˆä¸­çš„ä¸€å‘˜ã€‚ LEOæ ‡è¯†æ¯ä¸ªåˆ†åŒºä¸­æœ€åä¸€æ¡æ¶ˆæ¯çš„ä¸‹ä¸€ä¸ªä½ç½®ï¼Œåˆ†åŒºçš„æ¯ä¸ªå‰¯æœ¬éƒ½æœ‰è‡ªå·±çš„LEOï¼ŒISRä¸­æœ€å°çš„LEOå³ä¸ºHWï¼Œä¿—ç§°é«˜æ°´ä½ï¼Œæ¶ˆè´¹è€…åªèƒ½æ‹‰å–åˆ°HWä¹‹å‰çš„æ¶ˆæ¯ã€‚ å‰¯æœ¬å¤±æ•ˆä»0.9xå¼€å§‹ï¼Œé€šè¿‡å”¯ä¸€çš„brokerç«¯å‚æ•°replica.lag.time.max.msæ¥æŠ‰æ‹©ï¼Œå¦‚æœISRä¸­ä¸€ä¸ªfollowerå‰¯æœ¬æ»åleaderçš„æ—¶é—´è¶…è¿‡è¿™ä¸ªå‚æ•°ï¼Œåˆ™å‰¯æœ¬å¤±æ•ˆã€‚ åœ¨0.9xä»¥å‰ï¼Œkafkaè¿˜æœ‰ä¸€ä¸ªå‚æ•°replica.lag.max.messagesï¼Œ å¦‚æœISRçš„å‰¯æœ¬æ»åæ¶ˆæ¯æ•°é‡è¶…è¿‡è¿™ä¸ªå€¼ï¼Œä¹Ÿä¼šå¤±æ•ˆï¼Œä½†æ˜¯ è‹¥è®¾ç½®å¾—å¤ªå¤§ï¼Œåˆ™è¿™ä¸ªå‚æ•°æœ¬èº«å°±æ²¡æœ‰å¤ªå¤šæ„ä¹‰ï¼Œè‹¥è®¾ç½®å¾—å¤ªå°åˆ™ä¼šè®©followerå‰¯æœ¬åå¤å¤„äºåŒæ­¥ã€æœªåŒæ­¥ã€åŒæ­¥çš„æ­»å¾ªç¯ä¸­ï¼Œè¿›è€Œåˆé€ æˆISRé›†åˆçš„é¢‘ç¹ä¼¸ç¼©ã€‚è€Œä¸”è¿™ä¸ªå‚æ•°æ˜¯brokerçº§åˆ«çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹brokerä¸­çš„æ‰€æœ‰ä¸»é¢˜éƒ½ç”Ÿæ•ˆã€‚ä»¥é»˜è®¤çš„å€¼4000ä¸ºä¾‹ï¼Œå¯¹äºæ¶ˆæ¯æµå…¥é€Ÿåº¦å¾ˆä½çš„ä¸»é¢˜ï¼ˆæ¯”å¦‚TPSä¸º10ï¼‰ï¼Œè¿™ä¸ªå‚æ•°å¹¶æ— ç”¨æ­¦ä¹‹åœ°ï¼›è€Œå¯¹äºæ¶ˆæ¯æµå…¥é€Ÿåº¦å¾ˆé«˜çš„ä¸»é¢˜ï¼ˆæ¯”å¦‚TPSä¸º20000ï¼‰ï¼Œè¿™ä¸ªå‚æ•°çš„å–å€¼åˆä¼šå¼•å…¥ISRçš„é¢‘ç¹å˜åŠ¨ã€‚æ‰€ä»¥ä»0.9.xç‰ˆæœ¬å¼€å§‹ï¼ŒKafkaå°±å½»åº•ç§»é™¤äº†è¿™ä¸€å‚æ•°ï¼Œç›¸å…³çš„èµ„æ–™è¿˜å¯ä»¥å‚è€ƒKIP16[1]ã€‚ ISRä¼¸ç¼©æ—¢ç„¶åˆ¤æ–­å¤±æ•ˆçš„å‚æ•°åªæœ‰ä¸€ä¸ªï¼Œé‚£ä¹ˆæœ‰å…³ISRä¼¸ç¼©çš„å‚æ•°ä¹Ÿå’Œä»–æœ‰å…³ï¼Œä¸ISAç›¸å…³çš„å®šæ—¶ä»»åŠ¡æœ‰ä¸¤ä¸ªâ€œisr-expirationâ€å’Œâ€œisr-change-propagationâ€ã€‚ isr-expirationisr-expirationå‘¨æœŸæ€§ï¼ˆé—´éš”ä¸ºreplica.lag.time.max.ms&#x2F;2ï¼‰æ£€æŸ¥æ¯ä¸ªåˆ†åŒºï¼Œå¦‚æœISRå‰¯æœ¬å¤±æ•ˆï¼Œåˆ™æŠŠæ”¶ç¼©ISRçš„ä¿¡æ¯å†™å…¥zkï¼ˆæ­¤æ—¶è¿˜æ²¡æœ‰è¿›è¡Œä¼¸ç¼©ï¼‰ isr-change-propagationisr-change-propagationå‘¨æœŸæ€§æ£€æŸ¥isr-expirationå†™å…¥çš„ä¿¡æ¯ï¼Œå¦‚æœå‘ç”Ÿå˜åŒ–ä¸”æ»¡è¶³ä»¥ä¸‹ä¹‹ä¸€ ä¸Šä¸€æ¬¡ISRé›†åˆå‘ç”Ÿå˜åŒ–è·ç¦»ç°åœ¨å·²ç»è¶…è¿‡5sã€‚ ä¸Šä¸€æ¬¡å†™å…¥ZooKeeperçš„æ—¶é—´è·ç¦»ç°åœ¨å·²ç»è¶…è¿‡60sã€‚ isr-change-propagationä¼šå†™å…¥zkæ‰§è¡Œæ”¶ç¼©ISRçš„ä¿¡æ¯ï¼Œè¿™ä¸ªèŠ‚ç‚¹çš„ä¿¡æ¯ä¼šè¢«Controllerç›‘å¬ï¼Œå‰©ä¸‹çš„äº‹æƒ…å°±äº¤ç»™controlleräº† ä½•æ—¶æ‰©å¼ followerå‰¯æœ¬çš„LEOè¿½èµ¶ä¸Šleaderå‰¯æœ¬çš„HWæ—¶å³å¯æ‰©å¼ ã€‚ HW ä¸ LEO çš„æ›´æ–°æ¯ä¸€ä¸ªå‰¯æœ¬ï¼ˆleaderå‰¯æœ¬ã€followerå‰¯æœ¬ï¼‰éƒ½æœ‰LEOï¼Œleaderå¤„çš„å‰¯æœ¬ç®¡ç†å™¨è¿˜ä¼šå‚¨å­˜æ‰€æœ‰followerçš„LEOï¼ˆè¿™ä¸ªLEOå¾€å¾€å’Œfollowerä¸ä¸€è‡´ï¼‰ å…ˆæ¥çœ‹ä¸€ä¸ªçŠ¶å†µï¼Œè¿™é‡Œç°è‰²brokerä¸ºleaderï¼Œæ­¤æ—¶followerå‘leaderå‘èµ·åŒæ­¥è¯·æ±‚ï¼Œå¹¶æºå¸¦è‡ªå·±çš„LEOï¼Œleaderä¼šæ ¹æ®è¯·æ±‚çš„LEOæ›´æ–°è‡ªå·±çš„HWï¼Œå½“ç„¶è¿™æ˜¯ç¬¬ä¸€è½®ï¼Œè¿˜ä¸éœ€è¦æ›´æ–° image-2021-04-07 10.18.26.922 leaderå›å¤followerçš„åŒæ­¥è¯·æ±‚ï¼Œå¹¶è¿”å›è‡ªå·±çš„HWä»¥åŠfolloweræ‰€éœ€è¦çš„æ•°æ®ï¼Œfollowerå³å¯å€Ÿæ­¤æ›´æ–°è‡ªå·±çš„HWå’ŒLEO image-2021-04-07 10.21.50.064 éšç€æ—¶é—´æµé€ï¼Œleaderä¸­è¢«ç”Ÿäº§è€…æ’å…¥äº†æ•°æ®ï¼Œä¸€æ®µæ—¶é—´åfollowerå‘èµ·äº†æ–°çš„ä¸€è½®åŒæ­¥è¯·æ±‚ï¼Œå½“ç„¶ç»§ç»­æºå¸¦è‡ªå·±çš„LEOï¼Œleaderæ¥æ”¶åˆ°è¯·æ±‚ä»¥åï¼Œæ›´æ–°è‡ªå·±çš„HWä¸º3 image-2021-04-07 10.23.25.210 leaderå‡†å¤‡å¥½è‡ªå·±çš„HWï¼Œfolloweréœ€è¦çš„æ•°æ®ï¼Œè¿”å›ç»™ä»–ä»¬ï¼Œfolloweræ­¤æ—¶å³å¯å€ŸåŠ©leader è¿”å›çš„HWæ›´æ–°è‡ªå·±çš„HW image-2021-04-07 10.27.45.914 è¿™é‡Œæˆ‘ä»¬æ„è¯†åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œæ³¨æ„åˆ°ç¬”è€…å¯¹åˆšåˆšå‘ç”Ÿå¯¹å››ä¸ªæ­¥éª¤æ ‡äº†å·ï¼Œä»”ç»†è§‚å¯Ÿæ­¥éª¤2å’Œæ­¥éª¤4ä¹‹åçš„æƒ…å†µï¼Œæˆ‘ä»¬å‘ç°HWä¼¼ä¹å¹¶ä¸æ˜¯æ‰€æœ‰å‰¯æœ¬ï¼ˆleaderå‰¯æœ¬+followerå‰¯æœ¬ï¼‰çš„LEOçš„æœ€å°å€¼ï¼ŒHWçš„æ›´æ–°è¦æ…¢ä¸€ä¸ªè¯·æ±‚å‘¨æœŸã€‚ æ¶ˆæ¯ä¸¢å¤±æˆ‘ä»¬æ³¨æ„æ­¥éª¤3è¿‡åï¼Œæ­¥éª¤4ä»¥å‰ï¼Œleaderçš„HWè¦æ¯”followeré«˜ï¼Œé™¤éleaderå›å¤followerçš„åŒæ­¥è¯·æ±‚ã€‚ å¦‚æœæ­¤æ—¶leaderå‘ç”Ÿäº†å®•æœºã€‚æ›´ç‰¹æ®Šçš„ï¼Œå³è¾¹çš„followerå‘ç”Ÿå®•æœºï¼Œåˆ™å·¦è¾¹çš„followerç§°ä¸ºæ–°çš„leader å½“æ–°leaderä¸Šä»»ä»¥åä¼šæˆªæ–­HWåˆ°LEOçš„æ•°æ®ï¼ŒHWåçš„æ•°æ®éƒ½åˆ æ‰äº†ã€‚ éšåæ‰€æœ‰brokeræ¢å¤æœåŠ¡ï¼Œæ—§leaderå‘ç°æ–°leaderçš„HWæ¯”è‡ªå·±å°ï¼Œæ—§leaderåªèƒ½æˆªæ–­è‡ªå·±çš„HWï¼Œæ­¤æ—¶æ•°æ®å°±ä¸¢å¤±äº†ã€‚ ä¹¦ä¸Šçš„å›¾å¾ˆè ¢ï¼ŒçŸ¥ä¹ä¸Šçœ‹åˆ°ä¸€ä¸ªè®²çš„å¾ˆå¥½çš„å›¾ï¼š â‘ æ•°æ®ä¸¢å¤±ã€Scenario 1: High Watermark Truncation followed by Immediate Leader Electionã€‘ å‡è®¾æœ‰Aã€Bä¸¤ä¸ªBrokerï¼Œåˆå§‹æ—¶Bä¸ºleaderï¼ŒAä»Bä¸­å–åˆ°æ¶ˆæ¯m2ï¼Œæ‰€ä»¥Aä¸­æœ‰æ¶ˆæ¯m2äº†ï¼Œä½†æ˜¯ç”±äºåœ¨ä¸‹ä¸€è½®RPCä¸­ï¼ŒAæ‰ä¼šæ›´æ–°è‡ªå·±çš„HWï¼Œæ‰€ä»¥æ­¤æ—¶Açš„HWæ²¡å˜ã€‚å¦‚æœè¿™æ—¶å€™Aé‡å¯äº†ï¼Œä»–æˆªå–è‡ªå·±çš„æ—¥å¿—åˆ°HWå¹¶å‘é€ä¸€ä¸ªfetch requeståˆ°Bã€‚ä¸å¹¸çš„æ˜¯ï¼ŒBè¿™æ—¶å®•æœºäº†ï¼ŒAæˆäº†æ–°çš„leaderï¼Œé‚£ä¹ˆæ­¤æ—¶æ¶ˆæ¯m2å°±ä¼šæ°¸ä¹…çš„ä¸¢å¤±äº†ã€‚ åŸæ–‡é“¾æ¥ï¼š https://zhuanlan.zhihu.com/p/46658003 æ¶ˆæ¯ä¸ä¸€è‡´è€ƒè™‘æ•°æ®ä¸¢å¤±çš„æƒ…å†µï¼Œå¦‚æœå®•æœºçš„æœºå™¨æ¢å¤çš„æ—¶é—´æ›´æ™šä¸€äº›ï¼Œæ–°leaderå†™å…¥äº†æ–°æ•°æ®ï¼ŒHWåç§»ï¼Œæ—§leaderæ¢å¤æ—¶ï¼Œä¼šå‘ç”Ÿæ•°æ®ä¸ä¸€è‡´ã€‚ è¿˜æ˜¯çŸ¥ä¹çš„å›¾ â‘¡æ•°æ®ä¸ä¸€è‡´ï¼šã€Scenario 2: Replica Divergence on Restart after Multiple Hard Failuresã€‘ å‡è®¾æˆ‘ä»¬æœ‰ä¸¤ä¸ªBrokerï¼Œåˆå§‹æ—¶Aæ˜¯leaderï¼ŒBæ˜¯followerã€‚Aæ¥æ”¶åˆ°m2æ¶ˆæ¯ï¼Œä½†Bè¿˜æ²¡æ¥å¾—åŠå¤åˆ¶æ—¶ï¼Œæ–­ç”µäº†ã€‚è¿‡äº†ä¸€ä¼šï¼ŒBé‡å¯äº†ï¼Œæˆä¸ºäº†leaderï¼Œæ¥æ”¶äº†m3æ¶ˆæ¯ï¼ŒHW+1ã€‚ç„¶åAé‡å¯äº†ï¼Œæˆªæ–­æ—¥å¿—åˆ°é«˜æ°´ä½ï¼Œä½†æ˜¯æ­¤æ—¶çš„æ¶ˆæ¯å´å‡ºç°äº†ä¸ä¸€è‡´ã€‚ åŸæ–‡é“¾æ¥ï¼š https://zhuanlan.zhihu.com/p/46658003 Leader Epoch é€ æˆä¸Šè¿°ä¸¤ä¸ªé—®é¢˜çš„æ ¹æœ¬åŸå› åœ¨äºHWå€¼è¢«ç”¨äºè¡¡é‡å‰¯æœ¬å¤‡ä»½çš„æˆåŠŸä¸å¦ä»¥åŠåœ¨å‡ºç°failtureæ—¶ä½œä¸ºæ—¥å¿—æˆªæ–­çš„ä¾æ®ï¼Œä½†HWå€¼çš„æ›´æ–°æ˜¯å¼‚æ­¥å»¶è¿Ÿçš„ï¼Œç‰¹åˆ«æ˜¯éœ€è¦é¢å¤–çš„FETCHè¯·æ±‚å¤„ç†æµç¨‹æ‰èƒ½æ›´æ–°ï¼Œæ•…è¿™ä¸­é—´å‘ç”Ÿçš„ä»»ä½•å´©æºƒéƒ½å¯èƒ½å¯¼è‡´HWå€¼çš„è¿‡æœŸã€‚é‰´äºè¿™äº›åŸå› ï¼ŒKafka 0.11å¼•å…¥äº†leader epochæ¥å–ä»£HWå€¼ã€‚Leaderç«¯å¤šå¼€è¾Ÿä¸€æ®µå†…å­˜åŒºåŸŸä¸“é—¨ä¿å­˜leaderçš„epochä¿¡æ¯ï¼Œè¿™æ ·å³ä½¿å‡ºç°ä¸Šé¢çš„ä¸¤ä¸ªåœºæ™¯ä¹Ÿèƒ½å¾ˆå¥½åœ°è§„é¿è¿™äº›é—®é¢˜ã€‚ æ‰€è°“leader epochå®é™…ä¸Šæ˜¯ä¸€å¯¹å€¼ï¼šï¼ˆepochï¼Œoffsetï¼‰ã€‚epochè¡¨ç¤ºleaderçš„ç‰ˆæœ¬å·ï¼Œä»0å¼€å§‹ï¼Œå½“leaderå˜æ›´è¿‡1æ¬¡æ—¶epochå°±ä¼š+1ï¼Œè€Œoffsetåˆ™å¯¹åº”äºè¯¥epochç‰ˆæœ¬çš„leaderå†™å…¥ç¬¬ä¸€æ¡æ¶ˆæ¯çš„ä½ç§»ã€‚å› æ­¤å‡è®¾æœ‰ä¸¤å¯¹å€¼ï¼š (0, 0) (1, 120) åˆ™è¡¨ç¤ºç¬¬ä¸€ä¸ªleaderä»ä½ç§»0å¼€å§‹å†™å…¥æ¶ˆæ¯ï¼›å…±å†™äº†120æ¡[0, 119]ï¼›è€Œç¬¬äºŒä¸ªleaderç‰ˆæœ¬å·æ˜¯1ï¼Œä»ä½ç§»120å¤„å¼€å§‹å†™å…¥æ¶ˆæ¯ã€‚ leader brokerä¸­ä¼šä¿å­˜è¿™æ ·çš„ä¸€ä¸ªç¼“å­˜ï¼Œå¹¶å®šæœŸåœ°å†™å…¥åˆ°ä¸€ä¸ªcheckpointæ–‡ä»¶ä¸­ã€‚ å½“leaderå†™åº•å±‚logæ—¶å®ƒä¼šå°è¯•æ›´æ–°æ•´ä¸ªç¼“å­˜â€”â€”å¦‚æœè¿™ä¸ªleaderé¦–æ¬¡å†™æ¶ˆæ¯ï¼Œåˆ™ä¼šåœ¨ç¼“å­˜ä¸­å¢åŠ ä¸€ä¸ªæ¡ç›®ï¼›å¦åˆ™å°±ä¸åšæ›´æ–°ã€‚è€Œæ¯æ¬¡å‰¯æœ¬é‡æ–°æˆä¸ºleaderæ—¶ä¼šæŸ¥è¯¢è¿™éƒ¨åˆ†ç¼“å­˜ï¼Œè·å–å‡ºå¯¹åº”leaderç‰ˆæœ¬çš„ä½ç§»ï¼Œè¿™å°±ä¸ä¼šå‘ç”Ÿæ•°æ®ä¸ä¸€è‡´å’Œä¸¢å¤±çš„æƒ…å†µã€‚ åŸæ–‡é“¾æ¥ï¼š https://www.cnblogs.com/huxi2b/p/7453543.html kafka0.11ä»¥åå¼•å…¥leader epochï¼Œæ¯æ¡æ¶ˆæ¯è¢«è®¾ç½®äº†çºªå…ƒä¿¡æ¯ï¼ˆepochï¼‰ï¼Œåœ¨é‡åˆ°æ¢ä»£æ—¶ï¼Œæ–°leaderä¸ä¼šæˆªæ–­HWåˆ°LEOçš„æ•°æ®ï¼Œè€Œæ˜¯å»è¯·æ±‚æ—§leaderä¸Šä¸€ä¸ªçºªå…ƒçš„HWæ˜¯å¤šå°‘ã€‚ å¤‡æ³¨ï¼š ä¸‡ä¸€æ—§leaderå®•æœºäº†ï¼Œè¿˜ä¸æ˜¯ä¼šä¸¢æ•°æ®ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿ è§£å†³æ¢ä»£ä¸¢æ•°æ®é—®é¢˜æ–°leaderä¼šå‘é€çºªå…ƒä¿¡æ¯è¯¢é—®è¯·æ±‚ç»™æ—§leader ï¼Œè¿™æ—¶å€™æ—§leaderè¿”å›ä»–çš„HWï¼Œæ–°leaderæ—§ä¸æˆªæ–­äº† å›¾ç‰‡æ¥æºï¼š https://zhuanlan.zhihu.com/p/46658003 åº”å¯¹æ•°æ®ä¸ä¸€è‡´Aæ¢å¤çš„æ—¶å€™ï¼Œä¼šå¯¹Bå‘èµ·çºªå…ƒè¯·æ±‚ï¼Œæˆªæ–­LE&#x3D;0æ—¶ä»£çš„æ¶ˆæ¯1ï¼Œå³ç”¨è¿™æ¡æ¶ˆæ¯ä¸¢å¤±æ¢å–æ•°æ®çš„ä¸€è‡´æ€§ã€‚ å›¾ç‰‡æ¥æºï¼š https://zhuanlan.zhihu.com/p/46658003 è¯»å†™åˆ†ç¦»kafkaä¸æ”¯æŒè¯»å†™åˆ†ç¦»ï¼Œä¸»è¦æ˜¯è¯»å†™åˆ†ç¦»æœ‰å‡ ä¸ªç¼ºç‚¹ ï¼ˆ1ï¼‰æ•°æ®ä¸€è‡´æ€§é—®é¢˜ã€‚æ•°æ®ä»ä¸»èŠ‚ç‚¹è½¬åˆ°ä»èŠ‚ç‚¹å¿…ç„¶ä¼šæœ‰ä¸€ä¸ªå»¶æ—¶çš„æ—¶é—´çª—å£ï¼Œè¿™ä¸ªæ—¶é—´çª—å£ä¼šå¯¼è‡´ä¸»ä»èŠ‚ç‚¹ä¹‹é—´çš„æ•°æ®ä¸ä¸€è‡´ã€‚æŸä¸€æ—¶åˆ»ï¼Œåœ¨ä¸»èŠ‚ç‚¹å’Œä»èŠ‚ç‚¹ä¸­Aæ•°æ®çš„å€¼éƒ½ä¸ºXï¼Œä¹‹åå°†ä¸»èŠ‚ç‚¹ä¸­Açš„å€¼ä¿®æ”¹ä¸ºYï¼Œé‚£ä¹ˆåœ¨è¿™ä¸ªå˜æ›´é€šçŸ¥åˆ°ä»èŠ‚ç‚¹ä¹‹å‰ï¼Œåº”ç”¨è¯»å–ä»èŠ‚ç‚¹ä¸­çš„Aæ•°æ®çš„å€¼å¹¶ä¸ä¸ºæœ€æ–°çš„Yï¼Œç”±æ­¤ä¾¿äº§ç”Ÿäº†æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ã€‚ ï¼ˆ2ï¼‰å»¶æ—¶é—®é¢˜ã€‚ç±»ä¼¼Redisè¿™ç§ç»„ä»¶ï¼Œæ•°æ®ä»å†™å…¥ä¸»èŠ‚ç‚¹åˆ°åŒæ­¥è‡³ä»èŠ‚ç‚¹ä¸­çš„è¿‡ç¨‹éœ€è¦ç»å†ç½‘ç»œâ†’ä¸»èŠ‚ç‚¹å†…å­˜â†’ç½‘ç»œâ†’ä»èŠ‚ç‚¹å†…å­˜è¿™å‡ ä¸ªé˜¶æ®µï¼Œæ•´ä¸ªè¿‡ç¨‹ä¼šè€—è´¹ä¸€å®šçš„æ—¶é—´ã€‚è€Œåœ¨Kafkaä¸­ï¼Œä¸»ä»åŒæ­¥ä¼šæ¯” Redis æ›´åŠ è€—æ—¶ï¼Œå®ƒéœ€è¦ç»å†ç½‘ç»œâ†’ä¸»èŠ‚ç‚¹å†…å­˜â†’ä¸»èŠ‚ç‚¹ç£ç›˜â†’ç½‘ç»œâ†’ä»èŠ‚ç‚¹å†…å­˜â†’ä»èŠ‚ç‚¹ç£ç›˜è¿™å‡ ä¸ªé˜¶æ®µã€‚å¯¹å»¶æ—¶æ•æ„Ÿçš„åº”ç”¨è€Œè¨€ï¼Œä¸»å†™ä»è¯»çš„åŠŸèƒ½å¹¶ä¸å¤ªé€‚ç”¨ å…¶æ¬¡æ˜¯kafkaä½¿ç”¨åˆ†åŒºçš„æ–¹å¼æ¥è§£å†³è´Ÿè½½å‡è¡¡ã€‚","categories":[{"name":"é˜Ÿåˆ—","slug":"é˜Ÿåˆ—","permalink":"http://fightinggg.github.io/indigo/categories/%E9%98%9F%E5%88%97/"}],"tags":[]},{"title":"åˆ†å¸ƒå¼session","slug":"åå°æŠ€æœ¯/åˆ†å¸ƒå¼session/index","date":"2021-03-29T16:38:46.000Z","updated":"2021-03-29T16:38:46.000Z","comments":true,"path":"QQQOWM.html","link":"","permalink":"http://fightinggg.github.io/indigo/QQQOWM.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial åˆ†å¸ƒå¼sessionå®¢æˆ·ç«¯å‚¨å­˜é€šè¿‡åŠ å¯†çš„æ–¹å¼å‚¨å­˜åœ¨å®¢æˆ·ç«¯ æœ‰å®‰å…¨éšæ‚£ï¼Œcookieå¤§å°è¢«é™åˆ¶ï¼Œå¯¹ç½‘ç»œä¼ è¾“é€ æˆå‹åŠ› sessionå¤åˆ¶é€šè¿‡å¹¿æ’­æ¥å¼‚æ­¥åŒæ­¥sessionï¼Œè¿˜æ˜¯å­˜åœ¨ä¸€è‡´æ€§é—®é¢˜ sessionç»‘å®šï¼Œä¼šè¯ä¿æŒä¸€ä¸ªå®¢æˆ·ç«¯æ¯æ¬¡éƒ½è¢«ä»£ç†åˆ°åŒä¸€ä¸ªæœåŠ¡å™¨ä¸Š redisæŠŠsessionç¼“å­˜åœ¨redisä¸­ï¼Œåœ¨cookieä¸­ä¿ç•™sessionid ã€Šå¤§å‹åˆ†å¸ƒå¼ç½‘ç«™æ¶æ„è®¾è®¡ä¸å®è·µã€‹-2.1.3 åˆ†å¸ƒå¼sessionå¦‚æœæˆ‘ä»¬éœ€è¦éå¸¸é«˜çš„ç³»ç»Ÿå¯é æ€§ï¼Œåˆ™å¯ä»¥æŠŠsessionæŒä¹…åŒ–åˆ°DBä¸­ã€‚ä½†æ˜¯è¿™ä¼šå¯¼è‡´ååé™ä½ã€‚","categories":[{"name":"åå°æŠ€æœ¯","slug":"åå°æŠ€æœ¯","permalink":"http://fightinggg.github.io/indigo/categories/%E5%90%8E%E5%8F%B0%E6%8A%80%E6%9C%AF/"}],"tags":[]},{"title":"è®¡ç®—å‡ ä½•","slug":"ACM/å­¦ä¹ ç¬”è®°/è®¡ç®—å‡ ä½•/è®¡ç®—å‡ ä½•/index","date":"2021-03-29T04:11:15.000Z","updated":"2021-03-29T04:11:15.000Z","comments":true,"path":"QQPQAR.html","link":"","permalink":"http://fightinggg.github.io/indigo/QQPQAR.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å‘é‡ç‚¹ä¹˜å‘é‡$(x1,y1) (x2,y2)$çš„ç‚¹ä¹˜æ˜¯ä¸€ä¸ªæ ‡é‡$x1\\ast x2+y1\\ast y2$ å‰ä¹˜äºŒç»´ç©ºé—´çš„å‰ä¹˜å‘é‡$(x1,y1) (x2,y2)$çš„å‰ä¹˜çš„è†œæ˜¯$x1\\ast x2-x2\\ast y1$ï¼Œå€¼å°±æ˜¯ä¸¤ä¸ªå‘é‡ç»„æˆçš„å¹³è¡Œå››è¾¹å½¢çš„æœ‰å‘é¢ç§¯ã€‚ å¤šè¾¹å½¢åˆ¤æ–­å‡¸å¤šè¾¹å½¢åšæ³•ï¼š æŒ‰é€†æ—¶é’ˆé¡ºåºæšä¸¾æ¯ä¸€æ¡è¾¹ABï¼Œä¸ä¸‹ä¸€æ¡è¾¹BCè¿›è¡Œå‰ä¹˜$AB\\ast BC$ï¼Œå‡¸å¤šè¾¹å½¢ä¸€å®šå…¨éƒ¨ä¸ºæ­£æ•°ã€‚æŒ‰é€†æ—¶é’ˆæšä¸¾ï¼Œä¸€å®šéƒ½æ˜¯è´Ÿæ•° è¯æ˜ï¼š é¡ºæ—¶é’ˆéƒ½æ˜¯&lt;180ï¼Œé€†æ—¶é’ˆéƒ½æ˜¯&gt;180 åˆ¤æ–­ç‚¹Pæ˜¯å¦åœ¨å‡¸å¤šè¾¹å½¢å†… åšæ³•1ï¼š æšä¸¾æ¯æ¡è¾¹ABï¼Œè®¡ç®—$PA\\ast PB$,å…¨éƒ¨åŒå·åˆ™åœ¨å¤šè¾¹å½¢å†… åšæ³•2ï¼š æ¯æ¡è¾¹å¯¹åº”çš„ä¸‰è§’å½¢çš„æœ‰å‘é¢ç§¯çš„ç»å¯¹å€¼çš„å’Œï¼Œä¸å¤šè¾¹è¡Œé¢ç§¯è¿›è¡Œæ¯”è¾ƒï¼Œç›¸ç­‰åˆ™åœ¨å‡¸å¤šè¾¹å½¢å†…ã€‚ åšæ³•3: æŠŠå¤šè¾¹å½¢åˆ†å‰²æˆå¤šä¸ªä¸‰è§’å½¢ï¼Œä¾æ¬¡åˆ¤æ–­æ˜¯å¦åœ¨è¿™äº›ä¸‰è§’å½¢å†… åšæ³•4ï¼ˆè¿˜å¯ä»¥è§£å†³å‡¹å¤šè¾¹å½¢ï¼‰: è¿‡ç‚¹åšä¸€æ¡å°„çº¿ï¼Œä¸å¤šè¾¹å½¢çš„æ‰€æœ‰è¾¹ç›¸äº¤ï¼Œè®¡ç®—äº¤ç‚¹ä¸ªæ•°ï¼Œå¦‚æœä¸ºå¥‡æ•°åˆ™åœ¨å¤šè¾¹å½¢å†…ï¼Œå¦åˆ™åœ¨å¤–ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯é‡åˆçš„æƒ…å†µï¼Œä¸ç«¯ç‚¹ç›¸äº¤çš„æƒ…å†µï¼Œå¯¹äºä¸ç«¯ç‚¹ç›¸äº¤ï¼Œæˆ‘ä»¬å¯ä»¥åªç®—åš0.5æ¬¡ç›¸äº¤ã€‚æ³¨æ„æ’é™¤é•¿åº¦ä¸º0çš„è¾¹ã€‚å¯¹äºé‡åˆçš„æƒ…å†µï¼Œå¯ä»¥ç›´æ¥ç®—åš0æ¬¡ç›¸äº¤ã€‚","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[]},{"title":"PINGçš„æ—¶å€™å‘ç”Ÿäº†ä»€ä¹ˆ","slug":"è®¡ç®—æœºç½‘ç»œ/PINGçš„æ—¶å€™å‘ç”Ÿäº†ä»€ä¹ˆ/index","date":"2021-03-29T03:14:14.000Z","updated":"2021-03-29T03:14:14.000Z","comments":true,"path":"QQPNNQ.html","link":"","permalink":"http://fightinggg.github.io/indigo/QQPNNQ.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial PINGæˆ‘ä»¬å¸¸å¸¸ä½¿ç”¨pingæ¥æµ‹è¯•ç½‘ç»œçš„è”é€šæ€§ï¼Œä½†æ˜¯ä½ çŸ¥é“ä»–æ˜¯å±äºå“ªä¸€æ¬¡å±‚çš„å—ï¼Ÿå…¶å®pingå±äºç½‘ç»œå±‚ï¼Œä»–ä½¿ç”¨ICMPåè®®, ä»–æ²¡æœ‰ä½¿ç”¨UDPæˆ–è€…TCPã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial PINGæˆ‘ä»¬å¸¸å¸¸ä½¿ç”¨pingæ¥æµ‹è¯•ç½‘ç»œçš„è”é€šæ€§ï¼Œä½†æ˜¯ä½ çŸ¥é“ä»–æ˜¯å±äºå“ªä¸€æ¬¡å±‚çš„å—ï¼Ÿå…¶å®pingå±äºç½‘ç»œå±‚ï¼Œä»–ä½¿ç”¨ICMPåè®®, ä»–æ²¡æœ‰ä½¿ç”¨UDPæˆ–è€…TCPã€‚ ICMPæŠ¥æ–‡æ˜¯è¢«IPæŠ¥æ–‡åŒ…è£¹çš„ã€‚ 8ä½Type ICMPæŠ¥æ–‡ç±»å‹ code checksum æ ¡éªŒå’Œ pingçš„æµç¨‹å‡†å¤‡ä¸€ä¸ªICMPåŒ…ï¼Œå°è£…è¿›IPåŒ…ï¼Œå‘é€åˆ°ç›®çš„åœ°ï¼Œ ç›®çš„åœ°ä¸»æœºè§£ææ”¶åˆ°IPåŒ…ï¼Œå‘ç°è¿™æ˜¯ä¸€ä¸ªICMPï¼Œæ‹†åŒ…ï¼Œå¾—åˆ°ICMPåŒ…ï¼Œå¤„ç†ï¼Œæœ€åå‘é€ICMPåŒ…å›å¤ICMPåŒ…ã€‚ å‚è€ƒè§£æpingåŸç†åŠå®ç°","categories":[{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","permalink":"http://fightinggg.github.io/indigo/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"}],"tags":[]},{"title":"ARPåè®®","slug":"è®¡ç®—æœºç½‘ç»œ/ARPåè®®/index","date":"2021-03-29T02:34:30.000Z","updated":"2021-03-29T02:34:30.000Z","comments":true,"path":"QQPLTI.html","link":"","permalink":"http://fightinggg.github.io/indigo/QQPLTI.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ARPAddress Resolution Protocolï¼Œ åœ°å€è§£æåè®®ï¼Œå®ç°IPåœ°å€åˆ°MACåœ°å€çš„æ˜ å°„ã€‚ åœ¨å±€åŸŸç½‘ä¸­ï¼Œç½‘ç»œä¸­å®é™…ä¼ è¾“çš„æ˜¯â€œå¸§â€ï¼Œå¸§é‡Œé¢æ˜¯æœ‰ç›®æ ‡ä¸»æœºçš„MACåœ°å€çš„ã€‚åœ¨ä»¥å¤ªç½‘ä¸­ï¼Œä¸€ä¸ªä¸»æœºå’Œå¦ä¸€ä¸ªä¸»æœºè¿›è¡Œç›´æ¥é€šä¿¡ï¼Œå¿…é¡»è¦çŸ¥é“ç›®æ ‡ä¸»æœºçš„MACåœ°å€ã€‚ä½†è¿™ä¸ªç›®æ ‡MACåœ°å€æ˜¯å¦‚ä½•è·å¾—çš„å‘¢ï¼Ÿå®ƒå°±æ˜¯é€šè¿‡åœ°å€è§£æåè®®è·å¾—çš„ã€‚æ‰€è°“â€œåœ°å€è§£æâ€å°±æ˜¯ä¸»æœºåœ¨å‘é€å¸§å‰å°†ç›®æ ‡IPåœ°å€è½¬æ¢æˆç›®æ ‡MACåœ°å€çš„è¿‡ç¨‹ã€‚ARPåè®®çš„åŸºæœ¬åŠŸèƒ½å°±æ˜¯é€šè¿‡ç›®æ ‡è®¾å¤‡çš„IPåœ°å€ï¼ŒæŸ¥è¯¢ç›®æ ‡è®¾å¤‡çš„MACåœ°å€ï¼Œä»¥ä¿è¯é€šä¿¡çš„é¡ºåˆ©è¿›è¡Œã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ARPAddress Resolution Protocolï¼Œ åœ°å€è§£æåè®®ï¼Œå®ç°IPåœ°å€åˆ°MACåœ°å€çš„æ˜ å°„ã€‚ åœ¨å±€åŸŸç½‘ä¸­ï¼Œç½‘ç»œä¸­å®é™…ä¼ è¾“çš„æ˜¯â€œå¸§â€ï¼Œå¸§é‡Œé¢æ˜¯æœ‰ç›®æ ‡ä¸»æœºçš„MACåœ°å€çš„ã€‚åœ¨ä»¥å¤ªç½‘ä¸­ï¼Œä¸€ä¸ªä¸»æœºå’Œå¦ä¸€ä¸ªä¸»æœºè¿›è¡Œç›´æ¥é€šä¿¡ï¼Œå¿…é¡»è¦çŸ¥é“ç›®æ ‡ä¸»æœºçš„MACåœ°å€ã€‚ä½†è¿™ä¸ªç›®æ ‡MACåœ°å€æ˜¯å¦‚ä½•è·å¾—çš„å‘¢ï¼Ÿå®ƒå°±æ˜¯é€šè¿‡åœ°å€è§£æåè®®è·å¾—çš„ã€‚æ‰€è°“â€œåœ°å€è§£æâ€å°±æ˜¯ä¸»æœºåœ¨å‘é€å¸§å‰å°†ç›®æ ‡IPåœ°å€è½¬æ¢æˆç›®æ ‡MACåœ°å€çš„è¿‡ç¨‹ã€‚ARPåè®®çš„åŸºæœ¬åŠŸèƒ½å°±æ˜¯é€šè¿‡ç›®æ ‡è®¾å¤‡çš„IPåœ°å€ï¼ŒæŸ¥è¯¢ç›®æ ‡è®¾å¤‡çš„MACåœ°å€ï¼Œä»¥ä¿è¯é€šä¿¡çš„é¡ºåˆ©è¿›è¡Œã€‚ ARPæ˜ å°„é™æ€æ˜ å°„ï¼š æ‰‹åŠ¨ä¿®æ”¹ARPè¡¨ï¼Œæ¯”è¾ƒå¤æ‚ï¼Œéš¾ä»¥ç»´æŠ¤ã€‚ åŠ¨æ€æ˜ å°„ï¼š ä¸ç”¨è‡ªå·±ä¿®æ”¹ï¼Œé€šè¿‡åè®®è·å– å¦‚ä½•æ˜ å°„å¹¿æ’­ï¼š åœ¨å±€åŸŸç½‘ä¸­çš„ä»»ä½•æ—¶å€™ï¼Œå½“ä¸»æœºéœ€è¦å¯»æ‰¾å¦ä¸€ä¸ªä¸»æœºçš„IPåœ°å€çš„æ—¶å€™ï¼Œä»–ä¼šå‘é€ä¸€ä¸ªARPè¯·æ±‚æŠ¥æ–‡ï¼ŒæŠ¥æ–‡ä¸­åŒ…å«äº†å‘é€æ–¹çš„MACåœ°å€ã€IPåœ°å€å’Œæ¥æ”¶æ–¹çš„IPåœ°å€ï¼Œè¿™ä¸ªåŒ…è¢«å¹¿æ’­ï¼Œå±€åŸŸç½‘ä¸­çš„æ¯æ¡ä¸»æœºéƒ½ä¼šæ¥å—å¹¶å¤„ç†è¿™ä¸ªè¯·æ±‚æŠ¥æ–‡ï¼Œå¦‚æœè‡ªå·±ä¸æ˜¯æ¥æ”¶æ–¹ï¼ˆé€šè¿‡IPåˆ¤æ–­ï¼‰ï¼Œåˆ™ç»§ç»­å¹¿æ’­è¿™ä¸ªåŒ…ï¼Œå¦‚æœè‡ªå·±æ˜¯æ¥å—æ–¹ï¼Œåˆ™å¯ä»¥é€šè¿‡ARPå•æ’­è¿›è¡Œå›å¤ï¼Œæ•´ä¸ªè¿‡ç¨‹å’Œå­¦ä¹ å‹äº¤æ¢æœºä¸€æ‘¸ä¸€æ ·ã€‚ ARPæ˜¯ç½‘ç»œå±‚è¿˜æ˜¯é“¾è·¯å±‚ARPæŠ¥æ–‡ IPæŠ¥æ–‡ ä»¥ARPåè®®ä¸ºä¾‹ï¼Œå®ƒçš„åŠŸèƒ½æœ€ç»ˆæ˜¯è·å–åˆ°MACä¿¡æ¯ï¼ŒæœåŠ¡äºé“¾è·¯å±‚ï¼Œä»è¿™ç‚¹è€ƒè™‘ï¼ŒARPæ˜¯é“¾è·¯å±‚åè®®ï¼›ä½†æ˜¯ä»å±‚æ¬¡æ¥çœ‹ï¼ŒARPåŸºäºEthernetåè®®ï¼ŒIPåè®®åŸºäºEthernetåè®®ï¼Œå®ƒä»¬åœ¨Ethernetåè®®é‡Œé¢æœ‰ç‹¬ç«‹çš„Typeç±»å‹ï¼Œå‰è€…æ˜¯0x0806ï¼Œåè€…æ˜¯0x0800ï¼Œæ—¢ç„¶ARPå’ŒIPåè®®â€å¹³èµ·å¹³åâ€ï¼Œé‚£ä¹ˆIPæ˜¯ç½‘ç»œå±‚ï¼ŒARPéš¾é“å°±ä¸æ˜¯ç½‘ç»œå±‚ï¼Ÿ å‚è€ƒå›¾è§£ARPåè®®ï¼ˆä¸€ï¼‰ ç»å…¸ARPåè®®è®²è§£ï¼Œä¸€å®šè¦çœ‹ IPæŠ¥æ–‡æ ¼å¼å’Œå®ä¾‹åˆ†æ","categories":[{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","permalink":"http://fightinggg.github.io/indigo/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"}],"tags":[]},{"title":"æ“ä½œç³»ç»Ÿè¿›ç¨‹å¦‚ä½•é€šä¿¡","slug":"æ“ä½œç³»ç»Ÿ/OS/æ“ä½œç³»ç»Ÿè¿›ç¨‹å¦‚ä½•é€šä¿¡/index","date":"2021-03-29T01:17:00.000Z","updated":"2021-03-29T01:17:00.000Z","comments":true,"path":"QQPI8C.html","link":"","permalink":"http://fightinggg.github.io/indigo/QQPI8C.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è¿›ç¨‹å¦‚ä½•äº’ç›¸é€šä¿¡å…±äº«å†…å­˜ æ“ä½œç³»ç»Ÿé€šè¿‡é¡µè¡¨è®©ä¸åŒçš„è¿›ç¨‹å…±äº«ä¸€ä¸ªç‰©ç†åœ°å€ç©ºé—´ï¼Œä»–ä»¬å¯¹åº”çš„é€»è¾‘åœ°å€ç©ºé—´å¯èƒ½ä¸åŒï¼Œä½†æ˜¯ç‰©ç†åœ°å€ç©ºé—´æ˜¯ç›¸åŒçš„ã€‚å…±äº«å†…å­˜ä¸æä¾›åŒæ­¥æœºåˆ¶ï¼Œæˆ‘ä»¬éœ€è¦é¢å¤–çš„æ‰‹æ®µæ¥ä¿è¯åŒæ­¥ã€‚ ç®¡é“ç®¡é“çš„å‚æ•°å¦‚ä¸‹ 1int pipe(int pipefd[2]); æˆåŠŸåˆ™è¿”å›0ï¼Œå¦åˆ™è¿”å›-1ï¼Œpipefdä¸­ä¼šå¾—åˆ°ä¸¤ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œä¸€ä¸ªå¯è¯»ï¼Œä¸€ä¸ªå¯å†™ï¼Œå°±å®ç°äº†ç®¡é“ï¼Œä¸€èˆ¬ç”¨äºçˆ¶å­è¿›ç¨‹é€šä¿¡ï¼Œçˆ¶è¿›ç¨‹å¯forkï¼Œç„¶åå†™pipefd[1], å­è¿›ç¨‹å³å¯è¯»pipefd[0], æˆ–è€…çˆ¶è¿›ç¨‹forkä¸¤æ¬¡ å‘½åç®¡é“123456# docker run --rm -it centos:centos8 bashmkfifo mypipefor i in &#123;1..100&#125;; do echo $i&gt;mypipe; sleep 1s; done &amp;for i in &#123;1..100&#125;; do echo $i&gt;mypipe; sleep 1s; done &amp;for i in &#123;1..100&#125;; do echo $i&gt;mypipe; sleep 1s; done &amp;tail -300f mypipe ä¿¡å·é‡è¯¦è§link æ¶ˆæ¯é˜Ÿåˆ—æ¶ˆæ¯é˜Ÿåˆ—æ˜¯ç”±æ¶ˆæ¯çš„é“¾è¡¨å­˜æ”¾åœ¨å†…æ ¸å¹¶æœ‰æ¶ˆæ¯é˜Ÿåˆ—æ ‡è¯†ç¬¦æ ‡è¯†ã€‚æ¶ˆæ¯é˜Ÿåˆ—å…‹æœäº†ä¿¡å·ä¼ é€’ä¿¡æ¯é‡å°‘ï¼Œç®¡é“åªèƒ½æ‰¿è½½æ— æ ¼å¼å­—èŠ‚æµä»¥åŠç¼“å†²åŒºå¤ªå°å—é™ã€‚ ä¿¡å·ä¿¡å·åˆè¢«ç§°ä¸ºè½¯ä»¶ä¸­æ–­ï¼Œä¸€ä¸ªæœ‰æƒé™çš„è¿›ç¨‹å¯ä»¥å‘å¦ä¸€ä¸ªè¿›ç¨‹å‘é€ä¿¡å·ï¼Œä½†å‘å¾€è¿›ç¨‹çš„ä¿¡å·è¯¸å¤šéƒ½æºäºå†…æ ¸ã€‚ æœ‰æ—¶éœ€è¦ç¡®ä¿ä¸€æ®µä»£ç ä¸è¢«ä¼ é€’æ¥çš„ä¿¡å·ä¸­æ–­ï¼Œä¸ºäº†åšåˆ°è¿™ç‚¹ï¼Œå¯å°†ä¿¡å·æ·»åŠ åˆ°è¿›ç¨‹çš„ä¿¡å·æ©ç ä¸­â€”â€”ç›®å‰ä¼šé˜»å¡è¯¥ç»„ä¿¡å·çš„åˆ°è¾¾ã€‚å¦‚æœæ‰€äº§ç”Ÿçš„ä¿¡å·å±äºé˜»å¡ä¹‹åˆ—ï¼Œé‚£ä¹ˆä¿¡å·å°†ä¿æŒç­‰å¾…çŠ¶æ€ï¼Œç›´è‡³ç¨åå¯¹å…¶è§£é™¤é˜»å¡ å¥—æ¥å­— socketï¼Œä¸èµ˜è¿°äº†ã€‚ å‚è€ƒåœ¨æ“ä½œç³»ç»Ÿä¸­è¿›ç¨‹æ˜¯å¦‚ä½•é€šä¿¡çš„ è®¡ç®—æœºæ“ä½œç³»ç»ŸåŸºç¡€(åå…­)â€”è¿›ç¨‹åŒæ­¥ä¹‹å…±äº«å†…å­˜ ã€æ“ä½œç³»ç»ŸåŸç†ã€‘ä½¿ç”¨ç®¡é“å®Œæˆè¿›ç¨‹é—´é€šä¿¡ï¼ˆåŒ¿åç®¡é“pipeã€å‘½åç®¡é“fifoï¼‰ æ“ä½œç³»ç»ŸåŸºæœ¬æ¦‚å¿µâ€”â€”ä¿¡å·ï¼ˆä¸€ï¼‰","categories":[{"name":"æ“ä½œç³»ç»Ÿ","slug":"æ“ä½œç³»ç»Ÿ","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"},{"name":"OS","slug":"æ“ä½œç³»ç»Ÿ/OS","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/OS/"}],"tags":[]},{"title":"è“„æ°´æ± ç®—æ³•","slug":"Others/è“„æ°´æ± ç®—æ³•/index","date":"2021-03-28T16:11:33.000Z","updated":"2021-04-09T14:51:00.000Z","comments":true,"path":"QQOSZ9.html","link":"","permalink":"http://fightinggg.github.io/indigo/QQOSZ9.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial é¢˜ç›®æè¿°ä½ çš„å…¬å¸æƒ³è¦å¼€ä¸€ä¸ªæ´»åŠ¨ï¼Œæ¯ä¸ªç”¨æˆ·éƒ½èƒ½æŠ½å¥–ï¼Œä½†æ˜¯æœ€ç»ˆåªæœ‰$M(M&#x3D;10)$ä¸ªç”¨æˆ·èƒ½ä¸­å¥–ã€‚ å½“ä¸€ä¸ªç”¨æˆ·ç‚¹å‡»æŠ½å¥–æŒ‰é’®ï¼Œä½ çš„åå°ä¼šæ”¶åˆ°ä»–çš„è´¦å· ä½†æ˜¯ä½ ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™æ´»åŠ¨ç»“æŸï¼Œä½ ä¹Ÿæ²¡åŠæ³•å‚¨å­˜æ‰€æœ‰çš„è´¦å·ï¼Œå¦‚ä½•ä¿è¯æ´»åŠ¨ç»“æŸæ—¶ï¼Œä½ èƒ½éšæœºé€‰å‡º10ä¸ªç”¨æˆ·æ¥ï¼Ÿ","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial é¢˜ç›®æè¿°ä½ çš„å…¬å¸æƒ³è¦å¼€ä¸€ä¸ªæ´»åŠ¨ï¼Œæ¯ä¸ªç”¨æˆ·éƒ½èƒ½æŠ½å¥–ï¼Œä½†æ˜¯æœ€ç»ˆåªæœ‰$M(M&#x3D;10)$ä¸ªç”¨æˆ·èƒ½ä¸­å¥–ã€‚ å½“ä¸€ä¸ªç”¨æˆ·ç‚¹å‡»æŠ½å¥–æŒ‰é’®ï¼Œä½ çš„åå°ä¼šæ”¶åˆ°ä»–çš„è´¦å· ä½†æ˜¯ä½ ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™æ´»åŠ¨ç»“æŸï¼Œä½ ä¹Ÿæ²¡åŠæ³•å‚¨å­˜æ‰€æœ‰çš„è´¦å·ï¼Œå¦‚ä½•ä¿è¯æ´»åŠ¨ç»“æŸæ—¶ï¼Œä½ èƒ½éšæœºé€‰å‡º10ä¸ªç”¨æˆ·æ¥ï¼Ÿ æŠ½è±¡ç»™ä½ ä¸€ä¸ªæ•°æ®æµï¼Œæ•°æ®æµä¸­çš„æ•°æ®ä¸ªæ•°NæœªçŸ¥ï¼Œä½ éœ€è¦ä»ä¸­é€‰å‡ºM(M&lt;&#x3D;N)ä¸ªä¸é‡å¤çš„æ•°æ®,ç”¨ä»€ä¹ˆæ ·å­çš„ç­–ç•¥èƒ½ä¿è¯éšæœºå–åˆ°æ¯ä¸ªå…ƒç´ ã€‚ æ—¶é—´å¤æ‚åº¦è¦æ±‚ï¼š O(N) ç©ºé—´å¤æ‚åº¦è¦æ±‚ï¼š O(M) æ•°å­¦å½’çº³æ³•å‡è®¾N&#x3D;X å‡è®¾X&#x3D;Mï¼Œ åˆ™æˆ‘ä»¬å…¨é€‰å³å¯ å‡è®¾X&gt;M, å¯¹äºæ•°æ®æµçš„å‰Xä¸ªæ•°æ®ï¼Œæˆ‘ä»¬ä»ä¸­å–å‡ºäº†Mä¸ªæ•°æ®ï¼Œå¹¶ä¸”è¿™Xä¸ªå…ƒç´ ä¸­æ¯ä¸€ä¸ªå…ƒç´ è¢«é€‰åˆ°çš„æ¦‚ç‡éƒ½ç›¸åŒï¼Œæ°å¥½ä¸º$\\frac{M}{X}$, å½“æ•°æ®æµä¸­åˆå‡ºç°äº†ä¸€ä¸ªæ•°æ®çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›è¿™ä¸ªæ•°æ®è¢«é€‰ä¸­çš„æ¦‚ç‡ä¸º$\\frac{M}{X+1}$, å¸Œæœ›å‰Xä¸ªæ•°æ®å‡ºç°çš„æ¦‚ç‡ä¹Ÿæ˜¯$\\frac{M}{X+1}$,è¿™ä¸ªæ•°å­—æ¯”$\\frac{M}{X}$å°ï¼Œé‚£æˆ‘ä»¬åº”è¯¥ç”¨æœ€åä¸€ä¸ªæ•°å­—å°†å…¶æ›¿æ¢ï¼Œå³æˆ‘ä»¬ç”¨$\\frac{M}{X+1}$çš„æ¦‚ç‡é€‰æ‹©æœ€åä¸€ä¸ªæ•°å­—ï¼Œå¹¶è®©ä»–éšæœºæ›¿æ¢å‰Mä¸ªæ•°å­—ä¸­çš„ä»»æ„ä¸€ä¸ªã€‚å¯ä»¥è½»æ˜“è¯æ˜ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æ¯ä¸ªæ•°å­—è¢«é€‰ä¸­çš„æ¦‚ç‡éƒ½ç›¸ç­‰ã€‚ è½¬è½½è‡ª è“„æ°´æ± æŠ½æ ·ç®—æ³•ï¼ˆReservoir Samplingï¼‰","categories":[{"name":"Others","slug":"Others","permalink":"http://fightinggg.github.io/indigo/categories/Others/"}],"tags":[]},{"title":"è…¾è®¯å®ä¹ ","slug":"å®ä¹ /è…¾è®¯å®ä¹ /index","date":"2021-03-26T16:00:00.000Z","updated":"2021-03-26T16:00:00.000Z","comments":true,"path":"QQL340.html","link":"","permalink":"http://fightinggg.github.io/indigo/QQL340.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è…¾è®¯çš„å®ä¹ æš‚æ—¶ç»“æŸäº†ï¼Œæ–°çš„ä½ç½®åœ¨å“ªæˆ‘ä¹Ÿä¸çŸ¥é“ã€‚è¿™å›¾è¿˜æ˜¯å»å¹´çš„ï¼Œå“ˆå“ˆå“ˆå“ˆã€‚","categories":[{"name":"å®ä¹ ","slug":"å®ä¹ ","permalink":"http://fightinggg.github.io/indigo/categories/%E5%AE%9E%E4%B9%A0/"}],"tags":[]},{"title":"k8så­¦ä¹ ","slug":"Docker/K8s/k8så­¦ä¹ /index","date":"2021-03-24T16:00:00.000Z","updated":"2021-03-24T16:00:00.000Z","comments":true,"path":"QQHDS0.html","link":"","permalink":"http://fightinggg.github.io/indigo/QQHDS0.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial k8s å­¦ä¹ æ€»ç»“","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial k8s å­¦ä¹ æ€»ç»“ ç‚¹æˆ‘ç›´æ¥æŸ¥çœ‹pdfæ–‡ä»¶","categories":[{"name":"Docker","slug":"Docker","permalink":"http://fightinggg.github.io/indigo/categories/Docker/"},{"name":"K8s","slug":"Docker/K8s","permalink":"http://fightinggg.github.io/indigo/categories/Docker/K8s/"}],"tags":[]},{"title":"logstash","slug":"å¤§æ•°æ®/ES/logstash/index","date":"2021-03-16T04:12:00.000Z","updated":"2021-03-16T04:12:00.000Z","comments":true,"path":"QQ1NO0.html","link":"","permalink":"http://fightinggg.github.io/indigo/QQ1NO0.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 12345678# install logstashyum install -y java-1.8.0-openjdk.x86_64 wget vimwget https://artifacts.elastic.co/downloads/logstash/logstash-7.0.0.tar.gztar -xzvf logstash-7.0.0.tar.gzmv logstash-7.0.0 /usr/local/logstashecho &quot;LOGSTASH_HOME=/usr/local/logstash&quot; &gt;&gt; ~/.bashrcecho &quot;PATH=\\$LOGSTASH_HOME/bin:\\$PATH&quot; &gt;&gt; ~/.bashrcsource ~/.bashrc grokè¯­æ³• https://github.com/logstash-plugins/logstash-patterns-core/tree/master/patterns","categories":[{"name":"å¤§æ•°æ®","slug":"å¤§æ•°æ®","permalink":"http://fightinggg.github.io/indigo/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/"},{"name":"ES","slug":"å¤§æ•°æ®/ES","permalink":"http://fightinggg.github.io/indigo/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/ES/"}],"tags":[]},{"title":"filebeat","slug":"å¤§æ•°æ®/ES/filebeat/index","date":"2021-03-15T07:18:00.000Z","updated":"2021-03-15T07:18:00.000Z","comments":true,"path":"QQ01M0.html","link":"","permalink":"http://fightinggg.github.io/indigo/QQ01M0.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 123456789101112131415161718192021222324252627curl -L -O https://artifacts.elastic.co/downloads/beats/filebeat/filebeat-7.5.1-x86_64.rpmrpm -vi filebeat-7.5.1-x86_64.rpmfilebeat modules enable logstashfilebeat setupcat&lt;&lt;EOF&gt;/etc/filebeat/filebeat.ymlfilebeat.inputs:- type: log enabled: true paths: - /data/*.logfilebeat.config.modules: path: \\$&#123;path.config&#125;/modules.d/*.yml reload.enabled: falsesetup.template.settings: index.number_of_shards: 1setup.kibana:output.elasticsearch: hosts: [&quot;localhost:9200&quot;]processors: - add_host_metadata: ~ - add_cloud_metadata: ~ - add_docker_metadata: ~ - add_kubernetes_metadata: ~EOFmkdir /datafor i in $(seq 1 10000); do echo &quot;&#123;\\&quot;x\\&quot;=&quot;$i&quot;&#125;&quot; &gt;&gt; /data/10000.log; sleep 1s;done &amp;/usr/share/filebeat/bin/filebeat -c /etc/filebeat/filebeat.yml -path.home /usr/share/filebeat -path.config /etc/filebeat -path.data /var/lib/filebeat -path.logs /var/log/filebeat -e &amp;","categories":[{"name":"å¤§æ•°æ®","slug":"å¤§æ•°æ®","permalink":"http://fightinggg.github.io/indigo/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/"},{"name":"ES","slug":"å¤§æ•°æ®/ES","permalink":"http://fightinggg.github.io/indigo/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/ES/"}],"tags":[]},{"title":"docker-mysql","slug":"Database/docker-mysql/index","date":"2021-03-15T04:53:00.000Z","updated":"2021-03-15T04:53:00.000Z","comments":true,"path":"QPZUWC.html","link":"","permalink":"http://fightinggg.github.io/indigo/QPZUWC.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial mysqlå®‰è£…å¯ä»¥é…Œæƒ…ä¿®æ”¹å†…å­˜å¤§å°å’Œäº¤æ¢å†…å­˜å¤§å°ã€‚ 12345678# filename: $HOME/data/mysql/conf/docker.cnf[mysqld]performance_schema_max_table_instances=400table_definition_cache=400table_open_cache=256performance_schema = offskip-host-cacheskip-name-resolve 12345678docker run \\ --cpus 0.2 \\ -d -e MYSQL_ROOT_PASSWORD=123456 \\ --name mysql \\ -v $HOME/data/mysql/data:/var/lib/mysql \\ -v $HOME/data/mysql/conf:/etc/mysql/conf.d \\ -p 3306:3306 \\ mysql å…è®¸è¿œç¨‹ç™»å½•123docker exec -it mysql bashmysql -u root -p123456ALTER USER &#x27;root&#x27;@&#x27;%&#x27; IDENTIFIED WITH MYSQL_NATIVE_PASSWORD BY &#x27;123456&#x27;;","categories":[{"name":"Database","slug":"Database","permalink":"http://fightinggg.github.io/indigo/categories/Database/"}],"tags":[]},{"title":"k8sæ•…éšœ","slug":"Docker/K8s/k8sæ•…éšœ/index","date":"2021-03-15T04:50:00.000Z","updated":"2021-03-15T04:50:00.000Z","comments":true,"path":"QPZURC.html","link":"","permalink":"http://fightinggg.github.io/indigo/QPZURC.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å¾ˆå¤šPODå¤„äºevictedçŠ¶æ€ 12345#!/bin/bashfor pod in $(kubectl get pods|grep Evicted|awk &#x27;&#123;print $1&#125;&#x27;);do kubectl delete pods $poddone","categories":[{"name":"Docker","slug":"Docker","permalink":"http://fightinggg.github.io/indigo/categories/Docker/"},{"name":"K8s","slug":"Docker/K8s","permalink":"http://fightinggg.github.io/indigo/categories/Docker/K8s/"}],"tags":[]},{"title":"æ“ä½œç³»ç»Ÿå¯¼è®º","slug":"æ“ä½œç³»ç»Ÿ/æ“ä½œç³»ç»Ÿå¯¼è®º/index","date":"2021-03-05T16:00:00.000Z","updated":"2021-03-29T13:26:00.000Z","comments":true,"path":"QPI740.html","link":"","permalink":"http://fightinggg.github.io/indigo/QPI740.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial # æ“ä½œç³»ç»Ÿå¯¼è®º","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial # æ“ä½œç³»ç»Ÿå¯¼è®º æ¨èé˜…è¯»https://weread.qq.com/web/reader/db8329d071cc7f70db8a479kc81322c012c81e728d9d180 é˜…è¯»æ„Ÿæƒ³æ“ä½œç³»ç»Ÿæœ€ä¼Ÿå¤§çš„åœ°æ–¹å°±æ˜¯ä»–çš„æŠ½è±¡ï¼Œå°†CPUè™šæ‹ŸåŒ–ï¼ŒæŠŠä¸€ä¸ªç‰©ç†CPUå˜æˆäº†å¤šä¸ªè™šæ‹ŸCPUï¼Œä»è€Œæ”¯æŒå¤šä¸ªç¨‹åºå¹¶å‘è¿è¡Œï¼›é€šè¿‡å†…å­˜è™šæ‹ŸåŒ–ï¼Œå°†ç‰©ç†å†…å­˜æŠ½è±¡ä¸ºå¤šä¸ªå·¨å¤§çš„ã€é«˜é€Ÿçš„è™šæ‹Ÿå†…å­˜ï¼Œè®©æ¯ä¸€ä¸ªè¿›ç¨‹éƒ½ä»¥ä¸ºè‡ªå·±æ‹¥æœ‰æ— é™å¤§å†…å­˜ç©ºé—´ã€‚ ç¬¬4ç«  è¿›ç¨‹è¿è¡Œçš„ç¨‹åºå°±æ˜¯è¿›ç¨‹ï¼Œæ“ä½œç³»ç»Ÿæœ‰å¾ˆå¤šå…³äºè¿›ç¨‹çš„APIï¼Œ Â·åˆ›å»ºï¼ˆcreateï¼‰ï¼šæ“ä½œç³»ç»Ÿå¿…é¡»åŒ…å«ä¸€äº›åˆ›å»ºæ–°è¿›ç¨‹çš„æ–¹æ³•ã€‚åœ¨shellä¸­é”®å…¥å‘½ä»¤æˆ–åŒå‡»åº”ç”¨ç¨‹åºå›¾æ ‡æ—¶ï¼Œä¼šè°ƒç”¨æ“ä½œç³»ç»Ÿæ¥åˆ›å»ºæ–°è¿›ç¨‹ï¼Œè¿è¡ŒæŒ‡å®šçš„ç¨‹åºã€‚ Â·é”€æ¯ï¼ˆdestroyï¼‰ï¼šç”±äºå­˜åœ¨åˆ›å»ºè¿›ç¨‹çš„æ¥å£ï¼Œå› æ­¤ç³»ç»Ÿè¿˜æä¾›äº†ä¸€ä¸ªå¼ºåˆ¶é”€æ¯è¿›ç¨‹çš„æ¥å£ã€‚å½“ç„¶ï¼Œå¾ˆå¤šè¿›ç¨‹ä¼šåœ¨è¿è¡Œå®Œæˆåè‡ªè¡Œé€€å‡ºã€‚ä½†æ˜¯ï¼Œå¦‚æœå®ƒä»¬ä¸é€€å‡ºï¼Œç”¨æˆ·å¯èƒ½å¸Œæœ›ç»ˆæ­¢å®ƒä»¬ï¼Œå› æ­¤åœæ­¢å¤±æ§è¿›ç¨‹çš„æ¥å£éå¸¸æœ‰ç”¨ã€‚ Â·ç­‰å¾…ï¼ˆwaitï¼‰ï¼šæœ‰æ—¶ç­‰å¾…è¿›ç¨‹åœæ­¢è¿è¡Œæ˜¯æœ‰ç”¨çš„ï¼Œå› æ­¤ç»å¸¸æä¾›æŸç§ç­‰å¾…æ¥å£ã€‚ Â·å…¶ä»–æ§åˆ¶ï¼ˆmiscellaneous controlï¼‰ï¼šé™¤äº†æ€æ­»æˆ–ç­‰å¾…è¿›ç¨‹å¤–ï¼Œæœ‰æ—¶è¿˜å¯èƒ½æœ‰å…¶ä»–æ§åˆ¶ã€‚ä¾‹å¦‚ï¼Œå¤§å¤šæ•°æ“ä½œç³»ç»Ÿæä¾›æŸç§æ–¹æ³•æ¥æš‚åœè¿›ç¨‹ï¼ˆåœæ­¢è¿è¡Œä¸€æ®µæ—¶é—´ï¼‰ï¼Œç„¶åæ¢å¤ï¼ˆç»§ç»­è¿è¡Œï¼‰ã€‚ Â·çŠ¶æ€ï¼ˆstatusï¼‰ï¼šé€šå¸¸ä¹Ÿæœ‰ä¸€äº›æ¥å£å¯ä»¥è·å¾—æœ‰å…³è¿›ç¨‹çš„çŠ¶æ€ä¿¡æ¯ï¼Œä¾‹å¦‚è¿è¡Œäº†å¤šé•¿æ—¶é—´ï¼Œæˆ–è€…å¤„äºä»€ä¹ˆçŠ¶æ€ã€‚ æŠŠç¨‹åºå’Œé™æ€æ•°æ®åŠ è½½åˆ°å†…å­˜ï¼Œç„¶åæ‰§è¡Œä»–å°±æˆäº†è¿›ç¨‹ï¼Œç°ä»£æ“ä½œç³»ç»Ÿå°†åŠ è½½çš„è¿‡ç¨‹lazilyæ‡’æƒ°åŒ–äº†ï¼Œéœ€è¦ç”¨çš„æ—¶å€™æ‰åŠ è½½ è¿›ç¨‹æœ‰ä¸‰ä¸ªçŠ¶æ€ï¼Œè¿è¡Œã€å°±ç»ªã€é˜»å¡ ç¬¬5ç«  è¿›ç¨‹APIfork , å¤åˆ¶å½“å‰çš„è¿›ç¨‹ï¼Œçˆ¶è¿›ç¨‹è¿”å›å­è¿›ç¨‹pidï¼Œå­è¿›ç¨‹è¿”å›0 waitï¼Œçˆ¶è¿›ç¨‹ç­‰å¾…å­è¿›ç¨‹æ‰§è¡Œå®Œæ¯• execï¼ŒåŠ è½½æŸä¸ªç¨‹åºåˆ°å†…å­˜ä¸­è¿è¡Œï¼Œè¦†ç›–å½“å‰è¿›ç¨‹ shellä¹Ÿæ˜¯ä¸€ä¸ªç”¨æˆ·ç¨‹åº[æ’å›¾]ï¼Œå®ƒé¦–å…ˆæ˜¾ç¤ºä¸€ä¸ªæç¤ºç¬¦ï¼ˆpromptï¼‰ï¼Œç„¶åç­‰å¾…ç”¨æˆ·è¾“å…¥ã€‚ä½ å¯ä»¥å‘å®ƒè¾“å…¥ä¸€ä¸ªå‘½ä»¤ï¼ˆä¸€ä¸ªå¯æ‰§è¡Œç¨‹åºçš„åç§°åŠéœ€è¦çš„å‚æ•°ï¼‰ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œshellå¯ä»¥åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­æ‰¾åˆ°è¿™ä¸ªå¯æ‰§è¡Œç¨‹åºï¼Œè°ƒç”¨fork()åˆ›å»ºæ–°è¿›ç¨‹ï¼Œå¹¶è°ƒç”¨exec()çš„æŸä¸ªå˜ä½“æ¥æ‰§è¡Œè¿™ä¸ªå¯æ‰§è¡Œç¨‹åºï¼Œè°ƒç”¨wait()ç­‰å¾…è¯¥å‘½ä»¤å®Œæˆã€‚å­è¿›ç¨‹æ‰§è¡Œç»“æŸåï¼Œshellä»wait()è¿”å›å¹¶å†æ¬¡è¾“å‡ºä¸€ä¸ªæç¤ºç¬¦ï¼Œç­‰å¾…ç”¨æˆ·è¾“å…¥ä¸‹ä¸€æ¡å‘½ä»¤ã€‚ ç¬¬6ç«  æœºåˆ¶ï¼šå—é™ç›´æ¥æ‰§è¡ŒOSä¸å¯èƒ½è¯´ï¼Œåˆ›å»ºäº†ä¸€ä¸ªè¿›ç¨‹ï¼ŒæŠŠæ‰€æœ‰æƒé™å®Œå…¨äº¤ç»™è¿›ç¨‹ï¼Œç„¶åæŠŠè‡ªå·±æŒ‚èµ·ï¼Œé‚£åè›‹å†™ä¸€ä¸ªæ­»å¾ªç¯ï¼Œæˆ‘ä»¬å°±åªèƒ½é‡å¯è®¡ç®—æœºäº†ï¼ŒOSä¼šæŠŠCPUäº¤ç»™è¿›ç¨‹ï¼Œä½†æ˜¯ä»–å¦‚ä½•æ‹¿å›æ¥å‘¢ï¼Ÿ ç­”æ¡ˆå¾ˆç®€å•ï¼Œè®¸å¤šå¹´å‰æ„å»ºè®¡ç®—æœºç³»ç»Ÿçš„è®¸å¤šäººéƒ½å‘ç°äº†ï¼šæ—¶é’Ÿä¸­æ–­ï¼ˆtimer interruptï¼‰[M+63]ã€‚æ—¶é’Ÿè®¾å¤‡å¯ä»¥ç¼–ç¨‹ä¸ºæ¯éš”å‡ æ¯«ç§’äº§ç”Ÿä¸€æ¬¡ä¸­æ–­ã€‚äº§ç”Ÿä¸­æ–­æ—¶ï¼Œå½“å‰æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹åœæ­¢ï¼Œæ“ä½œç³»ç»Ÿä¸­é¢„å…ˆé…ç½®çš„ä¸­æ–­å¤„ç†ç¨‹åºï¼ˆinterrupt handlerï¼‰ä¼šè¿è¡Œã€‚æ­¤æ—¶ï¼Œæ“ä½œç³»ç»Ÿé‡æ–°è·å¾—CPUçš„æ§åˆ¶æƒï¼Œå› æ­¤å¯ä»¥åšå®ƒæƒ³åšçš„äº‹ï¼šåœæ­¢å½“å‰è¿›ç¨‹ï¼Œå¹¶å¯åŠ¨å¦ä¸€ä¸ªè¿›ç¨‹ã€‚ ç¬¬8ç«  è°ƒåº¦ï¼šå¤šçº§åé¦ˆé˜Ÿåˆ— Â·è§„åˆ™1ï¼šå¦‚æœAçš„ä¼˜å…ˆçº§ &gt; Bçš„ä¼˜å…ˆçº§ï¼Œè¿è¡ŒAï¼ˆä¸è¿è¡ŒBï¼‰ã€‚ Â·è§„åˆ™2ï¼šå¦‚æœAçš„ä¼˜å…ˆçº§ &#x3D; Bçš„ä¼˜å…ˆçº§ï¼Œè½®è½¬è¿è¡ŒAå’ŒBã€‚ Â·è§„åˆ™3ï¼šå·¥ä½œè¿›å…¥ç³»ç»Ÿæ—¶ï¼Œæ”¾åœ¨æœ€é«˜ä¼˜å…ˆçº§ï¼ˆæœ€ä¸Šå±‚é˜Ÿåˆ—ï¼‰ã€‚ Â·è§„åˆ™4ï¼šä¸€æ—¦å·¥ä½œç”¨å®Œäº†å…¶åœ¨æŸä¸€å±‚ä¸­çš„æ—¶é—´é…é¢ï¼ˆæ— è®ºä¸­é—´ä¸»åŠ¨æ”¾å¼ƒäº†å¤šå°‘æ¬¡CPUï¼‰ï¼Œå°±é™ä½å…¶ä¼˜å…ˆçº§ï¼ˆç§»å…¥ä½ä¸€çº§é˜Ÿåˆ—ï¼‰ã€‚ Â·è§„åˆ™5ï¼šç»è¿‡ä¸€æ®µæ—¶é—´Sï¼Œå°±å°†ç³»ç»Ÿä¸­æ‰€æœ‰å·¥ä½œé‡æ–°åŠ å…¥æœ€é«˜ä¼˜å…ˆçº§é˜Ÿåˆ—ã€‚ è§„åˆ™4æ˜¯åé¦ˆ è§„åˆ™5å¯é¿å…é¥¥é¥¿ ç¬¬9ç«  è°ƒåº¦ï¼š æ¯”ä¾‹ä»½é¢å½©ç¥¨è°ƒåº¦å¾ˆå¤šäººéƒ½ä¹°è¿‡å½©ç¥¨ï¼Œä½†æ˜¯å¾ˆå°‘æœ‰äººä¸­å¥–ï¼Œæˆ‘ä»¬å‡è®¾æœ‰100å¼ å½©ç¥¨ï¼Œæœ‰ABä¸¤ä¸ªäººåˆ†åˆ«ä¹°äº†75å¼ å’Œ25å¼ ï¼Œç„¶åæˆ‘ä»¬è¿›è¡Œéšæœºå¼€å¥–ï¼Œå¼€åˆ°ä¸€å¼ ç¥¨ï¼Œè¿™å¼ ç¥¨åœ¨è°æ‰‹ä¸Šè°å°±ä¸­å¥–ã€‚ åŒç†ï¼Œæˆ‘ä»¬å‡è®¾ABæ˜¯ä¸¤ä¸ªè¿›ç¨‹ï¼Œåˆ™ä¸­å¥–çš„é‚£ä½å°±èƒ½è·å¾—CPUæ§åˆ¶æƒã€‚ å½©ç¥¨è´§å¸å¦‚æœè¿›ç¨‹å¯ä»¥å°†è‡ªå·±çš„å½©ç¥¨åˆ†é…ç»™è‡ªå·±çš„çº¿ç¨‹ï¼Œåˆ™å®ç°äº†å½©ç¥¨è´§å¸åŒ–ã€‚ å½©ç¥¨è½¬è®©ä¸€ä¸ªè¿›ç¨‹å¯ä»¥å§è‡ªå·±çš„å½©ç¥¨åˆ†ç»™å…¶ä»–è¿›ç¨‹ï¼Œä¾‹å¦‚å®¢æˆ·ç«¯æŠŠå½©ç¥¨åˆ†ç»™æœåŠ¡ç«¯ä»¥åŠ å¿«æœåŠ¡ç«¯å¤„ç†é€Ÿåº¦ã€‚ å½©ç¥¨é€šèƒ€ æœ€åï¼Œå½©ç¥¨é€šèƒ€ï¼ˆticket inflationï¼‰æœ‰æ—¶ä¹Ÿå¾ˆæœ‰ç”¨ã€‚åˆ©ç”¨é€šèƒ€ï¼Œä¸€ä¸ªè¿›ç¨‹å¯ä»¥ä¸´æ—¶æå‡æˆ–é™ä½è‡ªå·±æ‹¥æœ‰çš„å½©ç¥¨æ•°é‡ã€‚å½“ç„¶åœ¨ç«äº‰ç¯å¢ƒä¸­ï¼Œè¿›ç¨‹ä¹‹é—´äº’ç›¸ä¸ä¿¡ä»»ï¼Œè¿™ç§æœºåˆ¶å°±æ²¡ä»€ä¹ˆæ„ä¹‰ã€‚ ç®—æ³•å®ç°æˆ‘ä»¬åªéœ€è¦è®°å½•æ¯ä¸ªè¿›ç¨‹æ‹¥æœ‰å¤šå°‘å½©ç¥¨ï¼Œå¹¶æŠŠä»–ä»¬æ’å¥½ï¼Œç„¶åOSç”Ÿäº§éšæœºæ•°ï¼Œä»ç¬¬ä¸€ä¸ªè¿›ç¨‹å¼€å§‹ï¼Œå¯¹å½©ç¥¨æ•°è¿›è¡Œç´¯åŠ ï¼Œå½“ç´¯å’Œç¬¬ä¸€æ¬¡è¶…è¿‡éšæœºæ•°æ—¶ï¼Œè¿™ä¸ªè¿›ç¨‹ä¸­å¥–ã€‚ æˆ‘ä»¬è¿˜å¯ä»¥å¯¹è¿›ç¨‹æŒ‰ç…§å½©ç¥¨æ•°ä»å¤§åˆ°å°æ’å¥½åºï¼Œè¿™æ ·å¯ä»¥åŠ å¿«éå†é€Ÿåº¦ã€‚ æ­¥é•¿è°ƒåº¦ Aã€Bã€Cè¿™3ä¸ªå·¥ä½œçš„ç¥¨æ•°åˆ†åˆ«æ˜¯100ã€50å’Œ250ï¼Œæˆ‘ä»¬é€šè¿‡ç”¨ä¸€ä¸ªå¤§æ•°åˆ†åˆ«é™¤ä»¥ä»–ä»¬çš„ç¥¨æ•°æ¥è·å¾—æ¯ä¸ªè¿›ç¨‹çš„æ­¥é•¿ã€‚æ¯”å¦‚ç”¨10000é™¤ä»¥è¿™äº›ç¥¨æ•°å€¼ï¼Œå¾—åˆ°äº†3ä¸ªè¿›ç¨‹çš„æ­¥é•¿åˆ†åˆ«ä¸º100ã€200å’Œ40ã€‚æˆ‘ä»¬ç§°è¿™ä¸ªå€¼ä¸ºæ¯ä¸ªè¿›ç¨‹çš„æ­¥é•¿ï¼ˆstrideï¼‰ã€‚æ¯æ¬¡è¿›ç¨‹è¿è¡Œåï¼Œæˆ‘ä»¬ä¼šè®©å®ƒçš„è®¡æ•°å™¨ [ç§°ä¸ºè¡Œç¨‹ï¼ˆpassï¼‰å€¼] å¢åŠ å®ƒçš„æ­¥é•¿ï¼Œè®°å½•å®ƒçš„æ€»ä½“è¿›å±•ã€‚ å½“è¿›è¡Œè°ƒåº¦çš„æ—¶å€™ï¼Œå–å‡ºè¡Œç¨‹æœ€å°çš„è¿›ç¨‹è¿›è¡Œè°ƒåº¦ï¼Œå¦‚æœæœ‰å¤šä¸ªï¼Œåˆ™ä»ä¸­éšæœºé€‰æ‹©ä»»æ„ä¸€ä¸ªã€‚ ç¬¬10ç«  å¤šå¤„ç†å™¨è°ƒåº¦ï¼ˆé«˜çº§ï¼‰é—®é¢˜ ç¼“å­˜ä¸€è‡´æ€§ï¼š CPU1ä¿®æ”¹äº†è‡ªå·±çš„ç¼“å­˜ï¼Œä½†æ˜¯CPU2æ²¡æœ‰åŒæ­¥ä¿®æ”¹æ€ä¹ˆåŠï¼Ÿ ç¡¬ä»¶æä¾›äº†è¿™ä¸ªé—®é¢˜çš„åŸºæœ¬è§£å†³æ–¹æ¡ˆï¼šé€šè¿‡ç›‘æ§å†…å­˜è®¿é—®ï¼Œç¡¬ä»¶å¯ä»¥ä¿è¯è·å¾—æ­£ç¡®çš„æ•°æ®ï¼Œå¹¶ä¿è¯å…±äº«å†…å­˜çš„å”¯ä¸€æ€§ã€‚åœ¨åŸºäºæ€»çº¿çš„ç³»ç»Ÿä¸­ï¼Œä¸€ç§æ–¹å¼æ˜¯ä½¿ç”¨æ€»çº¿çª¥æ¢ï¼ˆbus snoopingï¼‰[G83]ã€‚æ¯ä¸ªç¼“å­˜éƒ½é€šè¿‡ç›‘å¬é“¾æ¥æ‰€æœ‰ç¼“å­˜å’Œå†…å­˜çš„æ€»çº¿ï¼Œæ¥å‘ç°å†…å­˜è®¿é—®ã€‚å¦‚æœCPUå‘ç°å¯¹å®ƒæ”¾åœ¨ç¼“å­˜ä¸­çš„æ•°æ®çš„æ›´æ–°ï¼Œä¼šä½œåºŸï¼ˆinvalidateï¼‰æœ¬åœ°å‰¯æœ¬ï¼ˆä»ç¼“å­˜ä¸­ç§»é™¤ï¼‰ï¼Œæˆ–æ›´æ–°ï¼ˆupdateï¼‰å®ƒï¼ˆä¿®æ”¹ä¸ºæ–°å€¼ï¼‰ã€‚å›å†™ç¼“å­˜ï¼Œå¦‚ä¸Šé¢æåˆ°çš„ï¼Œè®©äº‹æƒ…æ›´å¤æ‚ï¼ˆç”±äºå¯¹å†…å­˜çš„å†™å…¥ç¨åæ‰ä¼šçœ‹åˆ°ï¼‰ï¼Œä½ å¯ä»¥æƒ³æƒ³åŸºæœ¬æ–¹æ¡ˆå¦‚ä½•å·¥ä½œ å¹¶è¡Œ(å‘)é—®é¢˜ï¼š å¦‚æœçº¿ç¨‹1æ‰§è¡Œç¬¬ä¸€è¡Œï¼Œä¼šå°†headçš„å½“å‰å€¼å­˜å…¥å®ƒçš„tmpå˜é‡ã€‚å¦‚æœçº¿ç¨‹2æ¥ç€ä¹Ÿæ‰§è¡Œç¬¬ä¸€è¡Œï¼Œå®ƒä¹Ÿä¼šå°†åŒæ ·çš„headå€¼å­˜å…¥å®ƒè‡ªå·±çš„ç§æœ‰tmpå˜é‡ï¼ˆtmpåœ¨æ ˆä¸Šåˆ†é…ï¼Œå› æ­¤æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„ç§æœ‰å­˜å‚¨ï¼‰ã€‚å› æ­¤ï¼Œä¸¤ä¸ªçº¿ç¨‹ä¼šå°è¯•åˆ é™¤åŒä¸€ä¸ªé“¾è¡¨å¤´ï¼Œè€Œä¸æ˜¯æ¯ä¸ªçº¿ç¨‹ç§»é™¤ä¸€ä¸ªå…ƒç´ ï¼Œ 12345void rease()&#123; Node *tmp = head; // ... free(tmp);&#125; ç¼“å­˜äº²å’Œåº¦ï¼š ä¸€ä¸ªçº¿ç¨‹åœ¨æŸä¸ªCPUä¸Šè¿è¡Œï¼Œä»–ä¼šæœ‰ä¸€äº›ç¼“å­˜ï¼Œå¦‚æœä»–åˆ‡æ¢åˆ°å…¶ä»–CPUä¸Šï¼Œåˆ™ç¼“å­˜éœ€è¦é‡æ–°åŠ è½½ã€‚ å•é˜Ÿåˆ—å¤šå¤„ç†å™¨è°ƒåº¦ï¼ˆSingle QueueMultiprocessor Schedulingï¼ŒSQMS) ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå¤„ç†å™¨éœ€è¦æ‰§è¡Œæ—¶ï¼Œé”ä½é˜Ÿåˆ—ï¼Œç„¶åä»é˜Ÿåˆ—å–å‡ºä»»åŠ¡ï¼Œæœ€åé‡Šæ”¾é”ï¼Œä½†æ˜¯ä»–ä¸å¥½è§£å†³äº²å’Œåº¦é—®é¢˜å’Œé”çš„é—®é¢˜ã€‚ å¤šé˜Ÿåˆ—å¤šå¤„ç†å™¨è°ƒåº¦ï¼ˆMulti-QueueMultiprocessor Schedulingï¼ŒMQMSï¼‰å¤šä¸ªé˜Ÿåˆ—ï¼Œä¸€èˆ¬è€Œè¨€ï¼Œä¸€ä¸ªå¤„ç†å™¨ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå¦‚æœä»»åŠ¡æ•°é‡èƒ½æ•´é™¤CPUæ•°é‡ï¼Œè¿™å¾ˆå¥½åˆ†é…ï¼Œæ— æ³•æ•´é™¤çš„æ—¶å€™ï¼Œå°±æ¶‰åŠåˆ°äº†è´Ÿè½½ä¸å‡çš„é—®é¢˜ã€‚ æœ€æ˜æ˜¾çš„ç­”æ¡ˆæ˜¯è®©å·¥ä½œç§»åŠ¨ï¼Œè¿™ç§æŠ€æœ¯æˆ‘ä»¬ç§°ä¸ºè¿ç§»ï¼ˆmigrationï¼‰ã€‚é€šè¿‡å·¥ä½œçš„è·¨CPUè¿ç§»ï¼Œå¯ä»¥çœŸæ­£å®ç°è´Ÿè½½å‡è¡¡ã€‚ æ³¨æ„æˆ‘ä»¬è¦è®©ä»»åŠ¡è½®æµè¿ç§»ï¼Œå¦åˆ™å°±ä¸å¤ªå…¬å¹³ å¦ä¸€ä¸ªæ–¹æ³•æ˜¯çªƒå–å·¥ä½œé‡å°‘çš„é˜Ÿåˆ—ä¸å®šæœŸå·çœ‹å…¶ä»–é˜Ÿåˆ—ï¼Œå¦‚æœå‘ç°ä»–æ¯”è‡ªå·±å¤šï¼Œåˆ™å·å–ä¸€ä¸ªä»»åŠ¡ã€‚ å¦‚æœå¤ªé¢‘ç¹åœ°æ£€æŸ¥å…¶ä»–é˜Ÿåˆ—ï¼Œå°±ä¼šå¸¦æ¥è¾ƒé«˜çš„å¼€é”€ï¼Œå¯æ‰©å±•æ€§ä¸å¥½ï¼Œè€Œè¿™æ˜¯å¤šé˜Ÿåˆ—è°ƒåº¦æœ€åˆçš„å…¨éƒ¨ç›®æ ‡ï¼ç›¸åï¼Œå¦‚æœæ£€æŸ¥é—´éš”å¤ªé•¿ï¼Œåˆå¯èƒ½ä¼šå¸¦æ¥ä¸¥é‡çš„è´Ÿè½½ä¸å‡ã€‚ ç¬¬15ç«  æœºåˆ¶ï¼šåœ°å€è½¬æ¢åŠ¨æ€ï¼ˆåŸºäºç¡¬ä»¶ï¼‰é‡å®šä½å³åŸºå€åŠ ç•Œé™æœºåˆ¶ï¼Œæ‰€æœ‰çš„ç¨‹åºéƒ½è®¤ä¸ºè‡ªå·±çš„åœ°å€ç©ºé—´ä»0å¼€å§‹ï¼Œä½†æ˜¯å½“ä»–æ‰§è¡Œçš„æ—¶å€™ï¼Œæ“ä½œç³»ç»Ÿä¼šå†³å®šå…¶åœ¨ç‰©ç†å†…å­˜ä¸­çš„å®é™…åŠ è½½åœ°å€ï¼Œå¹¶å°†èµ·å§‹åœ°å€è®°å½•åœ¨åŸºå€å¯„å­˜å™¨ä¸­ã€‚ ç¬¬16ç«  åˆ†æ®µé—®é¢˜ï¼šæ ˆå’Œå †ä¹‹é—´ï¼Œæœ‰ä¸€å¤§å—â€œç©ºé—²â€ç©ºé—´ï¼Œé€ æˆäº†æµªè´¹ åœ¨ç¡¬ä»¶ä¸­ä½¿ç”¨ä¸‰å¯¹å¯„å­˜å™¨æ¥åˆ†åˆ«è®°å½•ä»£ç æ®µï¼Œå †å’Œæ ˆ é—®é¢˜ï¼š å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªåœ°å€æ˜¯ä»£ç æ®µï¼Œå †è¿˜æ˜¯æ ˆï¼Ÿ è™šæ‹Ÿåœ°å€å‰ä¸¤ä½è¡¨ç¤º é—®é¢˜ï¼š å¦‚ä½•å…±äº«ï¼Ÿ æ“ä½œç³»ç»Ÿä¸ºæ®µè®°å½•é¢å¤–ä¿¡æ¯ï¼Œ ç¬¬17ç«  ç©ºé—²ç©ºé—´ç®¡ç† è¦æ»¡è¶³å˜é•¿çš„åˆ†é…è¯·æ±‚ï¼Œåº”è¯¥å¦‚ä½•ç®¡ç†ç©ºé—²ç©ºé—´ï¼Ÿä»€ä¹ˆç­–ç•¥å¯ä»¥è®©ç¢ç‰‡æœ€å°åŒ–ï¼Ÿä¸åŒæ–¹æ³•çš„æ—¶é—´å’Œç©ºé—´å¼€é”€å¦‚ä½•ï¼Ÿ OSå¦‚ä½•çŸ¥é“freeçš„å†…å­˜æœ‰å¤šå¤§ï¼Ÿåœ¨Cä¸­ï¼Œæ¯å½“æˆ‘ä»¬ä½¿ç”¨mallocçš„æ—¶å€™ï¼ŒOSä¼šç»™æˆ‘ä»¬åˆ†é…ä¸€å—å†…å­˜ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨freeçš„æ—¶å€™ï¼Œè¿™å—å†…å­˜ä¼šè¢«é‡Šæ”¾ï¼Œç„¶è€Œè¿™ä¸ªæ—¶å€™OSå¦‚ä½•çŸ¥é“è¿™å—å†…å­˜æœ‰å¤šå¤§ï¼Œä»–è¯¥å¦‚ä½•æ¥é‡Šæ”¾å‘¢ï¼Ÿ å…¶å®mallocè¿”å›ç»™æˆ‘ä»¬çš„å†…å­˜æ˜¯å°äºOSç»™æˆ‘ä»¬çš„å†…å­˜çš„ï¼Œå¯ä»¥çœ‹åˆ°OSåœ¨è¿™å—å†…å­˜çš„å‰é¢åŠ äº†ä¸€äº›ä¿¡æ¯ï¼ŒåŒ…æ‹¬å†…å­˜çš„å¤§å°å’Œä¸€ä¸ªæ ¡éªŒéƒ¨åˆ†ã€‚ OSå¦‚ä½•ç»„ç»‡ç©ºé—²å†…å­˜ï¼Ÿæ¯å—å†…å­˜çš„å¼€å¤´éƒ½æœ‰ä¸€ä¸ªéƒ¨åˆ†ï¼ŒåŒ…æ‹¬è¿™å—å†…å­˜çš„å¤§å°ä»¥åŠä¸‹ä¸€å—å†…å­˜çš„åœ°å€ å†…å­˜åˆ†é…å’Œé‡Šæ”¾OSåˆ†é…å†…å­˜çš„æ—¶å€™ï¼Œä¼šåœ¨ä»–çš„å†…å­˜é“¾è¡¨ä¸­æ‰¾åˆ°ä¸€å—åˆé€‚çš„ï¼Œå°†å…¶åˆ‡å‰²å¹¶ç§»é™¤é“¾è¡¨åˆ†é…ç»™åº”ç”¨ç¨‹åºï¼Œå½“OSå›æ”¶çš„æ—¶å€™ï¼Œä¼šå°†å…¶æ”¾å›é“¾è¡¨ï¼Œä½†æ˜¯è¿™ä¸ªåŠæ³•ç»å†äº†é•¿æ—¶é—´çš„å†…å­˜ç®¡ç†ä»¥åï¼ŒOSçš„å†…å­˜å°†ä¼šä¸€å›¢ç³Ÿï¼Œè¿™ä¸ªæ—¶å€™æ“ä½œç³»ç»Ÿåˆä¼šåˆå¹¶ç›¸é‚»å—ï¼Œä¹‹åå†…å­˜åˆæˆä¸ºäº†ä¸€ä¸ªæ•´ä½“ã€‚ å¦‚ä½•é€‰æ‹©é“¾è¡¨ä¸­çš„å†…å­˜å—ï¼Ÿ åŒ¹é…ç®—æ³• å¤‡æ³¨ æœ€ä¼˜åŒ¹é… åœ¨æ‰€æœ‰å¯ä»¥åˆ†å‰²çš„èŠ‚ç‚¹ä¸­ï¼Œé€‰æ‹©å†…å­˜æœ€å°çš„é‚£ä¸ªèŠ‚ç‚¹ æœ€å·®åŒ¹é… åœ¨æ‰€æœ‰å¯ä»¥åˆ†å‰²çš„èŠ‚ç‚¹ä¸­ï¼Œé€‰æ‹©å†…å­˜æœ€å¤§çš„é‚£ä¸ªèŠ‚ç‚¹ é¦–æ¬¡åŒ¹é… å¯»æ‰¾è¿‡ç¨‹ä¸­ï¼Œå‘ç°çš„ç¬¬ä¸€ä¸ªèƒ½åŒ¹é…çš„èŠ‚ç‚¹ ä¸‹æ¬¡åŒ¹é… åœ¨é¦–æ¬¡åŒ¹é…çš„åŸºç¡€ä¸Šï¼Œæ¯æ¬¡æŸ¥è¯¢çš„é“¾è¡¨èµ·ç‚¹å°±æ˜¯ä¸Šä¸€æ¬¡åŒ¹é…çš„èŠ‚ç‚¹ æœ‰è¶£çš„åŒ¹é…ç®—æ³•åˆ†ç¦»ç©ºé—²åˆ—è¡¨ï¼š å¦‚æœæŸä¸ªåº”ç”¨ç¨‹åºç»å¸¸ç”³è¯·ä¸€ç§ï¼ˆæˆ–å‡ ç§ï¼‰å¤§å°çš„å†…å­˜ç©ºé—´ï¼Œé‚£å°±ç”¨ä¸€ä¸ªç‹¬ç«‹çš„åˆ—è¡¨ï¼Œåªç®¡ç†è¿™æ ·å¤§å°çš„å¯¹è±¡ã€‚å…¶ä»–å¤§å°çš„è¯·æ±‚éƒ½äº¤ç»™æ›´é€šç”¨çš„å†…å­˜åˆ†é…ç¨‹åºã€‚ ä¼™ä¼´ç³»ç»Ÿ: ç¬¬18ç«  åˆ†é¡µï¼šä»‹ç»é¡µè¡¨æ˜¯ä»€ä¹ˆï¼Œåœ¨å“ªé‡Œï¼Ÿç”¨ä¸€å¼ è¡¨ï¼Œå‚¨å­˜è™šæ‹Ÿåœ°å€åˆ°ç‰©ç†åœ°å€çš„æ˜ å°„ï¼Œå¾€å¾€è™šæ‹Ÿåœ°å€å’Œç‰©ç†åœ°å€çš„å‰å‡ ä½æ˜¯ä¸åŒçš„ï¼Œè¿™äº›ä¸åŒçš„ä½è¢«ç§°ä¸ºé¡µï¼Œè€Œå‰©ä¸‹çš„æˆä¸ºåç§»é‡ã€‚ä»è™šæ‹Ÿåœ°å€æ˜ å°„åˆ°ç‰©ç†åœ°å€åªéœ€è¦å°†å‰å‡ ä½è¿›è¡Œè½¬æ¢å³å¯ï¼Œè¿™å¼ è¡¨å°±å«åšé¡µè¡¨ã€‚ é¡µè¡¨å‚¨å­˜åœ¨å†…å­˜ä¸­ï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½æ‹¥æœ‰ä¸€ä»½è‡ªå·±çš„é¡µè¡¨ã€‚ é¡µè¡¨ä¸­æœ‰ä»€ä¹ˆé¡µè¡¨å¾€å¾€æ˜¯ä¸€ä¸ªæ•°ç»„æ˜ å°„ï¼Œæ‰€ä»¥æ²¡æœ‰ç‰©ç†å¶å¸§ï¼ˆæ•°ç»„ä¸‹æ ‡ï¼‰ ä»£å· æ„ä¹‰ å¤‡æ³¨ P å­˜åœ¨ä½ è¡¨ç¤ºè¯¥é¡µè¡¨æ˜¯å¦è¢«è¿›ç¨‹ç”³è¯·ä½¿ç”¨ R&#x2F;W è¯»å†™æƒé™ä½ è¡¨ç¤ºè¯¥é¡µé¢æƒé™æ˜¯å¯è¯»è¿˜æ˜¯å¯å†™ U&#x2F;S è®¿é—®æ˜¯å¦éœ€è¦ç‰¹æƒçº§ PWT PCD A è®¿é—®ä½ è¿‘æœŸæ˜¯å¦è®¿é—®è¿‡è¯¥é¡µ D è„ä½ è¯¥é¡µæ˜¯å¦è¢«å†™ PAT G ï¼Ÿ æ“ä½œç³»ç»Ÿè‡ªå®šä¹‰ä½¿ç”¨ PFN å¶å¸§ åˆ†é¡µå¾ˆæ…¢åˆ†é¡µæœºåˆ¶å¯¼è‡´ä¸å†…å­˜å‘ç”Ÿçš„äº¤äº’æ¬¡æ•°ç¿»å€äº†ï¼Œç¨‹åºæ›´æ…¢äº†ã€‚ ç¬¬19ç«  åˆ†é¡µï¼šå¿«é€Ÿåœ°å€è½¬æ¢ï¼ˆTLBï¼‰é«˜é€Ÿé¡µè¡¨ç¼“å†²åŒºï¼šåœ°å€è½¬æ¢æ—è·¯ç¼“å†²å­˜å‚¨å™¨ï¼ˆtranslation-lookasidebufferï¼‰ è¿™æ˜¯ä¸€ä¸ªç¡¬ä»¶ï¼Œä»–èƒ½ç¼“å­˜é¡µè¡¨åœ°å€è½¬åŒ–ï¼Œé€Ÿåº¦è¿œé«˜äºå†…å­˜è¯»å– TLBæœªå‘½ä¸­ TLBå’Œå…¶ä»–ç¼“å­˜ç›¸ä¼¼ï¼Œå‰ææ˜¯åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè½¬æ¢æ˜ å°„ä¼šåœ¨ç¼“å­˜ä¸­ï¼ˆå³å‘½ä¸­ï¼‰ã€‚å¦‚æœæ˜¯è¿™æ ·ï¼Œåªå¢åŠ äº†å¾ˆå°‘çš„å¼€é”€ï¼Œå› ä¸ºTLBå¤„ç†å™¨æ ¸å¿ƒé™„è¿‘ï¼Œè®¾è®¡çš„è®¿é—®é€Ÿåº¦å¾ˆå¿«ã€‚å¦‚æœTLBæœªå‘½ä¸­ï¼Œå°±ä¼šå¸¦æ¥å¾ˆå¤§çš„åˆ†é¡µå¼€é”€ã€‚å¿…é¡»è®¿é—®é¡µè¡¨æ¥æŸ¥æ‰¾è½¬æ¢æ˜ å°„ï¼Œå¯¼è‡´ä¸€æ¬¡é¢å¤–çš„å†…å­˜å¼•ç”¨ï¼ˆæˆ–è€…æ›´å¤šï¼Œå¦‚æœé¡µè¡¨æ›´å¤æ‚ï¼‰ã€‚å¦‚æœè¿™ç»å¸¸å‘ç”Ÿï¼Œç¨‹åºçš„è¿è¡Œå°±ä¼šæ˜¾è‘—å˜æ…¢ã€‚ç›¸å¯¹äºå¤§å¤šæ•°CPUæŒ‡ä»¤ï¼Œå†…å­˜è®¿é—®å¼€é”€å¾ˆå¤§ï¼ŒTLBæœªå‘½ä¸­å¯¼è‡´æ›´å¤šå†…å­˜è®¿é—®ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¸Œæœ›å°½å¯èƒ½é¿å…TLBæœªå‘½ä¸­ã€‚ ä¸€èˆ¬æ˜¯æ“ä½œç³»ç»Ÿæ¥å¤„ç†æœªå‘½ä¸­ï¼Œå‘ç”Ÿæœªå‘½ä¸­ï¼Œç¡¬ä»¶æŠ›å¼‚å¸¸ï¼Œè¿›å…¥å†…æ ¸ï¼Œé™·å…¥æ“ä½œç³»ç»Ÿï¼Œæ“ä½œç³»ç»Ÿæ›´æ–°TLBï¼Œè¿”å›ä¹‹å‰çš„æœªå‘½ä¸­ä»£ç è¿›è¡Œé‡è¯• é‡ç‚¹ç»†èŠ‚ï¼š è¿”å›è¿›å…¥é™·é˜±çš„é‚£æ¡ä»£ç é‡è¯•ã€‚ OSåƒä¸‡ä¸èƒ½åœ¨å¤„ç†TLBæ—¶åˆè§¦å‘æœªå‘½ä¸­ï¼Œè¿™å°†å¯¼è‡´æ— é™é€’å½’ã€‚ è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢é¡µè¡¨æ˜¯è¿›ç¨‹ç§æœ‰çš„ï¼Œå¦‚æœå‘ç”Ÿäº†è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œåˆ™TLBå…¨éƒ¨å˜ä¸ºæ— æ•ˆã€‚ ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æ—¶å€™æ¸…ç©ºTLBï¼Œè¿™æ˜¯ä¸€ä¸ªå¯è¡Œçš„è§£å†³æ–¹æ¡ˆï¼Œè¿›ç¨‹ä¸ä¼šå†è¯»åˆ°é”™è¯¯çš„åœ°å€æ˜ å°„ã€‚ä½†æ˜¯ï¼Œæœ‰ä¸€å®šå¼€é”€ï¼šæ¯æ¬¡è¿›ç¨‹è¿è¡Œï¼Œå½“å®ƒè®¿é—®æ•°æ®å’Œä»£ç é¡µæ—¶ï¼Œéƒ½ä¼šè§¦å‘TLBæœªå‘½ä¸­ã€‚å¦‚æœæ“ä½œç³»ç»Ÿé¢‘ç¹åœ°åˆ‡æ¢è¿›ç¨‹ï¼Œè¿™ç§å¼€é”€ä¼šå¾ˆé«˜ã€‚ ä¸ºäº†å‡å°‘è¿™ç§å¼€é”€ï¼Œä¸€äº›ç³»ç»Ÿå¢åŠ äº†ç¡¬ä»¶æ”¯æŒï¼Œå®ç°è·¨ä¸Šä¸‹æ–‡åˆ‡æ¢çš„TLBå…±äº«ã€‚æ¯”å¦‚æœ‰çš„ç³»ç»Ÿåœ¨TLBä¸­æ·»åŠ äº†ä¸€ä¸ªåœ°å€ç©ºé—´æ ‡è¯†ç¬¦ï¼ˆAddress Space Identifierï¼ŒASIDï¼‰ã€‚å¯ä»¥æŠŠASIDçœ‹ä½œæ˜¯è¿›ç¨‹æ ‡è¯†ç¬¦ï¼ˆProcess Identifierï¼ŒPIDï¼‰ï¼Œä½†é€šå¸¸æ¯”PIDä½æ•°å°‘ï¼ˆPIDä¸€èˆ¬32ä½ï¼ŒASIDä¸€èˆ¬æ˜¯8ä½ï¼‰ã€‚ TLBé¡¹ä¸­æœ‰ä»€ä¹ˆTLBæ˜¯å¹¶è¡Œç¡¬ä»¶ï¼Œä»–å¯ä»¥å¹¶è¡ŒæŸ¥æ‰¾ ä»£å· æ„ä¹‰ å¤‡æ³¨ VPN R&#x2F;W å…¨å±€ä½ æ˜¯å¦å…¨å±€å…±äº« PWT è¿›ç¨‹ç©ºé—´ å±äºå“ªä¸ªè¿›ç¨‹ PFN C ä¸€è‡´ä½ å†³å®šç¡¬ä»¶å¦‚ä½•ç¼“å­˜ D è„ä½ æ˜¯å¦è¢«å†™å…¥æ–°æ•°æ® V æœ‰æ•ˆä½ è¯¥æ˜ å°„æ˜¯å¦æœ‰æ•ˆï¼ˆæ³¨æ„åŒºåˆ«é¡µè¡¨çš„å­˜åœ¨ä½ï¼‰ ç¬¬20ç«  åˆ†é¡µï¼šè¾ƒå°çš„è¡¨ é¡µè¡¨å¤ªå¤§ï¼Œå› æ­¤æ¶ˆè€—çš„å†…å­˜å¤ªå¤šã€‚ å‡è®¾ä¸€ä¸ª32ä½åœ°å€ç©ºé—´ï¼ˆ232å­—èŠ‚ï¼‰ï¼Œ4KBï¼ˆ212å­—èŠ‚ï¼‰çš„é¡µå’Œä¸€ä¸ª4å­—èŠ‚çš„é¡µè¡¨é¡¹ã€‚ä¸€ä¸ªåœ°å€ç©ºé—´ä¸­å¤§çº¦æœ‰ä¸€ç™¾ä¸‡ä¸ªè™šæ‹Ÿé¡µé¢ï¼ˆ232&#x2F;212ï¼‰ã€‚ä¹˜ä»¥é¡µè¡¨é¡¹çš„å¤§å°ï¼Œä½ ä¼šå‘ç°é¡µè¡¨å¤§å°ä¸º4MBã€‚ ä½¿ç”¨æ›´å¤§çš„é¡µ è¿™ç§æ–¹æ³•çš„ä¸»è¦é—®é¢˜åœ¨äºï¼Œå¤§å†…å­˜é¡µä¼šå¯¼è‡´æ¯é¡µå†…çš„æµªè´¹ï¼Œè¿™è¢«ç§°ä¸ºå†…éƒ¨ç¢ç‰‡ï¼ˆinternalfragmentationï¼‰é—®é¢˜ ç»“åˆåˆ†æ®µ æˆ‘ä»¬å¯èƒ½æœ‰3ä¸ªé¡µè¡¨ï¼Œåœ°å€ç©ºé—´çš„ä»£ç ã€å †å’Œæ ˆéƒ¨åˆ†å„æœ‰ä¸€ä¸ª æ‚åˆæ–¹æ¡ˆçš„å…³é”®åŒºåˆ«åœ¨äºï¼Œæ¯ä¸ªåˆ†æ®µéƒ½æœ‰ç•Œé™å¯„å­˜å™¨ï¼Œæ¯ä¸ªç•Œé™å¯„å­˜å™¨ä¿å­˜äº†æ®µä¸­æœ€å¤§æœ‰æ•ˆé¡µçš„å€¼ã€‚ åˆ†æ®µå¹¶ä¸åƒæˆ‘ä»¬éœ€è¦çš„é‚£æ ·çµæ´»ï¼Œå› ä¸ºå®ƒå‡å®šåœ°å€ç©ºé—´æœ‰ä¸€å®šçš„ä½¿ç”¨æ¨¡å¼ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæœ‰ä¸€ä¸ªå¤§è€Œç¨€ç–çš„å †ï¼Œä»ç„¶å¯èƒ½å¯¼è‡´å¤§é‡çš„é¡µè¡¨æµªè´¹ã€‚ å¤šçº§é¡µè¡¨åˆ†é…æ›´å¤šçº§çš„é¡µè¡¨ï¼Œè¿™æ˜¯ä½¿ç”¨æ—¶é—´æ¢ç©ºé—´ åå‘é¡µè¡¨è®°å½•ç‰©ç†é¡µæ˜ å°„åˆ°è™šæ‹Ÿé¡µï¼Œè€Œä¸æ˜¯è™šæ‹Ÿé¡µæ˜ å°„åˆ°ç‰©ç†é¡µ ç¬¬21ç«  è¶…è¶Šç‰©ç†å†…å­˜ï¼šæœºåˆ¶æˆ‘ä»¬çš„å†…å­˜å§‹ç»ˆæ˜¯æœ‰é™çš„ï¼Œå¦‚ä½•è¶…è¶Šè¿™ä¸ªé™åˆ¶ï¼Œä¸ºåº”ç”¨ç¨‹åºæä¾›æ— é™ç©ºé—´çš„å‡è±¡å‘¢ï¼Ÿ æ“ä½œç³»ç»Ÿå¦‚ä½•åˆ©ç”¨å¤§è€Œæ…¢çš„è®¾å¤‡ï¼Œé€æ˜åœ°æä¾›å·¨å¤§è™šæ‹Ÿåœ°å€ç©ºé—´çš„å‡è±¡ï¼Ÿ æ“ä½œç³»ç»Ÿåˆ©ç”¨å¤§è€Œæ…¢çš„ç£ç›˜å’Œå†…å­˜ä¸­çš„æ•°æ®è¿›è¡Œäº¤æ¢ï¼Œå€Ÿæ­¤å®ç°äº†è¶…è¶Šç‰©ç†å†…å­˜çš„ç›®çš„ã€‚ é¡µé”™è¯¯ å¦‚æœä¸€ä¸ªé¡µä¸å­˜åœ¨ï¼Œå®ƒå·²è¢«äº¤æ¢åˆ°ç¡¬ç›˜ï¼Œåœ¨å¤„ç†é¡µé”™è¯¯çš„æ—¶å€™ï¼Œæ“ä½œç³»ç»Ÿéœ€è¦å°†è¯¥é¡µäº¤æ¢åˆ°å†…å­˜ä¸­ã€‚é‚£ä¹ˆï¼Œé—®é¢˜æ¥äº†ï¼šæ“ä½œç³»ç»Ÿå¦‚ä½•çŸ¥é“æ‰€éœ€çš„é¡µåœ¨å“ªå„¿ï¼Ÿåœ¨è®¸å¤šç³»ç»Ÿä¸­ï¼Œé¡µè¡¨æ˜¯å­˜å‚¨è¿™äº›ä¿¡æ¯æœ€è‡ªç„¶çš„åœ°æ–¹ã€‚å› æ­¤ï¼Œæ“ä½œç³»ç»Ÿå¯ä»¥ç”¨PTEä¸­çš„æŸäº›ä½æ¥å­˜å‚¨ç¡¬ç›˜åœ°å€ï¼Œè¿™äº›ä½é€šå¸¸ç”¨æ¥å­˜å‚¨åƒé¡µçš„PFNè¿™æ ·çš„æ•°æ®ã€‚å½“æ“ä½œç³»ç»Ÿæ¥æ”¶åˆ°é¡µé”™è¯¯æ—¶ï¼Œå®ƒä¼šåœ¨PTEä¸­æŸ¥æ‰¾åœ°å€ï¼Œå¹¶å°†è¯·æ±‚å‘é€åˆ°ç¡¬ç›˜ï¼Œå°†é¡µè¯»å–åˆ°å†…å­˜ä¸­ã€‚ äº¤æ¢ä½•æ—¶å‘ç”Ÿï¼ŸOSä¸ä¼šç­‰åˆ°å†…å­˜å®Œå…¨æ»¡äº†æ‰è¿›è¡Œäº¤æ¢ï¼ŒOSå¾€å¾€ä¼šé¢„ç•™BUFã€‚ ä¸ºäº†ä¿è¯æœ‰å°‘é‡çš„ç©ºé—²å†…å­˜ï¼Œå¤§å¤šæ•°æ“ä½œç³»ç»Ÿä¼šè®¾ç½®é«˜æ°´ä½çº¿ï¼ˆHigh Watermarkï¼ŒHWï¼‰å’Œä½æ°´ä½çº¿ï¼ˆLow Watermarkï¼ŒLWï¼‰ï¼Œæ¥å¸®åŠ©å†³å®šä½•æ—¶ä»å†…å­˜ä¸­æ¸…é™¤é¡µã€‚åŸç†æ˜¯è¿™æ ·ï¼šå½“æ“ä½œç³»ç»Ÿå‘ç°æœ‰å°‘äºLWä¸ªé¡µå¯ç”¨æ—¶ï¼Œåå°è´Ÿè´£é‡Šæ”¾å†…å­˜çš„çº¿ç¨‹ä¼šå¼€å§‹è¿è¡Œï¼Œç›´åˆ°æœ‰HWä¸ªå¯ç”¨çš„ç‰©ç†é¡µã€‚è¿™ä¸ªåå°çº¿ç¨‹æœ‰æ—¶ç§°ä¸ºäº¤æ¢å®ˆæŠ¤è¿›ç¨‹ï¼ˆswap daemonï¼‰æˆ–é¡µå®ˆæŠ¤è¿›ç¨‹ï¼ˆpage daemonï¼‰[æ’å›¾]ï¼Œå®ƒç„¶åä¼šå¾ˆå¼€å¿ƒåœ°è¿›å…¥ä¼‘çœ çŠ¶æ€ï¼Œå› ä¸ºå®ƒæ¯•ç«Ÿä¸ºæ“ä½œç³»ç»Ÿé‡Šæ”¾äº†ä¸€äº›å†…å­˜ ç¬¬22ç«  è¶…è¶Šç‰©ç†å†…å­˜ï¼šç­–ç•¥æœ€ä¼˜æ›¿æ¢ç­–ç•¥åªå­˜åœ¨äºç†è®ºä¸Šçš„ç­–ç•¥ï¼Œä»–çš„ä½œç”¨æ˜¯è¯„ä¼°å…¶ä»–ç®—æ³• FIFOå…ˆè¿›å…ˆå‡º è¡¥å……ï¼šBeladyçš„å¼‚å¸¸Beladyï¼ˆæœ€ä¼˜ç­–ç•¥å‘æ˜è€…ï¼‰åŠå…¶åŒäº‹å‘ç°äº†ä¸€ä¸ªæœ‰æ„æ€çš„å¼•ç”¨åºåˆ—[BNS69]ã€‚å†…å­˜å¼•ç”¨é¡ºåºæ˜¯ï¼š1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ1ï¼Œ2ï¼Œ5ï¼Œ1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ã€‚ä»–ä»¬æ­£åœ¨ç ”ç©¶çš„æ›¿æ¢ç­–ç•¥æ˜¯FIFOã€‚æœ‰è¶£çš„é—®é¢˜ï¼šå½“ç¼“å­˜å¤§å°ä»3å˜æˆ4æ—¶ï¼Œç¼“å­˜å‘½ä¸­ç‡å¦‚ä½•å˜åŒ–ï¼Ÿ ä¸€èˆ¬æ¥è¯´ï¼Œå½“ç¼“å­˜å˜å¤§æ—¶ï¼Œç¼“å­˜å‘½ä¸­ç‡æ˜¯ä¼šæé«˜çš„ï¼ˆå˜å¥½ï¼‰ã€‚ä½†åœ¨è¿™ä¸ªä¾‹å­ï¼Œé‡‡ç”¨FIFOï¼Œå‘½ä¸­ç‡åè€Œä¸‹é™äº†ï¼ä½ å¯ä»¥è‡ªå·±è®¡ç®—ä¸€ä¸‹ç¼“å­˜å‘½ä¸­å’Œæœªå‘½ä¸­æ¬¡æ•°ã€‚è¿™ç§å¥‡æ€ªçš„ç°è±¡è¢«ç§°ä¸ºBeladyçš„å¼‚å¸¸ï¼ˆBeladyâ€™s Anomalyï¼‰ã€‚ å…¶ä»–ä¸€äº›ç­–ç•¥ï¼Œæ¯”å¦‚LRUï¼Œä¸ä¼šé‡åˆ°è¿™ä¸ªé—®é¢˜ã€‚å¯ä»¥çŒœçŒœä¸ºä»€ä¹ˆï¼Ÿäº‹å®è¯æ˜ï¼ŒLRUå…·æœ‰æ‰€è°“çš„æ ˆç‰¹æ€§ï¼ˆstack propertyï¼‰[M+70]ã€‚å¯¹äºå…·æœ‰è¿™ä¸ªæ€§è´¨çš„ç®—æ³•ï¼Œå¤§å°ä¸ºN + 1çš„ç¼“å­˜è‡ªç„¶åŒ…æ‹¬å¤§å°ä¸ºNçš„ç¼“å­˜çš„å†…å®¹ã€‚å› æ­¤ï¼Œå½“å¢åŠ ç¼“å­˜å¤§å°æ—¶ï¼Œç¼“å­˜å‘½ä¸­ç‡è‡³å°‘ä¿è¯ä¸å˜ï¼Œæœ‰å¯èƒ½æé«˜ã€‚å…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰å’Œéšæœºï¼ˆRandomï¼‰ç­‰æ˜¾ç„¶æ²¡æœ‰æ ˆç‰¹æ€§ï¼Œå› æ­¤å®¹æ˜“å‡ºç°å¼‚å¸¸è¡Œä¸ºã€‚ éšæœºéšæœºé€‰æ‹©ä¸€ä¸ªæ¢å‡ºå» LRUæœ€è¿‘æœ€å°‘ä½¿ç”¨çš„é¡µé¢ï¼Œåœ¨æœ€è¿‘çš„ä¸€æ®µæ—¶é—´è®¿é—®çš„é¡µé¢ä¸­ï¼Œè¿‡äº†å¾ˆä¹…éƒ½æ²¡æœ‰è®¿é—®çš„é‚£ä¸ªé¡µé¢ï¼Œè¸¢å‡ºå»ï¼Œè¿™ä¸ªç®—æ³•é€Ÿåº¦è¾ƒæ…¢ è¿‘ä¼¼LRUï¼ˆæ—¶é’Ÿç®—æ³•ï¼‰ æ¯å½“é¡µè¢«å¼•ç”¨ï¼ˆå³è¯»æˆ–å†™ï¼‰æ—¶ï¼Œç¡¬ä»¶å°†ä½¿ç”¨ä½è®¾ç½®ä¸º1ã€‚ä½†æ˜¯ï¼Œç¡¬ä»¶ä¸ä¼šæ¸…é™¤è¯¥ä½ï¼ˆå³å°†å…¶è®¾ç½®ä¸º0ï¼‰ï¼Œè¿™ç”±æ“ä½œç³»ç»Ÿè´Ÿè´£ æ—¶é’ŸæŒ‡é’ˆï¼ˆclock handï¼‰å¼€å§‹æ—¶æŒ‡å‘æŸä¸ªç‰¹å®šçš„é¡µï¼ˆå“ªä¸ªé¡µä¸é‡è¦ï¼‰ã€‚å½“å¿…é¡»è¿›è¡Œé¡µæ›¿æ¢æ—¶ï¼Œæ“ä½œç³»ç»Ÿæ£€æŸ¥å½“å‰æŒ‡å‘çš„é¡µPçš„ä½¿ç”¨ä½æ˜¯1è¿˜æ˜¯0ã€‚å¦‚æœæ˜¯1ï¼Œåˆ™æ„å‘³ç€é¡µé¢Pæœ€è¿‘è¢«ä½¿ç”¨ï¼Œå› æ­¤ä¸é€‚åˆè¢«æ›¿æ¢ã€‚ç„¶åï¼ŒPçš„ä½¿ç”¨ä½è®¾ç½®ä¸º0ï¼Œæ—¶é’ŸæŒ‡é’ˆé€’å¢åˆ°ä¸‹ä¸€é¡µï¼ˆP + 1ï¼‰ã€‚è¯¥ç®—æ³•ä¸€ç›´æŒç»­åˆ°æ‰¾åˆ°ä¸€ä¸ªä½¿ç”¨ä½ä¸º0çš„é¡µï¼Œä½¿ç”¨ä½ä¸º0æ„å‘³ç€è¿™ä¸ªé¡µæœ€è¿‘æ²¡æœ‰è¢«ä½¿ç”¨è¿‡ è„é¡µé—®é¢˜å¦‚æœä¸€ä¸ªé¡µè¢«ä¿®æ”¹ï¼Œä»–ä¼šå˜æˆè„é¡µï¼Œè¸¢å‡ºå»å¿…é¡»å†™å›ç£ç›˜ï¼Œè¿™éå¸¸æ˜‚è´µ ä¸ºäº†æ”¯æŒè¿™ç§è¡Œä¸ºï¼Œç¡¬ä»¶åº”è¯¥åŒ…æ‹¬ä¸€ä¸ªä¿®æ”¹ä½ï¼ˆmodified bitï¼Œåˆåè„ä½ï¼Œdirty bitï¼‰ã€‚æ¯æ¬¡å†™å…¥é¡µæ—¶éƒ½ä¼šè®¾ç½®æ­¤ä½ï¼Œå› æ­¤å¯ä»¥å°†å…¶åˆå¹¶åˆ°é¡µé¢æ›¿æ¢ç®—æ³•ä¸­ã€‚ä¾‹å¦‚ï¼Œæ—¶é’Ÿç®—æ³•å¯ä»¥è¢«æ”¹å˜ï¼Œä»¥æ‰«ææ—¢æœªä½¿ç”¨åˆå¹²å‡€çš„é¡µå…ˆè¸¢å‡ºã€‚ æŠ–åŠ¨å½“å†…å­˜è¶…é¢çš„æ—¶å€™ï¼Œç³»ç»Ÿç–¯ç‹‚çš„è¿›è¡Œæ¢é¡µï¼Œè¿™è¢«ç§°ä¸ºæŠ–åŠ¨ã€‚ç°ä»£æ“ä½œç³»ç»Ÿä¸€æ—¦æ£€æµ‹åˆ°æŠ–åŠ¨ï¼Œå°±ä¼šå°†æŸäº›å†…å­˜å¯†é›†å‹è¿›ç¨‹æ€æ­»ã€‚ ç¬¬28ç«  é”ç¬”è€…ï¼š ä»è¿™ä¸€ç« å¼€å§‹ï¼Œåˆ°å¹¶å‘ç»“æŸï¼Œéƒ½å¾ˆéš¾ æˆ‘ä»¬å¸Œæœ›åŸå­å¼æ‰§è¡Œä¸€ç³»åˆ—æŒ‡ä»¤ï¼Œä½†ç”±äºå•å¤„ç†å™¨ä¸Šçš„ä¸­æ–­ï¼ˆæˆ–è€…å¤šä¸ªçº¿ç¨‹åœ¨å¤šå¤„ç†å™¨ä¸Šå¹¶å‘æ‰§è¡Œï¼‰ï¼Œæˆ‘ä»¬åšä¸åˆ° å¦‚ä½•è¯„ä»·ä¸€ä¸ªé”ï¼Ÿé¦–å…ˆæ˜¯é”èƒ½å¦å®Œæˆå®ƒçš„åŸºæœ¬ä»»åŠ¡ï¼Œå³äº’æ–¥ï¼›ç¬¬äºŒæ˜¯å…¬å¹³æ€§ï¼›æœ€åæ˜¯æ€§èƒ½ æ§åˆ¶ä¸­æ–­æ—©æœŸçš„è§£å†³æ–¹æ¡ˆæ˜¯åœ¨ä¸´ç•ŒåŒºå…³é—­ä¸­æ–­ã€‚ä»–æœ‰å¾ˆå¤šç¼ºç‚¹ è¿™ç§æ–¹æ³•è¦æ±‚æˆ‘ä»¬å…è®¸æ‰€æœ‰è°ƒç”¨çº¿ç¨‹æ‰§è¡Œç‰¹æƒæ“ä½œï¼Œè¿™ä¼šå¯¼è‡´å¾ˆå¤šéº»çƒ¦ï¼Œè´ªå©ªçš„çº¿ç¨‹ç‹¬å CPUï¼Œæ¶æ„çš„ç¨‹åºæ­»å¾ªç¯ï¼Œç³»ç»Ÿå°±å´©æºƒäº† æ— æ³•æ”¯æŒå¤šCPU ä¸¢å¤±ä¸­æ–­ æ•ˆç‡ä½ä¸‹ Petersonç®—æ³• ä¸€æ®µæ—¶é—´ä»¥æ¥ï¼Œå‡ºäºæŸç§åŸå› ï¼Œå¤§å®¶éƒ½çƒ­è¡·äºç ”ç©¶ä¸ä¾èµ–ç¡¬ä»¶æ”¯æŒçš„é”æœºåˆ¶ã€‚åæ¥è¿™äº›å·¥ä½œéƒ½æ²¡æœ‰å¤ªå¤šæ„ä¹‰ï¼Œå› ä¸ºåªéœ€è¦å¾ˆå°‘çš„ç¡¬ä»¶æ”¯æŒï¼Œå®ç°é”å°±ä¼šå®¹æ˜“å¾ˆå¤šï¼ˆå®é™…åœ¨å¤šå¤„ç†å™¨çš„æ—©æœŸï¼Œå°±æœ‰è¿™äº›ç¡¬ä»¶æ”¯æŒï¼‰ã€‚è€Œä¸”ä¸Šé¢æåˆ°çš„æ–¹æ³•æ— æ³•è¿è¡Œåœ¨ç°ä»£ç¡¬ä»¶ï¼ˆåº”ä¸ºæ¾æ•£å†…å­˜ä¸€è‡´æ€§æ¨¡å‹ï¼‰ï¼Œå¯¼è‡´å®ƒä»¬æ›´åŠ æ²¡æœ‰ç”¨å¤„ã€‚æ›´å¤šçš„ç›¸å…³ç ”ç©¶ä¹Ÿæ¹®æ²¡åœ¨å†å²ä¸­â€¦â€¦ Test And Setè¿™æ˜¯ä¸€ä¸ªæ“ä½œç³»ç»ŸåŸå­æŒ‡ä»¤ï¼ŒæŠŠä¸€ä¸ªå†…å­˜å˜é‡èµ‹äºˆæ–°çš„å€¼ï¼Œå¹¶è¿”å›æ—§çš„å€¼ã€‚ ç„¶åæˆ‘ä»¬å°±å¯ä»¥å®ç°é”äº† 12345678910111213141516171819202122232425// æ“ä½œç³»ç»ŸåŸè¯­ä¼ªä»£ç int testAndSet(int*ptr, int value) &#123; int old = *ptr; *ptr = value; return old;&#125;// é”struct TasLock &#123; int flag; TasLock() &#123; flag = 0; &#125; void lock() &#123; while (testAndSet(&amp;flag, 1) == 1)&#123; // do nothing; &#125; &#125; void unlock() &#123; flag = 0; &#125;&#125;; è¿™ä¸ªé”æ˜¯æ­£ç¡®çš„ï¼Œä½†æ˜¯ä»–æ²¡åŠæ³•ä¿è¯å…¬å¹³ï¼Œä¼šå‡ºç°é¥¿æ­»ï¼Œåœ¨å•CPUä¸Šä»–çš„æ€§èƒ½å¾ˆå·®ï¼Œå¦‚æœä¸€ä¸ªçº¿ç¨‹è·å–é”å¤±è´¥ï¼Œä»–ä¼šä¸€ç›´è‡ªæ—‹ï¼Œç›´åˆ°æ—¶é—´ç‰‡ç”¨å®Œï¼Œåœ¨å¤šCPUï¼ˆçº¿ç¨‹æ•°&#x3D;CPUæ•°ï¼‰ä¸Šè¡¨ç°ä¸é”™ Compare And Swapæ¯”è¾ƒå¹¶äº¤æ¢ï¼Œå¦‚æœå’Œæ—§å€¼ç›¸ç­‰ï¼Œå°±èµ‹å€¼ï¼Œå¦åˆ™ä»€ä¹ˆä¹Ÿä¸åš è¿™ä¸ªç®—æ³•å’Œä¸Šé¢çš„test and setåŒºåˆ«å…¶å®ä¸å¤§ 123456789101112131415161718192021222324252627// æ“ä½œç³»ç»ŸåŸè¯­ä¼ªä»£ç int cas(int*ptr, int expected, int value) &#123; int old = *ptr; if(old == expected) &#123; *ptr = value; &#125; return old;&#125;// é”struct CasLock &#123; int flag; CasLock() &#123; flag = 0; &#125; void lock() &#123; while (cas(&amp;flag, 0, 1) == 1)&#123; // do nothing; &#125; &#125; void unlock() &#123; flag = 0; &#125;&#125;; é“¾æ¥çš„åŠ è½½å’Œæ¡ä»¶å¼å­˜å‚¨æŒ‡ä»¤è¿™ä¸ªç®—æ³•å’Œtest and setä¹Ÿæ˜¯ä¸€æ · 123456789101112131415161718192021222324252627282930313233343536// æ“ä½œç³»ç»ŸåŸè¯­ä¼ªä»£ç int loadLinked(int *ptr) &#123; return *ptr;&#125;int storeConditional(int *ptr, int value) &#123; if(è‡ªä»ptrè¢«loadLinkedä»¥æ¥ï¼Œä»–æ²¡æœ‰æ›´æ–°è¿‡) &#123; *ptr = value; return 1; // success &#125; else &#123; return 0; // failed &#125;&#125;// é”struct LoadLinkeLock &#123; int flag; LoadLinkeLock() &#123; flag = 0; &#125; void lock() &#123; while (true)&#123; while (loadLinked(&amp;flag) == 1) &#123; // do noting &#125; if(storeConditional(&amp;flag, 1) == 1) &#123; break; &#125; &#125; &#125; void unlock() &#123; flag = 0; &#125;&#125;; Fetch And Addè¿”å›æ—§å€¼å¹¶è®©è¿™ä¸ªå€¼åŠ ä¸€ 12345678910111213141516171819202122232425262728// æ“ä½œç³»ç»ŸåŸè¯­ä¼ªä»£ç int fetchAndAdd(int *ptr) &#123; int old = *ptr; *ptr = old + 1; return old;&#125;// é”struct FAALock &#123; int turn; int ticket; FAALock() &#123; turn = 1; ticket = 0; &#125; void lock() &#123; int myTurn = fetchAndAdd(ticket); while(turn != myTurn) &#123; // do noting &#125; &#125; void unlock() &#123; fetchAndAdd(turn); &#125;&#125;; è¿™ä¸ªæ–¹æ³•å…¶å®æ¯”è¾ƒå‰å®³ï¼Œä»–èƒ½ä¿è¯å…¬å¹³ è‡ªæ—‹å¤ªè´¹CPUäº†è®©æˆ‘ç¨å¾®æ”¹è¿›ä¸€ä¸‹testAndSetçš„lockå‡½æ•°ï¼Œæ–°çš„æ–¹æ³•é¿å…äº†è‡ªæ—‹ï¼Œä½†æ˜¯ä»–ä¾ç„¶ä¼šå‡ºç°é¥¥é¥¿ï¼Œä¾‹å¦‚ä¸€ä¸ªçº¿ç¨‹æ¯æ¬¡éƒ½yieldï¼Œå¦ä¸€ä¸ªçº¿ç¨‹ä¸€ç›´è¿›å‡ºä¸´ç•ŒåŒº 123456789101112// ç»§æ‰¿TasLock struct YieldTasLock : TasLock &#123; YieldTasLock() &#123; supper(); &#125; // Override void lock() &#123; while (testAndSet(&amp;flag, 1) == 1)&#123; yield(); // ä¸»åŠ¨æ”¾å¼ƒCPUï¼Œåˆ‡æ¢åˆ°å…¶ä»–çº¿ç¨‹ &#125; &#125;&#125; ä¼‘çœ é˜Ÿåˆ—æˆ‘ä»¬å¯ä»¥æ”¹è¿›TasLocké”ï¼Œ æ”¹è¿›ä¹‹åçš„é”äº§ç”Ÿé¥¥é¥¿çš„æ¦‚ç‡å˜å°äº†ï¼Œå”¯ä¸€çš„è‡ªæ—‹å‡ºç°åœ¨å†…ç½®tasLockä¸­ï¼Œä½†æ˜¯è¿™ä¸ªé”ç­‰å¾…çš„æ—¶é—´æ˜¯æœ‰é™çš„ 12345678910111213141516171819202122232425262728293031323334353637struct SleepQueueLock &#123; int flag; TasLock *tasLock; Queue *queue; SleepQueueLock() &#123; flag = 0; tasLock = new TasLock(); queue = new Queue(); &#125; void lock() &#123; tasLock.lock(); // è‡ªæ—‹è·å–é” // è¿›å…¥ä¸´ç•ŒåŒº if(flag == 0) &#123; flag = 1; tasLock.unlock(); // ç¦»å¼€ä¸´ç•ŒåŒºè§£é” &#125; else &#123; queue.add(getThreadId()); // æŠŠçº¿ç¨‹åŠ å…¥é˜Ÿåˆ— tasLock.unlock(); // ç¦»å¼€ä¸´ç•ŒåŒºè§£é”ï¼Œ å…ˆè§£é”åparkï¼Œå¦åˆ™æ­»é” // å¦‚æœæ³¨é‡Šæ‰€åœ¨çš„è¿™ä¸€è¡Œå‘ç”Ÿäº†ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œé‚£ä¹ˆè¿™ä¸ªçº¿ç¨‹å°±å¯èƒ½ä¼šæ°¸è¿œæ²‰ç¡äº† park(); // çº¿ç¨‹ä¼‘çœ  ï¼Œ &#125; &#125; void unlock() &#123; tasLock.lock(); // è‡ªæ—‹è·å–é” // è¿›å…¥ä¸´ç•ŒåŒº if(queue.isEmpty()) &#123; flag = 0 &#125; else &#123; // è¿™é‡Œä¸ç”¨è®¾ç½®flag=0 unpark(queue.remove()); //å”¤é†’ä¸€ä¸ªåœ¨é˜Ÿåˆ—ä¸­çš„x &#125; tasLock.unlock(); // ç¦»å¼€ä¸´ç•ŒåŒºè§£é” &#125;&#125; æœ€åï¼Œä½ å¯èƒ½æ³¨æ„åˆ°è§£å†³æ–¹æ¡ˆä¸­çš„ç«äº‰æ¡ä»¶ï¼Œå°±åœ¨park()è°ƒç”¨ä¹‹å‰ã€‚å¦‚æœä¸å‡‘å·§ï¼Œä¸€ä¸ªçº¿ç¨‹å°†è¦parkï¼Œå‡å®šå®ƒåº”è¯¥ç¡åˆ°é”å¯ç”¨æ—¶ã€‚è¿™æ—¶åˆ‡æ¢åˆ°å¦ä¸€ä¸ªçº¿ç¨‹ï¼ˆæ¯”å¦‚æŒæœ‰é”çš„çº¿ç¨‹ï¼‰ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´éº»çƒ¦ã€‚æ¯”å¦‚ï¼Œå¦‚æœè¯¥çº¿ç¨‹éšåé‡Šæ”¾äº†é”ã€‚æ¥ä¸‹æ¥ç¬¬ä¸€ä¸ªçº¿ç¨‹çš„parkä¼šæ°¸è¿œç¡ä¸‹å»ï¼ˆå¯èƒ½ï¼‰ã€‚è¿™ç§é—®é¢˜æœ‰æ—¶ç§°ä¸ºå”¤é†’&#x2F;ç­‰å¾…ç«äº‰ï¼ˆwakeup&#x2F;waiting raceï¼‰ã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬éœ€è¦é¢å¤–çš„å·¥ä½œã€‚Solarisé€šè¿‡å¢åŠ äº†ç¬¬ä¸‰ä¸ªç³»ç»Ÿè°ƒç”¨separk()æ¥è§£å†³è¿™ä¸€é—®é¢˜ã€‚é€šè¿‡setpark()ï¼Œä¸€ä¸ªçº¿ç¨‹è¡¨æ˜è‡ªå·±é©¬ä¸Šè¦parkã€‚å¦‚æœåˆšå¥½å¦ä¸€ä¸ªçº¿ç¨‹è¢«è°ƒåº¦ï¼Œå¹¶ä¸”è°ƒç”¨äº†unparkï¼Œé‚£ä¹ˆåç»­çš„parkè°ƒç”¨å°±ä¼šç›´æ¥è¿”å›ï¼Œè€Œä¸æ˜¯ä¸€ç›´ç¡çœ ã€‚ ä¸¤é˜¶æ®µé”å…ˆè‡ªæ—‹ä¸€æ®µæ—¶é—´ï¼Œå¦‚æœè¿˜æ˜¯æ²¡æœ‰è·å¾—é”ï¼Œå°±ç›´æ¥ç¡çœ ã€‚ ç¬¬29ç«  åŸºäºé”çš„å¹¶å‘æ•°æ®ç»“æ„å¹¶å‘è®¡æ•°å™¨12345678910111213141516171819202122struct Counter &#123; int value; Lock lock; Counter() &#123; value = 0; lock = new Lock(); &#125; void increment() &#123; lock.lock(); value ++; lock.unlock(); &#125; void get() &#123; lock.lock(); int res = value; lock.unlock(); return res; &#125;&#125; è¿™ä¸ªå¹¶å‘è®¡æ•°å™¨éµå¾ªäº†æœ€ç®€å•çš„ç»“æ„ï¼Œå³ç›´æ¥åŠ é”ã€‚ä»–å”¯ä¸€ä¸å¥½çš„åœ°æ–¹å°±æ˜¯ä»–çš„æ€§èƒ½å¤ªå·®ï¼Œå¹¶å‘åº¦å¾ˆä½ã€‚ æƒ°æ€§å¹¶å‘è®¡æ•°å™¨1234567891011121314151617181920212223242526272829303132333435struct LazyCounter &#123; int* threadValue; int lazyBounder; int value; Lock lock; LazyCounter(int threadNumber,int lazyBounder) &#123; threadValue = new int[threadNumber]; for (int i = 0; i &lt; threadNumber; i++) &#123; threadValue[i] = 0; &#125; this-&gt;lazyBounder = lazyBounder; value = 0; lock = new Lock(); &#125; void increment(int threadId) &#123; threadValue[threadId] ++; if(threadValue[threadId] = lazyBounder) &#123; lock.lock(); value += lazyBounder; lock.unlock(); threadValue[threadId] = 0; &#125; &#125; void get() &#123; lock.lock(); int res = value; lock.unlock(); return res; &#125;&#125; æƒ°æ€§å¹¶å‘è®¡æ•°å™¨ä¸ºæ¯ä¸€ä¸ªçº¿ç¨‹åˆ†é…äº†ä¸€ä¸ªè‡ªå·±çš„æƒ°æ€§ç´¯å’Œï¼Œåªæœ‰å½“è¿™ä¸ªç´¯å’Œæ‰“åˆ°äº†é˜ˆå€¼ä»¥åï¼Œæ‰ä¼šåŠ å…¥åˆ°å…¨å±€çš„ç´¯å’Œä¸­ã€‚è¿™ä¸ªæ•°æ®ç»“æ„æé«˜äº†å¹¶å‘åº¦ã€‚ å¹¶å‘é“¾è¡¨123456789101112131415161718192021222324struct List &#123; struct ListNode &#123; int value; Listnode* next; // ... å…¨å‚æ„é€ å‡½æ•° &#125;; ListNode* head; Lock* lock; // ... å…¨å‚æ„é€ å‡½æ•° void insert(int value) &#123; lock.lock(); ListNode* listNode = new ListNode(value, null); if (listNode == null) &#123; perror(&quot;æ²¡æœ‰è¶³å¤Ÿçš„ç©ºé—´&quot;); lock.unlock(); return -1; // failed &#125; listNode-&gt;next = head; head = listNode; lock.unlock(); &#125;&#125; ä»ä»£ç ä¸­å¯ä»¥çœ‹å‡ºï¼Œä»£ç æ’å…¥å‡½æ•°å…¥å£å¤„è·å–é”ï¼Œç»“æŸæ—¶é‡Šæ”¾é”ã€‚å¦‚æœnewå¤±è´¥ï¼ˆåœ¨æå°‘çš„æ—¶å€™ï¼‰ï¼Œä¼šæœ‰ä¸€ç‚¹å°é—®é¢˜ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä»£ç åœ¨æ’å…¥å¤±è´¥ä¹‹å‰ï¼Œå¿…é¡»é‡Šæ”¾é”ã€‚ äº‹å®è¡¨æ˜ï¼Œè¿™ç§å¼‚å¸¸æ§åˆ¶æµå®¹æ˜“äº§ç”Ÿé”™è¯¯ã€‚æœ€è¿‘ä¸€ä¸ªLinuxå†…æ ¸è¡¥ä¸çš„ç ”ç©¶è¡¨æ˜ï¼Œæœ‰40%éƒ½æ˜¯è¿™ç§å¾ˆå°‘å‘ç”Ÿçš„ä»£ç è·¯å¾„ï¼ˆå®é™…ä¸Šï¼Œè¿™ä¸ªå‘ç°å¯å‘äº†æˆ‘ä»¬è‡ªå·±çš„ä¸€äº›ç ”ç©¶ï¼Œæˆ‘ä»¬ä»Linuxæ–‡ä»¶ç³»ç»Ÿä¸­ç§»é™¤äº†æ‰€æœ‰å†…å­˜å¤±è´¥çš„è·¯å¾„ï¼Œå¾—åˆ°äº†æ›´å¥å£®çš„ç³»ç»Ÿ[S+11]ï¼‰ã€‚ å¦ä¸€æ–¹é¢ï¼Œé”çš„ç²’åº¦è¿˜å¯ä»¥æ›´å° 12345678910111213void insert(int value) &#123; ListNode* listNode = new ListNode(value, null); if (listNode == null) &#123; perror(&quot;æ²¡æœ‰è¶³å¤Ÿçš„ç©ºé—´&quot;); lock.unlock(); return -1; // failed &#125; lock.lock(); listNode-&gt;next = head; head = listNode; lock.unlock();&#125; è¿‡æ‰‹é” åŸç†ä¹Ÿå¾ˆç®€å•ã€‚æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªé”ï¼Œæ›¿ä»£ä¹‹å‰æ•´ä¸ªé“¾è¡¨ä¸€ä¸ªé”ã€‚éå†é“¾è¡¨çš„æ—¶å€™ï¼Œé¦–å…ˆæŠ¢å ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„é”ï¼Œç„¶åé‡Šæ”¾å½“å‰èŠ‚ç‚¹çš„é”ã€‚ ä»æ¦‚å¿µä¸Šè¯´ï¼Œè¿‡æ‰‹é”é“¾è¡¨æœ‰ç‚¹é“ç†ï¼Œå®ƒå¢åŠ äº†é“¾è¡¨æ“ä½œçš„å¹¶å‘ç¨‹åº¦ã€‚ä½†æ˜¯å®é™…ä¸Šï¼Œåœ¨éå†çš„æ—¶å€™ï¼Œæ¯ä¸ªèŠ‚ç‚¹è·å–é”ã€é‡Šæ”¾é”çš„å¼€é”€å·¨å¤§ï¼Œå¾ˆéš¾æ¯”å•é”çš„æ–¹æ³•å¿«ã€‚å³ä½¿æœ‰å¤§é‡çš„çº¿ç¨‹å’Œå¾ˆå¤§çš„é“¾è¡¨ï¼Œè¿™ç§å¹¶å‘çš„æ–¹æ¡ˆä¹Ÿä¸ä¸€å®šä¼šæ¯”å•é”çš„æ–¹æ¡ˆå¿«ã€‚ä¹Ÿè®¸æŸç§æ‚åˆçš„æ–¹æ¡ˆï¼ˆä¸€å®šæ•°é‡çš„èŠ‚ç‚¹ç”¨ä¸€ä¸ªé”ï¼‰å€¼å¾—å»ç ”ç©¶ã€‚ å¦‚æœæ–¹æ¡ˆå¸¦æ¥äº†å¤§é‡çš„å¼€é”€ï¼ˆä¾‹å¦‚ï¼Œé¢‘ç¹åœ°è·å–é”ã€é‡Šæ”¾é”ï¼‰ï¼Œé‚£ä¹ˆé«˜å¹¶å‘å°±æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰ã€‚å¦‚æœç®€å•çš„æ–¹æ¡ˆå¾ˆå°‘ç”¨åˆ°é«˜å¼€é”€çš„è°ƒç”¨ï¼Œé€šå¸¸ä¼šå¾ˆæœ‰æ•ˆã€‚å¢åŠ æ›´å¤šçš„é”å’Œå¤æ‚æ€§å¯èƒ½ä¼šé€‚å¾—å…¶åã€‚ å¹¶å‘é˜Ÿåˆ—ç¬¬ä¸€ä¸ªæ–¹æ³•ä¾ç„¶æ˜¯åŠ ä¸€ä¸ªå¤§é”ï¼Œè¿™å¾ˆç®€å•ã€‚ç°åœ¨æˆ‘ä»¬è€ƒè™‘å…¶ä»–åšæ³•ã€‚ å¦ä¸€ä¸ªæ–¹æ³•æ˜¯å¯¹é˜Ÿé¦–å’Œé˜Ÿå°¾åˆ†åˆ«åŠ é”ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041struct Queue &#123; struct QueueNode &#123; int value; QueueNode* next; // ... æ„é€ å‡½æ•° &#125;; QueueNode head; QueueNode tail; Lock headLock; Lock tailLock; // ... æ„é€ å‡½æ•° void enQueue(int value) &#123; QueueNode* tmp = new QueueNode(value, null); assert(tmp != NULL); tailLock.lock(); tail-&gt;next = tmp; tail = tmp; tailLock.unlock(); &#125; bool deQueue(int* target) &#123; headLock.lock(); QueueNode* tmp = head; QueueNode* newHead = head-&gt;next; if(newHead == NULL) &#123; headLock.unlock(); return false; &#125; *target = newHead-&gt;value; // å–å‡ºé˜Ÿé¦– head = newHead; // æ›´æ–°æŒ‡å‘é˜Ÿé¦–çš„èŠ‚ç‚¹ headLock.unlock(); delete tmp; return true; &#125;&#125; å¹¶å‘æ•£åˆ—è¡¨æˆ‘ä»¬å¯ä»¥ç›´æ¥åˆ©ç”¨å‰é¢çš„å¹¶å‘é“¾è¡¨æ¥å®ç°å¹¶å‘æ•£åˆ—è¡¨ï¼Œä¸éœ€è¦å¢åŠ é¢å¤–çš„é”ã€‚ ç¬¬30ç«  æ¡ä»¶å˜é‡waitä¸signalå‰é¢æˆ‘ä»¬äº†è§£äº†é”ï¼Œä½†æ˜¯é”å¹¶éå¹¶å‘ç¨‹åºè®¾è®¡æ‰€éœ€çš„å”¯ä¸€åŸè¯­ã€‚ å…·ä½“æ¥è¯´ï¼Œåœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œçº¿ç¨‹éœ€è¦æ£€æŸ¥æŸä¸€æ¡ä»¶ï¼ˆconditionï¼‰æ»¡è¶³ä¹‹åï¼Œæ‰ä¼šç»§ç»­è¿è¡Œã€‚ä¾‹å¦‚ï¼Œçˆ¶çº¿ç¨‹éœ€è¦æ£€æŸ¥å­çº¿ç¨‹æ˜¯å¦æ‰§è¡Œå®Œæ¯• [è¿™å¸¸è¢«ç§°ä¸ºjoin()]ã€‚ ä¸‹é¢å±•ç¤ºä¸€ä¸ªä½¿ç”¨wait()å’Œsignal()å®ç°çš„çˆ¶çº¿ç¨‹ç­‰å¾…å­çº¿ç¨‹çš„æƒ…å†µ, å½“çº¿ç¨‹ç¡çœ å¯ä»¥è°ƒç”¨waitï¼Œçº¿ç¨‹è¢«å”¤é†’æ—¶ä¼šè‡ªåŠ¨è·å–é” å½“å¦ä¸€ä¸ªçº¿ç¨‹æƒ³è¦å”¤é†’åœ¨è¿™ä¸ªæ¡ä»¶å˜é‡ä¸Šç­‰å¾…çš„çº¿ç¨‹æ—¶ï¼Œå¯ä»¥è°ƒç”¨signalï¼Œå½“ç„¶å”¤é†’åä¸ä¸€å®šé©¬ä¸Šåˆ‡æ¢è¿‡å»è¿è¡Œ 123456789101112131415161718192021222324252627282930313233343536struct Condition &#123; void wait(Lock lock); //é‡Šæ”¾é”å¹¶ç¡çœ ,é†’æ¥æ—¶è·å–é” void signal(); // å”¤é†’åœ¨æ­¤æ¡ä»¶ä¸Šç­‰å¾…çš„çº¿ç¨‹&#125;bool done = false;Mutex *mutex = new Mutex();Condition *condition = new Condition();void threadExit() &#123; mutex.lock(); done = true; condition-&gt;signal(); mutex.unlock();&#125;void child(void *arg) &#123; printf(&quot;child\\n&quot;); threadExit();&#125;void threadJoin() &#123; mutex.lock(); while(!done) &#123; condition-&gt;wait(mutex); &#125; mutex.unlock();&#125;int main() &#123; print(&quot;parent: begin\\n&quot;); pthread_t p; Pthread_create(&amp;p, NULL, child, NULL); threadJoin(); printf(&quot;parent: end\\n&quot;);&#125; ç”Ÿäº§è€…æ¶ˆè´¹è€…æˆ‘ä»¬å‡è®¾åªæœ‰ä¸€ä¸ªç”Ÿäº§è€…ï¼Œä¸€ä¸ªæ¶ˆè´¹è€…ï¼Œ 123456789101112131415161718192021222324252627Condition *condition;Mutex *mutex;Queue *queue; //æ— å¹¶å‘æ§åˆ¶çš„Queuevoid producer(int loops) &#123; for(int i = 0; i &lt; loops; i++) &#123; mutex-&gt;lock(); if(queue-&gt;fill()) &#123; condition-&gt;wait(mutex); // é˜Ÿåˆ—æ»¡äº†ï¼Œæ— æ³•ç”Ÿäº§ï¼Œè¿›å…¥ç¡çœ  &#125; queue-&gt;insert(i); // æ”¾å…¥äº†ä¸€ä¸ªä¸œè¥¿ condition-&gt;signal(); // å”¤é†’ç­‰å¾…æ¡ä»¶çš„çº¿ç¨‹ mutex-&gt;unlock(); &#125;&#125;void consumer(int loops) &#123; for(int i = 0; i &lt; loops; i++) &#123; mutex-&gt;lock(); if(queue-&gt;empty()) &#123; condition-&gt;wait(mutex); // é˜Ÿåˆ—ç©ºäº†ï¼Œ æ— æ³•æ¶ˆè´¹ï¼Œè¿›å…¥ç¡çœ  &#125; queue-&gt;remove(); // ä»é˜Ÿåˆ—ä¸­å–å‡ºå…ƒç´ ï¼Œæ¶ˆè´¹ condition-&gt;signal(); // å”¤é†’ç­‰å¾…æ¡ä»¶çš„çº¿ç¨‹ mutex-&gt;unlock(); &#125;&#125; å¦‚æœåªæœ‰ä¸€ä¸ªæ¶ˆè´¹è€…å’Œä¸€ä¸ªç”Ÿäº§è€…ï¼Œè¿™ä¸ªä»£ç æ­£å¸¸å·¥ä½œï¼Œä½†æ˜¯å¦‚æœè¿åäº†è¿™ä¸¤ä¸ªæ¡ä»¶ï¼Œè¿™æ®µä»£ç ä¼šå‡ºç°ä¸¤ä¸ªé—®é¢˜ã€‚ æš‚åœæ€è€ƒ æš‚åœæ€è€ƒ æš‚åœæ€è€ƒ æš‚åœæ€è€ƒ 8è¡Œå’Œ20è¡Œä¸èƒ½ä½¿ç”¨ifï¼Œåº”è¯¥æ˜¯whileï¼Œä¾‹å¦‚ä¸€ä¸ªæ¶ˆè´¹è€…é¦–å…ˆwaitï¼Œç„¶åä¸€ä¸ªç”Ÿäº§è€…ç”Ÿäº§å¹¶signalï¼Œæ¥ç€åˆä¸€ä¸ªæ¶ˆè´¹è€…æŠ¢å…ˆè·å–é”ï¼Œå¹¶è¿›è¡Œäº†æ¶ˆè´¹ï¼Œæœ€åCPUè°ƒåº¦åˆ°ç¬¬ä¸€ä¸ªæ¶ˆè´¹è€…æ—¶ï¼Œä»–å·²ç»æ‰§è¡Œè¿‡ifï¼Œç›´æ¥å¼ºè¡Œæ¶ˆè´¹ï¼Œä¸»è¦åŸå› å› ä¸ºè¢«å”¤é†’åä¸ä¸€å®šç›´æ¥æ‰§è¡Œï¼ŒCPUå¯èƒ½è°ƒåº¦å…¶ä»–çº¿ç¨‹ï¼Œ ç”Ÿäº§è€…åº”è¯¥å”¤é†’æ¶ˆè´¹è€…ï¼Œæ¶ˆè´¹è€…åº”è¯¥å”¤é†’ç”Ÿäº§è€… 12345678910111213141516171819202122232425262728Condition *empty;Condition *fill;Mutex *mutex;Queue *queue; //æ— å¹¶å‘æ§åˆ¶çš„Queuevoid producer(int loops) &#123; for(int i = 0; i &lt; loops; i++) &#123; mutex-&gt;lock(); while (queue-&gt;fill()) &#123; fill-&gt;wait(mutex); // é˜Ÿåˆ—æ»¡äº†ï¼Œæ— æ³•ç”Ÿäº§ï¼Œè¿›å…¥ç¡çœ , &#125; queue-&gt;insert(i); // æ”¾å…¥äº†ä¸€ä¸ªä¸œè¥¿ empty-&gt;signal(); // å”¤é†’ç­‰å¾…æ¡ä»¶çš„çº¿ç¨‹ mutex-&gt;unlock(); &#125;&#125;void consumer(int loops) &#123; for(int i = 0; i &lt; loops; i++) &#123; mutex-&gt;lock(); while (queue-&gt;empty()) &#123; empty-&gt;wait(mutex); // é˜Ÿåˆ—ç©ºäº†ï¼Œ æ— æ³•æ¶ˆè´¹ï¼Œè¿›å…¥ç¡çœ  &#125; queue-&gt;remove(); // ä»é˜Ÿåˆ—ä¸­å–å‡ºå…ƒç´ ï¼Œæ¶ˆè´¹ fill-&gt;signal(); // å”¤é†’ç­‰å¾…æ¡ä»¶çš„çº¿ç¨‹ mutex-&gt;unlock(); &#125;&#125; è¦†ç›–æ¡ä»¶å³å”¤é†’æ‰€æœ‰çš„çº¿ç¨‹ï¼Œè€Œä¸æ˜¯signalä¸­çš„å”¤é†’ä¸€ä¸ªã€‚ ç¬¬31ç«  ä¿¡å·é‡ DijkstraåŠå…¶åŒäº‹å‘æ˜äº†ä¿¡å·é‡ï¼Œä½œä¸ºä¸åŒæ­¥æœ‰å…³çš„æ‰€æœ‰å·¥ä½œçš„å”¯ä¸€åŸè¯­ã€‚ä½ ä¼šçœ‹åˆ°ï¼Œå¯ä»¥ä½¿ç”¨ä¿¡å·é‡ä½œä¸ºé”å’Œæ¡ä»¶å˜é‡ æ¥ä¸‹æ¥æ˜¯ä¿¡å·é‡çš„å®šä¹‰ 123456789101112131415161718struct Semaphore &#123; int value; // ... å…¨å‚æ„é€ å‡½æ•° int wait() &#123; // Dijkstra ç§°ä¹‹ä¸º P()ï¼Œ è·å…°è¯­ï¼š to probe // äººä»¬æœ‰æ—¶å€™ä¼šç”¨ down() // è¦ä¹ˆç›´æ¥è¿”å›ï¼Œè¦ä¹ˆæŒ‚èµ·å¹¶ç­‰å¾…post // value --, å¦‚æœvalueä¸ºè´Ÿæ•°ï¼Œåˆ™æŒ‚èµ·ç­‰å¾… &#125; int post() &#123; // Dijkstra ç§°ä¹‹ä¸º V()ï¼Œ è·å…°è¯­ï¼š to test // äººä»¬æœ‰æ—¶å€™ä¼šç”¨ up() // å¢åŠ ä¿¡å·é‡ï¼Œå¦‚æœæœ‰ç­‰å¾…çš„çº¿ç¨‹ï¼Œåˆ™å”¤é†’ // value ++ï¼Œ å¦‚æœæœ‰ä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹ç­‰å¾…ï¼Œåˆ™å”¤é†’ä¸€ä¸ª &#125;&#125; äºŒå€¼ä¿¡å·é‡ï¼ˆé”ï¼‰å¦‚æœåˆå§‹ä¿¡å·é‡ä¸º1ï¼Œ åˆ™ä¿¡å·é‡å°±æ˜¯é” ä¿¡å·é‡ä½œä¸ºæ¡ä»¶å˜é‡å¦‚æœåˆå§‹ä¿¡å·é‡ä¸º0ï¼Œåˆ™ä¿¡å·é‡å°±æ˜¯æ¡ä»¶å˜é‡ ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…å…ˆæ¥ä¸€ä¸ªå¾ˆç®€å•çš„æœ‰bugçš„ä»£ç ï¼Œæ¥æ‰¾æ‰¾bugï¼ˆä¸€ä¸ªï¼‰ 123456789101112131415161718Semaphore *fill = new Semaphore(0); //Semaphore *empty = new Semaphore(MAX); // åˆå§‹é˜Ÿåˆ—æ²¡æœ‰ä»»ä½•ä¸œè¥¿ï¼Œè§†ä¸ºå…¨éƒ¨æ˜¯ç©ºvoid producer(int loops) &#123; for(int i = 0; i &lt; loops; i++) &#123; empty-&gt;wait(); // ç­‰å¾…ç©ºçš„æ¡ä»¶ queue-&gt;insert(i); // æ”¾å…¥äº†ä¸€ä¸ªä¸œè¥¿ fill-&gt;post(); // é€šçŸ¥æ¶ˆè´¹è€…ï¼Œæ»¡ &#125;&#125;void consumer(int loops) &#123; for(int i = 0; i &lt; loops; i++) &#123; fill-&gt;wait(); // ç­‰å¾…æ»¡çš„æ¡ä»¶ queue-&gt;remove(); // ä»é˜Ÿåˆ—ä¸­å–å‡ºå…ƒç´ ï¼Œæ¶ˆè´¹ empty-&gt;post(); // é€šçŸ¥ç”Ÿäº§è€…ï¼Œç©º &#125;&#125; bugå¾ˆæ˜æ˜¾ï¼Œæ²¡æœ‰é”ã€‚å¦‚æœæœ‰å¤šä¸ªç”Ÿäº§è€…ï¼Œä»–ä»¬ä¼šåŒæ—¶æ‰§è¡Œç¬¬7è¡Œï¼Œè¿™å°†å¯¼è‡´å¾ˆæ˜æ˜¾çš„å¹¶å‘é—®é¢˜ï¼Œæˆ‘ä»¬é€šè¿‡ä¸‹é¢çš„ä»£ç ç›´æ¥åŠ é”,ä½†æ˜¯è¿™å’Œæ¡ä»¶å˜é‡ç›¸æ¯”ï¼Œè¿˜æ˜¯æœ‰ä¸€ç‚¹é—®é¢˜ï¼Œä»–ä¼šæ­»é”ï¼Œç”±äºæ¡ä»¶å˜é‡çš„waitä¼šé‡Šæ”¾é”ï¼Œä½†æ˜¯ä¿¡å·é‡å´ä¸ä¼šã€‚ 1234567891011121314151617181920212223Semaphore *fill = new Semaphore(0); //Semaphore *empty = new Semaphore(MAX); // åˆå§‹é˜Ÿåˆ—æ²¡æœ‰ä»»ä½•ä¸œè¥¿ï¼Œè§†ä¸ºå…¨éƒ¨æ˜¯ç©º+ Semaphore *mutex = new Semaphore(1); // é”void producer(int loops) &#123; for(int i = 0; i &lt; loops; i++) &#123;+ mutex-&gt;wait(); empty-&gt;wait(); // ç­‰å¾…ç©ºçš„æ¡ä»¶ queue-&gt;insert(i); // æ”¾å…¥äº†ä¸€ä¸ªä¸œè¥¿ fill-&gt;post(); // é€šçŸ¥æ¶ˆè´¹è€…ï¼Œæ»¡+ mutex-&gt;post(); &#125;&#125;void consumer(int loops) &#123; for(int i = 0; i &lt; loops; i++) &#123;+ mutex-&gt;wait(); fill-&gt;wait(); // ç­‰å¾…æ»¡çš„æ¡ä»¶ queue-&gt;remove(); // ä»é˜Ÿåˆ—ä¸­å–å‡ºå…ƒç´ ï¼Œæ¶ˆè´¹ empty-&gt;post(); // é€šçŸ¥ç”Ÿäº§è€…ï¼Œç©º+ mutex-&gt;post(); &#125;&#125; æœ€åæˆ‘ä»¬äº¤æ¢é”çš„ä½ç½®ï¼Œè¿™ä¸ªç¨‹åºå°±å¹¶å‘å®‰å…¨äº†ã€‚ä½†æ˜¯ä¸ºä»€ä¹ˆï¼Ÿåˆè¯¥å¦‚ä½•è¯æ˜ä¸€ä¸ªç¨‹åºæ—¶å¹¶å‘å®‰å…¨çš„ï¼Ÿ 1234567891011121314151617181920212223Semaphore *fill = new Semaphore(0); //Semaphore *empty = new Semaphore(MAX); // åˆå§‹é˜Ÿåˆ—æ²¡æœ‰ä»»ä½•ä¸œè¥¿ï¼Œè§†ä¸ºå…¨éƒ¨æ˜¯ç©ºSemaphore *mutex = new Semaphore(1); // é”void producer(int loops) &#123; for(int i = 0; i &lt; loops; i++) &#123; empty-&gt;wait(); // ç­‰å¾…ç©ºçš„æ¡ä»¶ mutex-&gt;wait(); queue-&gt;insert(i); // æ”¾å…¥äº†ä¸€ä¸ªä¸œè¥¿ mutex-&gt;post(); fill-&gt;post(); // é€šçŸ¥æ¶ˆè´¹è€…ï¼Œæ»¡ &#125;&#125;void consumer(int loops) &#123; for(int i = 0; i &lt; loops; i++) &#123; fill-&gt;wait(); // ç­‰å¾…æ»¡çš„æ¡ä»¶ mutex-&gt;wait(); queue-&gt;remove(); // ä»é˜Ÿåˆ—ä¸­å–å‡ºå…ƒç´ ï¼Œæ¶ˆè´¹ mutex-&gt;post(); empty-&gt;post(); // é€šçŸ¥ç”Ÿäº§è€…ï¼Œç©º &#125;&#125; è¯»å†™é”ï¼Œå“²å­¦å®¶è¿›é¤ï¼Œå¸çƒŸè€…é—®é¢˜ï¼Œç†å‘å¸ˆé—®é¢˜ï¼Ÿå†è§ã€‚ä»£ç è°éƒ½å¯ä»¥çœ‹æ‡‚ï¼Œä½†æ˜¯ä½ çŸ¥é“å¦‚ä½•è¯æ˜ä»–æ˜¯å¯¹çš„å—ï¼Ÿ å®ç°ä¿¡å·é‡è®©æˆ‘ä»¬ç”¨é”å’Œæ¡ä»¶å˜é‡æ¥å®ç°ä¿¡å·é‡ 123456789101112131415161718192021222324252627struct Semaphore &#123; int value; Condition *condition; Lock *lock; Semaphore(int value) &#123; this-&gt;value = value; this-&gt;condition = new Condition(); this-&gt;lock = new Lock(); &#125; void wait() &#123; lock-&gt;lock(); value --; while(value &lt; 0) &#123; condition-&gt;wait(lock); &#125; lock-&gt;unlock(); &#125; void post() &#123; lock-&gt;lock(); value ++; condition-&gt;signal(); lock-&gt;unlock(); &#125;&#125; ç¬¬32ç«  å¸¸è§å¹¶å‘é—®é¢˜éæ­»é”é—®é¢˜ Luçš„ç ”ç©¶è¡¨æ˜ï¼Œéæ­»é”é—®é¢˜å äº†å¹¶å‘é—®é¢˜çš„å¤§å¤šæ•°ã€‚å®ƒä»¬æ˜¯æ€ä¹ˆå‘ç”Ÿçš„ï¼Ÿæˆ‘ä»¬å¦‚ä½•ä¿®å¤ï¼Ÿæˆ‘ä»¬ç°åœ¨ä¸»è¦è®¨è®ºå…¶ä¸­ä¸¤ç§ï¼šè¿ååŸå­æ€§ï¼ˆatomicity violationï¼‰ç¼ºé™·å’Œé”™è¯¯é¡ºåºï¼ˆorder violationï¼‰ç¼ºé™· æ­»é”é—®é¢˜å¾ªç¯ç­‰å¾…è®©é”å…·æœ‰ååºå…³ç³»ï¼ŒLinuxä¸­çš„å†…å­˜æ˜ å°„ä»£ç å°±æ˜¯ååºé”ã€‚å°½ç®¡å¦‚æ­¤ä¾ç„¶å®¹æ˜“çŠ¯é”™ï¼Œæ¯”å¦‚å½“ä¸€ä¸ªç¨‹åºè¦è·å–å¤šä¸ªé”ï¼Œå¯èƒ½ä¼šlock(Mutex *mu1,Mutex *mu2*)ï¼Œå¦‚æœä¸¤ä¸ªçº¿ç¨‹åƒä¸‹é¢è¿™æ ·ï¼Œä¾ç„¶ä¼šæ­»é”ã€‚ 12345// thread1:lock(lock1, lock2);// thread2:lock(lock2, lock1); æˆ‘ä»¬å¯ä»¥é€šè¿‡æŒ‰ç…§é”çš„åœ°å€é¡ºåºï¼Œæ¥å¯¹é”è¿›è¡Œä¾æ¬¡åŠ é”ã€‚ æŒæœ‰å¹¶ç­‰å¾…ä»–éœ€è¦ä¸€æ¬¡æ€§è·å–æ‰€æœ‰çš„é”ï¼Œä½†è¿™ä¸åˆ©äºå°è£… éæŠ¢å è¿™ä¸ç°å®ï¼Œä½†æ˜¯ä¸€èˆ¬æˆ‘ä»¬ä½¿ç”¨tryLock()æ¥è·å–é”ï¼Œå¦‚æœå¤±è´¥å°±é‡Šæ”¾è¿™æ®µæ—¶é—´è·å–çš„æ‰€æœ‰çš„é”ï¼Œç„¶åé‡è¯•ã€‚ 123456top: l1.lock(); if(!l2.trylock()) &#123; l1.unlock(); goto top; &#125; ä½†è¿™ä¼šå¼•å‘æ´»é”ï¼Œå¦‚æœä¸¤ä¸ªçº¿ç¨‹ä¸æ–­é‡å¤è·å–å¯¹æ–¹çš„é”ï¼Œå¹¶åœ¨å¤±è´¥æ—¶é‡Šæ”¾è‡ªå·±çš„é”ï¼Œæ— é™å¾ªç¯ï¼Œè°ä¹Ÿæ— æ³•è·å–å…¨éƒ¨é”ã€‚ äº’æ–¥é¿å…äº’æ–¥å¾€å¾€å¾ˆéš¾ï¼Œæˆ‘ä»¬ä¸€èˆ¬æ˜¯ä½¿ç”¨æ— ç­‰å¾…æ•°æ®ç»“æ„ï¼Œæ¯”å¦‚åˆ©ç”¨CASç­‰æ“ä½œ é€šè¿‡è°ƒåº¦è¿™éœ€è¦äº†è§£çº¿ç¨‹éœ€è¦çš„é”æœ‰å“ªäº›ï¼Œè®©é‚£äº›å¯èƒ½ä¼šå…±åŒæŒæœ‰ä¸€æŠŠé”çš„çº¿ç¨‹ä¸é‡å è¿è¡Œå³å¯ï¼Œä½†è¿™ä¼šé™åˆ¶å¹¶å‘ æ£€æŸ¥ä¸æ¢å¤å®šæœŸæ£€æŸ¥æ­»é”ï¼Œå‘ç°æ­»é”åˆ™é‡å¯ç³»ç»Ÿ ç¬¬33ç«  åŸºäºäº‹ä»¶çš„å¹¶å‘ï¼ˆè¿›é˜¶ï¼‰ æˆ‘ä»¬ä½¿ç”¨çš„åŸºæœ¬æ–¹æ³•å°±æ˜¯åŸºäºäº‹ä»¶çš„å¹¶å‘ï¼ˆevent-based concurrencyï¼‰ã€‚è¯¥æ–¹æ³•å¾ˆç®€å•ï¼šæˆ‘ä»¬ç­‰å¾…æŸäº‹ï¼ˆå³â€œäº‹ä»¶â€ï¼‰å‘ç”Ÿï¼›å½“å®ƒå‘ç”Ÿæ—¶ï¼Œæ£€æŸ¥äº‹ä»¶ç±»å‹ï¼Œç„¶ååšå°‘é‡çš„ç›¸åº”å·¥ä½œï¼ˆå¯èƒ½æ˜¯I&#x2F;Oè¯·æ±‚ï¼Œæˆ–è€…è°ƒåº¦å…¶ä»–äº‹ä»¶å‡†å¤‡åç»­å¤„ç†ï¼‰ã€‚è¿™å°±å¥½äº†ï¼ 123456while(true) &#123; events = getEvents(); for (e in events) &#123; processEvents(e); &#125;&#125; ä½†æ˜¯è¿™ä¸ªgetEventsè¦æ€ä¹ˆå†™å‘¢ï¼Ÿ select1man select 12int select(int nfds, fd_set *readfds, fd_set *writefds, fd_set *exceptfds, struct timeval *timeout); è¦å¦‚ä½•ä½¿ç”¨å®ƒå‘¢ï¼Ÿæˆ‘ä»¬å…ˆè°ƒç”¨selectï¼Œç„¶åä½¿ç”¨foréå†readfdsæ¥æ£€æŸ¥æ˜¯å¦æœ‰äº‹ä»¶å‘ç”Ÿï¼Œä¸€æ—¦å‘ç”Ÿäº†äº‹ä»¶æˆ‘ä»¬å°±å¯ä»¥ä¼ ç»™æœåŠ¡å™¨è§£å†³äº†ã€‚ FD_ZERO() clears a set. FD_SET() and FD_CLR() respectively add and remove a given file descriptor from a set. FD_ISSET() tests to see if a file descriptor is part of the set; this is useful after select() returns. 1234567891011121314151617181920212223242526272829303132333435#include &lt;stdio.h&gt;#include &lt;stdlib.h&gt;#include &lt;sys/time.h&gt;#include &lt;sys/types.h&gt;#include &lt;unistd.h&gt;int main(void)&#123; fd_set rfds; struct timeval tv; int retval; /* Watch stdin (fd 0) to see when it has input. */ FD_ZERO(&amp;rfds); FD_SET(0, &amp;rfds); /* Wait up to five seconds. */ tv.tv_sec = 5; tv.tv_usec = 0; retval = select(1, &amp;rfds, NULL, NULL, &amp;tv); /* Don&#x27;t rely on the value of tv now! */ if (retval == -1) perror(&quot;select()&quot;); else if (retval) printf(&quot;Data is available now.\\n&quot;); /* FD_ISSET(0, &amp;rfds) will be true. */ else printf(&quot;No data within five seconds.\\n&quot;); exit(EXIT_SUCCESS);&#125; é˜»å¡å¦‚æœåœ¨äº‹ä»¶æœåŠ¡å™¨ä¸­å‡ºç°äº†é˜»å¡è°ƒç”¨ï¼Œé‚£ä¹ˆæ•´ä¸ªç³»ç»Ÿéƒ½å°†è¢«é˜»å¡ï¼Œè¿™æ˜¯æå…¶ä¸¥é‡çš„é”™è¯¯ï¼ å¼‚æ­¥IO1man aio 1234567891011121314151617181920#include &lt;aiocb.h&gt;struct aiocb &#123; /* The order of these fields is implementation-dependent */ int aio_fildes; /* File descriptor */ off_t aio_offset; /* File offset */ volatile void *aio_buf; /* Location of buffer */ size_t aio_nbytes; /* Length of transfer */ int aio_reqprio; /* Request priority */ struct sigevent aio_sigevent; /* Notification method */ int aio_lio_opcode; /* Operation to be performed; lio_listio() only */ /* Various implementation-internal fields not shown */&#125;;/* Operation codes for &#x27;aio_lio_opcode&#x27;: */enum &#123; LIO_READ, LIO_WRITE, LIO_NOP &#125;; å¡«å……è¿™ä¸ªç»“æ„ä½“ä»¥åï¼Œæˆ‘ä»¬ä½¿ç”¨å¼‚æ­¥IOï¼Œå¦‚æœæˆåŠŸï¼Œå®ƒä¼šç«‹å³è¿”å›ã€‚ 1int aio_read(struct aiocb *aiocbp); æœ€åæˆ‘ä»¬ç”¨aid_eroræ¥æ£€æŸ¥ioæ˜¯å¦å®Œæˆ 1int aio_error(const struct aiocb *aiocbp); çŠ¶æ€ç®¡ç†åœ¨å¤šçº¿ç¨‹ç¨‹åºä¸­ï¼Œå¦‚æœä¸€ä¸ªçº¿ç¨‹é˜»å¡ï¼Œå½“ä»–è‹é†’æ—¶ï¼Œä»–çš„çŠ¶æ€ä¾ç„¶ä¿å­˜åœ¨ä¸Šä¸‹æ–‡ä¸­ï¼Œä½†æ˜¯å¯¹äºåŸºäºäº‹ä»¶çš„ç³»ç»Ÿï¼Œå°±æ²¡æœ‰é‚£ä¸ªå®¹æ˜“äº†ï¼Œä»–åªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œä»–çš„çŠ¶æ€æ”¾åœ¨å“ªå„¿å‘¢ï¼Ÿ å¯¹äºIOï¼Œè§£å†³æ–¹æ¡ˆæ˜¯ä¸Šä¸‹æ–‡ä¿¡æ¯è®°å½•åœ¨ç”±æ–‡ä»¶æè¿°ç¬¦ï¼ˆfdï¼‰ç´¢å¼•çš„æŸç§æ•°æ®ç»“æ„ï¼ˆä¾‹å¦‚ï¼Œæ•£åˆ—è¡¨ï¼‰ä¸­ã€‚å½“ç£ç›˜I&#x2F;Oå®Œæˆæ—¶ï¼Œé€šè¿‡æ•°æ®ç»“æ„æ¢å¤ä¸Šä¸‹æ–‡ã€‚ æ›´å¤šé—®é¢˜ å¤šæ ¸CPUçš„äº‹ä»¶æœåŠ¡å™¨å¿…é¡»åŠ å…¥é”çš„æ§åˆ¶ å¦‚æœå‘ç”Ÿé¡µé”™è¯¯ï¼Œæ•´ä¸ªæœåŠ¡å™¨éƒ½å°†è¢«é˜»å¡ï¼Œè¿™ä¸ªé˜»å¡æ˜¯éšå¼é˜»å¡ ç¬¬36ç«  I&#x2F;Oè®¾å¤‡æ“ä½œç³»ç»Ÿæ¶æ„ ç”±äºé«˜æ€§èƒ½æ€»çº¿é€ ä»·é«˜ï¼Œæ‰€ä»¥å†…å­˜æ€»çº¿å¾ˆçŸ­ï¼ŒCPUä¸å†…å­˜å¾ˆæ¥è¿‘ã€‚ è®¾å¤‡åè®® ä¸€ä¸ªï¼ˆç®€åŒ–çš„ï¼‰è®¾å¤‡æ¥å£åŒ…å«3ä¸ªå¯„å­˜å™¨ï¼šä¸€ä¸ªçŠ¶æ€ï¼ˆstatusï¼‰å¯„å­˜å™¨ï¼Œå¯ä»¥è¯»å–å¹¶æŸ¥çœ‹è®¾å¤‡çš„å½“å‰çŠ¶æ€ï¼›ä¸€ä¸ªå‘½ä»¤ï¼ˆcommandï¼‰å¯„å­˜å™¨ï¼Œç”¨äºé€šçŸ¥è®¾å¤‡æ‰§è¡ŒæŸä¸ªå…·ä½“ä»»åŠ¡ï¼›ä¸€ä¸ªæ•°æ®ï¼ˆdataï¼‰å¯„å­˜å™¨ï¼Œå°†æ•°æ®ä¼ ç»™è®¾å¤‡æˆ–ä»è®¾å¤‡æ¥æ”¶æ•°æ®ã€‚é€šè¿‡è¯»å†™è¿™äº›å¯„å­˜å™¨ï¼Œæ“ä½œç³»ç»Ÿå¯ä»¥æ§åˆ¶è®¾å¤‡çš„è¡Œä¸ºã€‚ è¯¥åè®®åŒ…å«4æ­¥ã€‚ç¬¬1æ­¥ï¼Œæ“ä½œç³»ç»Ÿé€šè¿‡åå¤è¯»å–çŠ¶æ€å¯„å­˜å™¨ï¼Œç­‰å¾…è®¾å¤‡è¿›å…¥å¯ä»¥æ¥æ”¶å‘½ä»¤çš„å°±ç»ªçŠ¶æ€ã€‚æˆ‘ä»¬ç§°ä¹‹ä¸ºè½®è¯¢ï¼ˆpollingï¼‰è®¾å¤‡ï¼ˆåŸºæœ¬ä¸Šï¼Œå°±æ˜¯é—®å®ƒæ­£åœ¨åšä»€ä¹ˆï¼‰ã€‚ç¬¬2æ­¥ï¼Œæ“ä½œç³»ç»Ÿä¸‹å‘æ•°æ®åˆ°æ•°æ®å¯„å­˜å™¨ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥æƒ³è±¡å¦‚æœè¿™æ˜¯ä¸€ä¸ªç£ç›˜ï¼Œéœ€è¦å¤šæ¬¡å†™å…¥æ“ä½œï¼Œå°†ä¸€ä¸ªç£ç›˜å—ï¼ˆæ¯”å¦‚4KBï¼‰ä¼ é€’ç»™è®¾å¤‡ã€‚å¦‚æœä¸»CPUå‚ä¸æ•°æ®ç§»åŠ¨ï¼ˆå°±åƒè¿™ä¸ªç¤ºä¾‹åè®®ä¸€æ ·ï¼‰ï¼Œæˆ‘ä»¬å°±ç§°ä¹‹ä¸ºç¼–ç¨‹çš„I&#x2F;Oï¼ˆprogrammed I&#x2F;Oï¼ŒPIOï¼‰ã€‚ç¬¬3æ­¥ï¼Œæ“ä½œç³»ç»Ÿå°†å‘½ä»¤å†™å…¥å‘½ä»¤å¯„å­˜å™¨ï¼›è¿™æ ·è®¾å¤‡å°±çŸ¥é“æ•°æ®å·²ç»å‡†å¤‡å¥½äº†ï¼Œå®ƒåº”è¯¥å¼€å§‹æ‰§è¡Œå‘½ä»¤ã€‚æœ€åä¸€æ­¥ï¼Œæ“ä½œç³»ç»Ÿå†æ¬¡é€šè¿‡ä¸æ–­è½®è¯¢è®¾å¤‡ï¼Œç­‰å¾…å¹¶åˆ¤æ–­è®¾å¤‡æ˜¯å¦æ‰§è¡Œå®Œæˆå‘½ä»¤ï¼ˆæœ‰å¯èƒ½å¾—åˆ°ä¸€ä¸ªæŒ‡ç¤ºæˆåŠŸæˆ–å¤±è´¥çš„é”™è¯¯ç ï¼‰ã€‚ åˆ©ç”¨ä¸­æ–­ æœ‰äº†ä¸­æ–­åï¼ŒCPU ä¸å†éœ€è¦ä¸æ–­è½®è¯¢è®¾å¤‡ï¼Œè€Œæ˜¯å‘è®¾å¤‡å‘å‡ºä¸€ä¸ªè¯·æ±‚ï¼Œç„¶åå°±å¯ä»¥è®©å¯¹åº”è¿›ç¨‹ç¡çœ ï¼Œåˆ‡æ¢æ‰§è¡Œå…¶ä»–ä»»åŠ¡ã€‚å½“è®¾å¤‡å®Œæˆäº†è‡ªèº«æ“ä½œï¼Œä¼šæŠ›å‡ºä¸€ä¸ªç¡¬ä»¶ä¸­æ–­ï¼Œå¼•å‘CPUè·³è½¬æ‰§è¡Œæ“ä½œç³»ç»Ÿé¢„å…ˆå®šä¹‰å¥½çš„ä¸­æ–­æœåŠ¡ä¾‹ç¨‹ï¼ˆInterrupt Service Routineï¼ŒISRï¼‰ï¼Œæˆ–æ›´ä¸ºç®€å•çš„ä¸­æ–­å¤„ç†ç¨‹åºï¼ˆinterrupthandlerï¼‰ã€‚ ä¸ºä»€ä¹ˆè¦è¿™æ ·è®¾è®¡ï¼Œå› ä¸ºIOè¦è¿œæ¯”CPUæ…¢ï¼Œå¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªå’ŒCPUé€Ÿåº¦ä¸€æ ·çš„IOè®¾å¤‡ï¼Œæˆ‘ä»¬å°±ä¸éœ€è¦ä¸­æ–­ï¼Œä¸­æ–­äº§ç”Ÿçš„ä¸Šä¸‹æ–‡åˆ‡æ¢åè€Œä¼šå½±å“ç³»ç»Ÿçš„é€Ÿåº¦ã€‚ æ´»é”ç”±äºå¤§é‡ä¸­æ–­çš„å‡ºç°ï¼Œå¯¼è‡´CPUä¸åœçš„è¿›è¡Œä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œå¼•å‘è¿‡è½½ï¼Œä»è€Œæ— æ³•å¤„ç†ä»»ä½•è¯·æ±‚ï¼Œåœ¨ç½‘ç»œä¼ è¾“ä¸­ï¼Œå¦‚æœæ¯ä¸ªåŒ…éƒ½å¼•å‘ä¸€æ¬¡ä¸­æ–­ï¼Œå°±ä¼šå¯¼è‡´æ´»é”ï¼Œå¾€å¾€é€šè¿‡åˆå¹¶ä¸­æ–­æ¥å¤„ç†è¿™ç§æƒ…å†µã€‚ è®¾å¤‡åœ¨æŠ›å‡ºä¸­æ–­ä¹‹å‰å¾€å¾€ä¼šç­‰å¾…ä¸€å°æ®µæ—¶é—´ï¼Œåœ¨æ­¤æœŸé—´ï¼Œå…¶ä»–è¯·æ±‚å¯èƒ½å¾ˆå¿«å®Œæˆï¼Œå› æ­¤å¤šæ¬¡ä¸­æ–­å¯ä»¥åˆå¹¶ä¸ºä¸€æ¬¡ä¸­æ–­æŠ›å‡ºï¼Œä»è€Œé™ä½å¤„ç†ä¸­æ–­çš„ä»£ä»·ã€‚ DMA(Direct Memory Access)åœ¨PIO(programmed I&#x2F;O)ä¸­ï¼ŒCPUä¼šèŠ±è´¹å¤§é‡æ—¶é—´å°†æ•°æ®ä¼ ç»™è®¾å¤‡ï¼Œè¿™æµªè´¹äº†CPUèµ„æºï¼Œå¦‚ä¸‹å›¾ä¸­çš„céƒ¨åˆ† DMAçš„å¼•å…¥ï¼ŒCPUåªéœ€è¦é€šçŸ¥DMAè®¾å¤‡ï¼ŒDMAè®¾å¤‡ä¼šå¸®åŠ©CPUæ‰§è¡Œcéƒ¨åˆ†ï¼Œå½“DMAå¤„ç†å®Œæˆä»¥åï¼Œä»–ä¼šè§¦å‘ä¸­æ–­ï¼Œè®©CPUå®Œæˆæ¥ä¸‹æ¥çš„ä»»åŠ¡ CPUå¦‚ä½•ä¸è®¾å¤‡äº¤äº’IOæŒ‡ä»¤ï¼Œx86ç›´æ¥ä½¿ç”¨IOæŒ‡ä»¤æ¥ä¸ç¡¬ä»¶äº¤äº’ã€‚ å†…å­˜æ˜ å°„IOï¼Œæ“ä½œç³»ç»Ÿåªéœ€è¦å°†æ•°æ®å†™å…¥æˆ–è€…è¯»å–åˆ°æŸå†…å­˜åœ°å€ï¼Œå³å®Œæˆäº†ç¡¬ä»¶çš„äº¤äº’ï¼Œæ¯”å¦‚æ˜¾å¡åœ¨å†…å­˜ä¸­å°±æœ‰ä¸€å—æ˜ å°„ã€‚ ç¬¬37ç«  ç£ç›˜é©±åŠ¨å™¨è¯»å†™ç£ç›˜é©±åŠ¨å™¨ç”±å¤§é‡æ‰‡åŒºç»„æˆï¼Œæ¯ä¸ªæ‰‡åŒº512Bï¼Œé©±åŠ¨å™¨åˆ¶é€ å•†ä¿è¯æ¯ä¸ªæ‰‡åŒºçš„å†™å…¥æ˜¯åŸå­çš„ï¼Œè¯»å–å¯ä»¥æ”¯æŒå¤šä¸ªæ‰‡åŒºä¸€æ¬¡æ€§è¯»å…¥ã€‚ ç£ç›˜ç»“æ„åœ†çš„ï¼Œæ¯ä¸€åœˆéƒ½æ˜¯ä¸€ä¸ªç£é“ï¼Œæ¯ä¸ªç£é“æœ‰å¤šä¸ªæ‰‡åŒº åŒªå¤·æ‰€æ€çš„å¹³å‡å¯»é“æ—¶é—´ ç£ç›˜è°ƒåº¦æ“ä½œç³»ç»Ÿåº”è¯¥å¦‚ä½•è®¾è®¡ç£ç›˜çš„IOé¡ºåºå‘¢ï¼Ÿç£ç›˜è¯»å†™å…¨éƒ¨ä¾èµ–ç£å¤´ã€‚ç£å¤´å…ˆå®šä½ç£é“ï¼Œç„¶åå®šä½æ‰‡åŒºï¼Œæœ€åè¯»å–æ•°æ®ã€‚ä½†æ˜¯å…ˆè¯»å“ªé‡Œï¼Œåè¯»å“ªé‡Œï¼Ÿå…ˆå†™å“ªé‡Œåå†™å“ªé‡Œï¼Ÿ ç®€ç§° å…¨ç§° ä¸­æ–‡å å¤‡æ³¨ é—®é¢˜ SSTF shortest seek time first æœ€çŸ­å¯»é“æ—¶é—´ åªè€ƒè™‘ç£é“ï¼Œå“ªä¸ªIOç£é“è¿‘å°±å»å“ªå„¿ é¥¥é¥¿ï¼Œæ— æ³•åˆ©ç”¨å‡ ä½•ç»“æ„ NBF nearest block first æœ€è¿‘å—ä¼˜å…ˆ è€ƒè™‘ç£ç›˜çš„ç‰©ç†è·ç¦» é¥¥é¥¿ SCAN ç”µæ¢¯ç®—æ³• æŒ‰ç”µæ¢¯é¡ºåºæ‰«æç£é“ æ²¡æœ‰è€ƒè™‘æ—‹è½¬ SPTF shortest positioning time first æœ€çŸ­æ¥å…¥æ—¶é—´ åŒæ—¶è€ƒè™‘å¯»é“å’Œå®šä½çš„æ—¶é—´ ç¬¬38ç«  å»‰ä»·å†—ä½™ç£ç›˜é˜µåˆ—ï¼ˆRAIDï¼‰æå‡ºé—®é¢˜ç£ç›˜å¾ˆå°ï¼Œç£ç›˜å¾ˆæ…¢ï¼Œç£ç›˜ä¸å¯é  RAIDçš„ç®€ä»‹ä¼˜ç‚¹ RAIDå¤–éƒ¨æ¥å£å’Œæ™®é€šç£ç›˜ä¸€è‡´ï¼Œå¯ä»¥æ— ç¼æ¥å…¥ å¯ä»¥é€šè¿‡å¹¶è¡Œè¯»å–åŠ å¿«IOé€Ÿåº¦ ç”±äºå†—ä½™çš„å­˜åœ¨ï¼ŒRAIDéå¸¸å¯é  RAIDå†…éƒ¨ååˆ†å¤æ‚ï¼ŒåŒ…æ‹¬å¤„ç†å™¨ï¼Œå†…å­˜å’Œç£ç›˜ï¼Œä»–ç”šè‡³æ˜¯ä¸€ä¸ªéå¸¸ä¸“ä¸šçš„è®¡ç®—æœºç³»ç»Ÿ RAIDæœ‰ä¸‰ä¸ªé‡è¦çš„è®¾è®¡ï¼ŒRAID 0çº§åˆ«ï¼Œ RAID 1çº§ï¼Œ RAID 4&#x2F;5çº§ RAID 0çº§ï¼š æ¡å¸¦åŒ–æ— å†—ä½™ï¼Œæ€§èƒ½å¾ˆé«˜ï¼Œå®¹é‡æœ€å¤§ é€šè¿‡äº¤é”™çš„æ–¹å¼ï¼Œå°†å—åˆ†å¸ƒåœ¨å„ä¸ªç£ç›˜ä¸Šï¼Œ å¦‚æœæˆ‘ä»¬è¯»å–0-3ï¼Œä¾¿å¯ä»¥å¹¶è¡Œè¯»å–4ä¸ªç£ç›˜ è¿˜æ”¯æŒæ›´å¤§çš„å— RAID 1çº§ï¼š é•œåƒä¸ºæ¯ä¸€ä¸ªå—è®¾è®¡ä¸€äº›å‰¯æœ¬ RAID 4çº§ï¼š å¥‡å¶æ ¡éªŒ RAID 5çº§ï¼š æ—‹è½¬å¥‡å¶æ ¡éªŒ ç¬¬40ç«  æ–‡ä»¶ç³»ç»Ÿå®ç°S æ˜¯è¶…çº§å—ï¼Œå‚¨å­˜æ–‡ä»¶ç³»ç»Ÿçš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ–‡ä»¶ç³»ç»Ÿä¸­æœ‰å¤šå°‘inodeå’Œæ•°æ®å— i æ˜¯inodeçš„ä½å›¾ dæ˜¯dataçš„ä½å›¾ I æ˜¯inodeçš„å®é™…å‚¨å­˜ Dæ˜¯dataçš„å®é™…å‚¨å­˜ inodeinodeæ˜¯æ–‡ä»¶çš„ä½çº§åç§°ï¼Œå‚¨å­˜äº†æ–‡ä»¶çš„å…ƒæ•°æ®ç»“æ„ï¼Œé•¿åº¦ã€æƒé™ã€å­˜æ”¾ä½ç½®ç­‰ã€‚ å¤šçº§ç´¢å¼•ext2æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œinodeä¸Šå­˜æ”¾ä½ç½®ä¿¡æ¯çš„æ˜¯15ä¸ªç£ç›˜æŒ‡é’ˆï¼Œä¸ºäº†æ”¯æŒæ›´å¤§çš„æ–‡ä»¶ï¼Œå¯ä»¥å¼•å…¥é—´æ¥æŒ‡é’ˆï¼Œinodeå¯ä»¥æ‹¥æœ‰å›ºå®šæ•°é‡çš„ç›´æ¥æŒ‡é’ˆå’Œé—´æ¥æŒ‡é’ˆï¼Œé—´æ¥å¹¶ä¸æŒ‡å‘ç”¨æˆ·çš„æ•°æ®å—ï¼Œè€Œæ˜¯æŒ‡å‘åŒ…å«æ›´å¤šæŒ‡é’ˆçš„å—ã€‚ä¸ºä»€ä¹ˆè¦ç”¨è¿™æ ·ä¸€ç§è®¾è®¡ï¼Œä¸ºä»€ä¹ˆè¦ç”¨è¿™æ ·çš„ä¸å¹³è¡¡çš„æ ‘ï¼Ÿ åŸå› æ˜¯ç ”ç©¶è¡¨æ˜ï¼Œå¤§å¤šæ•°æ–‡ä»¶éå¸¸å°ã€‚ åŸºäºé“¾è¡¨çš„å‚¨å­˜ä¸ºä»€ä¹ˆä¸ç”¨é“¾è¡¨æ¥è¿æ¥æ•°æ®å—ï¼Œè®©ä¸€å—æ•°æ®å—çš„æœ«å°¾æŒ‡å‘ä¸‹ä¸€å—æ•°æ®å—ï¼Ÿæ€»æ‰€å‘¨çŸ¥é“¾è¡¨çš„æŸ¥è¯¢æ˜¯Oï¼ˆnï¼‰çš„ï¼Œæ‰€ä»¥å¦‚æœæˆ‘ä»¬æƒ³è¦è¯»å–æ–‡ä»¶çš„æœ€åå‡ ä¸ªå­—èŠ‚ï¼Œè¿™å°†ç›´æ¥å¯¼è‡´æˆ‘ä»¬è¯»å–å‡ ä¹æ•´ä¸ªæ–‡ä»¶ã€‚ ç©ºé—²ç©ºé—´ç®¡ç†æˆ‘ä»¬ç”¨ä½å›¾æ¥è¡¨ç¤ºç©ºé—´æ˜¯å¦è¢«å ç”¨ã€‚æ—©æœŸçš„æ–‡ä»¶ç³»ç»Ÿä½¿ç”¨ç©ºé—²åˆ—è¡¨æŒ‡é’ˆï¼ˆå‚è€ƒæ“ä½œç³»ç»Ÿå†…å­˜åˆ†é…ç®—æ³•ä¸­çš„ç©ºé—²åˆ—è¡¨æŒ‡é’ˆï¼‰ æ‰“å¼€æ–‡ä»¶&#x2F;foo&#x2F;bar.txtå‡è®¾è¶…çº§å¿«å·²ç»åœ¨å†…å­˜ä¸­äº† 123456graph TB A[æŸ¥è¯¢/çš„inode]--&gt;B[è¯»å–ä¸€ä¸ªæˆ–å¤šä¸ª/çš„æ•°æ®å— ]--&gt;C[æŸ¥è¯¢ç›®å½•/fooçš„inode]--&gt;D D[è¯»å–ä¸€ä¸ªæˆ–å¤šä¸ª/foo/çš„æ•°æ®å—]--&gt;E[æŸ¥è¯¢æ–‡ä»¶/foo/bar.txtçš„inode]--&gt;F[è¯»å–å…¨éƒ¨/foo/bar.txtçš„æ•°æ®å—] style B fill: lightyellow style D fill: lightyellow style F fill: lightyellow å†™å…¥ã€åˆ›å»ºæ–‡ä»¶&#x2F;foo&#x2F;barå†™å…¥æ–‡ä»¶æ¯”è¯»å–å¤æ‚å¾ˆå¤šï¼Œå¦‚æœè¦åˆ†é…é¢å¤–çš„å—ï¼Œå†™å…¥å°†å¯¼è‡´è‡³å°‘5æ¬¡IOï¼š è¯»å–æ•°æ®ä½å›¾ã€å†™å…¥ä½å›¾ã€ä¸¤æ¬¡è¯»å–ç„¶åå†™å…¥inodeã€æœ€åå†™å…¥çœŸæ­£çš„æ•°æ®å— åˆ›å»ºæ–‡ä»¶å°±æ›´åŠ å¤æ‚äº†ï¼Œè¯»å–inodeä½å›¾ã€å†™å…¥inodeä½å›¾ã€å†™å…¥æ–°çš„inodeï¼ˆä¸ºæ–°å»ºçš„æ–‡ä»¶åˆ†é…inodeï¼‰ã€å†™å…¥ç›®å½•æ•°æ®ã€æ›´æ–°ç›®å½•çš„inodeï¼Œå¦‚æœç›®å½•ä¼šå¢é•¿ï¼Œè¿˜è¦é¢å¤–çš„IOæ¥å¤„ç†æ•°æ®ä½å›¾å’Œæ–°ç›®å½•å—ã€‚ æ¥ä¸‹æ¥æˆ‘ä»¬æ¼”ç¤ºåˆ›å»ºæ–‡ä»¶&#x2F;foo&#x2F;barå¹¶å†™å…¥3ä¸ªå—çš„æ•°æ®, å¯ä»¥çœ‹åˆ°é‡Œé¢æœ‰å¤§é‡çš„IO 123456789101112131415graph TB C1[è¯»å–/çš„inode] --&gt; C2[è¯»å–/çš„æ•°æ®å—] C2--&gt;C3[æŸ¥è¯¢/fooçš„inode] --&gt; C4[è¯»å–/fooçš„inode] --&gt; C5[è¯»å–/fooçš„æ•°æ®å—] --&gt; C6[æŠŠæ–°æ–‡ä»¶çš„inodeå†™å…¥/foo] A1[è¯»å–inodeä½å›¾]--&gt; A2[ä¸ºæ–°æ–‡ä»¶çš„inodeåˆ†é…ç©ºé—´]--&gt;A3[å†™å…¥inodeä½å›¾] B1[è¯»å–æ•°æ®ä½å›¾]--&gt; B2[ä¸ºæ–°æ–‡ä»¶åˆ†é…æ•°æ®ç©ºé—´] --&gt; B3[å†™å…¥æ–°æ–‡ä»¶æ•°æ®] style A1 fill: lightyellow style B1 fill: lightyellow style C1 fill: lightyellow style C2 fill: lightyellow style C4 fill: lightyellow style C5 fill: lightyellow style A3 fill: lightblue style B3 fill: lightblue style C6 fill: lightblue å¦‚ä½•é™ä½IOæˆæœ¬ è¯»å–æ–‡ä»¶å¯ä»¥å¼•å…¥ç¼“å­˜ï¼Œæ—©æœŸçš„æ–‡ä»¶ç³»ç»Ÿå¼•å…¥å›ºå®šå¤§å°çš„ç¼“å­˜æ¥ä¿å­˜å¸¸ç”¨çš„å—ï¼Œç°ä»£ç³»ç»Ÿä½¿ç”¨åŠ¨æ€å¤§å°æ¥è¿›è¡Œç¼“å­˜ã€‚ å†™å…¥æ–‡ä»¶å¯ä»¥å¼•å…¥ç¼“å†²ï¼Œç°ä»£æ–‡ä»¶ç³»ç»Ÿä¼šå°†å†™å…¥åœ¨å†…å­˜ä¸­ç¼“å­˜5~30ç§’ï¼Œç„¶ååˆ†æ‰¹å†™å…¥ ç¬¬41ç«  å±€éƒ¨æ€§å’Œå¿«é€Ÿæ–‡ä»¶ç³»ç»Ÿæ—©æœŸçš„æ–‡ä»¶ç³»ç»ŸæŠŠç£ç›˜å½“ä½œå†…å­˜æ¥ç®¡ç†ï¼Œå®Œå…¨å¿½ç•¥äº†ç£ç›˜æ˜‚è´µçš„å®šä½æˆæœ¬ï¼Œå¯¼è‡´æ€§èƒ½ä¸ä½³ã€‚ ç£ç›˜ç¢ç‰‡é—®é¢˜ï¼Œç”±äºæ–‡ä»¶ç³»ç»Ÿçš„ä¸æ–­ä½¿ç”¨ï¼Œå¯¼è‡´å‰©ä½™çš„æ•°æ®ç©ºé—´éƒ½æ˜¯ä¸€äº›é›¶æ˜Ÿçš„ç¢ç‰‡ï¼Œå½“æˆ‘ä»¬åˆ†é…ä¸€ä¸ªè¾ƒå¤§çš„æ–‡ä»¶çš„æ—¶å€™ï¼Œä»–çš„æ•°æ®å—å°†æ•£å¸ƒåˆ°è¿™äº›é›¶æ˜Ÿçš„ä½ç½®ï¼Œè¿™å°†ç›´æ¥å¯¼è‡´å½“æˆ‘ä»¬è¯»å–ä»–çš„æ—¶å€™ä¼šæœ‰å¾ˆå¤šç£ç›˜çš„å¯»é“å®šä½ç°è±¡ï¼Œè¿™ä¸¥é‡å½±å“äº†é€Ÿåº¦ã€‚ FFSFFSå°†ç£ç›˜åˆ†æˆå¾ˆå¤šä¸ªå— åˆ©ç”¨å±€éƒ¨æ€§ï¼Œ FFSåˆ©ç”¨æ–‡ä»¶çš„å±€éƒ¨æ€§ï¼Œå¾ˆå¤šåº”ç”¨ç¨‹åºåœ¨è®¿é—®æ–‡ä»¶çš„æ—¶å€™ï¼Œå¤§å¤šæƒ…å†µéƒ½å…·æœ‰å±€éƒ¨æ€§ï¼Œå½“ä½ è®¿é—®äº†ä¸€ä¸ªç›®å½•çš„æ–‡ä»¶ä»¥åï¼Œæœ‰å¾ˆå¤§çš„å¯èƒ½è®¿é—®åŒç›®å½•ä¸‹çš„å…¶ä»–æ–‡ä»¶ï¼Œæ‰€ä»¥FFSå°†ä»–ä»¬å°½é‡ç»„ç»‡åœ¨ä¸€åŒä¸€ä¸ªå— å¯¹äºå¤§å‹æ–‡ä»¶ï¼ŒFFSä¼šå°†å¤§æ–‡ä»¶æ•£å¸ƒåˆ°æ‰€æœ‰çš„å—ä¸­ ç¬¬42ç«  å´©æºƒä¸€è‡´æ€§ï¼šFSCKå’Œæ—¥å¿—æˆ‘ä»¬å¯¹æ–‡ä»¶çš„å†™å…¥é€šå¸¸æœ‰å¾ˆå¤šæ¬¡IOï¼Œå¦‚æœåœ¨è¿™æœŸé—´æ“ä½œç³»ç»Ÿå´©æºƒäº†ï¼Œæˆ‘ä»¬è¯¥æ€ä¹ˆåŠ å®šæœŸæ£€æŸ¥æ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿ, ä½†æ˜¯è¿™æ— æ³•å¤„ç†åƒåœ¾æ•°æ®ï¼ˆinodeæŒ‡å‘äº†æ— æ•ˆçš„è¢«åˆ†é…äº†çš„æ•°æ®å—ï¼‰ æ—©æœŸçš„æ–‡ä»¶ç³»ç»Ÿé‡‡ç”¨äº†ä¸€ç§ç®€å•çš„æ–¹æ³•æ¥å¤„ç†å´©æºƒä¸€è‡´æ€§ã€‚åŸºæœ¬ä¸Šï¼Œå®ƒä»¬å†³å®šè®©ä¸ä¸€è‡´çš„äº‹æƒ…å‘ç”Ÿï¼Œç„¶åå†ä¿®å¤å®ƒä»¬ï¼ˆé‡å¯æ—¶ï¼‰ã€‚è¿™ç§å·æ‡’æ–¹æ³•çš„å…¸å‹ä¾‹å­å¯ä»¥åœ¨ä¸€ä¸ªå·¥å…·ä¸­æ‰¾åˆ°ï¼šfsck[æ’å›¾]ã€‚fsckæ˜¯ä¸€ä¸ªUNIXå·¥å…·ï¼Œç”¨äºæŸ¥æ‰¾è¿™äº›ä¸ä¸€è‡´å¹¶ä¿®å¤å®ƒä»¬[M86]ã€‚ é¢„å†™æ—¥å¿— å‚è€ƒæ•°æ®åº“ç³»ç»Ÿçš„é¢„å†™æ—¥å¿—ï¼Œå…ˆå†™TxBeginä»£è¡¨äº‹åŠ¡å¼€å§‹ï¼Œç„¶åå†™å…¥äº‹åŠ¡çš„å…ƒæ•°æ®ï¼Œæ¥ç€æŒ‡å‘æ—¥å¿—ï¼Œæœ€åå†™å…¥TxEndä»£è¡¨äº‹åŠ¡ç»“æŸï¼Œå¦‚æœåœ¨å†™å…¥TxEndåæˆ–è€…å†™å…¥TxBeginå‰å´©æºƒï¼Œèƒ½ç¡®ä¿æ²¡æœ‰ä¸¢å¤±æ•°æ®ï¼Œå¦‚æœåªæœ‰TxBeginæ²¡æœ‰TxEndï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦å¯åŠ¨æ–‡ä»¶ç³»ç»Ÿæ‰«æç¨‹åºæ¥æ£€æŸ¥äº†ï¼ŒLinuxå°†è¿™äº›å‘ç°çš„æ–‡ä»¶æ”¾å…¥lost+foundæ–‡ä»¶ å¤¹ä¸­ ä¸»å¸­æ ‘ï¼ˆCopy On Writeï¼‰ ç¬¬43ç«  æ—¥å¿—ç»“æ„æ–‡ä»¶ç³»ç»ŸLFS æ–‡ä»¶ç³»ç»Ÿå¦‚ä½•å°†æ‰€æœ‰å†™å…¥è½¬æ¢ä¸ºé¡ºåºå†™å…¥ï¼Ÿå¯¹äºè¯»å–ï¼Œæ­¤ä»»åŠ¡æ˜¯ä¸å¯èƒ½çš„ï¼Œå› ä¸ºè¦è¯»å–çš„æ‰€éœ€å—å¯èƒ½æ˜¯ç£ç›˜ä¸Šçš„ä»»ä½•ä½ç½®ã€‚ä½†æ˜¯ï¼Œå¯¹äºå†™å…¥ï¼Œæ–‡ä»¶ç³»ç»Ÿæ€»æ˜¯æœ‰ä¸€ä¸ªé€‰æ‹©ï¼Œè€Œè¿™æ­£æ˜¯æˆ‘ä»¬å¸Œæœ›åˆ©ç”¨çš„é€‰æ‹©ã€‚ å¼•å…¥çš„æ–°å‹æ–‡ä»¶ç³»ç»ŸRosenblumå’ŒOusterhoutç§°ä¸ºLFSï¼Œæ˜¯æ—¥å¿—ç»“æ„æ–‡ä»¶ç³»ç»Ÿï¼ˆLog-structuredFile Systemï¼‰çš„ç¼©å†™ã€‚å†™å…¥ç£ç›˜æ—¶ï¼ŒLFSé¦–å…ˆå°†æ‰€æœ‰æ›´æ–°ï¼ˆåŒ…æ‹¬å…ƒæ•°æ®ï¼ï¼‰ç¼“å†²åœ¨å†…å­˜æ®µä¸­ã€‚å½“æ®µå·²æ»¡æ—¶ï¼Œå®ƒä¼šåœ¨ä¸€æ¬¡é•¿æ—¶é—´çš„é¡ºåºä¼ è¾“ä¸­å†™å…¥ç£ç›˜ï¼Œå¹¶ä¼ è¾“åˆ°ç£ç›˜çš„æœªä½¿ç”¨éƒ¨åˆ†ã€‚LFSæ°¸è¿œä¸ä¼šè¦†å†™ç°æœ‰æ•°æ®ï¼Œè€Œæ˜¯å§‹ç»ˆå°†æ®µå†™å…¥ç©ºé—²ä½ç½®ã€‚ç”±äºæ®µå¾ˆå¤§ï¼Œå› æ­¤å¯ä»¥æœ‰æ•ˆåœ°ä½¿ç”¨ç£ç›˜ï¼Œå¹¶ä¸”æ–‡ä»¶ç³»ç»Ÿçš„æ€§èƒ½æ¥è¿‘å…¶å³°å€¼ã€‚ å…¨æ–°çš„Inodeè®¾è®¡LFSä¸æŠŠinodeç”¨æ•°ç»„çš„æ–¹å¼ç»„ç»‡åœ¨inodeå—ä¸­ï¼Œè€Œæ˜¯è®©ä»–å’Œä»–æŒ‡å‘çš„æ–‡ä»¶æ”¾åœ¨ä¸€èµ·ï¼Œè¿™å°†æå¤§çš„åŠ é€Ÿè®¿é—®ã€‚å¦‚æœæˆ‘ä»¬æ›´æ–°äº†æ–‡ä»¶ï¼Œå°±ä¸€å®šè¦æ›´æ–°ä»–çš„inode ç”±äºindodeæ•£æ’­åˆ°äº†å„å¤„ï¼Œæˆ‘ä»¬å®šä½inodeå°±æœ‰äº†éº»çƒ¦,è€Œä¸”inodeè¿˜ä¸€ç›´åœ¨è½¬ç§»ä½ç½®,LFSå¼•å…¥äº†é—´æ¥å±‚ï¼Œimapï¼Œè¾“å…¥æ—§çš„inodeï¼Œè¾“å‡ºinodeæœ€æ–°çš„ä½ç½® ä½†æ˜¯imapä¹Ÿéœ€è¦æŒä¹…åŒ–ï¼Œimapæ”¾åœ¨å“ªï¼Ÿ å®é™…ä¸Šimapä¹Ÿå’Œç¼“å†²ä¸€èµ·æŒä¹…åŒ–åˆ°äº†ç£ç›˜ã€‚ ä½†è¿™åˆå¼•å‘äº†é—®é¢˜ï¼Œå»å“ªå„¿å¯»æ‰¾æœ€æ–°çš„imapï¼Ÿå®é™…ä¸Šåœ¨LFSä¸­æœ‰ä¸€ä¸ªå›ºå®šçš„CRæ£€æŸ¥ç‚¹åŒºåŸŸå‚¨å­˜ç€è¿™äº›ä¿¡æ¯ã€‚ä»–ä¹Ÿä¼šå®šæœŸæ›´æ–°ã€‚ åƒåœ¾æ”¶é›† ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°LFSçš„å¦ä¸€ä¸ªé—®é¢˜ï¼›å®ƒä¼šåå¤å°†æœ€æ–°ç‰ˆæœ¬çš„æ–‡ä»¶ï¼ˆåŒ…æ‹¬å…¶inodeå’Œæ•°æ®ï¼‰å†™å…¥ç£ç›˜ä¸Šçš„æ–°ä½ç½®ã€‚æ­¤è¿‡ç¨‹åœ¨ä¿æŒå†™å…¥æ•ˆç‡çš„åŒæ—¶ï¼Œæ„å‘³ç€LFSä¼šåœ¨æ•´ä¸ªç£ç›˜ä¸­åˆ†æ•£æ—§ç‰ˆæœ¬çš„æ–‡ä»¶ç»“æ„ã€‚æˆ‘ä»¬ï¼ˆæ¯«ä¸å®¢æ°”åœ°ï¼‰å°†è¿™äº›æ—§ç‰ˆæœ¬ç§°ä¸ºåƒåœ¾ï¼ˆgarbageï¼‰ã€‚ å®é™…ä¸Šæœ‰ä¸€ä¸ªåå°ç¨‹åºåœ¨è´Ÿè´£åƒåœ¾æ¸…ç† ä»€ä¹ˆæ˜¯åƒåœ¾ï¼ŸLFSæŠŠæ•´ä¸ªç£ç›˜åˆ†ä¸ºä¸€äº›å—ï¼Œä»–å°†ä¸€å—ä¸€å—çš„ä½¿ç”¨ï¼Œå¹¶ä¸€å—ä¸€å—çš„æ¸…ç†ï¼ŒLFSåœ¨æ¯ä¸ªå—ä¸­è®°å½•è¯¥å—æœ‰å“ªäº›inodeï¼Œåƒåœ¾æ”¶é›†ç¨‹åºåªéœ€è¦æ£€æŸ¥è¿™äº›å—çš„inodeåœ¨imapä¸­æ˜¯å¦å­˜åœ¨æ˜ å°„å…³ç³»å³å¯åˆ¤æ–­å—æ˜¯å¦ä¸ºåƒåœ¾ã€‚ å´©æºƒæ¢å¤å’Œæ—¥å¿—CRä¼šå´©æºƒï¼Œå—ä¹Ÿä¼šå´©æºƒ CRï¼š ç»´æŠ¤ä¸¤ä¸ªCRï¼Œäº¤æ›¿å†™å…¥ä»–ä»¬ï¼Œå¹¶è®°å½•CRæ—¶é—´æˆ³ å—ï¼š ä½¿ç”¨é¢„å†™æ—¥å¿—æ¢å¤ ç¬¬44ç«  æ•°æ®å®Œæ•´æ€§å’Œä¿æŠ¤ç£ç›˜æ•…éšœ ç£ç›˜å¹¶ä¸å®Œç¾ï¼Œå¹¶ä¸”å¯èƒ½ä¼šå‘ç”Ÿæ•…éšœï¼ˆæœ‰æ—¶ï¼‰ æ½œåœ¨æ‰‡åŒºé”™è¯¯ LSESç£å¤´ç¢°æ’å¯¼è‡´æ‰‡åŒºè¡¨é¢è¢«ç ´åï¼Œæˆ–è€…å®‡å®™å°„çº¿å¯¼è‡´æŸäº›ä½ç¿»è½¬ã€‚ å—è®¹è¯¯ ä¾‹å¦‚ï¼Œæœ‰ç¼ºé™·çš„ç£ç›˜å›ºä»¶å¯èƒ½ä¼šå°†å—å†™å…¥é”™è¯¯çš„ä½ç½®ã€‚ ç±»ä¼¼åœ°ï¼Œå½“ä¸€ä¸ªå—é€šè¿‡æœ‰æ•…éšœçš„æ€»çº¿ä»ä¸»æœºä¼ è¾“åˆ°ç£ç›˜æ—¶ï¼Œå®ƒå¯èƒ½ä¼šè®¹è¯¯ã€‚ æ ¡éªŒå¥‡å¶æ ¡éªŒã€fletcheräºŒé˜¶å‰ç¼€å’Œæ ¡éªŒã€CRCæ ¡éªŒ ç£ç›˜å‚å•†ä¿è¯æ¯ä¸ªå—520å­—èŠ‚ï¼Œå¤šçš„8å­—èŠ‚å­˜æ”¾æ ¡éªŒå’Œ å¦‚æœæ²¡æœ‰ä¿è¯å°±ä½¿ç”¨è¿™ä¸ªåŠæ³• é”™è¯¯ä½ç½®å†™å…¥ç£ç›˜é©±åŠ¨å™¨æŠŠæ•°æ®å†™åˆ°é”™è¯¯çš„ä½ç½®äº†ï¼Œæ—§å—èƒ½åŒ¹é…æ ¡éªŒå’Œ æˆ‘ä»¬å¢åŠ æ›´å¤šçš„å†—ä½™ï¼Œç£ç›˜å·ï¼Œå—å·ï¼Œè¿™æ ·å°±ä¸ä¼šå‡ºç°é”™è¯¯ä½ç½®å†™å…¥çš„é—®é¢˜äº† å†™å…¥ä¸¢å¤±ç£ç›˜é©±åŠ¨å™¨æŠŠæ•°æ®å†™å¦‚ä¸¢å¤±äº†ï¼Œæ—§å—èƒ½åŒ¹é…å†—ä½™ å†™å…¥éªŒè¯ï¼š å†™å…¥åç«‹å³è¯»å– åœ¨inodeä¸­ä¹Ÿå‚¨å­˜æ ¡éªŒå’Œ ç¬¬47ç«  åˆ†å¸ƒå¼ç³»ç»Ÿè¿™éƒ¨åˆ†å†…å®¹æ¯”è¾ƒè€ï¼Œä¸å¦‚å‚è€ƒhadoop","categories":[{"name":"æ“ä½œç³»ç»Ÿ","slug":"æ“ä½œç³»ç»Ÿ","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"}],"tags":[]},{"title":"hexoéƒ¨ç½²åˆ°ç§äººæœåŠ¡å™¨","slug":"Hexo/hexoéƒ¨ç½²åˆ°ç§äººæœåŠ¡å™¨/index","date":"2021-01-25T06:55:00.000Z","updated":"2021-01-25T06:55:00.000Z","comments":true,"path":"QNH9VO.html","link":"","permalink":"http://fightinggg.github.io/indigo/QNH9VO.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ä»“åº“åŒæ­¥1234567yum install git -ymkdir /data/GitLibrarymkdir -p /data/www/hexogit init --bare hexo.gitvim /data/GitLibrary/hexo.git/hooks/post-receive# git --work-tree=/data/www/hexo --git-dir=/data/GitLibrary/hexo.git checkout -fchmod +x /data/GitLibrary/hexo.git/hooks/post-receive éƒ¨ç½²123docker run -d --restart=always \\-p 80:80 -v /data/www/hexo:/usr/share/nginx/html \\--name=hexo-blog nginx","categories":[{"name":"Hexo","slug":"Hexo","permalink":"http://fightinggg.github.io/indigo/categories/Hexo/"}],"tags":[]},{"title":"è®¾è®¡æ¨¡å¼Javaç‰ˆ","slug":"Others/è®¾è®¡æ¨¡å¼Javaç‰ˆ/index","date":"2021-01-19T16:00:00.000Z","updated":"2021-04-05T14:32:00.000Z","comments":true,"path":"QN6V40.html","link":"","permalink":"http://fightinggg.github.io/indigo/QN6V40.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è®¾è®¡æ¨¡å¼ï¼ˆJAVAç‰ˆï¼‰ ç¬¬å››ç«  ç»“æ„å‹æ¨¡å¼ä»£ç†æ¨¡å¼ åœ¨springä¸­ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„åŠ¨æ€ä»£ç†å°±æ˜¯ä»£ç†æ¨¡å¼ï¼Œä»£ç†æ¨¡å¼ç›®çš„æ˜¯ä»£ç†å¯¹è±¡ï¼Œå¢å¼ºå…¶åŸæœ‰çš„åŠŸèƒ½ï¼Œä¾‹å¦‚æ—¥å¿—æ‰“å°ï¼Œæ•°æ®åº“äº‹åŠ¡ç­‰","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è®¾è®¡æ¨¡å¼ï¼ˆJAVAç‰ˆï¼‰ ç¬¬å››ç«  ç»“æ„å‹æ¨¡å¼ä»£ç†æ¨¡å¼ åœ¨springä¸­ï¼Œæˆ‘ä»¬å¸¸ç”¨çš„åŠ¨æ€ä»£ç†å°±æ˜¯ä»£ç†æ¨¡å¼ï¼Œä»£ç†æ¨¡å¼ç›®çš„æ˜¯ä»£ç†å¯¹è±¡ï¼Œå¢å¼ºå…¶åŸæœ‰çš„åŠŸèƒ½ï¼Œä¾‹å¦‚æ—¥å¿—æ‰“å°ï¼Œæ•°æ®åº“äº‹åŠ¡ç­‰ è£…é¥°æ¨¡å¼ è£…é¥°æ¨¡å¼çš„ç›®çš„æ˜¯æ‹“å±•ã€å¢å¼ºåŸæœ‰åŠŸèƒ½ï¼Œä¾‹å¦‚åœ¨Javaä¸­FilterInputStream 12InputStream inputStream = System.in;DataInputStream dataInputStream = new DataInputStream(new BufferedInputStream(inputStream)); FilterInputStreamçš„å­ç±»å‡ä¸ºè£…é¥°å™¨ è£…é¥°æ¨¡å¼å’Œä»£ç†æ¨¡å¼çš„åŒºåˆ«ä»£ç†æ¨¡å¼ä¾§é‡äºä»£ç†ï¼Œå¢å¼ºåŸæœ‰å‡½æ•°çš„èƒ½åŠ›ï¼Œä»£ç†æ¨¡å¼ä¸€èˆ¬ä¸ºç¡¬ç¼–ç ï¼Œä¸€èˆ¬å°±ä¸€ä¸¤å±‚ è£…é¥°æ¨¡å¼ä¾§é‡äºæ‹“å±•ï¼Œä¼˜åŒ–åŸæœ‰å‡½æ•°çš„èƒ½åŠ›ï¼Œå¯ä»¥ä¸æ–­è£…é¥°ï¼Œä¸€å±‚åˆä¸€å±‚ é€‚é…å™¨æ¨¡å¼ æŠŠä¸€ä¸ªç±»å¯¹å¦ä¸€ä¸ªæ¥å£è¿›è¡Œé€‚é…ï¼Œè®©å…¶å¯ä»¥è¢«å½“ä½œå¦ä¸€ä¸ªæ¥å£ä½¿ç”¨ï¼Œåœ¨Javaä¸­æˆ‘ä»¬æœ‰Callableå’ŒRunnableï¼Œ æ­¤æ—¶å¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªRunnableçš„å¯¹è±¡ï¼Œä½†æ˜¯åé¢éœ€è¦æŠŠå®ƒå½“ä½œCallableæ¥ä½¿ç”¨ï¼Œè¿™æ—¶å€™æˆ‘ä»¬æŸ¥çœ‹jdk8æºç ä¸­çš„java.util.concurrent.Executors.RunnableAdapter 123456789101112131415161718/** * A callable that runs given task and returns given result. */private static final class RunnableAdapter&lt;T&gt; implements Callable&lt;T&gt; &#123; private final Runnable task; private final T result; RunnableAdapter(Runnable task, T result) &#123; this.task = task; this.result = result; &#125; public T call() &#123; task.run(); return result; &#125; public String toString() &#123; return super.toString() + &quot;[Wrapped task = &quot; + task + &quot;]&quot;; &#125;&#125; é€‚é…å™¨æ¨¡å¼å’Œä»£ç†æ¨¡å¼çš„åŒºåˆ«é€‚é…å™¨æ¨¡å¼é€‚é…çš„ç»“æœä¸ä¼šå¯¹è¢«é€‚é…è€…è¿›è¡Œå¢å¼ºï¼Œåªæ˜¯æ‰§è¡Œæ¥å£è½¬æ¢ï¼Œä»£ç†æ¨¡å¼ä»£ç†çš„ç»“æœä¼šæ‰§è¡Œå¢å¼º é€‚é…å™¨æ¨¡å¼å’Œè£…é¥°æ¨¡å¼çš„åŒºåˆ«é€‚é…å™¨æ¨¡å¼çš„ç›®çš„æ˜¯é€‚é…ï¼Œè€Œä¸æ˜¯æ‹“å±•ï¼Œé€‚é…ç»“æœä¸ä¼šæ”¹å˜é€»è¾‘ï¼Œè£…é¥°æ¨¡å¼è¦æ‹“å±•æ¥å£ï¼Œæ”¹è¿›æ¥å£ï¼Œè®©å…¶å…·å¤‡æ›´å¤šçš„åŠŸèƒ½ é€‚é…ç»“æœå¾€å¾€è®©å¯¹è±¡çš„èƒ½åŠ›æ›´å¼±ï¼Œè£…é¥°çš„ç»“æœå¾€å¾€è®©å¯¹è±¡èƒ½åŠ›æ›´å¼º ç»„åˆæ¨¡å¼ æ¡¥æ¢æ¨¡å¼ å¤–è§‚æ¨¡å¼SLF4Jï¼Œæ‰€æœ‰çš„æ—¥å¿—å°†ä¸å†ä¾èµ–å…·ä½“çš„æ—¥å¿—ç³»ç»Ÿï¼Œè€Œæ˜¯ä¾èµ–SLF4Jæ—¥å¿—é—¨é¢ äº«å…ƒæ¨¡å¼ å³å¯¹è±¡é‡ç”¨ï¼Œé€šè¿‡äº«å…ƒå·¥å‚åˆ›å»ºå¯¹è±¡ï¼Œå¯¹è±¡åœ¨å·¥å‚ä¸­è¿›è¡Œæ± åŒ–ï¼ŒIntegerï¼ŒStringç­‰éƒ½æœ‰ä½“ç° ç¬¬äº”ç«  è¡Œä¸ºå‹æ¨¡å¼æ¨¡æ¿æ–¹æ³•æ¨¡å¼ ä½¿ç”¨æ¨¡æ¿æ–¹æ³•æ¨¡å¼çš„å…¸å‹åœºæ™¯å¦‚ä¸‹ã€‚ â–  å¤šä¸ªå­ç±»æœ‰å…¬å…±æ–¹æ³•ï¼Œå¹¶ä¸”é€»è¾‘åŸºæœ¬ç›¸åŒæ—¶ã€‚ â–  å¯ä»¥æŠŠé‡è¦çš„ã€å¤æ‚çš„ã€æ ¸å¿ƒç®—æ³•è®¾è®¡ä¸ºæ¨¡æ¿æ–¹æ³•ï¼Œå‘¨è¾¹çš„ç›¸å…³ç»†èŠ‚åŠŸèƒ½åˆ™ç”±å„ä¸ªå­ç±»å®ç°ã€‚ â–  é‡æ„æ—¶ï¼Œæ¨¡æ¿æ–¹æ³•æ¨¡å¼æ˜¯ä¸€ä¸ªç»å¸¸ä½¿ç”¨çš„æ¨¡å¼ï¼Œå°†ç›¸åŒçš„ä»£ç æŠ½å–åˆ°çˆ¶ç±»ä¸­ã€‚ 12345678910111213// JDK8 java.util.concurrent.locks.AbstractQueuedSynchronizerpublic abstract class AbstractQueuedSynchronizer extends AbstractOwnableSynchronizer implements java.io.Serializable &#123; protected boolean tryAcquire(int arg) &#123; throw new UnsupportedOperationException(); &#125; public final void acquire(int arg) &#123; if (!tryAcquire(arg)) acquire(null, arg, false, false, false, 0L); &#125; å‘½ä»¤æ¨¡å¼ å‘½ä»¤æ¨¡å¼( Command Pattern)åˆç§°ä¸ºè¡ŒåŠ¨( Action)æ¨¡å¼æˆ–äº¤æ˜“( Transaction)æ¨¡å¼ã€‚ å°†ä¸€ä¸ªè¯·æ±‚å°è£…æˆä¸€ä¸ªå¯¹è±¡ï¼Œä»è€Œè®©ä½ ä½¿ç”¨ä¸åŒçš„è¯·æ±‚æŠŠå®¢æˆ·ç«¯å‚æ•°åŒ–ï¼Œå¯¹è¯·æ±‚æ’é˜Ÿæˆ–è€…è®°å½•è¯·æ±‚æ—¥å¿—ï¼Œå¯ä»¥æä¾›å‘½ä»¤çš„æ’¤é”€å’Œæ¢å¤åŠŸèƒ½ã€‚ 1234567891011121314151617181920212223242526class Receiver &#123; void action() &#123; System.out.println(&quot;hello&quot;); &#125;&#125;class MyRunnable implements Runnable &#123; Receiver receiver; MyRunnable(Receiver receiver) &#123; this.receiver = receiver; &#125; @Override public void run() &#123; receiver.action(); &#125;&#125;public class Main&#123; public static void (String[] args) &#123; ThreadPoolExecutor threadPoolExecutor = null; threadPoolExecutor.submit(new MyRunnable(new Receiver())); &#125;&#125; æˆ‘ä»¬æ€è€ƒRunnableï¼Œ ä»–å…¶å®å°±æ˜¯Commandï¼Œ æˆ‘ä»¬å†æ€è€ƒThreadPoolExecutor , ä»–å…¶å®å°±æ˜¯ Invoker æˆ‘ä»¬æ€è€ƒMyRunnableï¼Œä»–å…¶å®å°±æ˜¯ConcreteCommand Receiver å°±æ˜¯Receiver æˆ‘ä»¬è¿™é‡Œå‘ç°Receiverå’ŒThreadPoolExecutoræ²¡æœ‰ä»»ä½•ä¾èµ–å…³ç³» å‘½ä»¤æ¨¡å¼çš„ä¼˜ç‚¹æœ‰ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ã€‚ â–  ç±»é—´è§£è€¦ã€‚è°ƒç”¨è€…è§’è‰²ä¸æ¥æ”¶è€…è§’è‰²ä¹‹é—´æ²¡æœ‰ä»»ä½•ä¾èµ–å…³ç³»ï¼Œè°ƒç”¨è€…å®ç°åŠŸèƒ½æ—¶åªéœ€è¦è°ƒç”¨Commandä¸­çš„execute()æ–¹æ³•å³å¯ï¼Œä¸éœ€è¦äº†è§£æ˜¯å“ªä¸ªæ¥æ”¶è€…æ‰§è¡Œã€‚ â–  å¯æ‰©å±•æ€§ã€‚Command çš„å­ç±»å¯ä»¥éå¸¸å®¹æ˜“åœ°æ‰©å±•ï¼Œè€Œè°ƒç”¨è€…Invokerå’Œé«˜å±‚æ¬¡çš„æ¨¡å—Clientä¸äº§ç”Ÿä¸¥é‡çš„ä»£ç è€¦åˆã€‚ â–  å‘½ä»¤æ¨¡å¼ç»“åˆå…¶ä»–æ¨¡å¼ä¼šæ›´ä¼˜ç§€ã€‚å‘½ä»¤æ¨¡å¼å¯ä»¥ç»“åˆè´£ä»»é“¾æ¨¡å¼ï¼Œå®ç°å‘½ä»¤æ—è§£æä»»åŠ¡ï¼Œç»“åˆæ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼Œåˆ™å¯ä»¥å‡å°‘Commandå­ç±»çš„è†¨èƒ€é—®é¢˜ã€‚","categories":[{"name":"Others","slug":"Others","permalink":"http://fightinggg.github.io/indigo/categories/Others/"}],"tags":[{"name":"è¯»ä¹¦","slug":"è¯»ä¹¦","permalink":"http://fightinggg.github.io/indigo/tags/%E8%AF%BB%E4%B9%A6/"}]},{"title":"Nginx","slug":"Others/Nginx/index","date":"2021-01-10T16:00:00.000Z","updated":"2022-07-23T13:53:00.000Z","comments":true,"path":"QMQ740.html","link":"","permalink":"http://fightinggg.github.io/indigo/QMQ740.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Nginxé€šè¿‡Dockerå¿«é€Ÿéƒ¨ç½²ä¸€ä¸ªNginxå®ä¾‹ä¸‹é¢çš„æŒ‡ä»¤å¯ä»¥æŠŠå½“å‰ç›®å½•å¿«é€Ÿéƒ¨ç½²æˆä¸€ä¸ªwebæœåŠ¡,æ³¨æ„è¦æœ‰index.htmlï¼Œå¦åˆ™ä¼š403 1docker run -d --rm --name nginx -p 8081:80 -v $PWD:/usr/share/nginx/html nginx é…ç½®stream123456789101112131415161718192021# æ”¯æŒstream çš„nginxcd wget http://nginx.org/download/nginx-1.16.1.tar.gztar -zxf nginx-1.16.1.tar.gz -C /usr/localcd /usr/local/nginx-1.16.1./configure --prefix=/usr/local/nginx --with-http_stub_status_module --with-http_ssl_module --with-streammake &amp;&amp; make install /usr/local/nginx/sbin/nginx -vstream &#123; upstream myapp&#123; server IP:9000; &#125; server &#123; listen 20000; proxy_connect_timeout 5s; proxy_timeout 5s; proxy_pass myapp; &#125;&#125;/usr/local/nginx/sbin/nginx -s reload","categories":[{"name":"Others","slug":"Others","permalink":"http://fightinggg.github.io/indigo/categories/Others/"}],"tags":[{"name":"nginx","slug":"nginx","permalink":"http://fightinggg.github.io/indigo/tags/nginx/"}]},{"title":"mysqlå¸¸ç”¨æŒ‡ä»¤","slug":"Database/mysqlå¸¸ç”¨æŒ‡ä»¤/index","date":"2021-01-02T16:00:00.000Z","updated":"2021-01-02T16:00:00.000Z","comments":true,"path":"QMBDS0.html","link":"","permalink":"http://fightinggg.github.io/indigo/QMBDS0.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial MysqlæŸ¥çœ‹è¡¨çš„å®šä¹‰1show create table table_name;","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial MysqlæŸ¥çœ‹è¡¨çš„å®šä¹‰1show create table table_name; æ—¶é—´å‡½æ•°1date_add(date(imp_date), interval 1 week)","categories":[{"name":"Database","slug":"Database","permalink":"http://fightinggg.github.io/indigo/categories/Database/"}],"tags":[]},{"title":"hexoä¸­valineå‡ºç°403","slug":"Hexo/hexoä¸­valineå‡ºç°403/index","date":"2020-12-28T16:00:00.000Z","updated":"2020-12-28T16:00:00.000Z","comments":true,"path":"QM24G0.html","link":"","permalink":"http://fightinggg.github.io/indigo/QM24G0.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial é…ç½®å®‰å…¨åŸŸåå³å¯","categories":[{"name":"Hexo","slug":"Hexo","permalink":"http://fightinggg.github.io/indigo/categories/Hexo/"}],"tags":[]},{"title":"typora","slug":"Others/typora/index","date":"2020-12-26T16:00:00.000Z","updated":"2020-12-26T16:00:00.000Z","comments":true,"path":"QLYF40.html","link":"","permalink":"http://fightinggg.github.io/indigo/QLYF40.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Typoraè‡ªå®šä¹‰é…ç½®å‚è€ƒ","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Typoraè‡ªå®šä¹‰é…ç½®å‚è€ƒ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488/*************************************** Header Counters in TOC**************************************//* No link underlines in TOC */.md-toc-inner &#123; text-decoration: none; &#125; .md-toc-content &#123; counter-reset: h1toc &#125; .md-toc-h1 &#123; margin-left: 0; font-size: 1.5rem; counter-reset: h2toc &#125; .md-toc-h2 &#123; font-size: 1.1rem; margin-left: 2rem; counter-reset: h3toc &#125; .md-toc-h3 &#123; margin-left: 3rem; font-size: .9rem; counter-reset: h4toc &#125; .md-toc-h4 &#123; margin-left: 4rem; font-size: .85rem; counter-reset: h5toc &#125; ADVERTISEMENT REPORT THIS AD .md-toc-h5 &#123; margin-left: 5rem; font-size: .8rem; counter-reset: h6toc &#125; .md-toc-h6 &#123; margin-left: 6rem; font-size: .75rem; &#125; .md-toc-h1:before &#123; color: black; counter-increment: h1toc; content: counter(h1toc) &quot;. &quot; &#125; .md-toc-h1 .md-toc-inner &#123; margin-left: 0; &#125; .md-toc-h2:before &#123; color: black; counter-increment: h2toc; content: counter(h1toc) &quot;. &quot; counter(h2toc) &quot;. &quot; &#125; .md-toc-h2 .md-toc-inner &#123; margin-left: 0; &#125; .md-toc-h3:before &#123; color: black; counter-increment: h3toc; content: counter(h1toc) &quot;. &quot; counter(h2toc) &quot;. &quot; counter(h3toc) &quot;. &quot; &#125; .md-toc-h3 .md-toc-inner &#123; margin-left: 0; &#125; .md-toc-h4:before &#123; color: black; counter-increment: h4toc; content: counter(h1toc) &quot;. &quot; counter(h2toc) &quot;. &quot; counter(h3toc) &quot;. &quot; counter(h4toc) &quot;. &quot; &#125; .md-toc-h4 .md-toc-inner &#123; margin-left: 0; &#125; .md-toc-h5:before &#123; color: black; counter-increment: h5toc; content: counter(h1toc) &quot;. &quot; counter(h2toc) &quot;. &quot; counter(h3toc) &quot;. &quot; counter(h4toc) &quot;. &quot; counter(h5toc) &quot;. &quot; &#125; .md-toc-h5 .md-toc-inner &#123; margin-left: 0; &#125; .md-toc-h6:before &#123; color: black; counter-increment: h6toc; content: counter(h1toc) &quot;. &quot; counter(h2toc) &quot;. &quot; counter(h3toc) &quot;. &quot; counter(h4toc) &quot;. &quot; counter(h5toc) &quot;. &quot; counter(h6toc) &quot;. &quot; &#125; .md-toc-h6 .md-toc-inner &#123; margin-left: 0; &#125; /************************************** * Header Counters in Content **************************************/ /** initialize css counter */ #write &#123; counter-reset: h1 &#125; h1 &#123; counter-reset: h2 &#125; h2 &#123; counter-reset: h3 &#125; h3 &#123; counter-reset: h4 &#125; h4 &#123; counter-reset: h5 &#125; h5 &#123; counter-reset: h6 &#125; /** put counter result into headings */ #write h1:before &#123; counter-increment: h1; content: counter(h1) &#125; /************************************** * Header Counters in TOC **************************************/ /* No link underlines in TOC */ .md-toc-inner &#123; text-decoration: none; &#125; .md-toc-content &#123; counter-reset: h1toc &#125; .md-toc-h1 &#123; margin-left: 0; font-size: 1.5rem; counter-reset: h2toc &#125; .md-toc-h2 &#123; font-size: 1.1rem; margin-left: 2rem; counter-reset: h3toc &#125; .md-toc-h3 &#123; margin-left: 3rem; font-size: .9rem; counter-reset: h4toc &#125; .md-toc-h4 &#123; margin-left: 4rem; font-size: .85rem; counter-reset: h5toc &#125; ADVERTISEMENT REPORT THIS AD .md-toc-h5 &#123; margin-left: 5rem; font-size: .8rem; counter-reset: h6toc &#125; .md-toc-h6 &#123; margin-left: 6rem; font-size: .75rem; &#125; .md-toc-h1:before &#123; color: black; counter-increment: h1toc; content: counter(h1toc) &quot;. &quot; &#125; .md-toc-h1 .md-toc-inner &#123; margin-left: 0; &#125; .md-toc-h2:before &#123; color: black; counter-increment: h2toc; content: counter(h1toc) &quot;. &quot; counter(h2toc) &quot;. &quot; &#125; .md-toc-h2 .md-toc-inner &#123; margin-left: 0; &#125; .md-toc-h3:before &#123; color: black; counter-increment: h3toc; content: counter(h1toc) &quot;. &quot; counter(h2toc) &quot;. &quot; counter(h3toc) &quot;. &quot; &#125; .md-toc-h3 .md-toc-inner &#123; margin-left: 0; &#125; .md-toc-h4:before &#123; color: black; counter-increment: h4toc; content: counter(h1toc) &quot;. &quot; counter(h2toc) &quot;. &quot; counter(h3toc) &quot;. &quot; counter(h4toc) &quot;. &quot; &#125; .md-toc-h4 .md-toc-inner &#123; margin-left: 0; &#125; .md-toc-h5:before &#123; color: black; counter-increment: h5toc; content: counter(h1toc) &quot;. &quot; counter(h2toc) &quot;. &quot; counter(h3toc) &quot;. &quot; counter(h4toc) &quot;. &quot; counter(h5toc) &quot;. &quot; &#125; .md-toc-h5 .md-toc-inner &#123; margin-left: 0; &#125; .md-toc-h6:before &#123; color: black; counter-increment: h6toc; content: counter(h1toc) &quot;. &quot; counter(h2toc) &quot;. &quot; counter(h3toc) &quot;. &quot; counter(h4toc) &quot;. &quot; counter(h5toc) &quot;. &quot; counter(h6toc) &quot;. &quot; &#125; .md-toc-h6 .md-toc-inner &#123; margin-left: 0; &#125; /************************************** * Header Counters in Content **************************************/ /** initialize css counter */ #write &#123; counter-reset: h1 &#125; h1 &#123; counter-reset: h2 &#125; h2 &#123; counter-reset: h3 &#125; h3 &#123; counter-reset: h4 &#125; h4 &#123; counter-reset: h5 &#125; h5 &#123; counter-reset: h6 &#125; /** put counter result into headings */ #write h1:before &#123; counter-increment: h1; content: counter(h1) &quot;. &quot; &#125; #write h2:before &#123; counter-increment: h2; content: counter(h1) &quot;.&quot; counter(h2) &quot;. &quot; &#125; #write h3:before, h3.md-focus.md-heading:before &#123; /*override the default style for focused headings */ counter-increment: h3; content: counter(h1) &quot;.&quot; counter(h2) &quot;.&quot; counter(h3) &quot;. &quot; &#125; #write h4:before, h4.md-focus.md-heading:before &#123; counter-increment: h4; content: counter(h1) &quot;.&quot; counter(h2) &quot;.&quot; counter(h3) &quot;.&quot; counter(h4) &quot;. &quot; &#125; #write h5:before, h5.md-focus.md-heading:before &#123; counter-increment: h5; content: counter(h1) &quot;.&quot; counter(h2) &quot;.&quot; counter(h3) &quot;.&quot; counter(h4) &quot;.&quot; counter(h5) &quot;. &quot; &#125; #write h6:before, h6.md-focus.md-heading:before &#123; counter-increment: h6; content: counter(h1) &quot;.&quot; counter(h2) &quot;.&quot; counter(h3) &quot;.&quot; counter(h4) &quot;.&quot; counter(h5) &quot;.&quot; counter(h6) &quot;. &quot; &#125; /** override the default style for focused headings */ #write&gt;h3.md-focus:before, #write&gt;h4.md-focus:before, #write&gt;h5.md-focus:before, #write&gt;h6.md-focus:before, h3.md-focus:before, h4.md-focus:before, h5.md-focus:before, h6.md-focus:before &#123; color: inherit; border: inherit; border-radius: inherit; position: inherit; left: initial; float: none; top: initial; font-size: inherit; padding-left: inherit; padding-right: inherit; vertical-align: inherit; font-weight: inherit; line-height: inherit; &#125; /************************************** * Header Counters in sidebar **************************************/ .sidebar-content &#123; counter-reset: h1 &#125; .outline-h1 &#123; counter-reset: h2 &#125; .outline-h2 &#123; counter-reset: h3 &#125; .outline-h3 &#123; counter-reset: h4 &#125; .outline-h4 &#123; counter-reset: h5 &#125; .outline-h5 &#123; counter-reset: h6 &#125; .outline-h1&gt;.outline-item&gt;.outline-label:before &#123; counter-increment: h1; content: counter(h1) &quot;. &quot; &#125; .outline-h2&gt;.outline-item&gt;.outline-label:before &#123; counter-increment: h2; content: counter(h1) &quot;.&quot; counter(h2) &quot;. &quot; &#125; .outline-h3&gt;.outline-item&gt;.outline-label:before &#123; counter-increment: h3; content: counter(h1) &quot;.&quot; counter(h2) &quot;.&quot; counter(h3) &quot;. &quot; &#125; .outline-h4&gt;.outline-item&gt;.outline-label:before &#123; counter-increment: h4; content: counter(h1) &quot;.&quot; counter(h2) &quot;.&quot; counter(h3) &quot;.&quot; counter(h4) &quot;. &quot; &#125; .outline-h5&gt;.outline-item&gt;.outline-label:before &#123; counter-increment: h5; content: counter(h1) &quot;.&quot; counter(h2) &quot;.&quot; counter(h3) &quot;.&quot; counter(h4) &quot;.&quot; counter(h5) &quot;. &quot; &#125; .outline-h6&gt;.outline-item&gt;.outline-label:before &#123; counter-increment: h6; content: counter(h1) &quot;.&quot; counter(h2) &quot;.&quot; counter(h3) &quot;.&quot; counter(h4) &quot;.&quot; counter(h5) &quot;.&quot; counter(h6) &quot;. &quot; &#125; #write h2:before &#123; counter-increment: h2; content: counter(h1) &quot;.&quot; counter(h2) &quot;. &quot; &#125; #write h3:before, h3.md-focus.md-heading:before &#123; /*override the default style for focused headings */ counter-increment: h3; content: counter(h1) &quot;.&quot; counter(h2) &quot;.&quot; counter(h3) &quot;. &quot; &#125; #write h4:before, h4.md-focus.md-heading:before &#123; counter-increment: h4; content: counter(h1) &quot;.&quot; counter(h2) &quot;.&quot; counter(h3) &quot;.&quot; counter(h4) &quot;. &quot; &#125; #write h5:before, h5.md-focus.md-heading:before &#123; counter-increment: h5; content: counter(h1) &quot;.&quot; counter(h2) &quot;.&quot; counter(h3) &quot;.&quot; counter(h4) &quot;.&quot; counter(h5) &quot;. &quot; &#125; #write h6:before, h6.md-focus.md-heading:before &#123; counter-increment: h6; content: counter(h1) &quot;.&quot; counter(h2) &quot;.&quot; counter(h3) &quot;.&quot; counter(h4) &quot;.&quot; counter(h5) &quot;.&quot; counter(h6) &quot;. &quot; &#125; /** override the default style for focused headings */ #write&gt;h3.md-focus:before, #write&gt;h4.md-focus:before, #write&gt;h5.md-focus:before, #write&gt;h6.md-focus:before, h3.md-focus:before, h4.md-focus:before, h5.md-focus:before, h6.md-focus:before &#123; color: inherit; border: inherit; border-radius: inherit; position: inherit; left: initial; float: none; top: initial; font-size: inherit; padding-left: inherit; padding-right: inherit; vertical-align: inherit; font-weight: inherit; line-height: inherit; &#125; /************************************** * Header Counters in sidebar **************************************/ .sidebar-content &#123; counter-reset: h1 &#125; .outline-h1 &#123; counter-reset: h2 &#125; .outline-h2 &#123; counter-reset: h3 &#125; .outline-h3 &#123; counter-reset: h4 &#125; .outline-h4 &#123; counter-reset: h5 &#125; .outline-h5 &#123; counter-reset: h6 &#125; .outline-h1&gt;.outline-item&gt;.outline-label:before &#123; counter-increment: h1; content: counter(h1) &quot;. &quot; &#125; .outline-h2&gt;.outline-item&gt;.outline-label:before &#123; counter-increment: h2; content: counter(h1) &quot;.&quot; counter(h2) &quot;. &quot; &#125; .outline-h3&gt;.outline-item&gt;.outline-label:before &#123; counter-increment: h3; content: counter(h1) &quot;.&quot; counter(h2) &quot;.&quot; counter(h3) &quot;. &quot; &#125; .outline-h4&gt;.outline-item&gt;.outline-label:before &#123; counter-increment: h4; content: counter(h1) &quot;.&quot; counter(h2) &quot;.&quot; counter(h3) &quot;.&quot; counter(h4) &quot;. &quot; &#125; .outline-h5&gt;.outline-item&gt;.outline-label:before &#123; counter-increment: h5; content: counter(h1) &quot;.&quot; counter(h2) &quot;.&quot; counter(h3) &quot;.&quot; counter(h4) &quot;.&quot; counter(h5) &quot;. &quot; &#125; .outline-h6&gt;.outline-item&gt;.outline-label:before &#123; counter-increment: h6; content: counter(h1) &quot;.&quot; counter(h2) &quot;.&quot; counter(h3) &quot;.&quot; counter(h4) &quot;.&quot; counter(h5) &quot;.&quot; counter(h6) &quot;. &quot; &#125;","categories":[{"name":"Others","slug":"Others","permalink":"http://fightinggg.github.io/indigo/categories/Others/"}],"tags":[]},{"title":"springcloud-cluster","slug":"Language/Java/SpringCloud/springcloud-cluster/index","date":"2020-12-15T16:00:00.000Z","updated":"2020-12-15T16:00:00.000Z","comments":true,"path":"QLE1S0.html","link":"","permalink":"http://fightinggg.github.io/indigo/QLE1S0.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Spring Cloud Cluster 1.0.1.RELEASEå‚è€ƒ Spring Cloud Clusteræä¾›äº†åˆ†å¸ƒå¼ç³»ç»Ÿä¸­é›†ç¾¤çš„ç‰¹æ€§ï¼Œä¾‹å¦‚é€‰ä¸»ï¼Œé›†ç¾¤æŒä¹…åŒ–ä¿¡æ¯å‚¨å­˜ï¼Œå…¨å±€é”å’Œä¸€æ¬¡æ€§token ä»¥ä¸‹æ˜¯Spring Cloud Cluster 1.0.1çš„Spring Boot è‡ªåŠ¨è£…é…æµç¨‹ï¼Œå…¶ä¸­çš„zkæ¨¡å¼ä¸»è¦ç”¨åˆ°äº†ç¬¬ä¸‰æ–¹æ¡†æ¶CuratorFramework","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"SpringCloud","slug":"Language/Java/SpringCloud","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/SpringCloud/"}],"tags":[]},{"title":"Javaæ‚è°ˆ","slug":"Language/Java/Javaæ‚è°ˆ/index","date":"2020-12-05T16:00:00.000Z","updated":"2020-12-05T16:00:00.000Z","comments":true,"path":"QKVJ40.html","link":"","permalink":"http://fightinggg.github.io/indigo/QKVJ40.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial JAVAIDEASpring Boot å¯åŠ¨å‘½ä»¤è¡Œå¤ªé•¿ä¿®æ”¹æ–‡ä»¶.idea&#x2F;workspace.xml 12&lt;component name=&quot;PropertiesComponent&quot;&gt; &lt;property name=&quot;dynamic.classpath&quot; value=&quot;true&quot; /&gt;","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial JAVAIDEASpring Boot å¯åŠ¨å‘½ä»¤è¡Œå¤ªé•¿ä¿®æ”¹æ–‡ä»¶.idea&#x2F;workspace.xml 12&lt;component name=&quot;PropertiesComponent&quot;&gt; &lt;property name=&quot;dynamic.classpath&quot; value=&quot;true&quot; /&gt; åç¼–è¯‘12345# https://varaneckas.com/jad/wget https://varaneckas.com/jad/jad158e.linux.static.zip; \\unzip jad158e.linux.static.zipjad xxx.classcat xxx.jad Javaå¯åŠ¨å‚æ•°JVMå‚æ•°123456789-ea-Dhttp.proxyPort=12639-Dhttp.proxyHost=127.0.0.1-Dhttps.proxyPort=12639-Dhttps.proxyHost=127.0.0.1-Xmx400m # JVMæœ€å¤§å†…å­˜-Xms300m # JVMåˆå§‹å†…å­˜-Xmn200m # å¹´è½»ä»£å†…å­˜-Xss128k # çº¿ç¨‹å †æ ˆ Javaå‚æ•°123--server.port=80--jasypt.encryptor.password=xxx--spring.profiles.active=development Maven12345docker run -it --rm \\ -v &quot;$(pwd)&quot;:/usr/src/mymaven \\ -w /usr/src/mymaven \\ maven:3.3-jdk-8 \\ mvn clean install 12# å‘å¸ƒmvn clean javadoc:jar source:jar deploy å•å…ƒæµ‹è¯•12345678910@Import(XxxServiceImpl.class)@RunWith(SpringJUnit4ClassRunner.class)@SpringBootTest(classes = TestRunner.class)public class ScriptBizServiceTest &#123; @Autowired XxxService xxxService; @MockBean XxxService xxxService;&#125; 12345678910&lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt; &lt;scope&gt;test&lt;/scope&gt;&lt;/dependency&gt; æºç ä¸Šä¼ æ’ä»¶12345678910111213141516&lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt; &lt;version&gt;3.0.1&lt;/version&gt; &lt;configuration&gt; &lt;attach&gt;true&lt;/attach&gt; &lt;/configuration&gt; &lt;executions&gt; &lt;execution&gt; &lt;phase&gt;compile&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;jar&lt;/goal&gt; &lt;/goals&gt; &lt;/execution&gt; &lt;/executions&gt;&lt;/plugin&gt; è§„èŒƒå¤šä»“åº“è§„èŒƒhttps://maven.apache.org/guides/mini/guide-multiple-repositories.html Remote repository URLs are queried in the following order for artifacts until one returns a valid result: Global settings.xml User settings.xml Local POM Parent POMs, recursively Super POM For each of these locations, the repositories within the profiles are queried first in the order outlined at Introduction to build profiles.","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"}],"tags":[]},{"title":"å®¹å™¨åŒ–å¼€å‘","slug":"Docker/å®¹å™¨åŒ–å¼€å‘/index","date":"2020-11-22T16:00:00.000Z","updated":"2020-11-22T16:00:00.000Z","comments":true,"path":"QK7GG0.html","link":"","permalink":"http://fightinggg.github.io/indigo/QK7GG0.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å®¹å™¨åŒ–å¼€å‘https://segmentfault.com/a/1190000023095631 æ³¨æ„äº‹é¡¹å¯¹äºæ‰€æœ‰çš„å®¹å™¨åŒ–å¼€å‘ï¼Œæˆ‘ä»¬çš„æ—¶åŒºéƒ½éœ€è¦è®¾ç½® 1-v /etc/localtime:/etc/localtime","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å®¹å™¨åŒ–å¼€å‘https://segmentfault.com/a/1190000023095631 æ³¨æ„äº‹é¡¹å¯¹äºæ‰€æœ‰çš„å®¹å™¨åŒ–å¼€å‘ï¼Œæˆ‘ä»¬çš„æ—¶åŒºéƒ½éœ€è¦è®¾ç½® 1-v /etc/localtime:/etc/localtime Nodejså¼€å‘12345678910111213docker run -it -v $HOME:$HOME node bashdocker run -itd \\--restart=always \\--name node-dev \\-v $HOME/src:/root/src \\-v /etc/localtime:/etc/localtime \\-v $HOME/.ssh:/root/.ssh \\-p 3000:3000 \\node:14.4.0# è¿™ä¸ªæ—¶åŒºè®¾ç½®æ·»åŠ åˆ°å¯åŠ¨ç¨‹åºä¸­# process.env.TZ = &#x27;Asia/Shanghai&#x27;; Javaå¼€å‘1234567# docker å‚æ•°-m 800m--cpus 1-v /root/.m2/:/root/.m2-p 8080:8080 -p--net docker-net--ip 192.168.11.2 1234FROM maven:3.6.3-jdk-8COPY . /srcWORKDIR /srcCMD [&quot;sh&quot;, &quot;dockerEntryPoint.sh&quot;] 12345678mvn -vecho &quot;package&quot;mvn clean package -Dmaven.test.skip=trueecho &quot;start java application ... &quot;#java -jar -agentlib:jdwp=transport=dt_socket,server=n,address=10.40.28.63:5005,suspend=y main.jarjava -jar \\ -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005 \\ *.jar ç¬¬ä¸€æ­¥ï¼Œå¼€å‘ä¸€ä¸ªSpringç¨‹åº ç¬¬äºŒæ­¥ï¼Œè¿æ¥è¿œç«¯Centos ç¬¬ä¸‰æ­¥ä¿®æ”¹dockerå¯åŠ¨å‚æ•°å¹¶é‡å¯docker 1vim /lib/systemd/system/docker.service å¢åŠ  -H tcp://0.0.0.0:2375 1systemctl daemon-reload &amp;&amp; systemctl restart docker &amp;&amp; systemctl status docker ç¬¬å››æ­¥åˆ›å»ºDockerfileä»¥åŠentrypoint.sh æ³¨æ„Dockerfileä¸­ç§»åŠ¨çš„jaråŒ…æ˜¯ç¼–è¯‘äº§ç‰© æ³¨æ„entrypoint.shä¸­çš„addressåæ˜¯è‡ªå·±æœ¬åœ°æœºå™¨çš„ip 12345FROM openjdk:15WORKDIR /COPY entrypoint.sh /entrypoint.shCOPY target/demo-0.0.1-SNAPSHOT.jar /main.jarCMD [&quot;sh&quot;, &quot;/entrypoint.sh&quot;] 123java --versionecho &quot;start java application ... &quot;java -jar -agentlib:jdwp=transport=dt_socket,server=n,address=192.168.0.109:5005,suspend=y -Duser.timezone=Asia/Shanghai /main.jar ç¬¬äº”æ­¥åˆ›å»ºDockerå¯åŠ¨é…ç½®å’ŒDebugå¯åŠ¨é…ç½® æ³¨æ„Dockerfileçš„Before lanchå‰åŠ ä¸Š mvn package æ³¨æ„Debugçš„Hostä¸ºè¿œç¨‹ip ç¬¬å…­æ­¥å…ˆå¯åŠ¨è¿œç¨‹è°ƒè¯•ï¼Œåå¯åŠ¨docker build ç¬¬ä¸ƒæ­¥ï¼š enjoy it","categories":[{"name":"Docker","slug":"Docker","permalink":"http://fightinggg.github.io/indigo/categories/Docker/"}],"tags":[]},{"title":"springcloud-gateway","slug":"Language/Java/SpringCloud/springcloud-gateway/index","date":"2020-11-09T16:00:00.000Z","updated":"2020-11-09T16:00:00.000Z","comments":true,"path":"QJJDS0.html","link":"","permalink":"http://fightinggg.github.io/indigo/QJJDS0.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Spring Cloud Gateway12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697package com.example.demo;import java.util.ArrayList;import java.util.List;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;import org.springframework.cloud.gateway.event.RefreshRoutesEvent;import org.springframework.cloud.gateway.route.RouteDefinition;import org.springframework.cloud.gateway.route.RouteDefinitionRepository;import org.springframework.context.ApplicationEventPublisher;import org.springframework.context.ApplicationEventPublisherAware;import org.springframework.web.bind.annotation.DeleteMapping;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.PostMapping;import org.springframework.web.bind.annotation.PutMapping;import org.springframework.web.bind.annotation.RequestBody;import org.springframework.web.bind.annotation.RestController;import reactor.core.publisher.Flux;import reactor.core.publisher.Mono;// åŠ¨æ€è·¯ç”±// https://zhuanlan.zhihu.com/p/125018436@RestController@SpringBootApplicationpublic class DemoApplication implements RouteDefinitionRepository, ApplicationEventPublisherAware &#123; public static void main(String[] args) &#123; SpringApplication.run(DemoApplication.class, args); &#125; // event publisher ApplicationEventPublisher applicationEventPublisher; @Override public void setApplicationEventPublisher(ApplicationEventPublisher applicationEventPublisher) &#123; this.applicationEventPublisher = applicationEventPublisher; &#125; // router List&lt;RouteDefinition&gt; memery = new ArrayList&lt;&gt;(); private void refreshRoute() &#123; applicationEventPublisher.publishEvent(new RefreshRoutesEvent(this)); &#125; @PutMapping Mono&lt;Void&gt; putRoute(@RequestBody Mono&lt;RouteDefinition&gt; o) &#123; return o.flatMap(routeDefinition -&gt; &#123; memery.add(routeDefinition); refreshRoute(); return Mono.empty(); &#125;); &#125; @PostMapping Mono&lt;Void&gt; postRoute(@RequestBody Mono&lt;RouteDefinition&gt; o) &#123; return o.flatMap(routeDefinition -&gt; &#123; for (int i = 0; i &lt; memery.size(); i++) &#123; if (memery.get(i).getId().equals(routeDefinition.getId())) &#123; memery.set(i, routeDefinition); &#125; &#125; refreshRoute(); return Mono.empty(); &#125;); &#125; @DeleteMapping Mono&lt;Void&gt; deleteRoute(@RequestBody Mono&lt;String&gt; o) &#123; return o.flatMap(id -&gt; &#123; memery.removeIf(routeDefinition -&gt; routeDefinition.getId().equals(id)); refreshRoute(); return Mono.empty(); &#125;); &#125; @GetMapping Mono&lt;List&lt;RouteDefinition&gt;&gt; getRoute()&#123; return Mono.just(memery); &#125; @Override public Flux&lt;RouteDefinition&gt; getRouteDefinitions() &#123; return Flux.fromIterable(memery); &#125; @Override public Mono&lt;Void&gt; save(Mono&lt;RouteDefinition&gt; route) &#123; return Mono.empty(); &#125; @Override public Mono&lt;Void&gt; delete(Mono&lt;String&gt; routeId) &#123; return Mono.empty(); &#125;&#125;","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Spring Cloud Gateway12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697package com.example.demo;import java.util.ArrayList;import java.util.List;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;import org.springframework.cloud.gateway.event.RefreshRoutesEvent;import org.springframework.cloud.gateway.route.RouteDefinition;import org.springframework.cloud.gateway.route.RouteDefinitionRepository;import org.springframework.context.ApplicationEventPublisher;import org.springframework.context.ApplicationEventPublisherAware;import org.springframework.web.bind.annotation.DeleteMapping;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.PostMapping;import org.springframework.web.bind.annotation.PutMapping;import org.springframework.web.bind.annotation.RequestBody;import org.springframework.web.bind.annotation.RestController;import reactor.core.publisher.Flux;import reactor.core.publisher.Mono;// åŠ¨æ€è·¯ç”±// https://zhuanlan.zhihu.com/p/125018436@RestController@SpringBootApplicationpublic class DemoApplication implements RouteDefinitionRepository, ApplicationEventPublisherAware &#123; public static void main(String[] args) &#123; SpringApplication.run(DemoApplication.class, args); &#125; // event publisher ApplicationEventPublisher applicationEventPublisher; @Override public void setApplicationEventPublisher(ApplicationEventPublisher applicationEventPublisher) &#123; this.applicationEventPublisher = applicationEventPublisher; &#125; // router List&lt;RouteDefinition&gt; memery = new ArrayList&lt;&gt;(); private void refreshRoute() &#123; applicationEventPublisher.publishEvent(new RefreshRoutesEvent(this)); &#125; @PutMapping Mono&lt;Void&gt; putRoute(@RequestBody Mono&lt;RouteDefinition&gt; o) &#123; return o.flatMap(routeDefinition -&gt; &#123; memery.add(routeDefinition); refreshRoute(); return Mono.empty(); &#125;); &#125; @PostMapping Mono&lt;Void&gt; postRoute(@RequestBody Mono&lt;RouteDefinition&gt; o) &#123; return o.flatMap(routeDefinition -&gt; &#123; for (int i = 0; i &lt; memery.size(); i++) &#123; if (memery.get(i).getId().equals(routeDefinition.getId())) &#123; memery.set(i, routeDefinition); &#125; &#125; refreshRoute(); return Mono.empty(); &#125;); &#125; @DeleteMapping Mono&lt;Void&gt; deleteRoute(@RequestBody Mono&lt;String&gt; o) &#123; return o.flatMap(id -&gt; &#123; memery.removeIf(routeDefinition -&gt; routeDefinition.getId().equals(id)); refreshRoute(); return Mono.empty(); &#125;); &#125; @GetMapping Mono&lt;List&lt;RouteDefinition&gt;&gt; getRoute()&#123; return Mono.just(memery); &#125; @Override public Flux&lt;RouteDefinition&gt; getRouteDefinitions() &#123; return Flux.fromIterable(memery); &#125; @Override public Mono&lt;Void&gt; save(Mono&lt;RouteDefinition&gt; route) &#123; return Mono.empty(); &#125; @Override public Mono&lt;Void&gt; delete(Mono&lt;String&gt; routeId) &#123; return Mono.empty(); &#125;&#125; 12345678910111213141516171819202122232425262728293031323334353637GET http://localhost:52834/test###PUT http://localhost:52834Content-Type: application/json&#123; &quot;id&quot;: &quot;test&quot;, &quot;predicates&quot;: [ &#123; &quot;name&quot;: &quot;Path&quot;, &quot;args&quot;: &#123; &quot;pattern&quot;: &quot;/test&quot; &#125; &#125; ], &quot;filters&quot;: [ &#123; &quot;name&quot;: &quot;RewritePath&quot;, &quot;args&quot;: &#123; &quot;regexp&quot;: &quot;/test&quot;, &quot;replacement&quot;: &quot;/s&quot; &#125; &#125; ], &quot;uri&quot;: &quot;http://www.baidu.com&quot;, &quot;order&quot;: 0&#125;###GET http://localhost:52834###GET http://localhost:52834/test","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"SpringCloud","slug":"Language/Java/SpringCloud","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/SpringCloud/"}],"tags":[]},{"title":"aware","slug":"Language/Java/SpringBoot/aware/index","date":"2020-11-02T16:00:00.000Z","updated":"2020-11-02T16:00:00.000Z","comments":true,"path":"QJ6F40.html","link":"","permalink":"http://fightinggg.github.io/indigo/QJ6F40.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial AwareBeanNameAwarebeanNameAwareå¯ä»¥è·å¾—å®¹å™¨ä¸­Beançš„åç§°ï¼Œä½œç”¨äºæ¯ä¸€ä¸ªBeanã€‚å½“beanè¢«åˆ›å»ºçš„æ—¶å€™è®¾ç½®ä»–çš„åå­—ï¼Œåœ¨åŸºæœ¬propertieså¡«å……å®Œæˆä»¥åï¼Œinitè°ƒç”¨å‰æ‰§è¡Œ æ‘˜è‡ªï¼š spring-beans:5.3.4 org.springframework.beans.factory.BeanNameAware Set the name of the bean in the bean factory that created this bean. Invoked after population of normal bean properties but before an init callback such as {@link InitializingBean#afterPropertiesSet()} or a custom init-method. 123456789101112package com.example.demo;import org.springframework.beans.factory.BeanNameAware;import org.springframework.stereotype.Component;@Componentpublic class BeanNameAwareDemo implements BeanNameAware &#123; @Override public void setBeanName(String name) &#123; System.out.println(name); &#125;&#125;","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial AwareBeanNameAwarebeanNameAwareå¯ä»¥è·å¾—å®¹å™¨ä¸­Beançš„åç§°ï¼Œä½œç”¨äºæ¯ä¸€ä¸ªBeanã€‚å½“beanè¢«åˆ›å»ºçš„æ—¶å€™è®¾ç½®ä»–çš„åå­—ï¼Œåœ¨åŸºæœ¬propertieså¡«å……å®Œæˆä»¥åï¼Œinitè°ƒç”¨å‰æ‰§è¡Œ æ‘˜è‡ªï¼š spring-beans:5.3.4 org.springframework.beans.factory.BeanNameAware Set the name of the bean in the bean factory that created this bean. Invoked after population of normal bean properties but before an init callback such as {@link InitializingBean#afterPropertiesSet()} or a custom init-method. 123456789101112package com.example.demo;import org.springframework.beans.factory.BeanNameAware;import org.springframework.stereotype.Component;@Componentpublic class BeanNameAwareDemo implements BeanNameAware &#123; @Override public void setBeanName(String name) &#123; System.out.println(name); &#125;&#125; è¾“å‡º: 1beanNameAwareDemo BeanFactoryAware æ³¨å…¥beanFactory 1234567891011121314package com.example.demo;import org.springframework.beans.BeansException;import org.springframework.beans.factory.BeanFactory;import org.springframework.beans.factory.BeanFactoryAware;import org.springframework.stereotype.Component;@Componentpublic class BeanFactoryAwareDemo implements BeanFactoryAware &#123; @Override public void setBeanFactory(BeanFactory beanFactory) throws BeansException &#123; System.out.println(beanFactory); &#125;&#125; ApplicationContextAwareç±»æ¯”beanFactory 1234567891011121314package com.example.demo;import org.springframework.beans.BeansException;import org.springframework.context.ApplicationContext;import org.springframework.context.ApplicationContextAware;import org.springframework.stereotype.Component;@Componentpublic class ApplicationContextAwareDemo implements ApplicationContextAware &#123; @Override public void setApplicationContext(ApplicationContext applicationContext) throws BeansException &#123; System.out.println(applicationContext); &#125;&#125; MessageSourceAwareè¿™æ˜¯ä½¿ç”¨å›½é™…åŒ–ç”¨åˆ°çš„ 1234567891011121314151617package com.example.demo;import java.util.Locale;import lombok.extern.slf4j.Slf4j;import org.springframework.context.MessageSource;import org.springframework.context.MessageSourceAware;import org.springframework.stereotype.Component;@Slf4j@Componentpublic class MessageSourceAwareDemo implements MessageSourceAware &#123; @Override public void setMessageSource(MessageSource messageSource) &#123; String hello = messageSource.getMessage(&quot;hello&quot;, null, Locale.CHINA); log.info(hello); &#125;&#125; 12021-03-05 13:36:38.263 INFO 17836 --- [ main] com.example.demo.MessageSourceAwareDemo : ä½ å¥½å‘€å°è€å¼Ÿ ApplicationEventPublisherAwareç”¨äºå‘å¸ƒäº‹ä»¶ 12345678910111213package com.example.demo;import org.springframework.context.ApplicationEventPublisher;import org.springframework.context.ApplicationEventPublisherAware;import org.springframework.stereotype.Component;@Componentpublic class ApplicationEventPublisherAwareDemo implements ApplicationEventPublisherAware &#123; @Override public void setApplicationEventPublisher(ApplicationEventPublisher applicationEventPublisher) &#123; applicationEventPublisher.publishEvent(&quot;hi&quot;); &#125;&#125; ResourceLoaderAwareç”¨äºè·å–é™æ€æ–‡ä»¶å†…å®¹ 123456789101112131415161718192021222324package com.example.demo;import java.io.IOException;import java.io.InputStream;import lombok.extern.slf4j.Slf4j;import org.apache.commons.io.IOUtils;import org.springframework.context.ResourceLoaderAware;import org.springframework.core.io.ResourceLoader;import org.springframework.stereotype.Component;@Slf4j@Componentpublic class ResourceLoaderAwareDemo implements ResourceLoaderAware &#123; @Override public void setResourceLoader(ResourceLoader resourceLoader) &#123; try &#123; InputStream inputStream = resourceLoader.getResource(&quot;classpath:/messages_zh_CN.properties&quot;).getInputStream(); IOUtils.readLines(inputStream).forEach(log::info); &#125; catch (IOException ioException) &#123; log.error(&quot;&quot;, ioException); &#125; &#125;&#125; 12021-03-05 13:56:08.067 INFO 17700 --- [ main] com.example.demo.MessageSourceAwareDemo : ä½ å¥½å‘€å°è€å¼Ÿ","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"SpringBoot","slug":"Language/Java/SpringBoot","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/SpringBoot/"}],"tags":[]},{"title":"feign","slug":"Language/Java/SpringCloud/feign/index","date":"2020-10-31T16:00:00.000Z","updated":"2020-10-31T16:00:00.000Z","comments":true,"path":"QJ2PS0.html","link":"","permalink":"http://fightinggg.github.io/indigo/QJ2PS0.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Feign1234567891011121314151617181920212223242526272829303132333435363738394041424344import com.fasterxml.jackson.databind.DeserializationFeature;import com.fasterxml.jackson.databind.ObjectMapper;import feign.Logger;import feign.codec.Decoder;import feign.codec.Encoder;import java.util.Arrays;import org.springframework.beans.factory.ObjectFactory;import org.springframework.boot.autoconfigure.http.HttpMessageConverters;import org.springframework.cloud.openfeign.support.ResponseEntityDecoder;import org.springframework.cloud.openfeign.support.SpringDecoder;import org.springframework.cloud.openfeign.support.SpringEncoder;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import org.springframework.http.MediaType;import org.springframework.http.converter.HttpMessageConverter;import org.springframework.http.converter.json.MappingJackson2HttpMessageConverter;@Configurationpublic class FeignConfigure &#123; @Bean public Decoder feignDecoder() &#123; HttpMessageConverter jacksonConverter = new MappingJackson2HttpMessageConverter(customObjectMapper()); ObjectFactory&lt;HttpMessageConverters&gt; objectFactory = () -&gt; new HttpMessageConverters(jacksonConverter); return new ResponseEntityDecoder(new SpringDecoder(objectFactory)); &#125; @Bean public Encoder feignEncoder()&#123; HttpMessageConverter jacksonConverter = new MappingJackson2HttpMessageConverter(customObjectMapper()); ObjectFactory&lt;HttpMessageConverters&gt; objectFactory = () -&gt; new HttpMessageConverters(jacksonConverter); return new SpringEncoder(objectFactory); &#125; public ObjectMapper customObjectMapper() &#123; ObjectMapper objectMapper = new ObjectMapper(); //Customize as much as you want objectMapper.configure(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT, true); return objectMapper; &#125; @Bean public Logger.Level logger() &#123; return Logger.Level.FULL; &#125;&#125;","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"SpringCloud","slug":"Language/Java/SpringCloud","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/SpringCloud/"}],"tags":[]},{"title":"webFlux","slug":"Language/Java/SpringBoot/webFlux/index","date":"2020-10-29T16:00:00.000Z","updated":"2020-10-29T16:00:00.000Z","comments":true,"path":"QIZ0G0.html","link":"","permalink":"http://fightinggg.github.io/indigo/QIZ0G0.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Spring Boot Starter Webflux","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Spring Boot Starter Webflux Spring Webflux 5.3.2ResponseBodyResultHandlerè¿™ä¸ªResultHandleræ˜¯æœ€å¸¸ç”¨çš„ä¸€ä¸ª,æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä»–åœ¨containingClassè¢«ResponseBodyæ ‡è®°æˆ–è€…æ–¹æ³•è¢«ResponseBodyæ ‡è®°æ—¶ç”Ÿæ•ˆ 123456789101112131415@Overridepublic boolean supports(HandlerResult result) &#123; MethodParameter returnType = result.getReturnTypeSource(); Class&lt;?&gt; containingClass = returnType.getContainingClass(); return (AnnotatedElementUtils.hasAnnotation(containingClass, ResponseBody.class) || returnType.hasMethodAnnotation(ResponseBody.class));&#125;@Overridepublic Mono&lt;Void&gt; handleResult(ServerWebExchange exchange, HandlerResult result) &#123; Object body = result.getReturnValue(); MethodParameter bodyTypeParameter = result.getReturnTypeSource(); return writeBody(body, bodyTypeParameter, exchange);&#125; ViewResolutionResultHandlerViewResolutionResultHandleræ”¯æŒçš„attributesæ¯”è¾ƒå¤šï¼Œå®ƒå¯ä»¥è§£æCharSequenceï¼ŒRenderingï¼ŒModelï¼ŒMapï¼ŒViewç­‰ 12345678910111213141516171819202122@Overridepublic boolean supports(HandlerResult result) &#123; if (hasModelAnnotation(result.getReturnTypeSource())) &#123; return true; &#125; Class&lt;?&gt; type = result.getReturnType().toClass(); ReactiveAdapter adapter = getAdapter(result); if (adapter != null) &#123; if (adapter.isNoValue()) &#123; return true; &#125; type = result.getReturnType().getGeneric().toClass(); &#125; return (CharSequence.class.isAssignableFrom(type) || Rendering.class.isAssignableFrom(type) || Model.class.isAssignableFrom(type) || Map.class.isAssignableFrom(type) || View.class.isAssignableFrom(type) || !BeanUtils.isSimpleProperty(type));&#125; ServerResponseResultHandlerServerResponseResultHandleråªå¤„ç†è¿”å›å€¼ä¸ºServerResponseç±»å‹çš„Responseï¼Œå¹¶ä½¿ç”¨å†…ç½®çš„messageWriterså’Œè§†å›¾è§£æå™¨æ¥å¤„ç†ä»–ä»¬ 123456789101112131415161718192021222324252627@Overridepublic void afterPropertiesSet() throws Exception &#123; if (CollectionUtils.isEmpty(this.messageWriters)) &#123; throw new IllegalArgumentException(&quot;Property &#x27;messageWriters&#x27; is required&quot;); &#125;&#125;@Overridepublic boolean supports(HandlerResult result) &#123; return (result.getReturnValue() instanceof ServerResponse);&#125;@Overridepublic Mono&lt;Void&gt; handleResult(ServerWebExchange exchange, HandlerResult result) &#123; ServerResponse response = (ServerResponse) result.getReturnValue(); Assert.state(response != null, &quot;No ServerResponse&quot;); return response.writeTo(exchange, new ServerResponse.Context() &#123; @Override public List&lt;HttpMessageWriter&lt;?&gt;&gt; messageWriters() &#123; return messageWriters; &#125; @Override public List&lt;ViewResolver&gt; viewResolvers() &#123; return viewResolvers; &#125; &#125;);&#125;","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"SpringBoot","slug":"Language/Java/SpringBoot","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/SpringBoot/"}],"tags":[]},{"title":"ratelimiter","slug":"Language/Java/Grava/ratelimiter/index","date":"2020-10-24T16:00:00.000Z","updated":"2020-10-24T16:00:00.000Z","comments":true,"path":"QIPR40.html","link":"","permalink":"http://fightinggg.github.io/indigo/QIPR40.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial GuavaRateLimiter1234567891011121314151617RateLimiter rateLimiter = RateLimiter.create(10);for (int i = 0; i &lt; 20; i++) &#123; int finalI = i; new Thread(new Runnable() &#123; @Override public void run() &#123; int cnt = 0; while (true) &#123; if (rateLimiter.tryAcquire()) &#123; cnt++; System.out.println(&quot;thread: &quot; + finalI + &quot; cnt: &quot; + cnt); &#125; &#125; &#125; &#125;).start();&#125;Thread.sleep(1000 * 100 * 1000);","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial GuavaRateLimiter1234567891011121314151617RateLimiter rateLimiter = RateLimiter.create(10);for (int i = 0; i &lt; 20; i++) &#123; int finalI = i; new Thread(new Runnable() &#123; @Override public void run() &#123; int cnt = 0; while (true) &#123; if (rateLimiter.tryAcquire()) &#123; cnt++; System.out.println(&quot;thread: &quot; + finalI + &quot; cnt: &quot; + cnt); &#125; &#125; &#125; &#125;).start();&#125;Thread.sleep(1000 * 100 * 1000); æºç æµç¨‹å›¾ï¼š","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"Grava","slug":"Language/Java/Grava","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/Grava/"}],"tags":[]},{"title":"æ·±å…¥æµ…å‡ºHTTPSä»åŸç†åˆ°å®æˆ˜","slug":"è®¡ç®—æœºç½‘ç»œ/æ·±å…¥æµ…å‡ºHTTPSä»åŸç†åˆ°å®æˆ˜/index","date":"2020-10-14T16:00:00.000Z","updated":"2020-10-14T16:00:00.000Z","comments":true,"path":"QI78G0.html","link":"","permalink":"http://fightinggg.github.io/indigo/QI78G0.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ·±å…¥æµ…å‡ºHTTPSä»åŸç†åˆ°å®æˆ˜","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ·±å…¥æµ…å‡ºHTTPSä»åŸç†åˆ°å®æˆ˜ HTTPä»‹ç» è¯»è€…ä¸è¦è®¤ä¸ºHTTPè´Ÿè´£æ•°æ®ä¼ è¾“ï¼Œå®ƒå®é™…ä¸Šè´Ÿè´£æ•°æ®è¯·æ±‚å’Œå“åº”ï¼ŒçœŸæ­£çš„æ•°æ®ä¼ è¾“ç”±å…¶ä»–ç½‘ç»œå±‚å¤„ç† Web ç¡®åˆ‡åœ°è¯´æ˜¯ä¸€ç§ä¿¡æ¯ç´¢å–æ–¹å¼ï¼Œæ˜¯äº’è”ç½‘çš„æŸä¸ªå­åº”ç”¨ ã€‚Web æœ€æ ¸ å¿ƒçš„ ç»„æˆéƒ¨åˆ†æ˜¯ HTTP,HTTP ç”±æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯ç»„æˆï¼Œæœ‰äº† HTTP ï¼Œäº’è”ç½‘ä¸Šçš„ä¸åŒç»ˆç«¯æ‰èƒ½å¤Ÿäº¤æ¢ä¿¡æ¯ã€‚ HTTP è¯·æ±‚å’Œå“åº”ç»“æ„ HTTPåè®®ä¸å®‰å…¨çš„æ ¹æœ¬åŸå›  æ•°æ®æ²¡æœ‰åŠ å¯† æ— æ³•äº’ç›¸éªŒè¯èº«ä»½ æ•°æ®å®¹æ˜“è¢«ç¯¡æ”¹ XSSæ”»å‡»æ¶æ„ç”¨æˆ·å†™å…¥äº†ä¸€æ®µæ¶æ„ä»£ç åˆ°è®ºå›ï¼Œå…¶ä»–äººåªè¦çœ‹åˆ°äº†ä»–çš„è®ºå›ï¼Œå°±ä¼šæ‰§è¡Œæ¶æ„è„šæœ¬ã€‚ W3C Tim Berners -Lee æ•™æˆæå‡º Web æŠ€æœ¯åæˆç«‹äº† W3C ç»„ç»‡ï¼ŒW3C ä¸»è¦åˆ¶å®š Web æŠ€æœ¯çš„æ ‡å‡†ï¼Œæ¯”å¦‚ HTML æ ‡å‡†ã€DOM æ ‡å‡†ã€css æ ‡å‡†ã€ECMA Script æ ‡å‡† W3C ä¸»è¦ä»¥HTTP å¤´éƒ¨çš„æ–¹å¼æä¾›å®‰å…¨ä¿æŠ¤ï¼Œæ¯”å¦‚Access - Control - Allow-Origin ã€X-XSS -Protection ã€Strict-Transport-Security ã€Content-Security-PolicyHTTP å¤´éƒ¨ï¼Œä¸€ æ—¦å¼€å‘è€…å’Œæµè§ˆå™¨æ­£ç¡®åœ°éµå®ˆå®‰å…¨æ ‡å‡†ï¼Œå°±èƒ½ç¼“è§£å®‰å…¨é—®é¢˜ã€‚ å¯†ç å­¦ å¯†ç å­¦æ˜¯ç§‘å­¦ å¯†ç å­¦ç†è®ºæ˜¯å…¬å¼€çš„ å¯†ç å­¦ç®—æ³•æ˜¯ç›¸å¯¹å®‰å…¨çš„ å¯†ç å­¦æ”»å‡»æ–¹æ³•æ˜¯å¤šæ ·åŒ–çš„ å¯†ç å­¦åº”ç”¨æ ‡å‡†å¾ˆé‡è¦ åœ¨ä½¿ç”¨å¯†ç å­¦ç®—æ³•çš„æ—¶å€™ä¹Ÿä¸è¦ç”»è›‡æ·»è¶³ ï¼Œ ä¸€ä¸ªç®€å•çš„è½¯ä»¶ä¸ºäº†ä¿éšœå®‰å…¨æ€§å¯èƒ½ä½¿ç”¨ä¸€ ç§å¯†ç å­¦ç®—æ³•å³å¯ï¼Œæ²¡æœ‰å¿…è¦ç»„åˆå¤šç§å¯†ç å­¦ç®—æ³• ã€‚ OpenSSLhttps://www.openssl.org/ å¯†ç å­¦ä¸­çš„éšæœºæ•°å—å¯†ç ç®—æ³•CTRæ¨¡å¼ æ‘˜è¦ç®—æ³• æµå¯†ç ç®—æ³• HASHç®—æ³•Hashç®—æ³•çš„ä¸€ä¸ªç”¨é€”æ˜¯è§£å†³æ•°æ®çš„å®Œæ•´æ€§é—®é¢˜ Hashç®—æ³•çš„æ‹“å±•å¯†ç å­¦ä¸­çš„Hashç®—æ³•æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„åŠ å¯†åŸºå…ƒï¼Œå¯†ç å­¦ä¸­çš„æ‘˜è¦ã€æ•£åˆ—ã€æŒ‡çº¹éƒ½æ˜¯Hashç®—æ³• Hashç®—æ³•çš„ç”¨é€”æ–‡æœ¬æ¯”è¾ƒï¼š ä¾‹å¦‚ä¸¤ä¸ªæ–‡ä»¶çš„MD5å€¼æ¯”è¾ƒ èº«ä»½éªŒè¯ï¼š åœ¨æ•°æ®åº“ä¸­å‚¨å­˜å¯†ç Hashè€Œä¸æ˜¯æ˜æ–‡, è¿™ä¸ªåšæ³•ä¸å®‰å…¨ Hashç®—æ³•çš„ç±»å‹MD5ï¼š MD5æ˜¯ä¸å®‰å…¨çš„ç®—æ³•ï¼Œè¿åäº†æŠ—ç¢°æ’æ€§ SHAï¼š SHA-1æ˜¯ä¸å®‰å…¨çš„ï¼ŒSHA-2æ¨èä½¿ç”¨ï¼ŒSHA-3ä¸æ˜¯ä¸ºäº†å–ä»£SHA-2è€Œæ˜¯åœ¨è®¾è®¡ä¸Šå’ŒSHA-2å®Œå…¨ä¸åŒ å¯¹ç§°åŠ å¯†å¯¹ç§°åŠ å¯†ç®—æ³•å¯ä»¥ç”¨æ¥è§£å†³æ•°æ®çš„çªƒå¬é—®é¢˜ ç”¨åŒä¸€ä¸ªå¯†é’¥å¯ä»¥å¯¹æ˜æ–‡è¿›è¡ŒåŠ å¯†ï¼Œå¯ä»¥å¯¹å¯†æ–‡è¿›è¡Œè§£å¯†ï¼Œæœ‰ä¸¤ç§ç±»å‹ï¼š å—å¯†ç ç®—æ³•å’Œæµå¯†ç ç®—æ³• æµå¯†ç ç®—æ³•ä¸€æ¬¡æ€§å¯†ç æœ¬å¯†ç æœ¬é•¿åº¦å’Œæ˜æ–‡ä¸€æ ·é•¿ï¼Œä»–ä»¬å¼‚æˆ–èµ·æ¥å°±æ˜¯å¯†æ–‡ï¼ŒæŠŠå¯†æ–‡å’Œå¯†ç æœ¬å¼‚æˆ–å¯ä»¥å¾—åˆ°æ˜æ–‡ RC4ç®—æ³•RC4çš„å¯†ç æµæ¥ç€éšæœºæ•°æµï¼Œéšæœºæ•°ç§å­å°±æ˜¯å¯†é’¥ï¼Œ so easyï¼Œ RC4ç®—æ³•è¢«è¯æ˜ä¸å®‰å…¨ï¼ å—å¯†ç ç®—æ³•å³å°†æ˜æ–‡åˆ†å—ï¼Œå¯¹äºæ— æ³•åˆ†å‡ºçš„æ•´æ•°å—è¿›è¡Œå¡«å……ï¼Œä¸‹é¢ä»‹ç»æ¨¡å¼ï¼Œä»»ä½•ä¸€ç§å¯¹ç§°åŠ å¯†ç®—æ³•éƒ½å¯ä»¥ä¸ä¸‹é¢çš„æ¨¡å¼ç›¸ç»„åˆã€‚ ECBæ¨¡å¼(Eletronic Codebook)å¯¹æ¯ä¸€ä¸ªå—åˆ†åˆ«åšåŠ å¯†ï¼Œç„¶åè¿›è¡Œä¼ è¾“ï¼Œè¿™ä¸ªè¿‡ç¨‹å¯ä»¥å¹¶è¡Œå¤„ç†ï¼Œç”±äºå›ºå®šçš„æ˜æ–‡å—ä¼šå¾—åˆ°å›ºå®šçš„å¯†æ–‡å—ï¼Œæ‰€ä»¥ECBæ¨¡å¼æ˜¯ä¸å®‰å…¨çš„ CBCæ¨¡å¼(Cipher Block Chaining)å¼•å…¥åˆå§‹åŒ–å‘é‡ï¼Œåœ¨åŠ å¯†å‰å¯¹ç¬¬ä¸€ä¸ªå—è¿›è¡Œæ··æ·†ï¼Œç”¨åŠ å¯†ç»“æœå¯¹ä¸‹ä¸€ä¸ªå—è¿›è¡Œæ··æ·†,åˆå§‹åŒ–å‘é‡æ˜¯ä¸€ä¸ªéšæœºæ•° CTRæ¨¡å¼(Counter)CTRæ¨¡å¼ä¸éœ€è¦å¡«å……ï¼Œå› ä¸ºä»–å¯¹æ¯ä¸€ä¸ªå—è¿›è¡Œäº†æµå¯†ç ç®—æ³•ï¼Œæœ‰å¤šå°‘ä¸ªå—å°±æœ‰å¤šå°‘ä¸ªå¯†é’¥æµï¼Œå¯†é’¥æµçš„å¯†é’¥å¯ä»¥æ¥æºäºå‰ä¸€ä¸ªå¯†é’¥æµçš„å¯†é’¥ï¼Œç¬¬ä¸€ä¸ªå¯†é’¥æµçš„å¯†é’¥ç§°ä¹‹ä¸ºNonceï¼Œä¸CBCæ¨¡å¼çš„IVç±»ä¼¼ å¡«å……ç®—æ³• æ¶ˆæ¯éªŒè¯ç æ¶ˆæ¯éªŒè¯ç ï¼š Message Authentication Code (MAC) HASHç®—æ³•è§£å†³äº†æ•°æ®çš„å®Œæ•´æ€§é—®é¢˜ï¼Œå¯¹ç§°åŠ å¯†ç®—æ³•è§£å†³äº†æ•°æ®çš„çªƒå¬é—®é¢˜ï¼Œä½†æ˜¯ä»–ä»¬éƒ½ä¸èƒ½è§£å†³æ•°æ®çš„ç¯¡æ”¹é—®é¢˜ æ”»å‡»è€…å¦‚ä½•ç¯¡æ”¹æ¶ˆæ¯ï¼Ÿç”±äºæ”»å‡»è€…çš„ç›®æ ‡æ˜¯ç¯¡æ”¹æ¶ˆæ¯ï¼Œè€Œä¸æ˜¯çªƒå¬å’Œç ´åæ¶ˆæ¯ï¼Œé’ˆå¯¹äºECBæ¨¡å¼ï¼Œå®ƒå¯ä»¥æ”¶é›†ç»Ÿè®¡ä¿¡æ¯ï¼Œå°†å¯†æ–‡åˆ†å—å¹¶ç¯¡æ”¹ä¸ºä»¥å‰çš„å¯†æ–‡å—ç­‰ï¼Œç„¶åé‡æ–°HASH(HASHç®—æ³•æ˜¯å…¬å¼€çš„)ï¼Œå¹¶ç¯¡æ”¹HASHå€¼åè½¬å‘ã€‚ MACç®—æ³•MACç®—æ³•è‡´åŠ›äºä¸¤ç‚¹ï¼š è¯æ˜æ¶ˆæ¯æ²¡æœ‰è¢«ç¯¡æ”¹ è¯æ˜æ¶ˆæ¯æ¥æºäºæ­£ç¡®çš„å‘é€è€… MACç®—æ³•ï¼š æ ¸å¿ƒåŸç†å°±æ˜¯åœ¨æ¶ˆæ¯ä¸­æºå¸¦å¯†é’¥ï¼Œç„¶åä½¿ç”¨HASHç®—æ³•å’ŒåŠ å¯†ç®—æ³•ï¼Œç”±äºç¯¡æ”¹è€…æ²¡æœ‰å¯†é’¥ï¼Œæ‰€ä»¥ä»–æ— æ³•ç¯¡æ”¹æ•°æ® MACç®—æ³•çš„ç±»å‹ï¼š HMACï¼ŒCBC-MACï¼ŒOMAC HMacç®—æ³•æµç¨‹ï¼š æ³¨æ„ä¸æ˜¯hash(message&#x2F;&#x2F;key) ï¼Œ why not? AEåŠ å¯†æ¨¡å¼ç»“åˆå¯¹ç§°åŠ å¯†ç®—æ³•å’ŒMACç®—æ³•åˆå«AEåŠ å¯†æ¨¡å¼ï¼ŒAuthenticated Encryptionï¼Œ å¦‚ä½•ç»“åˆå°±æœ‰äº†å¤šç§é€‰æ‹© åŠ å¯†æ¨¡å¼ ä»£ç  å¤‡æ³¨ MAC-and-Encrypt encry(message)+mac(message) ä½¿ç”¨ä¸å½“ä¼šå¯¼è‡´ä¸å®‰å…¨ MAC-then-Encrypt encry(mac(message)) ä½¿ç”¨ä¸å½“ä¼šå¯¼è‡´ä¸å®‰å…¨ Encrypt-then-MAC mac(encry(message)) å»ºè®®ä½¿ç”¨ AEADåŠ å¯†æ¨¡å¼ç»“åˆå¯¹ç§°åŠ å¯†ç®—æ³•å’ŒMACç®—æ³•å¦‚æœå¤„ç†ä¸å½“ä¼šå¯¼è‡´å®‰å…¨é—®é¢˜ï¼ŒAEADæ¨¡å¼(Authenticated Encryption with Associated Data)å°±æ˜¯åœ¨åº•å±‚ç»„åˆäº†åŠ å¯†ç®—æ³•å’ŒMACç®—æ³• CCMæ¨¡å¼CCM ï¼ˆCounter with CBC-MAC ï¼‰æ¨¡å¼æ˜¯ä¸€ç§ AEAD æ¨¡å¼ ï¼Œ ä¸è¿‡åœ¨ HTTPS ä¸­ä½¿ç”¨ å¾—æ¯”è¾ƒå°‘ ã€‚ æ˜¯AESç®—æ³•çš„CRTæ¨¡å¼ç»„åˆäº†CBC-MACç®—æ³•ï¼Œåº•å±‚é‡‡ç”¨äº†MAC-then-Encrypt GCMæ¨¡å¼ GCM ( Galois&#x2F;Counter Mode ï¼‰ æ˜¯ç›® å‰æ¯”è¾ƒæµè¡Œçš„ AEAD æ¨¡å¼ ã€‚åœ¨ GCM å†…éƒ¨ï¼Œé‡‡ç”¨GHASH ç®—æ³•ï¼ˆä¸€ç§ MAC ç®—æ³•ï¼‰è¿›è¡Œ MAC è¿ç®—ï¼Œä½¿ç”¨å—å¯†ç  AES ç®—æ³• CTR æ¨¡å¼çš„ ä¸€ç§å˜ç§è¿›è¡ŒåŠ å¯†è¿ç®—ï¼Œåœ¨æ•ˆç‡å’Œæ€§èƒ½ä¸Šï¼ŒGCM éƒ½æ˜¯éå¸¸ä¸é”™çš„ã€‚ éå¯¹ç§°åŠ å¯†éå¯¹ç§°åŠ å¯†åˆå«å…¬å¼€å¯†é’¥ç®—æ³•ï¼Œå…¬é’¥åŠ å¯†ï¼Œç§é’¥è§£å¯† RSAå•æ­¥åŠ å¯† 123456sequenceDiagram client-&gt;&gt;server : 1.connectserver-&gt;&gt;client : 2.RSA public key(pk)client-&gt;&gt;client : 3.use pk encrypt message to xxxclient-&gt;&gt;server : 4.xxxserver-&gt;&gt;server : 5.use private key decode xxx to message åŒå‘åŠ å¯† 123456789sequenceDiagram client-&gt;&gt;server : 1.client RSA public keyserver-&gt;&gt;client : 2.server RSA public keyclient-&gt;&gt;client : 3.use server public key encrypt message1 to xxx1client-&gt;&gt;server : 4.xxx1server-&gt;&gt;server : 5.use server private key decode xxx1 to message1server-&gt;&gt;server : 6.use client public key encrypt message2 to xxx2server-&gt;&gt;client : 7.xxx2client-&gt;&gt;client : 8.use client private key decode xxx2 to message2 ECCpass å¯†é’¥åå•†ç®—æ³•RSAç¼ºç‚¹ï¼š ä¼šè¯å¯†é’¥å®Œå…¨ç”±clientå†³å®š æ— æ³•æä¾›å‰å‘å®‰å…¨æ€§ 123456sequenceDiagram client-&gt;&gt;server : 1.connectserver-&gt;&gt;client : 2.RSA public keyclient-&gt;&gt;client : 3.create a random number and encode to xxxclient-&gt;&gt;server : 4.xxxserver-&gt;&gt;server : 5.use private key decode xxx1 to number DH123456789sequenceDiagram client-&gt;&gt;server : 1. connectserver-&gt;&gt;client : 2. number: p number: gclient-&gt;&gt;client : 3. create a random number aclient-&gt;&gt;server : 4. (g^a)%p=ycserver-&gt;&gt;server : 5. create a random number bserver-&gt;&gt;server : 6. compute key=(yc^b)%pserver-&gt;&gt;client : 7. (g^b)%p=ysclient-&gt;&gt;client : 8. compute key=(ys^a)%p ECDHECC+DHåå•†å¯†é’¥ï¼Œ pass æ•°å­—ç­¾åRSAç­¾å DSAç­¾åpass ESDSAç­¾åpass å®è§‚ç†è§£TLSTLS&#x2F;SSLèƒŒåçš„ç®—æ³•åŠ å¯†ç®—æ³•ï¼š å¯¹ç§°åŠ å¯†åè€…éå¯¹ç§°åŠ å¯†ï¼Œä¿è¯æœºå¯†æ€§ MACç®—æ³•ï¼š ä¿è¯å®Œæ•´æ€§ å¯†é’¥åå•†ç®—æ³•ï¼š ä¼ è¾“å¯¹ç§°åŠ å¯†çš„å¯†é’¥ å¯†é’¥è¡ç”Ÿç®—æ³•ï¼š é€šè¿‡ä¸€ä¸ªä¸å®šé•¿åº¦çš„é¢„å¤‡ä¸»å¯†é’¥è½¬æ¢ä¸ºå›ºå®šé•¿åº¦çš„ä¸»å¯†é’¥ï¼Œç„¶åç”¨ä¸»å¯†é’¥è½¬åŒ–å‡ºä»»æ„æ•°é‡ï¼Œä»»æ„é•¿åº¦çš„å¯†é’¥å— HTTPSæ€»ç»“ æ¡æ‰‹å±‚å®¢æˆ·ç«¯åœ¨è¿›è¡Œå¯†é’¥äº¤æ¢å‰ï¼Œå¿…é¡»éªŒè¯æœåŠ¡å™¨èº«ä»½ï¼Œç”¨CAè¯ä¹¦æ¥è§£å†³ åœ¨æ¡æ‰‹é˜¶æ®µï¼Œå®¢æˆ·ç«¯æœåŠ¡å™¨éœ€è¦åå•†å‡ºåŒæ–¹éƒ½è®¤å¯çš„å¯†ç å¥—ä»¶ï¼Œè¿™åŒ…æ‹¬äº†èº«ä»½éªŒè¯ç®—æ³•ï¼Œå¯†ç åå•†ç®—æ³•ï¼ŒåŠ å¯†ç®—æ³•åŠ å¯†æ¨¡å¼ï¼ŒHMACç®—æ³•çš„åŠ å¯†åŸºå…ƒï¼ŒPRFç®—æ³•çš„åŠ å¯†åŸºå…ƒ åŠ å¯†å±‚æµå¯†ç åŠ å¯†ï¼š RC4ï¼ˆMAC-then-Encryptï¼‰ åˆ†ç»„åŠ å¯†æ¨¡å¼ï¼š AES-128-CBCï¼ˆAESç®—æ³•ï¼Œå¯†é’¥128æ¯”ç‰¹ï¼ŒCBCåˆ†ç»„ï¼‰ AEADï¼š","categories":[{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","permalink":"http://fightinggg.github.io/indigo/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"}],"tags":[{"name":"è¯»ä¹¦","slug":"è¯»ä¹¦","permalink":"http://fightinggg.github.io/indigo/tags/%E8%AF%BB%E4%B9%A6/"}]},{"title":"docker","slug":"Docker/docker/index","date":"2020-10-04T16:00:00.000Z","updated":"2020-10-04T16:00:00.000Z","comments":true,"path":"QHOPS0.html","link":"","permalink":"http://fightinggg.github.io/indigo/QHOPS0.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Dockerå¸¸è§å‚æ•°èµ„æºé™åˆ¶12--cpus 0.8-m 800m æ–‡ä»¶å¤¹æ˜ å°„1-v /root/.m2:/root/.m2","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Dockerå¸¸è§å‚æ•°èµ„æºé™åˆ¶12--cpus 0.8-m 800m æ–‡ä»¶å¤¹æ˜ å°„1-v /root/.m2:/root/.m2 å®‰è£…docker12345678910111213141516171819202122232425262728293031323334# é…ç½®yumcurl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-8.repo# åˆ é™¤æ—§ç‰ˆæœ¬yum remove docker docker-client docker-client-latest docker-common \\ docker-latest docker-latest-logrotate docker-logrotate docker-engine# å®‰è£…yum-utilsecho &quot; === install yum-utils === &quot;yum install -y yum-utils#å¢åŠ é•œåƒåœ°å€yum-config-manager \\ --add-repo \\ https://download.docker.com/linux/centos/docker-ce.repo # dockeryum install docker-ce docker-ce-cli containerd.io -ysystemctl start docker.servicesystemctl enable docker.servicedocker version# ä¸‹é¢çš„æŒ‡ä»¤ä¸çŸ¥é“æ˜¯å¹²å˜›çš„# å®‰è£…containerd.io#echo &quot; === install containerd.io === &quot;#yum install -y https://mirrors.aliyun.com/docker-ce/linux/centos/7/x86_64/edge/Packages/containerd.io-1.2.6-3.3.el7.x86_64.rpm# å®‰è£…docker#echo &quot; === install docker === &quot;#yum install -y docker-ce-3:19.03.13-3.el8#sed -i &#x27;s/^ExecStart=\\/usr\\/bin\\/dockerd/ExecStart=\\/usr\\/bin\\/dockerd --exec-opt native.cgroupdriver=systemd/&#x27; /usr/lib/systemd/system/docker.service#systemctl start docker.service#systemctl enable docker.service#docker version docker æ¢æº12345678910111213141516cat &gt;&gt;/etc/docker/daemon.json &lt;&lt;EOF&#123; &quot;registry-mirrors&quot;:[ &quot;http://docker.mirrors.ustc.edu.cn&quot;, &quot;http://hub-mirror.c.163.com&quot;, &quot;http://registry.docker-cn.com&quot; ] , &quot;insecure-registries&quot;:[ &quot;docker.mirrors.ustc.edu.cn&quot;, &quot;registry.docker-cn.com&quot; ]&#125; EOF# é‡å¯dockerç”Ÿæ•ˆservice docker restart å¯dockerç”Ÿæ•ˆservice docker restart é•œåƒå°±æ˜¯ç±»ä¼¼äºè™šæ‹Ÿæœºä¸­çš„isoæ–‡ä»¶ å®¹å™¨å°±æ˜¯è¿è¡Œä¸­çš„ç³»ç»Ÿ taræ–‡ä»¶å°†ä¸€ä¸ªé•œåƒä¿å­˜ä¸ºtaræ–‡ä»¶ Dockerfileå†™æ„å»ºçš„æ­¥éª¤æ¥åˆ¶ä½œé•œåƒ ä»“åº“ä¿å­˜äº†å¾ˆå¤šé•œåƒ å…è´¹ä½¿ç”¨ç‚¹è¿™é‡Œ â€“link myng:myngå°†å¦ä¸€ä¸ªå®¹å™¨å‚¨å­˜ä¸ºåŸŸåï¼Œå…¶å®æ˜¯åœ¨&#x2F;etc&#x2F;hostsä¸­åŠ å…¥äº†ä¸€è¡Œæ˜ å°„ å¤æ‚çš„Dockeræ¯”æ–¹ä½ æœ‰ä¸€ä¸ªnginxæœåŠ¡ï¼ŒphpæœåŠ¡ï¼ŒmysqlæœåŠ¡ï¼Œnginxä¾èµ–phpï¼Œphpä¾èµ–mysqlï¼Œè¿™ä¸ªä¾èµ–å…³ç³»å¯¼è‡´æˆ‘ä»¬éœ€è¦å…ˆåˆ›å»ºmysqï¼Œç„¶ååˆ›å»ºphpã€‚è¿™å°±å¾ˆéº»çƒ¦ï¼Œéƒ¨ç½²ã€é‡å¯å•Šå¾ˆéº»çƒ¦çš„ã€‚ docker-compose1vim docker-compose.yml 1234567891011121314151617version: &quot;3&quot;services: nginx: image: nginx ports: - 80:80 volumes: - /root/html:/usr/share/nginx/html - /root/conf/nginx.conf:/etc/nginx/nginx.conf php: image: php volumes: - /root/html:/var/www/html mysql: images: mysql enviroment: - MYSQL_ROOT_PASSWORD=123456 å¯åŠ¨ 1docker-compose up -d æ•…éšœæŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€ï¼ˆè‹¥é˜²ç«å¢™ä¸ºå…³é—­çŠ¶æ€ï¼Œå¯è·³è¿‡é˜²ç«å¢™æœ‰å…³è®¾ç½®ï¼‰ï¼š sudo firewall-cmd --state è‹¥è¿”å›rungingï¼Œåˆ™é˜²ç«å¢™ä¸ºå¼€å¯çŠ¶æ€ï¼ŒæŸ¥çœ‹é˜²ç«å¢™æ˜¯å¦å¼€å¯ipåœ°å€è½¬å‘ï¼ˆipåœ°å€ä¼ªè£…ï¼‰ï¼š sudo firewall-cmd --query-masquerade è‹¥è¿”å›noï¼Œåˆ™è¾“å…¥ä»¥ä¸‹å‘½ä»¤å¼€å¯ipåœ°å€è½¬å‘ï¼š sudo firewall-cmd --add-masquerade --permanent ç„¶åè¾“å…¥ä»¥ä¸‹å‘½ä»¤ä½¿ä¿®æ”¹ç”Ÿæ•ˆï¼š sudo firewall-cmd --reload å¦‚æœæœ‰ä¸€å¤©å‘ç°dockeræŠŠç©ºé—´å æ»¡äº†ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆæš‚åœdockerï¼Œç„¶åä½¿ç”¨è½¯è¿æ¥å°†&#x2F;var&#x2F;lib&#x2F;dockeræ”¾ç½®åˆ°å…¶ä»–åœ°æ–¹ Dockerä¸´æ—¶å®¹å™¨å¦™ç”¨123docker run -it --rm --net=host centos:centos8 bashyum install vim wget lrzsz -y å°å†…å­˜1-m 50M --memory-swap=1024M \\ Docsker è‡ªåŠ¨æ›´æ–°å®¹å™¨12345docker run -d \\--name watchtower \\-v /var/run/docker.sock:/var/run/docker.sock \\-m 50M --memory-swap=1024M \\v2tec/watchtower Dockerçš„å‘åƒä¸‡ä¸è¦åœ¨dockerå¯åŠ¨ä»¥åé‡å¯é˜²ç«å¢™ï¼ï¼ï¼ï¼ï¼ï¼ Docker å‘½ä»¤è¡Œdockeréå¸¸æœ‰ç”¨ï¼Œå¾ˆå¤šæ—¶å€™ä½ ä¸éœ€è¦ä¸‹è½½é‚£äº›å¥‡æ€ªçš„ä¸œè¥¿ï¼Œä½ åªéœ€è¦ä¸€ä¸ªåˆ«åï¼Œå°±èƒ½ä½¿ç”¨ä¸‹é¢è¿™äº›åº”ç”¨ 1234567891011alias busybox=&#x27;docker run -it --rm -v $PWD:$PWD -w $PWD busybox&#x27;alias centos=&#x27;docker run -it --rm -v $PWD:$PWD -w $PWD centos:8&#x27;alias dot=&#x27;docker run -it --rm -v $PWD:$PWD -w $PWD fightinggg/graphviz dot&#x27;alias rar=&#x27;docker run -it --rm -v $PWD:$PWD -w $PWD fightinggg/rar rar&#x27;alias unrar=&#x27;docker run -it --rm -v $PWD:$PWD -w $PWD fightinggg/rar unrar&#x27;alias java8=&#x27;docker run -it --rm -v $PWD:$PWD -w $PWD openjdk:8 java&#x27;alias mvn8=&#x27;docker run -it --rm -v $HOME/.m2:/root/.m2 -v $PWD:$PWD -w $PWD maven:3.8.1-jdk-8 mvn&#x27;alias java=&#x27;docker run -it --rm -v $PWD:$PWD -w $PWD openjdk java&#x27;alias mvn=&#x27;docker run -it --rm -v $HOME/.m2:/root/.m2 -v $PWD:$PWD -w $PWD maven mvn&#x27;alias jpegoptim=&#x27;docker run -it --rm -v $PWD:$PWD -w $PWD fightinggg/jpegoptim jpegoptim&#x27;alias tree=&#x27;docker run -it --rm -v $PWD:$PWD -w $PWD fightinggg/tree tree&#x27; å‚è€ƒ10åˆ†é’Ÿï¼Œå¿«é€Ÿå­¦ä¼šdocker å®æˆ˜~å¦‚ä½•ç»„ç»‡ä¸€ä¸ªå¤šå®¹å™¨é¡¹ç›®docker-compose","categories":[{"name":"Docker","slug":"Docker","permalink":"http://fightinggg.github.io/indigo/categories/Docker/"}],"tags":[]},{"title":"k8s","slug":"Docker/K8s/k8s/index","date":"2020-09-30T16:00:00.000Z","updated":"2021-09-24T03:33:00.000Z","comments":true,"path":"QHHB40.html","link":"","permalink":"http://fightinggg.github.io/indigo/QHHB40.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial K8Så®‰è£…docker12345678910111213141516sudo yum remove docker \\ docker-client \\ docker-client-latest \\ docker-common \\ docker-latest \\ docker-latest-logrotate \\ docker-logrotate \\ docker-enginesudo yum-config-manager \\ --add-repo \\ https://download.docker.com/linux/centos/docker-ce.reposudo sed -i &#x27;s/$releasever/7/g&#x27; /etc/yum.repos.d/docker-ce.reposudo yum update -ysudo yum install yum-utils docker-ce docker-ce-cli containerd.io -ysudo systemctl start docker kubaadm å¼•å¯¼åˆå§‹åŒ–K8Sé›†ç¾¤123456kubeadm init --pod-network-cidr 10.244.0.0/16 --control-plane-endpoint k8s-control-plane-endpoint-vip:6443 --upload-certs --kubernetes-version=v1.22.1kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml# å…è®¸masterèŠ‚ç‚¹è¿›è¡Œè´Ÿè½½kubectl taint nodes --all node-role.kubernetes.io/master-vim /etc/kubernetes/manifests/kube-apiserver.yaml#- --service-node-port-range=1000-32000 12# åŠ å…¥æ§åˆ¶å¹³é¢kubeadm join k8s-control-plane-endpoint-vip:6443 --token xxxxxx.xxxxxxxxxxxxxxxx --discovery-token-ca-cert-hash sha256:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx --control-plane --certificate-key xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial K8Så®‰è£…docker12345678910111213141516sudo yum remove docker \\ docker-client \\ docker-client-latest \\ docker-common \\ docker-latest \\ docker-latest-logrotate \\ docker-logrotate \\ docker-enginesudo yum-config-manager \\ --add-repo \\ https://download.docker.com/linux/centos/docker-ce.reposudo sed -i &#x27;s/$releasever/7/g&#x27; /etc/yum.repos.d/docker-ce.reposudo yum update -ysudo yum install yum-utils docker-ce docker-ce-cli containerd.io -ysudo systemctl start docker kubaadm å¼•å¯¼åˆå§‹åŒ–K8Sé›†ç¾¤123456kubeadm init --pod-network-cidr 10.244.0.0/16 --control-plane-endpoint k8s-control-plane-endpoint-vip:6443 --upload-certs --kubernetes-version=v1.22.1kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml# å…è®¸masterèŠ‚ç‚¹è¿›è¡Œè´Ÿè½½kubectl taint nodes --all node-role.kubernetes.io/master-vim /etc/kubernetes/manifests/kube-apiserver.yaml#- --service-node-port-range=1000-32000 12# åŠ å…¥æ§åˆ¶å¹³é¢kubeadm join k8s-control-plane-endpoint-vip:6443 --token xxxxxx.xxxxxxxxxxxxxxxx --discovery-token-ca-cert-hash sha256:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx --control-plane --certificate-key xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx K8Så®¢æˆ·ç«¯12export KUBECONFIG=/etc/kubernetes/admin.confsudo kubectl get pods K8Sèµ„æºè´Ÿè½½æƒ…å†µ123curl -L https://github.com/kubernetes-sigs/metrics-server/releases/download/v0.3.6/components.yaml \\| sed -s &#x27;s/k8s.gcr.io/registry.cn-hangzhou.aliyuncs.com\\/google_containers/g&#x27; \\| kubectl apply -f - å‚è€ƒ 123456# echo &quot;serverTLSBootstrap: true&quot; &gt;&gt; /var/lib/kubelet/config.yamlsystemctl daemon-reloadsystemctl restart kubelet.servicekubectl get csrkubectl certificate approve xxx ??? K8S èµ„æºé™åˆ¶123456789101112131415161718192021222324252627282930313233echo &quot;===prepare workspace===&quot;if [ ! -d &quot;workspace&quot; ]; thenecho &quot;create new workspace&quot;mkdir workspaceficd workspaceecho &quot;===goto current space===&quot;version=$[$(ls | sort -n | tail -n 1)+1]mkdir $versioncd $versionecho &quot;Version: $version&quot;echo &quot;Space: $(pwd)&quot;echo &quot;===deploy to k8s===&quot;mkdir deploycd deploycat&gt;limitRange.yaml&lt;&lt;EOFapiVersion: v1kind: LimitRangemetadata: name: cpu-min-max-demo-lrspec: limits: - max: cpu: &quot;800m&quot; min: cpu: &quot;200m&quot; type: ContainerEOFkubectl apply -f limitRange.yamlcd .. K8Sé‡å¯å¤±è´¥12345678910systemctl status kubelet -n 1000free -m # çœ‹çœ‹swapåˆ†åŒºæ˜¯å¦è¢«æ‰“å¼€swapoff -asystemctl daemon-reloadsystemctl restart kubelethostname -fhostname xxxxxxx é‡è£…123kubeadm resetrm -rf /etc/kubernetesrm -rf /var/lib/etcd/ simple Java Project123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153echo -e &quot;===prepare workspace===&quot;if [ ! -d &quot;workspace&quot; ]; thenecho &quot;create new workspace&quot;mkdir workspaceficd workspaceecho -e &quot;===goto current space===&quot;version=$[$(ls | sort -n | tail -n 1)+1]mkdir $versioncd $versionecho &quot;Version: $version&quot;echo &quot;Space: $(pwd)&quot;echo -e &quot;===set parmas===&quot;gitPath=xxxxgirBranch=xxxx# mavenMirror=https://maven.aliyun.com/repository/publicmavenMirror=xxxxmavenCacheVolume=maven-repo# mavenImage=maven:3.6.3-openjdk-16mavenImage=maven:3.6.3-jdk-8mavenPackageTarget=xxx-start/target/*.jar# jdkImage=openjdk:16-jdkjdkImage=openjdk:8-jdkjavaApp=xxxxecho -e &quot;===get code===&quot;docker run -i --rm \\ -v $&#123;HOME&#125;:/root \\ -v $(pwd)/src:/git \\ alpine/git \\ clone $gitPath .pwdecho $girBranchdocker run -i --rm \\ -v $&#123;HOME&#125;:/root \\ -v $(pwd)/src:/git \\ alpine/git \\ checkout $girBranch echo -e &quot;===build target===&quot;mkdir .m2cat&gt;.m2/settings.xml&lt;&lt;EOF&lt;settings&gt; &lt;mirrors&gt; &lt;mirror&gt; &lt;id&gt;proxy&lt;/id&gt; &lt;mirrorOf&gt;central&lt;/mirrorOf&gt; &lt;name&gt;proxy maven&lt;/name&gt; &lt;url&gt;$mavenMirror&lt;/url&gt; &lt;/mirror&gt; &lt;/mirrors&gt;&lt;/settings&gt;EOFdocker volume create --name $mavenCacheVolumedocker run -i --rm \\ -v $(pwd)/src:/usr/src/mymaven \\ -v $mavenCacheVolume:/root/.m2/repository \\ -v $(pwd)/.m2/settings.xml:/root/.m2/settings.xml \\ -w /usr/src/mymaven \\ $mavenImage \\ mvn package -Dmaven.test.skip=trueecho -e &quot;===move jar===&quot;mkdir imagemv src/$mavenPackageTarget image/main.jarecho -e &quot;===build image===&quot;cd imagecat&gt;Dockerfile&lt;&lt;EOFFROM $jdkImageCOPY main.jar /main.jarCOPY entrypoint.sh /entrypoint.shCMD [&quot;sh&quot;,&quot;entrypoint.sh&quot;]EOFcat&gt;entrypoint.sh&lt;&lt;EOFjava -jar -Xmx250m -Xms200m -Dserver.port=80 /main.jar --logger.print-parmas.enable=trueEOFdocker build -t $javaApp:$version .cd ..echo -e &quot;===deploy to k8s===&quot;mkdir deploycd deploycat&gt;$&#123;javaApp&#125;-deployment.yaml&lt;&lt;EOFapiVersion: apps/v1kind: Deploymentmetadata: name: $&#123;javaApp&#125;-deployment labels: app: $javaAppspec: replicas: 1 selector: matchLabels: app: $javaApp template: metadata: labels: app: $javaApp spec: containers: - name: $javaApp image: $javaApp:$version imagePullPolicy: IfNotPresent env: - name: ENV value: &quot;env&quot; ports: - containerPort: 80 resources: limits: cpu: 0.3 memory: 400Mi requests: cpu: 0.3 memory: 300Mi livenessProbe: httpGet: path: /swagger-ui/ port: 80 initialDelaySeconds: 100 periodSeconds: 3 strategy: # ç­–ç•¥ type: RollingUpdate # ä¹Ÿå¯ä»¥æ˜¯Recreate rollingUpdate: maxUnavailable: 50% # æ»šåŠ¨æ›´æ–°çš„æ—¶å€™çš„æœ€å¤§ä¸å¯ç”¨podæ•°é‡ï¼Œ å¯ä»¥æ˜¯ç»å¯¹æ•°å­—æˆ–è€…æ¯”ä¾‹10% maxSurge: 50% # åŠ¨æ›´æ–°çš„æ—¶å€™çš„æº¢å‡ºçš„podæ•°é‡ï¼Œä¹Ÿå¯ä»¥æ˜¯ç»å¯¹æ•°å­— progressDeadlineSeconds: 150 # è¿›åº¦æœŸé™ç§’æ•°ï¼Œä¸æ‡‚æ˜¯ä»€ä¹ˆ minReadySeconds: 100 # æœ€çŸ­å°±ç»ªæ—¶é—´ï¼Œ å®¹å™¨åˆ›å»ºå¤šä¹…ä»¥åè¢«è§†ä¸ºå°±ç»ª revisionHistoryLimit: 3 # å†å²ä¿®è®¢é™åˆ¶ï¼Œ ä¿ç•™çš„rsçš„æ•°é‡ï¼Œè¿™ä¸ªæ•°é‡ä¼šæ¶ˆè€—etcdèµ„æºï¼Œrsåˆ é™¤äº†å°±ä¸èƒ½å›æ»šåˆ€é‚£ä¸ªç‰ˆæœ¬çš„Deploymentäº†EOFcat&gt;$&#123;javaApp&#125;-service.yaml&lt;&lt;EOFapiVersion: v1kind: Servicemetadata: name: $&#123;javaApp&#125;-servicespec: type: NodePort selector: app: $javaApp ports: - port: 80 targetPort: 80 nodePort: 10010EOFkubectl apply -f $&#123;javaApp&#125;-deployment.yamlkubectl apply -f $&#123;javaApp&#125;-service.yamlcd .. k8så¼ºåˆ¶é‡å¯pod1kubectl replace --force -f xxx.yaml","categories":[{"name":"Docker","slug":"Docker","permalink":"http://fightinggg.github.io/indigo/categories/Docker/"},{"name":"K8s","slug":"Docker/K8s","permalink":"http://fightinggg.github.io/indigo/categories/Docker/K8s/"}],"tags":[]},{"title":"SSH","slug":"æ“ä½œç³»ç»Ÿ/Linux/SSH/index","date":"2020-09-14T14:42:00.000Z","updated":"2020-09-14T14:42:00.000Z","comments":true,"path":"QGNKU0.html","link":"","permalink":"http://fightinggg.github.io/indigo/QGNKU0.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial SSH Install1234567891011# å¿…é¡»å®‰è£…passwdyum install openssh-server openssh-clients passwd -y; \\sed -i &quot;s/^UsePAM yes/UsePAM no/g&quot; /etc/ssh/sshd_config; \\echo 123456 | passwd root --stdin; \\ssh-keygen -t rsa -P &#x27;&#x27; -f ~/.ssh/id_rsa; \\cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys; \\chmod 0600 ~/.ssh/authorized_keys; \\ssh-keygen -q -N &quot;&quot; -t rsa -f /etc/ssh/ssh_host_rsa_key; \\ssh-keygen -q -N &quot;&quot; -t ecdsa -f /etc/ssh/ssh_host_ecdsa_key; \\ssh-keygen -q -N &quot;&quot; -t ed25519 -f /etc/ssh/ssh_host_ed25519_key; \\/usr/sbin/sshd SSH Install212345678# å¿…é¡»å®‰è£…passwdyum install openssh-server openssh-clients passwd -y; \\sed -i &quot;s/^UsePAM yes/UsePAM no/g&quot; /etc/ssh/sshd_config; \\echo 123456 | passwd root --stdin; \\ssh-keygen -q -N &quot;&quot; -t rsa -f /etc/ssh/ssh_host_rsa_key; \\ssh-keygen -q -N &quot;&quot; -t ecdsa -f /etc/ssh/ssh_host_ecdsa_key; \\ssh-keygen -q -N &quot;&quot; -t ed25519 -f /etc/ssh/ssh_host_ed25519_key; \\/usr/sbin/sshd id_rsa1chmod 0600 id_rsa 123xxxx~~~~xxxx authorized_keys1ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCxlCDiJkFEK+cI9i1RltBdzhmkpEOHxGaqJh9CXzkmWRCYE1IaqBQ3ev+kHMShMX48crpdv1mHVrMvt9Kpo7PhkZem+Pd5i+PMVw53MY3Ow0ntoaqK0nBclDieJNmb32BfdI19nm4j6bSyyh8IMmYPsBfTR5wO+5u4cZxXb4I4mocVtvQXa3g7yZHaeEAVL9WfCrWM8/tH/7sAcP3pxdIuoIht/dMBU6wbRt7oPPC7pgw4uDq6y0sHv5SR9zlrmyqusZHDkg+BUaaFnsxnwREuC5Ll1q6ufqNBoUhTETxmZTaqMiwXyKb3gIer8BVctLRoKstNxX08CBiM/1RNzFX3 1144560553@qq.com id_rsa.pub1ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCxlCDiJkFEK+cI9i1RltBdzhmkpEOHxGaqJh9CXzkmWRCYE1IaqBQ3ev+kHMShMX48crpdv1mHVrMvt9Kpo7PhkZem+Pd5i+PMVw53MY3Ow0ntoaqK0nBclDieJNmb32BfdI19nm4j6bSyyh8IMmYPsBfTR5wO+5u4cZxXb4I4mocVtvQXa3g7yZHaeEAVL9WfCrWM8/tH/7sAcP3pxdIuoIht/dMBU6wbRt7oPPC7pgw4uDq6y0sHv5SR9zlrmyqusZHDkg+BUaaFnsxnwREuC5Ll1q6ufqNBoUhTETxmZTaqMiwXyKb3gIer8BVctLRoKstNxX08CBiM/1RNzFX3 1144560553@qq.com Problem System is booting up. Unprivileged users are not permitted to log in yet Docker Install Dockerfile 123456789101112FROM centos:centos8RUN yum install openssh-server openssh-clients passwd -y; \\sed -i &quot;s/^UsePAM yes/UsePAM no/g&quot; /etc/ssh/sshd_config; \\echo 123456 | passwd root --stdin; \\ssh-keygen -t rsa -P &#x27;&#x27; -f ~/.ssh/id_rsa; \\cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys; \\chmod 0600 ~/.ssh/authorized_keys; \\ssh-keygen -q -N &quot;&quot; -t rsa -f /etc/ssh/ssh_host_rsa_key; \\ssh-keygen -q -N &quot;&quot; -t ecdsa -f /etc/ssh/ssh_host_ecdsa_key; \\ssh-keygen -q -N &quot;&quot; -t ed25519 -f /etc/ssh/ssh_host_ed25519_key;EXPOSE 22CMD [&quot;/usr/sbin/sshd&quot;, &quot;-D&quot;] Build 1docker build -t sshd:centos8 . Run 1docker run -itd -p 2222:22 sshd:centos8 Connect 1ssh localhost -p 2222 USE12ssh root@9.135.10.2 -p 36000 -Pxxxx","categories":[{"name":"æ“ä½œç³»ç»Ÿ","slug":"æ“ä½œç³»ç»Ÿ","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"},{"name":"Linux","slug":"æ“ä½œç³»ç»Ÿ/Linux","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Linux/"}],"tags":[]},{"title":"Linux","slug":"æ“ä½œç³»ç»Ÿ/Linux/Linux/index","date":"2020-09-13T16:00:00.000Z","updated":"2020-09-13T16:00:00.000Z","comments":true,"path":"QGLTS0.html","link":"","permalink":"http://fightinggg.github.io/indigo/QGLTS0.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Linuxæ¢æº https://zhuanlan.zhihu.com/p/61228593 12345678910111213141516171819sudo cp /etc/apt/sources.list /etc/apt/sources.list_backupsudo vi /etc/apt/sources.list## æ·»åŠ åœ¨æœ€å‰é¢deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiversedeb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiversedeb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiversesudo apt-get update -ysudo apt-get upgrade -ysudo apt-get install build-essential -y å®‰è£…yum12sudo apt-get install build-essential -ysudo apt-get install yum -y XXDè¿™æ˜¯ä¸€ä¸ª16è¿›åˆ¶æŸ¥çœ‹å·¥å…· 12345# æŸ¥çœ‹å¸®åŠ©xxd -h# æŸ¥çœ‹æ–‡ä»¶å‰100ä¸ªå­—èŠ‚xxd -l 100 file.bin ODåŒXXD 1234od [é€‰é¡¹] æ–‡ä»¶od -d æ–‡ä»¶ åè¿›åˆ¶è¾“å‡º -o æ–‡ä»¶ å…«è¿›åˆ¶è¾“å‡º -x æ–‡ä»¶ åå…­è¿›åˆ¶è¾“ ç£ç›˜ç®¡ç†æŸ¥çœ‹ç£ç›˜ä½¿ç”¨æƒ…å†µ1df ç¬¬ä¸€åˆ—æ˜¯æ–‡ä»¶ç³»ç»Ÿï¼Œ ä¸€èˆ¬æ˜¯è™šæ‹Ÿç£ç›˜å’Œç‰©ç†ç£ç›˜ï¼Œæˆ‘ä»¬ä¸€èˆ¬åªç”¨å…³å¿ƒç‰©ç†ç£ç›˜ æŸ¥çœ‹æ–‡ä»¶å¤¹ä½¿ç”¨æƒ…å†µ1du -sh * vim123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384git clone https://github.com/VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim echo &gt;~/.vimrc&lt;&lt;EOF &quot; Vundle set nocompatiblefiletype offset rtp+=~/.vim/bundle/Vundle.vimcall vundle#begin()Plugin &#x27;VundleVim/Vundle.vim&#x27;Plugin &#x27;The-NERD-Tree&#x27;Plugin &#x27;gdbmgr&#x27;Plugin &#x27;mbbill/undotree&#x27;Plugin &#x27;majutsushi/tagbar&#x27;Plugin &#x27;vim-airline/vim-airline&#x27; &quot; çŠ¶æ€æ Plugin &#x27;vim-airline/vim-airline-themes&#x27; &quot;çŠ¶æ€æ Plugin &#x27;cohlin/vim-colorschemes&#x27; &quot; ä¸»é¢˜Plugin &#x27;tomasr/molokai&#x27; &quot; molokaiPlugin &#x27;jiangmiao/auto-pairs&#x27; &quot; æ‹¬å·è¡¥å…¨Plugin &#x27;plasticboy/vim-markdown&#x27;Plugin &#x27;iamcco/mathjax-support-for-mkdp&#x27; &quot; æ•°å­¦å…¬å¼Plugin &#x27;iamcco/markdown-preview.vim&#x27; &quot; markdowné¢„è§ˆ&quot;Plugin &#x27;Valloric/YouCompleteMe&#x27;&quot;Plugin &#x27;zxqfl/tabnine-vim&#x27;Plugin &#x27;w0rp/ale&#x27; &quot; è¯­æ³•çº é”™Plugin &#x27;octol/vim-cpp-enhanced-highlight&#x27; &quot; c++è¯­æ³•é«˜äº®Plugin &#x27;Shougo/echodoc.vim&#x27; &quot; c++å‡½æ•°æç¤ºPlugin &#x27;Chiel92/vim-autoformat&#x27; &quot; c++ä»£ç æ ¼å¼åŒ–Plugin &#x27;scrooloose/nerdcommenter&#x27; &quot; c++ä»£ç æ³¨é‡ŠPlugin &#x27;ashfinal/vim-colors-violet&#x27; &quot; é…è‰²Plugin &#x27;terryma/vim-multiple-cursors&#x27; &quot; vim å¤šè¡Œç¼–è¾‘Plugin &#x27;mhinz/vim-startify&#x27;call vundle#end()filetype plugin indent onset et &quot;tabç”¨ç©ºæ ¼æ›¿æ¢set tabstop=2set expandtab&quot; Tabé”®çš„å®½åº¦set softtabstop=2set shiftwidth=2&quot; ç»Ÿä¸€ç¼©è¿›ä¸º2set number&quot; æ˜¾ç¤ºè¡Œå·set history=10000&quot; å†å²çºªå½•æ•°set hlsearchset incsearch&quot; æœç´¢é€å­—ç¬¦é«˜äº®set encoding=utf-8set fileencodings=utf-8,ucs-bom,shift-jis,gb18030,gbk,gb2312,cp936,utf-16,big5,euc-jp,latin1&quot; ç¼–ç è®¾ç½®&quot; set mouse=a&quot; use mouseset langmenu=zn_CN.UTF-8set helplang=cn&quot; è¯­è¨€è®¾ç½®set laststatus=2&quot; æ€»æ˜¯æ˜¾ç¤ºçŠ¶æ€è¡Œ å°±æ˜¯é‚£äº›æ˜¾ç¤º --insert-- çš„æ€ªä¸œè¥¿set showcmd&quot; åœ¨çŠ¶æ€è¡Œæ˜¾ç¤ºç›®å‰æ‰€æ‰§è¡Œçš„å‘½ä»¤ï¼Œæœªå®Œæˆçš„æŒ‡ä»¤ç‰‡æ®µäº¦ä¼šæ˜¾ç¤ºå‡ºæ¥set scrolloff=3&quot; å…‰æ ‡ç§»åŠ¨åˆ°bufferçš„é¡¶éƒ¨å’Œåº•éƒ¨æ—¶ä¿æŒ3è¡Œè·ç¦»set showmatch&quot; é«˜äº®æ˜¾ç¤ºå¯¹åº”çš„æ‹¬å·set matchtime=1&quot; å¯¹åº”æ‹¬å·é«˜äº®çš„æ—¶é—´ï¼ˆå•ä½æ˜¯ååˆ†ä¹‹ä¸€ç§’ï¼‰colorscheme molokaiEOFvim +PluginInstall +qall Net CommondCentos8 IPç½‘ç»œé…ç½®1/etc/sysconfig/network-scripts/* Centos8é‡æ–°è½½å…¥ç½‘ç»œè®¾ç½®12nmcli c reloadnmcli c up ens32","categories":[{"name":"æ“ä½œç³»ç»Ÿ","slug":"æ“ä½œç³»ç»Ÿ","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"}],"tags":[]},{"title":"elasticSearch","slug":"å¤§æ•°æ®/ES/elasticSearch/index","date":"2020-09-02T16:00:00.000Z","updated":"2020-09-02T16:00:00.000Z","comments":true,"path":"QG1GG0.html","link":"","permalink":"http://fightinggg.github.io/indigo/QG1GG0.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Elasticsearchæ–‡æ¡£https://www.elastic.co/guide/en/elasticsearch/reference/current/elasticsearch-intro.html","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Elasticsearchæ–‡æ¡£https://www.elastic.co/guide/en/elasticsearch/reference/current/elasticsearch-intro.html Install ESDocker Install ES12345678910111213141516171819202122232425262728293031323334353637383940414243# see https://www.elastic.co/guide/en/enterprise-search/current/docker.htmldocker rm -f elasticsearch kibana enterprise-searchdocker run -d \\--name elasticsearch \\-p 9200:9200 \\-p 9300:9300 \\-e &quot;discovery.type=single-node&quot; \\-e &quot;ES_JAVA_OPTS=-Xms512m -Xmx512m&quot; \\-e &quot;xpack.security.enabled=true&quot; \\-e &quot;xpack.security.authc.api_key.enabled=true&quot; \\-e &quot;ELASTIC_PASSWORD=changeme&quot; \\docker.elastic.co/elasticsearch/elasticsearch:8.1.0# username enterprise_search# password changemedocker run -d \\--name enterprise-search \\-p 3002:3002 \\--link elasticsearch:elasticsearch \\-e &quot;JAVA_OPTS=-Xms512m -Xmx512m&quot; \\-e &quot;ENT_SEARCH_DEFAULT_PASSWORD=changeme&quot; \\-e &quot;elasticsearch.username=elastic&quot; \\-e &quot;elasticsearch.password=changeme&quot; \\-e &quot;elasticsearch.host=http://elasticsearch:9200&quot; \\-e &quot;allow_es_settings_modification=true&quot; \\-e &quot;secret_management.encryption_keys=[4a2cd3f81d39bf28738c10db0ca782095ffac07279561809eecc722e0c20eb09]&quot; \\-e &quot;elasticsearch.startup_retry.interval=15&quot; \\docker.elastic.co/enterprise-search/enterprise-search:7.10.1docker run -d \\--name kibana \\--link elasticsearch:elasticsearch \\--link enterprise-search:enterprise-search \\-e &quot;ELASTICSEARCH_HOSTS=http://elasticsearch:9200&quot; \\-e &quot;ENTERPRISESEARCH_HOST=http://enterprise-search:3002&quot; \\-e &quot;ELASTICSEARCH_USERNAME=elastic&quot; \\-e &quot;ELASTICSEARCH_PASSWORD=changeme&quot; \\-e &quot;secret_management.encryption_keys=[4a2cd3f81d39bf28738c10db0ca782095ffac07279561809eecc722e0c20eb09]&quot; \\-p 5601:5601 \\docker.elastic.co/kibana/kibana:7.10.1 \\/usr/local/bin/kibana-docker \\--enterpriseSearch.host=http://enterprise-search:3002 K8s Install ES123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106echo -e &quot;===prepare workspace===&quot;if [ ! -d &quot;workspace&quot; ]; thenecho &quot;create new workspace&quot;mkdir workspaceficd workspaceecho -e &quot;===goto current space===&quot;version=$[$(ls | sort -n | tail -n 1)+1]mkdir $versioncd $versionecho &quot;Version: $version&quot;echo &quot;Space: $(pwd)&quot;echo -e &quot;===deploy to k8s===&quot;mkdir deploycd deploycat&gt;elasticsearch-deployment.yaml&lt;&lt;EOFapiVersion: apps/v1kind: Deploymentmetadata: name: elasticsearch-deployment labels: app: elasticsearchspec: replicas: 1 selector: matchLabels: app: elasticsearch template: metadata: labels: app: elasticsearch spec: containers: - name: elasticsearch image: elasticsearch:7.5.1 imagePullPolicy: IfNotPresent env: - name: &quot;discovery.type&quot; value: &quot;single-node&quot; ports: - containerPort: 9200 - containerPort: 9300 resources: limits: cpu: 0.3 memory: 2000Mi requests: cpu: 0.3 memory: 300Mi # livenessProbe: # httpGet: # path: / # port: 9200 # initialDelaySeconds: 10 # periodSeconds: 3 - name: kibana image: kibana:7.5.1 imagePullPolicy: IfNotPresent env: - name: &quot;ELASTICSEARCH_HOSTS&quot; value: &quot;http://127.0.0.1:9200&quot; ports: - containerPort: 5601 resources: limits: cpu: 0.3 memory: 1000Mi requests: cpu: 0.3 memory: 300Mi #livenessProbe: # httpGet: # port: 5601 # initialDelaySeconds: 10 # periodSeconds: 3EOFcat&gt;elasticsearch-service.yaml&lt;&lt;EOFapiVersion: v1kind: Servicemetadata: name: elasticsearch-servicespec: type: NodePort selector: app: elasticsearch ports: - port: 5601 targetPort: 5601 nodePort: 5601 name: kibana-web - port: 9200 targetPort: 9200 nodePort: 9200 name: es-http - port: 9300 targetPort: 9300 nodePort: 9300 name: es-tcpEOFkubectl apply -f elasticsearch-deployment.yamlkubectl apply -f elasticsearch-service.yamlcd .. Chrome Head Pluginæ’ä»¶åœ°å€ Shell è¿æ¥1curl -u &#x27;password&#x27; IP:9200","categories":[{"name":"å¤§æ•°æ®","slug":"å¤§æ•°æ®","permalink":"http://fightinggg.github.io/indigo/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/"},{"name":"ES","slug":"å¤§æ•°æ®/ES","permalink":"http://fightinggg.github.io/indigo/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/ES/"}],"tags":[]},{"title":"Impala","slug":"å¤§æ•°æ®/Impala/index","date":"2020-08-29T16:00:00.000Z","updated":"2020-08-29T16:00:00.000Z","comments":true,"path":"QFU1S0.html","link":"","permalink":"http://fightinggg.github.io/indigo/QFU1S0.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Impalaimpalaæä¾›å¯¹HDFSã€Hbaseæ•°æ®çš„é«˜æ€§èƒ½ã€ä½å»¶è¿Ÿçš„äº¤äº’å¼SQLæŸ¥è¯¢åŠŸèƒ½ã€‚åŸºäºHiveä½¿ç”¨å†…å­˜è®¡ç®—ï¼Œå…¼é¡¾æ•°æ®ä»“åº“ã€å…·æœ‰å®æ—¶ã€æ‰¹å¤„ç†ã€å¤šå¹¶å‘ç­‰ä¼˜ç‚¹ã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Impalaimpalaæä¾›å¯¹HDFSã€Hbaseæ•°æ®çš„é«˜æ€§èƒ½ã€ä½å»¶è¿Ÿçš„äº¤äº’å¼SQLæŸ¥è¯¢åŠŸèƒ½ã€‚åŸºäºHiveä½¿ç”¨å†…å­˜è®¡ç®—ï¼Œå…¼é¡¾æ•°æ®ä»“åº“ã€å…·æœ‰å®æ—¶ã€æ‰¹å¤„ç†ã€å¤šå¹¶å‘ç­‰ä¼˜ç‚¹ã€‚ Impalaçš„ä¼˜ç‚¹ åŸºäºå†…å­˜è®¡ç®— ä¸ä½¿ç”¨MR C++ç¼–å†™è®¡ç®—å±‚ï¼ŒJavaç¼–å†™ç¼–è¯‘å±‚ å…¼å®¹å¤§éƒ¨åˆ†HiveSQL æ”¯æŒæ•°æ®æœ¬åœ°è®¡ç®— å¯ä»¥ä½¿ç”¨Impala JDBCè®¿é—® Impalaçš„ç¼ºç‚¹ å¯¹å†…å­˜ä¾èµ–å¾ˆå¤§ å®Œå…¨ä¾èµ–Hive åªèƒ½è¯»å–æ–‡æœ¬æ–‡ä»¶ï¼Œä¸èƒ½è¯»å–äºŒè¿›åˆ¶æ–‡ä»¶ åœ¨Impalaæ›´æ–°çš„æ•°æ®ä¼šåŒæ­¥åˆ°Hiveï¼Œä½†æ˜¯åœ¨Hiveæ›´æ–°çš„æ•°æ®ä¸ä¼šè‡ªåŠ¨åŒæ­¥åˆ°Impala Impalaå’Œå…³ç³»å‹æ•°æ®åº“çš„å¼‚åŒ Impalaä¸æ”¯æŒäº‹åŠ¡å’Œç´¢å¼• Impalaå¯ä»¥ç®¡ç†PBçº§æ•°æ®ï¼Œä½†æ˜¯å…³ç³»å‹æ•°æ®åº“åªèƒ½ç®¡ç†TB Impalaå’ŒHiveçš„å¼‚åŒ ä½¿ç”¨HDFSï¼ŒHBaseå‚¨å­˜æ•°æ® ä½¿ç”¨ç›¸åŒçš„å…ƒæ•°æ® ä½¿ç”¨ç±»ä¼¼çš„SQLè¯æ³•åˆ†æç”Ÿæˆæ‰§è¡Œè®¡åˆ’ Impalaç”Ÿæˆæ‰§è¡Œè®¡åˆ’æ ‘ï¼ŒHiveä¼šç”ŸæˆMRæ¨¡å‹ Impalaä½¿ç”¨æ‹‰çš„æ–¹å¼ï¼Œåç»­èŠ‚ç‚¹ä¸»åŠ¨æ‹‰å–å‰é¢èŠ‚ç‚¹çš„æ•°æ®ï¼Œæ˜¯æµï¼Œ Hiveä½¿ç”¨æ¨çš„æ–¹å¼ï¼Œå‰é¢çš„èŠ‚ç‚¹æ‰§è¡Œå®Œæˆåä¼šå°†æ•°æ®ä¸»åŠ¨æ¨é€ç»™åé¢çš„èŠ‚ç‚¹ Impalaçš„æ¶æ„Impalaé›†ç¾¤æœ‰ä¸‰ä¸ªé‡è¦çš„ç»„ä»¶ï¼Œä»–ä»¬åˆ†åˆ«æ˜¯Impala Daemon, Impala Statestoreå’ŒImpala Metastore Impala DaemonImpala Daemonï¼ˆImpaladï¼‰åœ¨å®‰è£…Impalaçš„æ¯ä¸ªèŠ‚ç‚¹ä¸Šè¿è¡Œ, æ¥å—æ¥ç€å„ç§æ¥å£çš„æŸ¥è¯¢ï¼Œå½“ä¸€ä¸ªæŸ¥è¯¢æäº¤åˆ°æŸä¸ªImpala Daemonçš„æ—¶å€™ï¼Œè¿™ä¸ªèŠ‚ç‚¹å°±å……å½“åè°ƒå™¨ï¼Œå°†ä»»åŠ¡åˆ†å‘åˆ°é›†ç¾¤ Impala StateImpala Stateè´Ÿè´£æ£€æµ‹æ¯ä¸ªImpaladçš„è¿è¡ŒçŠ¶å†µï¼Œå¦‚æœæŸä¸ªImpala Daemonå‘ç”Ÿäº†æ•…éšœï¼Œåˆ™è¿™ä¸ªæ¶ˆæ¯ä¼šè¢«é€šçŸ¥åˆ°æ‰€æœ‰å…¶ä»–Impla Daemon Impala MatestoreImpala Matestoreå‚¨å­˜è¡¨çš„å…ƒæ•°æ®ä¿¡æ¯ Impalaè¯­æ³• æ—¶é—´å‡½æ•°ã€æ—¶é—´å·®ã€‘ 1datediff(now(),to_timestamp(strleft(ftime,10), &#x27;yyyy-MM-dd&#x27;)) &lt;= 7 å­—ç¬¦ä¸²æ±‚å’Œ 1sum(cast(time as bigint))","categories":[{"name":"å¤§æ•°æ®","slug":"å¤§æ•°æ®","permalink":"http://fightinggg.github.io/indigo/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/"}],"tags":[]},{"title":"Hadoopå­¦ä¹ ","slug":"å¤§æ•°æ®/Hadoopå­¦ä¹ /index","date":"2020-08-22T16:00:00.000Z","updated":"2020-08-22T16:00:00.000Z","comments":true,"path":"QFH340.html","link":"","permalink":"http://fightinggg.github.io/indigo/QFH340.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Hadoop","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Hadoop å®‰è£…Docker Install1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889echo -e &quot;===prepare workspace===&quot;if [ ! -d &quot;workspace&quot; ]; thenecho &quot;create new workspace&quot;mkdir workspaceficd workspaceecho -e &quot;===goto current space===&quot;version=$[$(ls | sort -n | tail -n 1)+1]mkdir $versioncd $versionecho &quot;Version: $version&quot;echo &quot;Space: $(pwd)&quot;cp ../../Dockerfile Dockerfilecat&gt;core-site.xml&lt;&lt;EOF&lt;configuration&gt; &lt;property&gt; &lt;name&gt;fs.defaultFS&lt;/name&gt; &lt;value&gt;hdfs://localhost:9000&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;hadoop.tmp.dir&lt;/name&gt; &lt;value&gt;/data/hadoop&lt;/value&gt; &lt;/property&gt;&lt;/configuration&gt;EOFcat&gt;mapred-site.xml&lt;&lt;EOF&lt;configuration&gt; &lt;property&gt; &lt;name&gt;mapreduce.framework.name&lt;/name&gt; &lt;value&gt;yarn&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;mapreduce.application.classpath&lt;/name&gt; &lt;value&gt;\\$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/*:\\$HADOOP_MAPRED_HOME/share/hadoop/mapreduce/lib/*&lt;/value&gt; &lt;/property&gt;&lt;/configuration&gt;EOFcat&gt;yarn-site.xml&lt;&lt;EOF&lt;configuration&gt; &lt;property&gt; &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt; &lt;value&gt;mapreduce_shuffle&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;yarn.nodemanager.env-whitelist&lt;/name&gt; &lt;value&gt;JAVA_HOME,HADOOP_COMMON_HOME,HADOOP_HDFS_HOME,HADOOP_CONF_DIR,CLASSPATH_PREPEND_DISTCACHE,HADOOP_YARN_HOME,HADOOP_MAPRED_HOME&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;yarn.resourcemanager.address&lt;/name&gt; &lt;value&gt;localhost:8032&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;yarn.resourcemanager.scheduler.address&lt;/name&gt; &lt;value&gt;localhost:8030&lt;/value&gt; &lt;/property&gt; &lt;property&gt; &lt;name&gt;yarn.resourcemanager.resource-tracker.address&lt;/name&gt; &lt;value&gt;localhost:8031&lt;/value&gt; &lt;/property&gt;&lt;/configuration&gt;EOFcat&gt;entrypoint.sh&lt;&lt;EOF/usr/sbin/sshdif [ ! -d &quot;/data/hadoop&quot; ]; thenhdfs namenode -formatfihdfs --daemon start datanodehdfs --daemon start namenode\\$HADOOP_HOME/sbin/start-yarn.shecho &quot;done!&quot;while true; do sleep 30; done;EOFdocker build -t hadoop:$version .docker rm -f hadoop || truedocker run -idt --rm \\ -p 9870:9870 \\ -p 8088:8088 \\ -v /data/hadoop:/data \\ --name hadoop \\ hadoop:$versiondocker logs hadoop -f 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051FROM centos:centos8# install sshRUN \\yum install openssh-server openssh-clients passwd -y; \\sed -i &quot;s/^UsePAM yes/UsePAM no/g&quot; /etc/ssh/sshd_config; \\echo 123456 | passwd root --stdin; \\ssh-keygen -t rsa -P &#x27;&#x27; -f ~/.ssh/id_rsa; \\cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys; \\chmod 0600 ~/.ssh/authorized_keys; \\ssh-keygen -q -N &quot;&quot; -t rsa -f /etc/ssh/ssh_host_rsa_key; \\ssh-keygen -q -N &quot;&quot; -t ecdsa -f /etc/ssh/ssh_host_ecdsa_key; \\ssh-keygen -q -N &quot;&quot; -t ed25519 -f /etc/ssh/ssh_host_ed25519_key;# install javaRUN \\yum install wget -y; \\wget https://download.java.net/java/early_access/jdk16/27/GPL/openjdk-16-ea+27_linux-x64_bin.tar.gz ;\\tar -zxf openjdk-16-ea+27_linux-x64_bin.tar.gz -C /usr/local/; # env javaENV JAVA_HOME /usr/local/jdk-16ENV PATH $PATH:$JAVA_HOME/bin# install hadoopRUN \\yum install wget -y; \\wget https://mirror.bit.edu.cn/apache/hadoop/common/hadoop-3.3.0/hadoop-3.3.0.tar.gz; \\tar -zxf hadoop-3.3.0.tar.gz -C /usr/local/; # env hadoopENV HADOOP_MAPRED_HOME /usr/local/hadoop-3.3.0ENV HADOOP_HOME /usr/local/hadoop-3.3.0ENV PATH $PATH:$HADOOP_HOME/binENV HDFS_NAMENODE_USER rootENV HDFS_DATANODE_USER rootENV HDFS_SECONDARYNAMENODE_USER rootENV YARN_RESOURCEMANAGER_USER rootENV YARN_NODEMANAGER_USER rootRUN \\sed &#x27;1 iexport JAVA_HOME=/usr/local/jdk-16&#x27; \\ -i $HADOOP_HOME/etc/hadoop/hadoop-env.sh; \\sed &#x27;1 iexport HADOOP_HOME=/usr/local/hadoop-3.3.0&#x27; \\ -i $HADOOP_HOME/etc/hadoop/hadoop-env.sh;COPY core-site.xml $HADOOP_HOME/etc/hadoop/core-site.xmlCOPY mapred-site.xml $HADOOP_HOME/etc/hadoop/mapred-site.xmlCOPY yarn-site.xml $HADOOP_HOME/etc/hadoop/yarn-site.xmlCOPY entrypoint.sh /entrypoint.shCMD [&quot;sh&quot;, &quot;/entrypoint.sh&quot;] K8S Install1234567891011121314151617181920212223242526272829303132333435363738394041424344454647cd .mkdir hadoop || truecd hadoopcat&gt;hadoop-deployment.yaml&lt;&lt;EOFapiVersion: apps/v1kind: Deploymentmetadata: name: hadoop-deployment labels: app: hadoopspec: replicas: 1 selector: matchLabels: app: hadoop template: metadata: labels: app: hadoop spec: containers: - name: hadoop image: sequenceiq/hadoop-docker:latest command: [&quot;/etc/bootstrap.sh&quot;] args: [&quot;-d&quot;] ports: - containerPort: 50070EOFcat&gt;hadoop-service.yaml&lt;&lt;EOFapiVersion: v1kind: Servicemetadata: name: hadoop-servicespec: type: NodePort selector: app: hadoop ports: - port: 50070 targetPort: 50070 nodePort: 30000EOFkubectl apply -f hadoop-deployment.yamlkubectl apply -f hadoop-service.yaml Hadoopæ¦‚è¿°ä¼˜ç‚¹ é«˜å¯é  é«˜æ‹“å±• é«˜æ•ˆæ€§ é«˜å®¹é”™ HDFSHDFSæ˜¯åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼ŒåŒ…å«NameNode, DataNodeå’ŒSecondary NameNode ç»„ä»¶ åŠŸèƒ½ NameNode å‚¨å­˜æ–‡ä»¶çš„å…ƒæ•°æ® DataNode å‚¨å­˜æ–‡ä»¶å—ï¼Œæ ¡éªŒå’Œ Secondary NameNode ååŠ©NameNodeå¤„ç†å…ƒæ•°æ® YARNYARNæ˜¯åˆ†å¸ƒå¼èµ„æºè°ƒåº¦å™¨ï¼ŒåŒ…å«äº†ResourceManager, NodeManager, ApplicationMaster, Container ç»„ä»¶ åŠŸèƒ½ ResourceManager å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ï¼Œç›‘æ§NodeManager, å¯åŠ¨ApplicationMaster, åˆ†é…å’Œè°ƒåº¦èµ„æº NodeManager ç®¡ç†å•ä¸ªèŠ‚ç‚¹ä¸Šçš„èµ„æºï¼Œå¤„ç†ResourceManagerå’ŒApplicationMasterçš„å‘½ä»¤ ApplicationMaster åˆ‡åˆ†æ•°æ®ï¼Œä¸ºåº”ç”¨ç¨‹åºç”³è¯·èµ„æºï¼Œå¹¶åˆ†é…ç»™ä»»åŠ¡ï¼Œå¤„ç†ä»»åŠ¡çš„ç›‘æ§å’Œå®¹é”™ Container ä»£è¡¨èŠ‚ç‚¹çš„CPU,å†…å­˜ï¼Œç£ç›˜ï¼Œç½‘ç»œ MapReduceMapReduceæ˜¯ä¸€ä¸ªè®¡ç®—æ¨¡å‹ï¼Œ Mapé˜¶æ®µå¹¶è¡Œå¤„ç†æ•°æ®ï¼ŒReduceé˜¶æ®µå¯¹Mapæ±‡æ€» HDFSHDFSå…¨ç§°ä¸ºHadoop Distributed File System,é€‚ç”¨äºä¸€æ¬¡å†™å…¥ï¼Œå¤šæ¬¡è¯»å‡ºï¼Œä¸æ”¯æŒä¿®æ”¹ Blockæ–‡ä»¶åˆ†å—å­˜å‚¨ï¼Œé»˜è®¤æ˜¯128Mï¼Œblockçš„å¯»å€æ—¶é—´ä¸€èˆ¬ä¸º10msï¼Œå¯»å€æ—¶é—´ä¸ºä¼ è¾“æ—¶é—´çš„1%çš„æ—¶å€™ï¼Œè¾¾åˆ°æœ€ä½³çŠ¶æ€ï¼Œæœºæ¢°ç¡¬ç›˜çš„é€Ÿç‡æ˜¯100M&#x2F;s, æ‰€ä»¥æ–‡ä»¶åˆ†å—çš„å¤§å°ä¸º100M è¾ƒä½³ï¼Œè¿‘ä¼¼åˆ°128M.$$10ms &#x2F; 1% \\to 1s\\1s &#x2F; 100MB&#x2F;s \\to 100MB \\100MB \\to 128MB$$ blockå¤ªå°å¢åŠ å¯»å€æ—¶é—´ï¼Œå¤ªå¤§ä¼šå¯¼è‡´æ•°æ®ä¼ è¾“çš„æ—¶é—´è¿‡é•¿ï¼Œæ‰€ä»¥blockçš„å¤§å°å–å†³äºç£ç›˜çš„ä¼ è¾“é€Ÿç‡ HDFS shellhttps://hadoop.apache.org/docs/current/hadoop-project-dist/hadoop-common/FileSystemShell.html HDFSè¯»å†™æ–‡ä»¶ NameNodeå·¥ä½œæœºåˆ¶NameNodeå°†å†…å­˜æ•°æ®æŒä¹…åŒ–åˆ°ç£ç›˜ä¸­ï¼Œåˆ†ä¸ºfsimageå’Œeditsä¸¤ä¸ªæ–‡ä»¶ï¼Œfsimageæ˜¯è€çš„å†…å­˜é•œåƒï¼Œeditsæ˜¯è¿½åŠ æ ¼å¼çš„æ—¥å¿—ï¼Œè¡¨ç¤ºç€å†…å­˜çš„å˜åŒ–æƒ…å†µï¼Œéšç€NameNodeå·¥ä½œï¼Œeditsä¼šè¶Šæ¥è¶Šå¤§ï¼Œè¿™æ—¶å€™SecondaryNameNodeä¼šååŠ©NameNodeå°†editsä¸fsimageåˆå¹¶ä¸ºæ–°çš„fsimageã€‚ æ³¨æ„ä¸‹å›¾ç´«è‰²éƒ¨åˆ†çš„æµç¨‹å³å¯ é›†ç¾¤å®‰å…¨æ¨¡å¼å½“NameNodeä¸æ˜¯ç¬¬ä¸€æ¬¡å¯åŠ¨çš„æ—¶å€™ï¼Œä¼šåŠ è½½Fsimageï¼Œå¹¶æ‰§è¡ŒEditsæ—¥å¿—ï¼Œæœ€ååˆå¹¶ï¼Œæ­¤åå¼€å§‹ç›‘å¬DataNodeè¯·æ±‚ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­NameNodeä¸€ç›´æ˜¯å®‰å…¨æ¨¡å¼ï¼Œæ–‡ä»¶ç³»ç»Ÿå¤„äºåªè¯»çŠ¶æ€ï¼Œå¦‚æœæ»¡è¶³æœ€å°å‰¯æœ¬æ•°ï¼ŒNameNodeä¼šåœ¨30ç§’åé€€å‡ºå®‰å…¨æ¨¡å¼ NameNodeå¤šç›®å½•é…ç½®1234&lt;property&gt; &lt;name&gt;dfs.namenode.name.dir&lt;/name&gt; &lt;value&gt;file:///xxx,file:///xxx&lt;/value&gt;&lt;/property&gt; å½“æˆ‘ä»¬é…ç½®äº†å¤šä¸ªç›®å½•ä»¥åï¼Œ NameNodeçš„æ•°æ®ä¼šåŒæ—¶å­˜å‚¨åœ¨è¿™äº›ç›®å½•ä¸­ï¼Œè¿™äº›ç›®å½•ä¸­çš„å†…å®¹æ˜¯ä¸€æ ·çš„ï¼Œå¦‚æœä¸€ä¸ªç›®å½•æŸåï¼ŒNameNodeä¼šé€šè¿‡å¦ä¸€ä¸ªç›®å½•æ¢å¤ DataNodeå·¥ä½œæœºåˆ¶ è¶…æ—¶æ—¶é—´æ˜¯2 * dfs.namenode.heartbeat.recheck-interval + 10 * dfs.hertbeat.interval MapReduceå…¨è¿‡ç¨‹(input) &lt;k1, v1&gt; -&gt; map -&gt; &lt;k2, v2&gt; -&gt; combine -&gt; &lt;k2, v2&gt; -&gt; reduce -&gt; &lt;k3, v3&gt; (output) InputFormatInputFormatæ˜¯æ‰§è¡ŒMapReduceçš„ç¬¬ä¸€æ­¥ï¼Œä»–ä¸»è¦ç”¨äºåœ¨ä»HDFSæ–‡ä»¶ç³»ç»Ÿè¾“å…¥åˆ°MapTaskçš„è¿‡ç¨‹ åè¯ è§£é‡Š æ•°æ®å— Blockæ˜¯HDFSç‰©ç†ä¸ŠæŠŠæ•°æ®åˆ†æˆçš„å¤šå— æ•°æ®åˆ‡ç‰‡ Splitæ˜¯é€»è¾‘ä¸Šå¯¹æ•°æ®çš„åˆ†ç‰‡ï¼Œæ¯ä¸ªSplitç”±ä¸€ä¸ªMapTaskå¤„ç† åˆ‡ç‰‡æ–¹æ³• å¤‡æ³¨ TextInputFormat æŒ‰ç…§å¤§å°åˆ‡ç‰‡ï¼Œkvåˆ†åˆ«æ˜¯è¡Œåç§»é‡å’Œè¡Œçš„å…·ä½“æ•°æ® KeyValueTextInputFormat æŒ‰ç…§å¤§å°åˆ‡ç‰‡ï¼Œkvæ˜¯æ¯ä¸€è¡Œç”±åˆ†éš”ç¬¦åˆ†å‰²çš„å·¦å³ä¸¤éƒ¨åˆ† NLineInputFormat æŒ‰ç…§è¡Œæ•°åˆ‡ç‰‡ï¼Œkvåˆ†åˆ«æ˜¯è¡Œåç§»é‡å’Œè¡Œçš„å…·ä½“æ•°æ® CombineTextInputFormat æŒ‰ç…§å¤§å°æ‹†åˆ†å¤§æ–‡ä»¶ï¼Œåˆå¹¶å°æ–‡ä»¶ï¼Œkvåˆ†åˆ«æ˜¯è¡Œåç§»é‡å’Œè¡Œçš„å…·ä½“æ•°æ® Map å½“ç»è¿‡äº†InputFormatä»¥åï¼Œæ•°æ®å°±è¿›å…¥åˆ°äº†Mapé˜¶æ®µï¼Œ åœ¨è¿™ä¸ªé˜¶æ®µï¼ŒMapæ¡†æ¶ä¼šå¯¹æ¯ä¸€å¯¹KVè¿›è¡Œå¹¶è¡Œå¤„ç†ï¼Œå¹¶è¾“å‡ºä¸ºæ–°çš„KVï¼Œ æŠŠæ–°çš„KVå†™å…¥ç¯å½¢ç¼“å†²åŒºï¼Œä¸€ç«¯å†™ç´¢å¼•ï¼Œå¦ä¸€ç«¯å†™æ•°æ®ï¼Œ ç›´åˆ°ç¯å½¢ç¼“å†²åŒºè¾¾åˆ°80%(80MB)ï¼ŒMapæ¡†æ¶å°†ç¼“å†²åŒºæ•°æ®æ’åºå¹¶å†™å…¥ç£ç›˜æ–‡ä»¶è¿›è¡Œåˆ†åŒº ç›´åˆ°æ–‡ä»¶æ•°é‡è¾¾åˆ°ä¸€å®šä¸Šé™ï¼ŒMapæ¡†æ¶å°†æ–‡ä»¶æ’åºåˆå¹¶ï¼Œå¹¶è¿›è¡Œåˆ†åŒº PartitionMapåï¼Œéœ€è¦å°†æ•°æ®å†™å…¥ä¸åŒçš„åˆ†åŒºï¼Œ ReduceTaskæ•°å¤§äºåˆ†åŒºæ•°ï¼Œåˆ™æœ€åå‡ ä¸ªReduceä¸ºç©º ReduceTaskå°äºåˆ†åŒºæ•°å¤§äº1ï¼Œåˆ™å¼‚å¸¸ ReduceTask&#x3D;1ï¼Œåˆ™åªæœ‰ä¸€ä¸ªè¾“å‡ºæ–‡ä»¶ é»˜è®¤çš„åˆ†åŒºæ˜¯HashPartitioner MapReduceä¸­çš„æ’åºMapReduceä¸¤ä¸ªé˜¶æ®µéƒ½ä¼šè¿›è¡Œæ’åºï¼Œä¸ç®¡å®é™…æ˜¯å¦éœ€è¦ Mapï¼š ç¯å½¢ç¼“å†²åŒº -&gt; è¾¾åˆ°80% -&gt; å¿«æ’ -&gt; å†™å…¥æ–‡ä»¶ -&gt; Mapå®Œæˆ -&gt; æ‰€æœ‰æ–‡ä»¶å½’å¹¶æ’åº Reduceï¼š è¿œç¨‹æ‹·è´æ–‡ä»¶åˆ°å†…å­˜-&gt; è¾¾åˆ°å†…å­˜é˜ˆå€¼-&gt; å†™å…¥ä¸€ä¸ªç£ç›˜æ–‡ä»¶-&gt; ç£ç›˜æ–‡ä»¶ä¸ªæ•°è¾¾åˆ°é˜ˆå€¼-&gt; åˆå¹¶æ–‡ä»¶ -&gt; æ‹·è´å®Œæˆ-&gt; æ‰€æœ‰æ•°æ®(ç£ç›˜+å†…å­˜)å½’å¹¶æ’åº æ’åºçš„æ–¹æ³• éƒ¨åˆ†æ’åºï¼š è¾“å‡ºæ˜¯å¤šä¸ªæ–‡ä»¶ï¼Œä¿è¯æ¯ä¸ªæ–‡ä»¶æœ‰åº å…¨æ’åºï¼š è¾“å‡ºæ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œä¿è¯è¿™ä¸ªæ–‡ä»¶æœ‰åº è¾…åŠ©æ’åºï¼š äºŒæ¬¡æ’åºï¼š æ’åºä¸­æœ‰ä¸¤ä¸ªåˆ¤æ–­æ¡ä»¶ å¦‚ä½•æ’åºå®ç°WriteableCompableæ¥å£å³å¯ CombinerCombinerå°±æ˜¯ä¸€ä¸ªå±€éƒ¨çš„Reduceï¼Œä»–ä¸ä¸€å®šå¿…è¦ï¼Œå¹¶ä¸é€šç”¨äºæ‰€æœ‰çš„MRç¨‹åºï¼Œæ¯”å¦‚æ±‚å¹³å‡å€¼ï¼Œä½†æ˜¯åœ¨å±€éƒ¨Reduceä¸å½±å“å…¨å±€Reduceçš„æƒ…å†µä¸‹å®ƒå¯ä»¥é™ä½ç½‘ç»œä¼ è¾“å‹åŠ› 1job.setCombinerClass(IntSumReducer.class); Shuffleå¾€å¾€æˆ‘ä»¬ç§°Mapä¹‹åï¼ŒReduceä¹‹å‰çš„æ“ä½œä¸ºShuffle Reduce OutputFormat OUTPUTFORMAT æè¿° TextOutputFormat æŠŠç»“æœå†™æˆæ–‡æœ¬è¡Œ SequenceFileOutputFormat å†™æˆäºŒè¿›åˆ¶æ–‡ä»¶ Joinåœ¨Reduceç«¯Joinï¼š ç”¨åŒä¸€ä¸ªkeyå³å¯ åœ¨Mapç«¯Joinï¼š ç”¨å­—å…¸æ‰‹åŠ¨Join Compressæ”¯æŒgzip,bzip,Lzoç­‰å‹ç¼©æ–¹å¼ï¼Œå¯ä»¥ç”¨äºè¾“å…¥æ–‡ä»¶çš„è§£å‹ç¼©ï¼Œè¾“å‡ºæ–‡ä»¶çš„å‹ç¼©ï¼Œmapreduceä¸­é—´æ–‡ä»¶çš„å‹ç¼© Mapç«¯å‹ç¼© 123configuration.setBoolean(&quot;mapreduce.map.output.compress&quot;,true);configuration.setClass(&quot;mapreduce.map.output.compress.codec&quot;, BZip2Codec.class, CompressionCodec.class) Reduceå‹ç¼© 12FileOutputFormat.setCompressOutput(job,true);FileOutputormat.setOutputCompressorClass(job,GzipCodec.class); MRé€Ÿåº¦æ…¢çš„åŸå› è®¡ç®—æœºæ€§èƒ½ï¼š CPUã€å†…å­˜ã€ç£ç›˜ã€ç½‘ç»œ IO: æ•°æ®å€¾æ–œï¼Œå°æ–‡ä»¶å¤šï¼Œä¸å¯åˆ†å—çš„è¶…å¤§æ–‡ä»¶å¤šï¼Œspillæ¬¡æ•°å¤šï¼Œmergeæ¬¡æ•°å¤š MRä¼˜åŒ– è¾“å…¥é˜¶æ®µï¼šåˆå¹¶å°æ–‡ä»¶ Maperé˜¶æ®µï¼šè°ƒæ•´ç¯å½¢ç¼“å†²åŒºå¤§å°å’Œæº¢å†™æ¯”ä¾‹ Maperé˜¶æ®µï¼šè°ƒæ•´åˆå¹¶æ–‡ä»¶çš„æ–‡ä»¶ä¸ªæ•°é˜ˆå€¼ Maperé˜¶æ®µï¼šä½¿ç”¨Combiner Reduceé˜¶æ®µï¼šåˆç†è®¾ç½®Map Reduceä¸ªæ•° Reduceé˜¶æ®µï¼šè°ƒæ•´slowstart.completedmaps,æå‰ç”³è¯·Reduceèµ„æº Reduceé˜¶æ®µï¼šMapTaskæœºå™¨æ–‡ä»¶ -&gt; ReduceTaskæœºå™¨Buffer -&gt; ç£ç›˜ -&gt; Reduce, è°ƒæ•´Bufferï¼Œè®©Bufferä¸­ä¿ç•™ä¸€å®šçš„æ•°æ®ï¼Œç›´æ¥ä¼ ç»™Reduce å‹ç¼©æ•°æ® å¼€å¯JVMé‡ç”¨ Yarnæµç¨‹ è°ƒåº¦å™¨ FIFIOè°ƒåº¦å™¨ï¼š å…ˆè¿›å…ˆå‡º å®¹é‡è°ƒåº¦å™¨ï¼ˆé»˜è®¤ï¼‰ï¼šæ”¯æŒå¤šä¸ªé˜Ÿåˆ—ï¼Œæ¯ä¸ªé˜Ÿåˆ— æœ‰ä¸€å®šçš„èµ„æºï¼Œå„è‡ªé‡‡ç”¨FIFOï¼Œå¯¹åŒä¸€ä¸ªç”¨æˆ·çš„ä½œä¸šæ‰€å èµ„æºè¿›è¡Œé™åˆ¶ï¼Œå®‰è£…ä»»åŠ¡å’Œèµ„æºæ¯”ä¾‹åˆ†é…æ–°çš„ä»»åŠ¡ï¼ŒæŒ‰ç…§ä»»åŠ¡ä¼˜å…ˆçº§ã€æäº¤æ—¶é—´ã€ç”¨æˆ·çš„èµ„æºé™åˆ¶ã€å†…å­˜é™åˆ¶å¯¹é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡æ’åº å…¬å¹³è°ƒåº¦å™¨ï¼ˆå¹¶å‘åº¦éå¸¸é«˜ï¼‰ï¼š å¤šä¸ªé˜Ÿåˆ—ï¼Œæ¯ä¸ªé˜Ÿåˆ—ä¸­çš„jobå¯ä»¥å¹¶å‘è¿è¡Œï¼Œå¯ä»¥æ¯ä¸ªjobéƒ½æœ‰èµ„æºï¼Œå“ªä¸ªjobè¿˜ç¼ºçš„èµ„æºæœ€å¤šï¼Œå°±ç»™å“ªä¸ªjobåˆ†é…èµ„æº ä»»åŠ¡æ¨æµ‹æ‰§è¡Œå½“å‰Jobå·²å®Œæˆçš„Taskè¾¾åˆ°5%ï¼Œ ä¸”æŸä»»åŠ¡æ‰§è¡Œè¾ƒæ…¢ï¼Œåˆ™å¼€å§‹å¤‡ä»½ä»»åŠ¡$$å½“å‰ä»»åŠ¡å®Œæˆæ—¶åˆ» &#x3D; å½“å‰æ—¶åˆ» +ï¼ˆå½“å‰æ—¶åˆ» - ä»»åŠ¡å¼€å§‹æ—¶åˆ»ï¼‰&#x2F; ä»»åŠ¡è¿è¡Œè¿›åº¦\\å¤‡ä»½ä»»åŠ¡å®Œæˆæ—¶åˆ» &#x3D; å½“å‰æ—¶åˆ» + æ‰€æœ‰ä»»åŠ¡å¹³å‡èŠ±è´¹æ—¶é—´$$æ¯ä¸ªä»»åŠ¡æœ€å¤šä¸€ä¸ªå¤‡ä»½ä»»åŠ¡ï¼Œæ¯ä¸ªä½œä¸šä¹Ÿæœ‰å¤‡ä»½ä»»åŠ¡ä¸Šé™ HAHDFS HAYARN HA","categories":[{"name":"å¤§æ•°æ®","slug":"å¤§æ•°æ®","permalink":"http://fightinggg.github.io/indigo/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/"}],"tags":[]},{"title":"data-mining","slug":"DataMining/data-mining/index","date":"2020-06-20T10:30:51.000Z","updated":"2020-06-20T10:30:51.000Z","comments":true,"path":"QC7ZVF.html","link":"","permalink":"http://fightinggg.github.io/indigo/QC7ZVF.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ã€ŠData Mining Concepts and Techniques Â· JiaWei Han Micheline Kamber Jian Paiã€‹å­¦ä¹ æ€»ç»“","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ã€ŠData Mining Concepts and Techniques Â· JiaWei Han Micheline Kamber Jian Paiã€‹å­¦ä¹ æ€»ç»“ ç‚¹æˆ‘ç›´æ¥æŸ¥çœ‹pdfæ–‡ä»¶","categories":[{"name":"DataMining","slug":"DataMining","permalink":"http://fightinggg.github.io/indigo/categories/DataMining/"}],"tags":[]},{"title":"reactive","slug":"Language/Java/reactive/index","date":"2020-05-15T03:52:15.000Z","updated":"2020-05-15T03:52:15.000Z","comments":true,"path":"QACTF3.html","link":"","permalink":"http://fightinggg.github.io/indigo/QACTF3.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial reactiveå“åº”å¼ç¼–ç¨‹ï¼Œæ˜¯ä¸€ç§éé˜»å¡çš„ç¼–ç¨‹æ–¹å¼ï¼Œåœ¨Spring5ä¸­ï¼ŒSpring WebFluxå‡ºç°äº†ï¼Œä»–å°±æ˜¯ä½¿ç”¨çš„reactiveï¼Œä¼ ç»Ÿçš„servletå’Œfilteræ˜¯åŒæ­¥çš„ï¼Œä¼ ç»Ÿçš„getParameterå’ŒgetPartæ˜¯é˜»å¡çš„ã€‚ åŒæ­¥servletservletçš„doGetå‡½æ•°æ˜¯é˜»å¡çš„ï¼Œä½ çš„doGetå ç”¨å¤šä¹…ï¼Œservletçº¿ç¨‹å°±è¦å ç”¨å¤šä¹… å¼‚æ­¥servletåœ¨doGetä¸­å¼€å¯æ–°çš„çº¿ç¨‹ï¼Œåœ¨æ–°çš„çº¿ç¨‹ä¸­æ‰§è¡ŒdoGetçš„ä¸šåŠ¡è¯·æ±‚ï¼Œæ‰§è¡Œå®Œäº†å†é€šçŸ¥servletçº¿ç¨‹ï¼Œè¿™æ ·å°±ä¸ä¼šé˜»å¡servletï¼Œå¯ä»¥æ”¯æŒæ›´é«˜çš„å¹¶å‘ã€‚ Mono å’Œ FluxMonoå¯ä»¥è¿”å›ä¸€ä¸ªï¼Œ Fluxæ˜¯å¤šä¸ª SSE(server-sent events)HTTPåè®®æ˜¯ä¸€é—®ä¸€ç­”ï¼Œä¸ºä»€ä¹ˆFluxå¯ä»¥è¡¨ç°å‡ºæµçš„æ ·å­ï¼Ÿæ³¨æ„åˆ°responseæœ‰ä¸€ä¸ªflushï¼Œå½“flushè°ƒç”¨çš„æ—¶å€™ï¼Œå°±å‘é€äº†ä¸€ä¸ªæ•°æ®è¿‡å» WebFlux","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"}],"tags":[]},{"title":"mermaidåŸºæœ¬æ“ä½œ","slug":"Hexo/mermaidåŸºæœ¬æ“ä½œ/index","date":"2020-05-01T06:18:53.000Z","updated":"2021-03-24T12:15:00.000Z","comments":true,"path":"Q9N2VH.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q9N2VH.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Mermaidè¿™æ˜¯ä¸€ä¸ªç”»å›¾çš„ä¸œè¥¿ï¼Œä»–å¯ä»¥ç”»æœ‰å‘å›¾ã€æ— å‘å›¾ã€æµç¨‹å›¾ã€æ—¶åºå›¾ã€ç±»å›¾ã€çŠ¶æ€å›¾ç­‰ç­‰ï¼Œå®˜ç½‘åœ¨è¿™æœ‰ä¸€ä¸ªå‘ï¼Œå°±æ˜¯mdæ–‡ä»¶ç¬¬ä¸€éç©ºè¡Œä¸å¯ä»¥æ˜¯#mermaid, å¦åˆ™æ¸²æŸ“å¤±è´¥ï¼Œæ‰€ä»¥æˆ‘è¿™ç”¨äº†Mermaidä½œä¸ºå¼€å¤´ï¼Œ why this blogç®€å•ä»‹ç»ä¸€ä¸‹ç”¨æ³•ï¼Œé¿å…æ¯æ¬¡éƒ½å»å®˜ç½‘æ‰¾åŠå¤© åŸºç¡€ç”¨æ³• å‚æ•° å¤‡æ³¨ TB top bottom BT bottom top RL right left LR left right TD same as TB","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Mermaidè¿™æ˜¯ä¸€ä¸ªç”»å›¾çš„ä¸œè¥¿ï¼Œä»–å¯ä»¥ç”»æœ‰å‘å›¾ã€æ— å‘å›¾ã€æµç¨‹å›¾ã€æ—¶åºå›¾ã€ç±»å›¾ã€çŠ¶æ€å›¾ç­‰ç­‰ï¼Œå®˜ç½‘åœ¨è¿™æœ‰ä¸€ä¸ªå‘ï¼Œå°±æ˜¯mdæ–‡ä»¶ç¬¬ä¸€éç©ºè¡Œä¸å¯ä»¥æ˜¯#mermaid, å¦åˆ™æ¸²æŸ“å¤±è´¥ï¼Œæ‰€ä»¥æˆ‘è¿™ç”¨äº†Mermaidä½œä¸ºå¼€å¤´ï¼Œ why this blogç®€å•ä»‹ç»ä¸€ä¸‹ç”¨æ³•ï¼Œé¿å…æ¯æ¬¡éƒ½å»å®˜ç½‘æ‰¾åŠå¤© åŸºç¡€ç”¨æ³• å‚æ•° å¤‡æ³¨ TB top bottom BT bottom top RL right left LR left right TD same as TB èŠ‚ç‚¹å½¢çŠ¶123456graph TB id1[id1] id2(id2) id3([id3]) id4[(id4)] id5((id5)) 123456graph TB id1[id1] id2(id2) id3([id3]) id4[(id4)] id5((id5)) æœ‰å‘è¾¹æ— å‘è¾¹1234graph LR A--&gt;B---C--hello--&gt;D--word---E A-.-&gt;F==&gt;G-.hello.-&gt;H==word==&gt;I E &amp; I--&gt;1 &amp; 2--&gt;End 1234graph LR A--&gt;B---C--hello--&gt;D--word---E A-.-&gt;F==&gt;G-.hello.-&gt;H==word==&gt;I E &amp; I--&gt;1 &amp; 2--&gt;End å­å›¾123456789graph LR a1--&gt;b2 b1--&gt;a2 subgraph A a1--&gt;a2 end subgraph B b1--&gt;b2 end 123456789graph LR a1--&gt;b2 b1--&gt;a2 subgraph A a1--&gt;a2 end subgraph B b1--&gt;b2 end æ–‡å­—12graph LR A[æˆ‘æ˜¯æ–‡å­—] 12graph LR A[æˆ‘æ˜¯æ–‡å­—] é¢œè‰²123graph LR A[çº¢è‰²] style A fill: yellow 123graph LR A[çº¢è‰²] style A fill: yellow ä¾‹å­123456789101112131415161718192021graph LR %% style classDef green fill:#a3e4d7,stroke:#333,stroke-width:1px classDef blue fill:#d6eaf8,stroke:#333,stroke-width:1px classDef brown fill:#edbb99,stroke:#333,stroke-width:1px classDef grey fill:#f2f3f4,stroke:#333,stroke-width:1px %% point start((æ•°æ®æº)):::green op1(ç®—å­1):::blue op2(ç®—å­1):::blue op3(ç®—å­1):::blue op4(ç®—å­2):::blue op5(ç®—å­2):::blue op6(ç®—å­2):::blue output((è¾“å‡º)):::brown shuffle((shuffle)):::grey %% edge start --&gt; op1 &amp; op2 &amp; op3 --- shuffle --&gt; op4 &amp; op5 &amp; op6 --&gt; output 1234sequenceDiagram Alice-&gt;&gt;John: Hello John, how are you? John--&gt;&gt;Alice: Great! Alice--&gt;&gt;John: See you later! å‚è€ƒmermaid ç»™ä½ çš„æ–‡æ¡£åŠ å±‚æ»¤é•œ","categories":[{"name":"Hexo","slug":"Hexo","permalink":"http://fightinggg.github.io/indigo/categories/Hexo/"}],"tags":[]},{"title":"SpringCloud5","slug":"Language/Java/SpringCloud/SpringCloud5/index","date":"2020-05-01T06:11:39.000Z","updated":"2020-05-01T06:11:39.000Z","comments":true,"path":"Q9N2JF.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q9N2JF.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial EurekaNetfilxåœ¨è®¾è®¡Eurekaçš„æ—¶å€™éµå®ˆçš„å°±æ˜¯APåŸåˆ™,Eurekaæ˜¯ä¸€ä¸ªNetfixçš„å­æ¨¡å—ï¼Œ ä¹Ÿæ˜¯æ ¸å¿ƒæ¨¡å—ä¹‹ä¸€ï¼ŒEurekaæ˜¯ä¸€ä¸ªåŸºäºRESTçš„æœåŠ¡ï¼Œç”¨äºå®ç°äº‘ç«¯ä¸­é—´å±‚æœåŠ¡å‘ç°å’Œæ•…éšœè½¬ç§»ï¼Œå®ƒçš„åŠŸèƒ½ç±»ä¼¼äºdubboçš„æ³¨å†Œä¸­å¿ƒï¼Œæ¯”å¦‚Zookeeper Eurekaæ¶æ„1234567graph BT C[Eureka Server] A[Service Consumer] B[Service Provider] A--è¿œç¨‹è°ƒç”¨--&gt;B A--è·å–æœåŠ¡--&gt;C B--æ³¨å†Œ/ç»­çº¦/ç¦»å¼€--&gt;C","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"SpringCloud","slug":"Language/Java/SpringCloud","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/SpringCloud/"}],"tags":[]},{"title":"SpringCloud4","slug":"Language/Java/SpringCloud/SpringCloud4/index","date":"2020-05-01T05:21:28.000Z","updated":"2020-05-01T05:21:28.000Z","comments":true,"path":"Q9N07S.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q9N07S.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ¶æ„çº¦å®š &gt; é…ç½® &gt; ç¼–ç å…ˆå†™pom,xml,yml,sql,ç„¶åå†™dao,å†™Mapper,Service,Controller èµ·æ­¥ç”¨ä¸Šé¢çš„æ–¹æ³•å»ºç«‹ä¸€ä¸ªRestfulé£æ ¼çš„æœåŠ¡ç«¯ç”Ÿäº§è€…ï¼Œç„¶åæˆ‘ä»¬å‡†å¤‡å»ºç«‹æ¶ˆè´¹è€…ï¼Œè¿™é‡Œçš„æ¶ˆè´¹è€…å°±ä¸åº”è¯¥æœ‰Serviceäº†ï¼Œä½ åªéœ€è¦ä½¿ç”¨RestTemplateå³å¯ RestTemplateæ˜¯springæä¾›çš„ä¸“é—¨é’ˆå¯¹restå®¢æˆ·ç«¯çš„é«˜åº¦æŠ½è±¡æ¨¡ç‰ˆï¼Œ 1234567@Configurationpublic class ConfigBean&#123; @Bean public RestTemplate getRestTemplate()&#123; return new RestTemplate(); &#125;&#125;","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"SpringCloud","slug":"Language/Java/SpringCloud","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/SpringCloud/"}],"tags":[]},{"title":"bzoj3732","slug":"ACM/åˆ·é¢˜å®æˆ˜/bzoj/bzoj3732/index","date":"2020-04-29T15:31:00.000Z","updated":"2020-04-29T15:31:00.000Z","comments":true,"path":"Q9K33O.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q9K33O.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial é¢˜ç›® åšæ³•è¿™ä¸ªé¢˜ç›®å°±æ˜¯ä¸€ä¸ªå…‹é²æ–¯å¡å°”é‡æ„æ ‘çš„æ¿å­é¢˜ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸»å¸­æ ‘æ¥åš ç»†èŠ‚æ€è·¯æˆ‘ä»¬æ„å»ºå…‹é²æ–¯å¡å°”é‡æ„æ ‘ä»¥åï¼Œç­”æ¡ˆå°±æ˜¯lcaçš„ç‚¹æƒï¼Œæ‰€ä»¥æ˜¯ç”Ÿæˆæ ‘+å¹¶æŸ¥é›†+æ ‘å‰–+lca","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial é¢˜ç›® åšæ³•è¿™ä¸ªé¢˜ç›®å°±æ˜¯ä¸€ä¸ªå…‹é²æ–¯å¡å°”é‡æ„æ ‘çš„æ¿å­é¢˜ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸»å¸­æ ‘æ¥åš ç»†èŠ‚æ€è·¯æˆ‘ä»¬æ„å»ºå…‹é²æ–¯å¡å°”é‡æ„æ ‘ä»¥åï¼Œç­”æ¡ˆå°±æ˜¯lcaçš„ç‚¹æƒï¼Œæ‰€ä»¥æ˜¯ç”Ÿæˆæ ‘+å¹¶æŸ¥é›†+æ ‘å‰–+lca ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100/************************************************************** Problem: 3732 User: 1144560553 Language: C++ Result: Accepted Time:2140 ms Memory:7124 kb****************************************************************/ #include&lt;bits/stdc++.h&gt;using namespace std; // æ ‘å‰–const int V=1e5+5;int to[V&lt;&lt;1],nex[V&lt;&lt;1],head[V],w[V],cnt,n;void ini()&#123;cnt=-1;for(int i=0;i&lt;=n;i++) head[i]=-1;&#125;void addEdge(int u,int v)&#123;to[++cnt]=v;nex[cnt]=head[u];head[u]=cnt;&#125; int dep[V],dad[V],siz[V],son[V],chain[V],dfn[V];//void dfs1(int u,int father)&#123;//dfs1(1,0) dep[u]=dep[father]+1;//ini because dep[0]=1 dad[u]=father, siz[u]=1, son[u]=-1; for(int i=head[u];~i;i=nex[i])&#123; int v=to[i]; if(v==father)continue; dfs1(v,u); siz[u]+=siz[v]; if(son[u]==-1||siz[son[u]]&lt;siz[v]) son[u]=v; &#125;&#125;void dfs2(int u,int s,int&amp;step)&#123; dfn[u]=++step; chain[u]=s; if(son[u]!=-1) dfs2(son[u],s,step); for(int i=head[u];~i;i=nex[i])&#123; int v=to[i]; if(v!=son[u]&amp;&amp;v!=dad[u]) dfs2(v,v,step); &#125;&#125;int lca(int x,int y)&#123; int res=0; while(chain[x]!=chain[y])&#123; if(dep[chain[x]]&lt;dep[chain[y]]) swap(x,y); //dep[chain[x]]&gt;dep[chain[y]] // res+=segtree::query(dfn[chain[x]],dfn[x],k);// [å·¦ï¼Œå³ï¼Œå€¼] x=dad[chain[x]]; &#125; if(dep[x]&gt;dep[y]) swap(x,y);// dep[x]&lt;dep[y] return x; // return res+segtree::query(dfn[x],dfn[y],k);// [å·¦,å³,å€¼]&#125; // int query(int x,int y,int k)&#123;// int res=0;// while(chain[x]!=chain[y])&#123;// if(dep[chain[x]]&lt;dep[chain[y]]) swap(x,y); //dep[chain[x]]&gt;dep[chain[y]]// res+=segtree::query(dfn[chain[x]],dfn[x],k);// [å·¦ï¼Œå³ï¼Œå€¼]// x=dad[chain[x]];// &#125;// if(dep[x]&gt;dep[y]) swap(x,y);// dep[x]&lt;dep[y]// return res+segtree::query(dfn[x],dfn[y],k);// [å·¦,å³,å€¼]// &#125; // å…‹é²æ–¯å¡å°”é‡æ„æ ‘int f[V];int find(int x)&#123;return x==f[x]?x:f[x]=find(f[x]);&#125;bool cmpVec(const vector&lt;int&gt;&amp;a,const vector&lt;int&gt;&amp;b)&#123;return a[2]&lt;b[2];&#125;void reBuildTree(vector&lt;vector&lt;int&gt; &gt;&amp;edges)&#123; sort(edges.begin(),edges.end(),cmpVec); ini(); for(int i=0;i&lt;=n*2;i++) f[i]=i; for(int i=0;i&lt;edges.size();i++)&#123; int u=edges[i][0]; int v=edges[i][1]; if(find(u)==find(v)) continue; head[++n]=-1; addEdge(n,f[u]); addEdge(n,f[v]); w[n]=edges[i][2]; f[f[u]] = f[f[v]] = n; &#125;&#125; int main()&#123; int m,k; cin&gt;&gt;n&gt;&gt;m&gt;&gt;k; vector&lt;vector&lt;int&gt; &gt; edges(m,vector&lt;int&gt;(3)); for(int i=0;i&lt;m;i++) cin&gt;&gt;edges[i][0]&gt;&gt;edges[i][1]&gt;&gt;edges[i][2]; reBuildTree(edges); int step=0; dfs1(n,0); dfs2(n,n,step); while(k--)&#123; int x,y; cin&gt;&gt;x&gt;&gt;y; cout&lt;&lt;w[lca(x,y)]&lt;&lt;endl; &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"bzoj","slug":"ACM/åˆ·é¢˜å®æˆ˜/bzoj","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/bzoj/"}],"tags":[]},{"title":"Kruskalé‡æ„æ ‘","slug":"ACM/å­¦ä¹ ç¬”è®°/æ ‘/Kruskalé‡æ„æ ‘/index","date":"2020-04-29T15:19:06.000Z","updated":"2020-04-29T15:19:06.000Z","comments":true,"path":"Q9K2JU.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q9K2JU.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å…‹é²æ–¯å¡å°”é‡æ„æ ‘æœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æœ€å°ç”Ÿæˆæ ‘è¿›è¡Œè¿›ä¸€æ­¥çš„ç ”ç©¶ï¼Œæ¯”æ–¹è¯´æˆ‘ä»¬è€ƒè™‘æœ€å°ç”Ÿæˆæ ‘ä¸Šä»»æ„ä¸¤ç‚¹è·¯å¾„çš„æœ€å°å€¼ï¼Œè¿™ä¸ªå¯ä»¥ä½¿ç”¨ä¸»å¸­æ ‘ã€æ ‘å‰–ç­‰åšæ³•ï¼Œä½†æ˜¯æˆ‘ä»¬è¿™æ ·è€ƒè™‘ï¼ŒåŠ å…¥æ–°çš„ç‚¹ï¼Œè®©è¾¹æƒå˜ä¸ºç‚¹æƒï¼Œè·¯å¾„æƒçš„æœ€å°å€¼å°±æˆäº†ç‚¹æƒçš„æœ€å°å€¼ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæœ€å°ç”Ÿæˆæ ‘çš„ç‚¹å…¨éƒ¨æˆä¸ºäº†å…‹é²æ–¯å¡å°”é‡æ„æ ‘ä¸Šçš„å¶å­ï¼Œéå¶èŠ‚ç‚¹å……å½“äº†è¾¹æƒã€‚ 1234567graph LR;1((1))-- 5 ---2((2))2((2))-- 4 ---3((3))3((3))-- 3 ---4((4))1((1))-- 8 ---4((4))2((2))-- 7 ---5((5))4((4))-- 2 ---6((6))","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å…‹é²æ–¯å¡å°”é‡æ„æ ‘æœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æœ€å°ç”Ÿæˆæ ‘è¿›è¡Œè¿›ä¸€æ­¥çš„ç ”ç©¶ï¼Œæ¯”æ–¹è¯´æˆ‘ä»¬è€ƒè™‘æœ€å°ç”Ÿæˆæ ‘ä¸Šä»»æ„ä¸¤ç‚¹è·¯å¾„çš„æœ€å°å€¼ï¼Œè¿™ä¸ªå¯ä»¥ä½¿ç”¨ä¸»å¸­æ ‘ã€æ ‘å‰–ç­‰åšæ³•ï¼Œä½†æ˜¯æˆ‘ä»¬è¿™æ ·è€ƒè™‘ï¼ŒåŠ å…¥æ–°çš„ç‚¹ï¼Œè®©è¾¹æƒå˜ä¸ºç‚¹æƒï¼Œè·¯å¾„æƒçš„æœ€å°å€¼å°±æˆäº†ç‚¹æƒçš„æœ€å°å€¼ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæœ€å°ç”Ÿæˆæ ‘çš„ç‚¹å…¨éƒ¨æˆä¸ºäº†å…‹é²æ–¯å¡å°”é‡æ„æ ‘ä¸Šçš„å¶å­ï¼Œéå¶èŠ‚ç‚¹å……å½“äº†è¾¹æƒã€‚ 1234567graph LR;1((1))-- 5 ---2((2))2((2))-- 4 ---3((3))3((3))-- 3 ---4((4))1((1))-- 8 ---4((4))2((2))-- 7 ---5((5))4((4))-- 2 ---6((6)) æ±‚æœ€å°ç”Ÿæˆæ ‘ 123456graph LR;1((1))-- 5 ---2((2))2((2))-- 4 ---3((3))3((3))-- 3 ---4((4))2((2))-- 7 ---5((5))4((4))-- 2 ---6((6)) æ±‚å…‹é²æ–¯å¡å°”é‡æ„æ ‘ 123456789101112131415161718192021graph LR;11(11:w=7)--- 5((5))11(11:w=7)--- 10((10:w=5))2((2))5((5))10((10:w=5))--- 1((1))10((10:w=5))--- 9((9:w=4))1((1))2((2))9((9:w=4))--- 2((2))9((9:w=4))--- 8((8:w=3))2((2))3((3))8((8:w=3))--- 3((3))8((8:w=3))--- 7((7:w=2))3((3))4((4))7((7:w=2))--- 4((4))7((7:w=2))--- 6((6))4((4)) 6((6)) Kruskalé‡æ„æ ‘123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100/************************************************************** Problem: 3732 User: 1144560553 Language: C++ Result: Accepted Time:2140 ms Memory:7124 kb****************************************************************/ #include&lt;bits/stdc++.h&gt;using namespace std; // æ ‘å‰–const int V=1e5+5;int to[V&lt;&lt;1],nex[V&lt;&lt;1],head[V],w[V],cnt,n;void ini()&#123;cnt=-1;for(int i=0;i&lt;=n;i++) head[i]=-1;&#125;void addEdge(int u,int v)&#123;to[++cnt]=v;nex[cnt]=head[u];head[u]=cnt;&#125; int dep[V],dad[V],siz[V],son[V],chain[V],dfn[V];//void dfs1(int u,int father)&#123;//dfs1(1,0) dep[u]=dep[father]+1;//ini because dep[0]=1 dad[u]=father, siz[u]=1, son[u]=-1; for(int i=head[u];~i;i=nex[i])&#123; int v=to[i]; if(v==father)continue; dfs1(v,u); siz[u]+=siz[v]; if(son[u]==-1||siz[son[u]]&lt;siz[v]) son[u]=v; &#125;&#125;void dfs2(int u,int s,int&amp;step)&#123; dfn[u]=++step; chain[u]=s; if(son[u]!=-1) dfs2(son[u],s,step); for(int i=head[u];~i;i=nex[i])&#123; int v=to[i]; if(v!=son[u]&amp;&amp;v!=dad[u]) dfs2(v,v,step); &#125;&#125;int lca(int x,int y)&#123; int res=0; while(chain[x]!=chain[y])&#123; if(dep[chain[x]]&lt;dep[chain[y]]) swap(x,y); //dep[chain[x]]&gt;dep[chain[y]] // res+=segtree::query(dfn[chain[x]],dfn[x],k);// [å·¦ï¼Œå³ï¼Œå€¼] x=dad[chain[x]]; &#125; if(dep[x]&gt;dep[y]) swap(x,y);// dep[x]&lt;dep[y] return x; // return res+segtree::query(dfn[x],dfn[y],k);// [å·¦,å³,å€¼]&#125; // int query(int x,int y,int k)&#123;// int res=0;// while(chain[x]!=chain[y])&#123;// if(dep[chain[x]]&lt;dep[chain[y]]) swap(x,y); //dep[chain[x]]&gt;dep[chain[y]]// res+=segtree::query(dfn[chain[x]],dfn[x],k);// [å·¦ï¼Œå³ï¼Œå€¼]// x=dad[chain[x]];// &#125;// if(dep[x]&gt;dep[y]) swap(x,y);// dep[x]&lt;dep[y]// return res+segtree::query(dfn[x],dfn[y],k);// [å·¦,å³,å€¼]// &#125; // å…‹é²æ–¯å¡å°”é‡æ„æ ‘int f[V];int find(int x)&#123;return x==f[x]?x:f[x]=find(f[x]);&#125;bool cmpVec(const vector&lt;int&gt;&amp;a,const vector&lt;int&gt;&amp;b)&#123;return a[2]&lt;b[2];&#125;void reBuildTree(vector&lt;vector&lt;int&gt; &gt;&amp;edges)&#123; sort(edges.begin(),edges.end(),cmpVec); ini(); for(int i=0;i&lt;=n*2;i++) f[i]=i; for(int i=0;i&lt;edges.size();i++)&#123; int u=edges[i][0]; int v=edges[i][1]; if(find(u)==find(v)) continue; head[++n]=-1; addEdge(n,f[u]); addEdge(n,f[v]); w[n]=edges[i][2]; f[f[u]] = f[f[v]] = n; &#125;&#125; int main()&#123; int m,k; cin&gt;&gt;n&gt;&gt;m&gt;&gt;k; vector&lt;vector&lt;int&gt; &gt; edges(m,vector&lt;int&gt;(3)); for(int i=0;i&lt;m;i++) cin&gt;&gt;edges[i][0]&gt;&gt;edges[i][1]&gt;&gt;edges[i][2]; reBuildTree(edges); int step=0; dfs1(n,0); dfs2(n,n,step); while(k--)&#123; int x,y; cin&gt;&gt;x&gt;&gt;y; cout&lt;&lt;w[lca(x,y)]&lt;&lt;endl; &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ ‘","slug":"ACM/å­¦ä¹ ç¬”è®°/æ ‘","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%A0%91/"}],"tags":[]},{"title":"ç‰›å®¢ç®—æ³•å‘¨å‘¨ç»ƒ4A","slug":"ACM/åˆ·é¢˜å®æˆ˜/ç‰›å®¢/ç‰›å®¢ç®—æ³•å‘¨å‘¨ç»ƒ4A/index","date":"2020-04-29T14:33:48.000Z","updated":"2020-04-29T14:33:48.000Z","comments":true,"path":"Q9K0GC.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q9K0GC.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ—¶é—´é™åˆ¶ï¼šC&#x2F;C++ 1ç§’ï¼Œå…¶ä»–è¯­è¨€2ç§’ç©ºé—´é™åˆ¶ï¼šC&#x2F;C++ 262144Kï¼Œå…¶ä»–è¯­è¨€524288K64bit IO Format: %lld é¢˜ç›®æè¿°ç°æœ‰ä¸€ä¸ªä¼ åŠ¨ç³»ç»Ÿï¼ŒåŒ…å«äº†Nä¸ªç»„åˆé½¿è½®å’ŒMä¸ªé“¾æ¡ã€‚æ¯ä¸€ä¸ªé“¾æ¡è¿æ¥äº†ä¸¤ä¸ªç»„åˆé½¿è½®uå’Œvï¼Œå¹¶æä¾›äº†ä¸€ä¸ªä¼ åŠ¨æ¯”x : yã€‚å³å¦‚æœåªè€ƒè™‘è¿™ä¸¤ä¸ªç»„åˆé½¿è½®ï¼Œç¼–å·ä¸ºuçš„é½¿è½®è½¬åŠ¨xåœˆï¼Œç¼–å·ä¸ºvçš„é½¿è½®ä¼šè½¬åŠ¨yåœˆã€‚ä¼ åŠ¨æ¯”ä¸ºæ­£è¡¨ç¤ºè‹¥ç¼–å·ä¸ºuçš„é½¿è½®é¡ºæ—¶é’ˆè½¬åŠ¨ï¼Œåˆ™ç¼–å·ä¸ºvçš„é½¿è½®ä¹Ÿé¡ºæ—¶é’ˆè½¬åŠ¨ã€‚ä¼ åŠ¨æ¯”ä¸ºè´Ÿè¡¨ç¤ºè‹¥ç¼–å·ä¸ºuçš„é½¿è½®é¡ºæ—¶é’ˆè½¬åŠ¨ï¼Œåˆ™ç¼–å·ä¸ºv çš„é½¿è½®ä¼šé€†æ—¶é’ˆè½¬åŠ¨ã€‚è‹¥ä¸åŒé“¾æ¡çš„ä¼ åŠ¨æ¯”ä¸ç›¸å®¹ï¼Œåˆ™æœ‰äº›é½¿è½®æ— æ³•è½¬åŠ¨ã€‚æˆ‘ä»¬å¸Œæœ›çŸ¥é“ï¼Œç³»ç»Ÿä¸­çš„è¿™ï¼®ä¸ªç»„åˆé½¿è½®èƒ½å¦åŒæ—¶è½¬åŠ¨ã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ—¶é—´é™åˆ¶ï¼šC&#x2F;C++ 1ç§’ï¼Œå…¶ä»–è¯­è¨€2ç§’ç©ºé—´é™åˆ¶ï¼šC&#x2F;C++ 262144Kï¼Œå…¶ä»–è¯­è¨€524288K64bit IO Format: %lld é¢˜ç›®æè¿°ç°æœ‰ä¸€ä¸ªä¼ åŠ¨ç³»ç»Ÿï¼ŒåŒ…å«äº†Nä¸ªç»„åˆé½¿è½®å’ŒMä¸ªé“¾æ¡ã€‚æ¯ä¸€ä¸ªé“¾æ¡è¿æ¥äº†ä¸¤ä¸ªç»„åˆé½¿è½®uå’Œvï¼Œå¹¶æä¾›äº†ä¸€ä¸ªä¼ åŠ¨æ¯”x : yã€‚å³å¦‚æœåªè€ƒè™‘è¿™ä¸¤ä¸ªç»„åˆé½¿è½®ï¼Œç¼–å·ä¸ºuçš„é½¿è½®è½¬åŠ¨xåœˆï¼Œç¼–å·ä¸ºvçš„é½¿è½®ä¼šè½¬åŠ¨yåœˆã€‚ä¼ åŠ¨æ¯”ä¸ºæ­£è¡¨ç¤ºè‹¥ç¼–å·ä¸ºuçš„é½¿è½®é¡ºæ—¶é’ˆè½¬åŠ¨ï¼Œåˆ™ç¼–å·ä¸ºvçš„é½¿è½®ä¹Ÿé¡ºæ—¶é’ˆè½¬åŠ¨ã€‚ä¼ åŠ¨æ¯”ä¸ºè´Ÿè¡¨ç¤ºè‹¥ç¼–å·ä¸ºuçš„é½¿è½®é¡ºæ—¶é’ˆè½¬åŠ¨ï¼Œåˆ™ç¼–å·ä¸ºv çš„é½¿è½®ä¼šé€†æ—¶é’ˆè½¬åŠ¨ã€‚è‹¥ä¸åŒé“¾æ¡çš„ä¼ åŠ¨æ¯”ä¸ç›¸å®¹ï¼Œåˆ™æœ‰äº›é½¿è½®æ— æ³•è½¬åŠ¨ã€‚æˆ‘ä»¬å¸Œæœ›çŸ¥é“ï¼Œç³»ç»Ÿä¸­çš„è¿™ï¼®ä¸ªç»„åˆé½¿è½®èƒ½å¦åŒæ—¶è½¬åŠ¨ã€‚ è¾“å…¥æè¿°:æœ‰å¤šç»„æ•°æ®ï¼Œç¬¬ä¸€è¡Œç»™å®šæ•´æ•°ï¼´ï¼Œè¡¨ç¤ºæ€»çš„æ•°æ®ç»„æ•°ï¼Œä¹‹åä¾æ¬¡ç»™å‡ºï¼´ç»„æ•°æ®ã€‚æ¯ä¸€ç»„æ•°æ®çš„ç¬¬ä¸€è¡Œç»™å®šæ•´æ•°ï¼®å’Œï¼­ï¼Œè¡¨ç¤ºé½¿è½®æ€»æ•°å’Œé“¾æ¡æ€»æ•°ã€‚ä¹‹åæœ‰ï¼­è¡Œï¼Œä¾æ¬¡æè¿°äº†æ¯ä¸€ä¸ªé“¾æ¡ï¼Œå…¶ä¸­æ¯ä¸€è¡Œç»™å®šå››ä¸ªæ•´æ•°uï¼Œvï¼Œxå’Œyï¼Œè¡¨ç¤ºåªè€ƒè™‘è¿™ä¸€ç»„è”åŠ¨å…³ç³»çš„æƒ…å†µä¸‹ï¼Œç¼–å·ä¸ºuçš„é½¿è½®è½¬åŠ¨xåœˆï¼Œç¼–å·ä¸ºvçš„é½¿è½®ä¼šè½¬åŠ¨yåœˆã€‚è¯·æ³¨æ„ï¼Œxä¸ºæ­£æ•´æ•°ï¼Œè€Œyä¸ºéé›¶æ•´æ•°ï¼Œä½†æ˜¯yæœ‰å¯èƒ½ä¸ºè´Ÿæ•°ã€‚T â‰¤ 32ï¼ŒN â‰¤ 1000ï¼ŒM â‰¤ 10000ä¸”xä¸yçš„ç»å¯¹å€¼å‡ä¸è¶…è¿‡100 è¾“å‡ºæè¿°:è¾“å‡ºTè¡Œï¼Œå¯¹åº”æ¯ä¸€ç»„æ•°æ®ã€‚é¦–å…ˆåº”è¯¥è¾“å‡ºæ ‡è¯†è¿™æ˜¯ç¬¬å‡ ç»„æ•°æ®ï¼Œå‚è§æ ·ä¾‹è¾“å‡ºã€‚ä¹‹åè¾“å‡ºåˆ¤å®šç»“æœï¼Œå¦‚æœNä¸ªç»„åˆé½¿è½®å¯ä»¥åŒæ—¶æ­£å¸¸è¿è¡Œï¼Œåˆ™è¾“å‡ºYesï¼Œå¦åˆ™è¾“å‡ºNoã€‚ ç¤ºä¾‹1è¾“å…¥ 12345678923 31 2 3 52 3 5 -71 3 3 -73 31 2 3 52 3 5 -71 3 3 7 è¾“å‡º 12Case #1: YesCase #2: No åšæ³•ä¹‹å‰æƒ³å¤æ‚äº†ï¼Œä¸€ç›´åœ¨æƒ³å¦‚ä½•è½¬åŒ–ä¸ºå›¾è®ºï¼Œæƒ³è¿è¾¹çš„æ–¹å¼ï¼Œæœ€åæƒ³åˆ°äº†ç”¨è½¬é€Ÿæ¯”ä½œä¸ºè¾¹æƒï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„ç›®çš„å°±æ˜¯æ‰¾ä¸€ä¸ªç¯ï¼Œç¯çš„æ‰€æœ‰è¾¹æƒçš„ç§¯ä¸ç­‰äº1ï¼Œç„¶åå°±é™·å…¥äº†æ­»èƒ¡åŒäº†ï¼Œå–å¯¹æ•°å˜æˆäº†0æƒå›è·¯çš„å­˜åœ¨æ€§åˆ¤å®šï¼Œæ³›åŒ–ä¸ºkæƒå›è·¯çš„åˆ¤å®šï¼Œè¿™é‡Œå°±èµ°æ­ªäº†å…¶å®å¾ˆç®€å•ï¼Œå¦‚æœå­˜åœ¨ç§¯ä¸ä¸º1çš„å›è·¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨dfsçš„æ—¶å€™è®²è¾¹æƒè½¬åŒ–ä¸ºç‚¹æƒï¼Œå°±ä¼šå‡ºç°ä¸€ä¸ªç‚¹è¢«èµ‹ä¸åŒçš„å€¼çš„æƒ…å†µï¼Œè¿™ä¸ªåšæ³•ä¹Ÿå¯ä»¥æ¨å¹¿åˆ°kæƒå›è·¯ä¸Šï¼Œ ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758#include&lt;bits/stdc++.h&gt;using namespace std;bool eq(double x,double y)&#123; return fabs(x-y) &lt; 1e-6;&#125;bool dfs(vector&lt;vector&lt;int&gt;&gt;&amp; edge, vector&lt;vector&lt;double&gt;&gt;&amp; rate, vector&lt;double&gt;&amp; speed, int current, double current_speed)&#123; if(speed[current]==0) speed[current] = current_speed; else if(eq(speed[current] , current_speed)) return true; else return false; for(int i=0;i&lt;edge[current].size();i++)&#123; if(!dfs(edge, rate, speed, edge[current][i], current_speed*rate[current][i]) ) return false; &#125; return true;&#125;int main()&#123; int T; cin&gt;&gt;T; for(int times=1;times&lt;=T;times++)&#123; int n,m; cin&gt;&gt;n&gt;&gt;m; vector&lt;vector&lt;int&gt;&gt; edge(n); vector&lt;vector&lt;double&gt;&gt; rate(n); vector&lt;double&gt; speed(n); for(int i=1;i&lt;=m;i++)&#123; int u,v,x,y; cin&gt;&gt;u&gt;&gt;v&gt;&gt;x&gt;&gt;y; u--,v--; edge[u].push_back(v); edge[v].push_back(u); rate[u].push_back(1.0*y/x); rate[v].push_back(1.0*x/y); &#125; bool rotate = true; for(int i=0;i&lt;n;i++) &#123; if(speed[i]!=0) continue; if(!dfs(edge,rate,speed,i,1)) rotate=false; &#125; if(rotate) cout&lt;&lt;&quot;Case #&quot;&lt;&lt;times&lt;&lt;&quot;: Yes&quot;&lt;&lt;endl; else cout&lt;&lt;&quot;Case #&quot;&lt;&lt;times&lt;&lt;&quot;: No&quot;&lt;&lt;endl; &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"ç‰›å®¢","slug":"ACM/åˆ·é¢˜å®æˆ˜/ç‰›å®¢","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/%E7%89%9B%E5%AE%A2/"}],"tags":[]},{"title":"ç‰›å®¢ç®—æ³•å‘¨å‘¨ç»ƒ4B","slug":"ACM/åˆ·é¢˜å®æˆ˜/ç‰›å®¢/ç‰›å®¢ç®—æ³•å‘¨å‘¨ç»ƒ4B/index","date":"2020-04-29T13:22:15.000Z","updated":"2020-04-29T13:22:15.000Z","comments":true,"path":"Q9JX53.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q9JX53.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ—¶é—´é™åˆ¶ï¼šC&#x2F;C++ 2ç§’ï¼Œå…¶ä»–è¯­è¨€4ç§’ç©ºé—´é™åˆ¶ï¼šC&#x2F;C++ 262144Kï¼Œå…¶ä»–è¯­è¨€524288K64bit IO Format: %lld é¢˜ç›®æè¿°Rinne æœ€è¿‘å­¦ä¹ äº†ä½è¿ç®—ç›¸å…³çš„çŸ¥è¯†ï¼Œå¥¹æƒ³è¿ç”¨è‡ªå·±å­¦ä¹ çš„çŸ¥è¯†å‘æ˜ä¸€ä¸ªåŠ å¯†ç®—æ³•ã€‚é¦–å…ˆå¥¹æœ‰ä¸€ä¸ªæºæ•°ç»„ Aï¼Œè¿˜æœ‰ä¸€ä¸ªå¯†é’¥æ•°ç»„ Bï¼Œç°åœ¨å¥¹æƒ³ç”ŸæˆåŠ å¯†åçš„æ•°ç»„ Cã€‚å¥¹å‘æ˜çš„æ–¹æ³•æ˜¯ï¼šå½“è®¡ç®—$$C_i$$çš„æ—¶å€™ï¼Œé¦–å…ˆå°† $$C_i$$èµ‹å€¼ä¸º$$C_{i-1}$$ï¼Œç„¶ååŠ ä¸Š$$ A_i$$ åˆ†åˆ«ä¸æ¯ä¸€ä¸ªæ»¡è¶³ $$j \\lt i$$ çš„ $$B_j$$ å¼‚æˆ–åçš„å’Œï¼Œç„¶ååŠ ä¸Š $$B_i$$ åˆ†åˆ«ä¸æ¯ä¸€ä¸ªæ»¡è¶³ $$j \\lt i$$ çš„ $$A_j$$ å¼‚æˆ–åçš„å’Œï¼Œæœ€ååŠ ä¸Š $$A_i$$ ä¸ $$B_i$$ çš„å¼‚æˆ–å’Œã€‚å½¢å¼åŒ–çš„è®²ï¼Œå…³äº $$C_i$$ çš„é€’æ¨å¼ä¸ºä»¥ä¸‹å¼å­ï¼š","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ—¶é—´é™åˆ¶ï¼šC&#x2F;C++ 2ç§’ï¼Œå…¶ä»–è¯­è¨€4ç§’ç©ºé—´é™åˆ¶ï¼šC&#x2F;C++ 262144Kï¼Œå…¶ä»–è¯­è¨€524288K64bit IO Format: %lld é¢˜ç›®æè¿°Rinne æœ€è¿‘å­¦ä¹ äº†ä½è¿ç®—ç›¸å…³çš„çŸ¥è¯†ï¼Œå¥¹æƒ³è¿ç”¨è‡ªå·±å­¦ä¹ çš„çŸ¥è¯†å‘æ˜ä¸€ä¸ªåŠ å¯†ç®—æ³•ã€‚é¦–å…ˆå¥¹æœ‰ä¸€ä¸ªæºæ•°ç»„ Aï¼Œè¿˜æœ‰ä¸€ä¸ªå¯†é’¥æ•°ç»„ Bï¼Œç°åœ¨å¥¹æƒ³ç”ŸæˆåŠ å¯†åçš„æ•°ç»„ Cã€‚å¥¹å‘æ˜çš„æ–¹æ³•æ˜¯ï¼šå½“è®¡ç®—$$C_i$$çš„æ—¶å€™ï¼Œé¦–å…ˆå°† $$C_i$$èµ‹å€¼ä¸º$$C_{i-1}$$ï¼Œç„¶ååŠ ä¸Š$$ A_i$$ åˆ†åˆ«ä¸æ¯ä¸€ä¸ªæ»¡è¶³ $$j \\lt i$$ çš„ $$B_j$$ å¼‚æˆ–åçš„å’Œï¼Œç„¶ååŠ ä¸Š $$B_i$$ åˆ†åˆ«ä¸æ¯ä¸€ä¸ªæ»¡è¶³ $$j \\lt i$$ çš„ $$A_j$$ å¼‚æˆ–åçš„å’Œï¼Œæœ€ååŠ ä¸Š $$A_i$$ ä¸ $$B_i$$ çš„å¼‚æˆ–å’Œã€‚å½¢å¼åŒ–çš„è®²ï¼Œå…³äº $$C_i$$ çš„é€’æ¨å¼ä¸ºä»¥ä¸‹å¼å­ï¼š $$\\begin{aligned}&amp;C_0 &#x3D; 0\\&amp;C_i &#x3D; C_{i-1} + A_i xor B_i + (\\sum_{j&#x3D;1}^{i-1} (A_i xor B_j + A_j xor B_i))C\\end{aligned}$$ç°åœ¨å¥¹æƒ³ç”¨ç¨‹åºæ¥å®ç°è¿™ä¸ªè¿‡ç¨‹ï¼Œä½ èƒ½å¸®å¸®å¥¹å—ï¼Ÿç”±äºè¾“å‡ºå¯èƒ½å¤ªå¤§ï¼Œä½ åªéœ€è¦è¾“å‡ºæ¯ä¸ª $$C_i$$ æ¨¡ $$10^9+7$$ çš„ç»“æœå³å¯ã€‚ è¾“å…¥æè¿°:ç¬¬ä¸€è¡Œä¸€ä¸ªæ•´æ•° Nï¼Œè¡¨ç¤ºæ•°ç»„ A å’Œ B çš„é•¿åº¦ã€‚ç¬¬äºŒè¡Œ N ä¸ªæ•´æ•°è¡¨ç¤ºæ•°ç»„ Aã€‚ç¬¬ä¸‰è¡Œ N ä¸ªæ•´æ•°è¡¨ç¤ºæ•°ç»„ Bã€‚ è¾“å‡ºæè¿°:è¾“å‡ºä¸€è¡Œ N ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºåŠ å¯†åçš„æ•°ç»„ Cã€‚ ç¤ºä¾‹1è¾“å…¥ 1231065605 70259 77306 43823 61443 98602 9261 7662 46394 8301981393 5966 61479 24259 92528 96132 35859 47981 11702 71736 è¾“å‡º 115796 166270 623824 1132402 1650729 2445262 3256941 4150718 5106184 6353038 å¤‡æ³¨:$$N \\leq 10^5 ,a_i \\leq 10^9Nâ‰¤10$$ æ€è·¯æˆ‘ä»¬ä¸éš¾å‘ç°ï¼Œæ•°å­—çš„æ¯ä¸€ä¸ªä½æ˜¯ç‹¬ç«‹çš„ï¼Œä»–ä»¬å¯¹ç­”æ¡ˆçš„å½±å“äº’ä¸å¹²æ‰°ï¼Œäºæ˜¯æˆ‘ä»¬å°±å¯ä»¥å§æ•°å­—æ‹†å¼€ï¼Œä¸€ä½ä¸€ä½çš„è€ƒè™‘ï¼Œå½“æˆ‘ä»¬åªè€ƒè™‘ä¸€ä½çš„æ—¶å€™ï¼Œç­”æ¡ˆå°±åªå’Œ1çš„ä¸ªæ•°æœ‰å…³äº†ã€‚ ä»£ç 123456789101112131415161718192021222324252627282930313233#include&lt;bits/stdc++.h&gt;using namespace std;void sum01(int*a,int*b,int*c,int n,int mod)&#123; long long sa=0,sb=0; for(int i=0;i&lt;n;i++)&#123; sa+=a[i]; sb+=b[i]; c[i]=(sa*(i+1-sb)+sb*(i+1-sa))%mod; &#125;&#125;void sum(int*a,int*b,int*c,int n,int mod)&#123; vector&lt;int&gt; a01(n),b01(n),c01(n); for(int mask=1;mask&lt;=1e9;mask&lt;&lt;=1)&#123; for(int i=0;i&lt;n;i++)&#123; a01[i] = (mask&amp;a[i]) ? 1:0; b01[i] = (mask&amp;b[i]) ? 1:0; &#125; sum01(a01.data(),b01.data(),c01.data(),n,mod); for(int i=0;i&lt;n;i++) c[i] = (c[i]+1ll*c01[i]*mask)%mod; &#125;&#125;int main()&#123; int n; cin&gt;&gt;n; vector&lt;int&gt; a(n),b(n),c(n); for(int i=0;i&lt;n;i++) cin&gt;&gt;a[i]; for(int i=0;i&lt;n;i++) cin&gt;&gt;b[i]; sum(a.data(),b.data(),c.data(),n,1e9+7); for(int i=0;i&lt;n;i++) cout&lt;&lt;c[i]&lt;&lt;&quot; &quot;; cout&lt;&lt;endl;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"ç‰›å®¢","slug":"ACM/åˆ·é¢˜å®æˆ˜/ç‰›å®¢","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/%E7%89%9B%E5%AE%A2/"}],"tags":[]},{"title":"SpringCloud3","slug":"Language/Java/SpringCloud/SpringCloud3/index","date":"2020-04-29T08:40:44.000Z","updated":"2020-04-29T08:40:44.000Z","comments":true,"path":"Q9JK3W.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q9JK3W.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å…¥é—¨èµ„æ–™ä¸­æ–‡æ–‡æ¡£å®˜æ–¹æ–‡æ¡£ä¸­æ–‡æ–‡æ¡£ç¤¾åŒºå˜¿å˜¿","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å…¥é—¨èµ„æ–™ä¸­æ–‡æ–‡æ¡£å®˜æ–¹æ–‡æ¡£ä¸­æ–‡æ–‡æ¡£ç¤¾åŒºå˜¿å˜¿ Dubbo å’Œ Cloudçš„åŒºåˆ«| Dubbo | Spring Cloud:-:|:-:|:-:æœåŠ¡æ³¨å†Œä¸­å¿ƒ | Zookeeper | Spring Cloud Netflix EurekaæœåŠ¡è°ƒç”¨æ–¹å¼ | RPC | REST APIæœåŠ¡ç›‘æ§ | Dubbo-monitor | Spring Boot Adminæ–­è·¯å™¨ | ä¸å®Œå–„ | Spring Cloud Netflix HystrixæœåŠ¡ç½‘å…³ | æ—  | Spring Cloud Netflix Zuulåˆ†å¸ƒå¼é…ç½® | æ—  | Spring Cloud ConfigæœåŠ¡è·Ÿè¸ª | æ—  | Spring Cloud Sleuthæ¶ˆæ¯æ€»çº¿ | æ—  | Spring Cloud Busæ•°æ®æµ | æ—  | Spring Cloud Streamæ‰¹é‡ä»»åŠ¡ | æ—  | Spring Cloud Task","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"SpringCloud","slug":"Language/Java/SpringCloud","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/SpringCloud/"}],"tags":[]},{"title":"SpringCloud2-å¾®æœåŠ¡","slug":"Language/Java/SpringCloud/SpringCloud2-å¾®æœåŠ¡/index","date":"2020-04-29T07:04:37.000Z","updated":"2020-04-29T07:04:37.000Z","comments":true,"path":"Q9JFNP.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q9JFNP.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å¾®æœåŠ¡äºå¾®æœåŠ¡æ¶æ„å¾®æœåŠ¡å¼ºè°ƒæœåŠ¡çš„å¤§å°ï¼Œä»–å…³æ³¨æŸä¸€ä¸ªç‚¹ï¼Œä¸€ä¸ªæ¨¡å—åªåšä¸€ç§äº‹æƒ…å¾®æœåŠ¡æ¶æ„é€šå¸¸è€Œè¨€ï¼Œä»–æå€¡å°†å•ä¸€çš„ç¨‹åºåˆ’åˆ†ä¸ºä¸€ç»„å°çš„æœåŠ¡ï¼Œæ¯ä¸ªæœåŠ¡è¿è¡Œåœ¨ç‹¬ç«‹çš„è¿›ç¨‹ä¸­ï¼Œé‡‡ç”¨è½»é‡çº§çš„é€šä¿¡æœºåˆ¶ doubboæ˜¯rpcï¼Œspringcloudæ˜¯restful","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å¾®æœåŠ¡äºå¾®æœåŠ¡æ¶æ„å¾®æœåŠ¡å¼ºè°ƒæœåŠ¡çš„å¤§å°ï¼Œä»–å…³æ³¨æŸä¸€ä¸ªç‚¹ï¼Œä¸€ä¸ªæ¨¡å—åªåšä¸€ç§äº‹æƒ…å¾®æœåŠ¡æ¶æ„é€šå¸¸è€Œè¨€ï¼Œä»–æå€¡å°†å•ä¸€çš„ç¨‹åºåˆ’åˆ†ä¸ºä¸€ç»„å°çš„æœåŠ¡ï¼Œæ¯ä¸ªæœåŠ¡è¿è¡Œåœ¨ç‹¬ç«‹çš„è¿›ç¨‹ä¸­ï¼Œé‡‡ç”¨è½»é‡çº§çš„é€šä¿¡æœºåˆ¶ doubboæ˜¯rpcï¼Œspringcloudæ˜¯restful å¾®æœåŠ¡çš„ä¼˜ç‚¹æ¯ä¸ªæœåŠ¡è¶³å¤Ÿå†…èšï¼Œä»£ç å®¹æ˜“èšç„¦ï¼Œå¼€å‘ç®€ç­”ï¼Œå¾®æœåŠ¡å¯ä»¥è¢«å°å›¢é˜Ÿå•ç‹¬å¼€å‘ï¼Œå¾®æœåŠ¡æ¾è€¦åˆï¼Œå¾®æœåŠ¡å¯ä»¥ä½¿ç”¨ä¸åŒçš„è¯­è¨€å¼€å‘ï¼Œæ˜“äºç¬¬ä¸‰æ–¹é›†æˆï¼Œå¾®æœåŠ¡ä¸ä¼šå’Œhtml&#x2F;cssç­‰ç»„ä»¶æ··åˆ å¾®æœåŠ¡çš„ç¼ºç‚¹å¼€å‘äººå‘˜è¦å¤„ç†åˆ†å¸ƒå¼ç³»ç»Ÿçš„å¤æ‚æ€§ï¼Œå¤šæœåŠ¡è¿ç»´éš¾åº¦æé«˜ï¼Œç³»ç»Ÿéƒ¨ç½²ä¾èµ–ï¼ŒæœåŠ¡é—´é€šä¿¡æˆæœ¬æé«˜ï¼Œæ•°æ®ä¸€è‡´æ€§é—®é¢˜ï¼Œç³»ç»Ÿé›†æˆæµ‹è¯•é—®é¢˜ å¾®æœåŠ¡æŠ€æœ¯æ ˆ å¾®æœåŠ¡æ¡ç›® æŠ€æœ¯ æœåŠ¡å¼€å‘ Spring,SpringBoot,SpringMVC æœåŠ¡é…ç½®ä¸ç®¡ç† Archaius,Diamond æœåŠ¡æ³¨å†Œä¸å‘ç° Eureka,Consul,Zookeeper æœåŠ¡è°ƒç”¨ Rest,RPC,gRPC æœåŠ¡ç†”æ–­å™¨ Hystrix,Envoy è´Ÿè½½å‡è¡¡ Ribbon,Nginx æœåŠ¡æ¥å£è°ƒç”¨ Feign æ¶ˆæ¯é˜Ÿåˆ— Kafka,RabbitMQ,ActiveMQ æœåŠ¡é…ç½®ä¸­å¿ƒç®¡ç† SpringCloudCOnfig,Chef æœåŠ¡è·¯ç”± Zuul æœåŠ¡ç›‘æ§ Zabbix,Nagios,Metrics,Spectator å…¨é“¾è·¯è¿½è¸ª Zipkin,Brave,Dapper æœåŠ¡éƒ¨ç½² Docker, OpenStack,Kubernetes æ•°æ®æµæ“ä½œå¼€å‘åŒ… SpringCloudStream äº‹ä»¶æ¶ˆæ¯æ€»çº¿ SpringCloudBus ä¸ºä»€ä¹ˆé€‰æ‹©SpringCloudï¼Ÿå…¶ä»–çš„å¾®æœåŠ¡æ¶æ„é˜¿é‡Œç”¨Dubbo&#x2F;HSF 2012-2017å¹´å°±æ²¡æœ‰ç»´æŠ¤äº†äº¬ä¸œJSFæ–°æµªMotanå½“å½“DubboX SpringCloudçš„ä¼˜ç‚¹ä»–æä¾›äº†å®Œæ•´çš„å¾®æœåŠ¡æ¡†æ¶ï¼Œå®Œæ•´ï¼ï¼ï¼ï¼","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"SpringCloud","slug":"Language/Java/SpringCloud","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/SpringCloud/"}],"tags":[]},{"title":"SpringBoot7-è‡ªå®šä¹‰starter","slug":"Language/Java/SpringBoot/SpringBoot7-è‡ªå®šä¹‰starter/index","date":"2020-04-28T15:07:03.000Z","updated":"2021-03-13T11:21:00.000Z","comments":true,"path":"Q9I7BR.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q9I7BR.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å¦‚ä½•ç¼–å†™ç†æ¸…ä¾èµ–è‡ªåŠ¨é…ç½®@Configuration æŒ‡å®šè¿™ä¸ªæ˜¯é…ç½®ç±»@ConditionalOnxxx åœ¨æŸäº›æ¡ä»¶ä¸‹æ‰ç”Ÿæ•ˆ@AutoConfigureAfter æŒ‡å®šè‡ªåŠ¨é…ç½®ç±»çš„é¡ºåº@Bean ç»™IOCåŠ ç»„ä»¶@ConfiguretionProperties ç»“åˆç›¸å…³çš„xxxPropertiesé…ç½®ç±»æ¥ç»‘å®šé…ç½®@EnableConfigurationProperties è®©xxxPropertiesç”Ÿæ•ˆåŠ å…¥åˆ°å®¹å™¨ä¸­è®²è‡ªåŠ¨é…ç½®ç±»é…ç½®åœ¨META-INF&#x2F;spring.factoriesä¸­","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å¦‚ä½•ç¼–å†™ç†æ¸…ä¾èµ–è‡ªåŠ¨é…ç½®@Configuration æŒ‡å®šè¿™ä¸ªæ˜¯é…ç½®ç±»@ConditionalOnxxx åœ¨æŸäº›æ¡ä»¶ä¸‹æ‰ç”Ÿæ•ˆ@AutoConfigureAfter æŒ‡å®šè‡ªåŠ¨é…ç½®ç±»çš„é¡ºåº@Bean ç»™IOCåŠ ç»„ä»¶@ConfiguretionProperties ç»“åˆç›¸å…³çš„xxxPropertiesé…ç½®ç±»æ¥ç»‘å®šé…ç½®@EnableConfigurationProperties è®©xxxPropertiesç”Ÿæ•ˆåŠ å…¥åˆ°å®¹å™¨ä¸­è®²è‡ªåŠ¨é…ç½®ç±»é…ç½®åœ¨META-INF&#x2F;spring.factoriesä¸­ è‡ªåŠ¨é…ç½®è®¾ç½®å¯åŠ¨å™¨åªåšä¾èµ–å¯¼å…¥ï¼Œè‡ªåŠ¨é…ç½®ä¸“é—¨ç”¨ä¸€ä¸ªæ¨¡å—æ¥å†™ï¼Œè®©å¯åŠ¨å™¨ä¾èµ–è‡ªåŠ¨é…ç½®ï¼Œåˆ«äººå°±åªéœ€è¦å¼•å…¥å¯åŠ¨å™¨å³å¯ å¼€å§‹æ“ä½œå…ˆåˆ›å»ºç©ºå·¥ç¨‹ï¼Œåœ¨é‡Œé¢åˆ›å»ºä¸¤ä¸ªmodulesï¼Œä¸€ä¸ªæ˜¯ç©ºçš„mavenï¼Œå¦ä¸€ä¸ªæ˜¯ç©ºçš„springboot mavenå·¥ç¨‹å¯¼å…¥ä¸€ä¸ªä¾èµ–å°±å¯ä»¥äº† 12345678910111213141516171819&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;org.example&lt;/groupId&gt; &lt;artifactId&gt;hello-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;com.example&lt;/groupId&gt; &lt;artifactId&gt;hello-spring-boot-starter-autoconfigure&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt; springbootè‡ªåŠ¨é…ç½®ç»™ä»–å¤šåˆ äº›ä¸œè¥¿ 1234567891011121314151617181920212223242526272829&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;2.2.6.RELEASE&lt;/version&gt; &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt; &lt;/parent&gt; &lt;groupId&gt;com.example&lt;/groupId&gt; &lt;artifactId&gt;hello-spring-boot-starter-autoconfigure&lt;/artifactId&gt; &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt; &lt;name&gt;hello-spring-boot-starter-autoconfigure&lt;/name&gt; &lt;description&gt;Demo project for Spring Boot&lt;/description&gt; &lt;properties&gt; &lt;java.version&gt;1.8&lt;/java.version&gt; &lt;/properties&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt; å¢åŠ é…ç½®ç±»é…ç½®ç±»ä¼šè¢«æ”¾å…¥åˆ°å®¹å™¨ä¸­ 12345678910111213141516171819202122232425package com.wsx.starter;import org.springframework.boot.context.properties.ConfigurationProperties;@ConfigurationProperties(prefix = &quot;wsx.hello&quot;)public class HelloProperties &#123; String prefix; String suffix; public String getPrefix() &#123; return prefix; &#125; public String getSuffix() &#123; return suffix; &#125; public void setPrefix(String prefix) &#123; this.prefix = prefix; &#125; public void setSuffix(String suffix) &#123; this.suffix = suffix; &#125;&#125; å¢åŠ serviceç±»serviceå€ŸåŠ©é…ç½®æä¾›å‡½æ•°æœåŠ¡ 12345678910111213141516package com.wsx.starter;import org.springframework.beans.factory.annotation.Autowired;public class HelloService &#123; HelloProperties helloProperties; public String sayHello(String name) &#123; return helloProperties.getPrefix() + name + helloProperties.getSuffix(); &#125; public void setHelloProperties(HelloProperties helloProperties) &#123; this.helloProperties = helloProperties; &#125;&#125; å¢åŠ è‡ªåŠ¨é…ç½®ç±»è‡ªåŠ¨é…ç½®ç±»ä»IOCå®¹å™¨ä¸­å–å‡ºé…ç½®ç±»ï¼Œç»‘å®šå¹¶æ³¨å…¥serviceç±»æä¾›æœåŠ¡ 12345678910111213141516171819202122package com.wsx.starter;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.autoconfigure.condition.ConditionalOnWebApplication;import org.springframework.boot.context.properties.EnableConfigurationProperties;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;@Configuration@ConditionalOnWebApplication@EnableConfigurationProperties(HelloProperties.class)public class HelloServiceAutoConfigueation &#123; @Autowired HelloProperties helloProperties; @Bean public HelloService helloService()&#123; HelloService helloService = new HelloService(); helloService.setHelloProperties(helloProperties); return helloService; &#125;&#125; æœ€åå¢åŠ spring.factoriesæŠŠè‡ªåŠ¨é…ç½®ç±»äº¤ç»™springboot 12org.springframework.boot.autoconfigure.EnableAutoConfiguration=\\com.wsx.starter.HelloServiceAutoConfigueation æ‰“åŒ…å…ˆæ‰“åŒ…starter-autocinfigureï¼Œç„¶åæ‰“åŒ…starter æµ‹è¯•æ–°å»ºé¡¹ç›®ï¼Œå¯¼å…¥ä¾èµ–ï¼Œåˆ›å»ºcontroller 1234567891011121314151617181920package com.wsx.springbootstartertest.controller;import com.wsx.starter.HelloService;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.ResponseBody;@Controllerpublic class MyController &#123; @Autowired HelloService helloService; @ResponseBody @GetMapping(&quot;/hello&quot;) public String hello() &#123; return helloService.sayHello(&quot;haha! &quot;); &#125;&#125; ç¼–å†™é…ç½®æ–‡ä»¶ 12wsx.hello.prefix=hello prefixwsx.hello.suffix=hello suffix æµ‹è¯•å³å¯ @ConfigurationProperties ä¸èƒ½ç¼ºå°‘ä¸‹é¢è¿™ä¸ªä¾èµ–ï¼Œå¦åˆ™ä¸ä¼šè‡ªåŠ¨å¤„ç†é…ç½®çš„æç¤º 123456&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt; &lt;optional&gt;true&lt;/optional&gt; &lt;scope&gt;compile&lt;/scope&gt;&lt;/dependency&gt;","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"SpringBoot","slug":"Language/Java/SpringBoot","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/SpringBoot/"}],"tags":[]},{"title":"SpringBoot6-å¯åŠ¨çš„æºç åˆ†æ","slug":"Language/Java/SpringBoot/SpringBoot6-å¯åŠ¨çš„æºç åˆ†æ/index","date":"2020-04-28T13:38:55.000Z","updated":"2020-04-28T13:38:55.000Z","comments":true,"path":"Q9I38V.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q9I38V.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å¯åŠ¨é…ç½®åŸç†å‡ ä¸ªé‡è¦çš„äº‹ä»¶å›è°ƒæœºåˆ¶ ApplicationContextInitializer SpringApplicationRunListener ApplicationRunner CommandLineRunner å¯åŠ¨æµç¨‹1return new SpringApplication(primarySources).run(args); åˆ›å»ºSpringApplicationå¯¹è±¡ è¿è¡Œrunæ–¹æ³• åˆ›å»ºå¯¹è±¡ç°åœ¨å·¦è¾¹çš„å‚æ•°æ˜¯null 123456789101112public SpringApplication(Class&lt;?&gt;... primarySources) &#123; this(null, primarySources);&#125;public SpringApplication(ResourceLoader resourceLoader, Class&lt;?&gt;... primarySources) &#123; this.resourceLoader = resourceLoader; Assert.notNull(primarySources, &quot;PrimarySources must not be null&quot;); this.primarySources = new LinkedHashSet&lt;&gt;(Arrays.asList(primarySources)); this.webApplicationType = WebApplicationType.deduceFromClasspath(); setInitializers((Collection) getSpringFactoriesInstances(ApplicationContextInitializer.class)); setListeners((Collection) getSpringFactoriesInstances(ApplicationListener.class)); this.mainApplicationClass = deduceMainApplicationClass();&#125;","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å¯åŠ¨é…ç½®åŸç†å‡ ä¸ªé‡è¦çš„äº‹ä»¶å›è°ƒæœºåˆ¶ ApplicationContextInitializer SpringApplicationRunListener ApplicationRunner CommandLineRunner å¯åŠ¨æµç¨‹1return new SpringApplication(primarySources).run(args); åˆ›å»ºSpringApplicationå¯¹è±¡ è¿è¡Œrunæ–¹æ³• åˆ›å»ºå¯¹è±¡ç°åœ¨å·¦è¾¹çš„å‚æ•°æ˜¯null 123456789101112public SpringApplication(Class&lt;?&gt;... primarySources) &#123; this(null, primarySources);&#125;public SpringApplication(ResourceLoader resourceLoader, Class&lt;?&gt;... primarySources) &#123; this.resourceLoader = resourceLoader; Assert.notNull(primarySources, &quot;PrimarySources must not be null&quot;); this.primarySources = new LinkedHashSet&lt;&gt;(Arrays.asList(primarySources)); this.webApplicationType = WebApplicationType.deduceFromClasspath(); setInitializers((Collection) getSpringFactoriesInstances(ApplicationContextInitializer.class)); setListeners((Collection) getSpringFactoriesInstances(ApplicationListener.class)); this.mainApplicationClass = deduceMainApplicationClass();&#125; ç¬¬8è¡Œåˆ¤æ–­è¿™æ˜¯å“ªä¸€ç±»webåº”ç”¨,webåˆ†ä¸‰ç±» 12345678910111213141516171819public enum WebApplicationType &#123; /** * The application should not run as a web application and should not start an * embedded web server. */ NONE, /** * The application should run as a servlet-based web application and should start an * embedded servlet web server. */ SERVLET, /** * The application should run as a reactive web application and should start an * embedded reactive web server. */ REACTIVE; 123456789101112static WebApplicationType deduceFromClasspath() &#123; if (ClassUtils.isPresent(WEBFLUX_INDICATOR_CLASS, null) &amp;&amp; !ClassUtils.isPresent(WEBMVC_INDICATOR_CLASS, null) &amp;&amp; !ClassUtils.isPresent(JERSEY_INDICATOR_CLASS, null)) &#123; return WebApplicationType.REACTIVE; &#125; for (String className : SERVLET_INDICATOR_CLASSES) &#123; if (!ClassUtils.isPresent(className, null)) &#123; return WebApplicationType.NONE; &#125; &#125; return WebApplicationType.SERVLET;&#125; ç¬¬9è¡Œä»ç±»è·¯å¾„ä¸‹æ‰¾åˆ°æ‰€æœ‰çš„spring.factoriesé…ç½®çš„æ‰€æœ‰ApplicationConterxtInitializeerï¼Œç„¶åä¿å­˜ 123456789101112private static Map&lt;String, List&lt;String&gt;&gt; loadSpringFactories(@Nullable ClassLoader classLoader) &#123; MultiValueMap&lt;String, String&gt; result = cache.get(classLoader); if (result != null) &#123; return result; &#125; try &#123; Enumeration&lt;URL&gt; urls = (classLoader != null ? classLoader.getResources(FACTORIES_RESOURCE_LOCATION) : ClassLoader.getSystemResources(FACTORIES_RESOURCE_LOCATION)); result = new LinkedMultiValueMap&lt;&gt;(); while (urls.hasMoreElements()) &#123; 1public static final String FACTORIES_RESOURCE_LOCATION = &quot;META-INF/spring.factories&quot;; ç¬¬10è¡Œæ‰¾listener ç¬¬11è¡Œæ‰¾åˆ°ä¸»é…ç½®ç±» 1234567891011121314private Class&lt;?&gt; deduceMainApplicationClass() &#123; try &#123; StackTraceElement[] stackTrace = new RuntimeException().getStackTrace(); for (StackTraceElement stackTraceElement : stackTrace) &#123; if (&quot;main&quot;.equals(stackTraceElement.getMethodName())) &#123; return Class.forName(stackTraceElement.getClassName()); &#125; &#125; &#125; catch (ClassNotFoundException ex) &#123; // Swallow and continue &#125; return null;&#125; run12345678910111213141516171819202122232425262728293031323334353637383940414243444546/** * Run the Spring application, creating and refreshing a new * &#123;@link ApplicationContext&#125;. * @param args the application arguments (usually passed from a Java main method) * @return a running &#123;@link ApplicationContext&#125; */public ConfigurableApplicationContext run(String... args) &#123; StopWatch stopWatch = new StopWatch(); stopWatch.start(); ConfigurableApplicationContext context = null; Collection&lt;SpringBootExceptionReporter&gt; exceptionReporters = new ArrayList&lt;&gt;(); configureHeadlessProperty(); SpringApplicationRunListeners listeners = getRunListeners(args); listeners.starting(); try &#123; ApplicationArguments applicationArguments = new DefaultApplicationArguments(args); ConfigurableEnvironment environment = prepareEnvironment(listeners, applicationArguments); configureIgnoreBeanInfo(environment); Banner printedBanner = printBanner(environment); context = createApplicationContext(); exceptionReporters = getSpringFactoriesInstances(SpringBootExceptionReporter.class, new Class[] &#123; ConfigurableApplicationContext.class &#125;, context); prepareContext(context, environment, listeners, applicationArguments, printedBanner); refreshContext(context); afterRefresh(context, applicationArguments); stopWatch.stop(); if (this.logStartupInfo) &#123; new StartupInfoLogger(this.mainApplicationClass).logStarted(getApplicationLog(), stopWatch); &#125; listeners.started(context); callRunners(context, applicationArguments); &#125; catch (Throwable ex) &#123; handleRunFailure(context, ex, exceptionReporters, listeners); throw new IllegalStateException(ex); &#125; try &#123; listeners.running(context); &#125; catch (Throwable ex) &#123; handleRunFailure(context, ex, exceptionReporters, null); throw new IllegalStateException(ex); &#125; return context;&#125; ç¬¬12è¡Œé…ç½®awt ç¬¬13-14è¡Œè·å–listenerï¼Œ ç„¶åå›è°ƒæ‰€æœ‰çš„listener 12345void starting() &#123; for (SpringApplicationRunListener listener : this.listeners) &#123; listener.starting(); &#125;&#125; ç¬¬17è¡Œå‡†å¤‡ç¯å¢ƒ, è·å–ç¯å¢ƒï¼Œè¿™é‡Œçš„getOrCreateEnvironmentåˆ†ä¸‰ç§ï¼Œç‚¹è¿›å»å°±çŸ¥é“äº†, è·å–åé…ç½®ç¯å¢ƒ,ä¹‹åå›è°ƒlistenersçš„ç¯å¢ƒå‡†å¤‡å®Œæˆå‡½æ•°listeners.environmentPrepared(environment); 123456789101112131415private ConfigurableEnvironment prepareEnvironment(SpringApplicationRunListeners listeners, ApplicationArguments applicationArguments) &#123; // Create and configure the environment ConfigurableEnvironment environment = getOrCreateEnvironment(); configureEnvironment(environment, applicationArguments.getSourceArgs()); ConfigurationPropertySources.attach(environment); listeners.environmentPrepared(environment); bindToSpringApplication(environment); if (!this.isCustomEnvironment) &#123; environment = new EnvironmentConverter(getClassLoader()).convertEnvironmentIfNecessary(environment, deduceEnvironmentClass()); &#125; ConfigurationPropertySources.attach(environment); return environment;&#125; ç¬¬19è¡Œæ‰“å°å›¾æ ‡ ç¬¬20è¡Œåˆ©ç”¨åå°„,æ ¹æ®å½“å‰çš„webç¯å¢ƒåˆ›å»ºIOCå®¹å™¨, 1234567891011121314151617181920212223242526272829/** * Strategy method used to create the &#123;@link ApplicationContext&#125;. By default this * method will respect any explicitly set application context or application context * class before falling back to a suitable default. * @return the application context (not yet refreshed) * @see #setApplicationContextClass(Class) */protected ConfigurableApplicationContext createApplicationContext() &#123; Class&lt;?&gt; contextClass = this.applicationContextClass; if (contextClass == null) &#123; try &#123; switch (this.webApplicationType) &#123; case SERVLET: contextClass = Class.forName(DEFAULT_SERVLET_WEB_CONTEXT_CLASS); break; case REACTIVE: contextClass = Class.forName(DEFAULT_REACTIVE_WEB_CONTEXT_CLASS); break; default: contextClass = Class.forName(DEFAULT_CONTEXT_CLASS); &#125; &#125; catch (ClassNotFoundException ex) &#123; throw new IllegalStateException( &quot;Unable create a default ApplicationContext, please specify an ApplicationContextClass&quot;, ex); &#125; &#125; return (ConfigurableApplicationContext) BeanUtils.instantiateClass(contextClass);&#125; ç¬¬23è¡Œå‡†å¤‡ä¸Šä¸‹æ–‡ç¯å¢ƒ, åœ¨ç¯å¢ƒä¿å­˜åˆ°iocä¸­ï¼Œè€Œä¸”applyInitializers, å³å›è°ƒä¹‹å‰ä¿å­˜çš„æ‰€æœ‰çš„initializer, ç„¶åç›‘å¬å™¨è°ƒç”¨ç¯å¢ƒå‡†å¤‡å®Œæ¯•ï¼Œä¹‹åå°±æ˜¯æ‰“å°æ—¥å¿—ã€åœ¨IOCä¸­æ³¨å†ŒBannerã€å‘½ä»¤è¡Œå‚æ•°ã€‚æœ€åå›è°ƒç›‘å¬å™¨çš„ç¯å¢ƒåŠ è½½å®Œæˆ 1234567891011121314151617181920212223242526272829private void prepareContext(ConfigurableApplicationContext context, ConfigurableEnvironment environment, SpringApplicationRunListeners listeners, ApplicationArguments applicationArguments, Banner printedBanner) &#123; context.setEnvironment(environment); postProcessApplicationContext(context); applyInitializers(context); listeners.contextPrepared(context); if (this.logStartupInfo) &#123; logStartupInfo(context.getParent() == null); logStartupProfileInfo(context); &#125; // Add boot specific singleton beans ConfigurableListableBeanFactory beanFactory = context.getBeanFactory(); beanFactory.registerSingleton(&quot;springApplicationArguments&quot;, applicationArguments); if (printedBanner != null) &#123; beanFactory.registerSingleton(&quot;springBootBanner&quot;, printedBanner); &#125; if (beanFactory instanceof DefaultListableBeanFactory) &#123; ((DefaultListableBeanFactory) beanFactory) .setAllowBeanDefinitionOverriding(this.allowBeanDefinitionOverriding); &#125; if (this.lazyInitialization) &#123; context.addBeanFactoryPostProcessor(new LazyInitializationBeanFactoryPostProcessor()); &#125; // Load the sources Set&lt;Object&gt; sources = getAllSources(); Assert.notEmpty(sources, &quot;Sources must not be empty&quot;); load(context, sources.toArray(new Object[0])); listeners.contextLoaded(context);&#125; ç¬¬24è¡Œè¿™é‡Œä¹‹å‰è®²è¿‡ï¼Œæ˜¯åŠ è½½IOCå®¹å™¨ä¸­çš„æ‰€æœ‰ç»„ä»¶çš„,å¦‚æœæ˜¯webåº”ç”¨ï¼Œè¿˜ä¼šåˆ›å»ºåµŒå…¥å¼çš„tomcat ç¬¬31è¡Œ123456789101112131415å›è°ƒæ‰€æœ‰çš„runnerï¼Œé‡Œé¢åŒ…å«äº†APplicationRunnerå’ŒCommandLineRunnerï¼Œ ä¼˜å…ˆè°ƒç”¨å‰è€… private void callRunners(ApplicationContext context, ApplicationArguments args) &#123; List&lt;Object&gt; runners = new ArrayList&lt;&gt;(); runners.addAll(context.getBeansOfType(ApplicationRunner.class).values()); runners.addAll(context.getBeansOfType(CommandLineRunner.class).values()); AnnotationAwareOrderComparator.sort(runners); for (Object runner : new LinkedHashSet&lt;&gt;(runners)) &#123; if (runner instanceof ApplicationRunner) &#123; callRunner((ApplicationRunner) runner, args); &#125; if (runner instanceof CommandLineRunner) &#123; callRunner((CommandLineRunner) runner, args); &#125; &#125; &#125; runç»“æŸäº†è¿”å›IOCå®¹å™¨","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"SpringBoot","slug":"Language/Java/SpringBoot","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/SpringBoot/"}],"tags":[]},{"title":"SpringBoot5-æ•°æ®è®¿é—®","slug":"Language/Java/SpringBoot/SpringBoot5-æ•°æ®è®¿é—®/index","date":"2020-04-28T13:34:47.000Z","updated":"2020-04-28T13:34:47.000Z","comments":true,"path":"Q9I31Z.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q9I31Z.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial åˆ›å»ºé¡¹ç›®é€‰æ‹©MySQL+JDBC+Web é“¾æ¥æ•°æ®åº“123456spring: datasource: username: root password: 123456 url: jdbc:mysql://localhost:3306/jdbc driver-class-name: com.mysql.jdbc.Driver","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial åˆ›å»ºé¡¹ç›®é€‰æ‹©MySQL+JDBC+Web é“¾æ¥æ•°æ®åº“123456spring: datasource: username: root password: 123456 url: jdbc:mysql://localhost:3306/jdbc driver-class-name: com.mysql.jdbc.Driver 123456789101112131415161718192021222324package com.wsx.study.springboot.demo;import org.junit.jupiter.api.Test;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.boot.test.context.SpringBootTest;import javax.sql.DataSource;import java.sql.Connection;import java.sql.SQLException;@SpringBootTestclass DemoApplicationTests &#123; @Autowired DataSource dataSource; @Test void contextLoads() throws SQLException &#123; System.out.println(dataSource.getClass()); Connection connection = dataSource.getConnection(); System.out.println(connection); connection.close(); &#125;&#125; æ•°æ®æºè‡ªåŠ¨é…ç½®åŸç†DataSourceConfiguration,æ ¹æ®é…ç½®åˆ›å»ºæ•°æ®æºï¼Œé»˜è®¤ä½¿ç”¨Tomcatè¿æ¥æ± SpringBootæ”¯æŒå¾ˆå¤šæ•°æ®æºç±»å‹ï¼Œç”šè‡³å¯ä»¥è‡ªå®šä¹‰,åˆ©ç”¨åå°„ç»‘å®šæ•°æ®æºï¼Œå¹¶ç»‘å®šç›¸å…³å±æ€§ é…ç½®druid12345&lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;druid-spring-boot-starter&lt;/artifactId&gt; &lt;version&gt;1.1.22&lt;/version&gt;&lt;/dependency&gt; ç„¶åå†application.ymlä¸­é…ç½®è¿™ä¸ª, å°±å¯ä»¥ç”¨localhost:8080&#x2F;druid&#x2F;æ¥è®¿é—®æ¥ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556spring: # é…ç½®æ•°æ®åº“ä¿¡æ¯ datasource: druid: # æ•°æ®æºé…ç½® username: root password: 123456 url: jdbc:mysql://127.0.0.1:3306/debug?serverTimezone=GMT%2B8&amp;characterEncoding=UTF-8&amp;useSSL=false # è®¾ç½®æ—¶åŒº driver-class-name: com.mysql.cj.jdbc.Driver # åˆå§‹åŒ– æœ€å° æœ€å¤§ initial-size: 5 min-idle: 5 max-active: 20 # é…ç½®è·å–è¿æ¥ç­‰å¾…è¶…æ—¶çš„æ—¶é—´ max-wait: 60000 # é…ç½®é—´éš”å¤šä¹…æ‰è¿›è¡Œä¸€æ¬¡æ£€æµ‹ï¼Œæ£€æµ‹éœ€è¦å…³é—­çš„ç©ºé—²è¿æ¥ï¼Œå•ä½æ˜¯æ¯«ç§’ time-between-eviction-runs-millis: 60000 # é…ç½®ä¸€ä¸ªè¿æ¥åœ¨æ± ä¸­æœ€å°ç”Ÿå­˜çš„æ—¶é—´ï¼Œå•ä½æ˜¯æ¯«ç§’ min-evictable-idle-time-millis: 300000 validation-query: SELECT &#x27;x&#x27; test-while-idle: true test-on-borrow: false test-on-return: false # æ‰“å¼€PSCacheï¼Œå¹¶ä¸”æŒ‡å®šæ¯ä¸ªè¿æ¥ä¸ŠPSCacheçš„å¤§å° poolPreparedStatements: true maxPoolPreparedStatementPerConnectionSize: 20 # é…ç½®å¤šä¸ªè‹±æ–‡é€—å·åˆ†éš” filters: stat,wall # WebStatFilteré…ç½®ï¼Œè¯´æ˜è¯·å‚è€ƒDruid Wikiï¼Œé…ç½®_é…ç½®WebStatFilter # æ˜¯å¦å¯ç”¨StatFilteré»˜è®¤å€¼true web-stat-filter: enabled: true url-pattern: /* exclusions: &quot;*.js,*.gif,*.jpg,*.png,*.css,*.ico,/druid/*&quot; session-stat-enable: false session-stat-max-count: 1000 principal-cookie-name: admin principal-session-name: admin profile-enable: true # æ ¹æ®é…ç½®ä¸­çš„url-patternæ¥è®¿é—®å†…ç½®ç›‘æ§é¡µé¢ï¼Œå¦‚æœæ˜¯ä¸Šé¢çš„é…ç½®ï¼Œå†…ç½®ç›‘æ§é¡µé¢çš„é¦–é¡µæ˜¯/druid/index.html # http://loacalhsot:8081/druid stat-view-servlet: enabled: true url-pattern: /druid/* # ç›‘æ§é¡µé¢è®¿é—®è·¯å¾„ # å…è®¸æ¸…ç©ºç»Ÿè®¡æ•°æ® reset-enable: true login-username: admin login-password: 123456 # StatViewSerlvetå±•ç¤ºå‡ºæ¥çš„ç›‘æ§ä¿¡æ¯æ¯”è¾ƒæ•æ„Ÿï¼Œæ˜¯ç³»ç»Ÿè¿è¡Œçš„å†…éƒ¨æƒ…å†µï¼Œå¦‚æœä½ éœ€è¦åšè®¿é—®æ§åˆ¶ï¼Œå¯ä»¥é…ç½®allowå’Œdenyè¿™ä¸¤ä¸ªå‚æ•° # denyä¼˜å…ˆäºallowï¼Œå¦‚æœåœ¨denyåˆ—è¡¨ä¸­ï¼Œå°±ç®—åœ¨allowåˆ—è¡¨ä¸­ï¼Œä¹Ÿä¼šè¢«æ‹’ç»ã€‚å¦‚æœallowæ²¡æœ‰é…ç½®æˆ–è€…ä¸ºç©ºï¼Œåˆ™å…è®¸æ‰€æœ‰è®¿é—® # é…ç½®çš„æ ¼å¼ # &lt;IP&gt; # æˆ–è€…&lt;IP&gt;/&lt;SUB_NET_MASK_size&gt;å…¶ä¸­128.242.127.1/24 # 24è¡¨ç¤ºï¼Œå‰é¢24ä½æ˜¯å­ç½‘æ©ç ï¼Œæ¯”å¯¹çš„æ—¶å€™ï¼Œå‰é¢24ä½ç›¸åŒå°±åŒ¹é…,ä¸æ”¯æŒIPV6ã€‚ allow: deny: æ•´åˆMyBatiså»ºè¡¨+é€†å‘å·¥ç¨‹SpringBootå°±è‡ªåŠ¨å¸®æˆ‘ä»¬æŠŠMapperæ”¾åˆ°IOCä¸­äº† 1234567891011121314package com.wsx.demo.dao;import com.wsx.demo.pojo.Table1;import org.apache.ibatis.annotations.Mapper;import org.apache.ibatis.annotations.Select;import java.util.List;@Mapperpublic interface Table1Mapper &#123; @Select(&quot;select * from table1&quot;) public List&lt;Table1&gt; selectAll();&#125; å½“ç„¶è¿™é‡Œä¹Ÿæ”¯æŒæ‰¹é‡å¯¼å…¥ 12345678910@SpringBootApplication@MapperScan(&quot;com.wsx.demo.dao&quot;)public class DemoApplication &#123; public static void main(String[] args) &#123; SpringApplication.run(DemoApplication.class, args); &#125;&#125; æ•´åˆJPAæœ€åæ˜¯æœ€å¼ºçš„ã€‚ã€‚ã€‚æ–°å»ºé¡¹ç›®çš„æ—¶å€™é€‰æ‹©JPAJPAä½ ç”šè‡³ä¸ç”¨è‡ªå·±å†™sqlï¼Ÿå¥½å¼ºå¤§ 12345678910spring: datasource: url: jdbc:mysql://localhost/debug username: root password: 123456 driver-class-name: com.mysql.cj.jdbc.Driver jpa: hibernate: ddl-auto: update show-sql: true 12345678910111213141516package com.wsx.demo.entity;import lombok.Data;import javax.persistence.*;@Data@Entity@Table(name = &quot;user&quot;)public class User &#123; @Id @GeneratedValue(strategy = GenerationType.IDENTITY) Integer id; String lastName; String email;&#125; 12345678package com.wsx.demo.repository;import com.wsx.demo.entity.User;import org.springframework.data.jpa.repository.JpaRepository;public interface UserRepository extends JpaRepository&lt;User, Integer&gt; &#123;&#125; 123456789101112131415161718192021222324252627282930package com.wsx.demo.controller;import com.wsx.demo.entity.User;import com.wsx.demo.repository.UserRepository;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.PathVariable;import org.springframework.web.bind.annotation.ResponseBody;import java.util.Optional;@Controllerpublic class UserController &#123; @Autowired UserRepository userRepository; @GetMapping(&quot;/user/select/&#123;id&#125;&quot;) @ResponseBody public Optional&lt;User&gt; selectUser(@PathVariable(&quot;id&quot;) Integer id) &#123; return userRepository.findById(id); &#125; @GetMapping(&quot;/user/insert&quot;) @ResponseBody public User insertUser(User user) &#123; return userRepository.save(user); &#125;&#125; SpringBootæ•´åˆDruid","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"SpringBoot","slug":"Language/Java/SpringBoot","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/SpringBoot/"}],"tags":[]},{"title":"SpringMVC6-Ajax","slug":"Language/Java/SpringMVC/SpringMVC6-Ajax/index","date":"2020-04-28T07:49:04.000Z","updated":"2020-04-28T07:49:04.000Z","comments":true,"path":"Q9HN1S.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q9HN1S.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ‹¦æˆªå™¨æ‹¦æˆªå™¨æ˜¯SpringMVCæ¡†æ¶è‡ªå·±çš„ï¼Œåªç”¨SpringMVCæ‰èƒ½ä½¿ç”¨æ‹¦æˆªå™¨åªä¼šæ‹¦æˆªè®¿é—®çš„æ§åˆ¶æ–¹æ³•ï¼Œé™æ€èµ„æºæ˜¯ä¸ä¼šæ‹¦æˆªçš„ å®šä¹‰æ‹¦æˆªå™¨å®ç°HandlerInterceptorå…¶å®åªè¦ä½¿ç”¨preHandleå°±å¯ä»¥äº†ï¼Œä»–è¿”å›trueæ‰æ‰§è¡Œï¼Œå¦åˆ™ä¸æ‰§è¡Œæ¯”å¦‚æˆ‘ä»¬å°±å¯ä»¥åœ¨è¿™é‡Œå®ç°ç™»é™†è¯·æ±‚ 123456789101112131415161718192021222324package com.onlineStore.interceptor;import org.springframework.web.servlet.HandlerInterceptor;import org.springframework.web.servlet.ModelAndView;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;public class MyInterceptor implements HandlerInterceptor &#123; @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception &#123; return true; &#125; @Override public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception &#123; &#125; @Override public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception &#123; &#125;&#125; æ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½MultipartResolver 12345678&lt;bean id=&quot;multipartResolver&quot; class=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot;&gt; &lt;!--ä¸Šä¼ æ–‡ä»¶çš„æœ€å¤§å¤§å°ï¼Œå•ä½ä¸ºå­—èŠ‚ --&gt; &lt;property name=&quot;maxUploadSize&quot; value=&quot;17367648787&quot;&gt;&lt;/property&gt; &lt;!-- ä¸Šä¼ æ–‡ä»¶çš„ç¼–ç  --&gt; &lt;property name=&quot;defaultEncoding&quot; value=&quot;UTF-8&quot;&gt;&lt;/property&gt;&lt;/bean&gt; ç»“æŸ","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"SpringMVC","slug":"Language/Java/SpringMVC","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/SpringMVC/"}],"tags":[]},{"title":"SpringMVC5-SSM","slug":"Language/Java/SpringMVC/SpringMVC5-SSM/index","date":"2020-04-27T15:55:51.000Z","updated":"2020-04-27T15:55:51.000Z","comments":true,"path":"Q9GEX3.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q9GEX3.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ•´åˆ åˆ›å»ºæ•°æ®åº“ å¯¼å…¥ä¾èµ– å»ºç«‹åŸºæœ¬ç»“æ„å’Œé…ç½®æ¡†æ¶ ç¼–å†™MyBatis.xml ç¼–å†™Spring-dao.xml ç¼–å†™Spring-service.xml ç¼–å†™web.xml ç¼–å†™Spring-mvc.xml ç¼–å†™applicationContext.xml","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ•´åˆ åˆ›å»ºæ•°æ®åº“ å¯¼å…¥ä¾èµ– å»ºç«‹åŸºæœ¬ç»“æ„å’Œé…ç½®æ¡†æ¶ ç¼–å†™MyBatis.xml ç¼–å†™Spring-dao.xml ç¼–å†™Spring-service.xml ç¼–å†™web.xml ç¼–å†™Spring-mvc.xml ç¼–å†™applicationContext.xml å»ºç«‹æ•°æ®åº“1234567891011121314151617181920212223242526272829303132333435363738394041create database `onlineStore`;use `onlineStore`;create table `customer`( `id` int(10) not null, `name` varchar(10) not null, primary key `id` (`id`));create table `goods`( `id` int(10) not null, `shopId` int(10) not null, `price` int(10) not null, `name` varchar(10) not null, primary key `id` (`id`));create table `shop`( `id` int(10) not null, `name` varchar(10) not null, primary key `id` (`id`));create table `openorder`( `id` int(10) not null, `goodsId` int(10) not null, `customerId` int(10) not null, primary key `id` (`id`));create table `closedorder`( `id` int(10) not null, `goodsId` int(10) not null, `customerId` int(10) not null, primary key `id` (`id`)); ä¾èµ–123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;org.example&lt;/groupId&gt; &lt;artifactId&gt;SSMStudy&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;dependencies&gt; &lt;!-- å•å…ƒæµ‹è¯•--&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.12&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;!-- æ•°æ®åº“è¿æ¥--&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;8.0.19&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;com.mchange&lt;/groupId&gt; &lt;artifactId&gt;c3p0&lt;/artifactId&gt; &lt;version&gt;0.9.5.5&lt;/version&gt; &lt;/dependency&gt; &lt;!-- Servlet JSP--&gt; &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt; &lt;version&gt;4.0.1&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/javax.servlet.jsp/jsp-api --&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt; &lt;artifactId&gt;jsp-api&lt;/artifactId&gt; &lt;version&gt;2.2.1-b03&lt;/version&gt; &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;jstl&lt;/artifactId&gt; &lt;version&gt;1.2&lt;/version&gt; &lt;/dependency&gt; &lt;!-- Mybatis--&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis&lt;/artifactId&gt; &lt;version&gt;3.5.4&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt; &lt;version&gt;2.0.4&lt;/version&gt; &lt;/dependency&gt; &lt;!-- https://mvnrepository.com/artifact/org.mybatis.generator/mybatis-generator-core --&gt; &lt;dependency&gt; &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt; &lt;artifactId&gt;mybatis-generator-core&lt;/artifactId&gt; &lt;version&gt;1.4.0&lt;/version&gt; &lt;/dependency&gt; &lt;!-- Spring--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt; &lt;version&gt;5.2.5.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;!-- spring-mvc--&gt; &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;5.2.5.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.projectlombok&lt;/groupId&gt; &lt;artifactId&gt;lombok&lt;/artifactId&gt; &lt;version&gt;1.18.12&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt; &lt;build&gt; &lt;resources&gt; &lt;resource&gt; &lt;directory&gt;src/main/resources&lt;/directory&gt; &lt;includes&gt; &lt;include&gt;**/*.properties&lt;/include&gt; &lt;include&gt;**/*.xml&lt;/include&gt; &lt;/includes&gt; &lt;filtering&gt;true&lt;/filtering&gt; &lt;/resource&gt; &lt;resource&gt; &lt;directory&gt;src/main/java&lt;/directory&gt; &lt;includes&gt; &lt;include&gt;**/*.properties&lt;/include&gt; &lt;include&gt;**/*.xml&lt;/include&gt; &lt;/includes&gt; &lt;filtering&gt;true&lt;/filtering&gt; &lt;/resource&gt; &lt;/resources&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt; &lt;configuration&gt; &lt;source&gt;7&lt;/source&gt; &lt;target&gt;7&lt;/target&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt;&lt;/project&gt; åˆ›å»ºé…ç½®æ–‡ä»¶ å…ˆé…ç½®mybatis123456789101112131415161718&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&lt;!DOCTYPE configuration PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;&lt;configuration&gt; &lt;typeAliases&gt; &lt;package name=&quot;com.onlineStore.pojo&quot;/&gt; &lt;/typeAliases&gt; &lt;mappers&gt; &lt;mapper resource=&quot;com/onlineStore/dao/ClosedOrderMapper.xml&quot;/&gt; &lt;mapper resource=&quot;com/onlineStore/dao/CustomerMapper.xml&quot;/&gt; &lt;mapper resource=&quot;com/onlineStore/dao/GoodsMapper.xml&quot;/&gt; &lt;mapper resource=&quot;com/onlineStore/dao/OpenOrderMapper.xml&quot;/&gt; &lt;mapper resource=&quot;com/onlineStore/dao/ShopMapper.xml&quot;/&gt; &lt;/mappers&gt;&lt;/configuration&gt; ç„¶åæ˜¯æ•°æ®æº1234jdbc.driver = com.mysql.cj.jdbc.Driverjdbc.url = jdbc:mysql://localhost:3306/onlineStore?useSSL=true&amp;useUnicode=true&amp;characterEncoding=utf8&amp;serverTimezone=Asia/Shanghaijdbc.username=rootjdbc.password=123456 é…ç½®Springdao1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.0.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.0.xsd&quot;&gt; &lt;!-- é…ç½®æ•´åˆmybatis --&gt; &lt;!-- 1.å…³è”æ•°æ®åº“æ–‡ä»¶ --&gt; &lt;context:property-placeholder location=&quot;classpath:database.properties&quot;/&gt; &lt;!-- 2.æ•°æ®åº“è¿æ¥æ±  --&gt; &lt;!--æ•°æ®åº“è¿æ¥æ±  dbcp åŠè‡ªåŠ¨åŒ–æ“ä½œ ä¸èƒ½è‡ªåŠ¨è¿æ¥ c3p0 è‡ªåŠ¨åŒ–æ“ä½œï¼ˆè‡ªåŠ¨çš„åŠ è½½é…ç½®æ–‡ä»¶ å¹¶ä¸”è®¾ç½®åˆ°å¯¹è±¡é‡Œé¢ï¼‰ --&gt; &lt;bean id=&quot;dataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;&gt; &lt;!-- é…ç½®è¿æ¥æ± å±æ€§ --&gt; &lt;property name=&quot;driverClass&quot; value=&quot;$&#123;jdbc.driver&#125;&quot;/&gt; &lt;property name=&quot;jdbcUrl&quot; value=&quot;$&#123;jdbc.url&#125;&quot;/&gt; &lt;property name=&quot;user&quot; value=&quot;$&#123;jdbc.username&#125;&quot;/&gt; &lt;property name=&quot;password&quot; value=&quot;$&#123;jdbc.password&#125;&quot;/&gt; &lt;!-- c3p0è¿æ¥æ± çš„ç§æœ‰å±æ€§ --&gt; &lt;property name=&quot;maxPoolSize&quot; value=&quot;30&quot;/&gt; &lt;property name=&quot;minPoolSize&quot; value=&quot;10&quot;/&gt; &lt;!-- å…³é—­è¿æ¥åä¸è‡ªåŠ¨commit --&gt; &lt;property name=&quot;autoCommitOnClose&quot; value=&quot;false&quot;/&gt; &lt;!-- è·å–è¿æ¥è¶…æ—¶æ—¶é—´ --&gt; &lt;property name=&quot;checkoutTimeout&quot; value=&quot;10000&quot;/&gt; &lt;!-- å½“è·å–è¿æ¥å¤±è´¥é‡è¯•æ¬¡æ•° --&gt; &lt;property name=&quot;acquireRetryAttempts&quot; value=&quot;2&quot;/&gt; &lt;/bean&gt; &lt;!-- 3.é…ç½®SqlSessionFactoryå¯¹è±¡ --&gt; &lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt; &lt;!-- æ³¨å…¥æ•°æ®åº“è¿æ¥æ±  --&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt; &lt;!-- é…ç½®MyBatieså…¨å±€é…ç½®æ–‡ä»¶:mybatis-config.xml --&gt; &lt;property name=&quot;configLocation&quot; value=&quot;classpath:mybatis-config.xml&quot;/&gt; &lt;/bean&gt; &lt;!-- 4.é…ç½®æ‰«æDaoæ¥å£åŒ…ï¼ŒåŠ¨æ€å®ç°Daoæ¥å£æ³¨å…¥åˆ°springå®¹å™¨ä¸­ --&gt; &lt;!--è§£é‡Š ï¼šhttps://www.cnblogs.com/jpfss/p/7799806.html--&gt; &lt;bean class=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt; &lt;!-- æ³¨å…¥sqlSessionFactory --&gt; &lt;property name=&quot;sqlSessionFactoryBeanName&quot; value=&quot;sqlSessionFactory&quot;/&gt; &lt;!-- ç»™å‡ºéœ€è¦æ‰«æDaoæ¥å£åŒ… --&gt; &lt;property name=&quot;basePackage&quot; value=&quot;com.onlineStore.dao&quot;/&gt; &lt;/bean&gt;&lt;/beans&gt; é…ç½®SpringService123456789101112131415161718192021222324252627&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.0.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.0.xsd&quot;&gt; &lt;!-- æ‰«æserviceç›¸å…³çš„bean --&gt; &lt;context:component-scan base-package=&quot;com.onlineStore.service&quot;/&gt; &lt;!-- é…ç½®äº‹åŠ¡ç®¡ç†å™¨ --&gt; &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt; &lt;!-- æ³¨å…¥æ•°æ®åº“è¿æ¥æ±  --&gt; &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt; &lt;/bean&gt;&lt;/beans&gt; é…ç½®SpringMVC12345678910111213141516171819202122232425262728293031323334&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.0.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.0.xsd&quot;&gt; &lt;!-- é…ç½®SpringMVC --&gt; &lt;!-- 1.å¼€å¯SpringMVCæ³¨è§£é©±åŠ¨ --&gt; &lt;mvc:annotation-driven /&gt; &lt;!-- 2.é™æ€èµ„æºé»˜è®¤servleté…ç½®--&gt; &lt;mvc:default-servlet-handler/&gt; &lt;!-- 3.é…ç½®jsp æ˜¾ç¤ºViewResolverè§†å›¾è§£æå™¨ --&gt; &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt; &lt;property name=&quot;viewClass&quot; value=&quot;org.springframework.web.servlet.view.JstlView&quot; /&gt; &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot; /&gt; &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt; &lt;/bean&gt; &lt;!-- 4.æ‰«æwebç›¸å…³çš„bean --&gt; &lt;context:component-scan base-package=&quot;com.onlineStore.controller&quot; /&gt;&lt;/beans&gt; æœ€åç”¨applicationæ•´åˆ1234567891011&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt; &lt;import resource=&quot;spring-dao.xml&quot;/&gt; &lt;import resource=&quot;spring-service.xml&quot;/&gt; &lt;import resource=&quot;spring-mvc.xml&quot;/&gt;&lt;/beans&gt; é…ç½®web.xml12345678910111213141516171819202122232425262728293031323334353637383940414243&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot; version=&quot;4.0&quot;&gt; &lt;!--DispatcherServlet--&gt; &lt;servlet&gt; &lt;servlet-name&gt;DispatcherServlet&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;init-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;!--ä¸€å®šè¦æ³¨æ„:æˆ‘ä»¬è¿™é‡ŒåŠ è½½çš„æ˜¯æ€»çš„é…ç½®æ–‡ä»¶ï¼Œä¹‹å‰è¢«è¿™é‡Œå‘äº†ï¼--&gt; &lt;param-value&gt;classpath:applicationContext.xml&lt;/param-value&gt; &lt;/init-param&gt; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;DispatcherServlet&lt;/servlet-name&gt; &lt;url-pattern&gt;/&lt;/url-pattern&gt; &lt;/servlet-mapping&gt; &lt;!--encodingFilter--&gt; &lt;filter&gt; &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt; &lt;filter-class&gt; org.springframework.web.filter.CharacterEncodingFilter &lt;/filter-class&gt; &lt;init-param&gt; &lt;param-name&gt;encoding&lt;/param-name&gt; &lt;param-value&gt;utf-8&lt;/param-value&gt; &lt;/init-param&gt; &lt;/filter&gt; &lt;filter-mapping&gt; &lt;filter-name&gt;encodingFilter&lt;/filter-name&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt; &lt;/filter-mapping&gt; &lt;!--Sessionè¿‡æœŸæ—¶é—´--&gt; &lt;session-config&gt; &lt;session-timeout&gt;15&lt;/session-timeout&gt; &lt;/session-config&gt;&lt;/web-app&gt; è‡ªåŠ¨ç”ŸæˆDAO1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253package com.onlineStore.sqlutil;import org.mybatis.generator.api.MyBatisGenerator;import org.mybatis.generator.config.Configuration;import org.mybatis.generator.config.xml.ConfigurationParser;import org.mybatis.generator.exception.InvalidConfigurationException;import org.mybatis.generator.exception.XMLParserException;import org.mybatis.generator.internal.DefaultShellCallback;import java.io.File;import java.io.IOException;import java.sql.SQLException;import java.util.ArrayList;import java.util.List;public class GetDao &#123; public static void main(String[] args) &#123; List&lt;String&gt; warings = new ArrayList&lt;String&gt;(); boolean overwrite = true; String genCig = &quot;/generatorConfig.xml&quot;; File configFile = new File(GetDao.class.getResource(genCig).getFile()); ConfigurationParser configurationParser = new ConfigurationParser(warings); Configuration configuration = null; try &#123; configuration = configurationParser.parseConfiguration(configFile); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; catch (XMLParserException e) &#123; e.printStackTrace(); &#125; DefaultShellCallback callback = new DefaultShellCallback(overwrite); MyBatisGenerator myBatisGenerator = null; try &#123; myBatisGenerator = new MyBatisGenerator(configuration, callback, warings); &#125; catch (InvalidConfigurationException e) &#123; System.out.println(e); e.printStackTrace(); &#125; try &#123; myBatisGenerator.generate(null); &#125; catch (SQLException e) &#123; System.out.println(e); e.printStackTrace(); &#125; catch (IOException e) &#123; System.out.println(e); e.printStackTrace(); &#125; catch (InterruptedException e) &#123; System.out.println(e); e.printStackTrace(); &#125; &#125;&#125; 12345678910111213141516171819202122&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!DOCTYPE generatorConfiguration PUBLIC &quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;&gt;&lt;generatorConfiguration&gt; &lt;context id=&quot;testTables&quot; targetRuntime=&quot;MyBatis3&quot;&gt; &lt;jdbcConnection driverClass=&quot;com.mysql.cj.jdbc.Driver&quot; connectionURL=&quot;jdbc:mysql://localhost:3306/onlineStore?useUnicode=true&amp;amp;characterEncoding=UTF-8&quot; userId=&quot;root&quot; password=&quot;123456&quot;/&gt; &lt;javaModelGenerator targetPackage=&quot;com.onlineStore.pojo&quot; targetProject=&quot;./src/main/java&quot;/&gt; &lt;sqlMapGenerator targetPackage=&quot;com.onlineStore.dao&quot; targetProject=&quot;./src/main/java&quot;/&gt; &lt;javaClientGenerator type=&quot;XMLMAPPER&quot; targetPackage=&quot;com.onlineStore.dao&quot; targetProject=&quot;./src/main/java&quot;/&gt; &lt;table tableName=&quot;customer&quot;/&gt; &lt;table tableName=&quot;shop&quot;/&gt; &lt;table tableName=&quot;goods&quot;/&gt; &lt;table tableName=&quot;closedorder&quot; domainObjectName=&quot;ClosedOrder&quot;/&gt; &lt;table tableName=&quot;openorder&quot; domainObjectName=&quot;OpenOrder&quot;/&gt; &lt;/context&gt;&lt;/generatorConfiguration&gt; æ³¨å…¥Service12345678910@Service(&quot;customerService&quot;)public class CustomerServiceImpl implements CustomerService&#123; @Autowired CustomerMapper customerMapper; @Override public List&lt;Customer&gt; queryAllCustomer() &#123; CustomerExample customerExample = new CustomerExample(); return customerMapper.selectByExample(customerExample); &#125;&#125; æ³¨å…¥controller1234567891011121314151617181920package com.onlineStore.controller;import com.onlineStore.service.CustomerService;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.ui.Model;import org.springframework.web.bind.annotation.GetMapping;@Controllerpublic class CustomerController &#123; @Autowired CustomerService customerService; @GetMapping(&quot;/allCustomer&quot;) public String allCustomer(Model model) &#123; model.addAttribute(&quot;allCustomer&quot;, customerService.queryAllCustomer()); return &quot;allCustomer&quot;; &#125;&#125; JSP123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;&lt;%-- Created by IntelliJ IDEA. User: s Date: 2020/4/27 Time: 11:15 ä¸‹åˆ To change this template use File | Settings | File Templates.--%&gt;&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;&lt;html&gt;&lt;head&gt; &lt;title&gt;Title&lt;/title&gt; &lt;link href=&quot;https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;&lt;/head&gt;&lt;body&gt;&lt;div class=&quot;container&quot;&gt; &lt;div class=&quot;row clearfix&quot;&gt; &lt;div class=&quot;col-md-12 column&quot;&gt; &lt;div class=&quot;page-header&quot;&gt; &lt;h1&gt; &lt;small&gt; é¡¾å®¢åˆ—è¡¨&lt;/small&gt; &lt;/h1&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class=&quot;row clearfix&quot;&gt; &lt;div class=&quot;col-md-12 column&quot;&gt; &lt;table class=&quot;table table-hover table-striped&quot;&gt; &lt;thead&gt; &lt;tr&gt; &lt;th&gt;é¡¾å®¢id&lt;/th&gt; &lt;th&gt;é¡¾å®¢åå­—&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt; &lt;c:forEach var=&quot;customer&quot; items=&quot;$&#123;allCustomer&#125;&quot;&gt; &lt;tr&gt; &lt;td&gt;$&#123;customer.id&#125;&lt;/td&gt; &lt;td&gt;$&#123;customer.name&#125;&lt;/td&gt; &lt;/tr&gt; &lt;/c:forEach&gt; &lt;/tbody&gt; &lt;/table&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt; æµ‹è¯•ç»“æœ å‚è€ƒç‹‚ç¥è¯´SpringMVC05ï¼šæ•´åˆSSMæ¡†æ¶","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"SpringMVC","slug":"Language/Java/SpringMVC","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/SpringMVC/"}],"tags":[]},{"title":"MyBatis2-åŸç†","slug":"Language/Java/MyBatis/MyBatis2-åŸç†/index","date":"2020-04-27T10:07:52.000Z","updated":"2020-04-27T10:07:52.000Z","comments":true,"path":"Q9FYT4.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q9FYT4.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial JDBCçš„ä¼˜åŒ–å’Œå°è£… ï¼ˆ1ï¼‰ ä½¿ç”¨æ•°æ®åº“è¿æ¥æ± å¯¹è¿æ¥è¿›è¡Œç®¡ç†ï¼ˆ2ï¼‰ SQLè¯­å¥ç»Ÿä¸€å­˜æ”¾åˆ°é…ç½®æ–‡ä»¶ï¼ˆ3ï¼‰ SQLè¯­å¥å˜é‡å’Œä¼ å…¥å‚æ•°çš„æ˜ å°„ä»¥åŠåŠ¨æ€SQLï¼ˆ4ï¼‰ åŠ¨æ€SQLè¯­å¥çš„å¤„ç†ï¼ˆ5ï¼‰ å¯¹æ•°æ®åº“æ“ä½œç»“æœçš„æ˜ å°„å’Œç»“æœç¼“å­˜ï¼ˆ6ï¼‰ SQLè¯­å¥çš„é‡å¤ å‚è€ƒåŸç†åˆ†æä¹‹ä¸€ï¼šä»JDBCåˆ°MybatisMyBatisåŸç†æ¦‚æ‹¬æ•™ä½ æ‰‹å†™Mybatisæ¡†æ¶","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"MyBatis","slug":"Language/Java/MyBatis","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/MyBatis/"}],"tags":[]},{"title":"MyBatis1-å…¥é—¨","slug":"Language/Java/MyBatis/MyBatis1-å…¥é—¨/index","date":"2020-04-27T07:03:48.000Z","updated":"2020-04-27T07:03:48.000Z","comments":true,"path":"Q9FQAC.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q9FQAC.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial MyBatisæ˜¯ä¸€ä¸ªå¯¹JDBCçš„å°è£…ï¼Œæ˜¯ä¸€ä¸ªæ•°æ®æŒä¹…åŒ–æ¡†æ¶ ä¼˜ç‚¹å‡å°‘ä»£ç é‡ï¼Œé™ä½ç»´æŠ¤æˆæœ¬ï¼Œè®²SQLå†™åˆ°XMLä¸­ï¼Œé™ä½è€¦åˆåº¦ï¼Œæ”¯æŒåŠ¨æ€SQLè¯­å¥ï¼Œæ”¯æŒæ ‡ç­¾æ˜ å°„ï¼Œ ç¼ºç‚¹SQLç¼–å†™å·¥ä½œé‡å¤§ï¼ŒSQLè¯­å¥ä¾èµ–æ•°æ®åº“ï¼Œå¯¼è‡´ç§»æ¤æ€§è¾ƒå·®","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial MyBatisæ˜¯ä¸€ä¸ªå¯¹JDBCçš„å°è£…ï¼Œæ˜¯ä¸€ä¸ªæ•°æ®æŒä¹…åŒ–æ¡†æ¶ ä¼˜ç‚¹å‡å°‘ä»£ç é‡ï¼Œé™ä½ç»´æŠ¤æˆæœ¬ï¼Œè®²SQLå†™åˆ°XMLä¸­ï¼Œé™ä½è€¦åˆåº¦ï¼Œæ”¯æŒåŠ¨æ€SQLè¯­å¥ï¼Œæ”¯æŒæ ‡ç­¾æ˜ å°„ï¼Œ ç¼ºç‚¹SQLç¼–å†™å·¥ä½œé‡å¤§ï¼ŒSQLè¯­å¥ä¾èµ–æ•°æ®åº“ï¼Œå¯¼è‡´ç§»æ¤æ€§è¾ƒå·® æ ¸å¿ƒæ¥å£å’Œç±»SqlSessionFactoryBuilder - SqlSessionFactory - SqlSession å¼€å‘æ–¹å¼ä½¿ç”¨åŸç”Ÿæ¥å£æˆ–è€…ç”¨Mapperä»£ç†å®ç°è‡ªå®šä¹‰æ¥å£ å®é™…æ“ä½œ å¯¼å…¥ä¾èµ– 12345&lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis&lt;/artifactId&gt; &lt;version&gt;3.4.5&lt;/version&gt;&lt;/dependency&gt; 12345678910111213141516171819202122&lt;build&gt; &lt;resources&gt; &lt;resource&gt; &lt;directory&gt;src/main/resources&lt;/directory&gt; &lt;includes&gt; &lt;include&gt;**/*.properties&lt;/include&gt; &lt;include&gt;**/*.xml&lt;/include&gt; &lt;/includes&gt; &lt;filtering&gt;true&lt;/filtering&gt; &lt;/resource&gt; &lt;resource&gt; &lt;directory&gt;src/main/java&lt;/directory&gt; &lt;includes&gt; &lt;include&gt;**/*.properties&lt;/include&gt; &lt;include&gt;**/*.xml&lt;/include&gt; &lt;/includes&gt; &lt;filtering&gt;true&lt;/filtering&gt; &lt;/resource&gt; &lt;/resources&gt;&lt;/build&gt; åˆ›å»ºè¡¨ åˆ›å»ºè¡¨å¯¹åº”çš„å®ä½“ç±» åˆ›å»ºMyBatisé…ç½®æ–‡ä»¶MyBatis.xml 12345678910111213141516&lt;environments default=&quot;development&quot;&gt; &lt;environment id=&quot;development&quot;&gt; &lt;!-- é…ç½®JDBCäº‹åŠ¡ç®¡ç† --&gt; &lt;transactionManager type=&quot;JDBC&quot;&gt;&lt;/transactionManager&gt; &lt;!-- POOLEDé…ç½®JDBCæ•°æ®æºè¿æ¥æ±  --&gt; &lt;dataSource type=&quot;POOLED&quot;&gt; &lt;property name=&quot;driver&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;&gt;&lt;/property&gt; &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/mybatis?useUnicode=true&amp;amp;characterEncoding=UTF-8&quot;&gt;&lt;/property&gt; &lt;property name=&quot;username&quot; value=&quot;root&quot;&gt;&lt;/property&gt; &lt;property name=&quot;password&quot; value=&quot;123456&quot;&gt;&lt;/property&gt; &lt;/dataSource&gt; &lt;/environment&gt; &lt;environment id=&quot;other&quot;&gt; &lt;!-- write--&gt; &lt;/environment&gt;&lt;/environments&gt; åˆ›å»ºMapper.xmlnamespace è®¾ç½®ä¸ºæ–‡ä»¶æ‰€åœ¨åŒ…+æ–‡ä»¶å,insertè¡¨ç¤ºæ‰§è¡Œinsert,idæ˜¯å‚æ•°ï¼ŒparameterTypeæ˜¯ç±»å‹123456789&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;&lt;mapper namespace=&quot;com.wsx.mapper.AccoutMapper&quot;&gt; &lt;insert id=&quot;save&quot; parameterType=&quot;com.wsx.entity.Account&quot;&gt; insert into t_account(username,password,age) values(#&#123;username&#125;,#&#123;password&#125;,#&#123;age&#125;) &lt;/insert&gt;&lt;/mapper&gt; æ³¨å†ŒSQLè¯­å¥123456789&lt;!-- æ³¨å†ŒAccountMapper.xml --&gt;&lt;mappers&gt; &lt;mapper resource=&quot;com/wsx/mapper/AccountMapper.xml&quot;&gt;&lt;/mapper&gt; &lt;mapper resource=&quot;com/wsx/repository/AccountRepository.xml&quot;&gt;&lt;/mapper&gt; &lt;mapper resource=&quot;com/wsx/repository/StudentRepository.xml&quot;&gt;&lt;/mapper&gt; &lt;mapper resource=&quot;com/wsx/repository/ClassesRepository.xml&quot;/&gt; &lt;mapper resource=&quot;com/wsx/repository/CustomerRepository.xml&quot;/&gt; &lt;mapper resource=&quot;com/wsx/repository/GoodsRepository.xml&quot;/&gt;&lt;/mappers&gt; è°ƒç”¨æ¥å£ 12345678910//åŠ è½½MyBatisé…ç½®æ–‡ä»¶InputStream inputStream = Test.class.getClassLoader().getResourceAsStream(&quot;config.xml&quot;);SqlSessionFactoryBuilder sqlSessionFactoryBuilder = new SqlSessionFactoryBuilder();SqlSessionFactory sqlSessionFactory = sqlSessionFactoryBuilder.build(inputStream);SqlSession sqlSession = sqlSessionFactory.openSession();String statement = &quot;com.wsx.mapper.AccoutMapper.save&quot;;Account account = new Account(1L,&quot;å¼ ä¸‰&quot;,&quot;123123&quot;,22);sqlSession.insert(statement,account);sqlSession.commit();sqlSession.close(); è‡ªå®šä¹‰æ¥å£123public interface AccountRepository &#123; public int save(Account account); public int update(Account account); 123456&lt;insert id=&quot;save&quot; parameterType=&quot;com.wsx.entity.Account&quot;&gt; insert into t_account(username,password,age) values(#&#123;username&#125;,#&#123;password&#125;,#&#123;age&#125;)&lt;/insert&gt;&lt;update id=&quot;update&quot; parameterType=&quot;com.wsx.entity.Account&quot;&gt; update t_account set username = #&#123;username&#125;,password = #&#123;password&#125;,age = #&#123;age&#125; where id = #&#123;id&#125;&lt;/update&gt; 1234567InputStream inputStream = Test.class.getClassLoader().getResourceAsStream(&quot;config.xml&quot;);SqlSessionFactoryBuilder sqlSessionFactoryBuilder = new SqlSessionFactoryBuilder();SqlSessionFactory sqlSessionFactory = sqlSessionFactoryBuilder.build(inputStream);SqlSession sqlSession = sqlSessionFactory.openSession();//è·å–å®ç°æ¥å£çš„ä»£ç†å¯¹è±¡AccountRepository accountRepository = sqlSession.getMapper(AccountRepository.class);accountRepository.() ä¼ å…¥å¤šä¸ªå˜é‡123&lt;select id=&quot;findByNameAndAge&quot; resultType=&quot;com.wsx.entity.Account&quot;&gt; select * from t_account where username = #&#123;arg0&#125; and age = #&#123;arg1&#125;&lt;/select&gt; æŸ¥è¯¢æ·±å…¥å¤šå¯¹ä¸€æ¯”æ–¹è¿™ä¸ª, æˆ‘ä»¬æŸ¥è¯¢å‡ºæ¥æœ‰å¤šä¸ªidï¼Œè¿™æ—¶å€™ï¼Œstudentå¯¹è±¡çš„idä¼šåŒ¹é…ç¬¬ä¸€ä¸ªï¼Œnameä¹Ÿæ˜¯ï¼Œæ‰€ä»¥æŸ¥è¯¢å‡ºæ¥classeså°±nulläº†æˆ‘ä»¬éœ€è¦ä½¿ç”¨resultMapæ¥å¤„ç† 1234567891011121314@Datapublic class Classes &#123; private long id; private String name; private List&lt;Student&gt; students;&#125;@Datapublic class Student &#123; private long id; private String name; private Classes classes;&#125; 123456789101112&lt;resultMap id=&quot;studentMap&quot; type=&quot;com.wsx.entity.Student&quot;&gt; &lt;id column=&quot;id&quot; property=&quot;id&quot;&gt;&lt;/id&gt; &lt;result column=&quot;name&quot; property=&quot;name&quot;&gt;&lt;/result&gt; &lt;association property=&quot;classes&quot; javaType=&quot;com.wsx.entity.Classes&quot;&gt; &lt;id column=&quot;cid&quot; property=&quot;id&quot;&gt;&lt;/id&gt; &lt;result column=&quot;cname&quot; property=&quot;name&quot;&gt;&lt;/result&gt; &lt;/association&gt;&lt;/resultMap&gt;&lt;select id=&quot;findById&quot; parameterType=&quot;long&quot; resultMap=&quot;studentMap&quot;&gt; select s.id,s.name,c.id as cid,c.name as cname from student s,classes c where s.id = #&#123;id&#125; and s.cid = c.id&lt;/select&gt; ä¸€å¯¹å¤š123456789101112&lt;resultMap id=&quot;classesMap&quot; type=&quot;com.wsx.entity.Classes&quot;&gt; &lt;id column=&quot;cid&quot; property=&quot;id&quot;&gt;&lt;/id&gt; &lt;result column=&quot;cname&quot; property=&quot;name&quot;&gt;&lt;/result&gt; &lt;collection property=&quot;students&quot; ofType=&quot;com.wsx.entity.Student&quot;&gt; &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt; &lt;result column=&quot;name&quot; property=&quot;name&quot;/&gt; &lt;/collection&gt;&lt;/resultMap&gt;&lt;select id=&quot;findById&quot; parameterType=&quot;long&quot; resultMap=&quot;classesMap&quot;&gt; select s.id,s.name,c.id as cid,c.name as cname from student s,classes c where c.id = #&#123;id&#125; and s.cid = c.id&lt;/select&gt; é€†å‘å·¥ç¨‹ä¼ ç»Ÿå¼€å‘ä¸­ï¼Œå®ä½“ç±»ã€è‡ªå®šä¹‰Mapperæ¥å£ã€Mapper.xml éœ€è¦å¼€å‘è€…æ‰‹åŠ¨åˆ›å»ºï¼Œé€†å‘å·¥ç¨‹å¯ä»¥å¸®åŠ©å¼€å‘è€…æ¥è‡ªåŠ¨åˆ›å»ºä¸‰ä¸ªç»„ä»¶ï¼Œå‡å°‘å·¥ä½œé‡ MBGMyBatis Generator ï¼Œ ä¸€ä¸ªä¸“é—¨ä¸ºMyBatisæ¡†æ¶å¼€å‘è€…å®šåˆ¶çš„ä»£ç ç”Ÿæˆå™¨ 1234567891011121314151617&lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis&lt;/artifactId&gt; &lt;version&gt;3.4.5&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;8.0.11&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;org.mybatis.generator&lt;/groupId&gt; &lt;artifactId&gt;mybatis-generator-core&lt;/artifactId&gt; &lt;version&gt;1.3.2&lt;/version&gt;&lt;/dependency&gt; é…ç½®æ–‡ä»¶123456789101112131415161718&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;!DOCTYPE generatorConfiguration PUBLIC &quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;&gt;&lt;generatorConfiguration&gt; &lt;context id=&quot;testTables&quot; targetRuntime=&quot;MyBatis3&quot;&gt; &lt;jdbcConnection driverClass=&quot;com.mysql.cj.jdbc.Driver&quot; connectionURL=&quot;jdbc:mysql://localhost:3306/mybatis?useUnicode=true&amp;amp;characterEncoding=UTF-8&quot; userId=&quot;root&quot; password=&quot;123456&quot; &gt;&lt;/jdbcConnection&gt; &lt;javaModelGenerator targetPackage=&quot;com.wsx.entity&quot; targetProject=&quot;./src/main/java&quot;&gt;&lt;/javaModelGenerator&gt; &lt;sqlMapGenerator targetPackage=&quot;com.wsx.repository&quot; targetProject=&quot;./src/main/java&quot;&gt;&lt;/sqlMapGenerator&gt; &lt;javaClientGenerator type=&quot;XMLMAPPER&quot; targetPackage=&quot;com.wsx.repository&quot; targetProject=&quot;./src/main/java&quot;&gt;&lt;/javaClientGenerator&gt; &lt;table tableName=&quot;t_user&quot; domainObjectName=&quot;User&quot;&gt;&lt;/table&gt; &lt;/context&gt;&lt;/generatorConfiguration&gt; 1ã€jdbcConnection é…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯ã€‚2ã€javaModelGenerator é…ç½® JavaBean çš„â½£æˆç­–ç•¥ã€‚3ã€sqlMapGenerator é…ç½® SQL æ˜ å°„â½‚ä»¶â½£æˆç­–ç•¥ã€‚4ã€javaClientGenerator é…ç½® Mapper æ¥â¼çš„â½£æˆç­–ç•¥ã€‚5ã€table é…ç½®â½¬æ ‡æ•°æ®è¡¨ï¼ˆtableNameï¼šè¡¨åï¼ŒdomainObjectNameï¼šJavaBean ç±»åï¼‰ã€‚ç”Ÿæˆä»£ç å¦‚ä¸‹ï¼Œè¿™ä¸ªä»£ç ä¸é‡è¦ï¼Œè·‘å°±å®Œäº‹äº†, ä»–å°±ç»™æˆ‘ä»¬ç”Ÿæˆäº†å¾ˆå¤šsql 1234567891011121314151617181920212223242526272829List&lt;String&gt; warings = new ArrayList&lt;String&gt;();boolean overwrite = true;String genCig = &quot;/generatorConfig.xml&quot;;File configFile = new File(Main.class.getResource(genCig).getFile());ConfigurationParser configurationParser = new ConfigurationParser(warings);Configuration configuration = null;try &#123; configuration = configurationParser.parseConfiguration(configFile);&#125; catch (IOException e) &#123; e.printStackTrace();&#125; catch (XMLParserException e) &#123; e.printStackTrace();&#125;DefaultShellCallback callback = new DefaultShellCallback(overwrite);MyBatisGenerator myBatisGenerator = null;try &#123; myBatisGenerator = new MyBatisGenerator(configuration,callback,warings);&#125; catch (InvalidConfigurationException e) &#123; e.printStackTrace();&#125;try &#123; myBatisGenerator.generate(null);&#125; catch (SQLException e) &#123; e.printStackTrace();&#125; catch (IOException e) &#123; e.printStackTrace();&#125; catch (InterruptedException e) &#123; e.printStackTrace();&#125; å»¶è¿ŸåŠ è½½å…ˆé…ç½® 123456&lt;settings&gt; &lt;!-- æ‰“å°SQL--&gt; &lt;setting name=&quot;logImpl&quot; value=&quot;STDOUT_LOGGING&quot;/&gt; &lt;!-- å¼€å¯å»¶è¿ŸåŠ è½½ --&gt; &lt;setting name=&quot;lazyLoadingEnabled&quot; value=&quot;true&quot;/&gt;&lt;/settings&gt; ç„¶åæŠŠå¤šè¡¨å…³è”æŸ¥è¯¢æ‹†åˆ†æˆå¤šä¸ªå•è¡¨æŸ¥è¯¢, è°ƒç”¨æ¥å£çš„æ—¶å€™å†å»æŸ¥è¯¢ï¼Œä¸ç”¨å°±ä¸æŸ¥è¯¢ï¼Œæ¯”æ–¹æœ‰å›¾ä¹¦è¡¨å’Œå›¾ä¹¦ç±»å‹è¡¨ï¼Œæˆ‘ä»¬æŸ¥åˆ°äº†ä¸€äº›ç±»å‹ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªå•è¡¨æŸ¥è¯¢ï¼Œå¦‚æœä½ ä¸å»è°ƒç”¨getBookï¼Œæ¥ä¸‹æ¥çš„æŸ¥è¯¢å°±ä¸ä¼šè¿›è¡Œ, æ…ç”¨ï¼Œè¿™ä¸ªä¸œè¥¿è®²ä¸€æ¬¡æŸ¥è¯¢æ‹†æˆäº†å¤šæ¬¡ï¼Œè¿™å¯èƒ½å¯¼è‡´æ€§èƒ½é™ä½ MyBatisç¼“å­˜æˆ‘å¹²å˜›ä¸ç”¨redisï¼Ÿ ä¸€çº§ç¼“å­˜é»˜è®¤å¼€å¯ä¸”ä¸å¯å…³é—­,æ˜¯SqlSessionçº§åˆ«çš„ï¼Œç”¨HashMapå®ç°ï¼Œä¸åŒçš„SqlSessionä¹‹é—´çš„æ•°æ®åŒºåŸŸäº’ä¸å½±å“, å½“æ‰§è¡Œäº†DMLæ“ä½œ(insert,update,delete),å°±è¦æ¸…ç©ºç¼“å­˜ äºŒçº§ç¼“å­˜å¤šä¸ªSqlSessionå…±ç”¨åŒä¸€ä¸ªç¼“å­˜ï¼Œä¾ç„¶æ˜¯HashMapå®ç°åœ¨config.xmlä¸­å¼€å¯ 12345678&lt;settings&gt; &lt;!-- æ‰“å°SQL--&gt; &lt;setting name=&quot;logImpl&quot; value=&quot;STDOUT_LOGGING&quot;/&gt; &lt;!-- å¼€å¯å»¶è¿ŸåŠ è½½ --&gt; &lt;setting name=&quot;lazyLoadingEnabled&quot; value=&quot;true&quot;/&gt; &lt;!-- å¼€å¯äºŒçº§ç¼“å­˜ --&gt; &lt;setting name=&quot;cacheEnabled&quot; value=&quot;true&quot;/&gt;&lt;/settings&gt; åœ¨Mapper.xml ä¸­åŠ å…¥ 1&lt;cache&gt;&lt;/cache&gt; å®ä½“ç±»è¦å®ç°åºåˆ—åŒ–(Serializable) ç¬¬ä¸‰æ–¹ç¼“å­˜12345678910&lt;dependency&gt; &lt;groupId&gt;org.mybatis&lt;/groupId&gt; &lt;artifactId&gt;mybatis-ehcache&lt;/artifactId&gt; &lt;version&gt;1.0.0&lt;/version&gt;&lt;/dependency&gt;&lt;dependency&gt; &lt;groupId&gt;net.sf.ehcache&lt;/groupId&gt; &lt;artifactId&gt;ehcache-core&lt;/artifactId&gt; &lt;version&gt;2.4.3&lt;/version&gt;&lt;/dependency&gt; é…ç½®ç¬¬ä¸‰æ–¹ç¼“å­˜ï¼Œehcache.xml 1234567891011121314&lt;ehcache xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:noNamespaceSchemaLocation=&quot;../config/ehcache.xsd&quot;&gt; &lt;diskStore/&gt; &lt;defaultCache maxElementsInMemory=&quot;1000&quot; maxElementsOnDisk=&quot;10000000&quot; eternal=&quot;false&quot; overflowToDisk=&quot;false&quot; timeToIdleSeconds=&quot;120&quot; timeToLiveSeconds=&quot;120&quot; diskExpiryThreadIntervalSeconds=&quot;120&quot; memoryStoreEvictionPolicy=&quot;LRU&quot;&gt; &lt;/defaultCache&gt;&lt;/ehcache&gt; åœ¨config.xmlä¸­å¼€å¯ï¼ˆåŒä¸Š)æœ€ååœ¨mapper.xmlä¸­é…ç½® ç¼“å­˜å¤±æ•ˆé—´éš”ã€å›æ”¶ç­–ç•¥, è¿™é‡Œå°±ä¸éœ€è¦å®ç°åºåˆ—åŒ–äº† 12345678&lt;cache type=&quot;org.mybatis.caches.ehcache.EhcacheCache&quot;&gt; &lt;!-- ç¼“å­˜åˆ›å»ºä¹‹åï¼Œæœ€åä¸€æ¬¡è®¿é—®ç¼“å­˜çš„æ—¶é—´è‡³ç¼“å­˜å¤±æ•ˆçš„æ—¶é—´é—´éš” --&gt; &lt;property name=&quot;timeToIdleSeconds&quot; value=&quot;3600&quot;/&gt; &lt;!-- ç¼“å­˜è‡ªåˆ›å»ºæ—¶é—´èµ·è‡³å¤±æ•ˆçš„æ—¶é—´é—´éš” --&gt; &lt;property name=&quot;timeToLiveSeconds&quot; value=&quot;3600&quot;/&gt; &lt;!-- ç¼“å­˜å›æ”¶ç­–ç•¥ï¼ŒLRUè¡¨ç¤ºç§»é™¤è¿‘æœŸä½¿ç”¨æœ€å°‘çš„å¯¹è±¡ --&gt; &lt;property name=&quot;memoryStoreEvictionPolicy&quot; value=&quot;LRU&quot;/&gt;&lt;/cache&gt; åŠ¨æ€SQLwhere æ§åˆ¶ andæ˜¯å¦åˆ é™¤ï¼Œif æ§åˆ¶æ˜¯å¦å­˜åœ¨,è¿™é‡Œæˆ‘ä¸æ·±å…¥äº†â€¦ä¼šç”¨å°±è¡Œ 1234567891011121314151617&lt;select id=&quot;findByAccount&quot; parameterType=&quot;com.wsx.entity.Account&quot; resultType=&quot;com.wsx.entity.Account&quot;&gt; select * from t_account &lt;where&gt; &lt;if test=&quot;id!=0&quot;&gt; id = #&#123;id&#125; &lt;/if&gt; &lt;if test=&quot;username!=null&quot;&gt; and username = #&#123;username&#125; &lt;/if&gt; &lt;if test=&quot;password!=null&quot;&gt; and password = #&#123;password&#125; &lt;/if&gt; &lt;if test=&quot;age!=0&quot;&gt; and age = #&#123;age&#125; &lt;/if&gt; &lt;/where&gt;&lt;/select&gt; å‚è€ƒèµ„æ–™4å°æ—¶å­¦ä¼šMyBatisä½ çœŸçš„æ‡‚äº†mybatiså»¶è¿ŸåŠ è½½å—ï¼Ÿ","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"MyBatis","slug":"Language/Java/MyBatis","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/MyBatis/"}],"tags":[]},{"title":"SpringMVC4-JSON2","slug":"Language/Java/SpringMVC/SpringMVC4-JSON2/index","date":"2020-04-26T14:19:05.000Z","updated":"2020-04-26T14:19:05.000Z","comments":true,"path":"Q9EFRT.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q9EFRT.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial jsonç”¨èµ·æ¥ å¯¼å…¥json é…ç½®json æ–°å»ºå¯¹è±¡ è½¬åŒ–ä¸ºjson 12345&lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; &lt;version&gt;2.5.2&lt;/version&gt;&lt;/dependency&gt; 123456789101112131415&lt;!--è§£å†³json ä¹±ç é…ç½®--&gt; &lt;mvc:annotation-driven&gt; &lt;mvc:message-converters register-defaults=&quot;true&quot;&gt; &lt;bean class=&quot;org.springframework.http.converter.StringHttpMessageConverter&quot;&gt; &lt;constructor-arg value=&quot;UTF-8&quot;/&gt; &lt;/bean&gt; &lt;bean class=&quot;org.springframework.http.converter.json.MappingJackson2HttpMessageConverter&quot;&gt; &lt;property name=&quot;objectMapper&quot;&gt; &lt;bean class=&quot;org.springframework.http.converter.json.Jackson2ObjectMapperFactoryBean&quot;&gt; &lt;property name=&quot;failOnEmptyBeans&quot; value=&quot;false&quot;/&gt; &lt;/bean&gt; &lt;/property&gt; &lt;/bean&gt; &lt;/mvc:message-converters&gt; &lt;/mvc:annotation-driven&gt; 123456@ResponseBody@RequestMapping(&quot;/json1&quot;)public String json1() throws JsonProcessingException &#123; return new ObjectMapper().writeValueAsString( new node(1, 2L, &quot;hello&quot;));&#125; fastjsonç”¨èµ·æ¥123456&lt;!-- https://mvnrepository.com/artifact/com.alibaba/fastjson --&gt; &lt;dependency&gt; &lt;groupId&gt;com.alibaba&lt;/groupId&gt; &lt;artifactId&gt;fastjson&lt;/artifactId&gt; &lt;version&gt;1.2.68&lt;/version&gt; &lt;/dependency&gt; 1234567@ResponseBody@RequestMapping(&quot;/json2&quot;)public String json2() &#123; return JSON.toJSONString(new node(1, 2L, &quot;hello fastjson ä½ å¥½&quot;));&#125;","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"SpringMVC","slug":"Language/Java/SpringMVC","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/SpringMVC/"}],"tags":[]},{"title":"SpringMVC3-JSON","slug":"Language/Java/SpringMVC/SpringMVC3-JSON/index","date":"2020-04-24T15:28:11.000Z","updated":"2020-04-24T15:28:11.000Z","comments":true,"path":"Q9ATMZ.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q9ATMZ.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial jsonè¿™æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä»–å¯ä»¥æŠŠJavaScriptå¯¹è±¡å˜æˆå­—ç¬¦ä¸²ï¼Œç„¶åä¼ ç»™åç«¯ï¼Œå®ç°å‰åç«¯åˆ†ç¦» bsonbsonæ˜¯ç”±10genå¼€å‘çš„ä¸€ä¸ªæ•°æ®æ ¼å¼ï¼Œç›®å‰ä¸»è¦ç”¨äºmongoDBä¸­ bson çš„éå†æ›´åŠ è¿…é€Ÿï¼Œå› ä¸ºä»–åœ¨å¤´éƒ¨å­˜ä¸‹äº†æ¯ä¸ªå…ƒç´ çš„é•¿åº¦ bson çš„æ“ä½œæ›´åŠ ç®€å•ï¼Œ9å˜æˆ10å¯¹jsonæ¥è¯´è¦ç§»åŠ¨å†…å®¹ï¼Œä½†æ˜¯bsonä¸éœ€è¦ï¼Œä»–æ•°å­—è¶…èŒƒå›´ä¼šæ…¢ä¸€äº› bson æ”¯æŒäºŒè¿›åˆ¶æ•°æ®çš„ä¼ è¾“binary array json å’Œjavascirptè½¬åŒ–12JSON.parse();JSON.stringify(); è§£æjson1234567&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;&lt;dependency&gt; &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt; &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt; &lt;version&gt;2.11.0.rc1&lt;/version&gt;&lt;/dependency&gt; å‚è€ƒBSONçš„ä»‹ç»åŠBSONä¸JSONçš„åŒºåˆ«","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"SpringMVC","slug":"Language/Java/SpringMVC","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/SpringMVC/"}],"tags":[]},{"title":"SpringMVC2-æ³¨è§£","slug":"Language/Java/SpringMVC/SpringMVC2-æ³¨è§£/index","date":"2020-04-24T14:46:52.000Z","updated":"2020-04-24T14:46:52.000Z","comments":true,"path":"Q9ARQ4.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q9ARQ4.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ³¨è§£é…ç½®Controllerè¿™é‡Œçš„19è¡Œæ˜¯springä¸­çš„æ³¨è§£æ‰«æï¼Œ21è¡Œæ˜¯ä¸å»å¤„ç†é™æ€èµ„æºï¼Œ23è¡Œæ˜¯é…ç½®å¤„ç†å™¨çš„é€‚é…å™¨ 12345678910111213141516171819202122232425262728293031&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.0.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.0.xsd&quot;&gt; &lt;context:component-scan base-package=&quot;com.wsx.controller&quot;/&gt; &lt;!-- ä¸å¤„ç†é™æ€èµ„æº--&gt; &lt;mvc:default-servlet-handler/&gt; &lt;!-- é…ç½®å¤„ç†å™¨å’Œé€‚é…å™¨--&gt; &lt;mvc:annotation-driven/&gt; &lt;!-- è§£æå™¨--&gt; &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt; &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot;/&gt; &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;/&gt; &lt;/bean&gt;&lt;/beans&gt;","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ³¨è§£é…ç½®Controllerè¿™é‡Œçš„19è¡Œæ˜¯springä¸­çš„æ³¨è§£æ‰«æï¼Œ21è¡Œæ˜¯ä¸å»å¤„ç†é™æ€èµ„æºï¼Œ23è¡Œæ˜¯é…ç½®å¤„ç†å™¨çš„é€‚é…å™¨ 12345678910111213141516171819202122232425262728293031&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.0.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.0.xsd&quot;&gt; &lt;context:component-scan base-package=&quot;com.wsx.controller&quot;/&gt; &lt;!-- ä¸å¤„ç†é™æ€èµ„æº--&gt; &lt;mvc:default-servlet-handler/&gt; &lt;!-- é…ç½®å¤„ç†å™¨å’Œé€‚é…å™¨--&gt; &lt;mvc:annotation-driven/&gt; &lt;!-- è§£æå™¨--&gt; &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt; &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot;/&gt; &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;/&gt; &lt;/bean&gt;&lt;/beans&gt; ç¬¬7è¡Œæ˜¯é…ç½®controllerï¼Œç¬¬9è¡Œæ˜¯æ˜ å°„urlï¼Œ è¢«controlleræ³¨è§£é…ç½®çš„ç±»ï¼Œä¼šè¢«æ³¨å…¥åˆ°IOCå®¹å™¨ï¼Œå®ƒé‡Œé¢çš„æ–¹æ³•å¦‚æœæœ‰è¿”å›å€¼æ˜¯Stringï¼Œå¹¶ä¸”æœ‰å…·ä½“é¡µé¢å¯ä»¥è·³è½¬ï¼Œå°±ä¼šè¢«è§†å›¾è§£æå™¨è§£æ è¿˜å¯ä»¥ç›´æ¥åœ¨ç±»ä¸Šé¢æ³¨è§£RequestMappingï¼Œå¯ä»¥æŒ‡å®šä¸€ä¸ªurlï¼Œå’Œä¸‹é¢çš„urlæ‹¼æ¥ 1234567891011121314151617package com.wsx.controller;import org.springframework.stereotype.Controller;import org.springframework.ui.Model;import org.springframework.web.bind.annotation.RequestMapping;@Controllerpublic class HelloController &#123; @RequestMapping(&quot;/hello&quot;) public String hello(Model model) &#123; // å°è£…æ•°æ® model.addAttribute(&quot;msg&quot;, &quot;hello,Spring&quot;); // è¿”å›è§†å›¾ return &quot;hello&quot;; &#125;&#125; RestFulé£æ ¼å°±æ˜¯ä¸å†ä½¿ç”¨http://xxxx/?id=1&amp;name=2 è¿™ç§urlRestFulå°±æ˜¯ç›´æ¥ä½¿ç”¨http://xxxx/1/2 123456@GetMapping(&quot;/add/&#123;a&#125;/&#123;b&#125;&quot;)public String test2(@PathVariable int a,@PathVariable String b,Model model)&#123; String res = a + b; model.addAttribute(&quot;msg&quot;,&quot;ç»“æœä¸º&quot;+res); return &quot;test&quot;;&#125; å‰ç«¯ä¼ å…¥å‚æ•°ä¸ºäº†é¿å…éº»çƒ¦ï¼Œè¯·å†™ä¸Š@RequestParam 12345@RequestMapping(&quot;/user&quot;)public String user(@RequestParam(&quot;name&quot;) String name, Model model)&#123; model.addAttribute(&quot;msg&quot;,name); return &quot;hello&quot;;&#125; ç„¶åè®¿é—®ä¸‹é¢è¿™ä¸ªï¼Œæ˜¾ç„¶æˆåŠŸäº†http://localhost:8080/annotation_war_exploded/user?name=hi å‰ç«¯ä¼ å…¥å¯¹è±¡SpringMVCå›å»åŒ¹é…å¯¹è±¡çš„å­—æ®µ,ä½ çš„å‚æ•°å¿…é¡»å’Œå¯¹è±¡çš„å­—æ®µåä¿æŒä¸€è‡´ Modelã€ModelMapã€LinkedHashMapModel åªæœ‰å‡ ä¸ªæ–¹æ³•å‚¨å­˜æ•°æ®ï¼Œç®€åŒ–äº†æ–°æ‰‹å¯¹äºmodelå¯¹è±¡çš„æ“ä½œå’Œç†è§£ModelMapç»§æ‰¿äº†LinkedMapï¼ŒModelAndView å¯ä»¥åœ¨å‚¨å­˜æ•°æ®çš„åŒæ—¶ï¼Œè®¾ç½®è¿”å›çš„é€»è¾‘è§†å›¾(å‡ ä¹ä¸ç”¨) ä¹±ç é…ç½®åœ¨web.xmlä¸­é…ç½®ä¸‹é¢çš„è¿‡æ»¤å™¨, ç„¶ååœ¨tomcatçš„é…ç½®æ–‡ä»¶ä¸­æŸ¥çœ‹tomcatæ˜¯å¦é…ç½®UTF-8åƒä¸‡è¦æ³¨æ„ï¼Œä¸‹é¢çš„&#x2F; ä¸€å®šè¦æ”¹ä¸º&#x2F;* 12345678910111213&lt;filter&gt; &lt;filter-name&gt;encoding&lt;/filter-name&gt; &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt; &lt;init-param&gt; &lt;param-name&gt;encoding&lt;/param-name&gt; &lt;param-value&gt;utf-8&lt;/param-value&gt; &lt;/init-param&gt;&lt;/filter&gt;&lt;filter-mapping&gt; &lt;filter-name&gt;encoding&lt;/filter-name&gt; &lt;url-pattern&gt;/*&lt;/url-pattern&gt;&lt;/filter-mapping&gt;","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"SpringMVC","slug":"Language/Java/SpringMVC","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/SpringMVC/"}],"tags":[]},{"title":"SpringCloud1-å…¥é—¨","slug":"Language/Java/SpringCloud/SpringCloud1-å…¥é—¨/index","date":"2020-04-24T08:00:42.000Z","updated":"2020-04-24T08:00:42.000Z","comments":true,"path":"Q9A8X6.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q9A8X6.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial é›†ç¾¤&#x2F;åˆ†å¸ƒå¼é›†ç¾¤æ˜¯å¤šå°è®¡ç®—æœºä¸ºäº†å®ŒæˆåŒä¸€ä¸ªå·¥ä½œï¼Œç»„åˆåœ¨ä¸€èµ·è¾¾åˆ°æ›´é«˜çš„æ•ˆç‡çš„ç³»ç»Ÿ åˆ†å¸ƒå¼æ˜¯ä¸ºäº†å®Œæˆä¸€ä¸ªå·¥ä½œï¼Œå°†å·¥ä½œæ‹†åˆ†ä¸ºå¤šä¸ªæœåŠ¡ï¼Œåˆ†åˆ«è¿è¡Œåœ¨ä¸åŒæœºå™¨ä¸Šçš„ç³»ç»Ÿ","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial é›†ç¾¤&#x2F;åˆ†å¸ƒå¼é›†ç¾¤æ˜¯å¤šå°è®¡ç®—æœºä¸ºäº†å®ŒæˆåŒä¸€ä¸ªå·¥ä½œï¼Œç»„åˆåœ¨ä¸€èµ·è¾¾åˆ°æ›´é«˜çš„æ•ˆç‡çš„ç³»ç»Ÿ åˆ†å¸ƒå¼æ˜¯ä¸ºäº†å®Œæˆä¸€ä¸ªå·¥ä½œï¼Œå°†å·¥ä½œæ‹†åˆ†ä¸ºå¤šä¸ªæœåŠ¡ï¼Œåˆ†åˆ«è¿è¡Œåœ¨ä¸åŒæœºå™¨ä¸Šçš„ç³»ç»Ÿ åˆ†å¸ƒå¼ç³»ç»Ÿçš„CAPç†è®ºå¼ºä¸€è‡´æ€§ã€é«˜å¯ç”¨æ€§ã€åˆ†åŒºå®¹é”™æ€§æ— æ³•åŒæ—¶è¾¾åˆ°æè‡´ å¼ºä¸€è‡´æ€§æŒ‡çš„æ˜¯å¤šä¸ªèŠ‚ç‚¹é—´çš„æ•°æ®æ˜¯å®æ—¶ä¸€è‡´çš„ é«˜å¯ç”¨æ€§æŒ‡çš„æ˜¯å•ä½æ—¶é—´å†…æˆ‘ä»¬çš„åˆ†å¸ƒå¼ç³»ç»Ÿèƒ½å¤Ÿæä¾›æœåŠ¡çš„æ—¶é—´ åˆ†åŒºå®¹é”™æ€§æŒ‡çš„æ˜¯åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ä¸€éƒ¨åˆ†èŠ‚ç‚¹å‡ºç°é—®é¢˜ä»¥åï¼Œæˆ‘ä»¬ä»ç„¶å¯ä»¥æä¾›æ­£å¸¸æœåŠ¡ã€‚ SpringCloudçš„åŸºç¡€åŠŸèƒ½ æœåŠ¡æ²»ç†ï¼šEureka å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡ï¼šRibbon æœåŠ¡å®¹é”™ä¿æŠ¤ï¼šHystrix å£°æ˜å¼æœåŠ¡è°ƒç”¨ï¼šFeign APIç½‘å…³æœåŠ¡ï¼šZuul åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒï¼šConfig Eureka(æœåŠ¡æ²»ç†)è¿™æ˜¯ä¸€ä¸ªæ ¹æ®æœåŠ¡åå­—æä¾›IPå’Œç«¯å£çš„æœåŠ¡å™¨ï¼Œå’ŒDNSæœåŠ¡å™¨æ¯”è¾ƒåƒï¼Œæˆ‘ä»¬çš„èŠ‚ç‚¹åˆ†ä¸º3ç±»ï¼ŒæœåŠ¡æä¾›è€…ã€æœåŠ¡æ¶ˆè´¹è€…ã€EurekaServer æœåŠ¡æä¾›è€…è¿™äº›èŠ‚ç‚¹æä¾›æœåŠ¡ï¼Œä»–ä»¬åœ¨EurekaServerä¸Šæ³¨å†Œè‡ªå·±ï¼Œå¹¶å®šæ—¶é€šè¿‡å¿ƒè·³æœºåˆ¶æ¥è¡¨æ˜è‡ªå·±æ­£å¸¸ï¼Œå½“ä»–ä¸‹æœºçš„æ—¶å€™ä¹Ÿä¼šé€šçŸ¥EurekaServerï¼Œ è¿™äº›åˆ†åˆ«å«åšæœåŠ¡æ³¨å†Œã€æœåŠ¡ç»­çº¦ã€æœåŠ¡ä¸‹çº¿ æœåŠ¡æ¶ˆè´¹è€…è¿™äº›èŠ‚ç‚¹è°ƒç”¨æœåŠ¡æä¾›è€…çš„æœåŠ¡ï¼Œä½†æ˜¯ä»–ä»¬ä¸çŸ¥é“IPå’ŒPortæ˜¯å¤šå°‘ï¼Œæ‰€ä»¥ä»–ä»¬éœ€è¦å…ˆå‘EurekaServerè¯¢é—®è‡ªå·±æƒ³è¦è°ƒç”¨çš„æœåŠ¡åœ¨å“ªäº›æœºå™¨ä¸Šï¼Œç„¶åæ‰å¯ä»¥è°ƒç”¨æœåŠ¡ã€‚è¿™äº›å«åšè·å–æœåŠ¡å’ŒæœåŠ¡è°ƒç”¨ EurekaServerä»–ä»¬æ”¯æŒæœåŠ¡æä¾›è€…çš„æ³¨å†Œï¼Œæ”¯æŒæœåŠ¡æ¶ˆè´¹è€…çš„è¯¢é—®ï¼Œè¿˜è¦æ”¯æŒç›‘è§†æœåŠ¡æä¾›è€…çš„å¿ƒè·³ï¼Œå½“ä»–ä»¬å‘ç°æŸæœåŠ¡æä¾›è€…å¿ƒè·³å‡ºç°é—®é¢˜çš„æ—¶å€™ï¼Œå°†å…¶å‰”é™¤ï¼Œå¦‚æœæŸäº›æœåŠ¡æä¾›è€…çš„å¿ƒè·³ä¸æ­£å¸¸ä½†æ˜¯ä¸è‡´æ­»ï¼Œä»–ä»¬å°±ä¼šå°†è¿™äº›æœåŠ¡æä¾›è€…çš„ä¿¡æ¯ä¿æŠ¤èµ·æ¥ï¼Œå°½é‡ä¸è®©ä»–ä»¬è¿‡æœŸã€‚ Ribbon(å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡)æ‘˜è‡ªæ’¸ä¸€æ’¸Spring Cloud Ribbonçš„åŸç† è¯´èµ·è´Ÿè½½å‡è¡¡ä¸€èˆ¬éƒ½ä¼šæƒ³åˆ°æœåŠ¡ç«¯çš„è´Ÿè½½å‡è¡¡ï¼Œå¸¸ç”¨äº§å“åŒ…æ‹¬LBSç¡¬ä»¶æˆ–äº‘æœåŠ¡ã€Nginxç­‰ï¼Œéƒ½æ˜¯è€³ç†Ÿèƒ½è¯¦çš„äº§å“ã€‚è€ŒSpring Cloudæä¾›äº†è®©æœåŠ¡è°ƒç”¨ç«¯å…·å¤‡è´Ÿè½½å‡è¡¡èƒ½åŠ›çš„Ribbonï¼Œé€šè¿‡å’ŒEurekaçš„ç´§å¯†ç»“åˆï¼Œä¸ç”¨åœ¨æœåŠ¡é›†ç¾¤å†…å†æ¶è®¾è´Ÿè½½å‡è¡¡æœåŠ¡ï¼Œå¾ˆå¤§ç¨‹åº¦ç®€åŒ–äº†æœåŠ¡é›†ç¾¤å†…çš„æ¶æ„ã€‚ Hystrix(æœåŠ¡å™¨å®¹é”™)é—®é¢˜æå‡ºåœ¨é«˜å¹¶å‘çš„æƒ…å†µä¸‹ï¼ŒæŸä¸ªæœåŠ¡å»¶è¿Ÿï¼Œå¯¼è‡´å…¶ä»–è¯·æ±‚å»¶è¿Ÿï¼Œæœ€ç»ˆå¼•å‘é›ªå´© æ–­è·¯å™¨å½“æŸä¸ªæœåŠ¡å•å…ƒæ•…éšœï¼Œå³50%çš„è¯·æ±‚å¤±è´¥çš„æ—¶å€™ï¼Œå°±ä¼šè§¦å‘ç†”æ–­ï¼Œç›´æ¥è¿”å›é”™è¯¯è°ƒç”¨ï¼Œç†”æ–­æœŸé—´çš„è¯·æ±‚éƒ½ä¼šç›´æ¥è¿”å›é”™è¯¯ï¼Œ5ç§’ä»¥åé‡æ–°æ£€æµ‹è¯¥æœåŠ¡æ˜¯å¦æ­£å¸¸ï¼Œåˆ¤æ–­ç†”æ–­æ˜¯å¦å…³é—­ çº¿ç¨‹éš”ç¦»ä¸ºäº†ä¿è¯æœåŠ¡ä¹‹é—´å°½é‡ä¸è¦ç›¸äº’å½±å“ï¼Œæ¯ä¸ªæœåŠ¡çš„çº¿ç¨‹æ± æ˜¯ç‹¬ç«‹çš„ Feign(å£°æ˜å¼æœåŠ¡è°ƒç”¨)æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨æ³¨è§£æ„é€ æ¥å£æ¥æŒ‡å®šæœåŠ¡ï¼Œéå¸¸ç®€å•ï¼Œä½ åªéœ€è¦å£°æ˜ä¸€ä¸‹å°±å¯ä»¥äº†å½“ç„¶ä»–æ•´åˆäº†Ribbonå’ŒHystrix Zuul(APIç½‘å…³æœåŠ¡)çœ‹å¾—ä¸æ˜¯å¤ªæ‡‚ æˆ‘ä»¬çš„å¾®æœåŠ¡å®ç°äº†Eurekaï¼Œä½†æ˜¯å…¥å£çš„ç¬¬ä¸€ä¸ªæœåŠ¡ç¼ºæ²¡æœ‰ï¼Œï¼ŒNginxå¿…é¡»æ‰‹åŠ¨ç»´æŠ¤IPï¼Œç„¶åNginxæ‰§è¡Œè´Ÿè½½å‡è¡¡ä»¥åï¼Œæˆ‘ä»¬è¿˜éœ€è¦å¯¹æ¯ä¸€ä¸ªè¯·æ±‚éªŒè¯ç­¾åã€ç™»é™†æ ¡éªŒå†—ä½™ï¼Œè¿™å°±å¯¼è‡´äº†é‡å¤çš„ä»£ç ã€‚ Zuulå‡ºç°äº†ï¼Œä»–æ•´åˆäº†Eurekaã€Hystrixã€Ribbonï¼Œé€šè¿‡Eurekaè§£å†³IPé—®é¢˜ï¼Œé€šè¿‡è°ƒç”¨å¾®æœåŠ¡è§£å†³ä»£ç é‡å¤çš„é—®é¢˜ Config(åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒ)åŠŸèƒ½å’ŒZookeeperæ¯”è¾ƒç›¸ä¼¼ å…¥é—¨ç»“æŸä¸‹æ¬¡å†æ·±å…¥å­¦ä¹ ï¼Œæˆ‘åº·åº·SpringMVCå» å‚è€ƒèµ„æ–™å¤–è¡Œäººéƒ½èƒ½çœ‹æ‡‚çš„SpringCloudï¼Œé”™è¿‡äº†è¡€äºï¼Spring Cloud Feignè®¾è®¡åŸç†SOAå’Œå¾®æœåŠ¡æ¶æ„çš„åŒºåˆ«ï¼Ÿåˆ†å¸ƒå¼ã€é›†ç¾¤ã€å¾®æœåŠ¡ã€SOA ä¹‹é—´çš„åŒºåˆ«å¾®æœåŠ¡Springcloudè¶…è¯¦ç»†æ•™ç¨‹+å®æˆ˜ï¼ˆä¸€ï¼‰","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"SpringCloud","slug":"Language/Java/SpringCloud","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/SpringCloud/"}],"tags":[]},{"title":"å†…ç½‘ç©¿é€","slug":"è®¡ç®—æœºç½‘ç»œ/å†…ç½‘ç©¿é€/index","date":"2020-04-24T06:08:07.000Z","updated":"2020-04-24T06:08:07.000Z","comments":true,"path":"Q9A3PJ.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q9A3PJ.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial é—®é¢˜æå‡ºæœ€è¿‘åœ¨æˆ‘çš„ä¸–ç•Œç¾¤é‡Œé¢çœ‹åˆ°ä»–ä»¬è°ˆè®ºæ¸¸æˆçš„æ—¶å€™ï¼Œè°ˆåˆ°äº†æœåŠ¡å™¨ä¸Šé¢ï¼Œä»–ä»¬ä¸€è°ˆæœåŠ¡å™¨å°±æ˜¯192.168.xxx.xxx, è¿™å°±è®©æˆ‘å¾ˆå›°æƒ‘ï¼Œè¿™ä¸æ˜¯å±€åŸŸç½‘IPå—ï¼Œä½ ä»¬æ˜¯æ€ä¹ˆç©åˆ°ä¸€èµ·å»çš„ï¼Ÿ å†…ç½‘ç©¿é€å°±æ˜¯ä¸€ç§æŠ€æœ¯ï¼Œä»–å¯ä»¥è®©ä¸åŒçš„å±€åŸŸç½‘ä¸­çš„æœºå™¨é€šè¿‡äº’è”ç½‘äº’è”","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial é—®é¢˜æå‡ºæœ€è¿‘åœ¨æˆ‘çš„ä¸–ç•Œç¾¤é‡Œé¢çœ‹åˆ°ä»–ä»¬è°ˆè®ºæ¸¸æˆçš„æ—¶å€™ï¼Œè°ˆåˆ°äº†æœåŠ¡å™¨ä¸Šé¢ï¼Œä»–ä»¬ä¸€è°ˆæœåŠ¡å™¨å°±æ˜¯192.168.xxx.xxx, è¿™å°±è®©æˆ‘å¾ˆå›°æƒ‘ï¼Œè¿™ä¸æ˜¯å±€åŸŸç½‘IPå—ï¼Œä½ ä»¬æ˜¯æ€ä¹ˆç©åˆ°ä¸€èµ·å»çš„ï¼Ÿ å†…ç½‘ç©¿é€å°±æ˜¯ä¸€ç§æŠ€æœ¯ï¼Œä»–å¯ä»¥è®©ä¸åŒçš„å±€åŸŸç½‘ä¸­çš„æœºå™¨é€šè¿‡äº’è”ç½‘äº’è” å‰ç½®çŸ¥è¯† IP:ç½‘ç»œä¸­çš„é€»è¾‘åœ°å€ åŸŸå: IPçš„åˆ«å DNSæœåŠ¡å™¨: å°†åŸŸåè½¬åŒ–ä¸ºIPçš„æœåŠ¡å™¨ DDNSæœåŠ¡å™¨: å°†åŸŸåè½¬åŒ–ä¸ºåŠ¨æ€IPçš„æœåŠ¡å™¨ NAT: é€šè¿‡ç«¯å£æ˜ å°„ï¼Œè®©å±€åŸŸç½‘ä¸­çš„å¤šå°æœºå™¨å…±äº«ä¸€ä¸ªIPçš„æŠ€æœ¯ æ­£å‘Proxy: ä½ ç¿»å¢™çš„æ—¶å€™ï¼Œæœ‰ä¸€ä¸ªæœåŠ¡å™¨æ‹¦æˆªä½ çš„è¯·æ±‚ï¼Œæ›¿ä½ å‘ç»™å…¶ä»–äºº åå‘Proxy: æœåŠ¡å™¨é›†ç¾¤è¢«è®¿é—®çš„æ—¶å€™ï¼Œè¯·æ±‚è¢«æ‹¦æˆªï¼Œç„¶åè¢«åˆ†å‘ å†…ç½‘ç©¿é€è¦è§£å†³çš„é—®é¢˜NATå°±å®ç°äº†å±€åŸŸç½‘ä¸­çš„æœºå™¨ä¸å¤–ç½‘ä¸­çš„æœºå™¨é€šä¿¡çš„é—®é¢˜ï¼Œä½†æ˜¯é€šä¿¡åªèƒ½ç”±å±€åŸŸç½‘å†…éƒ¨å‘èµ· è§£å†³ä»–æˆ‘ä»¬åœ¨ä¸¤ä¸ªNATä¹‹é—´æ„é€ ä¸€ä¸ªç´¢å¼•æœåŠ¡å™¨ï¼Œç”¨å¿ƒè·³æœºåˆ¶è®©å±€åŸŸç½‘å†…éƒ¨IPåœ¨ç´¢å¼•æœåŠ¡å™¨ä¸Šæ³¨å†Œç«¯å£æ˜ å°„ï¼Œä¾‹å¦‚è®©æœºå™¨1å‘ç´¢å¼•æœåŠ¡å™¨å‘é€å¿ƒè·³ï¼Œæ³¨å†Œè‡ªå·±åœ¨å±€åŸŸç½‘1çš„å…¬ç½‘IPçš„ç§æœ‰Portï¼Œæœºå™¨4ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œæ­¤åï¼Œä»–ä»¬å°±å¯ä»¥é€šè¿‡ç´¢å¼•æœåŠ¡å™¨æ­£å¸¸é€šä¿¡äº† ã€‚ 12345678graph TB; ç´¢å¼•æœåŠ¡å™¨((ç´¢å¼•æœåŠ¡å™¨)) --- NAT1((NAT1)) &amp; NAT2((NAT2)) subgraph å±€åŸŸç½‘1 NAT1((NAT1)) --- æœºå™¨1((æœºå™¨1)) &amp; æœºå™¨2((æœºå™¨2)) &amp; æœºå™¨3((æœºå™¨3)); end subgraph å±€åŸŸç½‘2 NAT2((NAT2)) --- æœºå™¨4((æœºå™¨4)) &amp; æœºå™¨5((æœºå™¨5)) &amp; æœºå™¨6((æœºå™¨6)); end å‚è€ƒå†…ç½‘ç©¿é€çš„å®ç°å’ŒåŸç†è§£æ å†…ç½‘ç©¿é€åŸç†è§£æå°çŸ¥è¯†","categories":[{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","permalink":"http://fightinggg.github.io/indigo/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"}],"tags":[]},{"title":"SpringMVC1-å¼€å¤´","slug":"Language/Java/SpringMVC/SpringMVC1-å¼€å¤´/index","date":"2020-04-23T06:06:32.000Z","updated":"2020-04-23T06:06:32.000Z","comments":true,"path":"Q988YW.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q988YW.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial SpringMVCå°‘å†™åšå®¢,å¤šæ€è€ƒï¼Œå¤šçœ‹å®˜æ–¹æ–‡æ¡£, é‚£æˆ‘å°±å†™ä¸€ç¯‡ç®—äº† æ›´æ–°: å†™ä¸€ç¯‡æ˜¯ä¸å¯èƒ½å†™ä¸€ç¯‡çš„ï¼Œè¿™è¾ˆå­éƒ½ä¸å¯èƒ½åªå†™ä¸€ç¯‡ # MVC model(dao,service) + view(jsp) + controller(servlet) ## å®ä½“ç±» æˆ‘ä»¬çš„å®ä½“ç±»å¯èƒ½æœ‰å¾ˆå¤šå­—æ®µï¼Œä½†æ˜¯å‰ç«¯ä¼ è¾“çš„æ—¶å€™å¯èƒ½åªä¼šä¼ è¾“ä¸€ä¸¤ä¸ªæ•°æ®è¿‡æ¥ï¼Œæˆ‘ä»¬å°±æ²¡æœ‰å¿…è¦å§å‰ç«¯ä¼ è¿‡æ¥çš„æ•°æ®å°è£…æˆä¸ºä¸€ä¸ªå®ä½“ç±»ï¼Œè¿™æ ·å¾ˆå¤šå­—æ®µéƒ½æ˜¯ç©ºçš„ï¼Œæµªè´¹èµ„æºï¼Œå®é™…ä¸Šæˆ‘ä»¬ä¼šå¯¹pojoè¿›è¡Œç»†åˆ†ï¼Œåˆ†ä¸ºvoã€dtoç­‰ï¼Œæ¥è¡¨ç¤ºå®ä½“ç±»çš„ä¸€éƒ¨åˆ†çš„å­—æ®µ # å›é¡¾jsp+servlet ## åˆ›å»ºé¡¹ç›® å§æ§½ï¼Œè¿˜èƒ½ç›´æ¥åˆ›å»ºä¸€ä¸ªç©ºçš„mavené¡¹ç›®ï¼Œç„¶ååœ¨å…¶ä¸­åˆ›å»ºå­é¡¹ç›®ï¼ŒæƒŠå‘†äº† maven-ç©ºéª¨æ¶-name å¯¼å…¥å…¬å…±ä¾èµ–","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial SpringMVCå°‘å†™åšå®¢,å¤šæ€è€ƒï¼Œå¤šçœ‹å®˜æ–¹æ–‡æ¡£, é‚£æˆ‘å°±å†™ä¸€ç¯‡ç®—äº† æ›´æ–°: å†™ä¸€ç¯‡æ˜¯ä¸å¯èƒ½å†™ä¸€ç¯‡çš„ï¼Œè¿™è¾ˆå­éƒ½ä¸å¯èƒ½åªå†™ä¸€ç¯‡ # MVC model(dao,service) + view(jsp) + controller(servlet) ## å®ä½“ç±» æˆ‘ä»¬çš„å®ä½“ç±»å¯èƒ½æœ‰å¾ˆå¤šå­—æ®µï¼Œä½†æ˜¯å‰ç«¯ä¼ è¾“çš„æ—¶å€™å¯èƒ½åªä¼šä¼ è¾“ä¸€ä¸¤ä¸ªæ•°æ®è¿‡æ¥ï¼Œæˆ‘ä»¬å°±æ²¡æœ‰å¿…è¦å§å‰ç«¯ä¼ è¿‡æ¥çš„æ•°æ®å°è£…æˆä¸ºä¸€ä¸ªå®ä½“ç±»ï¼Œè¿™æ ·å¾ˆå¤šå­—æ®µéƒ½æ˜¯ç©ºçš„ï¼Œæµªè´¹èµ„æºï¼Œå®é™…ä¸Šæˆ‘ä»¬ä¼šå¯¹pojoè¿›è¡Œç»†åˆ†ï¼Œåˆ†ä¸ºvoã€dtoç­‰ï¼Œæ¥è¡¨ç¤ºå®ä½“ç±»çš„ä¸€éƒ¨åˆ†çš„å­—æ®µ # å›é¡¾jsp+servlet ## åˆ›å»ºé¡¹ç›® å§æ§½ï¼Œè¿˜èƒ½ç›´æ¥åˆ›å»ºä¸€ä¸ªç©ºçš„mavené¡¹ç›®ï¼Œç„¶ååœ¨å…¶ä¸­åˆ›å»ºå­é¡¹ç›®ï¼ŒæƒŠå‘†äº† maven-ç©ºéª¨æ¶-name å¯¼å…¥å…¬å…±ä¾èµ– 12345678910111213141516171819202122232425262728&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.12&lt;/version&gt; &lt;scope&gt;test&lt;/scope&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt; &lt;version&gt;5.2.5.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;servlet-api&lt;/artifactId&gt; &lt;version&gt;2.5&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt; &lt;artifactId&gt;jsp-api&lt;/artifactId&gt; &lt;version&gt;2.2&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;javax.servlet&lt;/groupId&gt; &lt;artifactId&gt;jstl&lt;/artifactId&gt; &lt;version&gt;1.2&lt;/version&gt; &lt;/dependency&gt;&lt;/dependencies&gt; ç„¶åå³é”®ä½ çš„é¡¹ç›®-new-module nb nb nb æ–°å»ºä¸€ä¸ªå­é¡¹ç›®ä»¥åï¼Œå³é”®å­é¡¹ç›®ï¼Œæ·»åŠ æ¡†æ¶æ”¯æŒã€‚ nb nb nb ç„¶ååšæ™®é€šçš„servletå°±å¯ä»¥äº† åœ¨main.javaä¸­åˆ›å»ºhelloservletï¼Œ ç„¶åç»§æ‰¿httpservletå³å¯ ç„¶åé…ç½®servlet-name + servlet-class (æˆ‘ç°åœ¨çœ‹åˆ°è¿™ä¸ªå°±è§‰å¾—æ²¡æœ‰springbootçš„æ³¨è§£çˆ½) MVCæ¡†æ¶è¦å®Œæˆçš„äº‹æƒ…å°†URLæ˜ å°„åˆ°javaç±»æˆ–è€…javaæ–¹æ³•å°è£…ç”¨æˆ·æäº¤çš„æ•°æ®å¤„ç†è¯·æ±‚-è°ƒç”¨ç›¸å…³çš„ä¸šåŠ¡å¤„ç†-å°è£…å“åº”æ•°æ®å°†å“åº”çš„æ•°æ®è¿›è¡Œæ¸²æŸ“ SpringMVCå¤šçœ‹å®˜ç½‘å®˜ç½‘ SpringMVCçš„ä¼˜ç‚¹è½»é‡ã€ç®€å•ã€é«˜æ•ˆã€å…¼å®¹Springã€çº¦å®šä¼˜äºé…ç½®ã€åŠŸèƒ½å¼ºå¤§ è«åå…¶å¦™çš„å¼€å§‹ é…ç½®web.xmlåœ¨å…¶ä¸­æ³¨å†ŒDispatcherServlet å†™springmvc-servlet.xml æ·»åŠ å‰åç¼€æ˜ å°„ å†™controllerï¼Œç„¶åå°±ç»“æŸäº†404ï¼Ÿ æ³¨æ„ç¼ºå°‘ä¾èµ–ï¼Œ ä½ çš„é¡¹ç›®æœ‰ï¼Œä½†æ˜¯ç¼–è¯‘åˆ°tomcatä¸­å°±æ²¡æœ‰äº†ï¼Œå»çœ‹çœ‹targeté‡Œé¢çš„ä¸œè¥¿ã€‚è§†é¢‘ è§£é‡Š ç”¨æˆ·è¯·æ±‚å‘åˆ°DispatcherServlet DispatcherServletè°ƒç”¨HandlerMappingæŸ¥æ‰¾urlå¯¹åº”çš„Handler DispatcherServletè°ƒç”¨æ‰§è¡ŒHandlerï¼Œå¾—åˆ°modelå’Œview DispatcherServlrté…ç½®è§†å›¾è§£æå™¨ï¼Œè¿”å›è§†å›¾ å†å†™ä¸€éç¡®å®šmavenä¸­æœ‰ä¾èµ–ï¼Œç¡®å®šprojectstructrueä¸­çš„artifactsä¹Ÿæœ‰ä¾èµ–å†™web.xml , æ³¨æ„&#x2F; åŒ¹é…çš„ä¸åŒ…å«jspï¼Œ&#x2F;*æ˜¯å…¨éƒ¨ 1234567891011121314151617&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt; &lt;!-- å¤„ç†å™¨ã€é€‚é…å™¨ã€è§£æå™¨--&gt; &lt;bean class=&quot;org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping&quot;/&gt; &lt;bean class=&quot;org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter&quot;/&gt; &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt; &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot;/&gt; &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;/&gt; &lt;/bean&gt; &lt;bean id=&quot;/hello&quot; class=&quot;com.wsx.controller.HelloController&quot;/&gt;&lt;/beans&gt; 123456789101112131415161718192021222324&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot; version=&quot;4.0&quot;&gt; &lt;servlet&gt; &lt;servlet-name&gt;springmvc&lt;/servlet-name&gt; &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt; &lt;init-param&gt; &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt; &lt;param-value&gt;classpath:springmvc-servlet.xml&lt;/param-value&gt; &lt;/init-param&gt; &lt;load-on-startup&gt;1&lt;/load-on-startup&gt; &lt;/servlet&gt; &lt;servlet-mapping&gt; &lt;servlet-name&gt;springmvc&lt;/servlet-name&gt; &lt;url-pattern&gt;/&lt;/url-pattern&gt; &lt;/servlet-mapping&gt;&lt;/web-app&gt; å‘çœŸå¤šï¼Œæˆ‘è¿˜ç¢°åˆ°å¦å¤–ä¸€ä¸ªå‘äº†ï¼Œtomcat10ä¹Ÿå¤ªç§€äº†ï¼Œå±…ç„¶æ˜¯ä»–çš„åŸå› ï¼Œæ¢æˆtomcat9å°±ä¸ä¼š404ï¼Œæˆ‘æœäº† è¿˜æœ‰ç¬¬äºŒä¸ªå‘ï¼Œæˆ‘ç»æœ›äº†ï¼Œé¡¹ç›®åå­—ä¸èƒ½å«åšSpringMVCï¼Œä½ è¦æ˜¯å–è¿™ä¸ªåå­—ï¼Œä½ çš„srcç›®å½•å°±æ˜¯æ²¡æœ‰é¢œè‰²çš„ï¼Œå‘çš„ä¸€æ‰¹ï¼Œåé¢ä½ åˆ›å»ºå¤šä¸ªmoudleçš„æ—¶å€™ï¼Œä»–å°±ç»™ä½ ç›®å½•å…¨æç°è‰²ï¼Œè¿™ä¸ªé—®é¢˜åªéœ€è¦ä¸æŠŠåå­—è®¾ä¸ºSpringMVCå°±å¯ä»¥äº†ã€‚ æ³¨è§£é…ç½®Controllerè¿™é‡Œçš„19è¡Œæ˜¯springä¸­çš„æ³¨è§£æ‰«æï¼Œ21è¡Œæ˜¯ä¸å»å¤„ç†é™æ€èµ„æºï¼Œ23è¡Œæ˜¯é…ç½®å¤„ç†å™¨çš„é€‚é…å™¨ 12345678910111213141516171819202122232425262728293031&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.0.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.0.xsd&quot;&gt; &lt;context:component-scan base-package=&quot;com.wsx.controller&quot;/&gt; &lt;!-- ä¸å¤„ç†é™æ€èµ„æº--&gt; &lt;mvc:default-servlet-handler/&gt; &lt;!-- é…ç½®å¤„ç†å™¨å’Œé€‚é…å™¨--&gt; &lt;mvc:annotation-driven/&gt; &lt;!-- è§£æå™¨--&gt; &lt;bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt; &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsp/&quot;/&gt; &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;/&gt; &lt;/bean&gt;&lt;/beans&gt; ç¬¬7è¡Œæ˜¯é…ç½®controllerï¼Œç¬¬9è¡Œæ˜¯æ˜ å°„urlï¼Œ è¢«controlleræ³¨è§£é…ç½®çš„ç±»ï¼Œä¼šè¢«æ³¨å…¥åˆ°IOCå®¹å™¨ï¼Œå®ƒé‡Œé¢çš„æ–¹æ³•å¦‚æœæœ‰è¿”å›å€¼æ˜¯Stringï¼Œå¹¶ä¸”æœ‰å…·ä½“é¡µé¢å¯ä»¥è·³è½¬ï¼Œå°±ä¼šè¢«è§†å›¾è§£æå™¨è§£æ è¿˜å¯ä»¥ç›´æ¥åœ¨ç±»ä¸Šé¢æ³¨è§£RequestMappingï¼Œå¯ä»¥æŒ‡å®šä¸€ä¸ªurlï¼Œå’Œä¸‹é¢çš„urlæ‹¼æ¥ 1234567891011121314151617package com.wsx.controller;import org.springframework.stereotype.Controller;import org.springframework.ui.Model;import org.springframework.web.bind.annotation.RequestMapping;@Controllerpublic class HelloController &#123; @RequestMapping(&quot;/hello&quot;) public String hello(Model model) &#123; // å°è£…æ•°æ® model.addAttribute(&quot;msg&quot;, &quot;hello,Spring&quot;); // è¿”å›è§†å›¾ return &quot;hello&quot;; &#125;&#125; RestFulé£æ ¼å°±æ˜¯ä¸å†ä½¿ç”¨http://xxxx/?id=1&amp;name=2 è¿™ç§urlRestFulå°±æ˜¯ç›´æ¥ä½¿ç”¨http://xxxx/1/2 123456@GetMapping(&quot;/add/&#123;a&#125;/&#123;b&#125;&quot;)public String test2(@PathVariable int a,@PathVariable String b,Model model)&#123; String res = a + b; model.addAttribute(&quot;msg&quot;,&quot;ç»“æœä¸º&quot;+res); return &quot;test&quot;;&#125;","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"SpringMVC","slug":"Language/Java/SpringMVC","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/SpringMVC/"}],"tags":[]},{"title":"SpringBoot4-Web5-çƒ‚å°¾","slug":"Language/Java/SpringBoot/SpringBoot4-Web5-çƒ‚å°¾/index","date":"2020-04-22T15:18:20.000Z","updated":"2020-04-22T15:18:20.000Z","comments":true,"path":"Q973UK.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q973UK.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial éœ€æ±‚å‘˜å·¥åˆ—è¡¨|æ™®é€šCRUD|restfulCRUD-|-|-æŸ¥è¯¢|getEmp|empâ€¦GETæ·»åŠ |addEmp?|empâ€¦POSTä¿®æ”¹|updateEmp?|emp&#x2F;{id}â€¦PUTåˆ é™¤|deleteEmp?|emp&#x2F;{id}â€¦DELETE","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial éœ€æ±‚å‘˜å·¥åˆ—è¡¨|æ™®é€šCRUD|restfulCRUD-|-|-æŸ¥è¯¢|getEmp|empâ€¦GETæ·»åŠ |addEmp?|empâ€¦POSTä¿®æ”¹|updateEmp?|emp&#x2F;{id}â€¦PUTåˆ é™¤|deleteEmp?|emp&#x2F;{id}â€¦DELETE æ¶æ„|è¯·æ±‚URL|è¯·æ±‚æ–¹å¼-|-|-æŸ¥è¯¢æ‰€æœ‰å‘˜å·¥|emps|GETæŸ¥è¯¢å•ä¸ªå‘˜å·¥|emp&#x2F;{id}|GETæ¥åˆ°æ·»åŠ é¡µé¢|emp|GETæ·»åŠ å‘˜å·¥|emp|POSTæ¥åˆ°ä¿®æ”¹é¡µé¢|emp&#x2F;{id}|GETä¿®æ”¹å‘˜å·¥|emp|PUTåˆ é™¤å‘˜å·¥|emp&#x2F;{id}|DELETE ä¿®æ”¹|updateEmp?|emp&#x2F;{id}â€¦PUTåˆ é™¤|deleteEmp?|emp&#x2F;{id}â€¦DELETE 1234567&lt;footer th:fragment=&quot;copy&quot;&gt;hello&lt;/footer&gt;&lt;div th:insert=&quot;footer :: copy&quot;&gt;&lt;/div&gt;&lt;div th:replace=&quot;footer :: copy&quot;&gt;&lt;/div&gt;&lt;div th:include=&quot;footer :: copy&quot;&gt;&lt;/div&gt; insert æ˜¯å°†æ•´ä¸ªå…ƒç´ æ’å…¥åˆ°å¼•ç”¨ä¸­replace æ˜¯æ›¿æ¢include æ˜¯åŒ…å«è¿›å» 1&lt;div th:fragment=&quot;topbar&quot;&gt; è¿™é‡Œæµ‹è¯• include replace å’Œinsert&lt;/div&gt; 123&lt;div id=&quot;include&quot; th:include=&quot;~&#123;templates_hello::topbar&#125;&quot;&gt;hi&lt;/div&gt;&lt;div id=&quot;replace&quot; th:replace=&quot;templates_hello::topbar&quot;&gt;hi&lt;/div&gt;&lt;div id=&quot;insert&quot; th:insert=&quot;templates_hello::topbar&quot;&gt;hai&lt;/div&gt; 123&lt;div id=&quot;include&quot;&gt; è¿™é‡Œæµ‹è¯• include replace å’Œinsert&lt;/div&gt;&lt;div&gt; è¿™é‡Œæµ‹è¯• include replace å’Œinsert&lt;/div&gt;&lt;div id=&quot;insert&quot;&gt;&lt;div&gt; è¿™é‡Œæµ‹è¯• include replace å’Œinsert&lt;/div&gt;&lt;/div&gt; æŒºå‰ç«¯çš„ é”™è¯¯å“åº”å¦‚ä½•å®šåˆ¶é”™è¯¯é¡µé¢ï¼Ÿè¿™ä¸ªæ˜¯ErrorMvcAutoConfiguration 1234567891011121314151617181920212223242526@Bean@ConditionalOnMissingBean(value = ErrorAttributes.class, search = SearchStrategy.CURRENT)public DefaultErrorAttributes errorAttributes() &#123; return new DefaultErrorAttributes(this.serverProperties.getError().isIncludeException());&#125;@Bean@ConditionalOnMissingBean(value = ErrorController.class, search = SearchStrategy.CURRENT)public BasicErrorController basicErrorController(ErrorAttributes errorAttributes, ObjectProvider&lt;ErrorViewResolver&gt; errorViewResolvers) &#123; return new BasicErrorController(errorAttributes, this.serverProperties.getError(), errorViewResolvers.orderedStream().collect(Collectors.toList()));&#125;@Beanpublic ErrorPageCustomizer errorPageCustomizer(DispatcherServletPath dispatcherServletPath) &#123; return new ErrorPageCustomizer(this.serverProperties, dispatcherServletPath);&#125; @Bean @ConditionalOnBean(DispatcherServlet.class) @ConditionalOnMissingBean(ErrorViewResolver.class) DefaultErrorViewResolver conventionErrorViewResolver() &#123; return new DefaultErrorViewResolver(this.applicationContext, this.resourceProperties); &#125; ç³»ç»Ÿå‡ºç°é”™è¯¯ä»¥åå»&#x2F;errorå¤„ç†è¯·æ±‚ è¿™è€å¸ˆæ˜¯æºç æ€æ‰‹ï¼Œæˆ‘è¦ç‚¸äº†ï¼Œæˆ‘ç°åœ¨å¼€å§‹æ€•æºç äº†è¿™é‡Œåˆ†ä¸¤ç±»ï¼Œä¸€ä¸ªè¿”å›htmlï¼Œå¦ä¸€ä¸ªè¿”å›jsonï¼ŒåŒºåˆ†æµè§ˆå™¨,æµè§ˆå™¨ä¼˜å…ˆæ¥å—htmlï¼Œä½†æ˜¯å®¢æˆ·ç«¯ä¼˜å…ˆæ¥å—&#x2F;*ï¼Œ æ²¡æœ‰è¦æ±‚ï¼Œæ‰€ä»¥å¯¹æµè§ˆå™¨è¿”å›ï¼Œhtml,å¯¹å®¢æˆ·ç«¯è¿”å›json 1234567891011121314151617181920@RequestMapping(produces = MediaType.TEXT_HTML_VALUE)public ModelAndView errorHtml(HttpServletRequest request, HttpServletResponse response) &#123; HttpStatus status = getStatus(request); Map&lt;String, Object&gt; model = Collections .unmodifiableMap(getErrorAttributes(request, isIncludeStackTrace(request, MediaType.TEXT_HTML))); response.setStatus(status.value()); ModelAndView modelAndView = resolveErrorView(request, response, status, model); return (modelAndView != null) ? modelAndView : new ModelAndView(&quot;error&quot;, model);&#125;@RequestMappingpublic ResponseEntity&lt;Map&lt;String, Object&gt;&gt; error(HttpServletRequest request) &#123; HttpStatus status = getStatus(request); if (status == HttpStatus.NO_CONTENT) &#123; return new ResponseEntity&lt;&gt;(status); &#125; Map&lt;String, Object&gt; body = getErrorAttributes(request, isIncludeStackTrace(request, MediaType.ALL)); return new ResponseEntity&lt;&gt;(body, status);&#125; æ‰€ä»¥åˆ°åº•å¦‚ä½•å®šåˆ¶ï¼Ÿæœ‰æ¨¡ç‰ˆå¼•æ“çš„è¯ï¼Œå°±åœ¨errorä¸‹å†™ä¸€ä¸ª404.htmlå°±å¯ä»¥äº†ï¼Œä½ ç”šè‡³å¯ä»¥ç”¨4xx.htmlæ¥æ‰¹è¯„æ‰€æœ‰çš„4å¼€å¤´çš„é”™è¯¯ 1&lt;h1&gt;status:[[$&#123;status&#125;]]&lt;/h1&gt; æ²¡æœ‰æ¨¡ç‰ˆå¼•æ“å°±åœ¨é™æ€èµ„æºæ–‡ä»¶å¤¹æ‰¾ åµŒå…¥å¼servletå®¹å™¨é»˜è®¤æ˜¯tomcat å¦‚ä½•å®šåˆ¶ä¿®æ”¹servletå®¹å™¨ æ–¹æ³•1ä½¿ç”¨server.port &#x3D; 8081server.tomcat.xxx12@ConfigurationProperties(prefix = &quot;server&quot;, ignoreUnknownFields = true)public class ServerProperties &#123; æ–¹æ³•2ä½¿ç”¨Bean,springbootä¸­æœ‰å¾ˆå¤šxxxConfiguieræ¥æ‹“å±•é…ç½®æœ‰å¾ˆå¤šxxxCustomizeræ¥å®šåˆ¶é…ç½®12345678910@Beanpublic WebServerFactoryCustomizer&lt;ConfigurableWebServerFactory&gt; webServerFactoryWebServerFactoryCustomizer()&#123; return new WebServerFactoryCustomizer&lt;ConfigurableWebServerFactory&gt;()&#123; @Override public void customize(ConfigurableWebServerFactory factory) &#123; factory.setPort(8083); &#125; &#125;;&#125; æ³¨å†ŒServletã€Filterã€Listenerä½¿ç”¨ServletReristrationBeanã€FilterRegistrationBeanã€Listenerâ€¦æŠŠä»–ä»¬Beanåˆ°å®¹å™¨ä¸­å°±å¯ä»¥äº† åˆ‡æ¢Servletå®¹å™¨Jetty é€‚ç”¨é•¿é“¾æ¥Undertow é€‚ç”¨äºé«˜å¹¶å‘ä¸å¸¦jsp æ’é™¤tomcatä¾èµ– å¼•å…¥å…¶ä»–ä¾èµ– åµŒå…¥å¼çš„tomcatå¦‚ä½•å®ç°æºç è­¦å‘Š 123456789101112131415161718@Configuration(proxyBeanMethods = false)@ConditionalOnWebApplication@EnableConfigurationProperties(ServerProperties.class)public class EmbeddedWebServerFactoryCustomizerAutoConfiguration &#123; /** * Nested configuration if Tomcat is being used. */ @Configuration(proxyBeanMethods = false) @ConditionalOnClass(&#123; Tomcat.class, UpgradeProtocol.class &#125;) public static class TomcatWebServerFactoryCustomizerConfiguration &#123; @Bean public TomcatWebServerFactoryCustomizer tomcatWebServerFactoryCustomizer(Environment environment, ServerProperties serverProperties) &#123; return new TomcatWebServerFactoryCustomizer(environment, serverProperties); &#125; &#125; æºç å˜äº†ã€‚ã€‚ã€‚ ä»¥å‰æ˜¯æ”¾ä¸€ä¸ªåµŒå…¥å¼çš„å®¹å™¨å·¥å‚ï¼Œç„¶åé…ç½®tomcatï¼Œæœ€åä¼ ç»™TomcatEmbeddedServletContainerï¼Œå¹¶ä¸”å¯åŠ¨tomcatå®¹å™¨ é…ç½®ä¿®æ”¹æ˜¯å¦‚ä½•ç”Ÿæ•ˆçš„é…ç½®æ–‡ä»¶+å®šåˆ¶å™¨ï¼Œ ä»–ä»¬æœ¬è´¨ä¸Šéƒ½æ˜¯å®šåˆ¶å™¨æœ‰ä¸€ä¸ªBeanPostProcessorRegistrarï¼Œ å¯¼å…¥äº†EmbeddedServletContainerCustomizerBeanPostProcessor SpringBootæ ¹æ®å¯¼å…¥çš„ä¾èµ–æƒ…å†µï¼Œç»™å®¹å™¨æ·»åŠ ç›¸åº”çš„å®¹å™¨å·¥å‚ï¼Œ å®¹å™¨ä¸­æŸä¸ªç»„ä»¶è¦åˆ›å»ºå¯¹è±¡å°±ä¼šæƒŠåŠ¨åç½®å¤„ç†å™¨ï¼Œ åªè¦æ˜¯åµŒå…¥å¼çš„servletå®¹å™¨å·¥å‚ï¼Œåç½®å¤„ç†å™¨å°±ä¼šå·¥ä½œ, åç½®å¤„ç†å™¨ä¼šä»å®¹å™¨ä¸­è·å–æ‰€æœ‰çš„å®šåˆ¶å™¨ï¼Œè°ƒç”¨å®šåˆ¶å™¨çš„æ–¹æ³•ã€‚ åµŒå…¥å¼servletä»€ä¹ˆæ—¶å€™åˆ›å»ºspringbootå¯åŠ¨ï¼Œ è¿è¡Œrunï¼Œ åˆ›å»ºIOCå®¹å™¨ï¼Œ å¹¶åˆå§‹åŒ–ï¼Œ åˆ›å»ºå®¹å™¨ä¸­çš„æ¯ä¸ªbeanï¼Œ å¦‚æœæ˜¯webåº”ç”¨å°±åˆ›å»ºwebå®¹å™¨ï¼Œå¦åˆ™åˆ›å»ºAnnotationConfigApplicationContext, åœ¨webçš„IOCå®¹å™¨ä¸­ï¼Œ é‡å†™äº†onRefreshï¼Œ åœ¨è¿™é‡Œåˆ›å»ºäº†åµŒå…¥å¼çš„Servletï¼Œ è·å–å®¹å™¨å·¥å‚ï¼Œ tomcatembeddedservletcontainerfactoryåˆ›å»ºå¯¹è±¡ä»¥åï¼Œåç½®å¤„ç†å™¨å°±å¼€å§‹é…ç½®ï¼Œç„¶åè·å¾—æ–°çš„servletå®¹å™¨ï¼Œæœ€åå¯åŠ¨ ä¼˜ç‚¹ç®€å•ä¾¿æº ç¼ºç‚¹ä¸æ”¯æŒjsp","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"SpringBoot","slug":"Language/Java/SpringBoot","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/SpringBoot/"}],"tags":[]},{"title":"æ“ä½œç³»ç»ŸIO","slug":"æ“ä½œç³»ç»Ÿ/OS/æ“ä½œç³»ç»ŸIO/index","date":"2020-04-22T11:10:32.000Z","updated":"2020-04-22T11:10:32.000Z","comments":true,"path":"Q96SDK.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q96SDK.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Linuxçš„inodeçš„ç†è§£æ¯å¤©è¿›æ­¥ä¸€ç‚¹ç‚¹â€”â€”Linuxä¸­çš„æ–‡ä»¶æè¿°ç¬¦ä¸æ‰“å¼€æ–‡ä»¶ä¹‹é—´çš„å…³ç³»Linuxä¸‹æ–‡ä»¶æè¿°ç¬¦èŠèŠLinux äº”ç§IOæ¨¡å‹selectã€pollã€epollä¹‹é—´çš„åŒºåˆ«æ€»ç»“selectï¼Œpollï¼Œepollå®ç°åˆ†æâ€”ç»“åˆå†…æ ¸æºä»£ç selectã€pollã€epollä¹‹é—´çš„åŒºåˆ«(æœç‹—é¢è¯•)é¢è¯•é¢˜ â€”â€” select poll epollJavaä¸­çš„NIONIOä»£ç ","categories":[{"name":"æ“ä½œç³»ç»Ÿ","slug":"æ“ä½œç³»ç»Ÿ","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"},{"name":"OS","slug":"æ“ä½œç³»ç»Ÿ/OS","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/OS/"}],"tags":[]},{"title":"åˆ†å¸ƒå¼ç³»ç»Ÿ","slug":"å¤§æ•°æ®/åˆ†å¸ƒå¼ç³»ç»Ÿ/index","date":"2020-04-21T12:48:13.000Z","updated":"2020-04-21T12:48:13.000Z","comments":true,"path":"Q9528D.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q9528D.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial é›†ç¾¤çš„åˆ°æ¥ä½ ä¸ºä»€ä¹ˆè¦ä½¿ç”¨é›†ç¾¤? å¦‚æœä¸€ä¸ªé—®é¢˜å¯ä»¥åœ¨å•æœºä¸Šè§£å†³ï¼Œé‚£å°±ä½¿ç”¨å•æœºçš„æ–¹æ³•ï¼Œåœ¨ä½¿ç”¨åˆ†å¸ƒå¼è§£å†³é—®é¢˜å‰ï¼Œè¦å……åˆ†å°è¯•åˆ«çš„æ€è·¯ï¼Œå› ä¸ºåˆ†å¸ƒå¼ç³»ç»Ÿä¼šè®©é—®é¢˜è§£å†³å˜å¾—å¤æ‚ å¹¶è¡Œã€å®¹é”™ã€é€šä¿¡ã€å®‰å…¨&#x2F;å­¤ç«‹","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial é›†ç¾¤çš„åˆ°æ¥ä½ ä¸ºä»€ä¹ˆè¦ä½¿ç”¨é›†ç¾¤? å¦‚æœä¸€ä¸ªé—®é¢˜å¯ä»¥åœ¨å•æœºä¸Šè§£å†³ï¼Œé‚£å°±ä½¿ç”¨å•æœºçš„æ–¹æ³•ï¼Œåœ¨ä½¿ç”¨åˆ†å¸ƒå¼è§£å†³é—®é¢˜å‰ï¼Œè¦å……åˆ†å°è¯•åˆ«çš„æ€è·¯ï¼Œå› ä¸ºåˆ†å¸ƒå¼ç³»ç»Ÿä¼šè®©é—®é¢˜è§£å†³å˜å¾—å¤æ‚ å¹¶è¡Œã€å®¹é”™ã€é€šä¿¡ã€å®‰å…¨&#x2F;å­¤ç«‹ éš¾ä»¥è§£å†³çš„å±€éƒ¨é”™è¯¯ äººä»¬è®¾è®¡åˆ†å¸ƒå¼ç³»ç»Ÿçš„æ ¹æœ¬åŸå› æ˜¯ä¸ºäº†è·å¾—æ›´é«˜çš„æ€§èƒ½ï¼Œä½ çš„é›†ç¾¤åˆ°åº•å‘æŒ¥äº†å¤šå¤§çš„èƒ½åŠ›ï¼Ÿ1000å°å‘æŒ¥äº†1000å€çš„èƒ½åŠ›å—ï¼Ÿ å¦‚æœä¸€ä¸ªç³»ç»Ÿï¼Œåªéœ€è¦æé«˜å‡ å€çš„æœºå™¨çš„æ•°é‡ï¼Œå°±å¯ä»¥æé«˜å‡ å€çš„æ€§èƒ½æˆ–è€…ååé‡ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªå·¨å¤§çš„èƒœåˆ©ï¼Œå› ä¸ºä¸éœ€è¦èŠ±é«˜ä»·é›‡ç¨‹åºå‘˜ å¹¶è¡Œæ¯”æ–¹æœ‰ä¸€ä¸ªwebæœåŠ¡å™¨ï¼Œä¸€å¤œä¹‹é—´ç«äº†ï¼Œä¸Šäº¿çš„äººæ¥è®¿é—®ï¼Œå°±éœ€è¦æ›´å¤šçš„webæœåŠ¡å™¨ï¼Œå¯æ˜¯å½“ä½ çš„webæœåŠ¡å™¨çš„æ•°é‡å¢å¤§ä»¥åï¼Œæ•°æ®åº“åˆæˆä¸ºäº†ç“¶é¢ˆï¼Œé™åˆ¶äº†æ€§èƒ½ï¼Œä½ å¯ä»¥å°è¯•æ›´å¤šçš„æ•°æ®åº“ï¼Œä½†æ˜¯è¿™åˆä¼šé—®åˆ°å…¶ä»–é—®é¢˜ã€‚ å®¹é”™å‡è®¾æ¯å°è®¡ç®—æœºä¸€å¹´åªåä¸€æ¬¡ï¼Œé‚£ä¹ˆ1000å°è®¡ç®—æœºçš„é›†ç¾¤ï¼Œæ¯å¤©å3å°ï¼Œè®¡ç®—æœºå´©æºƒæˆä¸ºäº†å¸¸è§çš„é”™è¯¯ï¼Œå„ç§é—®é¢˜ï¼Œç½‘ç»œï¼Œäº¤æ¢æœºï¼Œè®¡ç®—æœºè¿‡çƒ­ï¼Œé”™è¯¯æ€»ä¼šå‘ç”Ÿï¼Œ å¯ç”¨æ€§æŸä¸ªç³»ç»Ÿç»è¿‡ç²¾å¿ƒè®¾è®¡ï¼Œåœ¨æŸäº›é”™è¯¯ä¸‹ï¼Œç³»ç»Ÿå¯ä»¥æ­£å¸¸è¿è¡Œï¼Œæä¾›å®Œæ•´çš„æœåŠ¡ï¼Œå°±æƒ³æ²¡æœ‰å‘ç”Ÿé”™è¯¯ä¸€æ ·ï¼Œæ¯”å¦‚å¤šä¸ªå¤‡ä»½ï¼Œå³ä½¿ä¸€ä¸ªå¤‡ä»½å‡ºé”™ï¼Œä½†æ˜¯å¦ä¸€ä¸ªå¤‡ä»½æ˜¯æ­£å¸¸çš„ æˆ‘ä»¬çš„å¯ç”¨æ€§æ˜¯åœ¨ä¸€å®šçš„æ¡ä»¶ä¸‹çš„ï¼Œå¹¶éæ‰€æœ‰çš„é”™è¯¯éƒ½ä¸æ€• ä¿®å¤ç³»ç»Ÿåœ¨ä¿®å¤å‰æ— æ³•ç»§ç»­å·¥ä½œï¼Œå½“æ¢å¤åä¼šæ­£å¸¸å·¥ä½œï¼Œè¿™ä¸€ç‚¹éå¸¸é‡è¦ï¼Œè¿™å°±æ˜¯æœ€é‡è¦çš„æŒ‡æ ‡, éæ˜“å¤±æ€§å‚¨å­˜ä»–ä»¬æ›´æ–°èµ·æ¥æ˜‚è´µï¼Œæ„å»ºé«˜æ€§èƒ½å®¹é”™ç³»ç»Ÿéå¸¸ç¹çï¼Œèªæ˜çš„åŠæ³•æ˜¯é¿å…å†™å…¥éæ˜“å¤±æ€§å‚¨å­˜ ä½¿ç”¨å¤åˆ¶ç®¡ç†å¤åˆ¶æ¥å®ç°å®¹é”™ï¼Œè¿™ä¹Ÿå¾ˆå¤æ‚ï¼Œä½ éœ€è¦ä¿è¯ä¸€è‡´æ€§ï¼Œ å¼ºä¸€è‡´æ€§getå¾—åˆ°çš„å€¼ä¸€å®šæ˜¯æœ€æ–°çš„putçš„å€¼ å¼±ä¸€è‡´æ€§æŸäººputï¼Œä½ å¯èƒ½çœ‹åˆ°çš„æ˜¯æ—§å€¼ï¼Œä½†ä¸€æ®µæ—¶é—´ä»¥åä»–ä¼šå˜æˆæ–°å€¼ï¼Œæˆ‘ä»¬ä¸ä¿è¯æ—¶é—´ã€‚æˆ‘ä»¬è¦é¿å…é€šä¿¡ï¼Œæ‰€ä»¥æˆ‘ä»¬æ›´åŠ å€¾å‘äºå¼±ä¸€è‡´æ€§ï¼Œå¼ºä¸€è‡´æ€§å¤ªéº»çƒ¦äº†ï¼Œä»£ä»·å¤ªé«˜ æŠŠæ‰€æœ‰å¤‡ä»½æ”¾åˆ°ä¸€ä¸ªæœºæˆ¿ï¼Œæ”¾åˆ°ä¸€ä¸ªæœºæ¶ä¸Šï¼Œè¿™éå¸¸ç³Ÿç³•ï¼Œè¦æ˜¯æœ‰äººä¸å°å¿ƒç»Šå€’äº†ç”µæºçº¿ï¼Œå°±ç³Ÿç³•äº†,ä½äº†è®©å‰¯æœ¬æ›´å¥½çš„å®¹é”™ï¼Œäººä»¬å¸Œæœ›å°†ä¸åŒçš„å‰¯æœ¬å°½å¯èƒ½çš„åˆ†å¼€è¿œæ”¾ï¼Œä¾‹å¦‚æ”¾åœ¨ä¸åŒçš„åŸå¸‚ï¼Œ å‰¯æœ¬åœ¨å‡ åƒè‹±é‡Œä»¥å¤–ï¼Œæƒ³æŠ±ç€å¼ºä¸€è‡´æ€§ç‰¹åˆ«å›°éš¾ï¼Œä½ è¦å»ç­‰å¾…å¤šä¸ªæœåŠ¡å™¨æ¥ç»™ä½ åé¦ˆï¼Œç­‰ä¸ª20-30æ¯«ç§’ï¼Œè¿™éš¾å¿å—ï¼Œå¹¶æµªè´¹äº†èµ„æºã€‚ MapReduceè¦åœ¨TBæ•°é‡çš„æ•°æ®ä¸­åˆ†æï¼Œéœ€è¦å¤§é‡çš„å¹¶è¡Œè®¡ç®—ï¼Œæˆ‘ä»¬ä¼šæŠŠè¾“å…¥åˆ†æˆå¤šä»½ï¼Œå¯¹æ¯ä¸€ä»½è¿›è¡Œmapï¼Œä»–ä¼šç”Ÿæˆä¸€å †keyvalueï¼Œç„¶åæ˜¯æ•°æ®ç§»åŠ¨ï¼ŒæŒ‰ç…§keyåˆå¹¶ï¼Œå¹¶äº¤ç»™reduceå¤„ç†ï¼Œä¸åŒçš„reduceè¾“å‡ºä¸åŒçš„ç»“æœ MapReduceæœ€å¤§çš„ç“¶é¢ˆæ˜¯ç½‘ç»œï¼Œæˆ‘ä»¬è¦å°½é‡é¿å…æ•°æ®çš„ä¼ è¾“ï¼Œ shufflemapä¹‹åçš„æ•°æ®ï¼Œä¼ ç»™reduceï¼Œå¾€å¾€æ„å‘³ç€ç”±è¡Œå‚¨å­˜å˜ä¸ºåˆ—å‚¨å­˜ï¼Œ é“¾æ¥åˆ†å¸ƒå¼ç³»ç»Ÿ","categories":[{"name":"å¤§æ•°æ®","slug":"å¤§æ•°æ®","permalink":"http://fightinggg.github.io/indigo/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/"}],"tags":[]},{"title":"SpringBoot4-Web4-å›½é™…åŒ–","slug":"Language/Java/SpringBoot/SpringBoot4-Web4-å›½é™…åŒ–/index","date":"2020-04-21T04:18:20.000Z","updated":"2020-04-21T04:18:20.000Z","comments":true,"path":"Q94EMK.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q94EMK.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å›½é™…åŒ– ç¼–è¾‘å›½é™…åŒ–é…ç½®æ–‡ä»¶ ä½¿ç”¨ResourceBundleMessageSourceç®¡ç†å›½é™…åŒ–èµ„æºæ–‡ä»¶ åœ¨é¡µé¢ä½¿ç”¨fmt:messageå–å‡ºå›½é™…åŒ–å†…å®¹","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å›½é™…åŒ– ç¼–è¾‘å›½é™…åŒ–é…ç½®æ–‡ä»¶ ä½¿ç”¨ResourceBundleMessageSourceç®¡ç†å›½é™…åŒ–èµ„æºæ–‡ä»¶ åœ¨é¡µé¢ä½¿ç”¨fmt:messageå–å‡ºå›½é™…åŒ–å†…å®¹ åˆ›å»ºresources&#x2F;i18nç„¶ååˆ›å»ºlogin_zh_CN.properties é€‰æ‹©Resouerce BundleSpringBootè‡ªåŠ¨åˆ›å»ºäº†ç®¡ç†å›½é™…åŒ–èµ„æºæ–‡ä»¶çš„ç»„ä»¶ 12345678910111213141516171819202122232425262728293031323334@Configuration(proxyBeanMethods = false)@ConditionalOnMissingBean(name = AbstractApplicationContext.MESSAGE_SOURCE_BEAN_NAME, search = SearchStrategy.CURRENT)@AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE)@Conditional(ResourceBundleCondition.class)@EnableConfigurationPropertiespublic class MessageSourceAutoConfiguration &#123; private static final Resource[] NO_RESOURCES = &#123;&#125;; @Bean @ConfigurationProperties(prefix = &quot;spring.messages&quot;) public MessageSourceProperties messageSourceProperties() &#123; return new MessageSourceProperties(); &#125; @Bean public MessageSource messageSource(MessageSourceProperties properties) &#123; ResourceBundleMessageSource messageSource = new ResourceBundleMessageSource(); if (StringUtils.hasText(properties.getBasename())) &#123; messageSource.setBasenames(StringUtils .commaDelimitedListToStringArray(StringUtils.trimAllWhitespace(properties.getBasename()))); &#125; if (properties.getEncoding() != null) &#123; messageSource.setDefaultEncoding(properties.getEncoding().name()); &#125; messageSource.setFallbackToSystemLocale(properties.isFallbackToSystemLocale()); Duration cacheDuration = properties.getCacheDuration(); if (cacheDuration != null) &#123; messageSource.setCacheMillis(cacheDuration.toMillis()); &#125; messageSource.setAlwaysUseMessageFormat(properties.isAlwaysUseMessageFormat()); messageSource.setUseCodeAsDefaultMessage(properties.isUseCodeAsDefaultMessage()); return messageSource; &#125; 1234567891011121314151617/** * Configuration properties for Message Source. * * @author Stephane Nicoll * @author Kedar Joshi * @since 2.0.0 * /public class MessageSourceProperties &#123; /** * Comma-separated list of basenames (essentially a fully-qualified classpath * location), each following the ResourceBundle convention with relaxed support for * slash based locations. If it doesn&#x27;t contain a package qualifier (such as * &quot;org.mypackage&quot;), it will be resolved from the classpath root. */ private String basename = &quot;messages&quot;; 1spring.messages.basename = i18n.login thymeleaf å–å›½é™…åŒ–ä¿¡æ¯ä½¿ç”¨#{} 1&lt;h1 class=&quot;...&quot; th:text=&quot;#&#123;login.tip&#125;&quot;&gt;Please sign in&lt;/h1&gt; è§£å†³ä¹±ç setting - editor - fileEncoding - utf8 - è‡ªåŠ¨è½¬é˜¿æ–¯å…‹ç  æµ‹è¯•åœ¨æµè§ˆå™¨ä¸­é€‰æ‹©æµè§ˆå™¨é»˜è®¤çš„è¯­è¨€å°±å¯ä»¥äº†,å³ä»–å¯ä»¥æ ¹æ®æµè§ˆå™¨çš„è¯­è¨€ä¿¡æ¯è®¾ç½®è¯­è¨€äº† å¦‚ä½•å®ç°ç‚¹æŒ‰é’®å®ç°ä¸åŒè¯­è¨€å‘¢å›½é™…åŒ–åŸç†locale: LocaleResolveræ ¹æ®è¯·æ±‚å¤´çš„åŒºåŸŸä¿¡æ¯æ¥è¿›è¡Œå›½é™…åŒ– 123456789101112@Bean@ConditionalOnMissingBean@ConditionalOnProperty(prefix = &quot;spring.mvc&quot;, name = &quot;locale&quot;)public LocaleResolver localeResolver() &#123; if (this.mvcProperties.getLocaleResolver() == WebMvcProperties.LocaleResolver.FIXED) &#123; return new FixedLocaleResolver(this.mvcProperties.getLocale()); &#125; AcceptHeaderLocaleResolver localeResolver = new AcceptHeaderLocaleResolver(); localeResolver.setDefaultLocale(this.mvcProperties.getLocale()); return localeResolver;&#125; 123456789101112131415161718@Overridepublic Locale resolveLocale(HttpServletRequest request) &#123; Locale defaultLocale = getDefaultLocale(); if (defaultLocale != null &amp;&amp; request.getHeader(&quot;Accept-Language&quot;) == null) &#123; return defaultLocale; &#125; Locale requestLocale = request.getLocale(); List&lt;Locale&gt; supportedLocales = getSupportedLocales(); if (supportedLocales.isEmpty() || supportedLocales.contains(requestLocale)) &#123; return requestLocale; &#125; Locale supportedLocale = findSupportedLocale(request, supportedLocales); if (supportedLocale != null) &#123; return supportedLocale; &#125; return (defaultLocale != null ? defaultLocale : requestLocale);&#125; å…ˆå†™ä¸ªé“¾æ¥æŠŠåŒºåŸŸä¿¡æ¯åŠ ä¸Šå» 12&lt;a class=&quot;...&quot; th:href=&quot;@&#123;/index.html(l=&#x27;zh_CN&#x27;)&#125;&quot;&gt;ä¸­æ–‡&lt;/a&gt;&lt;a class=&quot;...&quot; th:href=&quot;@&#123;/index.html(l=&#x27;en_US&#x27;)&#125;&quot;&gt;English&lt;/a&gt; ç„¶åè‡ªå·±å®ç°åŒºåŸŸä¿¡æ¯è§£æå™¨ 1234@Beanpublic LocaleResolver localeResolver()&#123; return new MyLocaleResolver();&#125; 1234567891011121314151617181920212223242526272829package com.wsx.springboothelloworld.component;import org.springframework.cglib.core.Local;import org.springframework.util.StringUtils;import org.springframework.web.servlet.LocaleResolver;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import java.util.Locale;public class MyLocaleResolver implements LocaleResolver &#123; @Override public Locale resolveLocale(HttpServletRequest request) &#123; String l = request.getParameter(&quot;l&quot;); if(!StringUtils.isEmpty(l)) &#123; String[] split = l.split(&quot;_&quot;); return new Locale(split[0], split[1]); &#125; return Locale.getDefault(); &#125; @Override public void setLocale(HttpServletRequest request, HttpServletResponse response, Locale locale) &#123; &#125;&#125; å¤„ç†post 123456789101112package com.wsx.springboothelloworld.controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod;public class LoginController &#123; @RequestMapping(value=&quot;&quot;,method= RequestMethod.POST) public String login()&#123; return &quot;dashborad&quot;; &#125;&#125; ç®€åŒ–å†™æ³• 1234567891011121314151617package com.wsx.springboothelloworld.controller;import org.springframework.web.bind.annotation.PostMapping;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod;public class LoginController &#123;// @RequestMapping(value=&quot;&quot;,method= RequestMethod.POST) @PostMapping(&quot;&quot;) public String login(@RequestParam(&quot;username&quot;) String username, @RequestParam(&quot;password&quot;) String password)&#123; return &quot;dashborad&quot;; &#125;&#125; å¦‚æœæˆåŠŸå°±è¿›å…¥dashboradï¼Œå¦åˆ™å°±æç¤ºç”¨æˆ·åå¯†ç é”™è¯¯ï¼Œ è€ƒè™‘ä½¿ç”¨mapå®ç°è¿™ä¸€æ­¥åæˆ‘ä»¬å¯èƒ½ä¼šç¢°åˆ°ä¸€äº›é—®é¢˜ï¼Œè¿™æ˜¯ç¼“å­˜å¯¼è‡´çš„ï¼ŒåŠ å…¥ä¸‹é¢çš„é…ç½® 1spring.thymeleaf.cache=false ç„¶åctrl+f9æ‰‹åŠ¨åŠ è½½htmlåˆ°ç¼–è¯‘çš„æ–‡ä»¶ä¸­ï¼Œè¿™ä¸å¿…é‡æ–°å¼€å¯Springäº† åšä¸€ä¸ªåˆ¤æ–­æ¥å†³å®šæ ‡ç­¾æ˜¯å¦ç”Ÿæ•ˆ 1&lt;p style=&quot;color: red&quot; th:text=&quot;$&#123;msg&#125;&quot; th:if=&quot;$&#123;not #strings.isEmpty(msg)&#125;&quot;&gt;&lt;/p&gt; è¡¨å•é‡å¤æäº¤é—®é¢˜ã€‚éœ€è¦ç”¨é‡å®šå‘ã€è§†å›¾ã€æ‹¦æˆªå™¨è§£å†³ï¼Œé‡å®šå‘åŠ è§†å›¾èƒ½ç¡®ä¿æ²¡æœ‰é‡å¤æäº¤ï¼Œä½†æ˜¯ä¼šå¯¼è‡´ç›´æ¥è·³è¿‡ç™»é™†çš„é—®é¢˜ï¼Œ æ‹¦æˆªå™¨åˆ›å»ºæ‹¦æˆªå™¨ 123456789101112131415161718192021222324252627282930313233package com.wsx.springboothelloworld.component;import org.springframework.web.servlet.HandlerInterceptor;import org.springframework.web.servlet.ModelAndView;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;public class LoginHandlerInterceptor implements HandlerInterceptor &#123; @Override public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception &#123; Object loginUser = request.getSession().getAttribute(&quot;loginUser&quot;); if (loginUser == null) &#123; request.setAttribute(&quot;msg&quot;,&quot;æ²¡æœ‰æƒé™ï¼Œè¯·å…ˆç™»å½•&quot;); request.getRequestDispatcher(&quot;/index.html&quot;).forward(request,response); return false; &#125; else &#123; return true; &#125; &#125; @Override public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView) throws Exception &#123; &#125; @Override public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex) throws Exception &#123; &#125;&#125; å°†ç™»é™†æˆåŠŸçš„ç”¨æˆ·æ”¾å…¥seesion 12345678910111213141516public class LoginController &#123; // @RequestMapping(value=&quot;&quot;,method= RequestMethod.POST) @PostMapping(&quot;&quot;) public String login(@RequestParam(&quot;username&quot;) String username, @RequestParam(&quot;password&quot;) String password, Map&lt;String, Object&gt; map, HttpSession httpSession) &#123; if (password.endsWith(&quot;123456&quot;)) &#123; httpSession.setAttribute(&quot;loginUser&quot;, username); return &quot;dashborad&quot;; &#125; else &#123; return &quot;404&quot;; &#125; &#125;&#125; springbootå·²ç»åšå¥½äº†é™æ€èµ„æºï¼Œä¸ç”¨ç®¡ä»–ä»¬ï¼Œä¸ä¼šè¢«æ‹¦æˆª, æ³¨æ„addPathPatterns.excludePathPatternså¯ä»¥ä¸€ç›´æä¸‹å»ï¼Œæ‹¦æˆªæ‰€æœ‰çš„é¡µé¢ï¼Œæ”¾è¡Œä¸¤ä¸ªhtml 123456789101112131415161718@Beanpublic WebMvcConfigurerAdapter webMvcConfigurerAdapter()&#123; return new WebMvcConfigurerAdapter() &#123; @Override public void addViewControllers(ViewControllerRegistry registry) &#123; registry.addViewController(&quot;/wsx2&quot;).setViewName(&quot;templates_hello&quot;); registry.addViewController(&quot;/wsx3&quot;).setViewName(&quot;templates_hello&quot;); &#125; @Override public void addInterceptors(InterceptorRegistry registry) &#123; super.addInterceptors(registry); // registry.addInterceptor(new LoginHandlerInterceptor()).addPathPatterns(&quot;/**&quot;).excludePathPatterns(&quot;/index.html&quot;,&quot;/user/login&quot;); &#125; &#125;;&#125;","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"SpringBoot","slug":"Language/Java/SpringBoot","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/SpringBoot/"}],"tags":[]},{"title":"Kafka","slug":"é˜Ÿåˆ—/Kafka/Kafka/index","date":"2020-04-19T05:32:51.000Z","updated":"2020-04-19T05:32:51.000Z","comments":true,"path":"Q90SQR.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q90SQR.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Kafkaæ¦‚è¿°å®šä¹‰Kafkaæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼çš„åŸºäºå‘å¸ƒ&#x2F;è®¢é˜…æ¨¡å¼çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œåº”ç”¨äºå¤§æ•°æ®å®æ—¶å¤„ç†é¢†åŸŸ æ¶ˆæ¯é˜Ÿåˆ—çš„ä¼˜ç‚¹ä¸»è¦æ˜¯è§£è€¦å’Œå‰Šå³° è§£è€¦ å¯æ¢å¤ï¼Œå¦‚æœç³»ç»Ÿä¸­ä¸€éƒ¨åˆ†ç»„ä»¶å¤±æ•ˆï¼ŒåŠ å…¥é˜Ÿåˆ—çš„æ¶ˆæ¯ä»ç„¶å¯ä»¥åœ¨ç³»ç»Ÿæ¢å¤åè¢«å¤„ç† å‰Šå³° çµæ´»ï¼Œå¯åŠ¨æ€ç»´æŠ¤æ¶ˆæ¯é˜Ÿåˆ—çš„é›†ç¾¤ å¼‚æ­¥","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Kafkaæ¦‚è¿°å®šä¹‰Kafkaæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼çš„åŸºäºå‘å¸ƒ&#x2F;è®¢é˜…æ¨¡å¼çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œåº”ç”¨äºå¤§æ•°æ®å®æ—¶å¤„ç†é¢†åŸŸ æ¶ˆæ¯é˜Ÿåˆ—çš„ä¼˜ç‚¹ä¸»è¦æ˜¯è§£è€¦å’Œå‰Šå³° è§£è€¦ å¯æ¢å¤ï¼Œå¦‚æœç³»ç»Ÿä¸­ä¸€éƒ¨åˆ†ç»„ä»¶å¤±æ•ˆï¼ŒåŠ å…¥é˜Ÿåˆ—çš„æ¶ˆæ¯ä»ç„¶å¯ä»¥åœ¨ç³»ç»Ÿæ¢å¤åè¢«å¤„ç† å‰Šå³° çµæ´»ï¼Œå¯åŠ¨æ€ç»´æŠ¤æ¶ˆæ¯é˜Ÿåˆ—çš„é›†ç¾¤ å¼‚æ­¥ æ¶ˆæ¯é˜Ÿåˆ—çš„ä¸¤ç§æ¨¡å¼ç‚¹å¯¹ç‚¹ä¸€å¯¹ä¸€ï¼Œæ¶ˆè´¹è€…ä¸»åŠ¨æ‹‰å–æ¶ˆæ¯ï¼Œæ”¶åˆ°åæ¸…é™¤ å‘å¸ƒ&#x2F;è®¢é˜…æ¨¡å¼ä¸€å¯¹å¤šï¼Œæ¶ˆè´¹è€…æ¶ˆè´¹åï¼Œæ¶ˆæ¯ä¸ä¼šæ¸…é™¤ï¼Œå½“ç„¶ä¹Ÿä¸æ˜¯æ°¸ä¹…ä¿ç•™ï¼Œ åˆ†ä¸¤ç§ï¼Œä¸€ä¸ªæ˜¯å‘å¸ƒè€…ä¸»åŠ¨æ¨é€ï¼Œå¦ä¸€ä¸ªæ˜¯æ¶ˆè´¹è€…ä¸»åŠ¨æ‹‰å–ï¼ŒKafkaå°±æ˜¯æ¶ˆè´¹è€…ä¸»åŠ¨æ‹‰å–ï¼Œ æ¨é€ æ‹‰å– ä¸å¥½ç…§é¡¾å¤šä¸ªæ¶ˆè´¹è€…çš„æ¥å—é€Ÿåº¦ ä¸»åŠ¨æ‹‰å–ï¼Œç”±æ¶ˆè´¹è€…å†³å®š æ¶ˆè´¹è€…è¦æ¯è¿‡ä¸€æ®µæ—¶é—´å°±è¯¢é—®æœ‰æ²¡æœ‰æ–°æ¶ˆæ¯ï¼Œé•¿è½®è¯¢ åŸºç¡€æ¶æ„Kafka Cluster ä¸­æœ‰å¤šä¸ª Broker Brokerä¸­æœ‰å¤šä¸ªTopic Partion æ¯ä¸ªTopicçš„å¤šä¸ªParttitionï¼Œæ”¾åœ¨å¤šä¸ªBrokerä¸Šï¼Œå¯ä»¥æé«˜Producerçš„å¹¶å‘ï¼Œæ¯ä¸ªTopic Partitionåœ¨å…¶ä»–Clusterä¸Šå­˜æœ‰å‰¯æœ¬ï¼Œç”¨äºå¤‡ä»½ï¼Œä»–ä»¬å­˜åœ¨leaderå’Œfollowerï¼Œæˆ‘ä»¬åªæ‰¾leaderï¼Œä¸æ‰¾follower Topicæ˜¯åˆ†åŒºçš„ï¼Œæ¯ä¸ªåˆ†åŒºéƒ½æ˜¯æœ‰å‰¯æœ¬çš„ï¼Œåˆ†ä¸ºleaderå’Œfollower æ¶ˆè´¹è€…å­˜åœ¨æ¶ˆè´¹è€…ç»„ï¼Œä¸€ä¸ªåˆ†åŒºåªèƒ½è¢«åŒä¸€ä¸ªç»„çš„æŸä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹ï¼Œæˆ‘ä»¬ä¸»è¦æ˜¯æŠŠä¸€ä¸ªç»„å½“ä½œä¸€ä¸ªå¤§æ¶ˆè´¹è€…ï¼Œæ¶ˆè´¹è€…ç»„å¯ä»¥æé«˜æ¶ˆè´¹èƒ½åŠ›ï¼Œæ¶ˆè´¹è€…å¤šäº†æ•´ä¸ªç»„çš„æ¶ˆè´¹èƒ½åŠ›å°±é«˜äº†ï¼Œæ¶ˆè´¹ç»„ä¸­æ¶ˆè´¹è€…çš„ä¸ªæ•°ä¸è¦æ¯”æ¶ˆæ¯å¤šï¼Œä¸ç„¶å°±æ˜¯æµªè´¹èµ„æº Kafkaåˆ©ç”¨Zookeeperæ¥ç®¡ç†é…ç½® 0.9å‰æ¶ˆè´¹è€…æŠŠè‡ªå·±æ¶ˆè´¹çš„ä½ç½®ä¿¡æ¯å‚¨å­˜åœ¨Zookeeperä¸­ 0.9åæ˜¯Kafkaè‡ªå·±å‚¨å­˜åœ¨æŸä¸ªä¸»é¢˜ä¸­(å‡å°‘äº†æ¶ˆè´¹è€…å’Œzkçš„è¿æ¥) æˆ‘å·äº†ä¸ªå›¾ Kafkaå…¥é—¨å¸¸è§„å®‰è£…å®˜ç½‘ä¸‹è½½Kafka brew install kafka docker pull wurstmeister/kafka Kafkaå®‰è£…å…ˆå®‰è£…zookeeper ç„¶åå®‰è£…kafka 12345docker run -d \\-eZK_HOSTS=zookeeper.zk \\--link zookeeper:zookeeper.zk \\--name=kafka \\kafkamanager/kafka-manager Kafka compose å®‰è£…12345mkdir ~/DockerDesktopmkdir ~/DockerDesktop/Kafkacd ~/DockerDesktop/Kafkamkdir node1 node2 node3 node4 node5vim docker-compose.yml 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104version: &#x27;3&#x27;services: Kafka1: image: wurstmeister/kafka hostname: Kafka1 environment: KAFKA_ADVERTISED_HOST_NAME: Kafka1 KAFKA_ADVERTISED_PORT: 9092 KAFKA_ZOOKEEPER_CONNECT: Zookeeper1:2181,Zookeeper2:2181,Zookeeper3:2181,Zookeeper4:2181,Zookeeper5:2181 volumes: - ~/DockerDesktop/Kafka/node1:/kafka external_links: - Zookeeper1 - Zookeeper2 - Zookeeper3 - Zookeeper4 - Zookeeper5 networks: default: ipv4_address: 172.17.2.1 Kafka2: image: wurstmeister/kafka hostname: Kafka2 environment: KAFKA_ADVERTISED_HOST_NAME: Kafka2 KAFKA_ADVERTISED_PORT: 9092 KAFKA_ZOOKEEPER_CONNECT: Zookeeper1:2181,Zookeeper2:2181,Zookeeper3:2181,Zookeeper4:2181,Zookeeper5:2181 volumes: - ~/DockerDesktop/Kafka/node2:/kafka external_links: - Zookeeper1 - Zookeeper2 - Zookeeper3 - Zookeeper4 - Zookeeper5 networks: default: ipv4_address: 172.17.2.2 Kafka3: image: wurstmeister/kafka hostname: Kafka3 environment: KAFKA_ADVERTISED_HOST_NAME: Kafka3 KAFKA_ADVERTISED_PORT: 9092 KAFKA_ZOOKEEPER_CONNECT: Zookeeper1:2181,Zookeeper2:2181,Zookeeper3:2181,Zookeeper4:2181,Zookeeper5:2181 volumes: - ~/DockerDesktop/Kafka/node3:/kafka external_links: - Zookeeper1 - Zookeeper2 - Zookeeper3 - Zookeeper4 - Zookeeper5 networks: default: ipv4_address: 172.17.2.3 Kafka4: image: wurstmeister/kafka hostname: Kafka4 environment: KAFKA_ADVERTISED_HOST_NAME: Kafka4 KAFKA_ADVERTISED_PORT: 9092 KAFKA_ZOOKEEPER_CONNECT: Zookeeper1:2181,Zookeeper2:2181,Zookeeper3:2181,Zookeeper4:2181,Zookeeper5:2181 volumes: - ~/DockerDesktop/Kafka/node4:/kafka external_links: - Zookeeper1 - Zookeeper2 - Zookeeper3 - Zookeeper4 - Zookeeper5 networks: default: ipv4_address: 172.17.2.4 Kafka5: image: wurstmeister/kafka hostname: Kafka5 environment: KAFKA_ADVERTISED_HOST_NAME: Kafka5 KAFKA_ADVERTISED_PORT: 9092 KAFKA_ZOOKEEPER_CONNECT: Zookeeper1:2181,Zookeeper2:2181,Zookeeper3:2181,Zookeeper4:2181,Zookeeper5:2181 volumes: - ~/DockerDesktop/Kafka/node5:/kafka external_links: - Zookeeper1 - Zookeeper2 - Zookeeper3 - Zookeeper4 - Zookeeper5 networks: default: ipv4_address: 172.17.2.5networks: default: external: name: net17 æ‰§è¡Œä¸‹é¢çš„æŒ‡ä»¤ï¼ŒKafkaé›†ç¾¤å¼€å§‹è¿è¡Œ 1docker-compose up çœ‹åˆ°äº†è¾“å‡º 123456789101112131415161718192021222324252627282930313233343536373839404142Kafka3_1 | [2020-04-18 10:26:27,441] INFO [Transaction Marker Channel Manager 1002]: Starting (kafka.coordinator.transaction.TransactionMarkerChannelManager)Kafka4_1 | [2020-04-18 10:26:27,451] INFO [ExpirationReaper-1005-AlterAcls]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)Kafka5_1 | [2020-04-18 10:26:27,473] INFO [TransactionCoordinator id=1001] Starting up. (kafka.coordinator.transaction.TransactionCoordinator)Kafka5_1 | [2020-04-18 10:26:27,524] INFO [TransactionCoordinator id=1001] Startup complete. (kafka.coordinator.transaction.TransactionCoordinator)Kafka5_1 | [2020-04-18 10:26:27,554] INFO [Transaction Marker Channel Manager 1001]: Starting (kafka.coordinator.transaction.TransactionMarkerChannelManager)Kafka1_1 | [2020-04-18 10:26:27,635] INFO [TransactionCoordinator id=1003] Starting up. (kafka.coordinator.transaction.TransactionCoordinator)Kafka1_1 | [2020-04-18 10:26:27,644] INFO [TransactionCoordinator id=1003] Startup complete. (kafka.coordinator.transaction.TransactionCoordinator)Kafka1_1 | [2020-04-18 10:26:27,669] INFO [Transaction Marker Channel Manager 1003]: Starting (kafka.coordinator.transaction.TransactionMarkerChannelManager)Kafka2_1 | [2020-04-18 10:26:27,748] INFO [ExpirationReaper-1004-AlterAcls]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)Kafka4_1 | [2020-04-18 10:26:27,753] INFO [/config/changes-event-process-thread]: Starting (kafka.common.ZkNodeChangeNotificationListener$ChangeEventProcessThread)Kafka3_1 | [2020-04-18 10:26:27,843] INFO [ExpirationReaper-1002-AlterAcls]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)Kafka4_1 | [2020-04-18 10:26:27,882] INFO [SocketServer brokerId=1005] Started data-plane processors for 1 acceptors (kafka.network.SocketServer)Kafka4_1 | [2020-04-18 10:26:27,945] INFO Kafka version: 2.4.1 (org.apache.kafka.common.utils.AppInfoParser)Kafka4_1 | [2020-04-18 10:26:27,950] INFO Kafka commitId: c57222ae8cd7866b (org.apache.kafka.common.utils.AppInfoParser)Kafka4_1 | [2020-04-18 10:26:27,955] INFO Kafka startTimeMs: 1587205587891 (org.apache.kafka.common.utils.AppInfoParser)Kafka4_1 | [2020-04-18 10:26:27,976] INFO [KafkaServer id=1005] started (kafka.server.KafkaServer)Kafka2_1 | [2020-04-18 10:26:27,989] INFO [/config/changes-event-process-thread]: Starting (kafka.common.ZkNodeChangeNotificationListener$ChangeEventProcessThread)Kafka1_1 | [2020-04-18 10:26:28,076] INFO [ExpirationReaper-1003-AlterAcls]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)Kafka3_1 | [2020-04-18 10:26:28,095] INFO [/config/changes-event-process-thread]: Starting (kafka.common.ZkNodeChangeNotificationListener$ChangeEventProcessThread)Kafka2_1 | [2020-04-18 10:26:28,190] INFO [SocketServer brokerId=1004] Started data-plane processors for 1 acceptors (kafka.network.SocketServer)Kafka2_1 | [2020-04-18 10:26:28,239] INFO Kafka version: 2.4.1 (org.apache.kafka.common.utils.AppInfoParser)Kafka2_1 | [2020-04-18 10:26:28,241] INFO Kafka commitId: c57222ae8cd7866b (org.apache.kafka.common.utils.AppInfoParser)Kafka2_1 | [2020-04-18 10:26:28,243] INFO Kafka startTimeMs: 1587205588196 (org.apache.kafka.common.utils.AppInfoParser)Kafka2_1 | [2020-04-18 10:26:28,244] INFO [KafkaServer id=1004] started (kafka.server.KafkaServer)Kafka3_1 | [2020-04-18 10:26:28,253] INFO [SocketServer brokerId=1002] Started data-plane processors for 1 acceptors (kafka.network.SocketServer)Kafka3_1 | [2020-04-18 10:26:28,292] INFO Kafka version: 2.4.1 (org.apache.kafka.common.utils.AppInfoParser)Kafka3_1 | [2020-04-18 10:26:28,295] INFO Kafka commitId: c57222ae8cd7866b (org.apache.kafka.common.utils.AppInfoParser)Kafka3_1 | [2020-04-18 10:26:28,297] INFO Kafka startTimeMs: 1587205588257 (org.apache.kafka.common.utils.AppInfoParser)Kafka3_1 | [2020-04-18 10:26:28,313] INFO [KafkaServer id=1002] started (kafka.server.KafkaServer)Kafka1_1 | [2020-04-18 10:26:28,327] INFO [/config/changes-event-process-thread]: Starting (kafka.common.ZkNodeChangeNotificationListener$ChangeEventProcessThread)Kafka5_1 | [2020-04-18 10:26:28,365] INFO [ExpirationReaper-1001-AlterAcls]: Starting (kafka.server.DelayedOperationPurgatory$ExpiredOperationReaper)Kafka1_1 | [2020-04-18 10:26:28,533] INFO [SocketServer brokerId=1003] Started data-plane processors for 1 acceptors (kafka.network.SocketServer)Kafka1_1 | [2020-04-18 10:26:28,582] INFO Kafka version: 2.4.1 (org.apache.kafka.common.utils.AppInfoParser)Kafka1_1 | [2020-04-18 10:26:28,582] INFO Kafka commitId: c57222ae8cd7866b (org.apache.kafka.common.utils.AppInfoParser)Kafka1_1 | [2020-04-18 10:26:28,584] INFO Kafka startTimeMs: 1587205588534 (org.apache.kafka.common.utils.AppInfoParser)Kafka1_1 | [2020-04-18 10:26:28,607] INFO [KafkaServer id=1003] started (kafka.server.KafkaServer)Kafka5_1 | [2020-04-18 10:26:28,931] INFO [/config/changes-event-process-thread]: Starting (kafka.common.ZkNodeChangeNotificationListener$ChangeEventProcessThread)Kafka5_1 | [2020-04-18 10:26:29,129] INFO [SocketServer brokerId=1001] Started data-plane processors for 1 acceptors (kafka.network.SocketServer)Kafka5_1 | [2020-04-18 10:26:29,218] INFO Kafka version: 2.4.1 (org.apache.kafka.common.utils.AppInfoParser)Kafka5_1 | [2020-04-18 10:26:29,218] INFO Kafka commitId: c57222ae8cd7866b (org.apache.kafka.common.utils.AppInfoParser)Kafka5_1 | [2020-04-18 10:26:29,220] INFO Kafka startTimeMs: 1587205589130 (org.apache.kafka.common.utils.AppInfoParser)Kafka5_1 | [2020-04-18 10:26:29,222] INFO [KafkaServer id=1001] started (kafka.server.KafkaServer) åŒæ—¶æˆ‘ä»¬åœ¨Zookeeperé›†ç¾¤ä¹Ÿçœ‹åˆ°äº†è¾“å‡º 12345678910111213141516171819202122232425262728293031323334Zookeeper1_1 | 2020-04-18 10:26:09,983 [myid:1] - WARN [QuorumPeer[myid=1](plain=0.0.0.0:2181)(secure=disabled):Follower@170] - Got zxid 0x500000001 expected 0x1Zookeeper1_1 | 2020-04-18 10:26:09,990 [myid:1] - INFO [SyncThread:1:FileTxnLog@284] - Creating new log file: log.500000001Zookeeper5_1 | 2020-04-18 10:26:09,988 [myid:5] - INFO [SyncThread:5:FileTxnLog@284] - Creating new log file: log.500000001Zookeeper2_1 | 2020-04-18 10:26:10,002 [myid:2] - WARN [QuorumPeer[myid=2](plain=0.0.0.0:2181)(secure=disabled):Follower@170] - Got zxid 0x500000001 expected 0x1Zookeeper2_1 | 2020-04-18 10:26:10,045 [myid:2] - INFO [SyncThread:2:FileTxnLog@284] - Creating new log file: log.500000001Zookeeper4_1 | 2020-04-18 10:26:10,059 [myid:4] - WARN [QuorumPeer[myid=4](plain=0.0.0.0:2181)(secure=disabled):Follower@170] - Got zxid 0x500000001 expected 0x1Zookeeper1_1 | 2020-04-18 10:26:10,087 [myid:1] - INFO [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x500000589e20000Zookeeper5_1 | 2020-04-18 10:26:10,092 [myid:5] - INFO [CommitProcessor:5:LeaderSessionTracker@104] - Committing global session 0x500000589e20000Zookeeper2_1 | 2020-04-18 10:26:10,093 [myid:2] - INFO [CommitProcessor:2:LearnerSessionTracker@116] - Committing global session 0x500000589e20000Zookeeper3_1 | 2020-04-18 10:26:10,071 [myid:3] - WARN [QuorumPeer[myid=3](plain=0.0.0.0:2181)(secure=disabled):Follower@170] - Got zxid 0x500000001 expected 0x1Zookeeper4_1 | 2020-04-18 10:26:10,098 [myid:4] - INFO [SyncThread:4:FileTxnLog@284] - Creating new log file: log.500000001Zookeeper3_1 | 2020-04-18 10:26:10,109 [myid:3] - INFO [SyncThread:3:FileTxnLog@284] - Creating new log file: log.500000001Zookeeper1_1 | 2020-04-18 10:26:10,113 [myid:1] - INFO [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x100000589b30000Zookeeper2_1 | 2020-04-18 10:26:10,126 [myid:2] - INFO [CommitProcessor:2:LearnerSessionTracker@116] - Committing global session 0x100000589b30000Zookeeper2_1 | 2020-04-18 10:26:10,141 [myid:2] - INFO [CommitProcessor:2:LearnerSessionTracker@116] - Committing global session 0x200000589b20000Zookeeper4_1 | 2020-04-18 10:26:10,144 [myid:4] - INFO [CommitProcessor:4:LearnerSessionTracker@116] - Committing global session 0x500000589e20000Zookeeper3_1 | 2020-04-18 10:26:10,137 [myid:3] - INFO [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x500000589e20000Zookeeper1_1 | 2020-04-18 10:26:10,171 [myid:1] - INFO [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x200000589b20000Zookeeper3_1 | 2020-04-18 10:26:10,199 [myid:3] - INFO [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x100000589b30000Zookeeper4_1 | 2020-04-18 10:26:10,176 [myid:4] - INFO [CommitProcessor:4:LearnerSessionTracker@116] - Committing global session 0x100000589b30000Zookeeper4_1 | 2020-04-18 10:26:10,202 [myid:4] - INFO [CommitProcessor:4:LearnerSessionTracker@116] - Committing global session 0x200000589b20000Zookeeper3_1 | 2020-04-18 10:26:10,203 [myid:3] - INFO [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x200000589b20000Zookeeper4_1 | 2020-04-18 10:26:10,204 [myid:4] - INFO [CommitProcessor:4:LearnerSessionTracker@116] - Committing global session 0x200000589b20001Zookeeper4_1 | 2020-04-18 10:26:10,209 [myid:4] - INFO [CommitProcessor:4:LearnerSessionTracker@116] - Committing global session 0x200000589b20002Zookeeper2_1 | 2020-04-18 10:26:10,224 [myid:2] - INFO [CommitProcessor:2:LearnerSessionTracker@116] - Committing global session 0x200000589b20001Zookeeper3_1 | 2020-04-18 10:26:10,227 [myid:3] - INFO [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x200000589b20001Zookeeper3_1 | 2020-04-18 10:26:10,241 [myid:3] - INFO [CommitProcessor:3:LearnerSessionTracker@116] - Committing global session 0x200000589b20002Zookeeper2_1 | 2020-04-18 10:26:10,243 [myid:2] - INFO [CommitProcessor:2:LearnerSessionTracker@116] - Committing global session 0x200000589b20002Zookeeper5_1 | 2020-04-18 10:26:10,245 [myid:5] - INFO [CommitProcessor:5:LeaderSessionTracker@104] - Committing global session 0x100000589b30000Zookeeper5_1 | 2020-04-18 10:26:10,260 [myid:5] - INFO [CommitProcessor:5:LeaderSessionTracker@104] - Committing global session 0x200000589b20000Zookeeper5_1 | 2020-04-18 10:26:10,270 [myid:5] - INFO [CommitProcessor:5:LeaderSessionTracker@104] - Committing global session 0x200000589b20001Zookeeper5_1 | 2020-04-18 10:26:10,307 [myid:5] - INFO [CommitProcessor:5:LeaderSessionTracker@104] - Committing global session 0x200000589b20002Zookeeper1_1 | 2020-04-18 10:26:10,403 [myid:1] - INFO [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x200000589b20001Zookeeper1_1 | 2020-04-18 10:26:10,407 [myid:1] - INFO [CommitProcessor:1:LearnerSessionTracker@116] - Committing global session 0x200000589b20002 Kafkaæ“ä½œå¼€å§‹æ“ä½œ 123docker exec -it kafka_Kafka1_1 bashcd /opt/kafka/binls æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸€å¤§å †ä¸œè¥¿ 1234567connect-distributed.sh kafka-console-producer.sh kafka-log-dirs.sh kafka-server-start.sh windowsconnect-mirror-maker.sh kafka-consumer-groups.sh kafka-mirror-maker.sh kafka-server-stop.sh zookeeper-security-migration.shconnect-standalone.sh kafka-consumer-perf-test.sh kafka-preferred-replica-election.sh kafka-streams-application-reset.sh zookeeper-server-start.shkafka-acls.sh kafka-delegation-tokens.sh kafka-producer-perf-test.sh kafka-topics.sh zookeeper-server-stop.shkafka-broker-api-versions.sh kafka-delete-records.sh kafka-reassign-partitions.sh kafka-verifiable-consumer.sh zookeeper-shell.shkafka-configs.sh kafka-dump-log.sh kafka-replica-verification.sh kafka-verifiable-producer.shkafka-console-consumer.sh kafka-leader-election.sh kafka-run-class.sh trogdor.sh æŒ‡å®šZookeeper1ï¼Œçœ‹çœ‹æ¶ˆæ¯,ç»“æœå•¥éƒ½æ²¡æœ‰ï¼Œå› ä¸ºkafkaä¸­æ²¡æœ‰æ¶ˆæ¯ 1kafka-topics.sh --zookeeper Zookeeper1:2181 --list åˆ›å»ºä¸»é¢˜, â€“topic å®šä¹‰topicåå­—ï¼Œâ€“replication-factorå®šä¹‰å‰¯æœ¬æ•°é‡ï¼Œâ€“partitionså®šä¹‰åˆ†åŒºæ•°é‡ï¼Œ æˆ‘ä»¬åˆ›å»º3ä¸ªå‰¯æœ¬ä¸€ä¸ªåˆ†åŒºçš„ä¸»é¢˜first 1kafka-topics.sh --zookeeper Zookeeper1:2181 --create --replication-factor 3 --partitions 1 --topic first çœ‹åˆ°è¾“å‡º 1Created topic first. ç„¶åä½¿ç”¨kafka-topics.sh --zookeeper Zookeeper1:2181 --listå°±å¯ä»¥çœ‹åˆ°è¾“å‡ºäº†ä¸€ä¸ªfirst 1first ç°åœ¨æˆ‘ä»¬å›åˆ°dockerå¤–é¢çš„å®¿ä¸»æœºçš„ç»ˆç«¯ 12cd ~/DockerDesktop/Kafkals node1/kafka-logs-Kafka1/ node2/kafka-logs-Kafka2 node3/kafka-logs-Kafka3 node4/kafka-logs-Kafka4 node5/kafka-logs-Kafka5 å¾—åˆ°äº†è¾“å‡º,ç”±æ­¤å¯è§ï¼Œæˆ‘ä»¬çš„node3ï¼Œnode4ï¼Œnode5ä¸Šåˆ†åˆ«ä¿ç•™äº†firstçš„å‰¯æœ¬,è¿™é‡Œè¿˜æœ‰ä¸€ä¸ªç»†èŠ‚ï¼Œæˆ‘ä»¬ç°åœ¨æ˜¯åœ¨kafka1ä¸Šæ‰§è¡Œçš„å‘½ä»¤ï¼Œè¿™ä¹Ÿèƒ½è¯´æ˜æˆ‘ä»¬çš„é›†ç¾¤æ˜¯æ­å»ºæˆåŠŸäº†çš„ 1234567891011121314node1/kafka-logs-Kafka1/:cleaner-offset-checkpoint log-start-offset-checkpoint meta.properties recovery-point-offset-checkpoint replication-offset-checkpointnode2/kafka-logs-Kafka2:cleaner-offset-checkpoint log-start-offset-checkpoint meta.properties recovery-point-offset-checkpoint replication-offset-checkpointnode3/kafka-logs-Kafka3:cleaner-offset-checkpoint first-0 log-start-offset-checkpoint meta.properties recovery-point-offset-checkpoint replication-offset-checkpointnode4/kafka-logs-Kafka4:cleaner-offset-checkpoint first-0 log-start-offset-checkpoint meta.properties recovery-point-offset-checkpoint replication-offset-checkpointnode5/kafka-logs-Kafka5:cleaner-offset-checkpoint first-0 log-start-offset-checkpoint meta.properties recovery-point-offset-checkpoint replication-offset-checkpoint ç„¶åæˆ‘ä»¬å›åˆ°dockerä¸­ï¼Œå¤šæ¥å‡ æ¬¡ 1234kafka-topics.sh --zookeeper Zookeeper2:2181 --create --replication-factor 3 --partitions 1 --topic secondkafka-topics.sh --zookeeper Zookeeper3:2181 --create --replication-factor 3 --partitions 1 --topic thirdkafka-topics.sh --zookeeper Zookeeper4:2181 --create --replication-factor 3 --partitions 1 --topic fourkafka-topics.sh --zookeeper Zookeeper5:2181 --create --replication-factor 3 --partitions 1 --topic five æœ€åå†æŸ¥çœ‹å®¿ä¸»æœºä¸­çš„ç£ç›˜æ˜ å°„ï¼Œè¿™é‡Œä¸€åˆ‡æ­£å¸¸ï¼Œå¹¶ä¸”è®¿é—®zookeeperé›†ç¾¤ä¸­çš„ä»»æ„ä¸€å°æœºå™¨éƒ½å¯è¡Œ 12345678910111213141516171819node1/kafka-logs-Kafka1/:cleaner-offset-checkpoint log-start-offset-checkpoint recovery-point-offset-checkpoint second-0five-0 meta.properties replication-offset-checkpoint third-0node2/kafka-logs-Kafka2:cleaner-offset-checkpoint log-start-offset-checkpoint recovery-point-offset-checkpoint second-0four-0 meta.properties replication-offset-checkpointnode3/kafka-logs-Kafka3:cleaner-offset-checkpoint five-0 log-start-offset-checkpoint recovery-point-offset-checkpointfirst-0 four-0 meta.properties replication-offset-checkpointnode4/kafka-logs-Kafka4:cleaner-offset-checkpoint five-0 meta.properties replication-offset-checkpoint third-0first-0 log-start-offset-checkpoint recovery-point-offset-checkpoint second-0node5/kafka-logs-Kafka5:cleaner-offset-checkpoint four-0 meta.properties replication-offset-checkpointfirst-0 log-start-offset-checkpoint recovery-point-offset-checkpoint third-0 å…¨åˆ æ‰ 12345kafka-topics.sh --delete --zookeeper Zookeeper1:2181 --topic firstkafka-topics.sh --delete --zookeeper Zookeeper1:2181 --topic secondkafka-topics.sh --delete --zookeeper Zookeeper1:2181 --topic thirdkafka-topics.sh --delete --zookeeper Zookeeper1:2181 --topic fourkafka-topics.sh --delete --zookeeper Zookeeper1:2181 --topic five çœ‹åˆ°è¾“å‡º,åœ¨æˆ‘çš„é›†ç¾¤ä¸­ï¼Œæˆ‘å‘å…ˆå‡ ç§’é’Ÿåï¼Œå°±è¢«åˆ å¹²å‡€äº† 12Topic first is marked for deletion.Note: This will have no impact if delete.topic.enable is not set to true. ä¸ºäº†åç»­çš„æ“ä½œï¼Œæˆ‘ä»¬é‡æ–°åˆ›å»ºä¸€ä¸ªæ–°çš„ä¸»é¢˜ 1kafka-topics.sh --zookeeper Zookeeper5:2181 --create --replication-factor 3 --partitions 2 --topic first éšä¾¿èµ·ä¸€å°Kafka1, ä½œä¸ºç”Ÿäº§è€…, è¿™é‡Œå¯ä»¥ç”¨localhostæ˜¯å› ä¸ºä»–è‡ªå·±å°±æ˜¯é›†ç¾¤çš„ä¸€éƒ¨åˆ† 1kafka-console-producer.sh --topic first --broker-list localhost:9092 å†èµ·å¦å¤–ä¸€å°Kafka2ä½œä¸ºæ¶ˆè´¹è€…ï¼Œè¿™å°å°±å¼€å§‹ç­‰å¾…äº† 1kafka-console-consumer.sh --topic first --bootstrap-server localhost:9092 åœ¨ç”Ÿæˆè€…ä¸­è¾“å‡º&gt;hello I am producerï¼Œ æˆ‘ä»¬å°±èƒ½åœ¨æ¶ˆè´¹è€…ä¸­çœ‹åˆ°ï¼Œé‚£ä¹ˆè¿‡æ—¶çš„æ¶ˆè´¹è€…æ€ä¹ˆåŠå‘¢ï¼Ÿæˆ‘ä»¬ä½¿ç”¨ä¸Šé¢çš„æŒ‡ä»¤å†èµ·ä¸€å°æ¶ˆè´¹è€…Kafka3ï¼Œ å‘ç°ä»–å¹¶ä¸èƒ½æ”¶åˆ°helloé‚£æ¡æ¶ˆæ¯äº†ï¼Œåœ¨ç”Ÿæˆè€…ä¸­è¾“å…¥&gt;this is the second msg,å‘ç°kafka2å’Œkafka3éƒ½å¯ä»¥æ”¶åˆ°æ¶ˆæ¯ï¼Œç„¶åæˆ‘ä»¬ä½¿ç”¨ä¸‹é¢çš„æŒ‡ä»¤å†å…¶ä¸€å°Kafka4,ç­‰å¾…ç‰‡åˆ»ï¼Œå‘ç°kafka4æ”¶åˆ°äº†æ‰€æœ‰çš„æ¶ˆæ¯ 1kafka-console-consumer.sh --topic first --bootstrap-server localhost:9092 --from-beginning åœ¨å®¿ä¸»æœºä¸­è¾“å…¥ 1ls node1/kafka-logs-Kafka1/ node2/kafka-logs-Kafka2 node3/kafka-logs-Kafka3 node4/kafka-logs-Kafka4 node5/kafka-logs-Kafka5 å¾—åˆ°è¾“å‡º,å¯ä»¥çœ‹åˆ°offsetsæ˜¯è½®æµä¿å­˜çš„, å› ä¸ºåˆ†åŒºæ˜¯ä¸ºäº†è´Ÿè½½å‡è¡¡ï¼Œè€Œå¤‡ä»½æ˜¯ä¸ºäº†å®¹é”™ 123456789101112131415161718192021222324node1/kafka-logs-Kafka1/:__consumer_offsets-14 __consumer_offsets-29 __consumer_offsets-4 __consumer_offsets-9 log-start-offset-checkpoint replication-offset-checkpoint__consumer_offsets-19 __consumer_offsets-34 __consumer_offsets-44 cleaner-offset-checkpoint meta.properties__consumer_offsets-24 __consumer_offsets-39 __consumer_offsets-49 first-1 recovery-point-offset-checkpointnode2/kafka-logs-Kafka2:__consumer_offsets-0 __consumer_offsets-20 __consumer_offsets-35 __consumer_offsets-5 log-start-offset-checkpoint replication-offset-checkpoint__consumer_offsets-10 __consumer_offsets-25 __consumer_offsets-40 cleaner-offset-checkpoint meta.properties__consumer_offsets-15 __consumer_offsets-30 __consumer_offsets-45 first-0 recovery-point-offset-checkpointnode3/kafka-logs-Kafka3:__consumer_offsets-13 __consumer_offsets-28 __consumer_offsets-38 __consumer_offsets-8 log-start-offset-checkpoint replication-offset-checkpoint__consumer_offsets-18 __consumer_offsets-3 __consumer_offsets-43 cleaner-offset-checkpoint meta.properties__consumer_offsets-23 __consumer_offsets-33 __consumer_offsets-48 first-0 recovery-point-offset-checkpointnode4/kafka-logs-Kafka4:__consumer_offsets-1 __consumer_offsets-21 __consumer_offsets-36 __consumer_offsets-6 first-1 recovery-point-offset-checkpoint__consumer_offsets-11 __consumer_offsets-26 __consumer_offsets-41 cleaner-offset-checkpoint log-start-offset-checkpoint replication-offset-checkpoint__consumer_offsets-16 __consumer_offsets-31 __consumer_offsets-46 first-0 meta.propertiesnode5/kafka-logs-Kafka5:__consumer_offsets-12 __consumer_offsets-22 __consumer_offsets-37 __consumer_offsets-7 log-start-offset-checkpoint replication-offset-checkpoint__consumer_offsets-17 __consumer_offsets-27 __consumer_offsets-42 cleaner-offset-checkpoint meta.properties__consumer_offsets-2 __consumer_offsets-32 __consumer_offsets-47 first-1 recovery-point-offset-checkpoint æŸ¥çœ‹zkä¸­çš„æ•°æ®ï¼Œèµ·ä¸€å°zkï¼Œæ‰§è¡ŒzkCli.sh, å†æ‰§è¡Œls /, å…¶ä¸­é™¤äº†zookeeperæ–‡ä»¶ä»¥å¤–ï¼Œå…¶ä»–çš„æ•°æ®éƒ½æ˜¯Kafkaçš„,éƒ¨åˆ†ç»ˆç«¯æ˜¾ç¤ºå¦‚ä¸‹ 123456789101112Welcome to ZooKeeper!2020-04-19 07:03:58,554 [myid:localhost:2181] - INFO [main-SendThread(localhost:2181):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:2181.2020-04-19 07:03:58,557 [myid:localhost:2181] - INFO [main-SendThread(localhost:2181):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)JLine support is enabled2020-04-19 07:03:58,638 [myid:localhost:2181] - INFO [main-SendThread(localhost:2181):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:41878, server: localhost/127.0.0.1:21812020-04-19 07:03:58,690 [myid:localhost:2181] - INFO [main-SendThread(localhost:2181):ClientCnxn$SendThread@1420] - Session establishment complete on server localhost/127.0.0.1:2181, session id = 0x1000223de0e000b, negotiated timeout = 30000WATCHER::WatchedEvent state:SyncConnected type:None path:null[zk: localhost:2181(CONNECTED) 0] ls /[admin, brokers, cluster, config, consumers, controller, controller_epoch, isr_change_notification, latest_producer_id_block, log_dir_event_notification, zookeeper] Kafkaæ¶æ„æ·±å…¥æ–‡ä»¶å‚¨å­˜é¢å‘ä¸»é¢˜ï¼Œæ¶ˆæ¯æŒ‰ç…§ä¸»é¢˜åˆ†ç±»ï¼Œç”Ÿäº§è€…ç”Ÿäº§æ¶ˆæ¯,æ¶ˆè´¹è€…æ¶ˆè´¹æ¶ˆæ¯ topicæ˜¯é€»è¾‘æ¦‚å¿µ, partitionæ˜¯ç‰©ç†æ¦‚å¿µï¼Œå› ä¸ºæ–‡ä»¶å¤¹æ˜¯ç”¨topic+parttitonå‘½åçš„æŸ¥çœ‹first-0çš„æ–‡ä»¶å†…å®¹, 0000.logå®é™…ä¸Šå­˜çš„æ˜¯æ•°æ®ï¼Œä¸æ˜¯æ—¥å¿— 12bash-4.4# ls00000000000000000000.index 00000000000000000000.log 00000000000000000000.timeindex leader-epoch-checkpoint Kafkaçš„é…ç½®æ–‡ä»¶ä¸­æœ‰è°ˆåˆ°, å³ä¸Šé¢çš„000000.logæœ€å¤šåªèƒ½ä¿å­˜1Gï¼Œå½“ä»–è¶…è¿‡1Gä»¥åï¼Œä¼šåˆ›å»ºæ–°çš„.log 12# The maximum size of a log segment file. When this size is reached a new log segment will be created.log.segment.bytes=1073741824 åˆ†ç‰‡å’Œç´¢å¼•12345600000000000000000000.index 00000000000000000000.log00000000000000170410.index 00000000000000170410.log00000000000000239430.index 00000000000000239430.log æ–‡ä»¶åå…¶å®å€¼å¾—æ˜¯å½“å‰ç‰‡æ®µ(segment)ä¸­æœ€å°çš„æ¶ˆæ¯çš„åç§»é‡ï¼Œlogåªå­˜æ•°æ®ï¼Œindexå­˜æ¶ˆæ¯åœ¨logä¸­çš„åç§»é‡ å½“æˆ‘ä»¬è¦å¯»æ‰¾æŸä¸ªæ¶ˆæ¯çš„æ—¶å€™ï¼Œå…ˆé€šè¿‡äºŒåˆ†æ¶ˆæ¯çš„ç¼–å·ï¼Œæ‰¾åˆ°è¯¥æ¶ˆæ¯å†å“ªä¸ªindexä¸­ï¼Œç”±äºindexä¸­çš„æ•°æ®éƒ½æ˜¯ç­‰é•¿çš„ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ç”¨ä¹˜æ³•å®šä½indexæ–‡ä»¶ä¸­çš„åç§»é‡ï¼Œç„¶åæ ¹æ®è¿™ä¸ªåç§»é‡å®šä½åˆ°logæ–‡ä»¶ä¸­çš„ä½ç½® ç”Ÿäº§è€…åˆ†åŒºæ–¹ä¾¿æ‰©å±•ï¼Œæé«˜å¹¶å‘ï¼Œå¯ä»¥æŒ‡å®šåˆ†åŒºå‘é€ï¼Œå¯ä»¥æŒ‡å®škeyå‘é€(keyè¢«hashæˆåˆ†åŒºå·)ï¼Œ å¯ä»¥ä¸æŒ‡å®šåˆ†åŒºä¸æŒ‡å®škeyå‘é€(ä¼šè¢«éšæœºæ•°è½®å¾ª) æ•°æ®å¯é æ€§ä¿è¯æ€ä¹ˆä¿è¯å¯é ï¼ŸKafkaéœ€è¦ç»™æˆ‘ä»¬è¿”å›å€¼ï¼Œä½†æ˜¯æ˜¯leaderå†™æˆåŠŸåè¿”å›è¿˜æ˜¯followeræˆåŠŸåè¿”å›å‘¢ï¼Ÿå“ªä¸ªç­–ç•¥å¥½å‘¢ï¼Ÿ å‰¯æœ¬æ•°æ®åŒæ­¥ç­–ç•¥ æ–¹æ¡ˆ ä¼˜ç‚¹ ç¼ºç‚¹ åŠæ•°ä»¥ä¸ŠåŒæ­¥åˆ™ack å»¶è¿Ÿä½ é€‰ä¸¾æ–°leaderçš„æ—¶å€™ï¼Œå®¹å¿nå°èŠ‚ç‚¹æ•…éšœï¼Œéœ€è¦2n+1ä¸ªå‰¯æœ¬ å®Œå…¨åŒæ­¥åˆ™ack é€‰ä¸¾æ–°leaderçš„æ—¶å€™ï¼Œå®¹å¿nå°èŠ‚ç‚¹æ•…éšœ,éœ€è¦n+1ä¸ªå‰¯æœ¬ å»¶è¿Ÿé«˜ Kafkaé€‰æ‹©äº†å®Œå…¨åŒæ­¥æ‰å‘é€ackï¼Œè¿™æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœåŒæ­¥çš„æ—¶å€™ï¼Œæœ‰ä¸€å°æœºå™¨å®•æœºäº†ï¼Œé‚£ä¹ˆæ°¸è¿œéƒ½ä¸ä¼šå‘é€ackäº† ISRin-sync replica set leader åŠ¨æ€ç»´æŠ¤äº†ä¸€ä¸ªåŠ¨æ€çš„ISRï¼Œåªè¦è¿™ä¸ªé›†åˆä¸­çš„æœºå™¨åŒæ­¥å®Œæˆï¼Œå°±å‘é€ackï¼Œé€‰ä¸¾ISRçš„æ—¶å€™ï¼Œæ ¹æ®èŠ‚ç‚¹çš„åŒæ­¥é€Ÿåº¦å’Œä¿¡æ¯å·®å¼‚çš„æ¡æ•°æ¥å†³å®šï¼Œåœ¨é«˜ç‰ˆæœ¬ä¸­åªä¿ç•™äº†åŒæ­¥é€Ÿåº¦ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿå»¶è¿Ÿä¸ºä»€ä¹ˆæ¯”æ•°æ®é‡è¦ï¼Ÿ ç”±äºç”Ÿäº§è€…æ˜¯æŒ‰ç…§æ‰¹æ¬¡ç”Ÿäº§çš„ï¼Œå¦‚æœæˆ‘ä»¬ä¿ç•™ä¿¡æ¯å·®å¼‚ï¼Œå½“ç”Ÿäº§è€…å‘é€å¤§é‡ä¿¡æ¯çš„æ—¶å€™ï¼Œç›´æ¥å°±æ‹‰å¼€äº†leaderå’Œfollowerçš„ä¿¡æ¯å·®å¼‚æ¡æ•°ï¼ŒåŒæ­¥å¿«çš„followeré¦–å…ˆæ‹‰å°äº†è‡ªå·±å’Œleaderä¿¡æ¯å·®å¼‚ï¼Œè¿™æ—¶å€™ä»–è¢«åŠ å…¥ISRï¼Œä½†æœ€ä¸€æ®µæ—¶é—´åä»–ä¼šè¢«åŒæ­¥æ…¢ä½†æ˜¯ï¼Œæœ€ç»ˆä¿¡æ¯å·®å¼‚å°çš„followerèµ¶å‡ºISRï¼Œè¿™å°±å¯¼è‡´äº†ISRé¢‘ç¹å‘ç”Ÿå˜åŒ–ï¼Œæ„å‘³ç€ZKä¸­çš„èŠ‚ç‚¹é¢‘ç¹å˜åŒ–ï¼Œè¿™ä¸ªé€‰æ‹©ä¸å¯å– acks ackçº§åˆ« æ“ä½œ æ•°æ®é—®é¢˜ 0 leaderæ”¶åˆ°åå°±è¿”å›ack brokeræ•…éšœå¯èƒ½ä¸¢å¤±æ•°æ® 1 leaderå†™å…¥ç£ç›˜åack åœ¨followeråŒæ­¥å‰çš„leaderæ•…éšœå¯èƒ½å¯¼è‡´ä¸¢å¤±æ•°æ® -1&#x2F;all ç­‰å¾…ISRçš„followerå†™å…¥ç£ç›˜åè¿”å›ack åœ¨followeråŒæ­¥åï¼Œbrokerå‘é€ackå‰ï¼Œleaderæ•…éšœåˆ™å¯¼è‡´æ•°æ®é‡å¤ acks&#x3D;-1ä¹Ÿä¼šä¸¢å¤±æ•°æ®,åœ¨ISRä¸­åªæœ‰leaderä¸€ä¸ªçš„æ—¶å€™å‘ç”Ÿ æ•°æ®ä¸€è‡´æ€§é—®é¢˜HW(High Watermark) é«˜æ°´ä½ï¼Œ é›†ç¾¤ä¸­æ‰€æœ‰èŠ‚ç‚¹éƒ½èƒ½æä¾›çš„æœ€æ–°æ¶ˆæ¯ LEO(Log End Offset) èŠ‚ç‚¹å„è‡ªèƒ½æä¾›çš„æœ€æ–°æ¶ˆæ¯ ä¸ºäº†ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ï¼Œæˆ‘ä»¬åªæä¾›HWçš„æ¶ˆè´¹ï¼Œå°±ç®—æ¶ˆæ¯ä¸¢äº†åï¼Œæ¶ˆè´¹è€…ä¹Ÿä¸çŸ¥é“ï¼Œä»–çœ‹èµ·æ¥å°±æ˜¯ä¸€è‡´æ€§çš„ leaderæ•…éšœå½“é‡æ–°é€‰æ‹©leaderåï¼Œä¸ºäº†ä¿è¯å¤šä¸ªå‰¯æœ¬ä¹‹é—´çš„æ•°æ®ä¸€è‡´æ€§ï¼Œä¼šé€šçŸ¥followerå°†å„è‡ªçš„logæ–‡ä»¶é«˜äºHWçš„åœ°æ–¹æˆªæ–­ï¼Œé‡æ–°åŒæ­¥ï¼Œè¿™é‡Œåªèƒ½ä¿è¯æ•°æ®ä¸€è‡´æ€§ï¼Œä¸èƒ½ä¿è¯æ•°æ®ä¸ä¸¢å¤±æˆ–è€…ä¸é‡å¤ ç²¾å‡†ä¸€è‡´æ€§(Exactly Once)ACKS ä¸º -1 åˆ™ä¸ä¼šä¸¢å¤±æ•°æ®ï¼Œå³Least Once ACKS ä¸º 1 åˆ™ç”Ÿäº§è€…çš„æ¯æ¡æ•°æ®åªå‘é€ä¸€æ¬¡ï¼Œ å³At Most Once ä»–ä»¬ä¸€ä¸ªä¸¢æ•°æ®ä¸€ä¸ªé‡å¤æ•°æ® å¹‚ç­‰æ€§å¼€å¯å¹‚ç­‰æ€§ï¼Œå°†Producerå‚æ•°ä¸­çš„enable.idompotenceè®¾ç½®ä¸ºtrueï¼ŒProducerä¼šè¢«åˆ†é…ä¸€ä¸ªPID(Producer ID)ï¼Œ å‘å¾€åŒä¸€ä¸ªPartitionçš„æ¶ˆæ¯ä¼šé™„å¸¦åºåˆ—å·ï¼Œè€ŒBrokerä¼šå¯¹PIDï¼ŒPartitionï¼ŒSeqNumberåšç¼“å­˜ï¼Œå½“å…·æœ‰ç›¸åŒçš„ä¸»é”®æ¶ˆæ¯æäº¤çš„æ—¶å€™ï¼ŒBrokeråªä¼šæŒä¹…åŒ–ä¸€æ¡ï¼Œä½†æ˜¯è¦æ³¨æ„PIDé‡å¯ä¼šå˜åŒ–ï¼Œä¸åŒçš„Partitionä¹Ÿæœ‰ä¸åŒçš„ä¸»é”®ï¼Œæ‰€ä»¥å¹‚ç­‰æ€§æ— æ³•ä¿è¯è·¨åˆ†åŒºä¼šè¯çš„Exactly Onceã€‚ æ¶ˆè´¹è€…åˆ†åŒºåˆ†é…ç­–ç•¥ä¸€ä¸ªconsumer groupä¸­æœ‰å¤šä¸ªconsumerï¼Œä¸€ä¸ªtopicä¸­æœ‰å¤šä¸ªpartitionï¼Œé‚£ä¹ˆæ€ä¹ˆåˆ†é…å‘¢ï¼Ÿ RoundRobinç­–ç•¥1234Topic1: x0,x1,x2Topic2: y0,y1,y2-&gt; [x0,y2,y1,y0,x1,x2] -&gt; [x0,y1,x1],[y2,y0,x2] æŠŠæ‰€æœ‰ä¸»é¢˜ä¸­çš„æ‰€æœ‰partitionæ”¾åˆ°ä¸€èµ·ï¼ŒæŒ‰ç…§hashå€¼æ’åºï¼Œç„¶åè½®å¾ªåˆ†é…ç»™æ¶ˆè´¹è€… è¿™æ ·å¤ªæ··ä¹±äº†ï¼Œä¸å¤ªå¥½ Rangeç­–ç•¥123Topic1: x0,x1,x2Topic2: y0,y1,y2-&gt; [x0,x1,y0,y1],[x2,y2] å¯¹äºæ¯ä¸ªä¸»é¢˜åˆ†å¼€è€ƒè™‘ï¼Œå„è‡ªæˆªå–ä¸€æ®µï¼Œåˆ†ç»™æ¶ˆè´¹è€…, è´Ÿè½½ä¸å‡è¡¡äº† é‡æ–°åˆ†é…å½“æ¶ˆè´¹è€…çš„ä¸ªæ•°å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œå°±ä¼šè§¦å‘é‡æ–°åˆ†é… offsetç»´æŠ¤æŒ‰ç…§æ¶ˆè´¹è€…ç»„ã€ä¸»é¢˜ã€åˆ†åŒºæ¥ç»´æŠ¤offsetï¼Œä¸èƒ½æŒ‰ç…§æ¶ˆè´¹è€…ç»´æŠ¤ï¼Œè¦æ˜¯è¿™æ ·å°±ä¸èƒ½è®©æ¶ˆè´¹è€…ç»„å…·æœ‰åŠ¨æ€æ€§è´¨äº†è¿›å…¥zkä¸­ 1234ls /brokers # æŸ¥çœ‹kafkaé›†ç¾¤ls /brokers/ids # æŸ¥çœ‹idsls /brokers/topics # æŸ¥çœ‹ä¸»é¢˜ls /consumers # æŸ¥çœ‹æ¶ˆè´¹è€…ç»„ æ¶ˆè´¹è€…ä¼šé»˜è®¤ç”Ÿæˆä¸€ä¸ªæ¶ˆè´¹è€…ç»„çš„ç¼–å·,å…¶ä¸­æœ‰offset&#x2F;mytopic&#x2F;0 å•æœºé«˜æ•ˆè¯»å†™é¡ºåºå†™ç£ç›˜å†™ç£ç›˜çš„æ—¶å€™ä¸€ç›´ä½¿ç”¨è¿½åŠ ï¼Œå®˜æ–¹æ•°æ®è¡¨æ˜åŒæ ·çš„ç£ç›˜ï¼Œé¡ºåºå†™å¯ä»¥è¾¾åˆ°600M&#x2F;sä½†æ˜¯éšæœºå†™åªæœ‰100K&#x2F;sï¼Œ é›¶æ‹·è´æŠ€æœ¯ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œç”¨æˆ·è¯»å–æ–‡ä»¶éœ€è¦æ“ä½œç³»ç»Ÿæ¥ååŠ©ï¼Œå…ˆè¯»åˆ°å†…æ ¸ç©ºé—´ï¼Œç„¶åè¯»åˆ°ç”¨æˆ·ç©ºé—´ï¼Œç„¶åå†™å…¥å†…æ ¸ç©ºé—´ï¼Œæœ€åå†™å…¥ç£ç›˜ï¼Œé›¶æ‹·è´æŠ€æœ¯å…è®¸ç›´æ¥å°†è¿™ä¸ªæ‹·è´å·¥ä½œäº¤ç»™æ“ä½œç³»ç»Ÿå®Œæˆ ZookeeperKafkaé›†ç¾¤ä¸­æœ‰ä¸€ä¸ªbrokerä¼šè¢«é€‰ä¸¾ä¸ºControllerï¼Œè´Ÿè´£ç®¡ç†é›†ç¾¤brokerçš„ä¸Šä¸‹çº¿ã€topicåˆ†åŒºå‰¯æœ¬åˆ†é…å’Œleaderé€‰ä¸¾ç­‰å·¥ä½œ Kafkaäº‹åŠ¡Produceräº‹åŠ¡å¼•å…¥å…¨å±€å”¯ä¸€çš„Transaction IDï¼Œæ›¿ä»£PIDï¼Œä¸ºäº†ç®¡ç†Transactionï¼ŒKafkaå¼•å…¥äº†Transaction Producerå’ŒTransaction Coordinatoräº¤äº’è·å¾—Transaction IDã€‚ Consumeräº‹åŠ¡ç›¸å¯¹å¼±ä¸€äº›ï¼Œç”¨æˆ·å¯ä»¥è‡ªå·±ä¿®æ”¹offsetæˆ–è€…è·¨segmentçš„æ¶ˆè´¹å¦‚æœå‡ºé”™å¹¶ä¸”ç­‰æ»¡7å¤©ä»¥åï¼Œsegmentè¢«åˆ é™¤äº†ï¼Œè¿™äº›éƒ½å¯¼è‡´é—®é¢˜ Kafka APIæ¶ˆæ¯å‘é€æµç¨‹Kafkaçš„Producerå‘é€æ¶ˆæ¯æ˜¯å¼‚æ­¥æ¶ˆæ¯ï¼Œä¸¤ä¸ªçº¿ç¨‹mainå’Œsenderï¼Œ å‘é€æ¶ˆæ¯çš„æ—¶å€™åˆ†ä¸‰æ­¥ï¼Œå…ˆç»è¿‡æ‹¦æˆªå™¨ï¼Œç„¶åç»è¿‡åºåˆ—åŒ–å™¨ï¼Œæœ€åç»è¿‡åˆ†åŒºå™¨ï¼Œæœ€åæ‰å‘å‡ºå» åˆ›å»ºkafkaé¡¹ç›®springinit é‡Œé¢é€‰æ‹©kafka 123456789101112131415# æŒ‡å®škafkaé›†ç¾¤bootstrap.servers=172.17.1.1:9092# ackåº”ç­”çº§åˆ«acks=all# é‡è¯•æ¬¡æ•°retries=3# æ‰¹æ¬¡å¤§å° 16K, å½“è¶…è¿‡16Kå°±æäº¤batch.size=16384# ç­‰å¾…æ—¶é—´ ï¼Œ å½“è¶…è¿‡1mså°±æäº¤linger.ms=1# RecordAccmulatorç¼“å†²åŒºå¤§å° 32Mbuffer.memory=33554432# key value çš„åºåˆ—åŒ–ç±»key.serializer=org.apache.kafka.serialization.StringSerializervalue.serializer=org.apache.kafka.serialization.StringSerializer 123456789101112131415161718192021222324252627282930package com.wsx.study.kafka.debug;import org.apache.kafka.clients.producer.KafkaProducer;import org.apache.kafka.clients.producer.ProducerRecord;import java.io.FileInputStream;import java.io.FileNotFoundException;import java.io.IOException;import java.util.Properties;public class Main &#123; public static void main(String[] args) &#123; // åˆ›å»ºKafkaç”Ÿäº§è€…é…ç½®ä¿¡æ¯ try &#123; Properties properties = new Properties(); FileInputStream in = new FileInputStream(&quot;KafkaProducer.properties&quot;); properties.load(in); in.close(); KafkaProducer&lt;String, String&gt; stringStringKafkaProducer = new KafkaProducer&lt;&gt;(properties); for (int i = 0; i &lt; 10; i++) &#123; stringStringKafkaProducer.send(new ProducerRecord&lt;&gt;(&quot;first&quot;, &quot;javarecord&quot; + i)); &#125; stringStringKafkaProducer.close(); &#125; catch (FileNotFoundException e) &#123; e.printStackTrace(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125;&#125; ç„¶ååˆ›å»ºæ¶ˆè´¹è€… 1kafka-console-consumer.sh --topic first --bootstrap-server localhost:9092 123456789101112131415# æŒ‡å®škafkaé›†ç¾¤bootstrap.servers=172.17.2.1:9092 # æ—¥äº†ç‹—äº†ï¼Œè¿™äº›macä¼¼ä¹ä¸è¡Œäº†# ackåº”ç­”çº§åˆ«acks=all# é‡è¯•æ¬¡æ•°retries=3# æ‰¹æ¬¡å¤§å° 16K, å½“è¶…è¿‡16Kå°±æäº¤batch.size=16384# ç­‰å¾…æ—¶é—´ ï¼Œ å½“è¶…è¿‡1mså°±æäº¤linger.ms=1# RecordAccmulatorç¼“å†²åŒºå¤§å° 32Mbuffer.memory=33554432# key value çš„åºåˆ—åŒ–ç±»key.serializer=org.apache.kafka.common.serialization.StringSerializervalue.serializer=org.apache.kafka.common.serialization.StringSerializer 12345678910111213141516171819202122232425262728293031323334package com.wsx.study.kafka.debug;import org.apache.kafka.clients.producer.KafkaProducer;import org.apache.kafka.clients.producer.ProducerRecord;import java.io.FileNotFoundException;import java.io.IOException;import java.io.InputStream;import java.util.Properties;public class Main &#123; public void test() &#123; // åˆ›å»ºKafkaç”Ÿäº§è€…é…ç½®ä¿¡æ¯ try &#123; Properties properties = new Properties(); InputStream in = getClass().getClassLoader().getResourceAsStream(&quot;KafkaProducer.properties&quot;); properties.load(in); assert in != null; in.close(); KafkaProducer&lt;String, String&gt; stringStringKafkaProducer = new KafkaProducer&lt;&gt;(properties); for (int i = 0; i &lt; 1; i++) &#123; stringStringKafkaProducer.send(new ProducerRecord&lt;&gt;(&quot;first&quot;, &quot;javarecord&quot; + i)); &#125; stringStringKafkaProducer.close(); &#125; catch (IOException e) &#123; e.printStackTrace(); &#125; &#125; public static void main(String[] args) &#123; new Main().test(); &#125;&#125; æ¶ˆè´¹è€…1234567for (int i = 0; i &lt; 1; i++) &#123; stringStringKafkaProducer.send(new ProducerRecord&lt;&gt;(&quot;first&quot;, &quot;javarecord&quot; + i), (recordMetadata, e) -&gt; &#123; if(e==null)&#123; System.out.println(recordMetadata.offset()+recordMetadata.offset()); &#125; &#125;);&#125; è‡ªå·±å†™åˆ†åŒºå™¨é…ç½®æ–‡ä»¶é…ç½®ä¸€ä¸‹å°±å¯ä»¥äº† 1234567891011121314151617class MyPartitioner implements Partitioner &#123; @Override public int partition(String s, Object o, byte[] bytes, Object o1, byte[] bytes1, Cluster cluster) &#123; return 0; &#125; @Override public void close() &#123; &#125; @Override public void configure(Map&lt;String, ?&gt; map) &#123; &#125;&#125; ç”Ÿäº§è€…åŒç†ï¼Œ 1234consumer.subscribe(Arrays.asList(&quot;first&quot;));while(true)&#123; ConsumerRecords&lt;String,Strings&gt; consumerRecods = consumer.poll(long timeout); // å»¶è¿Ÿ&#125; å¦‚ä½•â€“beginningauto.offset.reset å½“æ²¡æœ‰åˆå§‹offsetæˆ–è€…offsetè¢«åˆ é™¤äº†(æ•°æ®è¿‡æœŸ)å°±ä¼šå¯åŠ¨earliest,ä»æœ€è€çš„æ•°æ®å¼€å§‹æ¶ˆè´¹ï¼Œè¿™ä¸ªä¸œè¥¿ä¸æ˜¯0ï¼Œä»–å«earlistï¼Œæ˜¯æœ€æ—©ä¸æ˜¯å¼€å¤´ é»˜è®¤å€¼æ˜¯latestï¼Œ å› ä¸ºå‘½ä»¤è¡Œçš„åˆ›å»ºå‡ºæ¥çš„æ˜¯æ–°çš„æ¶ˆè´¹è€…ç»„ï¼Œæ‰€ä»¥å¯ç”¨äº†earliest æƒ³è¦é‡æ–°å¼€å§‹æ¶ˆè´¹ï¼Œè¦è®¾earlistä¸”æ¢æ–°çš„æ¶ˆè´¹è€…ç»„ offsetåŠ é€Ÿæ¶ˆè´¹è€…åªä¼šåœ¨å¯åŠ¨çš„æ—¶å€™æ‹‰å–ä¸€æ¬¡offsetï¼Œå¦‚æœæ²¡æœ‰è‡ªåŠ¨æäº¤offsetï¼Œé‚£ä¹ˆæ¶ˆè´¹è€…å°±ä¸ä¼šæäº¤ï¼Œè¿™ä¼šå¯¼è‡´æ•°æ®ä¸ä¸€è‡´ï¼Œå¦‚æœè¿™ä¸ªæ—¶å€™æ¶ˆè´¹è€…è¢«å¼ºåˆ¶ç»ˆæ­¢ï¼Œé‚£ä¹ˆä½ ä¸‹ä¸€æ¬¡è·‘è¿™ä¸ªä»£ç çš„æ—¶å€™ï¼Œè¿˜æ˜¯ä»ä¹‹å‰çš„offsetå¼€å§‹æ¶ˆè´¹ï¼Œé™¤éä½ æäº¤ enable.auto.commitå¯ä»¥æŒ‰æ—¶é—´æäº¤ æ‰‹åŠ¨æäº¤åŒæ­¥: å½“å‰çº¿ç¨‹ä¼šé˜»å¡ç›´åˆ°offsetæäº¤æˆåŠŸ å¼‚æ­¥: åŠ ä¸€ä¸ªå›è°ƒå‡½æ•°å°±å¯ä»¥ é—®é¢˜è‡ªåŠ¨æäº¤é€Ÿåº¦å¿«å¯èƒ½ä¸¢æ•°æ®ï¼Œæ¯”å¦‚æˆ‘è¿˜æ²¡å¤„ç†å®Œï¼Œä»–å°±æäº¤äº†ï¼Œç„¶åæˆ‘æŒ‚äº†ï¼Œæ•°æ®å°±ä¸¢äº†è‡ªåŠ¨æäº¤é€Ÿåº¦æ…¢å¯èƒ½é‡å¤æ•°æ®ï¼Œæˆ‘å¤„ç†å®Œäº†,ä»–è¿˜æ²¡æäº¤ï¼Œç„¶åæˆ‘æŒ‚äº†ï¼Œä¸‹æ¬¡åˆæ¥æ¶ˆè´¹ä¸€æ¬¡æ•°æ®æ‰‹åŠ¨æäº¤ä¹Ÿæœ‰è¿™äº›é—®é¢˜ è‡ªå®šä¹‰offsetç”±äºæ¶ˆæ¯å¾€å¾€å¯¹æ¶ˆè´¹è€…è€Œè¨€ï¼Œå¯èƒ½å­˜åœ¨æœ¬åœ°çš„sqlä¸­ï¼Œæ‰€ä»¥å°±å¯ä»¥å’Œæ•°æ®ä»¥å‰åšæˆä¸€ä¸ªäº‹åŠ¡ï¼Œ è¿™å¯ä»¥è§£å†³é—®é¢˜ï¼Œä½†æ˜¯ç¢°åˆ°äº†rebalaceé—®é¢˜ï¼Œå³å½“ä¸€ä¸ªæ¶ˆè´¹è€…æŒ‚äº†ä»¥åæ¶ˆæ¯èµ„æºè¦é‡æ–°åˆ†é…ï¼Œå€ŸåŠ©ConsumerRebalanceListenerï¼Œç‚¹è¿™é‡Œï¼Œ è‡ªå·±ç»´æŠ¤ä¸€ä¸ªæ¶ˆè´¹è€…ç»„æ•°æ®ã€è‡ªå·±å†™ä»£ç ï¼Œ(å¯æ€•) è‡ªå®šä¹‰æ‹¦æˆªå™¨configure è¯»å–é…ç½®ä¿¡æ¯ onSend(ProducerRecord) æ‹¦æˆª onAcknowledgement(RecordMetadata,Exception), è¿™ä¸ªå’Œä¸Šé¢çš„å›è°ƒå‡½æ•°ä¸€æ ·ï¼Œæ‹¦æˆªå™¨ä¹Ÿä¼šæ”¶åˆ°è¿™ä¸ªä¸œè¥¿ï¼Œ close æ‹¦æˆª ä¾‹å­ç°åœ¨æœ‰ä¸ªéœ€æ±‚ï¼Œæ¶ˆæ¯å‘é€å‰åœ¨æ¶ˆæ¯ä¸ŠåŠ ä¸Šæ—¶é—´æŒ«ï¼Œæ¶ˆæ¯å‘é€åæ‰“å°å‘é€æˆåŠŸæ¬¡æ•°å’Œå¤±è´¥æ¬¡æ•°æ—¶é—´æ‹¦æˆªå™¨ 1234567891011@Overridepublic ProducerRecord&lt;String, String&gt; onSend(ProducerRecord&lt;String, String&gt; producerRecord) &#123; // å–å‡ºæ•°æ® String value = producerRecord.value(); // åˆ›å»ºæ–°çš„ return new ProducerRecord&lt;String, String&gt;(producerRecord.topic(), producerRecord.partition(), producerRecord.timestamp(), producerRecord.key(), System.currentTimeMillis()+&quot;,&quot;+producerRecord.value(), producerRecord.headers());&#125; è®¡æ•°æ‹¦æˆªå™¨ 123456789101112131415161718192021222324252627282930class CountInterceptor implements ProducerInterceptor&lt;String, String&gt;&#123; int success = 0; int error = 0; @Override public ProducerRecord&lt;String, String&gt; onSend(ProducerRecord&lt;String, String&gt; producerRecord) &#123; return null; &#125; @Override public void onAcknowledgement(RecordMetadata recordMetadata, Exception e) &#123; if(e==null)&#123; success++; &#125;else&#123; error++; &#125; &#125; @Override public void close() &#123; System.out.println(&quot;success:&quot;+success); System.out.println(&quot;error:&quot;+error); &#125; @Override public void configure(Map&lt;String, ?&gt; map) &#123; &#125;&#125; æ³¨æ„å¦‚æœæ‹¦æˆªå™¨å¤ªå¤šï¼Œè€ƒè™‘ä½¿ç”¨æ‹¦æˆªå™¨é“¾ æ‹¦æˆªå™¨ã€åºåˆ—åŒ–å™¨ã€åˆ†åŒºå™¨éƒ½æ˜¯å¸è½½é…ç½®æ–‡ä»¶ä¸­çš„ Kafkaç›‘æ§Kafka Eagleä¿®æ”¹Kafkaçš„kafka-server-start.sh, å¯¹å…¶è¿›è¡Œä¿®æ”¹ï¼Œ 12if [&quot;x$KAFKA_HEAP_OPTS&quot; = &quot;x&quot;] then export KAFKA_HEAP_OPTS=&quot;-server -Xms2G -Xmx2G -XX:PermSize=128....&quot; ç„¶ååˆ†å‘è¿™ä¸ªæ–‡ä»¶ï¼Œå†ä¸Šä¼ kafka-eagle-bin-1.3.7.tar.gzåˆ°é›†ç¾¤çš„&#x2F;opt&#x2F;softwareä¸­, é…ç½®æ–‡ä»¶å¯ä»¥è·Ÿè¸ªå¤šä¸ªé›†ç¾¤ kafka.eagle.zk.cluster.alisa &#x3D; cluster1,cluster2 cluster1.zk.list&#x3D;ip:port,ip:port,â€¦ ä¿å­˜çš„ä½ç½® cluster1.kafka.eagle.offset.storage&#x3D;kafka ç›‘æ§å›¾è¡¨ kafka.eagle.metrics.charts&#x3D;true å¯åŠ¨ bin&#x2F;ke.sh start http://192.168.9.102:8048/ke æœ‰å¾ˆå¤šä¿¡æ¯éƒ½èƒ½çœ‹åˆ°ï¼Œ Kafkaé¢è¯•é¢˜Kafka çš„ISR OSR ARISR+OSR&#x3D;AR HW LEOé«˜æ°´ä½ï¼ŒLEO æ€ä¹ˆä½“ç°æ¶ˆæ¯çš„é¡ºåºåŒºå†…æœ‰åº åˆ†åŒºå™¨ã€åºåˆ—åŒ–å™¨ã€æ‹¦æˆªå™¨ç”Ÿäº§è€…çš„æ•´ä½“ç»“æ„ï¼Œå‡ ä¸ªçº¿ç¨‹æ¶ˆè´¹è€…ç»„ä¸­çš„æ¶ˆè´¹è€…ä¸ªæ•°è¶…è¿‡äº†topicå°±ä¼šæœ‰æ¶ˆè´¹è€…æ”¶ä¸åˆ°æ•°æ®å¯¹å—å¯¹çš„ æäº¤çš„æ˜¯offsetè¿˜æ˜¯offset+1æ˜¯offset+1 ä»€ä¹ˆæ—¶å€™é‡å¤æ¶ˆè´¹å…ˆå¤„ç†æ•°æ®åæäº¤ ä»€ä¹ˆæ—¶å€™æ¼æ¶ˆè´¹å…ˆæäº¤åå¤„ç†æ•°æ® åˆ›å»ºtopicèƒŒåçš„é€»è¾‘zkä¸­åˆ›å»ºæ–°çš„topicèŠ‚ç‚¹ï¼Œè§¦å‘controllerçš„ç›‘å¬ï¼Œcontrolleråˆ›å»ºtopicç„¶åæ›´æ–°metadata cache topicåˆ†åŒºå¯ä»¥å¢åŠ å—ï¼Ÿå¯ä»¥ï¼Œä¸å¯ä»¥å‡å°‘ kafkaå†…éƒ¨æœ‰topicå—æœ‰ä¸ªoffset kafkaåˆ†åŒºåˆ†é…çš„æ¦‚å¿µRodrobinå’Œrange æ—¥å¿—ç›®å½•ç»“æ„äºŒåˆ†-&gt;index-&gt;log kafka controllerçš„ä½œç”¨ç›¸å½“äºè€å¤§ï¼Œä»–æ˜¯å¹²æ´»çš„ï¼Œä»–å’Œzké€šä¿¡ï¼Œè¿˜é€šçŸ¥å…¶ä»–äºº kafkaä»€ä¹ˆæ—¶å€™é€‰ä¸¾é€‰controller,leader,ISR å¤±æ•ˆå‰¯æœ¬æ˜¯ä»€ä¹ˆè¿™ä¸ªé—®é¢˜å¾ˆå¥‡æ€ªï¼Œå¤§æ¦‚æ˜¯æƒ³è¯´é‡æ–°é€‰ä¸¾leaderçš„æ—¶å€™ï¼Œé‚£ä¸ªHWå˜åŒ– ä¸ºä»€ä¹ˆkafkaé«˜æ•ˆç‡é¡ºåºå†™+0æ‹·è´ æ¶æ„å‹æµ‹æœ‰ä¸€ä¸ª***perf-test.sh æ¶ˆæ¯ç§¯å‹ï¼Œæ¶ˆè´¹è€…æ¶ˆè´¹èƒ½åŠ›ä¸å¤Ÿæ€ä¹ˆåŠå¢åŠ topicåˆ†åŒºã€æé«˜æ¶ˆè´¹è€…ç»„çš„æ¶ˆè´¹è€…æ•°é‡ã€æé«˜æ¶ˆè´¹è€…æ¯æ¬¡æ‹‰å–çš„æ•°é‡(é»˜è®¤500) å‚è€ƒèµ„æ–™Kafkaæ•™ç¨‹ dockerå®‰è£…kafka","categories":[{"name":"é˜Ÿåˆ—","slug":"é˜Ÿåˆ—","permalink":"http://fightinggg.github.io/indigo/categories/%E9%98%9F%E5%88%97/"}],"tags":[]},{"title":"Docker-Zookeeperé›†ç¾¤éƒ¨ç½²","slug":"Zookeeper/Docker-Zookeeperé›†ç¾¤éƒ¨ç½²/index","date":"2020-04-18T10:22:19.000Z","updated":"2020-04-18T10:22:19.000Z","comments":true,"path":"Q8ZBH7.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8ZBH7.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial åˆ›å»ºå·¥ä½œç›®å½•123mkdir ~/DockerDesktopmkdir ~/DockerDesktop/Zookeepercd ~/DockerDesktop/Zookeeper","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial åˆ›å»ºå·¥ä½œç›®å½•123mkdir ~/DockerDesktopmkdir ~/DockerDesktop/Zookeepercd ~/DockerDesktop/Zookeeper åˆ›å»ºæŒ‚è½½ç›®å½•1234567mkdir node1 mkdir node1/datamkdir node1/datalogcp -r node1 node2cp -r node1 node3cp -r node1 node4cp -r node1 node5 åˆ›å»ºdocker-compose.yml1vim docker-compose.yml 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172version: &#x27;3&#x27;services: Zookeeper1: image: zookeeper hostname: Zookeeper1 volumes: # æŒ‚è½½æ•°æ® - ~/DockerDesktop/Zookeeper/node1/data:/data - ~/DockerDesktop/Zookeeper/node1/datalog:/datalog environment: ZOO_MY_ID: 1 ZOO_SERVERS: server.1=Zookeeper1:2888:3888;2181 server.2=Zookeeper2:2888:3888;2181 server.3=Zookeeper3:2888:3888;2181 server.4=Zookeeper4:2888:3888;2181 server.5=Zookeeper5:2888:3888;2181 networks: default: ipv4_address: 172.17.1.1 Zookeeper2: image: zookeeper hostname: Zookeeper2 volumes: # æŒ‚è½½æ•°æ® - ~/DockerDesktop/Zookeeper/node2/data:/data - ~/DockerDesktop/Zookeeper/node2/datalog:/datalog environment: ZOO_MY_ID: 2 ZOO_SERVERS: server.1=Zookeeper1:2888:3888;2181 server.2=Zookeeper2:2888:3888;2181 server.3=Zookeeper3:2888:3888;2181 server.4=Zookeeper4:2888:3888;2181 server.5=Zookeeper5:2888:3888;2181 networks: default: ipv4_address: 172.17.1.2 Zookeeper3: image: zookeeper hostname: Zookeeper3 volumes: # æŒ‚è½½æ•°æ® - ~/DockerDesktop/Zookeeper/node3/data:/data - ~/DockerDesktop/Zookeeper/node3/datalog:/datalog environment: ZOO_MY_ID: 3 ZOO_SERVERS: server.1=Zookeeper1:2888:3888;2181 server.2=Zookeeper2:2888:3888;2181 server.3=Zookeeper3:2888:3888;2181 server.4=Zookeeper4:2888:3888;2181 server.5=Zookeeper5:2888:3888;2181 networks: default: ipv4_address: 172.17.1.3 Zookeeper4: image: zookeeper hostname: Zookeeper4 volumes: # æŒ‚è½½æ•°æ® - ~/DockerDesktop/Zookeeper/node4/data:/data - ~/DockerDesktop/Zookeeper/node4/datalog:/datalog environment: ZOO_MY_ID: 4 ZOO_SERVERS: server.1=Zookeeper1:2888:3888;2181 server.2=Zookeeper2:2888:3888;2181 server.3=Zookeeper3:2888:3888;2181 server.4=Zookeeper4:2888:3888;2181 server.5=Zookeeper5:2888:3888;2181 networks: default: ipv4_address: 172.17.1.4 Zookeeper5: image: zookeeper hostname: Zookeeper5 volumes: # æŒ‚è½½æ•°æ® - ~/DockerDesktop/Zookeeper/node5/data:/data - ~/DockerDesktop/Zookeeper/node5/datalog:/datalog environment: ZOO_MY_ID: 5 ZOO_SERVERS: server.1=Zookeeper1:2888:3888;2181 server.2=Zookeeper2:2888:3888;2181 server.3=Zookeeper3:2888:3888;2181 server.4=Zookeeper4:2888:3888;2181 server.5=Zookeeper5:2888:3888;2181 networks: default: ipv4_address: 172.17.1.5networks: # è‡ªå®šä¹‰ç½‘ç»œ default: external: name: net17 è¿è¡Œ1docker-compose up -d æˆ‘ä»¬ä¸éš¾å‘ç°Zookeeper5æˆä¸ºäº†é›†ç¾¤çš„leaderï¼Œå…¶ä»–éƒ½éƒ½æˆä¸ºäº†follower 1234567891011121314151617Zookeeper5_1 | 2020-04-18 09:53:01,840 [myid:5] - INFO [QuorumPeer[myid=5](plain=0.0.0.0:2181)(secure=disabled):QuorumPeer@863] - Peer state changed: leading - broadcastZookeeper3_1 | 2020-04-18 09:53:01,871 [myid:3] - INFO [QuorumPeer[myid=3](plain=0.0.0.0:2181)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1Zookeeper1_1 | 2020-04-18 09:53:01,874 [myid:1] - INFO [QuorumPeer[myid=1](plain=0.0.0.0:2181)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1Zookeeper1_1 | 2020-04-18 09:53:01,876 [myid:1] - INFO [QuorumPeer[myid=1](plain=0.0.0.0:2181)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 1 worker threads.Zookeeper3_1 | 2020-04-18 09:53:01,875 [myid:3] - INFO [QuorumPeer[myid=3](plain=0.0.0.0:2181)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 1 worker threads.Zookeeper4_1 | 2020-04-18 09:53:01,874 [myid:4] - INFO [QuorumPeer[myid=4](plain=0.0.0.0:2181)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1Zookeeper4_1 | 2020-04-18 09:53:01,882 [myid:4] - INFO [QuorumPeer[myid=4](plain=0.0.0.0:2181)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 1 worker threads.Zookeeper2_1 | 2020-04-18 09:53:01,890 [myid:2] - INFO [QuorumPeer[myid=2](plain=0.0.0.0:2181)(secure=disabled):CommitProcessor@476] - Configuring CommitProcessor with readBatchSize -1 commitBatchSize 1Zookeeper2_1 | 2020-04-18 09:53:01,897 [myid:2] - INFO [QuorumPeer[myid=2](plain=0.0.0.0:2181)(secure=disabled):CommitProcessor@438] - Configuring CommitProcessor with 1 worker threads.Zookeeper1_1 | 2020-04-18 09:53:01,909 [myid:1] - INFO [QuorumPeer[myid=1](plain=0.0.0.0:2181)(secure=disabled):RequestThrottler@74] - zookeeper.request_throttler.shutdownTimeout = 10000Zookeeper4_1 | 2020-04-18 09:53:01,915 [myid:4] - INFO [QuorumPeer[myid=4](plain=0.0.0.0:2181)(secure=disabled):RequestThrottler@74] - zookeeper.request_throttler.shutdownTimeout = 10000Zookeeper3_1 | 2020-04-18 09:53:01,921 [myid:3] - INFO [QuorumPeer[myid=3](plain=0.0.0.0:2181)(secure=disabled):RequestThrottler@74] - zookeeper.request_throttler.shutdownTimeout = 10000Zookeeper2_1 | 2020-04-18 09:53:01,928 [myid:2] - INFO [QuorumPeer[myid=2](plain=0.0.0.0:2181)(secure=disabled):RequestThrottler@74] - zookeeper.request_throttler.shutdownTimeout = 10000Zookeeper1_1 | 2020-04-18 09:53:02,053 [myid:1] - INFO [QuorumPeer[myid=1](plain=0.0.0.0:2181)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcastZookeeper4_1 | 2020-04-18 09:53:02,056 [myid:4] - INFO [QuorumPeer[myid=4](plain=0.0.0.0:2181)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcastZookeeper3_1 | 2020-04-18 09:53:02,063 [myid:3] - INFO [QuorumPeer[myid=3](plain=0.0.0.0:2181)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcastZookeeper2_1 | 2020-04-18 09:53:02,068 [myid:2] - INFO [QuorumPeer[myid=2](plain=0.0.0.0:2181)(secure=disabled):QuorumPeer@863] - Peer state changed: following - broadcast","categories":[{"name":"Zookeeper","slug":"Zookeeper","permalink":"http://fightinggg.github.io/indigo/categories/Zookeeper/"}],"tags":[]},{"title":"SpringBoot4-Web3-SpringMVC","slug":"Language/Java/SpringBoot/SpringBoot4-Web3-SpringMVC/index","date":"2020-04-18T04:18:20.000Z","updated":"2020-04-18T04:18:20.000Z","comments":true,"path":"Q8YUMK.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8YUMK.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ‰©å±•SpringMVC123456789101112&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/mvc https://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt; &lt;mvc:view-controller path=&quot;/hello&quot; view-name=&quot;succcess&quot;&gt;&lt;/mvc:view-controller&gt; &lt;mvc:interceptors&gt; &lt;mvc:interceptor&gt; &lt;mvc:mapping path=&quot;/hello&quot;/&gt; &lt;bean&gt;&lt;/bean&gt; &lt;/mvc:interceptor&gt; &lt;/mvc:interceptors&gt;&lt;/beans&gt;","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ‰©å±•SpringMVC123456789101112&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/mvc https://www.springframework.org/schema/mvc/spring-mvc.xsd&quot;&gt; &lt;mvc:view-controller path=&quot;/hello&quot; view-name=&quot;succcess&quot;&gt;&lt;/mvc:view-controller&gt; &lt;mvc:interceptors&gt; &lt;mvc:interceptor&gt; &lt;mvc:mapping path=&quot;/hello&quot;/&gt; &lt;bean&gt;&lt;/bean&gt; &lt;/mvc:interceptor&gt; &lt;/mvc:interceptors&gt;&lt;/beans&gt; ç¼–å†™ä¸€ä¸ªé…ç½®ç±»ï¼ˆ@Configurationï¼‰,æ˜¯WebMvcConfigurerAdapterï¼Œä¸æ ‡æ³¨@EnableWebMvc 12345678910111213141516package com.wsx.springboothelloworld.config;import org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration;import org.springframework.context.annotation.Configuration;import org.springframework.web.servlet.config.annotation.ViewControllerRegistry;import org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport;import org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;@Configurationpublic class MyMvcConfig extends WebMvcConfigurerAdapter &#123; @Override public void addViewControllers(ViewControllerRegistry registry) &#123; super.addViewControllers(registry); registry.addViewController(&quot;/wsx&quot;).setViewName(&quot;templates_hello&quot;); &#125;&#125; åŸç†1234567891011121314@Configuration(proxyBeanMethods = false)@ConditionalOnWebApplication(type = Type.SERVLET)@ConditionalOnClass(&#123; Servlet.class, DispatcherServlet.class, WebMvcConfigurer.class &#125;)@ConditionalOnMissingBean(WebMvcConfigurationSupport.class)@AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE + 10)@AutoConfigureAfter(&#123; DispatcherServletAutoConfiguration.class, TaskExecutionAutoConfiguration.class, ValidationAutoConfiguration.class &#125;)public class WebMvcAutoConfiguration &#123; public static final String DEFAULT_PREFIX = &quot;&quot;; public static final String DEFAULT_SUFFIX = &quot;&quot;; private static final String[] SERVLET_LOCATIONS = &#123; &quot;/&quot; &#125;; é‡Œé¢ä¹Ÿæ˜¯è¿™ä¸ªç±»ï¼Œæ³¨æ„åˆä¸ªEnableWebMvcConfiguration 1234567891011// Defined as a nested config to ensure WebMvcConfigurer is not read when not// on the classpath@Configuration(proxyBeanMethods = false)@Import(EnableWebMvcConfiguration.class)@EnableConfigurationProperties(&#123; WebMvcProperties.class, ResourceProperties.class &#125;)@Order(0)public static class WebMvcAutoConfigurationAdapter implements WebMvcConfigurer &#123; private static final Log logger = LogFactory.getLog(WebMvcConfigurer.class); private final ResourceProperties resourceProperties; é™æ€èµ„æºæ˜ å°„ 123456789101112131415161718192021@Overridepublic void addResourceHandlers(ResourceHandlerRegistry registry) &#123; if (!this.resourceProperties.isAddMappings()) &#123; logger.debug(&quot;Default resource handling disabled&quot;); return; &#125; Duration cachePeriod = this.resourceProperties.getCache().getPeriod(); CacheControl cacheControl = this.resourceProperties.getCache().getCachecontrol().toHttpCacheControl(); if (!registry.hasMappingForPattern(&quot;/webjars/**&quot;)) &#123; customizeResourceHandlerRegistration(registry.addResourceHandler(&quot;/webjars/**&quot;) .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;) .setCachePeriod(getSeconds(cachePeriod)).setCacheControl(cacheControl)); &#125; String staticPathPattern = this.mvcProperties.getStaticPathPattern(); if (!registry.hasMappingForPattern(staticPathPattern)) &#123; customizeResourceHandlerRegistration(registry.addResourceHandler(staticPathPattern) .addResourceLocations(getResourceLocations(this.resourceProperties.getStaticLocations())) .setCachePeriod(getSeconds(cachePeriod)).setCacheControl(cacheControl)); &#125;&#125; 12345678910/** * Configuration equivalent to &#123;@code @EnableWebMvc&#125;. */@Configuration(proxyBeanMethods = false)public static class EnableWebMvcConfiguration extends DelegatingWebMvcConfiguration implements ResourceLoaderAware &#123; private final ResourceProperties resourceProperties; private final WebMvcProperties mvcProperties; ä»å®¹å™¨ä¸­è·å–æ‰€æœ‰çš„webmvcconfigurer,ç„¶åå…¨éƒ¨è°ƒç”¨ä¸€é 1234567891011121314151617/* * * @author Rossen Stoyanchev * @since 3.1 */@Configuration(proxyBeanMethods = false)public class DelegatingWebMvcConfiguration extends WebMvcConfigurationSupport &#123; private final WebMvcConfigurerComposite configurers = new WebMvcConfigurerComposite(); @Autowired(required = false) public void setConfigurers(List&lt;WebMvcConfigurer&gt; configurers) &#123; if (!CollectionUtils.isEmpty(configurers)) &#123; this.configurers.addWebMvcConfigurers(configurers); &#125; &#125; springmvcçš„è‡ªåŠ¨é…ç½®å’Œæˆ‘ä»¬çš„æ‰©å±•é…ç½®éƒ½ä¼šèµ·ä½œç”¨ å…¨é¢æ¥ç®¡mvcä¸è¦Springbootçš„mvcäº†ï¼Œå®Œå…¨è‡ªå·±æ¥ç®¡ï¼Œä½¿ç”¨@EnableWebMvcï¼Œé‚£ä¹ˆwebçš„è‡ªåŠ¨é…ç½®å…¨éƒ¨å¤±æ•ˆï¼Œç”šè‡³é™æ€èµ„æºéƒ½æ— æ³•ä½¿ç”¨ ä¸ºä»€ä¹ˆenablewebmvcå°±å…¨éƒ¨å¤±æ•ˆå‘¢123456@Retention(RetentionPolicy.RUNTIME)@Target(ElementType.TYPE)@Documented@Import(DelegatingWebMvcConfiguration.class)public @interface EnableWebMvc &#123;&#125; 1public class DelegatingWebMvcConfiguration extends WebMvcConfigurationSupport &#123; 123456789@Configuration(proxyBeanMethods = false)@ConditionalOnWebApplication(type = Type.SERVLET)@ConditionalOnClass(&#123; Servlet.class, DispatcherServlet.class, WebMvcConfigurer.class &#125;)@ConditionalOnMissingBean(WebMvcConfigurationSupport.class)@AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE + 10)@AutoConfigureAfter(&#123; DispatcherServletAutoConfiguration.class, TaskExecutionAutoConfiguration.class, ValidationAutoConfiguration.class &#125;)public class WebMvcAutoConfiguration &#123; å½“å®¹å™¨ä¸­æ²¡æœ‰WebMvcConfigurationSupportçš„æ—¶å€™ï¼Œè‡ªåŠ¨é…ç½®æ‰å¼€å§‹ç”Ÿæ•ˆï¼Œenablewebmvcå¸®æˆ‘ä»¬å¯¼å…¥äº†è¿™ä¸ªï¼Œæ‰€ä»¥å¤±æ•ˆäº† å¦‚ä½•ä¿®æ”¹SpringBootçš„é»˜è®¤é…ç½®springbootå…ˆçœ‹å®¹å™¨ä¸­æœ‰æ²¡æœ‰ç”¨æˆ·è‡ªå·±é…ç½®çš„ï¼Œå¦‚æœæœ‰å°±ç”¨ç”¨æˆ·é…ç½®çš„ï¼Œæ²¡æœ‰æ‰è‡ªåŠ¨é…ç½® åœ¨springbootä¸­æœ‰å¾ˆå¤šxxxConfiguierå¸®åŠ©æˆ‘ä»¬æ‰©å±•é…ç½®ï¼Œ åœ¨éªšä¸€ç‚¹1234567891011121314151617181920@Configuration//@EnableWebMvcpublic class MyMvcConfig extends WebMvcConfigurerAdapter &#123; @Override public void addViewControllers(ViewControllerRegistry registry) &#123; super.addViewControllers(registry); registry.addViewController(&quot;/wsx&quot;).setViewName(&quot;templates_hello&quot;); &#125; @Bean public WebMvcConfigurerAdapter webMvcConfigurerAdapter()&#123; return new WebMvcConfigurerAdapter() &#123; @Override public void addViewControllers(ViewControllerRegistry registry) &#123; registry.addViewController(&quot;/wsx2&quot;).setViewName(&quot;templates_hello&quot;); registry.addViewController(&quot;/wsx3&quot;).setViewName(&quot;templates_hello&quot;); &#125; &#125;; &#125;&#125; å¼•å…¥bootstrapçš„webjarså®˜ç½‘ 1234567&lt;!-- bootstrap--&gt; &lt;dependency&gt; &lt;groupId&gt;org.webjars&lt;/groupId&gt; &lt;artifactId&gt;bootstrap&lt;/artifactId&gt; &lt;version&gt;4.0.0&lt;/version&gt; &lt;/dependency&gt; @{&#x2F;webjars&#x2F;bootstrap&#x2F;4.0.0&#x2F;css&#x2F;bootstrap.css}è¿™ä¸ªè¯­æ³•å¾ˆå¥½ï¼Œå› ä¸ºå½“æˆ‘ä»¬çš„é¡¹ç›®åå­—å˜äº†çš„æ—¶å€™ï¼Œä¸éœ€è¦å»ä¿®æ”¹æ‰€æœ‰çš„urlï¼Œserver.context-path&#x3D;&#x2F;crud","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"SpringBoot","slug":"Language/Java/SpringBoot","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/SpringBoot/"}],"tags":[]},{"title":"macä¸­ping-dockerå®¹å™¨","slug":"Docker/macä¸­ping-dockerå®¹å™¨/index","date":"2020-04-17T17:28:04.000Z","updated":"2020-04-17T17:28:04.000Z","comments":true,"path":"Q8Y0IS.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8Y0IS.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 1brew cask install tunnelblick æ‰¾ä¸€ä¸ªç›®å½• 123git clone https://github.com/wojas/docker-mac-network.gitcd docker-mac-networkvim helpers/run.sh ä¿®æ”¹ç½‘æ®µå’Œæ©ç  1s|redirect-gateway.*|route 172.17.0.1 255.255.0.0|; æ‰§è¡Œ 1docker-compose up -d å¾—åˆ°ä¸€ä¸ªdocker-for-mac.ovpn åœ¨route 172.17.0.0 255.255.0.0 ä¸Šé¢åŠ  1comp-lzo yes åŒå‡»docker-for-mac.ovpn,ä¼šè¢«tunnelblickæ‰“å¼€ï¼Œä¸€ç›´ç‚¹ç¡®å®šå°±å¥½äº† å‚è€ƒmacè¿æ¥dockerå®¹å™¨ docker-mac-network docker-mac-network","categories":[{"name":"Docker","slug":"Docker","permalink":"http://fightinggg.github.io/indigo/categories/Docker/"}],"tags":[]},{"title":"Zookeeper","slug":"Zookeeper/Zookeeper/index","date":"2020-04-17T06:51:56.000Z","updated":"2020-04-17T06:51:56.000Z","comments":true,"path":"Q8X72K.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8X72K.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Zookeeperä»‹ç»Zookeeperæ˜¯ä¸€ä¸ªä¸ºåˆ†å¸ƒå¼åº”ç”¨æä¾›ä¸€è‡´æ€§æœåŠ¡çš„è½¯ä»¶ï¼Œæ˜¯Hadoopé¡¹ç›®çš„ä¸€ä¸ªå­é¡¹ç›®ï¼Œæ˜¯åˆ†å¸ƒå¼åº”ç”¨ç¨‹åºåè°ƒæœåŠ¡ Zookeeperå®‰è£…è¿™é‡Œæœ‰ä¸€ä¸ªä¸‹è½½åœ°å€,ä¹Ÿå¯ä»¥brew install zookeeperå®‰è£…è¿˜å¯ä»¥docker pull zookeeperå®‰è£…","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Zookeeperä»‹ç»Zookeeperæ˜¯ä¸€ä¸ªä¸ºåˆ†å¸ƒå¼åº”ç”¨æä¾›ä¸€è‡´æ€§æœåŠ¡çš„è½¯ä»¶ï¼Œæ˜¯Hadoopé¡¹ç›®çš„ä¸€ä¸ªå­é¡¹ç›®ï¼Œæ˜¯åˆ†å¸ƒå¼åº”ç”¨ç¨‹åºåè°ƒæœåŠ¡ Zookeeperå®‰è£…è¿™é‡Œæœ‰ä¸€ä¸ªä¸‹è½½åœ°å€,ä¹Ÿå¯ä»¥brew install zookeeperå®‰è£…è¿˜å¯ä»¥docker pull zookeeperå®‰è£… æˆ‘ä»¬è¿™é‡Œé‡‡å–dockerçš„æ–¹å¼ Zookeeperå•æœºå¯åŠ¨1docker run -d -p 2181:2181 --name zookeeper --restart always zookeeper 12docker exec -it zookeeper bash./bin/zkCli.sh ç„¶åæˆ‘ä»¬èƒ½çœ‹åˆ°ä¸‹é¢çš„è¾“å‡º, æˆ‘åªæˆªå–å‰å‡ è¡Œ 123Connecting to localhost:21812020-04-17 07:54:30,252 [myid:] - INFO [main:Environment@98] - Client environment:zookeeper.version=3.6.0--b4c89dc7f6083829e18fae6e446907ae0b1f22d7, built on 02/25/2020 14:38 GMT... è¾“å…¥quitå¯ä»¥é€€å‡º Zookeeperé›†ç¾¤å¯åŠ¨å˜¿å˜¿å˜¿ Zookeeperé…ç½®åœ¨confç›®å½•ä¸‹æœ‰é…ç½®æ–‡ä»¶zoo_sample.cfgå’Œlog4j.properties,ä»–ä»¬åˆ†åˆ«æ˜¯zooçš„é…ç½®æ–‡ä»¶æ¨¡ç‰ˆå’Œæ—¥å¿—é…ç½®ï¼Œæˆ‘ä»¬å¯ä»¥å°†zoo_sample.cfgæ”¹ä¸ºzoo.cfgï¼Œè¿™ä¸ªæ‰æ˜¯Zookeeperé»˜è®¤çš„é…ç½®æ–‡ä»¶ï¼Œå…¶ä¸­æœ‰å‡ ä¸ªåœ°æ–¹æ¯”è¾ƒé‡è¦ é…ç½® ä½œç”¨ tickTime&#x3D;2000 è¿™ä¸ªæ˜¯å¿ƒè·³æ—¶é—´é—´éš”ï¼Œå•ä½æ˜¯æ¯«ç§’ dataDir&#x3D; Zookeeperä¿å­˜æ•°æ®çš„ç›®å½•ï¼Œé»˜è®¤å°†æ—¥å¿—ä¹Ÿä¿å­˜åœ¨å…¶ä¸­ clientPort&#x3D;2181 å®¢æˆ·ç«¯è¿æ¥ZookeeperæœåŠ¡å™¨çš„ç«¯å£ initLimit&#x3D;5 å½“å®¢æˆ·ç«¯è¶…è¿‡5ä¸ªå¿ƒè·³é—´éš”ä»ç„¶ä¸æœåŠ¡å™¨è¿æ¥å¤±è´¥ï¼Œåˆ™è®¤ä¸ºä»–å®•æœº synLimit&#x3D;2 Leaderå’ŒFollowerä¹‹é—´å‘é€æ¶ˆæ¯çš„å“åº”ã€è¯·æ±‚æ—¶é—´é•¿åº¦ä¸èƒ½è¶…è¿‡çš„å¿ƒè·³é—´éš” server.1&#x3D;192.168.211.1:2888:3888 server.A&#x3D;B:C:D, Aæ˜¯æ•°å­—è¡¨ç¤ºæœåŠ¡å™¨ç¼–å·ï¼ŒBæ˜¯è¿™ä¸ªæœåŠ¡å™¨çš„ipï¼ŒCæ˜¯æœåŠ¡å™¨äºé›†ç¾¤leaderäº¤æµä¿¡æ¯çš„ç«¯å£ï¼ŒDæ˜¯Leaderå®•æœºä»¥åé€‰ä¸¾æ–°Leaderçš„ç«¯å£ Zookeeperæ•°æ®æ¨¡å‹Zookeeperä¼šç»´æŠ¤ä¸€ä¸ªå±‚æ¬¡æ•°æ®ç»“æ„ï¼Œä»–å°±åƒä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿä¸€æ ·, å‡‘åˆç€çœ‹å§ 1234567graph LR;a((/)) --&gt; b((/NameService));a((/)) --&gt; c((/Configuration));a((/)) --&gt; d((/GroupMembers));a((/)) --&gt; e((/Apps));b((/NameService)) --&gt; b1((/Server1))b((/NameService)) --&gt; b2((/Server2)) Zookeeperæ•°æ®ç»“æ„çš„ç‰¹ç‚¹ æ‰€æœ‰çš„ç›®å½•é¡¹éƒ½è¢«å«åšznodeï¼Œè¿™ä¸ªzndoeæ˜¯è¢«ä»–æ‰€åœ¨çš„è·¯å¾„å”¯ä¸€æ ‡è¯†ï¼Œ znodeåˆ†4ç±»ï¼ŒEPHEMERAL or PERSISTENT, SEQUENTIAL or N å¤§éƒ¨åˆ†znodeéƒ½å¯ä»¥æœ‰å­èŠ‚ç‚¹ï¼Œéƒ½å¯ä»¥å‚¨å­˜æ•°æ®ï¼Œ åªæœ‰EPHEMERALä¸å¯ä»¥æœ‰å­èŠ‚ç‚¹ znodeå‚¨å­˜çš„æ•°æ®å¯ä»¥æ‹¥æœ‰ç‰ˆæœ¬å· EPHEMERAL æ˜¯ä¸´æ—¶èŠ‚ç‚¹ï¼ŒæœåŠ¡å™¨å®¢æˆ·ç«¯ç”¨å¿ƒè·³æœºåˆ¶æ¥ä¿è¯é•¿è¿æ¥ï¼Œå¦‚æœå®¢æˆ·ç«¯å®•æœºï¼Œè¿™ä¸ªèŠ‚ç‚¹ä¼šè¢«åˆ é™¤ znodeå¯ä»¥è¢«ç›‘æ§ï¼Œæ˜¯ä¸€ç§è§‚å¯Ÿè€…æ¨¡å¼ï¼Œå®¢æˆ·ç«¯å¯ä»¥åœ¨ç›®å½•ä¸Šæ³¨å†Œè§‚å¯Ÿï¼Œå½“ç›®å½•å‘ç”Ÿå˜åŒ–ï¼Œå®¢æˆ·ç«¯ä¼šå¾—åˆ°é€šçŸ¥ ZookeeperæŒä¹…åŒ–Zookeeperçš„æ•°æ®åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æ˜¯å†…å­˜æ•°æ®ï¼Œå¦ä¸€éƒ¨åˆ†æ˜¯ç£ç›˜æ•°æ®ï¼Œå†…å­˜æ•°æ®æä¾›å¯¹å¤–æœåŠ¡ï¼Œç£ç›˜æ•°æ®ç”¨æ¥æ¢å¤å†…å­˜æ•°æ®ï¼Œç”¨æ¥åœ¨é›†ç¾¤æ±‡æ€»ä¸åŒèŠ‚ç‚¹é—´æ•°æ®çš„åŒæ­¥ï¼Œç£ç›˜æ•°æ®åŒ…æ‹¬å¿«ç…§å’Œäº‹åŠ¡æ—¥å¿—ï¼Œå¿«ç…§æ˜¯ç²—ç²’åº¦ï¼Œäº‹åŠ¡æ—¥å¿—æ˜¯ç»†ç²’åº¦ã€‚ Zookeeperæ•°æ®åŠ è½½å…ˆåŠ è½½å¿«ç…§ç„¶ååŠ è½½æ—¥å¿— å¿«ç…§ç”Ÿæˆçš„æ—¶æœºåŸºäºé˜ˆå€¼ï¼Œå¼•å…¥éšæœºå› ç´ ï¼Œæˆ‘ä»¬è¦é¿å…æ‰€æœ‰èŠ‚ç‚¹åŒæ—¶åˆ¶é€ å¿«ç…§ï¼Œè¿™ä¼šå¯¼è‡´æ¶ˆè€—å¤§é‡ç£ç›˜IOå’ŒCPUï¼Œé™ä½å¯¹å¤–æœåŠ¡èƒ½åŠ›ï¼Œå‚è§ä¸€ä¸ªå…¬å¼$$countLog&gt;snapCount&#x2F;2+randRoll$$è¿™é‡Œçš„countLogæ˜¯ç´¯è®¡æ‰§è¡Œçš„äº‹åŠ¡ä¸ªæ•°ï¼ŒsnapCountæ˜¯ä¸€ä¸ªé¢„å…ˆè®¾å®šçš„é˜ˆå€¼ï¼ŒrandRollæ˜¯ä¸€ä¸ªéšæœºæ•° äº‹åŠ¡æ—¥å¿—çš„å‚¨å­˜äº‹åŠ¡æ—¥å¿—æ˜¯ä¸æ–­å†™å…¥çš„ï¼Œä¼šè§¦å‘åº•å±‚ç£ç›˜IOï¼Œä¸ºäº†å‡å°‘åˆ†é…ç£ç›˜å—å¯¹å†™å…¥çš„å½±å“ï¼ŒZookeeperä½¿ç”¨é¢„åˆ†é…çš„ç­–ç•¥ï¼Œæ¯æ¬¡åˆ†é…64MB,å½“è¿™64MBçš„ç©ºé—´è¢«ä½¿ç”¨åˆ°åªå‰©ä¸‹4KBçš„æ—¶å€™ï¼Œå°±å¼€å§‹å†æ¬¡åˆ†é…ç©ºé—´äº† Zookeeperæ¶æ„**è¿‡åŠ:**å½“leaderå¹¿æ’­ä¸€ä¸ªäº‹åŠ¡æ¶ˆæ¯ä»¥åï¼Œæ”¶åˆ°äº†åŠæ•°ä»¥ä¸Šçš„ackï¼Œå°±è®¤ä¸ºé›†ç¾¤ä¸­æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½æ”¶åˆ°äº†æ¶ˆæ¯ï¼Œleaderä¸ä¼šç­‰å¾…å‰©ä½™èŠ‚ç‚¹çš„ackï¼Œç›´æ¥å¹¿æ’­commitæ¶ˆæ¯ï¼Œæäº¤äº‹åŠ¡ï¼Œé€‰ä¸¾æŠ•ç¥¨ä¸­ä¹Ÿæ˜¯å¦‚æ­¤ Zookeeperé›†ç¾¤ä¸­æœ‰3ç§è§’è‰² è§’è‰² ä»»åŠ¡ leader ä¸€ä¸ªé›†ç¾¤åªæœ‰ä¸€ä¸ªleaderï¼Œé€šè¿‡é€‰ä¸¾äº§ç”Ÿï¼Œè´Ÿè´£æ‰€æœ‰äº‹åŠ¡çš„å†™æ“ä½œï¼Œä¿è¯é›†ç¾¤äº‹åŠ¡å¤„ç†çš„é¡ºåºæ€§ follower å¤„ç†éäº‹åŠ¡è¯·æ±‚ï¼Œè½¬å‘äº‹åŠ¡ç»™leaderï¼Œå‚ä¸leaderé€‰ä¸¾æŠ•ç¥¨ï¼Œ observer æä¾›è¯»å–æœåŠ¡ï¼Œä¸å‚ä¸æŠ•ç¥¨ Zookeeperä¸€è‡´æ€§åè®® é›†ç¾¤åœ¨åŠæ•°ä»¥ä¸‹èŠ‚ç‚¹å®•æœºçš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿæ­£å¸¸å¯¹å¤–æä¾›æœåŠ¡ å®¢æˆ·ç«¯çš„å†™è¯·æ±‚å…¨éƒ¨è½¬äº¤ç»™leaderå¤„ç†ï¼Œä»¥ç¡®ä¿å˜æ›´èƒ½å®æ—¶åŒæ­¥åˆ°æ‰€æœ‰çš„followerå’Œobserver leaderå®•æœºæˆ–è€…æ•´ä¸ªé›†ç¾¤é‡å¯çš„æ—¶å€™ï¼Œè¦ç¡®ä¿åœ¨leaderä¸Šæäº¤çš„äº‹åŠ¡æœ€ç»ˆè¢«æ‰€æœ‰æœåŠ¡å™¨æäº¤ï¼Œç¡®ä¿åªåœ¨leaderä¸Šæå‡ºå•æœªè¢«æäº¤çš„äº‹åŠ¡è¢«ä¸¢å¼ƒ Zookeeperé€‰ä¸»å½“é›†ç¾¤ä¸­çš„æœåŠ¡å™¨åˆå§‹åŒ–å¯åŠ¨æˆ–è€…è¿è¡ŒæœŸæ— æ³•ä¸leaderä¿æŒè¿æ¥çš„æ—¶å€™ï¼Œä¼šè§¦å‘é€‰ä¸»ï¼ŒæŠ•ç¥¨è€…ä»¬æ··çº¿ä¼ é€’æŠ•ç¥¨çš„ä¿¡æ¯ï¼ŒåŒ…å«äº†è¢«æ¨ä¸¾çš„leaderçš„æœåŠ¡idã€äº‹åŠ¡zxidã€é€»è¾‘æ—¶é’Ÿã€é€‰ä¸¾çŠ¶æ€ï¼Œæ˜¾ç„¶è¦é€‰ä¸¾äº‹åŠ¡zxidæœ€å¤§çš„é‚£ä¸ª,å¦‚æœäº‹åŠ¡idç›¸åŒï¼Œå°±é€‰æ‹©æœåŠ¡idæœ€å¤§çš„é‚£ä¸ª å¹¿æ’­çš„æ—¶å€™æ¯å½“å¤–è¾¹ä¼ å…¥çš„(id,zxid)æ¯”è‡ªå·±å†…å­˜ä¸­çš„è¦ä¼˜çš„æ—¶å€™ï¼Œå°±æ›´æ–°è‡ªå·±çš„æ•°æ®ï¼Œç„¶åå‘å¤–å¹¿æ’­[^ç†è§£zookeeperé€‰ä¸¾æœºåˆ¶] è¿™é‡Œæœ‰ä¸€ä¸ªæœ‰æ„æ€çš„ä¸œè¥¿ï¼Œæˆ‘ä»¬ä»€ä¹ˆæ—¶å€™é€‰ä¸¾ç»“æŸå‘¢ï¼Ÿ å½“ä¸€ä¸ª(id,zxid)è¢«è¶…è¿‡åŠæ•°çš„èŠ‚ç‚¹æ‰€é€‰ä¸¾çš„æ—¶å€™ï¼Œå®ƒå°±æœ‰åŠ›æ‹…å½“leaderï¼Œä¸ºä»€ä¹ˆæ˜¯åŠæ•°ï¼Ÿå› ä¸ºZookeeperé›†ç¾¤çš„æ¯ä¸€æ¡äº‹åŠ¡ï¼Œéƒ½æ˜¯åœ¨è¶…è¿‡åŠæ•°ackçš„æƒ…å†µä¸‹æ‰èƒ½è¢«leaderæäº¤ï¼Œæ‰€ä»¥å¦‚æœä¸€ä¸ªèŠ‚ç‚¹åœ¨åŠæ•°ä¸­ä¸ºæœ€ä¼˜ï¼Œé‚£ä¹ˆå®ƒä¸€å®šæ˜¯æœ€ä¼˜è€…ä¹‹ä¸€ è¿™å°±å¥½æ¯”ä¸€ä¸ªæ•°åˆ—ï¼Œæ•°åˆ—ä¸­çš„æœ€å¤§å€¼çš„æ•°é‡è¶…è¿‡äº†åŠæ•°ï¼Œé‚£ä¹ˆè¯¥åºåˆ—çš„ä»»ä½•ä¸€ä¸ªå…ƒç´ ä¸ªæ•°è¶…è¿‡ä¸€åŠçš„å­åºåˆ—çš„æœ€å€¼ï¼Œä¸€å®šç­‰äºæ•´ä¸ªåºåˆ—çš„æœ€å€¼ã€‚æ¯”æ–¹æœ‰ä¸€ä¸ªåºåˆ—[1,2,3,5,5,5,5], ä½ åœ¨å…¶ä¸­é€‰æ‹©è‡³å°‘4ä¸ªæ•°ï¼Œé‚£ä¹ˆä»–ä»¬ä¸­çš„æœ€å¤§å€¼ä¸€å®šæ˜¯5ï¼Œå…¶å®å°±æ˜¯é¸½å·¢åŸç† å¦ä¸€æ–¹é¢é€‰ä¸»çš„æ—¶å€™ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ä¸‰ä¸ªçº¿ç¨‹ï¼Œä¸€ä¸ªè´Ÿè´£æ¥æ”¶æŠ•ç¥¨å¹¶æ”¾å…¥é˜Ÿåˆ—ï¼Œå¦ä¸€ä¸ªç”¨äºå‘é€æŠ•ç¥¨ä¿¡æ¯ï¼Œè¿˜æœ‰ä¸€ä¸ªç”¨äºå¤–éƒ¨æŠ•ç¥¨åŒè‡ªå·±çš„ä¿¡æ¯æ¯”è¾ƒï¼Œé€‰å‡ºæ–°çš„ç»“æœ Zookeeperé€‰ä¸»åçš„åŒæ­¥è¿™é‡Œçš„æ•°æ®ä¸ä¸€è‡´å¯èƒ½æœ‰ä¸¤ç§ï¼Œè¦ä¹ˆæ¯”leaderæ—§ï¼Œè¦ä¹ˆæ¯”leaderæ–°ï¼Œæ—§çš„è¯åŒæ­¥å³å¯ï¼Œæ–°çš„è¯æ’¤é”€è¿™ä¸ªæœªæäº¤çš„äº‹åŠ¡å³å¯, ä¸¤ä¸ªä¸ä¸€è‡´æ€§çš„åŸå› è¿™é‡Œæœ‰è°ˆåˆ°[^åˆ†æZookeeperçš„ä¸€è‡´æ€§åŸç†] ä¸¤é˜¶æ®µæäº¤äº‹åŠ¡ç”±leaderå‘èµ·ï¼Œfolloweræ‰§è¡Œï¼Œç„¶åè¿”å›ackï¼Œæœ€ç»ˆç”±leaderå†³å®šæ˜¯å¦æäº¤ã€‚ Zookeeperçš„åº”ç”¨ç»Ÿä¸€å‘½åæœåŠ¡è·¯å¾„å°±æ˜¯åå­— é…ç½®ç®¡ç†æˆ‘ä»¬çš„é›†ç¾¤ï¼Œæ¯å°æœºå™¨éƒ½æœ‰è‡ªå·±çš„é…ç½®æ–‡ä»¶ï¼Œè¿™ä¼šéå¸¸éš¾ä»¥ç»´æŠ¤ï¼Œå®é™…ä¸Šæˆ‘ä»¬ä¼šæŠŠé…ç½®æ–‡ä»¶å‚¨å­˜åœ¨Zookeeperçš„æŸä¸ªç›®å½•èŠ‚ç‚¹ä¸­ï¼Œè®©é›†ç¾¤çš„æ¯å°æœºå™¨éƒ½æ³¨å†Œè¯¥èŠ‚ç‚¹çš„è§‚å¯Ÿï¼Œå½“é…ç½®æ–‡ä»¶å‘ç”Ÿæ”¹å˜çš„æ—¶å€™ï¼Œè¿™äº›æœºå™¨éƒ½ä¼šçš„å¾—åˆ°é€šçŸ¥ï¼Œç„¶åä»Zookeeperæ›´æ–°è‡ªå·±çš„é…ç½®æ–‡ä»¶ã€‚ é›†ç¾¤ç®¡ç†æˆ‘ä»¬çš„é›†ç¾¤éœ€è¦æœ‰ä¸€ä¸ªæ€»ç®¡çŸ¥é“é›†ç¾¤ä¸­æ¯å°æœºå™¨çš„çŠ¶æ€ï¼Œå½“ä¸€äº›æœºå™¨å‘ç”Ÿæ•…éšœæˆ–è€…æ–°æ·»åŠ æœºå™¨çš„æ—¶å€™ï¼Œæ€»ç®¡å¿…é¡»çŸ¥é“ï¼Œè¿™å°±å¯ä»¥ç”¨Zookeeperç®¡ç† ç”šè‡³å½“æ€»ç®¡å®•æœºä»¥åï¼ŒZookeeperèƒ½å¤Ÿé‡æ–°é€‰å‡ºæ€»ç®¡ï¼Œæ€»ç®¡ä¼šåœ¨Zookeeperä¸­åˆ›å»ºä¸€ä¸ªEPHEMERALç±»å‹çš„ç›®å½•èŠ‚ç‚¹ï¼Œæ¯ä¸ªServerä¼šæ³¨å†Œè¿™ä¸ªèŠ‚ç‚¹çš„watchï¼Œæ€»ç®¡æ­»å»çš„æ—¶å€™ï¼Œè¿™ä¸ªç›®å½•ä¼šè¢«åˆ é™¤ï¼Œæ‰€æœ‰çš„å­èŠ‚ç‚¹éƒ½ä¼šæ”¶åˆ°é€šçŸ¥ï¼Œè¿™æ—¶å¤§å®¶éƒ½çŸ¥é“æ€»ç®¡å®•æœºäº†ï¼Œé›†ç¾¤é»˜è®¤ä¼šé€‰æ‹©æ¥å¾…ä½ ç¼–å·æœ€å°çš„Serverä½œä¸ºæ–°çš„Masterã€‚ åˆ†å¸ƒå¼é”åŒæ ·ï¼Œæˆ‘ä»¬è®©ç¬¬ä¸€ä¸ªåˆ›å»ºæŸç›®å½•æˆåŠŸçš„æœºå™¨è·å¾—é”ï¼Œå…¶ä»–æœºå™¨åœ¨å…¶å­ç›®å½•ä¸‹åˆ›å»ºæ–°çš„ç›®å½•èŠ‚ç‚¹ï¼Œå½“å®ƒéœ€è¦é‡Šæ”¾é”çš„æ—¶å€™ï¼Œåªéœ€è¦åˆ é™¤ç›®å½•ï¼Œç„¶åè®©å­èŠ‚ç‚¹ä¸­ç¼–å·æœ€å°çš„èŠ‚ç‚¹ä½œæ–‡æ–°çš„ç›®å½•è·å¾—é”ï¼Œå…¶ä»–èŠ‚ç‚¹ç»§ç»­è·Ÿéšå³å¯ã€‚ é˜Ÿåˆ—ç®¡ç†åŒæ­¥é˜Ÿåˆ—ï¼Œå³å½“æ‰€æœ‰æˆå‘˜è¾¾åˆ°æŸä¸ªæ¡ä»¶æ˜¯ï¼Œæ‰èƒ½ä»¥å‰å‘åæ‰§è¡Œï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåŒæ­¥ç›®å½•ï¼Œæ¯å½“ä¸€ä¸ªæˆå‘˜æ»¡è¶³æ¡ä»¶ï¼Œå°±å»Zookeeperä¸Šæ³¨å†ŒèŠ‚ç‚¹ï¼Œå¦‚æœå½“å‰èŠ‚ç‚¹çš„ä¸ªæ•°è¾¾åˆ°nï¼Œå°±åˆ›å»ºstartèŠ‚ç‚¹ï¼Œå¦åˆ™æ³¨å†Œwatchï¼Œç­‰å¾…startèŠ‚ç‚¹è¢«åˆ›å»ºï¼Œå½“å…¶è¢«åˆ›å»ºå°±ä¼šæ”¶åˆ°é€šçŸ¥ï¼Œç„¶åæ‰§è¡Œè‡ªå·±çš„äº‹æƒ… FIFOé˜Ÿåˆ—ï¼Œ å¦‚ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹ï¼Œåˆ›å»ºå­ç›®å½•&#x2F;queue,å½“ç”Ÿäº§è€…ç”Ÿäº§å‡ºä¸œè¥¿çš„æ—¶å€™ï¼Œåœ¨&#x2F;queueä¸Šåˆ›å»ºæ–°èŠ‚ç‚¹ï¼Œå½“æ¶ˆè´¹è€…éœ€è¦æ¶ˆè´¹çš„æ—¶å€™ï¼Œä»å½“å‰ç›®å½•å»é™¤ç¼–å·æœ€å°çš„èŠ‚ç‚¹å³å¯ å‚è€ƒèµ„æ–™Dockerä¸‹å®‰è£…zookeeperï¼ˆå•æœº &amp; é›†ç¾¤ï¼‰ ZooKeeperå­¦ä¹  ä¸€:å®‰è£… zookeeperä½¿ç”¨å’ŒåŸç†æ¢ç©¶ åˆ†å¸ƒå¼æœåŠ¡æ¡†æ¶ Zookeeper â€” ç®¡ç†åˆ†å¸ƒå¼ç¯å¢ƒä¸­çš„æ•°æ® macå®‰è£…çš„dockeræ›¿æ¢é•œåƒ ZookeeperæŒä¹…åŒ–åŸç† ZooKeeper æŠ€æœ¯å†…å¹•ï¼šæ•°æ®çš„å­˜å‚¨(æŒä¹…åŒ–æœºåˆ¶) Zookeeper-æŒä¹…åŒ– åˆ†æZookeeperçš„ä¸€è‡´æ€§åŸç† ç†è§£zookeeperé€‰ä¸¾æœºåˆ¶","categories":[],"tags":[]},{"title":"ç¾å›¢ç¬”è¯•","slug":"å®ä¹ /ç¬”è¯•/ç¾å›¢ç¬”è¯•/index","date":"2020-04-16T14:51:23.000Z","updated":"2020-04-16T14:51:23.000Z","comments":true,"path":"Q8VYLN.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8VYLN.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 2020/4/16ç¾å›¢ç¬”è¯• ä¸å¤šè¯´ï¼Œç¾å›¢çš„é¢˜çœŸçš„å‡ºçš„å¥½ï¼Œå°½ç®¡æˆ‘æ²¡æœ‰åšå®Œï¼Œä½†æ˜¯ä½“éªŒæŒºå¥½çš„ã€‚ # ç¬¬ä¸€é¢˜ nä¸ªäººï¼Œæ¯ä¸ªäººmä¸ªç§‘ç›®ï¼Œåªè¦ä¸€ä¸ªäººæŸç§‘æ˜¯æœ€é«˜åˆ†æˆ–è€…æœ€é«˜åˆ†ä¹‹ä¸€ï¼Œæˆ‘ä»¬å°±è¦ä¸ºä»–é¢å¥–ï¼Œæ¯ä¸ªäººæœ€å¤šé¢å¥–ä¸€æ¬¡ï¼Œé—®æœ€éœ€è¦å¤šå°‘æ¬¡é¢å¥– ç»Ÿè®¡æœ€å€¼å°±okäº† # ç¬¬äºŒé¢˜ è¾“å…¥a,b,x,m, ä½ è®²è¿›è¡Œä¸æ–­çš„è¿­ä»£x = (a*x+b)%m, é—®xçš„å¾ªç¯èŠ‚æ˜¯å¤šå°‘ï¼Œ m&lt;1e5 æš´åŠ›æšä¸¾2*mè½®ï¼Œæšä¸¾çš„æ—¶å€™","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 2020/4/16ç¾å›¢ç¬”è¯• ä¸å¤šè¯´ï¼Œç¾å›¢çš„é¢˜çœŸçš„å‡ºçš„å¥½ï¼Œå°½ç®¡æˆ‘æ²¡æœ‰åšå®Œï¼Œä½†æ˜¯ä½“éªŒæŒºå¥½çš„ã€‚ # ç¬¬ä¸€é¢˜ nä¸ªäººï¼Œæ¯ä¸ªäººmä¸ªç§‘ç›®ï¼Œåªè¦ä¸€ä¸ªäººæŸç§‘æ˜¯æœ€é«˜åˆ†æˆ–è€…æœ€é«˜åˆ†ä¹‹ä¸€ï¼Œæˆ‘ä»¬å°±è¦ä¸ºä»–é¢å¥–ï¼Œæ¯ä¸ªäººæœ€å¤šé¢å¥–ä¸€æ¬¡ï¼Œé—®æœ€éœ€è¦å¤šå°‘æ¬¡é¢å¥– ç»Ÿè®¡æœ€å€¼å°±okäº† # ç¬¬äºŒé¢˜ è¾“å…¥a,b,x,m, ä½ è®²è¿›è¡Œä¸æ–­çš„è¿­ä»£x = (a*x+b)%m, é—®xçš„å¾ªç¯èŠ‚æ˜¯å¤šå°‘ï¼Œ m&lt;1e5 æš´åŠ›æšä¸¾2*mè½®ï¼Œæšä¸¾çš„æ—¶å€™ 12345for(int i=0;i&lt;2*m;i++)&#123; x = (a*x+b)%m; pre[x]=i;&#125;cout&lt;&lt;2*m-pre[(a*x+b)%m]&lt;&lt;endl; # ç¬¬ä¸‰é¢˜ æœ‰ä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•°ç»„ï¼Œå°†ä»–ä»¬ä¸¤ä¸¤ç»„åˆä¸ºæ•°å¯¹ï¼Œä¼šå¾—åˆ°$n^2$ä¸ªæ•°å¯¹ï¼Œæ•°å¯¹æ¯”å¤§å°çš„æ—¶å€™å…ˆæ¯”è¾ƒç¬¬ä¸€ä¸ªå€¼ï¼Œå¦‚æœç¬¬ä¸€ä¸ªå€¼ç›¸åŒï¼Œåˆ™æŒ‰ç…§ç¬¬äºŒä¸ªå€¼æ’åºï¼Œé—®æ’åç¬¬kçš„æ•°å¯¹æ˜¯å“ªä¸€ä¸ª æˆ‘äºŒåˆ†ç­”æ¡ˆçš„ï¼Œå…ˆäºŒåˆ†ç¬¬ä¸€ä¸ªå€¼ï¼Œç„¶åäºŒåˆ†ç¬¬äºŒä¸ªå€¼,åƒä¸‡æ³¨æ„å­˜åœ¨æ•°å€¼ç›¸åŒçš„æƒ…å†µ, æˆ‘ä»¬è€ƒè™‘æ•°å¯¹(x,y)çš„æœ€å¤§æ’åï¼Œæ˜¾ç„¶æˆ‘ä»¬ç”¨upper_boundæ‰¾åˆ°xå’Œyçš„ä½ç½®ï¼Œç„¶ålower_boundxçš„ä½ç½®ï¼Œç„¶åå°±èƒ½æ ¹æ®è¿™ä¸‰ä¸ªå€¼ç®—å‡º(x,y)çš„æ’åäº† ç¬¬å››é¢˜ä¼ªä¸­ä½æ•°ï¼Œ æˆ‘ä»¬å®šä¹‰æ’åä¸º$\\lfloor\\frac{n+1}{2}\\rfloor$çš„æ•°ä¸ºä¼ªä¸­ä½æ•°ï¼Œç»™ä½ ä¸€ä¸ªæ•°ç»„a[]å’Œä¸€ä¸ªæ•°k,é—®ä½ è‡³å°‘åœ¨aä¸­æ·»åŠ å¤šå°‘ä¸ªæ•°ä¸€ä¸ªkæˆäº†a[]çš„ä¼ªä¸­ä½æ•°ï¼Œæˆ‘ä»¬ç»Ÿè®¡å°äºkçš„æ•°xä¸ªï¼Œå¤§äºkçš„æ•°yä¸ªï¼Œç„¶åæ‰§è¡Œä¸‹é¢çš„ç¨‹åºï¼Œå»æ¨¡æ‹Ÿè¿™ä¸ªè¿‡ç¨‹ï¼Œä¸çŸ¥é“ä¸ºå•¥ï¼Œæˆ‘è¿™é¢˜æ²¡æœ‰é€šè¿‡ï¼Œå¡åœ¨äº†56%çš„ä½ç½®,æŒºé—æ†¾çš„,å°±å·®ä¸€ç‚¹ç‚¹å°±AKäº† 123456789101112131415161718x // å°äºkçš„æ•°çš„ä¸ªæ•°y // å¤§äºkçš„æ•°çš„ä¸ªæ•°n // æ•°ç»„é•¿åº¦int f(int x,int y,int n)&#123; while(x+y&lt;n-1)&#123; if(x&lt;y) x++; else y++; &#125; int ans = 0; while(true)&#123; if(x==y)break; if(x==y-1)break; if(x&lt;y) x++; else y++; ans++; &#125; cout&lt;&lt;ans&lt;&lt;endl;&#125; ç¬¬äº”é¢˜è¾“å…¥ä¸²Så’ŒTï¼Œåœ¨Sä¸­é€‰ä¸€ä¸ªå­åºåˆ—sï¼Œåœ¨Tä¸­é€‰ä¸€ä¸ªå­ä¸²tï¼Œé—®æœ‰å¤šå°‘ä¸ªé€‰æ³•ï¼Œä½¿å¾—s&#x3D;tï¼Œç­”æ¡ˆå¯¹1e9+7å–æ¨¡è®¾dp[i][j]ä¸ºS[0:i], T[0:j] ä¸”å¿…é¡»é€‰Tçš„ç»“å°¾çš„å­—ç¬¦çš„æƒ…å†µä¸‹çš„æ–¹æ¡ˆæ•°é‡ï¼Œ é‚£ä¹ˆ 12dp[i][j] = S[0:i] ä¸­S[?]==T[j]çš„ä¸ªæ•° å†åŠ ä¸Šä¸‹é¢çš„dp[i][j] += dp[k-1][j-1] å½“ä¸”ä»…å½“k&lt;=iä¸”S[k]==T[j] ç°åœ¨æˆ‘ä»¬å°±å¯ä»¥å†™å‡ºä¸€ä¸ª$n^3$å¤æ‚åº¦çš„ç®—æ³•äº† è€ƒè™‘ä¼˜åŒ–å®ƒï¼Œè®¾Sum[i][j] ä¸º dp[k-1][j-1] åœ¨k&lt;&#x3D;iä¸”S[k]&#x3D;&#x3D;T[j]çš„å’Œï¼Œ ç„¶åæ¨å¯¼ 12Sum[i][j] = Sum[i-1][j] å½“S[i]==R[j]çš„æ—¶å€™ Sum[i][j] = Sun[i-1][j] + dp[i-1][j-1] ç°åœ¨æˆ‘ä»¬å¾—åˆ°äº†åŒçº¿dpï¼Œè¿™ä¸¤ä¸ªdpäº’ç›¸å‘åæ¨å¯¼ï¼Œæœ€ç»ˆå¾—å‡ºç­”æ¡ˆ,å¤æ‚åº¦$n^2$ 2020&#x2F;4&#x2F;19æ›´æ–°æ„Ÿè°¢æŒ‡æ­£ï¼Œæˆ‘æƒ³å¤æ‚äº†ï¼Œæˆ‘è¿˜æ˜¯å¤ªèœäº† 2020&#x2F;4&#x2F;17æ›´æ–°ä¸€è§‰é†’æ¥æŒºå¤šäººæ‰¾æˆ‘è¦ä»£ç çš„ï¼Œç”±äºç¬”è¯•çš„ä»£ç æ²¡æœ‰å¤åˆ¶ï¼Œæ‰€ä»¥æˆ‘å°±é‡æ–°æ•²ä¸€é##ç¬¬äºŒé¢˜ 1234567891011121314151617#include &lt;iostream&gt;using namespace std;const int N=1e5+5;int pre[N];int main()&#123; long long a,b,x,m; cin&gt;&gt;a&gt;&gt;b&gt;&gt;x&gt;&gt;m; for(int i=0;i&lt;3*m;i++)&#123; cout&lt;&lt;x&lt;&lt;&quot; &quot;; x = (a*x+b)%m; pre[x]=i; &#125; cout&lt;&lt;endl; cout&lt;&lt;3*m-pre[(a*x+b)%m]&lt;&lt;endl;&#125; ç¬¬ä¸‰é¢˜1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253#include &lt;iostream&gt;#include &lt;vector&gt;using namespace std;typedef long long ll;vector&lt;ll&gt; vec;ll n,k;ll maxrank(ll x,ll y)&#123; ll idx1 = lower_bound(vec.begin(),vec.end(),x)-vec.begin(); // vec[idx1] = x idx1æ˜¯æœ€å°çš„ ll idx2 = upper_bound(vec.begin(),vec.end(),x)-vec.begin()-1; // vec[idx2] = x idx2æ˜¯æœ€å¤§çš„ ll idy2 = upper_bound(vec.begin(),vec.end(),y)-vec.begin()-1; return (idx1-1-0+1)*n+(idx2-idx1+1)*(idy2-0+1); // å·¦è¾¹æ˜¯ç¬¬ä¸€ä¸ªå€¼å°äºè‡ªå·±çš„æ•°çš„ä¸ªæ•° // å³è¾¹æ˜¯ç¬¬ä¸€ä¸ªå€¼ç­‰äºè‡ªå·±çš„çš„æ•°çš„ä¸ªæ•°&#125;ll getidx()&#123; ll l=0,r=n-1; while(l&lt;r)&#123; ll mid = (l+r)/2; if(maxrank(vec[mid],vec[n-1])&lt;k) l=mid+1; else r=mid; &#125; return l;&#125;ll getidy(ll idx)&#123; ll l=0,r=n-1; while(l&lt;r)&#123; ll mid = (l+r)/2; if(maxrank(vec[idx],vec[mid])&lt;k) l=mid+1; else r=mid; &#125; return l;&#125;int main()&#123; cin&gt;&gt;n&gt;&gt;k; for(ll i=0;i&lt;n;i++) &#123; ll x; cin&gt;&gt;x; vec.push_back(x); &#125; sort(vec.begin(),vec.end()); for(ll i=0;i&lt;n*n;i++)&#123; k = i+1; ll idx=getidx(); ll idy=getidy(idx); cout&lt;&lt;vec[idx]&lt;&lt;&quot; &quot;&lt;&lt;vec[idy]&lt;&lt;endl; &#125;&#125; ç¬¬äº”é¢˜12345678910111213141516171819202122232425262728293031323334353637383940414243444546#include &lt;iostream&gt;using namespace std;const int N=5555;const int mod = 1e9+7;int dp[N][N];int sum[N][N];int size[N][26];string s,t;int n,m;// aaa// aaa// a 3*3 = 9// aa 3*2 = 6// aaa 1// ans = 16int main()&#123; cin&gt;&gt;s&gt;&gt;t; int n = s.size(); int m = t.size(); for(int i=0;i&lt;n;i++)&#123; for(int j=0;j&lt;m;j++)&#123; sum[i][j] = 0; if(i&gt;0) sum[i][j] += sum[i-1][j]; if(i&gt;0&amp;&amp;j&gt;0&amp;&amp;s[i]==t[j]) sum[i][j] += dp[i-1][j-1]; sum[i][j] %= mod; &#125; for(int j=0;j&lt;26;j++) &#123; if(i&gt;0) size[i][j] = size[i-1][j]; &#125; size[i][s[i]-&#x27;a&#x27;]++; for(int j=0;j&lt;m;j++)&#123; dp[i][j] = size[i][t[j]-&#x27;a&#x27;] + sum[i][j]; dp[i][j] %= mod; &#125; &#125; int ans = 0; for(int j=0;j&lt;m;j++) ans = (ans+dp[n-1][j])%mod; cout&lt;&lt;ans&lt;&lt;endl;&#125;","categories":[{"name":"å®ä¹ ","slug":"å®ä¹ ","permalink":"http://fightinggg.github.io/indigo/categories/%E5%AE%9E%E4%B9%A0/"},{"name":"ç¬”è¯•","slug":"å®ä¹ /ç¬”è¯•","permalink":"http://fightinggg.github.io/indigo/categories/%E5%AE%9E%E4%B9%A0/%E7%AC%94%E8%AF%95/"}],"tags":[]},{"title":"SpringBoot4-Web2-æ¨¡ç‰ˆå¼•æ“","slug":"Language/Java/SpringBoot/SpringBoot4-Web2-æ¨¡ç‰ˆå¼•æ“/index","date":"2020-04-16T04:19:20.000Z","updated":"2020-04-16T04:19:20.000Z","comments":true,"path":"Q8V5C8.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8V5C8.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ¨¡ç‰ˆå¼•æ“å¸¸è§çš„æ¨¡ç‰ˆå¼•æ“æœ‰JSP,Velocity,Freemarker,Thymeleaf SpringBootæ¨èçš„Thymeleaf12345&lt;!-- æ¨¡ç‰ˆå¼•æ“--&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;&lt;/dependency&gt; è§†é¢‘ä¸­è¯´è¿™ä¸ªç‰ˆæœ¬æœ‰ç‚¹ä½ï¼Œæ˜¯2.16çš„ç„¶é¹…æˆ‘ç”¨çš„SpringBoot2ï¼Œå·²ç»æ˜¯3.xäº†ä¿®æ”¹ç‰ˆæœ¬å·,è¿™æ‹›ä¼°è®¡å­¦äº†æœ‰ç”¨,è¿™ä¸ªèƒ½è¦†ç›–ç‰ˆæœ¬","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ¨¡ç‰ˆå¼•æ“å¸¸è§çš„æ¨¡ç‰ˆå¼•æ“æœ‰JSP,Velocity,Freemarker,Thymeleaf SpringBootæ¨èçš„Thymeleaf12345&lt;!-- æ¨¡ç‰ˆå¼•æ“--&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;&lt;/dependency&gt; è§†é¢‘ä¸­è¯´è¿™ä¸ªç‰ˆæœ¬æœ‰ç‚¹ä½ï¼Œæ˜¯2.16çš„ç„¶é¹…æˆ‘ç”¨çš„SpringBoot2ï¼Œå·²ç»æ˜¯3.xäº†ä¿®æ”¹ç‰ˆæœ¬å·,è¿™æ‹›ä¼°è®¡å­¦äº†æœ‰ç”¨,è¿™ä¸ªèƒ½è¦†ç›–ç‰ˆæœ¬ 1234&lt;properties&gt; &lt;thymeleaf.version&gt;3.0.2.RELEASE&lt;/thymeleaf.version&gt; &lt;thymeleaf-layout-dialect.versoin&gt;2.1.1&lt;/thymeleaf-layout-dialect.version&gt;&lt;/properties&gt; Thymeleafè¯­æ³•è¿˜æ˜¯å»autoconfigureä¸­æ‰¾thymeleafçš„ThymeleafAutoDConfigution,è¿™é‡Œå¯ä»¥çœ‹åˆ°é…ç½®æºç  123456789101112131415161718/** * Properties for Thymeleaf. * * @author Stephane Nicoll * @author Brian Clozel * @author Daniel FernÃ¡ndez * @author Kazuki Shimizu * @since 1.2.0 */@ConfigurationProperties(prefix = &quot;spring.thymeleaf&quot;)public class ThymeleafProperties &#123; private static final Charset DEFAULT_ENCODING = StandardCharsets.UTF_8; public static final String DEFAULT_PREFIX = &quot;classpath:/templates/&quot;; public static final String DEFAULT_SUFFIX = &quot;.html&quot;; åªè¦æˆ‘ä»¬å§HTMLé¡µé¢æ”¾åœ¨class:&#x2F;templates&#x2F;ä¸‹ï¼Œthymeleafå°±å¯ä»¥æ¸²æŸ“ã€‚ç»§ç»­ä¿®æ”¹æˆ‘ä»¬çš„ä»£ç ï¼Œæ³¨æ„è¿™é‡Œä¸è¦ç”¨RestControlleræ³¨è§£ï¼Œ 1234567891011121314151617181920package com.wsx.springboothelloworld.controller;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.ResponseBody;import org.springframework.web.bind.annotation.RestController;@Controllerpublic class HelloController &#123; @RequestMapping(&quot;/hello&quot;) @ResponseBody // æŠŠè¿™ä¸ªç±»çš„æ‰€ä»¥æ–¹æ³•è¿”å›ç»™æµè§ˆå™¨ï¼Œè½¬åŒ–ä¸ºjsonæ•°æ® public String hello() &#123; return &quot;hello world quick!&quot;; &#125; @RequestMapping(&quot;/templates_hello&quot;) public String templates_hello() &#123; return &quot;templates_hello&quot;; &#125;&#125; ç„¶ååœ¨templatesä¸‹åˆ›å»ºä¸€ä¸ªtemplates_hello.htmlè¿™æ ·å°±èƒ½è¿”å›é‚£ä¸ªhtmläº† ä½¿ç”¨thymeleafspring.pdfåœ¨3.1ä¸­æ‰¾åˆ°å¦‚ä¸‹ç‰‡æ®µå¯¼å…¥åç§°ç©ºé—´ 12345678&lt;!DOCTYPE html&gt;&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;&lt;head&gt;&lt;title&gt;Good Thymes Virtual Grocery&lt;/title&gt; &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;/&gt; &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;all&quot; href=&quot;../../css/gtvg.css&quot; th:href=&quot;@&#123;/css/gtvg.css&#125;&quot;/&gt;&lt;/head&gt;&lt;body&gt;&lt;p th:text=&quot;#&#123;home.welcome&#125;&quot;&gt;Welcome to our grocery store!&lt;/p&gt;&lt;/body&gt;&lt;/html&gt; ä¿®æ”¹æˆ‘ä»¬çš„Controller 12345@RequestMapping(&quot;/templates_hello&quot;)public String templates_hello(Map&lt;String,Object&gt; map) &#123; map.put(&quot;hello&quot;,&quot;map.put(hello,hello)&quot;); return &quot;templates_hello&quot;;&#125; æˆ‘ä»¬è¿™æ ·å†™templates_hello.html,è¿™é‡Œçš„textå€¼å¾—æ˜¯æ”¹å˜å½“å‰divä¸­çš„å†…å®¹çš„ 123456789&lt;!DOCTYPE html&gt;&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;&lt;head&gt;&lt;title&gt;Good Thymes Virtual Grocery&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;h1&gt;è¿™ä¸ªæ¥è‡ªtemplates_hello.html&lt;/h1&gt; &lt;div th:text=&quot;$&#123;hello&#125;&quot;&gt;&lt;/div&gt;&lt;/body&gt;&lt;/html&gt; ç„¶åæˆ‘ä»¬å°±å¾—åˆ°äº†helloçš„å†…å®¹ thth:textæ”¹å˜divæ–‡æœ¬ï¼Œth:idæ”¹å˜idï¼Œth:classæ”¹å˜classï¼Œthå¯ä»¥æ”¹å˜æ‰€æœ‰çš„å±æ€§ï¼Œæ›´å¤šçš„ä¿¡æ¯æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£10 Attribute Precedence Fragment inclusionç‰‡æ®µåŒ…å«ï¼Œå¦‚jspçš„includeï¼Œæœ‰th:insertå’Œth:replace Fragment iteratoréå†ï¼Œå¦‚jspçš„forEachï¼Œ æœ‰th:each Conditional evaluationæ¡ä»¶åˆ¤æ–­ï¼Œ å¦‚jspçš„ifï¼Œ æœ‰th:if,th:unless,th:saitch,th:case, åè¾¹çš„è¿˜æœ‰å¾ˆå¤šï¼Œè¿™é‡Œå°±ä¸å±•å¼€ã€è¡¨è¾¾å¼å‚è§æ–‡æ¡£4 Standard Experssion Syntaxæ–‡æ¡£æˆ‘å°±ä¸è´´è¿‡æ¥äº†ã€‚ã€‚æŒºæ¸…æ¥šçš„ï¼Œè¿™ä¸ªåº”è¯¥ä¸æ˜¯æˆ‘ç›®å‰çš„é‡ç‚¹ã€‚","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"SpringBoot","slug":"Language/Java/SpringBoot","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/SpringBoot/"}],"tags":[]},{"title":"SpringBoot4-Web1-é™æ€èµ„æº","slug":"Language/Java/SpringBoot/SpringBoot4-Web1-é™æ€èµ„æº/index","date":"2020-04-16T04:18:20.000Z","updated":"2020-04-16T04:18:20.000Z","comments":true,"path":"Q8V5AK.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8V5AK.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial SpringBootä¸Webå…ˆåœ¨ideaä¸­é€‰æ‹©åœºæ™¯SpringBootå·²ç»é»˜è®¤å°†è¿™äº›å¸¸è§é…ç½®å¥½äº†ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šå°‘é‡é…ç½®å°±å¯ä»¥è¿è¡Œèµ·æ¥ç„¶åæˆ‘ä»¬å¯ä»¥å¼€å§‹ç¼–å†™ä¸šåŠ¡ä»£ç äº† SpringBootä¸é™æ€èµ„æºWebMvcAutoConfigurationæ‰“å¼€WebMvcAutoConfiguration.java 1234567891011121314151617181920@Overridepublic void addResourceHandlers(ResourceHandlerRegistry registry) &#123; if (!this.resourceProperties.isAddMappings()) &#123; logger.debug(&quot;Default resource handling disabled&quot;); return; &#125; Duration cachePeriod = this.resourceProperties.getCache().getPeriod(); CacheControl cacheControl = this.resourceProperties.getCache().getCachecontrol().toHttpCacheControl(); if (!registry.hasMappingForPattern(&quot;/webjars/**&quot;)) &#123; customizeResourceHandlerRegistration(registry.addResourceHandler(&quot;/webjars/**&quot;) .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;) .setCachePeriod(getSeconds(cachePeriod)).setCacheControl(cacheControl)); &#125; String staticPathPattern = this.mvcProperties.getStaticPathPattern(); if (!registry.hasMappingForPattern(staticPathPattern)) &#123; customizeResourceHandlerRegistration(registry.addResourceHandler(staticPathPattern) .addResourceLocations(getResourceLocations(this.resourceProperties.getStaticLocations())) .setCachePeriod(getSeconds(cachePeriod)).setCacheControl(cacheControl)); &#125;&#125;","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial SpringBootä¸Webå…ˆåœ¨ideaä¸­é€‰æ‹©åœºæ™¯SpringBootå·²ç»é»˜è®¤å°†è¿™äº›å¸¸è§é…ç½®å¥½äº†ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šå°‘é‡é…ç½®å°±å¯ä»¥è¿è¡Œèµ·æ¥ç„¶åæˆ‘ä»¬å¯ä»¥å¼€å§‹ç¼–å†™ä¸šåŠ¡ä»£ç äº† SpringBootä¸é™æ€èµ„æºWebMvcAutoConfigurationæ‰“å¼€WebMvcAutoConfiguration.java 1234567891011121314151617181920@Overridepublic void addResourceHandlers(ResourceHandlerRegistry registry) &#123; if (!this.resourceProperties.isAddMappings()) &#123; logger.debug(&quot;Default resource handling disabled&quot;); return; &#125; Duration cachePeriod = this.resourceProperties.getCache().getPeriod(); CacheControl cacheControl = this.resourceProperties.getCache().getCachecontrol().toHttpCacheControl(); if (!registry.hasMappingForPattern(&quot;/webjars/**&quot;)) &#123; customizeResourceHandlerRegistration(registry.addResourceHandler(&quot;/webjars/**&quot;) .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;) .setCachePeriod(getSeconds(cachePeriod)).setCacheControl(cacheControl)); &#125; String staticPathPattern = this.mvcProperties.getStaticPathPattern(); if (!registry.hasMappingForPattern(staticPathPattern)) &#123; customizeResourceHandlerRegistration(registry.addResourceHandler(staticPathPattern) .addResourceLocations(getResourceLocations(this.resourceProperties.getStaticLocations())) .setCachePeriod(getSeconds(cachePeriod)).setCacheControl(cacheControl)); &#125;&#125; é…ç½®jqueryæ‰€æœ‰&#x2F;webjars&#x2F;ä¸‹çš„èµ„æºï¼Œéƒ½å»classpath:&#x2F;MEFA-INF&#x2F;resources&#x2F;webjars&#x2F;æ‰¾åœ¨Webjarsä¸­é€‰æ‹©Maven,ç„¶åå°±å¯ä»¥å¯¼å…¥ä½ æƒ³è¦jqueryçš„ä¾èµ–äº†æ¯”æ–¹å®‰è£…äº†è¿™ä¸ªä»¥åå°±å¯ä»¥é€šè¿‡ä¸‹é¢çš„åœ°å€è®¿é—®jqueryäº†localhost:8080&#x2F;webjars&#x2F;jquery&#x2F;3.3.1&#x2F;jquery.js 12345&lt;dependency&gt; &lt;groupId&gt;org.webjars&lt;/groupId&gt; &lt;artifactId&gt;jquery&lt;/artifactId&gt; &lt;version&gt;3.5.0&lt;/version&gt;&lt;/dependency&gt; é»˜è®¤æ˜ å°„ResourceProperties å¯ä»¥è®¾ç½®é™æ€èµ„æºçš„é…ç½®ï¼Œå¦‚ç¼“å­˜æ—¶é—´ 12@ConfigurationProperties(prefix = &quot;spring.resources&quot;, ignoreUnknownFields = false)public class ResourceProperties &#123; è¿˜ä¼šåœ¨ä¸‹é¢çš„è·¯å¾„ä¸­æ‰¾(é™æ€èµ„æºçš„æ–‡ä»¶å¤¹)æ¯”æ–¹è¯´ä½ è¦è®¿é—®ä¸€ä¸ªlocalhost:8080&#x2F;myjs.js,å¦‚æœæ‰¾ä¸åˆ°çš„è¯ï¼Œå°±åœ¨ä¸‹é¢çš„æ–‡ä»¶å¤¹ä¸­å¯»æ‰¾ 12private static final String[] CLASSPATH_RESOURCE_LOCATIONS = &#123; &quot;classpath:/META-INF/resources/&quot;, &quot;classpath:/resources/&quot;, &quot;classpath:/static/&quot;, &quot;classpath:/public/&quot; &#125;; æ¬¢è¿ç•Œé¢æ¬¢è¿é¡µé¢, é™æ€èµ„æºæ–‡ä»¶å¤¹çš„&#x2F;index.html, è§ä¸‹é¢çš„ä»£ç  1234567891011121314151617@Beanpublic WelcomePageHandlerMapping welcomePageHandlerMapping(ApplicationContext applicationContext, FormattingConversionService mvcConversionService, ResourceUrlProvider mvcResourceUrlProvider) &#123; WelcomePageHandlerMapping welcomePageHandlerMapping = new WelcomePageHandlerMapping( new TemplateAvailabilityProviders(applicationContext), applicationContext, getWelcomePage(), this.mvcProperties.getStaticPathPattern()); welcomePageHandlerMapping.setInterceptors(getInterceptors(mvcConversionService, mvcResourceUrlProvider)); return welcomePageHandlerMapping;&#125; private Optional&lt;Resource&gt; getWelcomePage() &#123; String[] locations = getResourceLocations(this.resourceProperties.getStaticLocations()); return Arrays.stream(locations).map(this::getIndexHtml).filter(this::isReadable).findFirst();&#125;private Resource getIndexHtml(String location) &#123; return this.resourceLoader.getResource(location + &quot;index.html&quot;);&#125; å›¾æ ‡é…ç½®è‡ªå·±çš„favicon.icoSpringBoot2ä¸­æ²¡æœ‰è¿™ä¸ªä¸œè¥¿ï¼Œå¯èƒ½ç§»åˆ°å…¶ä»–ä½ç½®å»äº† å®šä¹‰è‡ªå·±çš„æ˜ å°„åˆ©ç”¨é…ç½®æ–‡ä»¶æ¥è‡ªå·±å®šä¹‰&#x2F;çš„æ˜ å°„ 1spring.resources.static-locations = classpath:/hello/,classpath:/hello2/","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"SpringBoot","slug":"Language/Java/SpringBoot","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/SpringBoot/"}],"tags":[]},{"title":"SpringBoot3-æ—¥å¿—","slug":"Language/Java/SpringBoot/SpringBoot3-æ—¥å¿—/index","date":"2020-04-15T13:18:22.000Z","updated":"2020-04-15T13:18:22.000Z","comments":true,"path":"Q8TZMM.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8TZMM.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Springbootå’Œæ—¥å¿— è€ƒè™‘å’Œjdbcå’Œæ•°æ®åº“é©±åŠ¨ä¸€æ ·ï¼Œæˆ‘ä»¬æŠ½è±¡å‡ºä¸€ä¸ªæ—¥å¿—çš„æ¥å£ å¸¸è§çš„javaæ—¥å¿— JUL,JCL,JBoss-logging,logback,log4j,log4j2,slf4j JavaæŠ½è±¡ JCL,SLF4j,Jboss-logging Javaå®ç° Log4j,JUL,Log4j2,logback æ€ä¹ˆé€‰æ‹©é€‰æ‹©SLF4j+Logback","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Springbootå’Œæ—¥å¿— è€ƒè™‘å’Œjdbcå’Œæ•°æ®åº“é©±åŠ¨ä¸€æ ·ï¼Œæˆ‘ä»¬æŠ½è±¡å‡ºä¸€ä¸ªæ—¥å¿—çš„æ¥å£ å¸¸è§çš„javaæ—¥å¿— JUL,JCL,JBoss-logging,logback,log4j,log4j2,slf4j JavaæŠ½è±¡ JCL,SLF4j,Jboss-logging Javaå®ç° Log4j,JUL,Log4j2,logback æ€ä¹ˆé€‰æ‹©é€‰æ‹©SLF4j+Logback SpringBootæ€ä¹ˆæï¼Ÿ Springé€‰æ‹©äº†JULï¼ŒSpringBooté€‰æ‹©äº†SLF4j+Logback SLF4jä½¿ç”¨ è°ƒç”¨æ—¥å¿—æŠ½è±¡å±‚çš„æ–¹æ³•ï¼Œè€Œä¸æ˜¯å®ç° 12Logger logger = LoggerFactory.getLogger(?.class);logger.info(&quot;hello world&quot;) log4j log4jå‡ºç°çš„æ—©ï¼Œæ²¡æƒ³è¿‡ä¼šæœ‰slf4jçš„å‡ºç°ï¼Œé‚£æˆ‘ä»¬è¦æ€ä¹ˆç”¨å®ƒå‘¢ï¼Ÿå®é™…ä¸Šæ˜¯å®ç°äº†ä¸€ä¸ªé€‚é…å™¨ï¼Œç”¨é€‚é…å™¨è°ƒç”¨log4jï¼Œç”¨slf4jè°ƒç”¨é€‚é…å™¨ï¼Œè¿™é‡Œæ˜¯ä¸€ä¸ªè®¾è®¡æ¨¡å¼ é—ç•™é—®é¢˜ æˆ‘ä»¬ç”¨äº†å¤šä¸ªæ¡†æ¶ï¼Œè¿™äº›æ¡†æ¶æœ‰ç”¨äº†ä¸åŒçš„æ—¥å¿—ç³»ç»Ÿï¼Œæˆ‘ä»¬è¯¥æ€ä¹ˆåŠï¼Ÿ ç»Ÿä¸€æ—¥å¿—è®°å½• å·å¤©æ¢æ—¥ï¼Œä½ è¶æ¡†æ¶ä¸æ³¨æ„ï¼ŒæŠŠjaråŒ…æ¢ä¸€ä¸‹ï¼Œå¦‚Commons loggingAPIå°±ç”¨jcl-over-slf4j.jar, å¦‚log4jAPIå°±ç”¨log4j-over-slf4j.jaræ¥æ›¿æ¢ï¼Œå°±å¯ä»¥äº†ï¼Œè¿™äº›jarå…¶å®è°ƒç”¨äº†slf4jã€‚ å…·ä½“æ“ä½œ å…ˆæ’é™¤æ—¥å¿—æ¡†æ¶ï¼Œç„¶åç”¨ä¸­é—´åŒ…æ›¿æ¢åŸç”¨çš„æ—¥å¿—æ¡†æ¶ï¼Œæœ€åå¯¼å…¥slf4jå…¶ä»–çš„å®ç°ã€‚ SpringBootå’Œæ—¥å¿—123456spring-boot-starter-logginglogback-classic3ä¸ªç‹¸çŒ«åŒ…å·æ¢æ¢æŸ±jul-to-slf4jlog4j-ober-slf4jjcl-ober-slf4j Springbootç»™æˆ‘ä»¬åšå¥½äº†å·æ¢æ¢æŸ±ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨å¼•å…¥å…¶ä»–æ¡†æ¶çš„æ—¶å€™ä¸€å®šè¦æŠŠè¿™ä¸ªæ¡†æ¶çš„é»˜è®¤æ—¥å¿—ä¾èµ–ç§»é™¤æ‰ã€‚ ä½¿ç”¨æ—¥å¿— springbootéƒ½é›†æˆäº†è¿™äº› 123logging.level.com.wsx.springboothelloworld = debuglogging.path= loglogging.pattern.console=%d&#123;yyyy-MM-dd:HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;50&#125; -%msg%n 12345678910 @Test void contextLoads() &#123;// System.out.println(person); Logger logger = LoggerFactory.getLogger(getClass()); logger.error(&quot;hi&quot;); logger.warn(&quot;hi&quot;); logger.info(&quot;info hi&quot;); logger.debug(&quot;debug hi&quot;); logger.trace(&quot;trace hi&quot;); &#125; æƒ³ç”¨è‡ªå·±çš„é…ç½®æ–‡ä»¶ç›´æ¥æŠŠå®ƒæ”¾åˆ°resourcesæ–‡ä»¶å¤¹ä¸‹é¢å°±å¯ä»¥äº†ï¼Œæ¨èä½¿ç”¨xxx-spring.xml, æ¯”å¦‚ä½ ä½¿ç”¨äº†logback.xml, é‚£ä¹ˆè¿™ä¸ªxmlå°±ç›´æ¥è¢«æ—¥å¿—æ¡†æ¶è¯†åˆ«äº†ï¼Œç»•å¼€äº†spring,å¦‚æœä½ æ˜¯ç”¨logback-spring.xml, é‚£ä¹ˆæ—¥å¿—æ¡†æ¶æ— æ³•åŠ è½½ï¼Œæœ‰springbootæ¥ç®¡ï¼Œspringbootå°±å¯ä»¥æ ¹æ®ç¯å¢ƒæ¥å®‰æ’ä¸åŒçš„é…ç½®ï¼Œåœ¨å¼€å‘ç¯å¢ƒå’Œéå¼€å‘ç¯å¢ƒä½¿ç”¨ä¸åŒçš„é…ç½®ã€‚","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"SpringBoot","slug":"Language/Java/SpringBoot","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/SpringBoot/"}],"tags":[]},{"title":"SpringBoot2-é…ç½®","slug":"Language/Java/SpringBoot/SpringBoot2-é…ç½®/index","date":"2020-04-15T13:18:18.000Z","updated":"2020-04-15T13:18:18.000Z","comments":true,"path":"Q8TZMI.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8TZMI.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial springbooté…ç½®é…ç½®æ–‡ä»¶ é…ç½®æ–‡ä»¶çš„åå­—æ˜¯å›ºå®šçš„ application.propertiesapplicstion.yml YAML æ˜¯ä¸€ä¸ªæ ‡è®°è¯­è¨€ï¼Œä¸æ˜¯ä¸€ä¸ªæ ‡è®°è¯­è¨€ æ ‡è®°è¯­è¨€ ä»¥å‰çš„é…ç½®æ–‡ä»¶å¤§å¤šæ˜¯xmlæ–‡ä»¶ï¼Œyamlä»¥æ•°æ®ä¸ºä¸­å¿ƒï¼Œæ¯”jsonã€xmlç­‰æ›´é€‚åˆåšé…ç½®æ–‡ä»¶ è¿™æ˜¯yml 12server: port: 8081 è¿™ä¸ªæ˜¯xml 123&lt;server&gt; &lt;port&gt;8081&lt;/port&gt;&lt;/server&gt;","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial springbooté…ç½®é…ç½®æ–‡ä»¶ é…ç½®æ–‡ä»¶çš„åå­—æ˜¯å›ºå®šçš„ application.propertiesapplicstion.yml YAML æ˜¯ä¸€ä¸ªæ ‡è®°è¯­è¨€ï¼Œä¸æ˜¯ä¸€ä¸ªæ ‡è®°è¯­è¨€ æ ‡è®°è¯­è¨€ ä»¥å‰çš„é…ç½®æ–‡ä»¶å¤§å¤šæ˜¯xmlæ–‡ä»¶ï¼Œyamlä»¥æ•°æ®ä¸ºä¸­å¿ƒï¼Œæ¯”jsonã€xmlç­‰æ›´é€‚åˆåšé…ç½®æ–‡ä»¶ è¿™æ˜¯yml 12server: port: 8081 è¿™ä¸ªæ˜¯xml 123&lt;server&gt; &lt;port&gt;8081&lt;/port&gt;&lt;/server&gt; ymlè¯­æ³•åŸºæœ¬è¯­æ³• k:(ç©ºæ ¼)v è¡¨ç¤ºä¸€å¯¹é”®å€¼å¯¹ ç”¨ç©ºæ ¼é”è¿›æ¥æ§åˆ¶å±‚çº§å…³ç³»ï¼Œåªè¦å·¦å¯¹é½å°±éƒ½æ˜¯ä¸€ä¸ªå±‚çº§çš„ï¼Œå±æ€§å’Œå€¼ä¹Ÿæ˜¯å¤§å°å†™æ•æ„Ÿçš„ 123server: port: 8081 path: /hello å€¼çš„å†™æ³•å­—é¢é‡ï¼š æ™®é€šçš„å€¼ã€å­—ç¬¦ä¸²ã€bool, å­—ç¬¦ä¸²é»˜è®¤ä¸ç”¨åŠ ä¸ŠåŒå¼•å·å’Œå•å¼•å· 12s1: &#x27;a\\nb&#x27;s2: &quot;a\\nb&quot; ç­‰åŠ äºä¸‹é¢ç­‰js 1&#123;s1: &#x27;a\\\\nb&#x27;,s2: &#x27;a\\nb&#x27;&#125; å¯¹è±¡ã€map å¯¹è±¡çš„å†™æ³• 123friends: lastName: zhangsan age: 20 è¡Œå†…å†™æ³• 1friends: &#123;lastName: zhangsan,age: 18&#125; æ•°ç»„ list set ç”¨-è¡¨ç¤ºæ•°ç»„ä¸­çš„å…ƒç´  1234pets: - cat - dog - pig è¡Œå†…å†™æ³• 1pest: [cat,dog,pig] é…ç½®æ–‡ä»¶æ³¨å…¥ @ConfigurationProperties å‘Šè¯‰springbootå°†æœ¬ç±»ä¸­çš„æ‰€æœ‰å±æ€§å’Œé…ç½®æ–‡ä»¶ä¸­ç›¸å…³çš„é…ç½®è¿›è¡Œç»‘å®šï¼Œ prefix &#x3D; â€œpersonâ€ï¼š é…ç½®æ–‡ä»¶ä¸­å“ªä¸ªä¸‹é¢çš„æ‰€æœ‰å±æ€§ä¸€ä¸€æ˜ å°„ @Data æ¥è‡ªåŠ¨ç”Ÿæˆtostringï¼Œ@Componentæ¥æŠŠè¿™ä¸ªç±»æ”¾åˆ°å®¹å™¨ä¸­ï¼Œ@ConfigurationPropertiesæ¥ä»é…ç½®æ–‡ä»¶æ³¨å…¥æ•°æ® 12345678910111213@Data@Component@ConfigurationProperties(prefix = &quot;person&quot;)public class Person &#123; private String lastName; private Integer age; private Boolean boss; private Date birth; private Map&lt;String, Object&gt; maps; private List&lt;Object&gt; lists; private Dog dog;&#125; DogåŒç† 123456@Data@Componentpublic class Dog &#123; private String name; private Integer age;&#125; å¯¼å…¥ä¾èµ– 123456&lt;!-- å¯¼å…¥é…ç½®æ–‡ä»¶å¤„ç†å™¨ï¼Œé…ç½®æ–‡ä»¶è¿›è¡Œç»‘å®šå°±ä¼šæœ‰æç¤º--&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt; &lt;optional&gt;true&lt;/optional&gt; &lt;/dependency&gt; å¼€å§‹æµ‹è¯• 123456789101112@SpringBootTestclass SpringBootHelloworldApplicationTests &#123; @Autowired Person person; @Test void contextLoads() &#123; System.out.println(person); &#125;&#125; æˆ‘ä»¬çœ‹åˆ°è¾“å‡º 1Person(lastName=zhangsan, age=18, boss=false, birth=Tue Dec 12 00:00:00 CST 2017, maps=&#123;k1=v1, k2=v2&#125;, lists=[lisi, zhaoliu], dog=Dog(name=dogname, age=2)) æ”¹å†™ä¸ºproperties 123456789person.last-name=zhangsanperson.age=18person.birth=2017/12/15person.boss=falseperson.maps.k1=v1person.maps.k2=v2person.lists=a,b,cperson.dog.name=dogperson.dog.age=15 æ³¨è§£æ³¨å…¥ è¯¦è§@Value @Value(â€œ$(person.last-name)â€) ä»ç¯å¢ƒå˜é‡å’Œé…ç½®æ–‡ä»¶ä¸­è·å¾—å€¼ @Value(â€œ#{111213}â€) ä»è¡¨è¾¾å¼ä¸­è·å¾—å€¼ @Value(â€œtrueâ€) @PropertySourceå’Œ@ImportResource @PropertySourceå¯ä»¥æŒ‡å®šé…ç½®æ–‡ä»¶ï¼Œè¿˜å¯ä»¥å†™æ•°ç»„åŠ è½½å¤šä¸ªé…ç½®æ–‡ä»¶ï¼Œ @ImportResourceå¯¼å…¥Springçš„é…ç½®æ–‡ä»¶ï¼Œè®©é…ç½®æ–‡ä»¶ä¸­çš„å†…å®¹ç”Ÿæ•ˆï¼Œå³æˆ‘ä»¬ä»¥å‰å†™çš„springçš„é‚£äº›ä¸œè¥¿springbootæ˜¯ä¸ä¼šè¯†åˆ«çš„ï¼Œå¿…é¡»é€šè¿‡ImportResourceæ‰èƒ½æˆåŠŸ,springbootä¸æ¨èè¿™ä¸ªæ³¨è§£ springbootæ¨èå…¨æ³¨è§£å½¢å¼ï¼Œä½¿ç”¨@Configuration,è¿™ä¸ªé…ç½®ç±»å°±æ˜¯æ¥æ›¿ä»£springçš„é…ç½®æ–‡ä»¶çš„ï¼Œå½“ç„¶è¿™ä¸ªå°±æ˜¯springçš„æ³¨è§£ï¼Œç„¶ååœ¨æ–¹æ³•ä¸ŠåŠ å…¥@Beanæ³¨è§£å°±èƒ½å§è¿™ä¸ªæ–¹æ³•çš„è¿”å›å€¼æ³¨å…¥åˆ°å®¹å™¨ä¸­ï¼Œæ³¨æ„è¿™é‡Œçš„éƒ½æ˜¯springä¸­çš„æ³¨è§£ 1234567@Configurationpublic class MyAppConfig&#123; @Bean public HelloService helloService()&#123; return new HelloService(); &#125;&#125; é…ç½®æ–‡ä»¶å ä½ç¬¦ ${random.value},${random.int},${random.long},${random.int[1024,65536]}è¡¨ç¤ºéšæœºæ•°ï¼Œ${..}ä¸­é—´å†™ä¹‹å‰é…ç½®çš„å€¼å¯ä»¥å–å‡ºæ¥ 123456789person.last-name=zhangsan$&#123;random.uuid&#125;person.age=$&#123;random.int&#125;person.birth=2017/12/15person.boss=falseperson.maps.k1=v1person.maps.k2=v2person.lists=a,b,cperson.dog.name=$&#123;person.last-name&#125;_dogperson.dog.age=15 å¤šprofile åˆ›å»ºå¤šä¸ªé…ç½®æ–‡ä»¶application-{profile}.properties&#x2F;yml æ¿€æ´»profile åœ¨ä¸»é…ç½®æ–‡ä»¶ä¸­å†™ spring.profile.active &#x3D; dev, å°±å¯ä»¥æ¿€æ´»application-dev.properties ymlå¤šæ–‡æ¡£å— ä¸‹é¢å®šä¹‰äº†ä¸‰ä¸ªæ–‡æ¡£å—,å¹¶æ¿€æ´»äº†ç¬¬ä¸‰ä¸ªæ–‡æ¡£å— 123456789101112131415server: port: 8081spring: profiles: action: prodserver: port: 8083spring: profiles: devserver: port: 8084spring: profiles: prod ç”¨å‘½ä»¤è¡Œæ¿€æ´» 1--spring.properties.active=dev ç”¨è™šæ‹Ÿæœºå‚æ•°æ¿€æ´» 1-Dspring.properties.active=dev é…ç½®æ–‡ä»¶åŠ è½½é¡ºåº1 file:.&#x2F;config&#x2F;2 file:.&#x2F;3 classpath:&#x2F;config4 classpath:&#x2F; ä»ä¸Šåˆ°ä¸‹ï¼Œä¼˜å…ˆçº§ä»é«˜åˆ°ä½ï¼Œé«˜ä¼˜å…ˆçº§çš„ä¼šè¦†ç›–ä½ä¼˜å…ˆçº§çš„å†…å®¹ï¼Œæ³¨æ„æ˜¯è¦†ç›–ï¼Œè€Œä¸æ˜¯çœ‹äº†é«˜ä¼˜å…ˆçº§çš„é…ç½®ä»¥åå°±ä¸çœ‹ä½ä¼˜å…ˆçº§çš„é…ç½®äº†ï¼Œè¿˜å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œå‚æ•°è®¾ç½®â€“spring.config.localtionæŒ‡å®šé…ç½®æ–‡ä»¶è·¯å¾„,è¿™é‡Œä¹Ÿæ˜¯äº’è¡¥é…ç½® å¤–éƒ¨é…ç½®æ–‡ä»¶ ä¼˜å…ˆåŠ è½½profileçš„ï¼Œç”±å¤–éƒ¨åˆ°å†…éƒ¨åŠ è½½ è‡ªåŠ¨é…ç½®åŸç† å»æŸ¥å®˜æ–¹æ–‡æ¡£ SpringBootå¯åŠ¨çš„æ—¶å€™åŠ è½½ä¸»é…ç½®ç±»ï¼Œå¼€å¯äº†è‡ªåŠ¨é…ç½®åŠŸèƒ½@EnableAutoConfiguration ,åˆ©ç”¨EnableAutoConfigurationImportSelectå¯¼å…¥ç»„ä»¶ï¼Œæ¯ä¸€ä¸ªxxxAutoConfigurationéƒ½æ˜¯å®¹å™¨ä¸­çš„ä¸€ä¸ªç»„ä»¶ï¼Œéƒ½åŠ å…¥åˆ°å®¹å™¨ä¸­ï¼Œç”¨ä»–ä»¬æ¥åšè‡ªåŠ¨é…ç½®ï¼Œæ¯ä¸€ä¸ªè‡ªåŠ¨é…ç½®ç±»è¿›è¡Œè‡ªåŠ¨é…ç½®åŠŸèƒ½ HttpEncodingAutoConfiguration æ ¹æ®å½“å‰ä¸åŒçš„æ¡ä»¶åˆ¤æ–­ï¼Œå†³å®šå½“å‰è¿™ä¸ªé…ç½®ç±»æ˜¯å¦ç”Ÿæ•ˆ Configuration è¡¨æ˜é…ç½®ç±» EnableConfigurationProperties å¯åŠ¨æŒ‡å®šç±»çš„ConfigurationPropertiesåŠŸèƒ½,åˆ°HttpPropertiesä¸­çœ‹åˆ°è¿™ä¸ªç±»ä¸Šæœ‰ConfigurationProperties ConditionalOnWebApplication Conditionalxxæ˜¯springä¸­çš„æ³¨è§£ï¼Œæ ¹æ®ä¸åŒçš„æ¡ä»¶ï¼Œå¦‚æœæ»¡è¶³æŒ‡å®šæ¡ä»¶ï¼Œæ•´ä¸ªé…ç½®ç±»ä¸­çš„é…ç½®æ‰ä¼šç”Ÿæ•ˆï¼Œè¿™é‡Œåˆ¤æ–­å½“å‰åº”ç”¨æ˜¯å¦ä¸ºwebåº”ç”¨ ConditionalOnClass åˆ¤æ–­å½“å‰é¡¹ç›®ä¸­æœ‰æ²¡æœ‰è¿™ä¸ªç±», CharacterEncodingFilter SpringMVCä¸­è¿›è¡Œä¹±ç è§£å†³çš„è¿‡æ»¤å™¨ ConditionalOnProperties åˆ¤æ–­é…ç½®æ–‡ä»¶ä¸­æ˜¯å¦å­˜åœ¨æŸä¸ªé…ç½® 123456@Configuration(proxyBeanMethods = false)@EnableConfigurationProperties(HttpProperties.class)@ConditionalOnWebApplication(type = ConditionalOnWebApplication.Type.SERVLET)@ConditionalOnClass(CharacterEncodingFilter.class)@ConditionalOnProperty(prefix = &quot;spring.http.encoding&quot;, value = &quot;enabled&quot;, matchIfMissing = true)public class HttpEncodingAutoConfiguration &#123; æ‰€æœ‰åœ¨é…ç½®æ–‡ä»¶ä¸­èƒ½é…ç½®çš„å±æ€§éƒ½æ˜¯åœ¨xxxPropertiesä¸­å°è£…ç€ 12@ConfigurationProperties(prefix = &quot;spring.http&quot;)public class HttpProperties &#123; xxxAutoConfiguration è‡ªåŠ¨é…ç½®ç±» xxxProperties å°è£…é…ç½®æ–‡ä»¶ä¸­ç›¸å…³å±æ€§ Condition @Conditional ä½œç”¨ @ConditionalOnjava javaç‰ˆæœ¬æ˜¯å¦ç¬¦åˆè¦æ±‚ @ConditionalOnBean å®¹å™¨ä¸­å­˜åœ¨æŒ‡å®šBean @ConditionalOnMissingBean å®¹å™¨ä¸­ä¸å­˜åœ¨æŒ‡å®šBean @ConditionalOnExpression æ»¡è¶³SpELè¡¨è¾¾å¼ @ConditionalOnClass ç³»ç»Ÿä¸­æœ‰æŒ‡å®šçš„ç±» @ConditionalOnMissingClass ç³»ç»Ÿä¸­æ²¡æœ‰æŒ‡å®šçš„ç±» @ConditionalOnSingleCandidate å®¹å™¨ä¸­åªæœ‰ä¸€ä¸ªæŒ‡å®šçš„Beanï¼Œæˆ–è€…è¿™ä¸ªBeanæ˜¯é¦–é€‰ @ConditionalOnProperty ç³»ç»Ÿä¸­æŒ‡å®šçš„å±æ€§æ˜¯å¦æœ‰æŒ‡å®šçš„å€¼ @ConditionalOnResource ç±»è·¯å¾„ä¸‹æ˜¯å¦å­˜åœ¨æŒ‡å®šèµ„æºæ–‡ä»¶ @ConditionalOnWebApplication å½“å‰é¡¹ç›®ä¸ºwebé¡¹ç›® @ConditionalOnNotWebApplication å½“å‰ä¸æ˜¯webé¡¹ç›® @ConditionalOnJndi JNDIå­˜åœ¨æŒ‡å®šé¡¹ è‡ªåŠ¨é…ç½®ç”Ÿæ•ˆ åªæœ‰åœ¨ç‰¹å®šçš„æ¡ä»¶ä¸‹æ‰èƒ½ç”Ÿæ•ˆ å¯ç”¨debug&#x3D;trueè®©æ§åˆ¶å°æ‰“å°è‡ªåŠ¨é…ç½®æŠ¥å‘Š 1debug=true","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"SpringBoot","slug":"Language/Java/SpringBoot","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/SpringBoot/"}],"tags":[]},{"title":"SpringBoot1-ä»‹ç»","slug":"Language/Java/SpringBoot/SpringBoot1-ä»‹ç»/index","date":"2020-04-15T13:18:12.000Z","updated":"2020-04-15T13:18:12.000Z","comments":true,"path":"Q8TZMC.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8TZMC.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å¾®æœåŠ¡ è®²å¤§åº”ç”¨æ‹†åˆ†æˆå¤šä¸ªå°åº”ç”¨ springbootä»‹ç»åˆ›å»ºmavenå·¥ç¨‹å¯¼å…¥ä¾èµ–123456789101112&lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;&lt;/parent&gt;&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt;&lt;/dependencies&gt;","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å¾®æœåŠ¡ è®²å¤§åº”ç”¨æ‹†åˆ†æˆå¤šä¸ªå°åº”ç”¨ springbootä»‹ç»åˆ›å»ºmavenå·¥ç¨‹å¯¼å…¥ä¾èµ–123456789101112&lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;&lt;/parent&gt;&lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt; &lt;/dependency&gt;&lt;/dependencies&gt; å†™ä¸»ç±»12345678910111213141516package com.wsx.springbootstudy;import org.springframework.boot.SpringApplication;import org.springframework.boot.autoconfigure.SpringBootApplication;/** * @SpringBootApplication æ ‡æ³¨ä¸€ä¸ªç±»ï¼Œè¯´æ˜è¿™ä¸ªæ˜¯SpringBootåº”ç”¨ */@SpringBootApplicationpublic class HelloWorldMainApplication &#123; public static void main(String[] args) &#123; // å¯åŠ¨åº”ç”¨ SpringApplication.run(HelloWorldMainApplication.class,args); &#125;&#125; å†™Controller123456789101112131415package com.wsx.springbootstudy.Controller;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.ResponseBody;@Controllerpublic class HelloController &#123; @ResponseBody @RequestMapping(&quot;/hello&quot;) public String hello()&#123; return &quot;Hello World!&quot;; &#125;&#125; ç™»é™†http://localhost:8080/hello1Hello World! éƒ¨ç½²æˆ‘ä»¬çš„helloworld123456789&lt;build&gt; &lt;plugins&gt; &lt;!-- spring-bootæ‰“åŒ…--&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt;&lt;/build&gt; ç„¶åå†mavenä¸­ç‚¹å‡»package,æœ‰å¦‚ä¸‹è¾“å‡º 1Building jar: /Users/s/Documents/untitled/target/untitled-1.0-SNAPSHOT.jar ç„¶åç‚¹å‡»è¿™ä¸ªjarå°±å¼€å§‹è·‘äº† å¦‚æœä½ æƒ³è¦å…³é—­ä»–å°±åœ¨ç»ˆç«¯ä¸­è¾“å…¥ 1ps -ef | grep /Users/s/Desktop/untitled-1.0-SNAPSHOT.jar ç„¶åçœ‹å·¦è¾¹çš„è¿›ç¨‹å· 1kill -9 pid åˆ†æpom parentçˆ¶é¡¹ç›®,ä»–ç®¡ç†springbootçš„æ‰€æœ‰ä¾èµ–ï¼Œåˆå«åšspringbootç‰ˆæœ¬ä»²è£ä¸­å¿ƒï¼Œä»¥åæˆ‘ä»¬å¯¼å…¥ä¾èµ–é»˜è®¤ä¸éœ€è¦æ·»åŠ ç‰ˆæœ¬å· 12345&lt;parent&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt; &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;&lt;/parent&gt; spring-boot-starter-web spring-boot-starter æ˜¯spring-bootåœºæ™¯å¯åŠ¨å™¨ï¼Œä»–å¸®æˆ‘ä»¬å¯¼å…¥äº†webæ¨¡å—æ­£å¸¸è¿è¡Œæ‰€ä¾èµ–çš„ç»„ä»¶ SpringBootå°†æ‰€æœ‰çš„åŠŸèƒ½åœºæ™¯éƒ½æŠ½å–å‡ºæ¥ï¼Œåšæˆä¸€ä¸ªstarterså¯åŠ¨å™¨ï¼Œåªéœ€è¦åœ¨é¡¹ç›®ä¸­å¼•å…¥è¿™äº› starterï¼Œç›¸å…³åœºæ™¯çš„æ‰€æœ‰ä¾èµ–éƒ½ä¼šè¢«å¯¼å…¥è¿›æ¥ï¼Œè¦ä»€ä¹ˆåŠŸèƒ½å°±å¯¼å…¥ä»€ä¹ˆåœºæ™¯å¯åŠ¨å™¨ã€‚ ä¸»ç±» @SpringBootApplication ï¼ŒSpringBootåº”ç”¨æ ‡æ³¨åœ¨æŸä¸ªç±»ä¸Šè¯´æ˜è¿™ä¸ªç±»æ˜¯SpringBootçš„ä¸»é…ç½®ç±»ï¼ŒSpringBootå°±åº”è¯¥è¿è¡Œè¿™ä¸ªç±»çš„mainæ–¹æ³•æ¥å¯åŠ¨SpringBootåº”ç”¨ @SpringBootConfiguration Spring Boot çš„é…ç½®ç±»ï¼Œæ ‡æ³¨åœ¨æŸä¸ªç±»ä¸Šï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªSpringBootçš„é…ç½®ç±» Configuration é…ç½®ç±»ä¸Šæ¥æ ‡è¯†è¿™ä¸ªæ³¨è§£ï¼Œé…ç½®ç±»å’Œé…ç½®æ–‡ä»¶å·®ä¸å¤šï¼Œç”¨äºæ³¨å…¥ï¼Œè¿™æ˜¯ä¸ªspringçš„æ³¨è§£, EnableAutoConfiguration å¼€å¯è‡ªåŠ¨é…ç½®ï¼ŒSpringBootå¸®æˆ‘ä»¬è‡ªåŠ¨é…ç½® @AutoConfigurationPackage è‡ªåŠ¨é…ç½®åŒ… @import(AutoConfigurationPackage.Registrar.class) Springçš„æ³¨è§£@importï¼Œç»™å®¹å™¨ä¸­å¯¼å…¥ä¸€ä¸ªç»„ä»¶ï¼Œå¯¼å…¥çš„ç»„ä»¶ç”±AutoConfigurationPackage.Registrar.class æŒ‡å®š æŠŠä¸»é…ç½®ç±»çš„æ‰€åœ¨åŒ…çš„æ‰€æœ‰å­åŒ…çš„æ‰€æœ‰ç»„ä»¶æ‰«æåˆ°Springå®¹å™¨ä¸­ @import(EnableAutoConfigurationImportSelect.class) EnableAutoConfigurationImportSelect: å¯¼å…¥çš„é€‰æ‹©æ€§ï¼Œè®²æ‰€æœ‰éœ€è¦å¯¼å…¥çš„ç»„ä»¶ä¸€å…¨ç±»åçš„æ–¹å¼è¿”å›ï¼Œè¿™äº›ç»„ä»¶ä¼šè¢«æ·»åŠ åˆ°å®¹å™¨ä¸­ï¼Œæœ€ç»ˆä¼šç»™å®¹å™¨ä¸­å¯¼å…¥éå¸¸å¤šçš„è‡ªåŠ¨é…ç½®ç±»***AutoConfigurationï¼Œå°±æ˜¯å¯¼å…¥åœºæ™¯æ‰€éœ€è¦çš„ç»„ä»¶ã€‚æœ‰äº†è‡ªåŠ¨é…ç½®ç±»ï¼Œå°±å…å»äº†æˆ‘ä»¬æ‰‹åŠ¨ç¼–å†™é…ç½®æ³¨å…¥ç­‰åŠŸèƒ½ç»„ä»¶çš„å·¥ä½œï¼Œ SpringFactoryLoader.loadFactoryNames(EnableAutoConfiguration.class,classLoader); ä»ç±»è·¯å¾„ä¸‹çš„META-INF&#x2F;spring.factoriesä¸­è·å–EnableAutoConfigurationæŒ‡å®šçš„å€¼,å°†è¿™äº›å€¼ä½œä¸ºè‡ªåŠ¨é…ç½®ç±»å¯¼å…¥åˆ°å®¹å™¨ä¸­ï¼Œè‡ªåŠ¨é…ç½®ç±»å°±ç”Ÿæ•ˆäº†ï¼Œå¸®æˆ‘ä»¬è¿›è¡Œè‡ªåŠ¨é…ç½®å·¥ä½œ,ä»¥å‰æˆ‘ä»¬éœ€è¦è‡ªå·±é…ç½®çš„ä¸œè¥¿ï¼Œè‡ªåŠ¨é…ç½®ç±»å¸®æˆ‘ä»¬åšäº†ï¼Œéƒ½åœ¨spring-boot-autoconfigureä¸‹,è§spring.factorieså’Œorg.springframework.boot.autoconfigure SpringInitial ideaä¸­é€‰æ‹©SpringInitialï¼Œç‚¹ç»§ç»­ï¼Œé€‰æ‹©Springwebï¼Œç”Ÿæˆï¼Œç„¶ååŠ å…¥ä¸‹é¢çš„ä»£ç ,å°±å¯ä»¥å¯åŠ¨äº† 12345678910111213141516package com.wsx.springboothelloworld.controller;import org.springframework.stereotype.Controller;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.ResponseBody;import org.springframework.web.bind.annotation.RestController;//@Controller//@ResponseBody // æŠŠè¿™ä¸ªç±»çš„æ‰€ä»¥æ–¹æ³•è¿”å›ç»™æµè§ˆå™¨ï¼Œè½¬åŒ–ä¸ºjsonæ•°æ®@RestController // è¿™ä¸€ä¸ªé¡¶ä¸Šè¾¹ä¸¤ä¸ªpublic class HelloController &#123; @RequestMapping(&quot;/hello&quot;) public String hello()&#123; return &quot;hello world quick!&quot;; &#125;&#125; resourcesä¸­ç›®å½•ç»“æ„çš„staticä¿å­˜é™æ€èµ„æºï¼Œå¦‚cssã€jsã€imagesï¼Œtemplatesä¿å­˜æ‰€ä»¥çš„æ¨¡ç‰ˆé¡µé¢(spring booté»˜è®¤jaråŒ…ä½¿ç”¨åµŒå…¥å¼tomcatï¼Œé»˜è®¤ä¸æ”¯æŒjsp)ï¼Œä½†æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ¨¡ç‰ˆå¼•æ“(freemarker,thymeleaf), application.propertiesä¸­æ”¾äº†springbootçš„é»˜è®¤é…ç½®æ–‡ä»¶ï¼Œæ¯”å¦‚ä½ æƒ³æ¢webçš„ç«¯å£ 1server.port=8081","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"SpringBoot","slug":"Language/Java/SpringBoot","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/SpringBoot/"}],"tags":[]},{"title":"springboot","slug":"Language/Java/SpringBoot/springboot/index","date":"2020-04-14T13:56:10.000Z","updated":"2021-03-13T11:22:00.000Z","comments":true,"path":"Q8S6PM.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8S6PM.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial SpringBootä¸Web å…ˆåœ¨ideaä¸­é€‰æ‹©åœºæ™¯ springbootå·²ç»é»˜è®¤å°†è¿™äº›å¸¸è§é…ç½®å¥½äº†ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šå°‘é‡é…ç½®å°±å¯ä»¥è¿è¡Œèµ·æ¥ ç„¶åæˆ‘ä»¬å¯ä»¥å¼€å§‹ç¼–å†™ä¸šåŠ¡ä»£ç äº†","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial SpringBootä¸Web å…ˆåœ¨ideaä¸­é€‰æ‹©åœºæ™¯ springbootå·²ç»é»˜è®¤å°†è¿™äº›å¸¸è§é…ç½®å¥½äº†ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­æŒ‡å®šå°‘é‡é…ç½®å°±å¯ä»¥è¿è¡Œèµ·æ¥ ç„¶åæˆ‘ä»¬å¯ä»¥å¼€å§‹ç¼–å†™ä¸šåŠ¡ä»£ç äº† æºç ä¸‹è¼‰1git clone https://github.com/spring-projects/spring-boot.git checkout failedåŸå›  1git config core.longPaths true","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"SpringBoot","slug":"Language/Java/SpringBoot","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/SpringBoot/"}],"tags":[]},{"title":"mysql-å…¥é—¨","slug":"Database/mysql-å…¥é—¨/index","date":"2020-04-13T05:40:43.000Z","updated":"2020-04-13T05:40:43.000Z","comments":true,"path":"Q8PP3V.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8PP3V.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial DB Database æ•°æ®åº“ DBMS DatabaseManagementSystem æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ SQL Sturcture Query Language ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ SQLè¯­è¨€ ä¸æ˜¯æŸä¸ªç‰¹å®šæ•°æ®åº“ä¾›åº”å•†ä¸“æœ‰çš„è¯­è¨€ï¼ŒDBMSéƒ½æ”¯æŒSQL MySQL å®‰è£…MySQL å¸è½½MySQL é…ç½® my.ini port æ˜¯ç«¯å£ datadir æ˜¯æ–‡ä»¶ç³»ç»Ÿè·¯å¾„ default-storage-engin æ˜¯æ•°æ®åº“é»˜è®¤å¼•æ“ æ³¨æ„è¦é‡å¯æœåŠ¡æ‰èƒ½ç”Ÿæ•ˆ","categories":[{"name":"Database","slug":"Database","permalink":"http://fightinggg.github.io/indigo/categories/Database/"}],"tags":[]},{"title":"Javaå¹¶å‘ç¼–ç¨‹13-å¹¶å‘æ€»ç»“","slug":"Language/Java/Javaå¹¶å‘/Javaå¹¶å‘ç¼–ç¨‹13-å¹¶å‘æ€»ç»“/index","date":"2020-04-13T04:38:15.000Z","updated":"2020-04-13T04:38:15.000Z","comments":true,"path":"Q8PM7R.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8PM7R.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Javaå¹¶å‘ Tread åˆ›å»ºçº¿ç¨‹ Runnable åˆ›å»ºçº¿ç¨‹ Callable+Futureåˆ›å»ºçº¿ç¨‹ synchronized åŠ é” wait&#x2F;notify é‡Šæ”¾é”å¹¶è¿›å…¥é˜»å¡é˜Ÿåˆ— park&#x2F;unpark ç±»ä¼¼ä¸Š ReentrantLock é‡å…¥é” await&#x2F;signal ä¿¡å·é‡ volatile happens-before CAS ThreadPollExecutor Fork&#x2F;join AQS ReentrantReadWriteLock StampedLock CountdownLatch cyclicbarrier CopyOnWrite ConcurrentHashMap","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"Javaå¹¶å‘","slug":"Language/Java/Javaå¹¶å‘","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/Java%E5%B9%B6%E5%8F%91/"}],"tags":[]},{"title":"javaå¹¶å‘ç¼–ç¨‹12-é›†åˆçš„çº¿ç¨‹å®‰å…¨ç±»","slug":"Language/Java/Javaå¹¶å‘/javaå¹¶å‘ç¼–ç¨‹12-é›†åˆçš„çº¿ç¨‹å®‰å…¨ç±»/index","date":"2020-04-12T15:54:34.000Z","updated":"2020-04-12T15:54:34.000Z","comments":true,"path":"Q8OMUY.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8OMUY.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial é›†åˆçš„çº¿ç¨‹å®‰å…¨ç±»é—ç•™çš„çº¿ç¨‹å®‰å…¨ç±» Hashtableï¼ŒVectorç›´æ¥æŠŠåŒæ­¥åŠ åˆ°æ–¹æ³•ä¸Š ä¿®é¥°çš„å®‰å…¨é›†åˆ è£…é¥°å™¨æ¨¡å¼ï¼ŒSyncronize* JUCå®‰å…¨é›†åˆBlockingå‹ å¤§éƒ¨åˆ†å®ç°åŸºäºé”å¹¶æä¾›é˜»å¡çš„æ–¹æ³•","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial é›†åˆçš„çº¿ç¨‹å®‰å…¨ç±»é—ç•™çš„çº¿ç¨‹å®‰å…¨ç±» Hashtableï¼ŒVectorç›´æ¥æŠŠåŒæ­¥åŠ åˆ°æ–¹æ³•ä¸Š ä¿®é¥°çš„å®‰å…¨é›†åˆ è£…é¥°å™¨æ¨¡å¼ï¼ŒSyncronize* JUCå®‰å…¨é›†åˆBlockingå‹ å¤§éƒ¨åˆ†å®ç°åŸºäºé”å¹¶æä¾›é˜»å¡çš„æ–¹æ³• CopyOnWrite åœ¨ä¿®æ”¹çš„æ—¶å€™ä¼šæ‹·è´ä¸€ä»½ Concurrent ä½¿ç”¨CASä¼˜åŒ–ï¼Œä½¿ç”¨å¤šä¸ªé”ï¼Œä½†æ˜¯æ˜¯å¼±ä¸€è‡´æ€§ï¼Œå¦‚è¿­ä»£çš„æ—¶å€™å¾—åˆ°çš„å†…å®¹æ˜¯æ—§çš„ï¼Œæ±‚å¤§å°æœªå¿…100%å‡†ç¡®ï¼Œè¯»å–ä¹Ÿæ˜¯å¼±ä¸€è‡´æ€§ ConcurrentHashMap ç»†ç²’åº¦é” 12LongAdder value = concurrentHashMap.computeIfAbsent(word,(key)-&gt;new LongAdder());value.increment(); HashMapå¹¶å‘æ­»é“¾ åœ¨jdk7ä¸­é“¾è¡¨æ˜¯å¤´æ’æ³•ï¼Œæ’å…¥16ï¼Œ35ï¼Œ1,å¾—åˆ°äº†1-&gt;35-&gt;16 çº¿ç¨‹Aå‡†å¤‡æ‰©å®¹ e 1-&gt;35-&gt;16-&gt;null , next 35-&gt;16-&gt;null,ç„¶åè¢«ä¸­æ–­ çº¿ç¨‹Bæ‰©å®¹å®Œæˆï¼Œ å¯¼è‡´é“¾è¡¨æˆäº† head-&gt;35-&gt;1-&gt;nullï¼Œ ç„¶åä¸­æ–­ çº¿ç¨‹Aç»§ç»­æ‰©å®¹ e 1-&gt;null, next 35-&gt;1-&gt;null, æŠŠeæ’å…¥åˆ°nextæ–°çš„ä½ç½®,å¾—åˆ°äº†head-&gt;1-&gt;35-&gt;1-&gt; ç»§ç»­æ‰©å®¹ e &#x3D; 35-&gt;1-&gt; next &#x3D; 1-&gt;35-&gt; ï¼ŒæŠŠeæ’å…¥ï¼Œå¾—åˆ°äº†head-&gt;35-&gt;1-&gt;35, è¿™é‡Œå·²ç»æ­»å¾ªç¯äº† ä¸¢å¤±æ•°æ® jdk8æ‰©å®¹ä¼šä¸¢å¤±æ•°æ® ConcurrentHashMap æºç  ForwardingNode, å½“æ‰©å®¹çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ¬è¿ä¸€æ¬¡å°±æŠŠè€ä½ç½®ä¸Šè¿æ¥ForwardingNodeï¼Œ å½“æŸ¥è¯¢æ¥ä¸´çš„æ—¶å€™ï¼Œå°±ä¼šçŸ¥é“å»æ–°çš„tableé‡Œé¢æ‰¾äº†ï¼Œ TreeBinï¼Œ æ˜¯çº¢é»‘æ ‘æ¥æ›¿æ¢é“¾è¡¨,æ·»åŠ å€¼ä¼˜å…ˆè€ƒè™‘æ‰©å®¹è€Œä¸æ˜¯è½¬åŒ–ä¸ºçº¢é»‘æ ‘???æ€ä¹ˆä¸è®²äº†??","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"Javaå¹¶å‘","slug":"Language/Java/Javaå¹¶å‘","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/Java%E5%B9%B6%E5%8F%91/"}],"tags":[]},{"title":"javaå¹¶å‘ç¼–ç¨‹11-JUC","slug":"Language/Java/Javaå¹¶å‘/javaå¹¶å‘ç¼–ç¨‹11-JUC/index","date":"2020-04-12T15:54:19.000Z","updated":"2020-04-12T15:54:19.000Z","comments":true,"path":"Q8OMUJ.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8OMUJ.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial JUCAQS&amp;emsp;&amp;emsp; AbstractQueuedSynchronizer æ˜¯é˜»å¡å¼çš„é”å’Œç›¸å…³çš„åŒæ­¥å™¨å·¥å…·çš„æ¡†æ¶ ReentrantLockå¦‚ä½•é‡å…¥&amp;emsp;&amp;emsp; ç”¨ä¸€ä¸ªå˜é‡è®°å½•é‡å…¥äº†å¤šå°‘æ¬¡ NonfairSynclock&amp;emsp;&amp;emsp; cas ,æˆåŠŸå°±å§ouneræ”¹ä¸ºè‡ªå·±ï¼Œå¦åˆ™acquireï¼ŒæŠŠè‡ªå·±æ”¾è¿›é“¾è¡¨ä¸­ acquire&amp;emsp;&amp;emsp; tryacquireï¼ŒæˆåŠŸå°±ç»“æŸï¼Œå¤±è´¥çš„è¯è¿˜ä¼šå°è¯•å‡ æ¬¡ï¼Œç„¶åæ‰parkï¼Œå¹¶ä¸ºå‰é©±æ ‡è®°ï¼Œè®©å‰é©±è®°å¾—å”¤é†’è‡ªå·±,å¦‚æœæ›¾ç»è¢«æ‰“æ–­çš„è¯ï¼Œä¼šè¢«å¿½ç•¥ï¼Œå†æ¬¡è¿›å…¥aqsé˜Ÿåˆ—ï¼Œå¾—åˆ°é”ä»¥åä¼šæ‰“æ–­è‡ªå·±æ¥å†æ¬¡é‡æ–°æ‰“æ–­","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial JUCAQS&amp;emsp;&amp;emsp; AbstractQueuedSynchronizer æ˜¯é˜»å¡å¼çš„é”å’Œç›¸å…³çš„åŒæ­¥å™¨å·¥å…·çš„æ¡†æ¶ ReentrantLockå¦‚ä½•é‡å…¥&amp;emsp;&amp;emsp; ç”¨ä¸€ä¸ªå˜é‡è®°å½•é‡å…¥äº†å¤šå°‘æ¬¡ NonfairSynclock&amp;emsp;&amp;emsp; cas ,æˆåŠŸå°±å§ouneræ”¹ä¸ºè‡ªå·±ï¼Œå¦åˆ™acquireï¼ŒæŠŠè‡ªå·±æ”¾è¿›é“¾è¡¨ä¸­ acquire&amp;emsp;&amp;emsp; tryacquireï¼ŒæˆåŠŸå°±ç»“æŸï¼Œå¤±è´¥çš„è¯è¿˜ä¼šå°è¯•å‡ æ¬¡ï¼Œç„¶åæ‰parkï¼Œå¹¶ä¸ºå‰é©±æ ‡è®°ï¼Œè®©å‰é©±è®°å¾—å”¤é†’è‡ªå·±,å¦‚æœæ›¾ç»è¢«æ‰“æ–­çš„è¯ï¼Œä¼šè¢«å¿½ç•¥ï¼Œå†æ¬¡è¿›å…¥aqsé˜Ÿåˆ—ï¼Œå¾—åˆ°é”ä»¥åä¼šæ‰“æ–­è‡ªå·±æ¥å†æ¬¡é‡æ–°æ‰“æ–­ unlock&amp;emsp;&amp;emsp; è°ƒç”¨release release&amp;emsp;&amp;emsp; å¦‚æœæˆåŠŸï¼Œunparkå”¤é†’åç»§ï¼Œä¸ºä»€ä¹ˆæ˜¯éå…¬å¹³å‘¢ï¼Ÿå› ä¸ºè¢«å”¤é†’ä»¥åï¼Œå¯èƒ½ä¼šæœ‰ä¸åœ¨é“¾è¡¨ä¸­çº¿ç¨‹æ¥è·Ÿè‡ªå·±ç«äº‰ï¼Œæ‰€ä»¥è¿™ä¸å…¬å¹³ acquireInterruptibly&amp;emsp;&amp;emsp; ä¸å¿½ç•¥æ‰“æ–­ï¼ŒæŠ›å‡ºå¼‚å¸¸å³å¯ FairSync&amp;emsp;&amp;emsp; åŒºåˆ«å†ä¹ŸtryAccquireï¼Œå¦‚æœc&#x3D;0,å³æ²¡äººå ç”¨é”ï¼Œä»–è¿˜ä¼šå»æ£€æµ‹AQSé˜Ÿåˆ—æ˜¯å¦ä¸ºç©ºï¼Œå…¶å®å°±æ˜¯çœ‹ä¸€ä¸‹é“¾è¡¨é˜Ÿåˆ—é¦–éƒ¨æ˜¯å¦ä¸ºè‡ªå·±ï¼Œæˆ–è€…é“¾è¡¨é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º Condition&amp;emsp;&amp;emsp; æ¡ä»¶å˜é‡åˆæ˜¯ä¸€ä¸ªé“¾è¡¨ï¼Œå½“æˆ‘ä»¬è°ƒç”¨awaitçš„æ—¶å€™ï¼Œå½“å‰çº¿ç¨‹çš„èŠ‚ç‚¹ä¼šè¢«æ”¾è¿›å…¶ä¸­ï¼Œç„¶åæŠŠèŠ‚ç‚¹çŠ¶æ€è®¾ä¸ºCONDITION, fullrelease&amp;emsp;&amp;emsp; æ‹¿åˆ°é”çš„é‡æ•°ï¼Œç„¶åä¸€æ¬¡æ€§é‡Šæ”¾ï¼Œåœ¨å”¤é†’åé¢çš„èŠ‚ç‚¹ï¼Œç„¶åparkè‡ªå·± signal&amp;emsp;&amp;emsp; å½“è°ƒç”¨çš„æ—¶å€™è®²æ¡ä»¶å˜é‡çš„é“¾è¡¨ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ å–å‡ºå¹¶åŠ å…¥åˆ°é”çš„ç­‰å¾…é“¾è¡¨ä¸­ã€‚ ReentrantReadWriteLock ReentrantReadWriteLock rw &#x3D; new ReentrantReadWriteLock() rw.readLock(); rw.writeLock(); é”å‡çº§&amp;emsp;&amp;emsp; ä¸‹é¢çš„ä»£ç ä¼šå†™é”æ°¸ä¹…ç­‰å¾… 12rw.readLock().lock();rw.writeLock().lock(); é”é™çº§&amp;emsp;&amp;emsp; ä½ å¯ä»¥æŠŠå†™é”è½¬åŒ–ä¸ºè¯»é” 123456789// è·å¾—å†™é”rw.writeLock().lock();// é”é™çº§rw.readLock().lock();rw.writeLock().unlock();// è·å¾—è¯»é”rw.readLock().unlock(); ç¼“å­˜é—®é¢˜&amp;emsp;&amp;emsp; æˆ‘ä»¬å¯ä»¥æŠŠå¯¹æ•°æ®åº“çš„æŸäº›æ“ä½œç¼“å­˜åˆ°å†…å­˜ä¸­ï¼Œæ¥é™ä½æ•°æ®åº“çš„å‹åŠ› query&amp;emsp;&amp;emsp; å…ˆåœ¨ç¼“å­˜ä¸­æ‰¾ï¼Œæ‰¾ä¸åˆ°å°±åŠ é”è¿›æ•°æ®åº“æ‰¾ï¼Œç„¶åæ›´æ–°ç¼“å­˜,å¯ä»¥è€ƒè™‘åŒé‡æ£€æŸ¥é” update&amp;emsp;&amp;emsp; å…ˆæ›´æ–°æ•°æ®åº“,åæ¸…é™¤ç¼“å­˜ ç¼“å­˜æ›´æ–°ç­–ç•¥å…ˆåˆ ç¼“å­˜ï¼Œåæ›´æ–°æ•°æ®åº“&amp;emsp;&amp;emsp; Aåˆ äº†ç¼“å­˜ï¼Œå‡†å¤‡æ›´æ–°ï¼Œç»“æœBæ¥äº†ï¼ŒBä¸€æŸ¥ç¼“å­˜æ²¡ç”¨ï¼Œå»æ•°æ®æ‰¾æ•°æ®ï¼Œå°±æ‰¾åˆ°äº†æ—§å€¼ã€‚ å…ˆæ›´æ–°æ•°æ®åº“ï¼Œååˆ ç¼“å­˜&amp;emsp;&amp;emsp; Aæ›´æ–°æ•°æ®åº“çš„æ—¶å€™ï¼ŒBå»æŸ¥äº†ç¼“å­˜çš„æ—§ ä¿è¯å¼ºä¸€è‡´æ€§&amp;emsp;&amp;emsp; queryæŸ¥ç¼“å­˜å¥—è¯»é”ï¼ŒæŸ¥æ•°æ®åº“æ›´æ–°ç¼“å­˜åŠ å†™é”&amp;emsp;&amp;emsp; updateç›´æ¥åŠ å†™é” æ²¡æœ‰è€ƒè™‘åˆ°çš„é—®é¢˜ ä¸Šé¢çš„æ“ä½œæ—¶å€™è¯»å¤šå†™å°‘ æ²¡æœ‰è€ƒè™‘ç¼“å­˜å®¹é‡ æ²¡æœ‰è€ƒè™‘ç¼“å­˜è¿‡æœŸ åªé€‚åˆå•æœº å¹¶å‘åº¦è¿˜æ˜¯å¤ªä½ï¼Œ å¯ä»¥é™ä½é”ç²’åº¦ è¯»å†™é”åŸç†&amp;emsp;&amp;emsp; å†™é”å°±æ˜¯ç®€å•åŠ é”ï¼Œæ³¨æ„ç…§é¡¾è¯»é”çš„æƒ…å†µå°±å¯ä»¥äº†&amp;emsp;&amp;emsp; æºç å¤ªå¤æ‚äº†ï¼Œæˆ‘è¯´ä¸æ¸…äº†ï¼Œç•™ä¸ªå‘å§ StampedLock&amp;emsp;&amp;emsp; ä¹è§‚è¯»ï¼Œæ¯ä¸ªæ“ä½œéƒ½å¯ä»¥è¿”å›ä¸€ä¸ªæˆ³ï¼Œè§£é”çš„æ—¶å€™å¯ä»¥å§æˆ³è¿˜å›å»ï¼Œå¦‚æœè¿™ä¸­é—´æœ‰äººè¿›è¡Œäº†ä¿®æ”¹ï¼Œä¼šè¿”å›å¤±è´¥ï¼Œå¦åˆ™æˆåŠŸ stamp &#x3D; tryOptimisticRead() ä¹è§‚è¯» validate(stamp) æ ¡éªŒæ˜¯å¦è¢«ä¿®æ”¹ stamp &#x3D; readLock() è¯»é” stamp &#x3D; writeLock() å†™é” unlockRead(stamp) é‡Šæ”¾ unlockWriteLock() é‡Šæ”¾&amp;emsp;&amp;emsp; ä¸æ”¯æŒæ¡ä»¶å˜é‡ï¼Œä¸æ”¯æŒé‡å…¥ Semaphore&amp;emsp;&amp;emsp; acquireã€releaseï¼Œå’ŒPVæœ‰ç‚¹åƒ åº”ç”¨&amp;emsp;&amp;emsp; å¯ä»¥é™æµï¼Œåœ¨é«˜å³°åŒºè®©çº¿ç¨‹é˜»å¡ï¼Œæ¯”å¦‚æ•°æ®åº“è¿æ¥æ± ï¼Œ åŸç†&amp;emsp;&amp;emsp; stateå­˜ä¿¡å·é‡çš„å€¼&amp;emsp;&amp;emsp; acquire ç”¨casï¼Œå¦‚æœä¸æˆåŠŸä½†æ˜¯ä½ç½®è¿˜å¤Ÿå°±ä¸€ç›´å°è¯•ï¼Œå¦‚æœä½ç½®ä¸å¤Ÿçš„è¯å°±å§å½“å‰çº¿ç¨‹èŠ‚ç‚¹åŠ å…¥AQSé˜Ÿåˆ—&amp;emsp;&amp;emsp; releaseä¾ç„¶æ˜¯å…ˆcasï¼Œå¤±è´¥å°±ä¸€ç›´å°è¯•ï¼Œç»å¯¹ä¼šæˆåŠŸï¼ŒæˆåŠŸä»¥åï¼Œä¾ç„¶æ˜¯æ”¹çŠ¶æ€ï¼Œç„¶åå”¤é†’åé¢çš„çº¿ç¨‹ï¼Œ CountdownLatch&amp;emsp;&amp;emsp; å¯ä»¥ç”¨æ¥åŒæ­¥ï¼Œç­‰å¾…nä¸ªçº¿ç¨‹countDownä»¥åï¼Œawaitçš„çº¿ç¨‹æ‰ä¼šå¼€å§‹è¿è¡Œ åŸç†&amp;emsp;&amp;emsp; ç»´æŠ¤ä¸€ä¸ªå€¼ï¼Œæ¯å½“ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œå®Œæˆï¼Œå°±è®©ä»–å‡å°‘1ï¼Œå½“å‡å°‘ä¸º0çš„æ—¶å€™å”¤é†’awaitçš„çº¿ç¨‹ ä¸ºä»€ä¹ˆä¸ç”¨joinï¼Ÿ&amp;emsp;&amp;emsp; åœ¨çº¿ç¨‹æ± ä¸­ï¼Œçº¿ç¨‹éƒ½ä¸å¸¦åœä¸‹æ¥çš„ï¼Œjoinæ²¡ç”¨ åº”ç”¨1&amp;emsp;&amp;emsp; åœ¨æ¸¸æˆä¸­ï¼Œæ¯ä¸ªç©å®¶éƒ½è‡ªå·±åŠ è½½è‡ªå·±çš„æ•°æ®ï¼Œå½“ä»–ä»¬éƒ½åŠ è½½å®Œæˆçš„æ—¶å€™ï¼Œæ¸¸æˆæ‰èƒ½å¼€å§‹ï¼Œ&amp;emsp;&amp;emsp; æˆ‘ä»¬è®¾ç½®10çš„å€’è®¡æ—¶ï¼Œå½“10ä¸ªç©å®¶æ‰§è¡Œå®Œçš„æ—¶å€™ï¼Œè®©ä»–ä»¬å„è‡ªè°ƒç”¨countdountï¼Œç„¶åå°±èƒ½å”¤é†’æ¸¸æˆå¼€å§‹çº¿ç¨‹ åº”ç”¨2&amp;emsp;&amp;emsp; åœ¨å¾®æœåŠ¡ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦è¯·æ±‚å¤šä¸ªä¿¡æ¯ï¼Œå½“ä¿¡æ¯éƒ½è¯·æ±‚å®Œæˆæ‰èƒ½è¿”å›ï¼Œå¦‚æœä¸²è¡Œï¼Œæ•ˆç‡å¤ªä½äº†ï¼Œæˆ‘ä»¬è€ƒè™‘å¹¶å‘ï¼Œè¿™é‡Œä¹Ÿæ˜¯ä¸ªå€’è®¡æ—¶ è¿”å›ç»“æœï¼Ÿ&amp;emsp;&amp;emsp; å¦‚æœçº¿ç¨‹éœ€è¦è¿”å›ç»“æœï¼Œè¿˜æ˜¯ç”¨fatureæ›´ä¸ºåˆé€‚ï¼ŒCountdownLatchä¸å¤ªé€‚åˆ cyclicbarrier&amp;emsp;&amp;emsp; CountdownLatch ä¸èƒ½ç”¨å¤šæ¬¡ï¼Œè¦å¤šæ¬¡ç”¨çš„è¯ï¼Œåªèƒ½åå¤åˆ›å»ºæ‰è¡Œã€‚&amp;emsp;&amp;emsp; await()å³ä¸ºCountdownLatchçš„countDown&amp;emsp;&amp;emsp; cyclicbarrier æ„é€ çš„æ—¶å€™å¯ä»¥ä¼ è¿›ä¸€ä¸ªRunnableï¼Œå½“ä¿¡å·å€¼é™ä½ä¸º0çš„æ—¶å€™ï¼Œè¿è¡ŒRunnableï¼Œç„¶åä¿¡å·é‡å†æ¬¡èµ‹å€¼ä¸ºnè¾¾åˆ°é‡ç”¨çš„æ•ˆæœ&amp;emsp;&amp;emsp; åƒä¸‡è¦æ³¨æ„nthreadså’Œçº¿ç¨‹æ•°è¦ç›¸ç­‰ï¼Œä¸è¦æéªšæ“ä½œ,ä¸æ˜¯è¯´ä¸è¡Œï¼Œæ˜¯ä¸å¤ªå¥½ã€‚","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"Javaå¹¶å‘","slug":"Language/Java/Javaå¹¶å‘","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/Java%E5%B9%B6%E5%8F%91/"}],"tags":[]},{"title":"javaå¹¶å‘ç¼–ç¨‹10-å¼‚æ­¥æ¨¡å¼","slug":"Language/Java/Javaå¹¶å‘/javaå¹¶å‘ç¼–ç¨‹10-å¼‚æ­¥æ¨¡å¼/index","date":"2020-04-12T15:54:07.000Z","updated":"2020-04-12T15:54:07.000Z","comments":true,"path":"Q8OMU7.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8OMU7.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å¼‚æ­¥æ¨¡å¼-å·¥ä½œçº¿ç¨‹çº¿ç¨‹ä¸è¶³å¯¼è‡´é¥¥é¥¿ æœ‰ä¸¤ä¸ªçº¿ç¨‹Aï¼ŒBï¼Œä»»åŠ¡æœ‰ä¸¤ç§ï¼Œä¸Šèœå’Œåšèœï¼Œæ˜¾ç„¶ä¸Šèœè¦ç­‰å¾…åšèœï¼Œå¦‚æœABéƒ½åœ¨æ‰§è¡Œä¸Šèœï¼Œå°±æ²¡æœ‰æ›´å¤šçš„çº¿ç¨‹åšèœäº†ï¼Œè¿™å°±å¯¼è‡´äº†ABåœ¨æ­»ç­‰ï¼Œæ³¨æ„è¿™ä¸æ˜¯æ­»é”ï¼Œ æ‰€ä»¥ä¸åŒçš„ä»»åŠ¡ç±»å‹åº”è¯¥ç”¨ä¸åŒçš„çº¿ç¨‹æ± ","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å¼‚æ­¥æ¨¡å¼-å·¥ä½œçº¿ç¨‹çº¿ç¨‹ä¸è¶³å¯¼è‡´é¥¥é¥¿ æœ‰ä¸¤ä¸ªçº¿ç¨‹Aï¼ŒBï¼Œä»»åŠ¡æœ‰ä¸¤ç§ï¼Œä¸Šèœå’Œåšèœï¼Œæ˜¾ç„¶ä¸Šèœè¦ç­‰å¾…åšèœï¼Œå¦‚æœABéƒ½åœ¨æ‰§è¡Œä¸Šèœï¼Œå°±æ²¡æœ‰æ›´å¤šçš„çº¿ç¨‹åšèœäº†ï¼Œè¿™å°±å¯¼è‡´äº†ABåœ¨æ­»ç­‰ï¼Œæ³¨æ„è¿™ä¸æ˜¯æ­»é”ï¼Œ æ‰€ä»¥ä¸åŒçš„ä»»åŠ¡ç±»å‹åº”è¯¥ç”¨ä¸åŒçš„çº¿ç¨‹æ±  åˆ›å»ºå¤šå°‘çº¿ç¨‹ è¿‡å°å¯¼è‡´CPUä¸å……åˆ†åˆ©ç”¨ï¼Œè¿‡å¤§å¯¼è‡´ä¸Šä¸‹æ–‡åˆ‡æ¢å ç”¨æ›´å¤šå†…å­˜ CPUå¯†é›†å‹è¿ç®— CPUæ ¸æ•°+1ä¸ªçº¿ç¨‹æœ€å¥½ï¼Œ+1æ˜¯å½“æŸä¸ªçº¿ç¨‹ç”±äºç¼ºé¡µä¸­æ–­å¯¼è‡´æš‚åœçš„æ—¶å€™ï¼Œé¢å¤–çš„çº¿ç¨‹å°±èƒ½é¡¶ä¸Šå» IOå¯†é›†å‹è¿ç®— æ ¸æ•°* æœŸæœ›CPUåˆ©ç”¨ç‡ * (CPUè®¡ç®—æ—¶é—´+ç­‰å¾…æ—¶é—´) &#x2F; CPUè®¡ç®—æ—¶é—´","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"Javaå¹¶å‘","slug":"Language/Java/Javaå¹¶å‘","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/Java%E5%B9%B6%E5%8F%91/"}],"tags":[]},{"title":"javaå¹¶å‘ç¼–ç¨‹9-JDKçº¿ç¨‹æ± ","slug":"Language/Java/Javaå¹¶å‘/javaå¹¶å‘ç¼–ç¨‹9-JDKçº¿ç¨‹æ± /index","date":"2020-04-12T15:53:55.000Z","updated":"2020-04-12T15:53:55.000Z","comments":true,"path":"Q8OMTV.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8OMTV.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial JDKçš„çº¿ç¨‹æ±  çº¿ç¨‹æ± çŠ¶æ€ï¼ŒRUNNINGï¼ŒSHUTDOWN(ä¸ä¼šå†æ¥å—æ–°ä»»åŠ¡äº†)ï¼ŒSTOP(ç«‹åˆ»åœæ­¢)ï¼ŒTIDYING(ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œå³å°†TERMINATED)ï¼ŒTERMINATED æ„é€ å‡½æ•°1public ThreadPollExecutor(int corePoolsize,int maximumPoolSize,long keepAliveTime,TimeUnit unit,BlockingQueue&lt;Runnable&gt; workQueue,ThreadFactory threadFactory,RejectedExecutionHandler handler) æ ¸å¿ƒçº¿ç¨‹æ•°é‡ æœ€å¤§çº¿ç¨‹æ•°é‡ å°±æ€¥çº¿ç¨‹ç”Ÿå­˜æ—¶é—´ æ—¶é—´å•ä½ é˜»å¡é˜Ÿåˆ— çº¿ç¨‹å·¥å‚: ç»™çº¿ç¨‹èµ·ä¸ªåå­— æ‹’ç»ç­–ç•¥","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial JDKçš„çº¿ç¨‹æ±  çº¿ç¨‹æ± çŠ¶æ€ï¼ŒRUNNINGï¼ŒSHUTDOWN(ä¸ä¼šå†æ¥å—æ–°ä»»åŠ¡äº†)ï¼ŒSTOP(ç«‹åˆ»åœæ­¢)ï¼ŒTIDYING(ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œå³å°†TERMINATED)ï¼ŒTERMINATED æ„é€ å‡½æ•°1public ThreadPollExecutor(int corePoolsize,int maximumPoolSize,long keepAliveTime,TimeUnit unit,BlockingQueue&lt;Runnable&gt; workQueue,ThreadFactory threadFactory,RejectedExecutionHandler handler) æ ¸å¿ƒçº¿ç¨‹æ•°é‡ æœ€å¤§çº¿ç¨‹æ•°é‡ å°±æ€¥çº¿ç¨‹ç”Ÿå­˜æ—¶é—´ æ—¶é—´å•ä½ é˜»å¡é˜Ÿåˆ— çº¿ç¨‹å·¥å‚: ç»™çº¿ç¨‹èµ·ä¸ªåå­— æ‹’ç»ç­–ç•¥ æ‹’ç»ç­–ç•¥ AbortPolicy è®©è°ƒç”¨è€…æŠ›å‡ºå¼‚å¸¸ CallerRunsPolicy è®©è°ƒç”¨è€…è¿è¡Œä»»åŠ¡ DiscardPolicy æ”¾å¼ƒæœ¬æ¬¡ä»»åŠ¡ DIcardOldestPolicy æ”¾å¼ƒé˜Ÿåˆ—ä¸­æœ€å…ˆè¿›å…¥çš„ä»»åŠ¡ Dubbo æŠ›å‡ºå¼‚å¸¸å¹¶è®°å½•çº¿ç¨‹æ ˆä¿¡æ¯ Netty åˆ›å»ºæ–°çš„çº¿ç¨‹æ¥æ‰§è¡Œ ActiveMQ ç­‰å¾…è¶…æ—¶ PinPoint æ‹’ç»ç­–ç•¥é“¾ï¼Œ æ¯”å¦‚å…ˆç”¨æ–¹æ³•Aï¼Œå¦‚æœå¤±è´¥å°±è¦æ–¹æ³•Bï¼Œâ€¦ newFixedThreadPool å›ºå®šå¤§å°çš„çº¿ç¨‹æ±  é˜»å¡é˜Ÿåˆ—æ— ç•Œï¼Œæ²¡æœ‰å°±æ€¥çº¿ç¨‹ï¼ŒnThreadsä¸ªæ ¸å¿ƒçº¿ç¨‹, æ˜¯éå®ˆæŠ¤çº¿ç¨‹ å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå·±åˆ›å»ºçº¿ç¨‹å·¥å‚ï¼Œè‡ªå·±ç»™çº¿ç¨‹å–åå­— 12345public static ExecutorService newFixedThreadPool(int nThreads) &#123; return new ThreadPoolExecutor(nThreads, nThreads, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;()); &#125; newCachedThraedPool ä¸å›ºå®šå¤§å°çš„çº¿ç¨‹æ±  é˜»å¡é˜Ÿåˆ—æ— ç•Œï¼Œæ²¡æœ‰æ ¸å¿ƒçº¿ç¨‹ï¼Œå…¨æ˜¯æ•‘æ€¥çº¿ç¨‹ï¼Œä½†ä¸æ˜¯æ— é™ä¸ªï¼Œæ´»60ç§’ 12345public static ExecutorService newCachedThreadPool() &#123; return new ThreadPoolExecutor(0, Integer.MAX_VALUE, 60L, TimeUnit.SECONDS, new SynchronousQueue&lt;Runnable&gt;());&#125; SynchronousQueue å¦‚æœæ²¡æœ‰äººå–å‡ºä¸œè¥¿ï¼Œæ”¾å…¥æ“ä½œä¼šè¢«é˜»å¡, å¦‚æœæ²¡æœ‰äººæ”¾å…¥ä¸œè¥¿ï¼ŒåŒç†æ‹¿å‡ºä¼šè¢«é˜»å¡ï¼Œå¦‚æœæœ‰å¤šä¸ªåŒæ—¶æ‹¿ï¼Œè¿™æ—¶å€™å°±åƒæ ˆä¸€æ ·ï¼Œåæ¥çš„äººï¼Œä¼šå…ˆæ‹¿åˆ°ä¸œè¥¿ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546void test10_f1(SynchronousQueue&lt;Integer&gt; integers, String string) throws InterruptedException &#123; Thread.sleep(200); new Thread(() -&gt; &#123; try &#123; logger.debug(&quot;begin&quot;); integers.put(1); logger.debug(&quot;end&quot;); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125;, string).start();&#125;void test10_f2(SynchronousQueue&lt;Integer&gt; integers, String string) throws InterruptedException &#123; Thread.sleep(200); new Thread(() -&gt; &#123; try &#123; logger.debug(&quot;begin&quot;); integers.take(); logger.debug(&quot;end&quot;); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125;, string).start();&#125;@Testpublic void test10() throws InterruptedException &#123; SynchronousQueue&lt;Integer&gt; integers = new SynchronousQueue&lt;&gt;(); test10_f1(integers, &quot;1&quot;); test10_f1(integers, &quot;2&quot;); test10_f1(integers, &quot;3&quot;); test10_f1(integers, &quot;4&quot;); test10_f2(integers, &quot;5&quot;); test10_f2(integers, &quot;6&quot;); test10_f2(integers, &quot;7&quot;); test10_f2(integers, &quot;8&quot;); test10_f2(integers, &quot;a&quot;); test10_f2(integers, &quot;b&quot;); test10_f2(integers, &quot;c&quot;); test10_f2(integers, &quot;d&quot;); test10_f1(integers, &quot;e&quot;); test10_f1(integers, &quot;f&quot;); test10_f1(integers, &quot;g&quot;); test10_f1(integers, &quot;h&quot;);&#125; ä¸‹é¢æ˜¯è¾“å‡º, å¯ä»¥çœ‹åˆ°ï¼Œ1234æŒ‰é¡ºåºè¿›å…¥ï¼Œ4321æŒ‰é¡ºåºå‡ºæ¥ 123456789101112131415161718192021222324252627282930313216:33:54.391 [1] DEBUG com.wsx.test.ThreadTest - begin16:33:54.591 [2] DEBUG com.wsx.test.ThreadTest - begin16:33:54.792 [3] DEBUG com.wsx.test.ThreadTest - begin16:33:54.996 [4] DEBUG com.wsx.test.ThreadTest - begin16:33:55.202 [5] DEBUG com.wsx.test.ThreadTest - begin16:33:55.202 [5] DEBUG com.wsx.test.ThreadTest - end16:33:55.202 [4] DEBUG com.wsx.test.ThreadTest - end16:33:55.407 [6] DEBUG com.wsx.test.ThreadTest - begin16:33:55.409 [6] DEBUG com.wsx.test.ThreadTest - end16:33:55.409 [3] DEBUG com.wsx.test.ThreadTest - end16:33:55.609 [7] DEBUG com.wsx.test.ThreadTest - begin16:33:55.609 [2] DEBUG com.wsx.test.ThreadTest - end16:33:55.609 [7] DEBUG com.wsx.test.ThreadTest - end16:33:55.813 [8] DEBUG com.wsx.test.ThreadTest - begin16:33:55.814 [8] DEBUG com.wsx.test.ThreadTest - end16:33:55.814 [1] DEBUG com.wsx.test.ThreadTest - end16:33:56.017 [a] DEBUG com.wsx.test.ThreadTest - begin16:33:56.221 [b] DEBUG com.wsx.test.ThreadTest - begin16:33:56.425 [c] DEBUG com.wsx.test.ThreadTest - begin16:33:56.630 [d] DEBUG com.wsx.test.ThreadTest - begin16:33:56.835 [e] DEBUG com.wsx.test.ThreadTest - begin16:33:56.836 [e] DEBUG com.wsx.test.ThreadTest - end16:33:56.836 [d] DEBUG com.wsx.test.ThreadTest - end16:33:57.038 [f] DEBUG com.wsx.test.ThreadTest - begin16:33:57.039 [f] DEBUG com.wsx.test.ThreadTest - end16:33:57.039 [c] DEBUG com.wsx.test.ThreadTest - end16:33:57.244 [g] DEBUG com.wsx.test.ThreadTest - begin16:33:57.244 [g] DEBUG com.wsx.test.ThreadTest - end16:33:57.244 [b] DEBUG com.wsx.test.ThreadTest - end16:33:57.448 [h] DEBUG com.wsx.test.ThreadTest - begin16:33:57.449 [h] DEBUG com.wsx.test.ThreadTest - end16:33:57.449 [a] DEBUG com.wsx.test.ThreadTest - end newSingleThreadExecutor 1ä¸ªæ ¸å¿ƒçº¿ç¨‹ï¼Œ0ä¸ªæ•‘æ€¥çº¿ç¨‹ï¼Œä½¿ç”¨æ— ç•Œé˜Ÿåˆ—,äºæ˜¯ä»»åŠ¡å¯ä»¥æ— æ•°ä¸ª 123456public static ExecutorService newSingleThreadExecutor() &#123; return new FinalizableDelegatedExecutorService (new ThreadPoolExecutor(1, 1, 0L, TimeUnit.MILLISECONDS, new LinkedBlockingQueue&lt;Runnable&gt;()));&#125; 1ä¸ªçº¿ç¨‹çš„çº¿ç¨‹æ± èƒ½å«æ± å—ï¼Ÿæˆ‘å¹²å˜›ä¸è‡ªå·±ç”¨ï¼Ÿ å®é™…ä¸Šæˆ‘ä»¬è‡ªå·±åˆ›å»ºçš„è¯å¦‚æœç¢°åˆ°ä¸€äº›é”™è¯¯çš„ä»»åŠ¡ï¼Œå¯èƒ½çº¿ç¨‹å°±é€€å‡ºäº†ï¼Œè¿™é‡Œä¸å¥½å¤„ç†ï¼Œä½†æ˜¯çº¿ç¨‹æ± åœ¨è¯¥çº¿ç¨‹é€€å‡ºä»¥åä¼šå¸®æˆ‘ä»¬é‡æ–°åˆ›å»ºçº¿ç¨‹ FinalizableDelegatedExecutorService æ˜¯ä¸€ä¸ªè£…é¥°è€…æ¨¡å¼ï¼Œåªæš´éœ²éƒ¨åˆ†æ¥å£ï¼Œé¿å…åæœŸè¢«ä¿®æ”¹å®¹é‡ TimerTask è¿™ä¸ªä¸é‡è¦ï¼Œä»–å¾ˆå·®ï¼Œä»–æ˜¯ä¸²è¡Œæ‰§è¡Œçš„ï¼Œå¦‚æœå‰é¢çš„å¤ªè€—æ—¶ä¼šå¯¼è‡´åé¢çš„è¢«æ¨è¿Ÿï¼Œå¦‚æœå‰é¢å‘ç”Ÿå¼‚å¸¸ï¼Œåé¢çš„ä¸ä¼šæ‰§è¡Œ ScheduledExecutorService ç”¨æ³•å’ŒTimerTaskå¾ˆåƒï¼Œä½†æ˜¯ä»–ä¸ä¼šå‡ºç°ä¸Šé¢çš„å¼‚å¸¸å½±å“åç»­ä»»åŠ¡çš„æƒ…å†µ ScheduledExecutorService.scheduleAtFixedTate() åœ¨åˆå§‹å»¶è¿Ÿä»¥åï¼Œèƒ½å¤Ÿåœ¨å•ä½æ—¶é—´å†…è¢«åå¤æ‰§è¡Œ ScheduledExecutorService.scheduleWithFixedDelay() åœ¨åˆå§‹å»¶è¿Ÿä»¥åï¼Œåå¤æ‰§è¡Œçš„ä¸¤ä¸ªä»»åŠ¡ä¹‹é—´éš”å›ºå®šæ—¶é—´ å‡½æ•°submit ç”¨futureæ¥è¿”å›ï¼Œfuture.get(); invokeAll(tasks) æäº¤tasksä¸­çš„æ‰€æœ‰ä»»åŠ¡ invokeAll(tasks,timeout,unit) å¸¦ä¸€ä¸ªè¶…æ—¶æ—¶é—´ invokeAny è°æœ€å…ˆæ‰§è¡Œå®Œå°±è¿”å›è°ï¼Œå…¶ä»–çš„å°±ä¸ç®¡äº† shutdown æ— é˜»å¡ï¼Œä¸ä¼šæ¥å—æ–°æäº¤çš„ä»»åŠ¡ï¼Œä½†å·²æäº¤çš„ä»»åŠ¡åæ‰§è¡Œå®Œã€‚ shutdownNow æ‰“æ–­æ‰€æœ‰çš„çº¿ç¨‹ï¼Œå¹¶è¿”å›é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ï¼Œ isShutdown åªè¦ä¸æ˜¯runningï¼Œ å°±è¿”å›true isTerminated åªæœ‰TREMINATEDè¿”å›çœŸ awaitTermination å°±ä¸€ç›´ç­‰ï¼Œç­‰åˆ°è¶…æ—¶æˆ–è€…çº¿ç¨‹ç»“æŸ æ­£ç¡®å¤„ç†å¼‚å¸¸ å¦‚æœæ‰§è¡Œè¿‡ç¨‹ä¸­æ²¡æœ‰å¼‚å¸¸ï¼Œfuture.get()æ­£å¸¸è¿”å›,å¦‚æœå‡ºç°å¼‚å¸¸ï¼Œfuture.get()ä¼šæŠ›å‡ºå¼‚å¸¸ Fork&#x2F;Join forkèƒ½åˆ›å»ºæ–°çš„çº¿ç¨‹æ¥æ‰§è¡Œï¼Œjoinä¼šé˜»å¡ï¼Œè¿™å°±å®ç°äº†å¹¶è¡Œï¼Œä¸‹é¢æ˜¯100çš„é˜¶ä¹˜æ¨¡998244353 12345678910111213141516171819202122232425262728293031Logger logger = LoggerFactory.getLogger(RecursiveTaskTest.class);@Testpublic void test() &#123; class Task extends RecursiveTask&lt;Integer&gt; &#123; private int begin; private int end; private int mod; Task(int begin, int end, int mod) &#123; this.begin = begin; this.end = end; this.mod = mod; &#125; @Override protected Integer compute() &#123; if (begin == end) return begin; int mid = begin + end &gt;&gt; 1; Task task1 = new Task(begin, mid, mod); Task task2 = new Task(mid + 1, end, mod); task1.fork(); task2.fork(); return Math.toIntExact(1L * task1.join() * task2.join() % mod); &#125; &#125; ForkJoinPool forkJoinPool = new ForkJoinPool(3); logger.debug(&quot;&#123;&#125;&quot;, forkJoinPool.invoke(new Task(1, 100, 998244353)));&#125;","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"Javaå¹¶å‘","slug":"Language/Java/Javaå¹¶å‘","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/Java%E5%B9%B6%E5%8F%91/"}],"tags":[]},{"title":"javaå¹¶å‘ç¼–ç¨‹8-è‡ªå®šä¹‰çº¿ç¨‹æ± ","slug":"Language/Java/Javaå¹¶å‘/javaå¹¶å‘ç¼–ç¨‹8-è‡ªå®šä¹‰çº¿ç¨‹æ± /index","date":"2020-04-12T15:53:44.000Z","updated":"2020-04-12T15:53:44.000Z","comments":true,"path":"Q8OMTK.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8OMTK.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è‡ªå®šä¹‰çº¿ç¨‹æ±  æŠŠmainçœ‹ä½œä»»åŠ¡çš„ç”Ÿäº§è€…ï¼ŒæŠŠçº¿ç¨‹çœ‹ä½œä»»åŠ¡çš„æ¶ˆè´¹è€…ï¼Œè¿™æ—¶å€™æ¨¡å‹å°±å»ºç«‹å‡ºæ¥äº† äºæ˜¯æˆ‘ä»¬éœ€è¦ä¸€ä¸ªç¼“å†²åŒºï¼Œé‡‡å–æ¶ˆè´¹æ­£ç”Ÿäº§è€…æ¨¡å¼ï¼Œç„¶åè®©æ¶ˆè´¹è€…ä¸æ–­æ¶ˆè´¹ï¼Œå¹¶åœ¨é€‚å½“çš„æ—¶å€™åˆ›å»ºæ–°çš„æ¶ˆè´¹è€…ï¼Œå¦‚æœæ‰€æœ‰ä»»åŠ¡éƒ½åšå®Œäº†ï¼Œå°±å–æ¶ˆæ¶ˆè´¹è€…","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è‡ªå®šä¹‰çº¿ç¨‹æ±  æŠŠmainçœ‹ä½œä»»åŠ¡çš„ç”Ÿäº§è€…ï¼ŒæŠŠçº¿ç¨‹çœ‹ä½œä»»åŠ¡çš„æ¶ˆè´¹è€…ï¼Œè¿™æ—¶å€™æ¨¡å‹å°±å»ºç«‹å‡ºæ¥äº† äºæ˜¯æˆ‘ä»¬éœ€è¦ä¸€ä¸ªç¼“å†²åŒºï¼Œé‡‡å–æ¶ˆè´¹æ­£ç”Ÿäº§è€…æ¨¡å¼ï¼Œç„¶åè®©æ¶ˆè´¹è€…ä¸æ–­æ¶ˆè´¹ï¼Œå¹¶åœ¨é€‚å½“çš„æ—¶å€™åˆ›å»ºæ–°çš„æ¶ˆè´¹è€…ï¼Œå¦‚æœæ‰€æœ‰ä»»åŠ¡éƒ½åšå®Œäº†ï¼Œå°±å–æ¶ˆæ¶ˆè´¹è€… 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138package com.wsx;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import java.util.ArrayDeque;import java.util.Deque;import java.util.concurrent.atomic.AtomicInteger;import java.util.concurrent.locks.Condition;import java.util.concurrent.locks.ReentrantLock;public class TestThreadPool &#123; public static void main(String[] args) &#123; Logger logger = LoggerFactory.getLogger(ThreadPool.class); ThreadPool threadPool = new ThreadPool(3, 10, 10); for (int i = 0; i &lt; 50; i++) &#123; int finalI = i; threadPool.execute(() -&gt; &#123; logger.debug(&quot;&#123;&#125;&quot;, finalI); try &#123; Thread.sleep(1); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125;); &#125; &#125;&#125;class ThreadPool &#123; // çº¿ç¨‹å®‰å…¨é˜»å¡é˜Ÿåˆ— private final BlockingQueue&lt;Runnable&gt; blockingQueue; // çº¿ç¨‹å®‰å…¨ private final AtomicInteger runingSize = new AtomicInteger(0); // çº¿ç¨‹å®‰å…¨final private final int maxSize; // çº¿ç¨‹å®‰å…¨final private final long timeout; public ThreadPool(int maxSize, long timeout, int queueCapcity) &#123; this.maxSize = maxSize; this.timeout = timeout; this.blockingQueue = new BlockingQueue&lt;&gt;(queueCapcity); &#125; public void execute(Runnable task) &#123; for (int old = runingSize.get(); old != maxSize; old = runingSize.get()) &#123; if (runingSize.compareAndSet(old, old + 1)) &#123; new Thread(() -&gt; threadRun(task)).start(); return; &#125; &#125; blockingQueue.put(task); &#125; public void threadRun(Runnable task) &#123; for (; task != null; task = blockingQueue.takeNanos(timeout)) &#123; try &#123; task.run(); &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125; // çº¿ç¨‹é€€å‡ºï¼Œå½“å‰çº¿ç¨‹æ•°é‡é™ä½1 runingSize.decrementAndGet(); &#125;&#125;class BlockingQueue&lt;T&gt; &#123; private final Deque&lt;T&gt; queue = new ArrayDeque&lt;&gt;(); private final ReentrantLock lock = new ReentrantLock(); private final Condition full = lock.newCondition(); private final Condition empty = lock.newCondition(); private final int capcity; public BlockingQueue(int capcity) &#123; this.capcity = capcity; &#125; // å¸¦è¶…æ—¶çš„ç­‰å¾… public T takeNanos(long timeout) &#123; lock.lock(); try &#123; while (queue.isEmpty()) &#123; try &#123; if (timeout &lt;= 0) return null; // è¿”å›å‰©ä½™æ—¶é—´ timeout = empty.awaitNanos(timeout); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; T t = queue.removeFirst(); full.signal(); return t; &#125; finally &#123; lock.unlock(); &#125; &#125; // è¶…æ—¶ç­‰å¾… public T take() &#123; lock.lock(); try &#123; while (queue.isEmpty()) &#123; try &#123; empty.await(); // ç­‰å¾…ç©º &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; T t = queue.removeFirst(); full.signal(); return t; &#125; finally &#123; lock.unlock(); &#125; &#125; public void put(T element) &#123; lock.lock(); try &#123; while (queue.size() == capcity) &#123; try &#123; full.await(); // ç­‰å¾…ç©º &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; queue.addLast(element); empty.signal(); &#125; finally &#123; lock.unlock(); &#125; &#125;&#125; ç­–ç•¥æ¨¡å¼ å½“é˜Ÿåˆ—æ»¡äº†çš„æ—¶å€™ï¼Œ æ­»ç­‰ï¼Œè¶…æ—¶ç­‰å¾…ï¼Œè®©è°ƒç”¨è€…æ”¾å¼ƒæ‰§è¡Œï¼Œè®©è°ƒç”¨è€…æŠ›å‡ºå¼‚å¸¸ï¼Œè®©è°ƒç”¨è€…è‡ªå·±æ‰§è¡Œ å¯ä»¥ç”¨å‡½æ•°å¼ç¼–ç¨‹å®ç°","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"Javaå¹¶å‘","slug":"Language/Java/Javaå¹¶å‘","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/Java%E5%B9%B6%E5%8F%91/"}],"tags":[]},{"title":"ç½‘æ˜“ç¬”è¯•ç¬¬ä¸‰é¢˜","slug":"å®ä¹ /ç¬”è¯•/ç½‘æ˜“ç¬”è¯•ç¬¬ä¸‰é¢˜/index","date":"2020-04-11T14:50:53.000Z","updated":"2020-04-11T14:50:53.000Z","comments":true,"path":"Q8MP8T.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8MP8T.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ç»™ä¸€ä¸ªæ•°å­—å­—ç¬¦ä¸²Sï¼Œä¸€ä¸ªæ•°å­—mï¼Œä½ éœ€è¦è®¡ç®—å‡ºSæœ‰å¤šå°‘ä¸ªåˆ’åˆ†ï¼Œè®²ä»–åˆ’åˆ†ä¸ºS1ï¼ŒS2ï¼ŒS3ï¼Œã€‚ã€‚ ä¸”æ¯ä¸ªæ•°éƒ½æ˜¯mçš„å€æ•°ï¼Œç­”æ¡ˆå¯¹1e9+7å–æ¨¡ä¾‹å¦‚ 123456 2å¯ä»¥åˆ’åˆ†ä¸º1234561234|5612|345612|34|56 æœ€è¿‘å‘ç°è¿™é¢˜ä¸å¯¹åŠ²ï¼Œæœ‰æ–°æƒ³æ³•ï¼Œå…ˆä¸Šä»£ç  123456789101112131415string s;int m;cin&gt;&gt;s&gt;&gt;m;const int mod = 1e9+7;int cnt=0;int cur=0;for(char ch:s)&#123; cur = (cur*10ll+ch-&#x27;0&#x27;)%m; if(cur==0) cnt++;&#125;int ans=0;if(cur=0) ans=0;else ans=1;for(int i=1;i&lt;cnt;i++) ans=(ans*2)%mod;cout&lt;&lt;ans&lt;&lt;endl; çº¦å®šSä¸‹æ ‡ä»1å¼€å§‹åˆ°nç»“æŸï¼Œå³S&#x3D;S[1,n] å®šä¹‰ä¸€ä¸ªå¤§æ•°Sçš„å­ä¸²ä¸ºS[l,r] ä»£è¡¨ä»lå¼€å§‹ï¼Œåˆ°rç»“æŸï¼ŒåŒ…å«lå’Œrï¼Œ å®šä¹‰ä¸€ä¸ªå¤§æ•°Sçš„åˆ’åˆ†åºåˆ—ä¸ºæ•°ç»„$${k_1,k_2,â€¦k_i}$$, è¡¨ç¤ºSè¢«åˆ’åˆ†ä¸ºäº†$S[k_1,k_2-1],S[k_2,k_3-1]â€¦$ ,æ˜¾ç„¶è¿™é‡Œæœ‰$$1&#x3D;k_1\\lt k_2\\lt k_3â€¦$$ æˆ‘ä»¬ä¸éš¾è´ªå¿ƒï¼Œæ¯æ¬¡éƒ½æ‰¾é å·¦æœ€çŸ­çš„åºåˆ—ï¼Œå³åœ¨$$S[1,n]$$ä¸­æ‰¾æœ€çŸ­å‰ç¼€$$S[1,k_2-1]$$,ç„¶åå†åˆ°$$S[k_1,n]$$ä¸­æ‰¾ç¬¬äºŒä¸ªå‰ç¼€ï¼Œäºæ˜¯æˆ‘ä»¬æ‰¾åˆ°äº†cntä¸ª äºæ˜¯æˆ‘ä»¬å¯ä»¥åœ¨åºåˆ—$${k_1,k_2,â€¦k_i}$$ä¸­ä»»æ„å–ä¸€ä¸ªå­åºåˆ—ï¼Œä»–ä»¬éƒ½æ˜¯åˆæ³•çš„åˆ’åˆ†ï¼Œ å‡è®¾æŸä¸ªåˆ’åˆ†åºåˆ—$${t_1,t_2,â€¦t_j}$$ä¸æ˜¯$${k_1,k_2,â€¦k_i}$$çš„å­åºåˆ—,æˆ‘ä»¬å…ˆåœ¨tä¸­æ‰¾åˆ°ä¸€ä¸ªæœ€å°çš„$$t_u$$, ä»–æ²¡æœ‰å‡ºç°åœ¨kä¸­,æˆ‘ä»¬è€ƒè™‘ä»–å·¦è¾¹çš„æ˜¯$$t_{u-1}$$,æˆ‘ä»¬åœ¨kä¸­æ‰¾åˆ°æœ€å¤§çš„å°äº$$t_u$$çš„æ•°$$k_v$$ ç°åœ¨$$t_{u-1}\\lt k_v\\lt t_u\\lt k_{v+1}$$ ç°åœ¨æˆ‘ä»¬æ¥æ¨ç¿»è¿™ä¸ªå‡è®¾ï¼Œtè¯´$$S[t_{u-1},t_u-1]%m&#x3D;0$$,kè¯´$$S[t_{u-1},k_v-1]%m&#x3D;0$$, é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æ¨å‡º$$S[k_v,t_u-1]%m&#x3D;0$$,è¿™ä¸ªç»“è®ºæ˜¾ç„¶ä¸æˆç«‹ï¼Œå› ä¸º$$k_{v+1}\\ne t_u$$","categories":[{"name":"å®ä¹ ","slug":"å®ä¹ ","permalink":"http://fightinggg.github.io/indigo/categories/%E5%AE%9E%E4%B9%A0/"},{"name":"ç¬”è¯•","slug":"å®ä¹ /ç¬”è¯•","permalink":"http://fightinggg.github.io/indigo/categories/%E5%AE%9E%E4%B9%A0/%E7%AC%94%E8%AF%95/"}],"tags":[]},{"title":"javaå¹¶å‘ç¼–ç¨‹7-ä¸å¯å˜è®¾è®¡","slug":"Language/Java/Javaå¹¶å‘/javaå¹¶å‘ç¼–ç¨‹7-ä¸å¯å˜è®¾è®¡/index","date":"2020-04-11T10:32:04.000Z","updated":"2020-04-11T10:32:04.000Z","comments":true,"path":"Q8MD9G.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8MD9G.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ä¸å¯å˜å°±æ˜¯çº¿ç¨‹å®‰å…¨ å¦‚String æ‹·è´æ„é€ å‡½æ•° ä¹‹é—´èµ‹å€¼ char[]æ„é€  æ‹·è´ä¸€ä»½(ä¿æŠ¤æ€§æ‹·è´) å­ä¸² å¦‚æœä¸‹æ ‡èµ·ç‚¹å’Œæ¯ä¸²èµ·ç‚¹ç›¸åŒï¼Œåˆ™ä¹‹é—´å¼•ç”¨è¿‡å»ï¼Œå¦åˆ™ä¿æŠ¤æ€§æ‹·è´(ä¸æ˜ç™½ä¸ºå•¥ä¸å…±ç”¨) äº«å…ƒæ¨¡å¼ æœ€å°åŒ–å†…å­˜çš„ä½¿ç”¨ï¼Œå…±ç”¨å†…å­˜ åŒ…è£…ç±» valueOf, æ¯”å¦‚Longå¦‚æœåœ¨-128åˆ°127ä¹‹é—´ï¼Œå°±ä½¿ç”¨ä¸€ä¸ªcacheæ•°ç»„ï¼Œåˆå¦‚Stringä¸²æ± ï¼ŒBigDecimalå’ŒBigIntegerçš„æŸäº›æ•°ç»„ ä¿æŠ¤ åƒä¸‡è¦æ³¨æ„è¿™äº›ç±»çš„å‡½æ•°ç»„åˆèµ·æ¥æ“ä½œå°±ä¸ä¸€å®šå®‰å…¨äº†ï¼Œéœ€è¦ç”¨åŸå­å¼•ç”¨ç±»æ¥ä¿æŠ¤","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ä¸å¯å˜å°±æ˜¯çº¿ç¨‹å®‰å…¨ å¦‚String æ‹·è´æ„é€ å‡½æ•° ä¹‹é—´èµ‹å€¼ char[]æ„é€  æ‹·è´ä¸€ä»½(ä¿æŠ¤æ€§æ‹·è´) å­ä¸² å¦‚æœä¸‹æ ‡èµ·ç‚¹å’Œæ¯ä¸²èµ·ç‚¹ç›¸åŒï¼Œåˆ™ä¹‹é—´å¼•ç”¨è¿‡å»ï¼Œå¦åˆ™ä¿æŠ¤æ€§æ‹·è´(ä¸æ˜ç™½ä¸ºå•¥ä¸å…±ç”¨) äº«å…ƒæ¨¡å¼ æœ€å°åŒ–å†…å­˜çš„ä½¿ç”¨ï¼Œå…±ç”¨å†…å­˜ åŒ…è£…ç±» valueOf, æ¯”å¦‚Longå¦‚æœåœ¨-128åˆ°127ä¹‹é—´ï¼Œå°±ä½¿ç”¨ä¸€ä¸ªcacheæ•°ç»„ï¼Œåˆå¦‚Stringä¸²æ± ï¼ŒBigDecimalå’ŒBigIntegerçš„æŸäº›æ•°ç»„ ä¿æŠ¤ åƒä¸‡è¦æ³¨æ„è¿™äº›ç±»çš„å‡½æ•°ç»„åˆèµ·æ¥æ“ä½œå°±ä¸ä¸€å®šå®‰å…¨äº†ï¼Œéœ€è¦ç”¨åŸå­å¼•ç”¨ç±»æ¥ä¿æŠ¤ æ•°æ®åº“è¿æ¥æ± 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859package com.wsx;import lombok.Data;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import java.util.concurrent.atomic.AtomicIntegerArray;@Datapublic class ConcurrentPool &#123; private final Logger logger = (Logger) LoggerFactory.getLogger(Connection.class); private final int poolSize; private Connection[] connections; private AtomicIntegerArray states; public ConcurrentPool(int poolSize) &#123; this.poolSize = poolSize; this.connections = new Connection[poolSize]; this.states = new AtomicIntegerArray(new int[poolSize]); for (int i = 0; i &lt; poolSize; i++) &#123; connections[i] = new Connection(); &#125; &#125; public Connection borrow() &#123; while (true) &#123; for (int i = 0; i &lt; poolSize; i++) &#123; if (states.get(i) == 0) &#123; if (states.compareAndSet(i, 0, 1)) &#123; logger.debug(&quot;return &#123;&#125;&quot;,i); return connections[i]; &#125; &#125; &#125; synchronized (this) &#123; try &#123; logger.debug(&quot;wait...&quot;); this.wait(); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125; &#125; &#125; public void free(Connection conn) &#123; for (int i = 0; i &lt; poolSize; i++) &#123; if (conn == connections[i]) &#123; states.set(i, 0); synchronized (this) &#123; logger.debug(&quot;notifyAll...&quot;); this.notifyAll(); &#125; break; &#125; &#125; &#125;&#125; æ”¹è¿› åŠ¨æ€æ‰©å®¹ï¼Œå¯ç”¨æ€§æ£€æµ‹ï¼Œç­‰å¾…è¶…æ—¶å¤„ç†ï¼Œåˆ†å¸ƒå¼hash finalåŸç† finalä¼šç»™å˜é‡åé¢åŠ å…¥å†™å±éšœï¼Œæ³¨æ„ç¬¬ä¸€æ­¥æ˜¯åˆ†é…ç©ºé—´å€¼é»˜è®¤ä¸º0ï¼Œç„¶åæ‰èµ‹äºˆåˆå€¼ï¼Œå†™å±éšœä¿è¯å…¶ä»–å¯¹è±¡çœ‹åˆ°ä»–çš„å€¼æ˜¯èµ‹å€¼ä»¥åçš„è€Œä¸æ˜¯é»˜è®¤å€¼ åœ¨è¯»çš„æ—¶å€™ï¼Œå¦‚æœä¸ç”¨finalç”¨çš„æ˜¯getstaticï¼Œå¦åˆ™çš„è¯å¦‚æœå°å°±å¤åˆ¶åˆ°æ ˆä¸­ï¼Œå¤§å°±æ”¾åˆ°å¸¸é‡æ± ä¸­ã€‚ æ— çŠ¶æ€ ä¾‹å¦‚ä¸è¦ä¸ºservletè®¾ç½®æˆå‘˜å˜é‡ï¼Œè¿™æ—¶å€™ä»–å°±æˆäº†æ— çŠ¶æ€å¯¹è±¡ï¼Œè¿™å°±æ˜¯çº¿ç¨‹å®‰å…¨çš„","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"Javaå¹¶å‘","slug":"Language/Java/Javaå¹¶å‘","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/Java%E5%B9%B6%E5%8F%91/"}],"tags":[]},{"title":"javaå¹¶å‘ç¼–ç¨‹6-æ— é”å¹¶å‘","slug":"Language/Java/Javaå¹¶å‘/javaå¹¶å‘ç¼–ç¨‹6-æ— é”å¹¶å‘/index","date":"2020-04-11T08:06:24.000Z","updated":"2020-04-11T08:06:24.000Z","comments":true,"path":"Q8M6IO.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8M6IO.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial CAS compareAndSet(prev,next);æ— é”ï¼Œæ— é˜»å¡ ä¸ºä»€ä¹ˆæ•ˆç‡é«˜ å¤±è´¥çš„è¯ä¼šé‡æ–°å°è¯•ï¼Œä½†æ˜¯é”ä¼šè¿›è¡Œä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œä»£ä»·å¤§ åŸå­æ•´å½¢AtomicInteger123incrementAndGet();getAndAdd(5);updateAndGet(value -&gt; value*10);","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial CAS compareAndSet(prev,next);æ— é”ï¼Œæ— é˜»å¡ ä¸ºä»€ä¹ˆæ•ˆç‡é«˜ å¤±è´¥çš„è¯ä¼šé‡æ–°å°è¯•ï¼Œä½†æ˜¯é”ä¼šè¿›è¡Œä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œä»£ä»·å¤§ åŸå­æ•´å½¢AtomicInteger123incrementAndGet();getAndAdd(5);updateAndGet(value -&gt; value*10); åŸå­å¼•ç”¨ AtomicReference ä¸èƒ½è§£å†³ABAé—®é¢˜ AtomicStampedReference ç‰ˆæœ¬å·æœºåˆ¶ AtomicMarkableReference Trueå’Œfalse åŸå­æ•°ç»„å­—æ®µæ›´æ–°å™¨ å¯ä»¥ä¿æŠ¤ç±»çš„æˆå‘˜ compareAndSet(obj,expect,update); åŸå­ç´¯åŠ å™¨ å’ŒåŸå­æ•´å½¢ä¸€æ ·ï¼Œä½†æ˜¯åªæ”¯æŒç´¯åŠ å¹¶ä¸”æ•ˆç‡æ›´é«˜ ç¼“å­˜è¡Œä¼ªå…±äº« ç¼“å­˜ä¸­çš„æ•°æ®æ˜¯æŒ‰ç…§è¡Œåˆ†çš„ï¼Œè¦å¤±æ•ˆå°±ä¸€èµ·å¤±æ•ˆ æœ‰æ•°æ®aå’Œbï¼Œä»–ä»¬è¢«åˆ†åˆ°äº†ä¸€ä¸ªè¡Œä¸­ï¼Œçº¿ç¨‹1æ”¹å˜aå¯¼è‡´çº¿ç¨‹2çš„è¡Œå¤±æ•ˆï¼Œçº¿ç¨‹2æ”¹å˜bå¯¼è‡´çº¿ç¨‹1çš„è¡Œå¤±æ•ˆï¼Œè¿™å°±æ˜¯ä¼ªå…±äº« æ³¨è§£sum.misc.Contended , å¯ä»¥åœ¨å†…å­˜ä¸­åŠ å…¥ç©ºç™½ï¼Œä¸å‡ºç°ä¼ªå…±äº« longadder ç´¯åŠ å•å…ƒï¼Œå’ŒconcurrentHashMapä¸€æ ·ï¼Œä½¿ç”¨åˆ†æ®µçš„æœºåˆ¶ï¼Œæé«˜å¹¶è¡Œåº¦ï¼Œç”¨ä¸€ä¸ªæ•°ç»„æ¥è¡¨ç¤ºç´¯åŠ ï¼Œæ•°ç»„å…ƒç´ çš„å’Œæ‰æ˜¯çœŸæ­£çš„ç´¯åŠ å€¼ï¼Œorn Unsafe è·å¾—Unsafe ,ä»–æ˜¯å•ä¾‹ä¸”private 123Field theUnsafe = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);theUnsafe.setAccessible(true);Unsafe unsafe = (Unsafe) theUnsafe.get(null); CAS1234class Teacher&#123; volatile int id; volatile String name;&#125; 12345// 1. è·å¾—åŸŸçš„åç§»åœ°å€long idOffset = unsafe.objectFieldOffset(Teacher.class.getDeclaredField(&quot;id&quot;));Teacher t = new Teacher();// æ‰§è¡Œcasunsafe.compareAndSwapInt(t,idOffset,0,1); è‡ªå·±å®ç°AutomicInteger12345678910111213141516171819class MyAtomicInteger&#123; private volatile int value; private static final long valueOffset; static final Unsafe UNSAFE; static &#123; // è·å¾—UNSAFE &#125; public int getValue()&#123; return value; &#125; public void increment(amount)&#123; while(true)&#123; int prev = this.value; int next = prev+amount; UNSAFE.compareAndSwapInt(this,valueOffset,prev,next); &#125; &#125;&#125;","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"Javaå¹¶å‘","slug":"Language/Java/Javaå¹¶å‘","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/Java%E5%B9%B6%E5%8F%91/"}],"tags":[]},{"title":"javaå¹¶å‘ç¼–ç¨‹5-Javaå†…å­˜","slug":"Language/Java/Javaå¹¶å‘/javaå¹¶å‘ç¼–ç¨‹5-Javaå†…å­˜/index","date":"2020-04-11T05:07:36.000Z","updated":"2020-04-11T05:07:36.000Z","comments":true,"path":"Q8LY8O.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8LY8O.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial JMM Java Memory Model åŸå­æ€§: ä¿è¯æŒ‡ä»¤ä¸ä¼šæ”¶åˆ°çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢çš„å½±å“ å¯è§æ€§: ä¿è¯æŒ‡ä»¤ä¸ä¼šå—åˆ°cpuç¼“å­˜çš„å½±å“ æœ‰åºæ€§: ä¿è¯æŒ‡ä»¤ä¸ä¼šå—åˆ°cpuæŒ‡ä»¤å¹¶è¡Œä¼˜åŒ–çš„å½±å“","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial JMM Java Memory Model åŸå­æ€§: ä¿è¯æŒ‡ä»¤ä¸ä¼šæ”¶åˆ°çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢çš„å½±å“ å¯è§æ€§: ä¿è¯æŒ‡ä»¤ä¸ä¼šå—åˆ°cpuç¼“å­˜çš„å½±å“ æœ‰åºæ€§: ä¿è¯æŒ‡ä»¤ä¸ä¼šå—åˆ°cpuæŒ‡ä»¤å¹¶è¡Œä¼˜åŒ–çš„å½±å“ å¯è§æ€§ javaçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„é«˜é€Ÿç¼“å­˜åŒºï¼Œæ˜¯å†…å­˜çš„ä¸€ä¸ªå­é›†ï¼Œä¸‹é¢çš„æµ‹è¯•ï¼Œä¸ä¼šåœæ­¢è¿è¡Œ,å°è¯•ä½¿ç”¨volatileè§£å†³,å½“ç„¶åŠ å…¥synchronizedç½©ä½ä»–ä¹Ÿå¯ä»¥ã€‚System.out.printlnä¹Ÿå¯ä»¥ 12345678910111213141516boolean flag = true;@Testpublic void test8() throws InterruptedException &#123; Logger logger = LoggerFactory.getLogger(ThreadTest.class); Thread thread = new Thread(() -&gt; &#123; while (flag) &#123; &#125; logger.debug(&quot;end&quot;); &#125;, &quot;t1&quot;); thread.start(); Thread.sleep(1000); flag = false; logger.debug(&quot;end&quot;); thread.join();&#125; ä¸¤é˜¶æ®µç»ˆæ­¢ ç”¨volatileæ¥å®ç°å¯è§æ€§ï¼Œä¸€ä¸ªè´Ÿè´£è¯»ï¼Œå¦ä¸€ä¸ªè´Ÿè´£å†™ã€‚ balking çŠ¹è±« å‚è§å¤šçº¿ç¨‹å®ç°çš„å•ä¾‹æ¨¡å¼ï¼ŒåŒé‡æ£€æŸ¥é”ï¼ŒæŒ‡ä»¤é‡æ’å‘ç”Ÿåœ¨æ„é€ å‡½æ•°å’Œå¯¹å†…å­˜èµ‹å€¼ä¹‹é—´ã€‚ æŒ‡ä»¤é‡æ’ ä¸ºäº†æé«˜CPUååç‡ï¼Œæˆ‘ä»¬ä¼šåšæŒ‡ä»¤é‡æ’,ä¸‹é¢çš„f2ä¸­ï¼Œä¸€æ—¦å‘ç”ŸæŒ‡ä»¤é‡æ‹ï¼Œrå°±å¯èƒ½å˜ä¸º0 12345678910111213int num = 0;boolean ready = false;int r;public void f1() &#123; if (ready) r = num + num; else r = 1;&#125;public void f2() &#123; num = 2; ready = true;&#125; å‹æµ‹å·¥å…· JCstress, ç”¨å¤§é‡çš„çº¿ç¨‹å¹¶å‘æ¨¡æ‹Ÿ ç¦æ­¢æŒ‡ä»¤é‡æ’ volatile å¯ä»¥å®ç° volatileåŸç†å†™å±éšœ åœ¨è¯¥å±éšœä¹‹å‰çš„æ”¹åŠ¨ï¼Œéƒ½å°†è¢«åŒæ­¥åˆ°ä¸»å­˜å½“ä¸­ è¯»å±éšœ ä¿è¯è¯¥å±éšœä»¥åçš„è¯»å–ï¼Œéƒ½è¦åŠ è½½ä¸»å­˜ä¸­æœ€æ–°çš„æ•°æ® å•ä¾‹æ“ä½œvolatile å› ä¸ºvolatileåŠ å…¥äº†å†™å±éšœï¼Œæ„é€ æ–¹æ³•ä¸ä¼šè¢«æ’åˆ°å¯¹å†…å­˜èµ‹å€¼ä¹‹å happens-before happens-before è§„å®šäº†å¯¹å…±äº«å˜é‡çš„å†™æ“ä½œå¯¹å…¶ä»–çº¿ç¨‹çš„è¯»æ“ä½œå¯è§ã€‚çº¿ç¨‹è§£é”må‰å¯¹å˜é‡çš„å†™ï¼Œå¯¹äºæ¥æ¥ä¸‹å¯¹måŠ é”çš„å…¶ä»–çº¿ç¨‹å¯è§ï¼Œå¯¹volatileçš„å†™å¯¹å…¶ä»–çº¿ç¨‹çš„è¯»å¯è§ï¼Œstartä¹‹å‰å¯¹å˜é‡çš„å†™ï¼Œå¯¹å…¶å¯è§ï¼Œçº¿ç¨‹ç»“æŸå‰å¯¹å˜é‡çš„å†™ï¼Œå¯¹å…¶ä»–çº¿ç¨‹å¾—çŸ¥ä»–ç»“æŸåå¯è§ï¼Œçº¿ç¨‹t1æ‰“æ–­t2å‰å¯¹å˜é‡çš„å†™ï¼Œå¯¹äºå…¶ä»–çº¿ç¨‹å¾—çŸ¥t2è¢«æ‰“æ–­åå¯¹å˜é‡çš„è¯»å¯è§,å¯¹å˜é‡çš„é»˜è®¤å€¼çš„å†™ï¼Œå¯¹å…¶ä»–çº¿ç¨‹å¯è§ï¼Œè¿˜æœ‰å±éšœä¹Ÿèƒ½ä¿è¯","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"Javaå¹¶å‘","slug":"Language/Java/Javaå¹¶å‘","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/Java%E5%B9%B6%E5%8F%91/"}],"tags":[]},{"title":"javaå¹¶å‘ç¼–ç¨‹4-åŒæ­¥ä¸äº’æ–¥","slug":"Language/Java/Javaå¹¶å‘/javaå¹¶å‘ç¼–ç¨‹4-åŒæ­¥ä¸äº’æ–¥/index","date":"2020-04-10T15:59:09.000Z","updated":"2020-04-10T15:59:09.000Z","comments":true,"path":"Q8KXQL.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8KXQL.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial synchronized é”ä½å¯¹è±¡ï¼Œæ”¾åœ¨é™æ€æ–¹æ³•å‰ä¸ºé”ç±»ï¼Œæ”¾åœ¨æ™®é€šæ–¹æ³•å‰ä¸ºé”ç±»çš„å¯¹åƒã€‚ä½¿ç”¨ç®¡ç¨‹å®ç° çº¿ç¨‹å®‰å…¨ç±» String, Integer, StringBuffer,Random,Vector,Hashtable,juc; åŠ é” æŠŠå¯¹è±¡å¤´çš„hashã€Ageå’Œå¯¹è±¡çš„æŒ‡é’ˆæ”¾è¿›è‡ªå·±çš„æ ˆä¸­ï¼Œè®©å¯¹è±¡å¤´çš„hashã€Age,ä½ç½®æŒ‡å‘è‡ªå·±çš„æ ˆï¼Œ è¿™æ—¶å€™æ¥äº†å¦ä¸€ä¸ªçº¿ç¨‹ä¹Ÿæƒ³æ‹¿åˆ°é”ï¼Œä½†æ˜¯ä»–è‚¯å®šä¼šå¤±è´¥ï¼Œå¤±è´¥ä»¥åä»–å°±ç”³è¯·é‡é‡çº§é”ï¼Œè®©å¯¹è±¡å¤´å†æ¬¡æ”¹å˜ä¸ºæŒ‡å‘ç®¡ç¨‹ï¼Œ å½“åŸæ¥å½“çº¿ç¨‹æƒ³è¦é‡Šæ”¾é”çš„æ—¶å€™ï¼Œä¾ç„¶ä½¿ç”¨casï¼Œä½†æ˜¯è‚¯å®šå¤±è´¥ï¼Œä»–å‘ç°ç°åœ¨çš„é”å·²ç»å˜æˆäº†é‡é‡çº§é”äº†ã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial synchronized é”ä½å¯¹è±¡ï¼Œæ”¾åœ¨é™æ€æ–¹æ³•å‰ä¸ºé”ç±»ï¼Œæ”¾åœ¨æ™®é€šæ–¹æ³•å‰ä¸ºé”ç±»çš„å¯¹åƒã€‚ä½¿ç”¨ç®¡ç¨‹å®ç° çº¿ç¨‹å®‰å…¨ç±» String, Integer, StringBuffer,Random,Vector,Hashtable,juc; åŠ é” æŠŠå¯¹è±¡å¤´çš„hashã€Ageå’Œå¯¹è±¡çš„æŒ‡é’ˆæ”¾è¿›è‡ªå·±çš„æ ˆä¸­ï¼Œè®©å¯¹è±¡å¤´çš„hashã€Age,ä½ç½®æŒ‡å‘è‡ªå·±çš„æ ˆï¼Œ è¿™æ—¶å€™æ¥äº†å¦ä¸€ä¸ªçº¿ç¨‹ä¹Ÿæƒ³æ‹¿åˆ°é”ï¼Œä½†æ˜¯ä»–è‚¯å®šä¼šå¤±è´¥ï¼Œå¤±è´¥ä»¥åä»–å°±ç”³è¯·é‡é‡çº§é”ï¼Œè®©å¯¹è±¡å¤´å†æ¬¡æ”¹å˜ä¸ºæŒ‡å‘ç®¡ç¨‹ï¼Œ å½“åŸæ¥å½“çº¿ç¨‹æƒ³è¦é‡Šæ”¾é”çš„æ—¶å€™ï¼Œä¾ç„¶ä½¿ç”¨casï¼Œä½†æ˜¯è‚¯å®šå¤±è´¥ï¼Œä»–å‘ç°ç°åœ¨çš„é”å·²ç»å˜æˆäº†é‡é‡çº§é”äº†ã€‚ è‡ªæ—‹ä¼˜åŒ– ä¸é˜»å¡ï¼Œä½¿ç”¨è‡ªæ—‹ï¼Œå¦‚æœè‡ªæ—‹å¤šæ¬¡å¤±è´¥å°±é˜»å¡äº† åå‘é” å¯ä»¥åœ¨å¯¹è±¡å¤´ä¸­åŠ å…¥çº¿ç¨‹çš„IDï¼Œç„¶åå¯¹è±¡çš„é”å°±è¢«è¿™ä¸ªçº¿ç¨‹æ‰€æŒæœ‰äº†ã€‚ç¨‹åºå¯åŠ¨3ç§’ä»¥åå¯åŠ¨åå‘é”ï¼Œå¯ä»¥é€šè¿‡VMå‚æ•°æ¥æ”¹å˜ ç¦ç”¨åå‘é” -XX: -UseBiasedLocking hashcode è½»é‡çº§é”å’Œé‡é‡çº§é”éƒ½ä¸ä¼šå› ä¸ºè°ƒç”¨hashcodeè€Œæ’¤é”€é”çŠ¶æ€ï¼Œä½†æ˜¯åå‘é”ä¼šï¼Œå› ä¸ºä»–æ²¡æœ‰åœ°æ–¹å‚¨å­˜hashcodeï¼Œæ‰€ä»¥è°ƒç”¨hashcodeä»¥åï¼Œåå‘é”ä¼šè¢«æ’¤é”€ wait&#x2F;notify è¿™ä¸ªæ˜¯åªæœ‰é‡é‡çº§é”æ‰æœ‰çš„ä¸œè¥¿ï¼Œæ‰€ä»¥ä¹Ÿä¼šæ’¤é”€è½»é‡é” æ‰¹é‡é‡åå‘ å¦‚æœè¿ç»­æ’¤é”€é”è¶…è¿‡20æ¬¡ï¼Œjvmä¼šæ‰¹é‡çš„è®©ç±»çš„æ‰€æœ‰å¯¹è±¡éƒ½åå‘äºå¦ä¸€ä¸ªçº¿ç¨‹ æ‰¹é‡æ’¤é”€ å¦‚æœæ’¤é”€æ¬¡æ•°è¶…è¿‡40æ¬¡ï¼Œjvmä¼šæ’¤é”€è¿™ä¸ªç±»çš„æ‰€æœ‰å¯¹è±¡çš„åå‘é”ï¼Œç”šè‡³æ–°å»ºçš„å¯¹è±¡ä¹Ÿä¸ä¼šæœ‰åå‘é” é”æ¶ˆé™¤ JITå³æ—¶ç¼–è¯‘å™¨ä¼šä¼˜åŒ–çƒ­ç‚¹ä»£ç ï¼Œå¦‚æœåˆ†æå‡ºæŸä¸ªé”ä¸ä¼šé€ƒç¦»æ–¹æ³•ï¼Œåˆ™è¿›è¡Œé”æ¶ˆé™¤ ä¿æŠ¤æ€§æš‚åœGuardObject ç”¨ä¸€ä¸ªä¸­é—´å¯¹è±¡æŠŠçº¿ç¨‹è¿æ¥èµ·æ¥ï¼Œæ³¨æ„è™šå‡å”¤é†’çš„æƒ…å†µå‘ç”Ÿã€‚æˆ‘ä»¬ç”¨æ—¶é—´ç›¸å‡æ¥é¿å…äº§ç”Ÿç­‰å¾…æ—¶é—´é”™è¯¯çš„æƒ…å†µ parkå’Œunpark ä»–ä»¬å°±åƒPVæ“ä½œä¸€æ ·ï¼Œä½†æ˜¯ä¿¡å·é‡ä¸èƒ½å åŠ  parkå’Œunparkå®ç°çš„æ—¶å€™æœ‰ä¸‰éƒ¨åˆ†,_mutex,_condition,_counter,è¿™é‡Œçš„_counteræœ€å¤šåªèƒ½æ˜¯ è°ƒç”¨park : æ£€æŸ¥_counterï¼Œå¦‚æœä¸º0ï¼Œå°±è·å¾—_mutexé”ï¼Œç„¶åè¯¥çº¿ç¨‹è¿›å…¥_conditionå¼€å§‹é˜»å¡,å¦‚æœä¸º1ï¼Œå°±æŠŠå®ƒè®¾ä¸º0ï¼Œç„¶åç»§ç»­æ‰§è¡Œçº¿ç¨‹ è°ƒç”¨unpark, æŠŠcounterè®¾ä¸º1ï¼Œç„¶åå”¤é†’_conditionä¸­çš„çº¿ç¨‹ çº¿ç¨‹çŠ¶æ€è½¬æ¢start NEW -&gt; RUNNABLE è°ƒç”¨start() å¯¹è±¡é” RUNNABLE -&gt; WAITING è·å¾—å¯¹è±¡é”åwait() WAITING -&gt; RUNNABLE notify(),notifyAll(),interrupt()ä¸”ç«äº‰æˆåŠŸ WAITING -&gt; BLOCKED notify(),notifyAll(),interrupt()ä¸”ç«äº‰å¤±è´¥ BLOCKED -&gt; WAITING å½“æŒæœ‰é”çš„çº¿ç¨‹æ‰§è¡Œå®Œæ¯•ä¼šå”¤é†’å…¶ä»–BLOCKEDçš„çº¿ç¨‹ join RUNNABLE -&gt; WAITING è°ƒç”¨join() WAITING -&gt; RUNNABLE joinçš„çº¿ç¨‹æ‰§è¡Œå®Œæˆæˆ–è€…å½“å‰çº¿ç¨‹è¢«interrupt() parkå’Œunpark RUNNABLE -&gt; WAITING è°ƒç”¨park() WAITING -&gt; RUNNABLE è°ƒç”¨unpark()æˆ–è€…interrupt() wait(long t) RUNNABLE -&gt; TIMED_WAITING è·å¾—å¯¹è±¡é”åwait(long) TIMED_WAITING -&gt; RUNNABLE è¶…æ—¶ï¼Œnotify(),notifyAll(),interrupt()ä¸”ç«äº‰æˆåŠŸ TIMED_WAITING -&gt; BLOCKED è¶…æ—¶ï¼Œnotify(),notifyAll(),interrupt()ä¸”ç«äº‰å¤±è´¥ join(long t) RUNNABLE -&gt; TIMED_WAITING è°ƒç”¨join(long) TIMED_WAITING -&gt; è¶…æ—¶ï¼ŒRUNNABLE joinçš„çº¿ç¨‹æ‰§è¡Œå®Œæˆæˆ–è€…å½“å‰çº¿ç¨‹è¢«interrupt() sleep(long) RUNNABLE -&gt; TIMED_WAITING è°ƒç”¨sleep(long) TIMED_WAITING -&gt; è¶…æ—¶ï¼ŒRUNNABLE sleepçš„çº¿ç¨‹æ‰§è¡Œå®Œæˆæˆ–è€…å½“å‰çº¿ç¨‹è¢«interrupt() parkNanoså’ŒparkUntilç»ˆæ­¢ RUNNABLE -&gt; TERMINATED å½“çº¿ç¨‹æ‰§è¡Œå®Œæ¯• æ­»é”å®šä½æ­»é” jconsoleï¼Œjpséƒ½å¯ä»¥ jps å¦‚æœæ­»é”ï¼Œä¼šæç¤ºFound One Java-level deadlock,åœ¨é‡Œé¢æ‰¾å» jconsole é€‰æ‹©çº¿ç¨‹ï¼Œç‚¹æ£€æµ‹æ­»é”ï¼Œå°±èƒ½çœ‹åˆ°äº† æ´»é” ä¸€ä¸ªçº¿ç¨‹i++ï¼Œå¦ä¸€ä¸ªiâ€“,éš¾ä»¥ç»“æŸäº†,åŸå› æ˜¯æ”¹å˜äº†äº’ç›¸çš„ç»“æŸæ¡ä»¶ é¥¥é¥¿ å¯ä»¥é€šè¿‡é¡ºåºåŠ é”æ¥é¿å…æ­»é”ï¼Œä½†æ˜¯è¿™åˆä¼šå¯¼è‡´é¥¥é¥¿å‘ç”Ÿ ReentrantLock å¯ä¸­æ–­ï¼Œå¯è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œå¯è®¾ç½®å…¬å¹³é”ï¼Œæ”¯æŒå¤šä¸ªæ¡ä»¶å˜é‡ï¼Œå¯é‡å…¥ ç”¨æ³•123456reentrantLock.lock();try&#123;&#125;finally&#123; reentrantLock.unlock();&#125; å¯æ‰“æ–­ æ²¡æœ‰ç«äº‰å°±èƒ½å¾—åˆ°é”ï¼Œå¦‚æœè¿›å…¥äº†é˜»å¡é˜Ÿåˆ—ï¼Œå¯ä»¥è¢«å…¶ä»–çº¿ç¨‹ç”¨interruputæ‰“æ–­ã€‚ 12345678910try&#123; reentrantLock.lockInterruptibly();&#125;catch(InterruptedException e)&#123; e.printStackTrace();&#125;try&#123; //....&#125;finally&#123; reentrantLock.unlock();&#125; éé˜»å¡ tryLock() è¶…æ—¶æœºåˆ¶ tryLock(1,TimeUnit.SECONDS) æ¡ä»¶å˜é‡ ReentrantLockæ”¯æŒå¤šä¸ªæ¡ä»¶å˜é‡ 1234Condition c1 = reentrantLock.newCondition()Condition c2 = reentrantLock.newCondition()// è·å¾—é”ä¹‹åc1.await(); 1c1.signal(); åŒæ­¥ awaitå’Œsignal,parkå’Œunpark,watiå’Œnotifyï¼Œ 3ä¸ªçº¿ç¨‹åˆ†åˆ«è¾“å‡ºa,b,c, è¦çœ‹åˆ°abcabcabcabcabcä¸€ä¸ªæ•´æ•°+wait&#x2F;notifyAll è½®æ¢ï¼Œ1åˆ™aè¾“å‡ºï¼Œ2åˆ™bè¾“å‡ºï¼Œ3åˆ™cè¾“å‡ºï¼Œå¦‚æœä¸æ˜¯è‡ªå·±çš„å°±waitï¼Œæ˜¯çš„è¯å°±è¾“å‡ºç„¶ånotifyAll ä½¿ç”¨ä¿¡å·é‡+await&#x2F;signal è®¾ç½®3ä¸ªä¿¡å·é‡ï¼Œä¸€ä¸ªçº¿ç¨‹ç”¨ä¸€ä¸ªï¼Œç„¶åaå”¤é†’bï¼Œbå”¤é†’cï¼Œcå”¤é†’a parkå’Œunpark a unpark b, b unpark c, c unpark a; 12345678910111213141516171819static Thread t1 = null, t2 = null, t3 = null; void show(String string, Thread thread) &#123; for (int i = 0; i &lt; 10; i++) &#123; LockSupport.park(); System.out.print(string); LockSupport.unpark(thread); &#125; &#125; @Test public void test7() throws InterruptedException &#123; t1 = new Thread(() -&gt; show(&quot;a&quot;, t2)); t2 = new Thread(() -&gt; show(&quot;b&quot;, t3)); t3 = new Thread(() -&gt; show(&quot;c&quot;, t1)); t1.start(); t2.start(); t3.start(); LockSupport.unpark(t1); &#125;","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"Javaå¹¶å‘","slug":"Language/Java/Javaå¹¶å‘","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/Java%E5%B9%B6%E5%8F%91/"}],"tags":[]},{"title":"javaå¹¶å‘ç¼–ç¨‹3-çº¿ç¨‹è¿è¡ŒåŸç†","slug":"Language/Java/Javaå¹¶å‘/javaå¹¶å‘ç¼–ç¨‹3-çº¿ç¨‹è¿è¡ŒåŸç†/index","date":"2020-04-10T06:11:57.000Z","updated":"2020-04-10T06:11:57.000Z","comments":true,"path":"Q8K6JX.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8K6JX.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ ˆ æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„æ ˆï¼Œ çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ CPUæ—¶é—´ç‰‡ç”¨å®Œ gc æœ‰æ›´é«˜ä¼˜å…ˆçº§çš„çº¿ç¨‹è¦è¿è¡Œ çº¿ç¨‹è‡ªå·±sleep,yield,wait,join,park,synchronized,lock","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ ˆ æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„æ ˆï¼Œ çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ CPUæ—¶é—´ç‰‡ç”¨å®Œ gc æœ‰æ›´é«˜ä¼˜å…ˆçº§çš„çº¿ç¨‹è¦è¿è¡Œ çº¿ç¨‹è‡ªå·±sleep,yield,wait,join,park,synchronized,lock çº¿ç¨‹ä¸­å¸¸ç”¨çš„æ–¹æ³• start() çº¿ç¨‹è¿›å…¥å°±ç»ªçŠ¶æ€ run() çº¿ç¨‹è¦æ‰§è¡Œçš„æ–¹æ³• join() ç­‰å¾…æŸä¸ªçº¿ç¨‹ç»“æŸ join(long) æœ€å¤šç­‰å¾…næ¯«ç§’ getId() çº¿ç¨‹çš„é•¿æ•´å‹id getName() çº¿ç¨‹å setName() getPriority() ä¼˜å…ˆçº§ setPriority() getState() çº¿ç¨‹çŠ¶æ€ isInterrupted() æ˜¯å¦è¢«æ‰“æ–­ isAlive() æ˜¯å¦å­˜æ´» interrupt() æ‰“æ–­çº¿ç¨‹ interrupted() åˆ¤æ–­æ˜¯å¦è¢«æ‰“æ–­ï¼Œä¼šæ¸…æ¥šæ ‡è®° currentThread() è·å¾—å½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹ sleep() ç¡çœ  yield() æç¤ºè°ƒåº¦å™¨è®©å‡ºå½“å‰çº¿ç¨‹å¯¹cpuä½¿ç”¨ runå’Œstart ä¸»çº¿ç¨‹ä¹Ÿå¯ä»¥ç›´æ¥è°ƒç”¨threadçš„runï¼Œä½†è¿™ä¸æ˜¯å¤šçº¿ç¨‹ sleep12345678@Testpublic void f()&#123; try &#123; TimeUnit.SECONDS.sleep(1); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125;&#125; yield è®©å½“å‰çº¿ç¨‹è¿›å…¥å°±ç»ªçŠ¶æ€,è€Œä¸æ˜¯sleepçš„é˜»å¡ é˜²æ­¢CPUå ç”¨100%12345678910@Testpublic void test5() &#123; while (true) &#123; try&#123; Thread.sleep(50); &#125; catch (InterruptedException e) &#123; e.printStackTrace(); &#125; &#125;&#125; æ‰“æ–­ æ‰“æ–­ä¼šè®©æ‰“æ–­æ ‡è®°å˜ä¸ºtrueï¼Œsleepçš„æ—¶å€™æ‰“æ–­ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œå¹¶æ¸…é™¤æ‰“æ–­æ ‡è®°ï¼Œæ²¡æœ‰sleepçš„ç¨‹åºï¼Œå¯ä»¥ç”¨Thread.isInterrupted()é€€å‡º ä¸¤é˜¶æ®µç»ˆæ­¢æ¨¡å¼(åˆ«ç”¨stop) æ¯æ¬¡å¾ªç¯å‰å°è¯•åˆ¤æ–­è‡ªå·±æ˜¯å¦è¢«æ‰“æ–­ï¼Œsleepçš„æ—¶å€™è¢«æ‰“æ–­ä¼šè¢«æ¸…é™¤,å°±è‡ªå·±æ‰“æ–­è‡ªå·±ï¼Œæœ€åæ–™ç†åäº‹ LockSupport.park() æ‰“æ–­parkçš„çº¿ç¨‹ï¼Œä¸ä¼šæ¸…é™¤æ ‡è®°ï¼Œæ‰€ä»¥è¿ç»­çš„parkå…¶å®åé¢çš„éƒ½æ— æ•ˆäº†ï¼Œä½ å¯ä»¥æ‰‹åŠ¨ç”¨Interruptedæ¥æ¸…é™¤ã€‚ å®ˆæŠ¤çº¿ç¨‹ setDaemon(true); åªè¦è¿›ç¨‹çš„æ‰€æœ‰éå®ˆæŠ¤çº¿ç¨‹éƒ½ç»“æŸä»¥åï¼Œä¸ç®¡å®ˆæŠ¤çº¿ç¨‹æœ‰æ²¡æœ‰ç»“æŸï¼Œä»–éƒ½ä¼šè¢«å¼ºåˆ¶ç»“æŸï¼Œåƒåœ¾å›æ”¶å™¨å°±æ˜¯å®ˆæŠ¤çº¿ç¨‹ã€‚Tomcatä¸­çš„Acceptorå’ŒPollerçº¿ç¨‹éƒ½æ˜¯å®ˆæŠ¤çº¿ç¨‹ï¼Œä»–ä»¬ç”¨æ¥æ¥å—è¯·æ±‚å’Œåˆ†å‘è¯·æ±‚çš„ï¼Œå¦‚æœshutdownä»¥åï¼Œä¸ä¼šç­‰å¾…ä»–ä»¬å¤„ç†çš„ çº¿ç¨‹çš„äº”ç§çŠ¶æ€ åˆå§‹ã€å°±ç»ªã€è¿è¡Œã€é˜»å¡ã€ç»ˆæ­¢ çº¿ç¨‹çš„å…­ç§çŠ¶æ€ new,runnable,blockded,wating,timedwaiting,terminated,åˆ†åˆ«æ˜¯æ²¡æœ‰è°ƒç”¨startï¼Œæ­£åœ¨è¢«è°ƒåº¦ï¼Œæ²¡æœ‰è·å¾—é”ï¼Œjoinä¹‹ç±»çš„ç­‰å¾…ï¼Œsleepä¹‹ç±»çš„ç­‰å¾…ï¼Œæ‰§è¡Œå®Œæˆ åƒä¸‡æ³¨æ„runnableåŒ…å«äº†ç‰©ç§çŠ¶æ€ä¸­çš„å°±ç»ªã€è¿è¡Œå’Œé˜»å¡","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"Javaå¹¶å‘","slug":"Language/Java/Javaå¹¶å‘","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/Java%E5%B9%B6%E5%8F%91/"}],"tags":[]},{"title":"javaå¹¶å‘ç¼–ç¨‹2-åˆ›å»ºå’Œè¿è¡Œçº¿ç¨‹","slug":"Language/Java/Javaå¹¶å‘/javaå¹¶å‘ç¼–ç¨‹2-åˆ›å»ºå’Œè¿è¡Œçº¿ç¨‹/index","date":"2020-04-10T04:51:27.000Z","updated":"2020-04-10T04:51:27.000Z","comments":true,"path":"Q8K2TR.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8K2TR.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ä½¿ç”¨Treadåˆ›å»ºçº¿ç¨‹123456789101112131415161718192021package com.wsx.test;import org.junit.Test;import org.slf4j.Logger;import org.slf4j.LoggerFactory;public class ThreadTest &#123; @Test public void test1() &#123; final Logger logger = LoggerFactory.getLogger(ThreadTest.class); Thread thread = new Thread() &#123; @Override public void run() &#123; logger.debug(&quot;running&quot;); &#125; &#125;; thread.setName(&quot;t1&quot;); thread.start(); logger.debug(&quot;running&quot;); &#125;&#125;","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ä½¿ç”¨Treadåˆ›å»ºçº¿ç¨‹123456789101112131415161718192021package com.wsx.test;import org.junit.Test;import org.slf4j.Logger;import org.slf4j.LoggerFactory;public class ThreadTest &#123; @Test public void test1() &#123; final Logger logger = LoggerFactory.getLogger(ThreadTest.class); Thread thread = new Thread() &#123; @Override public void run() &#123; logger.debug(&quot;running&quot;); &#125; &#125;; thread.setName(&quot;t1&quot;); thread.start(); logger.debug(&quot;running&quot;); &#125;&#125; å¾—åˆ°è¾“å‡º 1213:23:33.225 [t1] DEBUG com.wsx.test.ThreadTest - running13:23:33.225 [main] DEBUG com.wsx.test.ThreadTest - running ä½¿ç”¨Runnable123456789101112@Testpublic void test2()&#123; final Logger logger = LoggerFactory.getLogger(ThreadTest.class); Runnable runnable = new Runnable() &#123; public void run() &#123; logger.debug(&quot;runing&quot;); &#125; &#125;; Thread thread = new Thread(runnable,&quot;t2&quot;); thread.start(); logger.debug(&quot;running&quot;);&#125; 1213:29:08.503 [t2] DEBUG com.wsx.test.ThreadTest - runing13:29:08.503 [main] DEBUG com.wsx.test.ThreadTest - running lambdaè¡¨è¾¾å¼ æ³¨æ„åˆ°Runnableæºç ä¸­æœ‰æ³¨è§£@FunctionalInterface,é‚£ä¹ˆä»–å°±å¯ä»¥è¢«lambdaè¡¨è¾¾å¼ç®€åŒ–ï¼Œå› ä¸ºåªæœ‰ä¸€ä¸ªæ–¹æ³• 12345678910@Testpublic void test3() &#123; final Logger logger = LoggerFactory.getLogger(ThreadTest.class); Runnable runnable = () -&gt; &#123; logger.debug(&quot;runing&quot;); &#125;; Thread thread = new Thread(runnable, &quot;t3&quot;); thread.start(); logger.debug(&quot;running&quot;);&#125; Threadå’ŒRunnable Threadåœ¨ç”¨Runnableæ„é€ çš„æ—¶å€™ï¼ŒæŠŠä»–èµ‹å€¼ç»™äº†ä¸€ä¸ªtargetå˜é‡ï¼Œç„¶årun FutureTaskå’ŒCallable ä¸‹é¢çš„ä»£ç ä¼šé˜»å¡ 123456789101112131415161718@Testpublic void test4() throws ExecutionException, InterruptedException &#123; final Logger logger = LoggerFactory.getLogger(ThreadTest.class); FutureTask&lt;Integer&gt; task = new FutureTask&lt;&gt;(new Callable&lt;Integer&gt;() &#123; @Override public Integer call() throws Exception &#123; logger.debug(&quot;runing...&quot;); Thread.sleep(1000); return 100; &#125; &#125;); Thread thread = new Thread(task, &quot;t2&quot;); thread.start(); logger.debug(&quot;running&quot;); // é˜»å¡ logger.debug(&quot;&#123;&#125;&quot;, task.get());&#125; 12313:48:00.930 [main] DEBUG com.wsx.test.ThreadTest - running13:48:00.930 [t2] DEBUG com.wsx.test.ThreadTest - runing...13:48:01.937 [main] DEBUG com.wsx.test.ThreadTest - 100 jps å¯ä»¥æŸ¥çœ‹javaç¨‹åºçš„pid jstack &lt;pid&gt; æŸ¥çœ‹æŸä¸ªjavaè¿›ç¨‹çš„æ‰€æœ‰çº¿ç¨‹çŠ¶æ€,éåŠ¨æ€ jconsoleå¯ä»¥æŸ¥çœ‹javaè¿›ç¨‹ä¸­çº¿ç¨‹çš„å›¾å½¢ç•Œé¢ ä»–è¿˜å¯ä»¥è¿œç¨‹è¿æ¥ï¼Œæ³¨æ„éœ€è¦åœ¨è¿è¡Œjavaç¨‹åºçš„æ—¶å€™è¦åŠ å…¥ä¸€äº›å‚æ•°ï¼Œè€Œä¸”æ³¨æ„å…³é—­é˜²ç«å¢™ psscript1ps | grep java , ps çœ‹è¿›ç¨‹ï¼Œgrepç­›é€‰ kill + PIDæ€æ­»è¿›ç¨‹ top ä»–ç”¨è¡¨æ ¼æ¥æ˜¾ç¤ºï¼Œè¿˜æ˜¯åŠ¨æ€çš„ -H è¡¨ç¤ºæŸ¥çœ‹çº¿ç¨‹ï¼Œ-pè¡¨ç¤ºpid script1top -H -p 3456","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"Javaå¹¶å‘","slug":"Language/Java/Javaå¹¶å‘","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/Java%E5%B9%B6%E5%8F%91/"}],"tags":[]},{"title":"javaå¹¶å‘ç¼–ç¨‹1-è¿›ç¨‹ä¸çº¿ç¨‹","slug":"Language/Java/Javaå¹¶å‘/javaå¹¶å‘ç¼–ç¨‹1-è¿›ç¨‹ä¸çº¿ç¨‹/index","date":"2020-04-09T11:49:50.000Z","updated":"2020-04-09T11:49:50.000Z","comments":true,"path":"Q8IRJ2.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8IRJ2.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Where from å¿«æ¥ç‚¹æˆ‘ è¿›ç¨‹ ä¸€ä¸ªæ´»åŠ¨çš„ç¨‹åºï¼Œæ˜¯ç¨‹åºçš„å®ä¾‹ï¼Œå¤§éƒ¨åˆ†ç¨‹åºå¯ä»¥è¿è¡Œå¤šä¸ªå®ä¾‹ï¼Œæœ‰çš„ç¨‹åºåªå¯ä»¥è¿è¡Œä¸€ä¸ªå®ä¾‹","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Where from å¿«æ¥ç‚¹æˆ‘ è¿›ç¨‹ ä¸€ä¸ªæ´»åŠ¨çš„ç¨‹åºï¼Œæ˜¯ç¨‹åºçš„å®ä¾‹ï¼Œå¤§éƒ¨åˆ†ç¨‹åºå¯ä»¥è¿è¡Œå¤šä¸ªå®ä¾‹ï¼Œæœ‰çš„ç¨‹åºåªå¯ä»¥è¿è¡Œä¸€ä¸ªå®ä¾‹ çº¿ç¨‹ ä¸€ä¸ªè¿›ç¨‹å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹ï¼Œçº¿ç¨‹æ˜¯æœ€å°çš„è°ƒåº¦å•ä½ï¼Œè¿›ç¨‹æ˜¯èµ„æºåˆ†é…çš„æœ€å°å•ä½ï¼Œ è¿›ç¨‹ä¸çº¿ç¨‹ è¿›ç¨‹äº’ç›¸ç‹¬ç«‹ï¼Œçº¿ç¨‹æ˜¯è¿›ç¨‹çš„å­é›† è¿›ç¨‹æ‹¥æœ‰å…±äº«çš„èµ„æºï¼Œä¾›å…¶å†…éƒ¨çš„çº¿ç¨‹å…±äº« è¿›ç¨‹é€šä¿¡è¾ƒä¸ºå¤æ‚ï¼ŒåŒä¸€å°è®¡ç®—æœºä¹‹é—´çš„è¿›ç¨‹é€šä¿¡å«åšIPCï¼Œä¸åŒçš„è®¡ç®—æœºä¹‹é—´éœ€è¦é€šè¿‡ç½‘ç»œåè®® çº¿ç¨‹çš„é€šä¿¡ç›¸å¯¹ç®€å•ï¼Œä»–ä»¬å…±äº«è¿›ç¨‹çš„å†…å­˜ï¼Œ çº¿ç¨‹æ›´åŠ è½»é‡ï¼Œä»–ä»¬ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æˆæœ¬æ›´ä½ å¹¶è¡Œä¸å¹¶å‘ å•æ ¸CPUçš„çº¿ç¨‹éƒ½æ˜¯ä¸²è¡Œï¼Œè¿™å°±å«å¹¶å‘concurrent å¤šæ ¸CPUèƒ½å¤Ÿè¾¾åˆ°å¹¶è¡Œ,ä¸€äº›ä»£ç åŒæ—¶æ‰§è¡Œï¼Œä½†æ˜¯æ›´å¤šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬çš„è®¡ç®—æœºæ˜¯å¹¶å‘+å¹¶è¡Œ å¹¶å‘concurrentæ˜¯åŒä¸€æ—¶é—´åº”å¯¹dealing withå¤šä»¶äº‹æƒ…çš„èƒ½åŠ›ï¼Œå¹¶è¡Œparallelæ˜¯åŒä¸€æ—¶é—´åŠ¨æ‰‹åšdoingå¤šä»¶äº‹æƒ…çš„èƒ½åŠ› åŒæ­¥å’Œå¼‚æ­¥ æ¯”å¦‚æˆ‘ä»¬æœ‰ä¸ªè§†é¢‘è½¬æ¢è½¬æ¢æ ¼å¼éå¸¸è€—æ—¶é—´ï¼Œæˆ‘ä»¬è®©æ–°çš„çº¿ç¨‹å»åšå¤„ç†ï¼Œé¿å…ä¸»çº¿ç¨‹è¢«é˜»å¡","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"Javaå¹¶å‘","slug":"Language/Java/Javaå¹¶å‘","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/Java%E5%B9%B6%E5%8F%91/"}],"tags":[]},{"title":"spring12-äº‹åŠ¡","slug":"Language/Java/Spring/spring12-äº‹åŠ¡/index","date":"2020-04-09T10:20:05.000Z","updated":"2020-04-09T10:20:05.000Z","comments":true,"path":"Q8INDH.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8INDH.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial springæ”¯æŒçš„äº‹åŠ¡ ä¼¼ä¹éƒ½æ˜¯å…³äºæ•°æ®åº“çš„ï¼Œå¯èƒ½ä¹Ÿæ˜¯æˆ‘çš„æ°´å¹³é—®é¢˜ï¼Œä¸çŸ¥é“å…¶ä»–çš„ä¸œè¥¿ å¤§æ¦‚éœ€è¦å®ç°ä¸¤ä¸ªï¼Œä¸€ä¸ªcommitï¼Œå¦ä¸€ä¸ªæ˜¯rollback äº‹åŠ¡æ˜¯åŸºäºAOPå®ç°çš„","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial springæ”¯æŒçš„äº‹åŠ¡ ä¼¼ä¹éƒ½æ˜¯å…³äºæ•°æ®åº“çš„ï¼Œå¯èƒ½ä¹Ÿæ˜¯æˆ‘çš„æ°´å¹³é—®é¢˜ï¼Œä¸çŸ¥é“å…¶ä»–çš„ä¸œè¥¿ å¤§æ¦‚éœ€è¦å®ç°ä¸¤ä¸ªï¼Œä¸€ä¸ªcommitï¼Œå¦ä¸€ä¸ªæ˜¯rollback äº‹åŠ¡æ˜¯åŸºäºAOPå®ç°çš„ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt; &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt; &lt;groupId&gt;org.example&lt;/groupId&gt; &lt;artifactId&gt;springTransaction&lt;/artifactId&gt; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt; &lt;dependencies&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-context&lt;/artifactId&gt; &lt;version&gt;5.2.4.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-tx&lt;/artifactId&gt; &lt;version&gt;5.2.4.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt; &lt;version&gt;5.2.4.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-test&lt;/artifactId&gt; &lt;version&gt;5.2.4.RELEASE&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;mysql&lt;/groupId&gt; &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; &lt;version&gt;5.1.6&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;junit&lt;/groupId&gt; &lt;artifactId&gt;junit&lt;/artifactId&gt; &lt;version&gt;4.12&lt;/version&gt; &lt;/dependency&gt; &lt;dependency&gt; &lt;groupId&gt;org.aspectj&lt;/groupId&gt; &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt; &lt;version&gt;1.8.13&lt;/version&gt; &lt;/dependency&gt; &lt;/dependencies&gt;&lt;/project&gt; 1234567891011121314151617181920212223242526272829303132333435363738394041package com.wsx.spring.Service;import com.wsx.spring.Account;import com.wsx.spring.Dao.IAccountDao;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Component;import org.springframework.stereotype.Service;import org.springframework.transaction.annotation.Propagation;import org.springframework.transaction.annotation.Transactional;@Service@Transactional(propagation = Propagation.REQUIRED, readOnly = false)public class AccountService implements IAccountService &#123; @Autowired private IAccountDao accountDao; public Account findAccountById(Integer accountId) &#123; return accountDao.findAccountById(accountId); &#125; @Transactional(propagation = Propagation.SUPPORTS, readOnly = true) public void transfer(String sourceName, String targetName, Float money) &#123; System.out.println(&quot;start transfer&quot;); // 1.æ ¹æ®åç§°æŸ¥è¯¢è½¬å‡ºè´¦æˆ· Account source = accountDao.findAccountByName(sourceName); // 2.æ ¹æ®åç§°æŸ¥è¯¢è½¬å…¥è´¦æˆ· Account target = accountDao.findAccountByName(targetName); // 3.è½¬å‡ºè´¦æˆ·å‡é’± source.setMoney(source.getMoney() - money); // 4.è½¬å…¥è´¦æˆ·åŠ é’± target.setMoney(target.getMoney() + money); // 5.æ›´æ–°è½¬å‡ºè´¦æˆ· accountDao.updateAccount(source); int i = 1 / 0; // 6.æ›´æ–°è½¬å…¥è´¦æˆ· accountDao.updateAccount(target); &#125;&#125;","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"Spring","slug":"Language/Java/Spring","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/Spring/"}],"tags":[]},{"title":"spring11-Jdbctemplate","slug":"Language/Java/Spring/spring11-Jdbctemplate/index","date":"2020-04-08T14:49:23.000Z","updated":"2020-04-08T14:49:23.000Z","comments":true,"path":"Q8H56B.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8H56B.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial JdbcTemplateæµ‹è¯•å†™æ³•12345678910ApplicationContext applicationContext = new ClassPathXmlApplicationContext(&quot;bean.xml&quot;);JdbcTemplate jdbcTemplate = applicationContext.getBean(&quot;jdbcTemplate&quot;,JdbcTemplate.class);// ä¿å­˜jt.update(&quot;insert into account(name,money)values(?,?)&quot;,&quot;eee&quot;,3333f);// æ›´æ–°jt.update(&quot;update account set name=?,money=? where id=?&quot;,&quot;test&quot;,4567,7);// åˆ é™¤jt.update(&quot;delete from account where id=?&quot;,8);// æŸ¥è¯¢List&lt;Account&gt; account = jt.query(&quot;select * from account where money&gt;?&quot;,new BeanPropertyRowMapper&lt;Account&gt;(Account.class),1000f); DAOä¸­çš„JdbcTemplate ä¸Šé¢çš„ä»£ç å®é™…ä¸Šåªèƒ½ç”¨äºç®€å•çš„æµ‹è¯•ï¼Œæˆ‘ä»¬æ­£ç¡®çš„åšæ³•åº”è¯¥è¿˜æ˜¯ä½¿ç”¨DAOå®ç°ï¼Œæ³¨æ„åˆ°ä½¿ç”¨DAOå®ç°çš„æ—¶å€™è‚¯å®šè¦åœ¨ç±»ä¸­åˆ›å»ºjdbcTemplateï¼Œå¦‚æœæˆ‘ä»¬æœ‰å¤šä¸ªDAOå°±ä¼šå¯¼è‡´ä»½é‡å¤çš„ä»£ç ï¼Œè¿™æ—¶å¯ä»¥è®©ä»–ä»¬ç»§æ‰¿ä¸€ä¸ªJdbcDaoSupportæ¥å®ç°ï¼Œè€Œè¿™ä¸ªç±»springåˆæ°å¥½ä¸ºæˆ‘ä»¬æä¾›äº†ã€‚ä½†æ˜¯åªèƒ½é€šè¿‡xmlæ³¨å…¥ï¼Œä½ æƒ³è¦ç”¨æ³¨è§£æ³¨å…¥çš„è¯å°±åªèƒ½è‡ªå·±å†™ä¸€ä¸ªã€‚","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"Spring","slug":"Language/Java/Spring","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/Spring/"}],"tags":[]},{"title":"mysqlæ¸¸æ ‡","slug":"Database/mysqlæ¸¸æ ‡/index","date":"2020-04-08T09:24:26.000Z","updated":"2020-04-08T09:24:26.000Z","comments":true,"path":"Q8GQ4Q.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8GQ4Q.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ¸¸æ ‡å…è®¸æˆ‘ä»¬éå†ç»“æœé›† ä¸æƒ³å¤šè¯´ï¼Œæˆ‘åªæ˜¯æ„Ÿè§‰å¥½å¤æ‚ 12345678910111213141516171819202122create table test(id int);delimiter // #å®šä¹‰æ ‡è¯†ç¬¦ä¸ºåŒæ–œæ drop procedure if exists test; #å¦‚æœå­˜åœ¨testå­˜å‚¨è¿‡ç¨‹åˆ™åˆ é™¤create procedure test() #åˆ›å»ºæ— å‚å­˜å‚¨è¿‡ç¨‹,åç§°ä¸ºtestbegin declare i int; #ç”³æ˜å˜é‡ declare id_ int; declare done int; declare cur cursor for select id from test; declare continue handler for not found set done = 1; open cur; read_loop: loop fetch cur into id_; if done = 1 then leave read_loop; end if; select id_; end loop; close cur;end// #ç»“æŸå®šä¹‰è¯­å¥call test(); #è°ƒç”¨å­˜å‚¨è¿‡ç¨‹","categories":[{"name":"Database","slug":"Database","permalink":"http://fightinggg.github.io/indigo/categories/Database/"}],"tags":[]},{"title":"ç½‘æ˜“ç¬”è¯•","slug":"å®ä¹ /ç¬”è¯•/ç½‘æ˜“ç¬”è¯•/index","date":"2020-04-07T13:49:17.000Z","updated":"2020-04-07T13:49:17.000Z","comments":true,"path":"Q8F7Q5.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8F7Q5.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ç¬¬ä¸€é¢˜è¾“å…¥ä¸€ä¸ªnï¼Œè¡¨ç¤ºnä¸ªç‚¹çš„å®Œå…¨å›¾ï¼Œè¾“å…¥mè¡¨ç¤ºåç»­æœ‰mä¸ªæ“ä½œï¼Œè¾“å…¥sè¡¨ç¤ºä½ ç«™åœ¨sç‚¹è¿™ä¸ªä½ç½®æ¥ä¸‹æ¥mè¡Œï¼Œæ¯è¡Œä¸¤ä¸ªæ•°å­—x,y å¦‚æœx&#x3D;0 è¡¨ç¤ºä¸yç›¸è¿çš„æ‰€æœ‰è¾¹æ–­å¼€ å¦åˆ™ è¡¨ç¤ºè¾¹x-yæ–­å¼€ ä½ éœ€è¦è¾“å‡ºä¸€ä¸ªæ•°xï¼Œè¡¨ç¤ºè¿™mä¸ªæ“ä½œçš„å‰xä¸ªæ“ä½œå¯ä»¥è®©sç‚¹ä¸å…¶ä»–æ‰€æœ‰ç‚¹æ–­å¼€è¿æ¥ 12345678910111213set&lt;int&gt;se;for(int i=1;i&lt;=m;i++)&#123; cin&gt;&gt;x&gt;&gt;y; if(x==0) &#123; if(y==s) return i; else se.insert(y); &#125;else &#123; if(x==s) se.inesrt(y); if(y==s) se.insert(x); &#125; if(se.size()==n) return i;&#125;return 0; æ€ä¹ˆè¯´å‘¢ï¼Œæˆ‘å°±æ˜¯è¿™æ ·å†™çš„ï¼Œæ˜¾ç„¶se.size()&#x3D;&#x3D;nå†™é”™äº†ï¼Œåº”è¯¥è¯´n-1ï¼Œè·Ÿygè®²è¿™é¢˜çš„æ—¶å€™æ‰æƒ³èµ·æ¥ï¼Œæˆ‘åŸåœ°çˆ†ç‚¸äº†ï¼Œä¸€ç›´æ€€ç–‘é¢˜ç›®æœ‰é—®é¢˜ï¼Œç„¶ååªè¿‡äº†10%ï¼Œåˆ°æœ€åéƒ½æ²¡æ‰¾åˆ°bug","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ç¬¬ä¸€é¢˜è¾“å…¥ä¸€ä¸ªnï¼Œè¡¨ç¤ºnä¸ªç‚¹çš„å®Œå…¨å›¾ï¼Œè¾“å…¥mè¡¨ç¤ºåç»­æœ‰mä¸ªæ“ä½œï¼Œè¾“å…¥sè¡¨ç¤ºä½ ç«™åœ¨sç‚¹è¿™ä¸ªä½ç½®æ¥ä¸‹æ¥mè¡Œï¼Œæ¯è¡Œä¸¤ä¸ªæ•°å­—x,y å¦‚æœx&#x3D;0 è¡¨ç¤ºä¸yç›¸è¿çš„æ‰€æœ‰è¾¹æ–­å¼€ å¦åˆ™ è¡¨ç¤ºè¾¹x-yæ–­å¼€ ä½ éœ€è¦è¾“å‡ºä¸€ä¸ªæ•°xï¼Œè¡¨ç¤ºè¿™mä¸ªæ“ä½œçš„å‰xä¸ªæ“ä½œå¯ä»¥è®©sç‚¹ä¸å…¶ä»–æ‰€æœ‰ç‚¹æ–­å¼€è¿æ¥ 12345678910111213set&lt;int&gt;se;for(int i=1;i&lt;=m;i++)&#123; cin&gt;&gt;x&gt;&gt;y; if(x==0) &#123; if(y==s) return i; else se.insert(y); &#125;else &#123; if(x==s) se.inesrt(y); if(y==s) se.insert(x); &#125; if(se.size()==n) return i;&#125;return 0; æ€ä¹ˆè¯´å‘¢ï¼Œæˆ‘å°±æ˜¯è¿™æ ·å†™çš„ï¼Œæ˜¾ç„¶se.size()&#x3D;&#x3D;nå†™é”™äº†ï¼Œåº”è¯¥è¯´n-1ï¼Œè·Ÿygè®²è¿™é¢˜çš„æ—¶å€™æ‰æƒ³èµ·æ¥ï¼Œæˆ‘åŸåœ°çˆ†ç‚¸äº†ï¼Œä¸€ç›´æ€€ç–‘é¢˜ç›®æœ‰é—®é¢˜ï¼Œç„¶ååªè¿‡äº†10%ï¼Œåˆ°æœ€åéƒ½æ²¡æ‰¾åˆ°bug ç¬¬äºŒé¢˜ è¾“å…¥ä¸€ä¸ªæ•°nè¡¨ç¤ºnä¸ªäººï¼Œè¾“å…¥ä¸€ä¸ªæ•°mè¡¨ç¤ºä»–ä»¬æäº†mæ¬¡èšä¼š,è¾“å…¥ä¸€ä¸ªæ•°fè¡¨ç¤ºfè¢«æ„ŸæŸ“äº† ä»–ä»¬ä¸¾åŠèšä¼šï¼Œå¦‚æœèšä¼šä¸­æœ‰ä¸€ä¸ªäººè¢«æ„ŸæŸ“,åˆ™å‚åŠ èšä¼šçš„å…¶ä»–äººéƒ½ä¼šè¢«æ„ŸæŸ“ è¾“å…¥mè¡Œï¼Œæ¯è¡Œè¡Œé¦–ä¸€ä¸ªqï¼Œè¡¨ç¤ºè¿™ä¸€æ¬¡èšä¼šæœ‰qä¸ªäººå‚åŠ ï¼Œqåé¢è·Ÿç€qä¸ªæ•°ï¼Œè¡¨ç¤ºè¿™qä¸ªäººçš„ç¼–å· ä½ éœ€è¦è¾“å‡ºæœ€ç»ˆå¤šå°‘äººè¢«æ„ŸæŸ“äº† 12345678910111213for(int i=0;i&lt;m;i++)&#123; cin&gt;&gt;q; vector&lt;int&gt; vec; for(int i=0;i&lt;q;i++) &#123; cin&gt;&gt;x; vec.push_back(x); if(dead[x]) flag=true; &#125; if(flag) for(int x:vec) dead[x]=true;&#125;int ans=0;for(bool x:dead) if(x) ans++;cout&lt;&lt;ans&lt;&lt;endl; è¿™ä»£ç èƒ½æœ‰é—®é¢˜ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿåªèƒ½è¿‡60%ï¼Œå¼€ç©ç¬‘å‘¢ ç¬¬ä¸‰é¢˜ ç»™ä¸€ä¸ªæ•°å­—å­—ç¬¦ä¸²Sï¼Œä¸€ä¸ªæ•°å­—mï¼Œ ä½ éœ€è¦è®¡ç®—å‡ºSæœ‰å¤šå°‘ä¸ªåˆ’åˆ†ï¼Œè®²ä»–åˆ’åˆ†ä¸ºS1ï¼ŒS2ï¼ŒS3ï¼Œã€‚ã€‚ ä¸”æ¯ä¸ªæ•°éƒ½æ˜¯mçš„å€æ•°ï¼Œç­”æ¡ˆå¯¹1e9+7å–æ¨¡ 12345678910111213141516171819202122232425262728293031import java.math.BigDecimal;import java.math.BigInteger;import java.util.Scanner;public class Main &#123; static String s; static BigInteger split(int l,int r)&#123; return new BigInteger(s.substring(l,r+1)); &#125; static int mod=(int)(1e9+7); public static void main(String[] args)&#123; Scanner cin = new Scanner(System.in); int T= cin.nextInt(); for(int ii=0;ii&lt;T;ii++) &#123; int n=cin.nextInt(); BigInteger m=cin.nextBigInteger(); s = cin.next(); long dp[]= new long[n+100]; for(int i=0;i&lt;n;i++)&#123; dp[i]=m.mod(split(0,i)).equals(BigInteger.ZERO)?1:0; for(int j=1;j&lt;=i;j++)&#123; if(split(j,i).mod(m).equals(BigInteger.ZERO)) dp[i]=(dp[i]+dp[j-1])%mod; &#125; &#125; System.out.println(dp[n-1]); &#125; &#125;&#125; javaä»£ç åœ¨è¿™ï¼Œæˆ‘åº“é¸Ÿã€‚è¿™ä»£ç TLEï¼Œåæ¥è·Ÿygè®²çš„æ—¶å€™å‘ç°split(i,j)%modè¿™å¥è¯å¯ä»¥é€šè¿‡å­—ç¬¦ä¸²hashä¼˜åŒ–åˆ°O1ï¼Œæˆ‘çœŸæ˜¯ï¼Œä¸ºä»€ä¹ˆç¬”è¯•çš„æ—¶å€™æ²¡æƒ³åˆ°å‘¢ ç¬¬å››é¢˜ å¤ªèœäº†ï¼Œæ²¡çœ‹ å™è¿°é¢˜ 50Gçš„æ–‡ä»¶ï¼Œæ¯è¡Œä¸€ä¸ªintï¼Œä½ éœ€è¦åœ¨512MBå†…å­˜çš„æœºå™¨ä¸Šæ±‚å‡ºTOP100 è¿™ä¸ªå¾ˆæœ‰æ„æ€ï¼Œæ˜¾ç„¶mapreduce å…ˆè¯´ä¸€ä¸ªå¸¸è§„çš„åšæ³•ï¼ŒæŠ½è±¡ä¸ºnä¸ªintï¼Œå–å‡ºTOP m æˆ‘ä»¬æ¯æ¬¡ä»nä¸ªæ•°ä¸­é€‰å‡ºkä¸ªæ¥ï¼Œæ±‚è¿™kä¸ªæ•°çš„TOP m,ä½¿ç”¨çº¿æ€§æ—¶é—´é€‰æ‹©ç®—æ³• è¿™é‡Œä¸€å…±æ‰§è¡Œäº†$$\\lceil \\frac{n}{k}\\rceil$$æ¬¡ï¼Œå–å‡ºäº†ä¸è¶…è¿‡$$\\lceil \\frac{n}{k}\\rceilm$$ä¸ªæ•°,äºæ˜¯åˆå¹¶è§£çš„æ—¶å€™å¤æ‚åº¦ä¸º$$O(\\lceil \\frac{n}{k}\\rceilm)$$, å‰é¢çš„å¤æ‚åº¦ä¸º$$O(n)$$, æ‰€ä»¥æ€»æ—¶é—´å¤æ‚åº¦ä¸º$$O(n+\\lceil \\frac{mn}{k}\\rceil)$$ ç©ºé—´å¤æ‚åº¦çš„è¯å°±æ˜¯$$O(k)+O(\\lceil \\frac{mn}{k}\\rceil)$$ æˆ‘ä»¬ç¨å¾®æƒè¡¡ä¸€ä¸‹ï¼Œå¾ˆå®¹æ˜“å‘ç°æ—¶é—´å¤æ‚åº¦å°±æ˜¯$$O(n)$$,ç©ºé—´å¤æ‚åº¦å½“kå–åˆ°$$\\sqrt{mn}$$çš„æ—¶å€™è¾¾åˆ°æœ€ä¼˜ä¸º$$O(\\sqrt{mn})$$ ç„¶åæˆ‘ä»¬æ¥è®²mapreduceçš„åšæ³•ï¼Œæˆ‘ä»¬æ¯ä»½åˆ†å‡ºå»xå°æœºå™¨ï¼Œmapæ—¶é—´å¤æ‚åº¦ä¸º$$O(n)$$,å…¶ä»–æœºå™¨ä¸Šä¸º$$O(\\frac{n}{x})$$,ç„¶åreduceï¼Œæˆ‘ä»¬è¿˜æœ‰$$xm$$ä¸ªæ•°ï¼Œæ€»å…±æ˜¯$$O(n+\\frac{n}{x}+xm)$$","categories":[{"name":"å®ä¹ ","slug":"å®ä¹ ","permalink":"http://fightinggg.github.io/indigo/categories/%E5%AE%9E%E4%B9%A0/"},{"name":"ç¬”è¯•","slug":"å®ä¹ /ç¬”è¯•","permalink":"http://fightinggg.github.io/indigo/categories/%E5%AE%9E%E4%B9%A0/%E7%AC%94%E8%AF%95/"}],"tags":[]},{"title":"redis","slug":"Database/redis/index","date":"2020-04-07T06:22:39.000Z","updated":"2020-04-07T06:22:39.000Z","comments":true,"path":"Q8EN1R.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8EN1R.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial nosql éšæ—¶å¤§è§„æ¨¡é«˜å¹¶å‘çš„å‡ºç°ï¼Œä¼ ç»Ÿå…³ç³»å‹æ•°æ®åº“å·²ç»ç¢°åˆ°äº†å¾ˆå¤§çš„é—®é¢˜ï¼Œä»–éš¾ä»¥æä¾›æ›´å¿«çš„æ•°æ®è®¿é—®é€Ÿåº¦äº†ï¼Œè¿™å¯¼è‡´æ•°æ®åº“æˆä¸ºäº†ç“¶é¢ˆã€‚äººä»¬æå‡ºnot only sqlçš„ä¸€ç§ç†å¿µï¼Œå°±æ˜¯æˆ‘ä»¬ä¸èƒ½ä»…ä»…ä¾é å…³ç³»å‹æ•°æ®åº“ã€‚ éå…³ç³»å‹æ•°æ®åº“ æŒ‡çš„æ˜¯æ²¡æœ‰å…³ç³»çš„æ•°æ®åº“ï¼Œå³ä¸æ˜¯äºŒçº¬è¡¨ï¼Œè€Œæ˜¯KVå¯¹ã€‚ redis redis å°±æ˜¯å…¶ä¸­çš„ä¸€ä¸ªéå…³ç³»å‹æ•°æ®åº“ï¼Œä»–æ˜¯å•çº¿ç¨‹ï¼Œå°†æ•°æ®å‚¨å­˜åœ¨å†…å­˜ä¸­çš„æ•°æ®åº“ï¼Œä»–æ”¯æŒä¸°å¯Œçš„æ•°æ®ç±»å‹ï¼ŒåŒ…æ‹¬stringï¼Œlist,set,hash,zset redisæŒä¹…åŒ– ç¬¬ä¸€ç§æ˜¯rdbæ–¹æ¡ˆï¼Œä»–å°†å†…å­˜çš„æ•°æ®å®šæœŸå‚¨å­˜åˆ°ç£ç›˜ä¸­ï¼Œç”±äºæ•°æ®çš„ç©ºé—´é—®é¢˜ï¼Œä¸€èˆ¬15åˆ†é’Ÿä¸€æ¬¡ï¼Œç¬¬äºŒç§æ˜¯aofæ–¹æ¡ˆï¼Œä»–å°†è¯»å–çš„æ•°æ®å®šæœŸå¢åŠ åˆ°ç£ç›˜ä¸­ï¼Œç”±äºæˆ‘ä»¬åªæ˜¯æ·»åŠ ï¼Œä¸€èˆ¬1sä¸€æ¬¡ã€‚rdbæœ¬è´¨ä¸ºæ•´ä½“å‚¨å­˜ï¼Œaofä¸ºæ‡’æƒ°å¼å‚¨å­˜ï¼Œä»–å‚¨å­˜çš„æ˜¯æ“ä½œï¼Œè€Œä¸æ˜¯æ•°æ®åº“ã€‚ redisäº‹åŠ¡ redisåŠæ”¯æŒäº‹åŠ¡ï¼Œè¯­æ³•é”™è¯¯å›æ»šï¼Œä½†è¿è¡Œé”™è¯¯ä¸ä¼šã€‚ redisä¸»ä»å¤åˆ¶ ä¸»æœºå†™ï¼Œä»æœºè¯»ï¼Œ rediså“¨å…µæ¨¡å¼ å½“ä¸»æœºæŒ‚äº†ä»¥åï¼Œé€šè¿‡æŠ•ç¥¨åœ¨ä»æœºä¸­é€‰å‡ºæ–°çš„ä¸»æœº ç¼“å­˜é›ªå´© å¤§é‡çš„ç¼“å­˜åŒæ—¶å¤±æ•ˆï¼Œå¯¼è‡´åŸæœ¬åº”è¯¥è®¿é—®ç¼“å­˜çš„è¯·æ±‚ç”±äºæ‰¾ä¸åˆ°æ•°æ®ï¼Œéƒ½å»æŸ¥è¯¢æ•°æ®åº“ï¼Œé€ æˆæ•°æ®åº“CPUå’Œå†…å­˜å·¨å¤§çš„å‹åŠ› è§£å†³æ–¹æ¡ˆï¼šå¯¹æ•°æ®åº“åŠ é”ï¼Œæˆ–è€…è®©ç¼“å­˜å¤±æ•ˆæ—¶é—´åˆ†æ•£å¼€ ç¼“å­˜ç©¿é€ æŸ¥è¯¢æ•°æ®åº“ä¸­æ²¡æœ‰çš„æ•°æ®ï¼Œå¯¼è‡´æ¯æ¬¡éƒ½è¦è¿›å…¥æ•°æ®åº“æŸ¥è¯¢ è§£å†³æ–¹æ¡ˆï¼š å¸ƒéš†è¿‡æ»¤å™¨ï¼Œæˆ–è€…æŠŠæ•°æ®åº“ä¸­ä¸å­˜åœ¨çš„æ•°æ®ä¹Ÿå­˜å…¥ç¼“å­˜è®¾ä¸ºç©º å¸ƒéš†è¿‡æ»¤å™¨ å¼•å…¥å¤šä¸ªç›¸äº’ç‹¬ç«‹çš„å“ˆå¸Œå‡½æ•°ï¼Œå¯¹æ•°æ®åº“ä¸­çš„æ•°æ®è¿›è¡Œå“ˆå¸Œï¼Œç„¶åå­˜å…¥ä½å›¾ä¸­ï¼Œè¿™é‡Œçš„å¤šä¸ªç¡®ä¿äº†ç²¾åº¦ ç¼“å­˜å‡»ç©¿ ç”±äºç¼“å­˜ä¸­æŸæ¡çƒ­ç‚¹æ•°æ®è¿‡æœŸï¼Œå¯¼è‡´å¤§é‡é«˜å¹¶å‘çš„è¯·æ±‚å‡»ç©¿ç¼“å­˜è¿›å…¥æ•°æ®åº“ï¼Œå¯¼è‡´æ•°æ®åº“å·¨å¤§çš„å‹åŠ› è§£å†³æ–¹æ¡ˆ: çƒ­ç‚¹æ•°æ®æ°¸ä¸è¿‡æœŸæˆ–è€…è®¿é—®æ•°æ®åº“å‰åŠ äº’æ–¥é”ï¼Œ è¿™é‡Œä¸ºä»€ä¹ˆä¸æ˜¯ä¾é æ•°æ®åº“è‡ªå·±çš„é”å‘¢ï¼Œæˆ‘è®¤ä¸ºèƒ½æ—©å¤„ç†çš„è¯å°±æ—©å¤„ç†ï¼Œä¸è¦ç»™æ•°æ®åº“åŠ å‹ã€‚ ç¼“å­˜é¢„çƒ­ ç³»ç»Ÿä¸Šçº¿ä»¥åï¼Œå°†æŸäº›ç›¸å…³çš„ç¼“å­˜æ•°æ®ä¹‹é—´åŠ å…¥åˆ°ç¼“å­˜ç³»ç»Ÿä¸­ ç¼“å­˜æ›´æ–° æ ¹æ®å…·ä½“ä¸šåŠ¡éœ€æ±‚å»è‡ªå®šä¹‰ç¼“å­˜æ·˜æ±°æœºåˆ¶ï¼Œå®šæœŸæ¸…ç†æˆ–è€…å½“è¯·æ±‚æ¥ä¸´çš„æ—¶å€™æ›´æ–° ç¼“å­˜é™çº§ å½“è®¿é—®é‡å¢å¤§ï¼Œéæ ¸å¿ƒæœåŠ¡å½±å“æ ¸å¿ƒæœåŠ¡çš„æ€§èƒ½æ—¶ï¼Œè‡ªåŠ¨æˆ–è€…äººå·¥åœ°è®©ç¼“å­˜å°½é‡å°‘æŸ¥è¯¢æ•°æ®åº“ï¼Œå°½ç®¡è¿™å¯èƒ½å¯¼è‡´å°‘é‡çš„é”™è¯¯ï¼Œä½†æ˜¯æˆ‘ä»¬çš„ç›®æ ‡æ—¶ç³»ç»Ÿçš„é«˜å¯ç”¨æ€§ã€‚ memcacheã€mongoDBã€redis æ€§èƒ½éƒ½é«˜ï¼Œä½†æ˜¯rediså’Œmemcacheæ¯”mongodbå¼ºä¸€ç‚¹ç‚¹ memcacheåªèƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œmongodbæ›´åŠ ç±»ä¼¼ä¸å…³ç³»å‹æ•°æ®åº“ï¼Œredisæ”¯æŒä¸°å¯Œçš„æ•°æ®ç±»å‹ redisç”¨ä¸»ä»ä¸€è‡´ã€å“¨å…µæœºåˆ¶ä¿æŠ¤æ•°æ®ï¼Œmemcacheæ²¡æœ‰å†—ä½™æ•°æ®ï¼ŒmongoDBæœ‰ä¸»ä»ä¸€è‡´ã€å†…éƒ¨é€‰ä¸¾ã€auto shardingä¿æŠ¤æ•°æ® redisæ”¯æŒrdbå’Œaofï¼Œmemcacheæ²¡æœ‰æŒä¹…åŒ–ï¼Œmongodbç”¨binlog Memcacheç”¨casä¿å­˜ä¸€è‡´æ€§ï¼Œredisäº‹åŠ¡æ€§è¾ƒå·®ï¼Œmongodbæ²¡æœ‰äº‹åŠ¡ å‚è€ƒèµ„æ–™redisé¢è¯•é¢˜ç¼“å­˜ç©¿é€ã€ç¼“å­˜å‡»ç©¿ã€ç¼“å­˜é›ªå´©åŒºåˆ«å’Œè§£å†³æ–¹æ¡ˆRedisä¸Memcachedçš„åŒºåˆ«","categories":[{"name":"Database","slug":"Database","permalink":"http://fightinggg.github.io/indigo/categories/Database/"}],"tags":[]},{"title":"mysqlåˆ·é¢˜1","slug":"Database/mysqlåˆ·é¢˜1/index","date":"2020-04-06T15:18:23.000Z","updated":"2020-04-06T15:18:23.000Z","comments":true,"path":"Q8DH6N.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8DH6N.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æŸ¥æ‰¾æœ€æ™šå…¥èŒå‘˜å·¥çš„æ‰€æœ‰ä¿¡æ¯æŸ¥æ‰¾æœ€æ™šå…¥èŒå‘˜å·¥çš„æ‰€æœ‰ä¿¡æ¯CREATE TABLE employees (emp_no int(11) NOT NULL,birth_date date NOT NULL,first_name varchar(14) NOT NULL,last_name varchar(16) NOT NULL,gender char(1) NOT NULL,hire_date date NOT NULL,PRIMARY KEY (emp_no)); æˆ‘ä»¬æ’åºä»¥åé€‰å‡ºæœ€å¤§çš„ 123select * from employees order by hire_date desc limit 0,1 æ‰¾åˆ°æœ€å¤§å€¼ä»¥åä½¿ç”¨where 12select * from employees where hire_date = (select max(hire_date) from employees);","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æŸ¥æ‰¾æœ€æ™šå…¥èŒå‘˜å·¥çš„æ‰€æœ‰ä¿¡æ¯æŸ¥æ‰¾æœ€æ™šå…¥èŒå‘˜å·¥çš„æ‰€æœ‰ä¿¡æ¯CREATE TABLE employees (emp_no int(11) NOT NULL,birth_date date NOT NULL,first_name varchar(14) NOT NULL,last_name varchar(16) NOT NULL,gender char(1) NOT NULL,hire_date date NOT NULL,PRIMARY KEY (emp_no)); æˆ‘ä»¬æ’åºä»¥åé€‰å‡ºæœ€å¤§çš„ 123select * from employees order by hire_date desc limit 0,1 æ‰¾åˆ°æœ€å¤§å€¼ä»¥åä½¿ç”¨where 12select * from employees where hire_date = (select max(hire_date) from employees); æŸ¥æ‰¾å…¥èŒå‘˜å·¥æ—¶é—´æ’åå€’æ•°ç¬¬ä¸‰çš„å‘˜å·¥æ‰€æœ‰ä¿¡æ¯æŸ¥æ‰¾å…¥èŒå‘˜å·¥æ—¶é—´æ’åå€’æ•°ç¬¬ä¸‰çš„å‘˜å·¥æ‰€æœ‰ä¿¡æ¯CREATE TABLE employees (emp_no int(11) NOT NULL,birth_date date NOT NULL,first_name varchar(14) NOT NULL,last_name varchar(16) NOT NULL,gender char(1) NOT NULL,hire_date date NOT NULL,PRIMARY KEY (emp_no)); 123select * from employees order by hire_date desc limit 2,1 ä½¿ç”¨distinctå»é‡ 1234567select * from employees where hire_date = ( select distinct hire_date from employees order by hire_date desc limit 2,1 ) æŸ¥æ‰¾å„ä¸ªéƒ¨é—¨å½“å‰(to_date&#x3D;â€™9999-01-01â€™)é¢†å¯¼å½“å‰è–ªæ°´è¯¦æƒ…ä»¥åŠå…¶å¯¹åº”éƒ¨é—¨ç¼–å·dept_noCREATE TABLE dept_manager (dept_no char(4) NOT NULL,emp_no int(11) NOT NULL,from_date date NOT NULL,to_date date NOT NULL,PRIMARY KEY (emp_no,dept_no));CREATE TABLE salaries (emp_no int(11) NOT NULL,salary int(11) NOT NULL,from_date date NOT NULL,to_date date NOT NULL,PRIMARY KEY (emp_no,from_date)); 1234567select s.*, d.dept_no from salaries as s inner join dept_manager as d on d.emp_no = s.emp_no where d.to_date = &#x27;9999-01-01&#x27; and S.to_date = &#x27;9999-01-01&#x27; æŸ¥æ‰¾æ‰€æœ‰å·²ç»åˆ†é…éƒ¨é—¨çš„å‘˜å·¥çš„last_nameå’Œfirst_nameä»¥åŠdept_noCREATE TABLE dept_emp (emp_no int(11) NOT NULL,dept_no char(4) NOT NULL,from_date date NOT NULL,to_date date NOT NULL,PRIMARY KEY (emp_no,dept_no));CREATE TABLE employees (emp_no int(11) NOT NULL,birth_date date NOT NULL,first_name varchar(14) NOT NULL,last_name varchar(16) NOT NULL,gender char(1) NOT NULL,hire_date date NOT NULL,PRIMARY KEY (emp_no)); 1234select e.last_name,e.first_name,d.dept_no from dept_emp as d inner join employees as e on d.emp_no = e.emp_no æŸ¥æ‰¾æ‰€æœ‰å‘˜å·¥çš„last_nameå’Œfirst_nameä»¥åŠå¯¹åº”éƒ¨é—¨ç¼–å·dept_noï¼Œä¹ŸåŒ…æ‹¬å±•ç¤ºæ²¡æœ‰åˆ†é…å…·ä½“éƒ¨é—¨çš„å‘˜å·¥CREATE TABLE dept_emp (emp_no int(11) NOT NULL,dept_no char(4) NOT NULL,from_date date NOT NULL,to_date date NOT NULL,PRIMARY KEY (emp_no,dept_no));CREATE TABLE employees (emp_no int(11) NOT NULL,birth_date date NOT NULL,first_name varchar(14) NOT NULL,last_name varchar(16) NOT NULL,gender char(1) NOT NULL,hire_date date NOT NULL,PRIMARY KEY (emp_no)); 1234select e.last_name, e.first_name, d.dept_no from employees as e left join dept_emp as d on d.emp_no = e.emp_no æŸ¥æ‰¾æ‰€æœ‰å‘˜å·¥å…¥èŒæ—¶å€™çš„è–ªæ°´æƒ…å†µï¼Œç»™å‡ºemp_noä»¥åŠsalaryï¼Œ å¹¶æŒ‰ç…§emp_noè¿›è¡Œé€†åºCREATE TABLE employees (emp_no int(11) NOT NULL,birth_date date NOT NULL,first_name varchar(14) NOT NULL,last_name varchar(16) NOT NULL,gender char(1) NOT NULL,hire_date date NOT NULL,PRIMARY KEY (emp_no));CREATE TABLE salaries (emp_no int(11) NOT NULL,salary int(11) NOT NULL,from_date date NOT NULL,to_date date NOT NULL,PRIMARY KEY (emp_no,from_date)); æ‰¾å‡ºæœ€æ—©çš„é‚£ä¸ª 12345select distinct s.emp_no,s.salaryfrom salaries as sgroup by s.emp_nohaving min(s.from_date)order by s.emp_no desc 1234567select s.emp_no , s.salaryfrom employees as e left join salaries as s on e.emp_no = s.emp_no and e.hire_date = s.from_dateorder by s.emp_no desc #æŸ¥æ‰¾è–ªæ°´æ¶¨å¹…è¶…è¿‡15æ¬¡çš„å‘˜å·¥å·emp_noä»¥åŠå…¶å¯¹åº”çš„æ¶¨å¹…æ¬¡æ•°tCREATE TABLE salaries (emp_no int(11) NOT NULL,salary int(11) NOT NULL,from_date date NOT NULL,to_date date NOT NULL,PRIMARY KEY (emp_no,from_date)); 1234select emp_no, count(emp_no) as tfrom salariesgroup by emp_nohaving t &gt; 15 #æ‰¾å‡ºæ‰€æœ‰å‘˜å·¥å½“å‰(to_date&#x3D;â€™9999-01-01â€™)å…·ä½“çš„è–ªæ°´salaryæƒ…å†µï¼Œå¯¹äºç›¸åŒçš„è–ªæ°´åªæ˜¾ç¤ºä¸€æ¬¡,å¹¶æŒ‰ç…§é€†åºæ˜¾ç¤ºCREATE TABLE salaries (emp_no int(11) NOT NULL,salary int(11) NOT NULL,from_date date NOT NULL,to_date date NOT NULL,PRIMARY KEY (emp_no,from_date)); ** è®°å½•æˆ‘ç¬¬ä¸€æ¬¡æ²¡çœ‹é¢˜è§£ä½œå‡ºçš„é¢˜ç›® ** 1234567select distinct salaryfrom ( select salary from salaries where to_date = &#x27;9999-01-01&#x27;)order by salary desc æœ‰ä¸ªæ›´å¥½çš„å†™æ³• 12345select salaryfrom salarieswhere to_date=&#x27;9999-01-01&#x27;group by salaryorder by salary desc #è·å–æ‰€æœ‰éƒ¨é—¨å½“å‰managerçš„å½“å‰è–ªæ°´æƒ…å†µï¼Œç»™å‡ºdept_no, emp_noä»¥åŠsalaryï¼Œå½“å‰è¡¨ç¤ºto_date&#x3D;â€™9999-01-01â€™CREATE TABLE dept_manager (dept_no char(4) NOT NULL,emp_no int(11) NOT NULL,from_date date NOT NULL,to_date date NOT NULL,PRIMARY KEY (emp_no,dept_no));CREATE TABLE salaries (emp_no int(11) NOT NULL,salary int(11) NOT NULL,from_date date NOT NULL,to_date date NOT NULL,PRIMARY KEY (emp_no,from_date)); 12345678select d.dept_no,s.emp_no,s.salaryfrom ( dept_manager as d inner join salaries as s on d.emp_no = s.emp_no and d.to_date = s.to_date and d.to_date = &#x27;9999-01-01&#x27;) #è·å–æ‰€æœ‰émanagerçš„å‘˜å·¥emp_noCREATE TABLE dept_manager (dept_no char(4) NOT NULL,emp_no int(11) NOT NULL,from_date date NOT NULL,to_date date NOT NULL,PRIMARY KEY (emp_no,dept_no));CREATE TABLE employees (emp_no int(11) NOT NULL,birth_date date NOT NULL,first_name varchar(14) NOT NULL,last_name varchar(16) NOT NULL,gender char(1) NOT NULL,hire_date date NOT NULL,PRIMARY KEY (emp_no)); 12345select emp_nofrom employeeswhere emp_no not in( select emp_no from dept_manager) #è·å–æ‰€æœ‰å‘˜å·¥å½“å‰çš„managerï¼Œå¦‚æœå½“å‰çš„manageræ˜¯è‡ªå·±çš„è¯ç»“æœä¸æ˜¾ç¤ºï¼Œå½“å‰è¡¨ç¤ºto_date&#x3D;â€™9999-01-01â€™ã€‚ç»“æœç¬¬ä¸€åˆ—ç»™å‡ºå½“å‰å‘˜å·¥çš„emp_no,ç¬¬äºŒåˆ—ç»™å‡ºå…¶managerå¯¹åº”çš„manager_noã€‚CREATE TABLE dept_emp (emp_no int(11) NOT NULL,dept_no char(4) NOT NULL,from_date date NOT NULL,to_date date NOT NULL,PRIMARY KEY (emp_no,dept_no));CREATE TABLE dept_manager (dept_no char(4) NOT NULL,emp_no int(11) NOT NULL,from_date date NOT NULL,to_date date NOT NULL,PRIMARY KEY (emp_no,dept_no)); 12345678select de.emp_no,dm.emp_no as manager_nofrom ( dept_emp as de inner join dept_manager as dm on de.dept_no = dm.dept_no)where de.emp_no != dm.emp_noand de.to_date = &#x27;9999-01-01&#x27;and dm.to_date = &#x27;9999-01-01&#x27; #è·å–æ‰€æœ‰éƒ¨é—¨ä¸­å½“å‰å‘˜å·¥è–ªæ°´æœ€é«˜çš„ç›¸å…³ä¿¡æ¯ï¼Œç»™å‡ºdept_no, emp_noä»¥åŠå…¶å¯¹åº”çš„salaryCREATE TABLE dept_emp (emp_no int(11) NOT NULL,dept_no char(4) NOT NULL,from_date date NOT NULL,to_date date NOT NULL,PRIMARY KEY (emp_no,dept_no));CREATE TABLE salaries (emp_no int(11) NOT NULL,salary int(11) NOT NULL,from_date date NOT NULL,to_date date NOT NULL,PRIMARY KEY (emp_no,from_date)); 1234567select d.dept_no,d.emp_no,max(s.salary) as salaryfrom ( dept_emp as d inner join salaries as s on d.emp_no = s.emp_no)where d.to_date = &#x27;9999-01-01&#x27; AND s.to_date = &#x27;9999-01-01&#x27;group by d.dept_no #ä»titlesè¡¨è·å–æŒ‰ç…§titleè¿›è¡Œåˆ†ç»„ï¼Œæ¯ç»„ä¸ªæ•°å¤§äºç­‰äº2ï¼Œç»™å‡ºtitleä»¥åŠå¯¹åº”çš„æ•°ç›®tã€‚CREATE TABLE IF NOT EXISTS â€œtitlesâ€ (emp_no int(11) NOT NULL,title varchar(50) NOT NULL,from_date date NOT NULL,to_date date DEFAULT NULL); 1234select title,count(title) as tfrom titlesgroup by titlehaving t&gt;=2 #ä»titlesè¡¨è·å–æŒ‰ç…§titleè¿›è¡Œåˆ†ç»„ï¼Œæ¯ç»„ä¸ªæ•°å¤§äºç­‰äº2ï¼Œç»™å‡ºtitleä»¥åŠå¯¹åº”çš„æ•°ç›®tã€‚æ³¨æ„å¯¹äºé‡å¤çš„emp_noè¿›è¡Œå¿½ç•¥ã€‚CREATE TABLE IF NOT EXISTS titles (emp_no int(11) NOT NULL,title varchar(50) NOT NULL,from_date date NOT NULL,to_date date DEFAULT NULL); 123456select title,count(title) as tfrom ( select title from titles group by title,emp_no)group by titlehaving t&gt;=2 1234select title,count(distinct emp_no) as tfrom titlesgroup by titlehaving t&gt;=2 #æŸ¥æ‰¾employeesè¡¨æ‰€æœ‰emp_noä¸ºå¥‡æ•°ï¼Œä¸”last_nameä¸ä¸ºMaryçš„å‘˜å·¥ä¿¡æ¯ï¼Œå¹¶æŒ‰ç…§hire_dateé€†åºæ’åˆ—CREATE TABLE employees (emp_no int(11) NOT NULL,birth_date date NOT NULL,first_name varchar(14) NOT NULL,last_name varchar(16) NOT NULL,gender char(1) NOT NULL,hire_date date NOT NULL,PRIMARY KEY (emp_no)); 12345select *from employeeswhere emp_no%2 == 1and last_name != &quot;Mary&quot;order by hire_date desc #ç»Ÿè®¡å‡ºå½“å‰å„ä¸ªtitleç±»å‹å¯¹åº”çš„å‘˜å·¥å½“å‰ï¼ˆto_date&#x3D;â€™9999-01-01â€™ï¼‰è–ªæ°´å¯¹åº”çš„å¹³å‡å·¥èµ„ã€‚ç»“æœç»™å‡ºtitleä»¥åŠå¹³å‡å·¥èµ„avgã€‚CREATE TABLE salaries (emp_no int(11) NOT NULL,salary int(11) NOT NULL,from_date date NOT NULL,to_date date NOT NULL,PRIMARY KEY (emp_no,from_date));CREATE TABLE IF NOT EXISTS â€œtitlesâ€ (emp_no int(11) NOT NULL,title varchar(50) NOT NULL,from_date date NOT NULL,to_date date DEFAULT NULL); 12345678select t.title,avg(s.salary)from ( salaries as s inner join titles as t on s.emp_no = t.emp_no)where s.to_date=&#x27;9999-01-01&#x27;and t.to_date=&#x27;9999-01-01&#x27;group by title #è·å–å½“å‰ï¼ˆto_date&#x3D;â€™9999-01-01â€™ï¼‰è–ªæ°´ç¬¬äºŒå¤šçš„å‘˜å·¥çš„emp_noä»¥åŠå…¶å¯¹åº”çš„è–ªæ°´salaryCREATE TABLE salaries (emp_no int(11) NOT NULL,salary int(11) NOT NULL,from_date date NOT NULL,to_date date NOT NULL,PRIMARY KEY (emp_no,from_date)); 1234select emp_no,salaryfrom salariesorder by salary desclimit 1,1 #æŸ¥æ‰¾å½“å‰è–ªæ°´(to_date&#x3D;â€™9999-01-01â€™)æ’åç¬¬äºŒå¤šçš„å‘˜å·¥ç¼–å·emp_noã€è–ªæ°´salaryã€last_nameä»¥åŠfirst_nameï¼Œä¸å‡†ä½¿ç”¨order byCREATE TABLE employees (emp_no int(11) NOT NULL,birth_date date NOT NULL,first_name varchar(14) NOT NULL,last_name varchar(16) NOT NULL,gender char(1) NOT NULL,hire_date date NOT NULL,PRIMARY KEY (emp_no));CREATE TABLE salaries (emp_no int(11) NOT NULL,salary int(11) NOT NULL,from_date date NOT NULL,to_date date NOT NULL,PRIMARY KEY (emp_no,from_date)); 123456789101112select e.emp_no,s.salary,e.last_name,e.first_namefrom ( employees as e inner join salaries as s on e.emp_no = s.emp_no and s.to_date= &#x27;9999-01-01&#x27; and s.salary = ( /*select max(salary) from salaries*/ select max(salary) from salaries where salary&lt;( select max(salary) from salaries ) )) #æŸ¥æ‰¾æ‰€æœ‰å‘˜å·¥çš„last_nameå’Œfirst_nameä»¥åŠå¯¹åº”çš„dept_nameï¼Œä¹ŸåŒ…æ‹¬æš‚æ—¶æ²¡æœ‰åˆ†é…éƒ¨é—¨çš„å‘˜å·¥CREATE TABLE departments (dept_no char(4) NOT NULL,dept_name varchar(40) NOT NULL,PRIMARY KEY (dept_no));CREATE TABLE dept_emp (emp_no int(11) NOT NULL,dept_no char(4) NOT NULL,from_date date NOT NULL,to_date date NOT NULL,PRIMARY KEY (emp_no,dept_no));CREATE TABLE employees (emp_no int(11) NOT NULL,birth_date date NOT NULL,first_name varchar(14) NOT NULL,last_name varchar(16) NOT NULL,gender char(1) NOT NULL,hire_date date NOT NULL,PRIMARY KEY (emp_no)); 12345678select e.last_name,e.first_name,dm.dept_namefrom ( ( employees as e left join dept_emp as de on e.emp_no = de.emp_no ) left join departments as dm on de.dept_no=dm.dept_no) #æŸ¥æ‰¾å‘˜å·¥ç¼–å·emp_noä¸º10001å…¶è‡ªå…¥èŒä»¥æ¥çš„è–ªæ°´salaryæ¶¨å¹…å€¼growthCREATE TABLE salaries (emp_no int(11) NOT NULL,salary int(11) NOT NULL,from_date date NOT NULL,to_date date NOT NULL,PRIMARY KEY (emp_no,from_date)); 123456789101112131415select((select salaryfrom salarieswhere emp_no= 10001order by to_date desclimit 0,1) -(select salaryfrom salarieswhere emp_no= 10001order by to_datelimit 0,1)) as growth #æŸ¥æ‰¾æ‰€æœ‰å‘˜å·¥è‡ªå…¥èŒä»¥æ¥çš„è–ªæ°´æ¶¨å¹…æƒ…å†µï¼Œç»™å‡ºå‘˜å·¥ç¼–å·emp_noä»¥åŠå…¶å¯¹åº”çš„è–ªæ°´æ¶¨å¹…growthï¼Œå¹¶æŒ‰ç…§growthè¿›è¡Œå‡åºCREATE TABLE employees (emp_no int(11) NOT NULL,birth_date date NOT NULL,first_name varchar(14) NOT NULL,last_name varchar(16) NOT NULL,gender char(1) NOT NULL,hire_date date NOT NULL,PRIMARY KEY (emp_no));CREATE TABLE salaries (emp_no int(11) NOT NULL,salary int(11) NOT NULL,from_date date NOT NULL,to_date date NOT NULL,PRIMARY KEY (emp_no,from_date)); 12345678select a.emp_no,(b.salary-c.salary) as growthfrom employees as a inner join salaries as b on a.emp_no = b.emp_no and b.to_date = &#x27;9999-01-01&#x27; inner join salaries as c on a.emp_no = c.emp_no and a.hire_date = c.from_dateorder by growth #ç»Ÿè®¡å„ä¸ªéƒ¨é—¨çš„å·¥èµ„è®°å½•æ•°ï¼Œç»™å‡ºéƒ¨é—¨ç¼–ç dept_noã€éƒ¨é—¨åç§°dept_nameä»¥åŠæ¬¡æ•°sumCREATE TABLE departments (dept_no char(4) NOT NULL,dept_name varchar(40) NOT NULL,PRIMARY KEY (dept_no));CREATE TABLE dept_emp (emp_no int(11) NOT NULL,dept_no char(4) NOT NULL,from_date date NOT NULL,to_date date NOT NULL,PRIMARY KEY (emp_no,dept_no));CREATE TABLE salaries (emp_no int(11) NOT NULL,salary int(11) NOT NULL,from_date date NOT NULL,to_date date NOT NULL,PRIMARY KEY (emp_no,from_date)); 12345678select dm.dept_no,dm.dept_name,count(s.salary) as sumfrom salaries as s inner join dept_emp as de on s.emp_no = de.emp_no inner join departments as dm on de.dept_no = dm.dept_nogroup by dm.dept_no","categories":[{"name":"Database","slug":"Database","permalink":"http://fightinggg.github.io/indigo/categories/Database/"}],"tags":[]},{"title":"spring10-é…ç½®AOP","slug":"Language/Java/Spring/spring10-é…ç½®AOP/index","date":"2020-04-05T16:06:13.000Z","updated":"2020-04-05T16:06:13.000Z","comments":true,"path":"Q8BOQD.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8BOQD.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial springä¸­çš„AOP è¿æ¥ç‚¹ï¼Œè¢«æ‹¦æˆªåˆ°çš„ç‚¹ï¼Œåœ¨springä¸­æŒ‡çš„æ˜¯æ–¹æ³• åˆ‡å…¥ç‚¹ï¼Œè¢«å¢å¼ºçš„è¿æ¥ç‚¹ é€šçŸ¥ åœ¨è°ƒç”¨æ–¹æ³•å‰çš„æ˜¯å‰ç½®é€šçŸ¥ï¼Œåœ¨åé¢çš„æ˜¯åç½®é€šçŸ¥ï¼Œåœ¨catchä¸­çš„æ˜¯å¼‚å¸¸é€šçŸ¥ï¼Œåœ¨finalä¸­çš„æ˜¯æœ€ç»ˆé€šçŸ¥ï¼Œæ•´ä¸ªinvokeæ–¹æ³•å°±æ˜¯ç¯ç»•é€šçŸ¥ Target è¢«ä»£ç†çš„å¯¹è±¡","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial springä¸­çš„AOP è¿æ¥ç‚¹ï¼Œè¢«æ‹¦æˆªåˆ°çš„ç‚¹ï¼Œåœ¨springä¸­æŒ‡çš„æ˜¯æ–¹æ³• åˆ‡å…¥ç‚¹ï¼Œè¢«å¢å¼ºçš„è¿æ¥ç‚¹ é€šçŸ¥ åœ¨è°ƒç”¨æ–¹æ³•å‰çš„æ˜¯å‰ç½®é€šçŸ¥ï¼Œåœ¨åé¢çš„æ˜¯åç½®é€šçŸ¥ï¼Œåœ¨catchä¸­çš„æ˜¯å¼‚å¸¸é€šçŸ¥ï¼Œåœ¨finalä¸­çš„æ˜¯æœ€ç»ˆé€šçŸ¥ï¼Œæ•´ä¸ªinvokeæ–¹æ³•å°±æ˜¯ç¯ç»•é€šçŸ¥ Target è¢«ä»£ç†çš„å¯¹è±¡ proxy ä»£ç†å¯¹è±¡ ç»‡å…¥ æŠŠè¢«ä»£ç†å¯¹è±¡å¢å¼ºçš„è¿‡ç¨‹ åˆ‡é¢ é€šçŸ¥+åˆ‡å…¥ç‚¹ springä¸­çš„AOPè¦æ˜ç¡®çš„äº‹æƒ… ç¼–å†™æ ¸å¿ƒä»£ç ï¼ŒæŠ½å–å…¬å…±ä»£ç åˆ¶ä½œä¸ºé€šçŸ¥ï¼Œåœ¨é…ç½®æ–‡ä»¶ä¸­å£°æ˜åˆ‡å…¥ç‚¹å’Œé€šçŸ¥ä¹‹é—´çš„å…³ç³» springä¸­AOPçš„é…ç½®XMLé…ç½®AOP aop:config è¡¨æ˜aopé…ç½®å¼€å§‹, aop:aspect åˆ‡é¢é…ç½®å¼€å§‹ idæ˜¯åˆ‡é¢çš„åå­—ï¼Œrefæ˜¯é€šçŸ¥ç±»bean aop:before å‰ç½®é€šçŸ¥ methodç”¨äºæŒ‡å®šä¸­çš„æ–¹æ³• pointcutæ˜¯åˆ‡å…¥ç‚¹ 123456&lt;bean id=&#x27;logger&#x27; class=&quot;com.wsx.utils.logger&quot;&gt;&lt;/bean&gt;&lt;aop:config&gt; &lt;aop:aspect id=&quot;logAdvice&quot; ref=&quot;logger&quot;&gt; &lt;aop:before method=&quot;pringLog&quot; porint=&quot;execution(public void com.wsx.wsx.wsx.saveAccount())&quot;&gt;&lt;/aop:before&gt; &lt;/aop:aspect&gt;&lt;/aop:config&gt; é€šé…å†™æ³• è®¿é—®ä¿®é¥°ç¬¦å¯ä»¥çœç•¥ å¦‚public è¿”å›å€¼å¯ä»¥æ˜¯é€šé…ç¬¦ï¼Œè¡¨ç¤ºä»»æ„è¿”å›å€¼ åŒ…åå¯ä»¥æ˜¯é€šé…ç¬¦è¡¨ç¤ºä»»æ„åŒ…ï¼Œå‡ ä¸ªåŒ…å°±æœ‰å‡ ä¸ª*ï¼Œ å¯ä»¥ç”¨..*è¡¨ç¤ºå½“å‰åŒ…çš„æ‰€æœ‰å­åŒ… æ–¹æ³•å¯ä»¥ç”¨* å‚æ•°å¯ä»¥ç”¨é€šé…ç¬¦ï¼Œæˆ–è€…ç±»å‹å * *..**.*(..) 123456&lt;bean id=&#x27;logger&#x27; class=&quot;com.wsx.utils.logger&quot;&gt;&lt;/bean&gt;&lt;aop:config&gt; &lt;aop:aspect id=&quot;logAdvice&quot; ref=&quot;logger&quot;&gt; &lt;aop:before method=&quot;pringLog&quot; porint=&quot;execution(* *..*.*(..)&quot;&gt;&lt;/aop:before&gt; &lt;/aop:aspect&gt;&lt;/aop:config&gt; å®é™…å¼€å‘æ€ä¹ˆå†™å‘¢ * com.wsx.wsx.wsx.*.*(..) å„ç§é€šçŸ¥éƒ½åŠ è¿›æ¥123456789&lt;bean id=&#x27;logger&#x27; class=&quot;com.wsx.utils.logger&quot;&gt;&lt;/bean&gt;&lt;aop:config&gt; &lt;aop:aspect id=&quot;logAdvice&quot; ref=&quot;logger&quot;&gt; &lt;aop:before method=&quot;before&quot; porint=&quot;execution(public void com.wsx.wsx.wsx.saveAccount())&quot;&gt;&lt;/aop:before&gt; &lt;aop:after-returning method=&quot;after-returning&quot; porint=&quot;execution(public void com.wsx.wsx.wsx.saveAccount())&quot;&gt;&lt;/aop:after-returning&gt; &lt;aop:after-throwing method=&quot;after-throwing&quot; porint=&quot;execution(public void com.wsx.wsx.wsx.saveAccount())&quot;&gt;&lt;/aop:after-throwing&gt; &lt;aop:after method=&quot;after&quot; porint=&quot;execution(public void com.wsx.wsx.wsx.saveAccount())&quot;&gt;&lt;/aop:after&gt; &lt;/aop:aspect&gt;&lt;/aop:config&gt; é…ç½®åˆ‡ç‚¹ å‡å°‘ä»£ç é‡ï¼Œå†™åœ¨aop:aspectå¤–å¯ä»¥æ‰€æœ‰åˆ‡é¢éƒ½å¯ä»¥ä½¿ç”¨(å†™åœ¨aspectä¹‹å‰)ï¼Œå†™åœ¨aop:aspectå†…åªåœ¨å†…éƒ¨æœ‰ç”¨ 12345678910&lt;bean id=&#x27;logger&#x27; class=&quot;com.wsx.utils.logger&quot;&gt;&lt;/bean&gt;&lt;aop:config&gt; &lt;aop:aspect id=&quot;logAdvice&quot; ref=&quot;logger&quot;&gt; &lt;aop:before method=&quot;before&quot; pointcut-ref=&quot;pt1&quot;&gt;&lt;/aop:before&gt; &lt;aop:after-returning method=&quot;after-returning&quot; pointcut-ref=&quot;pt1&quot;&gt;&lt;/aop:after-returning&gt; &lt;aop:after-throwing method=&quot;after-throwing&quot; pointcut-ref=&quot;pt1&quot;&gt;&lt;/aop:after-throwin&gt; &lt;aop:after method=&quot;after&quot; pointcut-ref=&quot;pt1&quot;&gt;&lt;/aop:after&gt; &lt;aop:pointcut id=&quot;pt1&quot; expression=&quot;execution(public void com.wsx.wsx.wsx.saveAccount())&quot;&gt;&lt;/aop:pointcut&gt; &lt;/aop:aspect&gt;&lt;/aop:config&gt; é…ç½®ç¯ç»•é€šçŸ¥ å½“æˆ‘ä»¬é…ç½®äº†ç¯ç»•é€šçŸ¥ä»¥åï¼Œspringå°±ä¸è‡ªåŠ¨å¸®æˆ‘ä»¬è°ƒç”¨è¢«ä»£ç†å¯¹è±¡äº† 1&lt;aop:around method=&quot;?&quot; pointcut-ref=&quot;pt1&quot;&gt;&lt;/aop:around&gt; 12345678910public Object arroundPringLog(ProceedingJoinPoint pjp)&#123; Object rtValue = null; try&#123; Object[] args = pjp.getArgs(); // è·å¾—å‚æ•° rtValue = pip.proceed(args); //è°ƒç”¨å‡½æ•° return rtValue; &#125;catch(Throwable t)&#123; &#125;finally&#123; &#125;&#125; æ³¨è§£é…ç½®AOPå¼€å¯æ³¨è§£1&lt;aop:aspectj-autoproxy&gt;&lt;/aop:aspectj-autoproxy&gt; @Aspect è¡¨æ˜å½“å‰ç±»æ˜¯ä¸€ä¸ªåˆ‡é¢ç±» @Pointcut åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ 12@pointcut(&quot;execution(public void com.wsx.wsx.wsx.saveAccount())&quot;)private void pt1()&#123;&#125; @Before è¡¨æ˜å½“å‰æ–¹æ³•æ˜¯ä¸€ä¸ªå‰ç½®é€šçŸ¥ï¼Œ AfterReturningã€AfterThrowingã€Afterã€ArountåŒç† 12@Before(&quot;pt1()&quot;)public void f()&#123;&#125; æ³¨è§£è°ƒç”¨é¡ºåºçš„é—®é¢˜ å‰ç½®ã€æœ€ç»ˆã€åç½®&#x2F;å¼‚å¸¸ çº¯æ³¨è§£ åŠ åœ¨ç±»çš„å‰é¢å³å¯ 123@Configuration@ComponentScan(..)@EnableAspectJAutoProxy","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"Spring","slug":"Language/Java/Spring","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/Spring/"}],"tags":[]},{"title":"spring9-åŠ¨æ€ä»£ç†","slug":"Language/Java/Spring/spring9-åŠ¨æ€ä»£ç†/index","date":"2020-04-05T16:06:03.000Z","updated":"2020-04-05T16:06:03.000Z","comments":true,"path":"Q8BOQ3.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8BOQ3.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial accountæ¡ˆä¾‹&amp;emsp;&amp;emsp; æˆ‘ä»¬æœ‰ä¸€ä¸ªè½¬è´¦æ–¹æ³•: æ ¹æ®åç§°æ‰¾åˆ°è´¦æˆ·ï¼Œè½¬å‡ºè´¦æˆ·å‡é’±ï¼Œè½¬å…¥è´¦æˆ·åŠ é’±ï¼Œæ›´æ–°è½¬å‡ºè´¦æˆ·ï¼Œæ›´æ–°è½¬å…¥è´¦æˆ·ï¼Œè¿™ä¸ªæ–¹æ³•æ²¡æœ‰äº‹åŠ¡çš„æ§åˆ¶ï¼Œå¯èƒ½å‡ºç°é—®é¢˜ æ¡ˆä¾‹é—®é¢˜&amp;emsp;&amp;emsp; å®é™…ä¸Šæˆ‘ä»¬éœ€è¦ç»´æŠ¤ä¸€ä¸ªå’Œçº¿ç¨‹ç»‘å®šçš„æ•°æ®åº“è¿æ¥ï¼Œæˆ‘ä»¬åšä¸€ä¸ªå·¥å…·ç±»ï¼Œè®©å…¶æ”¯æŒå›æ»šï¼Œäºæ˜¯æˆ‘ä»¬åœ¨ä¸Šè¯‰æ¡ˆä¾‹ä¸­å¯ä»¥ä½¿ç”¨trycatchï¼Œä¸€æ—¦ç¢°åˆ°é—®é¢˜ï¼Œåœ¨catchä¸­å›æ»šå³å¯,è¿™ä¸ªå¯ä»¥è§£å†³é—®é¢˜ï¼Œä½†æ˜¯å¤ªå¤æ‚äº†ã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial accountæ¡ˆä¾‹&amp;emsp;&amp;emsp; æˆ‘ä»¬æœ‰ä¸€ä¸ªè½¬è´¦æ–¹æ³•: æ ¹æ®åç§°æ‰¾åˆ°è´¦æˆ·ï¼Œè½¬å‡ºè´¦æˆ·å‡é’±ï¼Œè½¬å…¥è´¦æˆ·åŠ é’±ï¼Œæ›´æ–°è½¬å‡ºè´¦æˆ·ï¼Œæ›´æ–°è½¬å…¥è´¦æˆ·ï¼Œè¿™ä¸ªæ–¹æ³•æ²¡æœ‰äº‹åŠ¡çš„æ§åˆ¶ï¼Œå¯èƒ½å‡ºç°é—®é¢˜ æ¡ˆä¾‹é—®é¢˜&amp;emsp;&amp;emsp; å®é™…ä¸Šæˆ‘ä»¬éœ€è¦ç»´æŠ¤ä¸€ä¸ªå’Œçº¿ç¨‹ç»‘å®šçš„æ•°æ®åº“è¿æ¥ï¼Œæˆ‘ä»¬åšä¸€ä¸ªå·¥å…·ç±»ï¼Œè®©å…¶æ”¯æŒå›æ»šï¼Œäºæ˜¯æˆ‘ä»¬åœ¨ä¸Šè¯‰æ¡ˆä¾‹ä¸­å¯ä»¥ä½¿ç”¨trycatchï¼Œä¸€æ—¦ç¢°åˆ°é—®é¢˜ï¼Œåœ¨catchä¸­å›æ»šå³å¯,è¿™ä¸ªå¯ä»¥è§£å†³é—®é¢˜ï¼Œä½†æ˜¯å¤ªå¤æ‚äº†ã€‚ åŠ¨æ€ä»£ç†&amp;emsp;&amp;emsp; å­—èŠ‚ç éšç”¨éšåˆ›å»ºï¼Œéšç”¨éšåŠ è½½ï¼Œä¸ä¿®æ”¹è¿œä¹ˆçš„åŸºç¡€ä¸Šå¯¹æ–¹æ³•å¢å¼ºï¼Œ&amp;emsp;&amp;emsp; æœ‰ä¸¤ç§ï¼ŒåŸºäºæ¥å£çš„åŠ¨æ€ä»£ç†å’ŒåŸºäºç±»çš„åŠ¨æ€ä»£ç† åŸºäºæ¥å£çš„åŠ¨æ€ä»£ç†&amp;emsp;&amp;emsp; Proxy.newProxyInstance&amp;emsp;&amp;emsp; å‚æ•°1 ç±»åŠ è½½å™¨ï¼š å›ºå®šå†™æ³• æ˜¯è¢«ä»£ç†å¯¹è±¡çš„ç±»åŠ è½½å™¨&amp;emsp;&amp;emsp; å‚æ•°2 å­—èŠ‚ç æ•°ç»„ï¼š å›ºå®šå†™æ³• è®©ä»£ç†å¯¹è±¡å’Œè¢«ä»£ç†å¯¹è±¡æœ‰ç›¸åŒçš„æ–¹æ³•&amp;emsp;&amp;emsp; å‚æ•°3 å¢å¼ºçš„ä»£ç  ï¼Œæ˜¯ä¸€ä¸ªåŒ¿åå†…éƒ¨ç±» å†…éƒ¨ç±»&amp;emsp;&amp;emsp; å®ç°ä¸€ä¸ªinvoke(proxy,method,args); method.invoke(producer,args);&amp;emsp;&amp;emsp; å¦‚æœè¢«ä»£ç†çš„ç±»æ²¡æœ‰å®ç°ä»»ä½•æ¥å£ï¼Œåˆ™æ­¤æ–¹æ³•æ— ç”¨ åŠ¨æ€ä»£ç†çš„å¦ä¸€ç§å®ç°æ–¹å¼&amp;emsp;&amp;emsp; cglib åŸºäºå­ç±»çš„åŠ¨æ€ä»£ç†&amp;emsp;&amp;emsp; Enhancer.create(class,callback);&amp;emsp;&amp;emsp; è¦æ±‚ç±»ä¸èƒ½æ˜¯æœ€ç»ˆç±»&amp;emsp;&amp;emsp; classæ˜¯è¢«ä»£ç†å¯¹è±¡çš„å­—èŠ‚ç ï¼Œ&amp;emsp;&amp;emsp; ç¬¬äºŒä¸ªå‚æ•°æ˜¯MethodInterceptoræ˜¯ä¸€ä¸ªå†…éƒ¨åŒ¿åç±» åŠ¨æ€ä»£ç†çš„ä½œç”¨&amp;emsp;&amp;emsp; ç”¨åŠ¨æ€ä»£ç†å¢å¼ºconnectï¼Œè®©å…¶åŠ å›è¿æ¥æ± #","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"Spring","slug":"Language/Java/Spring","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/Spring/"}],"tags":[]},{"title":"spring8-springæ•´åˆjunit","slug":"Language/Java/Spring/spring8-springæ•´åˆjunit/index","date":"2020-04-05T16:05:43.000Z","updated":"2020-04-05T16:05:43.000Z","comments":true,"path":"Q8BOPJ.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8BOPJ.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial springæ•´åˆjunit@RunWith æˆ‘ä»¬éœ€è¦åˆ‡æ¢junitçš„main @ContextConfiguration æŒ‡å®šé…ç½®ç±»æˆ–è€…é…ç½®æ–‡ä»¶ 12345&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-test&lt;/artifactId&gt; &lt;version&gt;4.3.8.RELEASE&lt;/version&gt;&lt;/dependency&gt;","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial springæ•´åˆjunit@RunWith æˆ‘ä»¬éœ€è¦åˆ‡æ¢junitçš„main @ContextConfiguration æŒ‡å®šé…ç½®ç±»æˆ–è€…é…ç½®æ–‡ä»¶ 12345&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;/groupId&gt; &lt;artifactId&gt;spring-test&lt;/artifactId&gt; &lt;version&gt;4.3.8.RELEASE&lt;/version&gt;&lt;/dependency&gt; 123456@RunWith(SpringJUnit4ClassRunner.class)@ContextConfiguration(classes = Springconfig.class)public class MainTest &#123; @Autowired private Main m = null;&#125; 123456@RunWith(SpringJUnit4ClassRunner.class)@ContextConfiguration(locations= &quot;classpath:bean.xml&quot;)public class MainTest &#123; @Autowired private Main m = null;&#125;","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"Spring","slug":"Language/Java/Spring","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/Spring/"}],"tags":[]},{"title":"spring7-æ³¨è§£é…ç½®IOC","slug":"Language/Java/Spring/spring7-æ³¨è§£é…ç½®IOC/index","date":"2020-04-05T16:05:26.000Z","updated":"2020-04-05T16:05:26.000Z","comments":true,"path":"Q8BOP2.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8BOP2.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ³¨è§£é…ç½®IOC å…ˆæ€»ç»“ä¸€ä¸‹ä¹‹å‰çš„ä¸œè¥¿ï¼Œæ›¾ç»çš„XMLé…ç½®ï¼Œæœ‰æ ‡ç­¾idå’Œclassç”¨äºæ„é€ ï¼Œæœ‰scopeç”¨æ¥è¡¨ç¤ºä½œç”¨èŒƒå›´ï¼Œæœ‰init-methodå’Œdestroy-methodç”¨æ¥è¡¨ç¤ºç”Ÿå‘½å‘¨æœŸï¼Œæœ‰propertyç”¨æ¥è¡¨ç¤ºä¾èµ–æ³¨å…¥ å‘ŠçŸ¥springå»æ‰«æ1234567891011121314&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.0.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd&quot;&gt; &lt;context:component-scan base-package=&quot;com.wsx.spring&quot;&gt;&lt;/context:component-scan&gt;&lt;/beans&gt;","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ³¨è§£é…ç½®IOC å…ˆæ€»ç»“ä¸€ä¸‹ä¹‹å‰çš„ä¸œè¥¿ï¼Œæ›¾ç»çš„XMLé…ç½®ï¼Œæœ‰æ ‡ç­¾idå’Œclassç”¨äºæ„é€ ï¼Œæœ‰scopeç”¨æ¥è¡¨ç¤ºä½œç”¨èŒƒå›´ï¼Œæœ‰init-methodå’Œdestroy-methodç”¨æ¥è¡¨ç¤ºç”Ÿå‘½å‘¨æœŸï¼Œæœ‰propertyç”¨æ¥è¡¨ç¤ºä¾èµ–æ³¨å…¥ å‘ŠçŸ¥springå»æ‰«æ1234567891011121314&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.0.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.0.xsd http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-4.0.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd&quot;&gt; &lt;context:component-scan base-package=&quot;com.wsx.spring&quot;&gt;&lt;/context:component-scan&gt;&lt;/beans&gt; @Component è®²å½“å‰ç±»çš„å¯¹è±¡å­˜å…¥springçš„å®¹å™¨ï¼Œæœ‰ä¸€ä¸ªvalueè¡¨ç¤ºidï¼Œå¦‚æœä¸å†™çš„è¯ä¼šè®©å½“å‰ç±»åçš„é¦–å­—æ¯å˜å°å†™ä½œä¸ºid 123456@Component(value = &quot;myclass&quot;)public class Myclass &#123; void function()&#123; System.out.println(&quot;hello&quot;); &#125;&#125; 123456@Component(&quot;myclass&quot;)public class Myclass &#123; void function()&#123; System.out.println(&quot;hello&quot;); &#125;&#125; 123456@Componentpublic class Myclass &#123; void function()&#123; System.out.println(&quot;hello&quot;); &#125;&#125; @Controller @Service @Repository ä»–ä»¬å’ŒComponentçš„ä½œç”¨ä¸€æ ·ï¼Œä½†æ˜¯åˆ†åˆ«ç”¨äºè¡¨ç°å±‚ã€ä¸šåŠ¡å±‚ã€æŒä¹…å±‚å½“ç„¶ä½ ä¹±ç”¨ä¹Ÿä¸è¦ç´§ @Autowired è‡ªåŠ¨æ³¨å…¥ï¼Œå¦‚æœå®¹å™¨ä¸­æœ‰å”¯ä¸€ä¸€ä¸ªbeanå¯¹è±¡ï¼Œå°±å¯ä»¥æˆåŠŸæ³¨å…¥,å¦‚æœä¸€ä¸ªéƒ½æ²¡æœ‰å°±æŠ¥é”™ï¼Œå¦‚æœæœ‰å¤šä¸ªï¼Œå…ˆç”¨ç±»å‹åŒ¹é…ï¼Œå†ç”¨å˜é‡åå­—(é¦–å­—æ¯å˜å¤§äº›)å»åŒ¹é…ï¼Œ 123456789101112131415161718@Componentclass Node&#123; void show()&#123; System.out.println(&quot;Node&quot;); &#125;&#125;@Componentpublic class Myclass &#123; @Autowired private Node node=null; void nodeShow()&#123; node.show(); &#125; void function()&#123; System.out.println(&quot;hello&quot;); &#125;&#125; @Qualifier å¿…é¡»å’Œ@Autowiredé…åˆä½¿ç”¨ï¼Œåœ¨Qualifierçš„valueä¸­å†™ç±»å‹å°±å¯ä»¥äº†ï¼Œæ³¨æ„é¦–å­—æ¯å°å†™ã€‚ @Resource ç”¨nameè¡¨ç¤ºid 12345678910111213141516171819@Componentclass Node&#123; void show()&#123; System.out.println(&quot;Node&quot;); &#125;&#125;@Componentpublic class Myclass &#123; @Resource(name = &quot;node&quot;) private Node node=null; void nodeShow()&#123; node.show(); &#125; void function()&#123; System.out.println(&quot;hello&quot;); &#125;&#125; @Value æ³¨å…¥åŸºæœ¬ç±»å‹å’Œstringç±»å‹ $(è¡¨è¾¾å¼)ï¼Œéœ€è¦æœ‰é…ç½®æ–‡ä»¶propertiesï¼Œè¯¦ç»†çš„åé¢ä¼šè®² @Scope å†™åœ¨ç±»çš„ä¸Šé¢ï¼Œ å¸¸å¸¸å–å€¼singleton prototype @PreDestory æŒ‡å®šdestroyæ–¹æ³• @PostConstruct å†™åœ¨initæ–¹æ³•çš„ä¸Šé¢ springä¸­çš„æ–°æ³¨è§£@Configurationç”¨äºæŒ‡å®šå½“å‰ç±»æ˜¯ä¸€ä¸ªé…ç½®ç±»ï¼Œå½“é…ç½®ç±»ä½œä¸ºAnnotationConfigApplicationçš„å‚æ•°æ—¶å€™,å¯ä»¥ä¸å†™ï¼Œå…¶ä»–çš„é…ç½®ç±»è¦å†™ @ComponentScan ç”¨äºæŒ‡å®šspringåœ¨åˆ›å»ºå®¹å™¨æ—¶è¦æ‰«æçš„åŒ… @Bean æŠŠå½“å‰æ–¹æ³•çš„è¿”å›å€¼ä½œä¸ºbeanå¯¹è±¡å­˜å…¥springçš„iocå®¹å™¨ä¸­ ï¼Œå±æ€§ä¸ºnameè¡¨ç¤ºiocå®¹å™¨ä¸­çš„é”®ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨æ³¨è§£é…ç½®æ–¹æ³•çš„æ—¶å€™ï¼Œå¦‚æœæ–¹æ³•æœ‰å‚æ•°ï¼Œspringä¼šå»å®¹å™¨ä¸­å¯»æ‰¾ï¼Œå’ŒAutowiredä¸€æ · 1234567@Configurationpublic class MyAppConfig&#123; @Bean public HelloService helloService()&#123; return new HelloService(); &#125;&#125; ç°åœ¨ä½ å¯ä»¥åˆ xmläº†1ApplicationContext ac = new AnnotationConfigApplication(SpringConfiguration.class); @Import å¦‚æœæˆ‘ä»¬æœ‰å¤šä¸ªé…ç½®ç±»çš„æ—¶å€™ï¼Œæœ‰å¾ˆå¤šåšæ³•ï¼Œä¸€æ˜¯åœ¨ä½¿ç”¨AnnotationConfigApplicationåˆ›å»ºå¯¹è±¡çš„æ—¶å€™æŠŠç±»éƒ½åŠ è¿›å»ï¼ŒäºŒæ˜¯åœ¨ä¸»é…ç½®ç±»çš„@ComponentScanä¸­åŠ å…¥é…ç½®ç±»(è¿™ä¸ªç±»éœ€è¦ä½¿ç”¨@Configuration)ï¼Œä¸‰æ˜¯åœ¨ä¸»é…ç½®ç±»ä¸­ä½¿ç”¨@Importç›´æ¥å¯¼å…¥ @PropertySource è¿˜è®°å¾—å‰é¢è¯´çš„@Valueæ³¨è§£å—ï¼Œé‚£é‡Œéœ€è¦ä¸€ä¸ªpropertiesé…ç½®æ–‡ä»¶ï¼Œè¿™é‡Œæˆ‘ä»¬åœ¨ä¸»ç±»ä¸­ä½¿ç”¨PropertySourceå°±å¯ä»¥æŒ‡å®špropertiesé…ç½®æ–‡ä»¶äº† 1@PropertySource(classpath:jdbconfig.properties) æ€»ç»“ æ²¡æœ‰é€‰æ‹©ä»¥å…¬å¸ä¸ºä¸»ï¼Œå…¨xmlé…ç½®å¤æ‚ï¼Œå…¨æ³¨è§£ä¹Ÿä¸å¤ªå¥½ï¼Œæ‰€ä»¥xml+æ³¨è§£æ›´æ–¹ä¾¿ï¼Œè‡ªå·±å†™çš„ç±»ç”¨æ³¨è§£ï¼Œå¯¼å…¥çš„ç±»ç”¨xml","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"Spring","slug":"Language/Java/Spring","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/Spring/"}],"tags":[]},{"title":"spring6-ä¾èµ–æ³¨å…¥","slug":"Language/Java/Spring/spring6-ä¾èµ–æ³¨å…¥/index","date":"2020-04-05T16:05:16.000Z","updated":"2020-04-05T16:05:16.000Z","comments":true,"path":"Q8BOOS.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8BOOS.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial sprintçš„ä¾èµ–æ³¨å…¥ dependency injection IOCæ˜¯é™ä½ç¨‹åºä¹‹é—´çš„ä¾èµ–å…³ç³»çš„ï¼Œæˆ‘ä»¬æŠŠä¾èµ–å…³ç³»äº¤ç»™springç»´æŠ¤ï¼Œä¾èµ–å…³ç³»çš„ç»´æŠ¤å°±å«åšä¾èµ–æ³¨å…¥ æ³¨å…¥çš„ç±»å‹ åŸºæœ¬ç±»å‹å’ŒSringã€ beanç±»å‹ã€é›†åˆç±»å‹ æ³¨å…¥çš„æ–¹æ³• æ„é€ å‡½æ•°ã€setã€æ³¨è§£","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial sprintçš„ä¾èµ–æ³¨å…¥ dependency injection IOCæ˜¯é™ä½ç¨‹åºä¹‹é—´çš„ä¾èµ–å…³ç³»çš„ï¼Œæˆ‘ä»¬æŠŠä¾èµ–å…³ç³»äº¤ç»™springç»´æŠ¤ï¼Œä¾èµ–å…³ç³»çš„ç»´æŠ¤å°±å«åšä¾èµ–æ³¨å…¥ æ³¨å…¥çš„ç±»å‹ åŸºæœ¬ç±»å‹å’ŒSringã€ beanç±»å‹ã€é›†åˆç±»å‹ æ³¨å…¥çš„æ–¹æ³• æ„é€ å‡½æ•°ã€setã€æ³¨è§£ æ„é€ å‡½æ•°æ³¨å…¥ ä½¿ç”¨constructor-argæ ‡ç­¾ typeæ ‡ç­¾ æˆ‘ä»¬å¾ˆå®¹æ˜“æƒ³åˆ° 123&lt;bean id=&quot;myclass&quot; class=&quot;com.wsx.spring.Myclass&quot;&gt; &lt;constructor-arg type=&quot;java.lang.String&quot; value=&quot;wsx&quot;&gt;&lt;/constructor-arg&gt;&lt;/bean&gt; index æ ‡ç­¾ ä½¿ç”¨ä¸‹æ ‡ï¼Œä½ç½®ä»0å¼€å§‹ 123&lt;bean id=&quot;myclass&quot; class=&quot;com.wsx.spring.Myclass&quot;&gt; &lt;constructor-arg index=&quot;0&quot; value=&quot;wsx&quot;&gt;&lt;/constructor-arg&gt;&lt;/bean&gt; name æ ‡ç­¾ ä½¿ç”¨å‚æ•°çš„åç§° 123&lt;bean id=&quot;myclass&quot; class=&quot;com.wsx.spring.Myclass&quot;&gt; &lt;constructor-arg name=&quot;name&quot; value=&quot;wsx&quot;&gt;&lt;/constructor-arg&gt;&lt;/bean&gt; ä½¿ç”¨ref ä½¿ç”¨å…¶ä»–çš„bean 123&lt;bean id=&quot;myclass&quot; class=&quot;com.wsx.spring.Myclass&quot;&gt; &lt;constructor-arg name=&quot;myobj&quot; ref=&quot;myobj&quot;&gt;&lt;/constructor-arg&gt;&lt;/bean&gt; setæ–¹æ³•æ³¨å…¥ propertyæ ‡ç­¾ 1234&lt;bean id=&quot;myclass&quot; class=&quot;com.wsx.spring.Myclass&quot;&gt; &lt;property name=&quot;name&quot; value=&quot;wsx&quot;&gt;&lt;/property&gt; &lt;property name=&quot;myobj&quot; ref=&quot;myobj&quot;&gt;&lt;/property&gt;&lt;/bean&gt; æ„é€ å‡½æ•°æ³¨å…¥å’Œsetæ–¹æ³•æ³¨å…¥ setæ³¨å…¥å¯ä»¥æœ‰é€‰æ‹©æ€§åœ°æ³¨å…¥ï¼Œæ„é€ å‡½æ•°å¼ºåˆ¶äº†å¿…è¦çš„æ•°æ® é›†åˆçš„æ³¨å…¥ å½“æˆ‘ä»¬ç¢°åˆ°é›†åˆçš„æ—¶å€™ï¼Œä½¿ç”¨refå°±ä¸åˆé€‚äº†ï¼Œæˆ‘ä»¬å‘ç°propertyå†…éƒ¨è¿˜æœ‰æ ‡ç­¾ 1234567891011&lt;bean id=&quot;myclass&quot; class=&quot;com.wsx.spring.Myclass&quot;&gt; &lt;property name=&quot;mylist&quot;&gt; &lt;list&gt; &lt;value&gt;1&lt;/value&gt; &lt;value&gt;2&lt;/value&gt; &lt;value&gt;3&lt;/value&gt; &lt;value&gt;4&lt;/value&gt; &lt;value&gt;5&lt;/value&gt; &lt;/list&gt; &lt;/property&gt;&lt;/bean&gt; æ³¨æ„ä¸Šé¢çš„ æˆ‘ä»¬ç”šè‡³å¯ä»¥ä½¿ç”¨å…¶ä»–çš„ä¾‹å¦‚ åŒç† å’Œä¹Ÿå¯ä»¥äº’æ¢","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"Spring","slug":"Language/Java/Spring","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/Spring/"}],"tags":[]},{"title":"spring5-XMLé…ç½®IOC","slug":"Language/Java/Spring/spring5-XMLé…ç½®IOC/index","date":"2020-04-05T16:05:05.000Z","updated":"2020-04-05T16:05:05.000Z","comments":true,"path":"Q8BOOH.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8BOOH.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial XMLé…ç½®IOCä½¿ç”¨é»˜è®¤æ„é€ å‡½æ•°åˆ›å»ºBean åœ¨springçš„é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨Beanæ ‡ç­¾, åªé…ç½®idä¸ªclasså±æ€§ 12345&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt; &lt;bean id=&quot;myclass&quot; class=&quot;com.wsx.spring.Myclass&quot;&gt;&lt;/bean&gt;&lt;/beans&gt;","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial XMLé…ç½®IOCä½¿ç”¨é»˜è®¤æ„é€ å‡½æ•°åˆ›å»ºBean åœ¨springçš„é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨Beanæ ‡ç­¾, åªé…ç½®idä¸ªclasså±æ€§ 12345&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt; &lt;bean id=&quot;myclass&quot; class=&quot;com.wsx.spring.Myclass&quot;&gt;&lt;/bean&gt;&lt;/beans&gt; ä½¿ç”¨æŸä¸ªç±»ä¸­çš„æ–¹æ³•åˆ›å»º åŠ å…¥ä¸€ä¸ªæ–¹æ³• 12&lt;bean id=&quot;myfactory&quot; factory-bean=&quot;com.wsx.spring.Myfactory&quot; factory-method=&quot;function&quot;&gt;&lt;/bean&gt; ä½¿ç”¨ç±»çš„é™æ€æ–¹æ³•åˆ›å»º12&lt;bean id=&quot;myfactory&quot; class=&quot;com.wsx.spring.Myfactory&quot; factory-method=&quot;function&quot;&gt;&lt;/bean&gt; Beançš„ä½œç”¨èŒƒå›´ singleton å•ä¾‹(é»˜è®¤å€¼) prototype å¤šä¾‹ request webåº”ç”¨çš„è¯·æ±‚èŒƒå›´ session webåº”ç”¨çš„ä¼šè¯èŒƒå›´ global-session é›†ç¾¤ç¯å¢ƒçš„ä¼šè¯èŒƒå›´ï¼Œä¸€ä¸ªé›†ç¾¤åªæœ‰ä¸€ä¸ªå…¨å±€ä¼šè¯ Beançš„ç”Ÿå‘½å‘¨æœŸå•ä¾‹ å½“å®¹å™¨åˆ›å»ºå¯¹è±¡å‡ºç”Ÿï¼Œå½“å®¹å™¨å­˜åœ¨ï¼Œå¯¹è±¡æ´»ç€ï¼Œå½“å®¹å™¨é”€æ¯ï¼Œå¯¹è±¡æ¶ˆäº¡ init-method æ˜¯åˆ›å»ºä»¥åè°ƒç”¨çš„ï¼Œ destory-methodæ˜¯é”€æ¯ä¹‹å‰è°ƒç”¨çš„çš„ 123&lt;bean id=&quot;myclass&quot; class=&quot;com.wsx.spring.Myclass&quot; scope=&quot;singleton&quot; init-method=&quot;init&quot; destory-method=&quot;destory&quot;&gt;&lt;/bean&gt; å¤šä¾‹ å½“æˆ‘ä»¬ä½¿ç”¨çš„æ—¶å€™springä¸ºæˆ‘ä»¬åˆ›å»ºï¼Œå½“æˆ‘ä»¬ä¸€ç›´ä½¿ç”¨ï¼Œå¯¹è±¡å°±ä¸€ç›´æ´»ç€ï¼Œå¯¹è±¡ç­‰ç€è¢«åƒåœ¾å›æ”¶æœºåˆ¶åˆ æ‰","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"Spring","slug":"Language/Java/Spring","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/Spring/"}],"tags":[]},{"title":"spring4-åˆ›å»ºIOCå®¹å™¨","slug":"Language/Java/Spring/spring4-åˆ›å»ºIOCå®¹å™¨/index","date":"2020-04-05T16:04:34.000Z","updated":"2020-04-05T16:04:34.000Z","comments":true,"path":"Q8BONM.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8BONM.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial åˆ›å»ºIOCå®¹å™¨ApplicationContest å•ä¾‹å¯¹è±¡é€‚ç”¨ ClassPathXmlApplicationContext å¯ä»¥åŠ è½½ç±»è·¯å¾„ä¸‹çš„é…ç½®æ–‡ä»¶ï¼Œè¦æ±‚é…ç½®æ–‡ä»¶åœ¨ç±»è·¯å¾„ä¸‹ FileSystemXmlApplicationContext å¯ä»¥åŠ è½½ä»»æ„è·¯å¾„ä¸‹çš„é…ç½®æ–‡ä»¶(è¦æœ‰è®¿é—®æƒé™) AnnotationConfigApplicationContext è¯»å–æ³¨è§£åˆ›å»ºå®¹å™¨ ApplicationContestä»€ä¹ˆæ—¶å€™åˆ›å»ºå¯¹è±¡ å½“åŠ è½½é…ç½®æ–‡ä»¶çš„æ—¶å€™å°±åˆ›å»ºäº†å¯¹è±¡","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial åˆ›å»ºIOCå®¹å™¨ApplicationContest å•ä¾‹å¯¹è±¡é€‚ç”¨ ClassPathXmlApplicationContext å¯ä»¥åŠ è½½ç±»è·¯å¾„ä¸‹çš„é…ç½®æ–‡ä»¶ï¼Œè¦æ±‚é…ç½®æ–‡ä»¶åœ¨ç±»è·¯å¾„ä¸‹ FileSystemXmlApplicationContext å¯ä»¥åŠ è½½ä»»æ„è·¯å¾„ä¸‹çš„é…ç½®æ–‡ä»¶(è¦æœ‰è®¿é—®æƒé™) AnnotationConfigApplicationContext è¯»å–æ³¨è§£åˆ›å»ºå®¹å™¨ ApplicationContestä»€ä¹ˆæ—¶å€™åˆ›å»ºå¯¹è±¡ å½“åŠ è½½é…ç½®æ–‡ä»¶çš„æ—¶å€™å°±åˆ›å»ºäº†å¯¹è±¡ BeanFactory å¤šä¾‹å¯¹è±¡é€‚ç”¨ XmlBeanFactory ä½¿ç”¨çš„æ—¶å€™æ‰åˆ›å»ºå¯¹è±¡","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"Spring","slug":"Language/Java/Spring","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/Spring/"}],"tags":[]},{"title":"è½¯ä»¶æµ‹è¯•-ç™½ç›’æµ‹è¯•","slug":"Test/è½¯ä»¶æµ‹è¯•-ç™½ç›’æµ‹è¯•/index","date":"2020-04-05T10:30:51.000Z","updated":"2020-04-05T10:30:51.000Z","comments":true,"path":"Q8B97F.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8B97F.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial é¢˜ç›®1 æµç¨‹å›¾ åˆ¤å®šè¦†ç›– éœ€è¦ä¸‰æ¡è·¯å¾„ ç¬¬ä¸€ç»„ï¼š (x,y,z) &#x3D; (4,0,9) (x,y,z) &#x3D; (4,0,0) (x,y,z) &#x3D; (2,0,0) ç¬¬äºŒç»„ï¼š (x,y,z) &#x3D; (4,0,9) (x,y,z) &#x3D; (4,0,0) (x,y,z) &#x3D; (1,0,0) æ¡ä»¶ç»„åˆè¦†ç›– ç¬¬ä¸€ä¸ªåˆ¤æ–­ ç¬¬äºŒä¸ªåˆ¤æ–­ x&gt;3 z&lt;10 x&#x3D;&#x3D;4 y&gt;5 x&lt;&#x3D;3 z&lt;10 x!&#x3D;4 y&gt;5 x&gt;3 z&gt;&#x3D;10 x&#x3D;&#x3D;4 y&lt;&#x3D;5 x&lt;&#x3D;3 z&gt;&#x3D;10 x!&#x3D;4 y&lt;&#x3D;5 æ‰€ä»¥4ä¸ªç»„åˆ (x,y,z)&#x3D;(4,6,9) (x,y,z)&#x3D;(3,6,9) (x,y,z)&#x3D;(4,5,10) (x,y,z)&#x3D;(3,5,10) æµç¨‹å›¾ ç‚¹è¦†ç›–0,1,2,3,4,5,60,1,2,3,4,8,40,1,2,7,2,3,4,5,70,1,2,7,2,3,4,8,4,5,67,2,78,4,8 è¾¹è¦†ç›–(0,1),(1,2),(2,3),(3,4),(4,5),(5,6),(2,7),(7,2),(4,8),(8,2) è¾¹å¯¹è¦†ç›–(0,1,2),(1,2,3),(1,2,7),(2,3,4),(2,7,2),(3,4,5),(3,4,8),(4,5,6),(4,8,4) ä¸»è·¯å¾„è¦†ç›–0ï¼Œ1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ï¼Œ6","categories":[{"name":"Test","slug":"Test","permalink":"http://fightinggg.github.io/indigo/categories/Test/"}],"tags":[]},{"title":"hexoåšå®¢æ­å»ºæµ…è°ˆ","slug":"Hexo/hexoåšå®¢æ­å»ºæµ…è°ˆ/index","date":"2020-04-05T06:37:59.000Z","updated":"2021-03-14T07:34:00.000Z","comments":true,"path":"Q8AYFB.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8AYFB.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial åšå®¢å´©æºƒäº† æˆ‘å¾ˆéš¾å—ï¼Œé‡æ–°å¼€å§‹é…ç½®ä¸€ä¸‹ï¼Œç„¶åæˆ‘è®°å½•ä¸€ä¸‹è¿‡ç¨‹ åˆå§‹åŒ–åšå®¢script1hexo init ç„¶åæˆ‘ç¢°åˆ°äº†ç¬¬ä¸€ä¸ªé—®é¢˜ script12345678910111213141516171819202122232425262728293031INFO Cloning hexo-starter https://github.com/hexojs/hexo-starter.gitCloning into &#x27;/Users/s/Documents/debug&#x27;...remote: Enumerating objects: 30, done.remote: Counting objects: 100% (30/30), done.remote: Compressing objects: 100% (24/24), done.remote: Total 161 (delta 12), reused 12 (delta 4), pack-reused 131Receiving objects: 100% (161/161), 31.79 KiB | 262.00 KiB/s, done.Resolving deltas: 100% (74/74), done.Submodule &#x27;themes/landscape&#x27; (https://github.com/hexojs/hexo-theme-landscape.git) registered for path &#x27;themes/landscape&#x27;Cloning into &#x27;/Users/s/Documents/debug/themes/landscape&#x27;...remote: Enumerating objects: 1063, done. remote: Total 1063 (delta 0), reused 0 (delta 0), pack-reused 1063 Receiving objects: 100% (1063/1063), 3.21 MiB | 2.87 MiB/s, done.Resolving deltas: 100% (585/585), done.Submodule path &#x27;themes/landscape&#x27;: checked out &#x27;73a23c51f8487cfcd7c6deec96ccc7543960d350&#x27;INFO Install dependencies&gt; ejs@2.7.4 postinstall /Users/s/Documents/debug/node_modules/ejs&gt; node ./postinstall.jsThank you for installing EJS: built with the Jake JavaScript build tool (https://jakejs.com/)npm notice created a lockfile as package-lock.json. You should commit this file.added 254 packages from 454 contributors and audited 470 packages in 12.565s5 packages are looking for funding run `npm fund` for detailsfound 1 low severity vulnerability run `npm audit fix` to fix them, or `npm audit` for detailsINFO Start blogging with Hexo!","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial åšå®¢å´©æºƒäº† æˆ‘å¾ˆéš¾å—ï¼Œé‡æ–°å¼€å§‹é…ç½®ä¸€ä¸‹ï¼Œç„¶åæˆ‘è®°å½•ä¸€ä¸‹è¿‡ç¨‹ åˆå§‹åŒ–åšå®¢script1hexo init ç„¶åæˆ‘ç¢°åˆ°äº†ç¬¬ä¸€ä¸ªé—®é¢˜ script12345678910111213141516171819202122232425262728293031INFO Cloning hexo-starter https://github.com/hexojs/hexo-starter.gitCloning into &#x27;/Users/s/Documents/debug&#x27;...remote: Enumerating objects: 30, done.remote: Counting objects: 100% (30/30), done.remote: Compressing objects: 100% (24/24), done.remote: Total 161 (delta 12), reused 12 (delta 4), pack-reused 131Receiving objects: 100% (161/161), 31.79 KiB | 262.00 KiB/s, done.Resolving deltas: 100% (74/74), done.Submodule &#x27;themes/landscape&#x27; (https://github.com/hexojs/hexo-theme-landscape.git) registered for path &#x27;themes/landscape&#x27;Cloning into &#x27;/Users/s/Documents/debug/themes/landscape&#x27;...remote: Enumerating objects: 1063, done. remote: Total 1063 (delta 0), reused 0 (delta 0), pack-reused 1063 Receiving objects: 100% (1063/1063), 3.21 MiB | 2.87 MiB/s, done.Resolving deltas: 100% (585/585), done.Submodule path &#x27;themes/landscape&#x27;: checked out &#x27;73a23c51f8487cfcd7c6deec96ccc7543960d350&#x27;INFO Install dependencies&gt; ejs@2.7.4 postinstall /Users/s/Documents/debug/node_modules/ejs&gt; node ./postinstall.jsThank you for installing EJS: built with the Jake JavaScript build tool (https://jakejs.com/)npm notice created a lockfile as package-lock.json. You should commit this file.added 254 packages from 454 contributors and audited 470 packages in 12.565s5 packages are looking for funding run `npm fund` for detailsfound 1 low severity vulnerability run `npm audit fix` to fix them, or `npm audit` for detailsINFO Start blogging with Hexo! ä¿®å¤ä»– script1npm audit fix ä¸‹è½½nextä¸»é¢˜githubä¸‹è½½åœ°å€ ä¸‹è½½å®Œæˆä»¥åå¾—åˆ°äº†è¿™ä¸ªï¼Œæˆ‘ä»¬æŠŠå®ƒæ”¾åˆ°ä¸»é¢˜æ–‡ä»¶å¤¹ä¸‹ ä½¿ç”¨nextä¸»é¢˜&amp;emsp ä¿®æ”¹ä¸»é…ç½®æ–‡ä»¶_config.yml 1234# Extensions## Plugins: https://hexo.io/plugins/## Themes: https://hexo.io/themes/theme: landscape æ”¹ä¸º 1234# Extensions## Plugins: https://hexo.io/plugins/## Themes: https://hexo.io/themes/theme: hexo-theme-next-5.1.4 å¯åŠ¨hexoscript1hexo s &amp;esmp; å‘ç°äº†æ–°ç‰ˆæœ¬ script12345678INFO Start processingWARN ===============================================================WARN ========================= ATTENTION! ==========================WARN ===============================================================WARN NexT repository is moving here: https://github.com/theme-next WARN ===============================================================WARN It&#x27;s rebase to v6.0.0 and future maintenance will resume thereWARN =============================================================== &amp;esmp; æ–°ç‰ˆæœ¬åœ°å€ ä¸‹è½½æ–°ç‰ˆæœ¬script1git clone https://github.com/theme-next/hexo-theme-next themes/next æŸ¥çœ‹ç‰ˆæœ¬,å‘ç°æ˜¯7.8.0 script12cd themes/nextgit tag -l åŒä¸Šå†æ¬¡ä¿®æ”¹ä¸»é¢˜ä¸ºnextï¼Œç„¶åå¯åŠ¨ï¼Œå‘ç°å¯åŠ¨æˆåŠŸäº† ä¸»é…ç½®æ–‡ä»¶script123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118# Hexo Configuration## Docs: https://hexo.io/docs/configuration.html## Source: https://github.com/hexojs/hexo/# Sitetitle: Believe itsubtitle: &#x27;&#x27;description: ç›¸ä¿¡æˆ˜èƒœæ­»äº¡çš„å¹´è½»keywords:author: fightinggglanguage: zh-CNtimezone: &#x27;&#x27;# URL## If your site is put in a subdirectory, set url as &#x27;http://yoursite.com/child&#x27; and root as &#x27;/child/&#x27;url: http://yoursite.comroot: /permalink: :title/permalink_defaults:pretty_urls: trailing_index: true # Set to false to remove trailing &#x27;index.html&#x27; from permalinks trailing_html: true # Set to false to remove trailing &#x27;.html&#x27; from permalinks# Directorysource_dir: sourcepublic_dir: publictag_dir: tagsarchive_dir: archivescategory_dir: categoriescode_dir: ./i18n_dir: :langskip_render:# Writingnew_post_name: :title.md # File name of new postsdefault_layout: posttitlecase: false # Transform title into titlecaseexternal_link: enable: true # Open external links in new tab field: site # Apply to the whole site exclude: &#x27;&#x27;filename_case: 0render_drafts: falsepost_asset_folder: falserelative_link: falsefuture: truehighlight: enable: true line_number: true auto_detect: false tab_replace: &#x27;&#x27; wrap: true hljs: false# Home page setting# path: Root path for your blogs index page. (default = &#x27;&#x27;)# per_page: Posts displayed per page. (0 = disable pagination)# order_by: Posts order. (Order by date descending by default)index_generator: path: &#x27;&#x27; per_page: 10 order_by: -date# Category &amp; Tagdefault_category: uncategorizedcategory_map:tag_map:# Metadata elements## https://developer.mozilla.org/en-US/docs/Web/HTML/Element/metameta_generator: true# Date / Time format## Hexo uses Moment.js to parse and display date## You can customize the date format as defined in## http://momentjs.com/docs/#/displaying/format/date_format: YYYY-MM-DDtime_format: HH:mm:ss## Use post&#x27;s date for updated date unless set in front-matteruse_date_for_updated: false# Pagination## Set per_page to 0 to disable paginationper_page: 10pagination_dir: page# Include / Exclude file(s)## include:/exclude: options only apply to the &#x27;source/&#x27; folderinclude:exclude:ignore:# Extensions- hexo-generator-baidu-sitemap- hexo-generator-sitemapbaidusitemap: path: baidusitemap.xmlsitemap: path: sitemap.xmlbaidu_url_submit: count: 10 ## æ¯”å¦‚3ï¼Œä»£è¡¨æäº¤æœ€æ–°çš„ä¸‰ä¸ªé“¾æ¥ host: https://fightinggg.github.io ## åœ¨ç™¾åº¦ç«™é•¿å¹³å°ä¸­æ³¨å†Œçš„åŸŸå token: your_token ## è¯·æ³¨æ„è¿™æ˜¯æ‚¨çš„ç§˜é’¥ï¼Œ è¯·ä¸è¦å‘å¸ƒåœ¨å…¬ä¼—ä»“åº“é‡Œ! path: baidu_urls.txt ## æ–‡æœ¬æ–‡æ¡£çš„åœ°å€ï¼Œ æ–°é“¾æ¥ä¼šä¿å­˜åœ¨æ­¤æ–‡æœ¬æ–‡æ¡£é‡Œ## Plugins: https://hexo.io/plugins/## Themes: https://hexo.io/themes/theme: next# Deployment## Docs: https://hexo.io/docs/deployment.htmldeploy: type: git repo: coding: git@git.dev.tencent.com:fightinggg/fightinggg.git github: git@github.com:fightinggg/fightinggg.github.io.git branch: master ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶åˆ‡æ¢é£æ ¼script12345# Schemes#scheme: Muse#scheme: Mistscheme: Pisces#scheme: Gemini æ‰“å¼€ä¾§è¾¹æ script123456789menu: home: / || fa fa-home about: /about/ || fa fa-user tags: /tags/ || fa fa-tags categories: /categories/ || fa fa-th archives: /archives/ || fa fa-archive schedule: /schedule/ || fa fa-calendar sitemap: /sitemap.xml || fa fa-sitemap commonweal: /404/ || fa fa-heartbeat æ•°å­¦å…¬å¼ æ‰“å¼€æ•°å­¦å…¬å¼ script1234567891011121314151617math: # Default (true) will load mathjax / katex script on demand. # That is it only render those page which has `mathjax: true` in Front-matter. # If you set it to false, it will load mathjax / katex srcipt EVERY PAGE. per_page: true # hexo-renderer-pandoc (or hexo-renderer-kramed) required for full MathJax support. mathjax: enable: true # See: https://mhchem.github.io/MathJax-mhchem/ mhchem: false # hexo-renderer-markdown-it-plus (or hexo-renderer-markdown-it with markdown-it-katex plugin) required for full Katex support. katex: enable: false # See: https://github.com/KaTeX/KaTeX/tree/master/contrib/copy-tex copy_tex: false åˆ‡æ¢æ•°å­¦å…¬å¼å¼•æ“ script12npm uninstall hexo-renderer-marked --savenpm install hexo-renderer-kramed --save ç¢°åˆ°æœªçŸ¥é—®é¢˜ï¼Œä¿®å¤ä»–npm audit fix script1234567audited 449 packages in 2.108s5 packages are looking for funding run `npm fund` for detailsfound 1 low severity vulnerability run `npm audit fix` to fix them, or `npm audit` for details è§£å†³æ­£åˆ™è¡¨è¾¾å¼çš„å†²çª &#x2F;node_modules&#x2F;kramed&#x2F;lib&#x2F;rules&#x2F;inline.js 1234567891011121314151617var inline = &#123; escape: /^\\\\([`*\\[\\]()#$+\\-.!_&gt;])/, autolink: /^&lt;([^ &gt;]+(@|:\\/)[^ &gt;]+)&gt;/, url: noop, html: /^&lt;!--[\\s\\S]*?--&gt;|^&lt;(\\w+(?!:\\/|[^\\w\\s@]*@)\\b)*?(?:&quot;[^&quot;]*&quot;|&#x27;[^&#x27;]*&#x27;|[^&#x27;&quot;&gt;])*?&gt;([\\s\\S]*?)?&lt;\\/\\1&gt;|^&lt;(\\w+(?!:\\/|[^\\w\\s@]*@)\\b)(?:&quot;[^&quot;]*&quot;|&#x27;[^&#x27;]*&#x27;|[^&#x27;&quot;&gt;])*?&gt;/, link: /^!?\\[(inside)\\]\\(href\\)/, reflink: /^!?\\[(inside)\\]\\s*\\[([^\\]]*)\\]/, nolink: /^!?\\[((?:\\[[^\\]]*\\]|[^\\[\\]])*)\\]/, reffn: /^!?\\[\\^(inside)\\]/, strong: /^__([\\s\\S]+?)__(?!_)|^\\*\\*([\\s\\S]+?)\\*\\*(?!\\*)/, em: /^\\*((?:\\*\\*|[\\s\\S])+?)\\*(?!\\*)/, code: /^(`+)\\s*([\\s\\S]*?[^`])\\s*\\1(?!`)/, br: /^ &#123;2,&#125;\\n(?!\\s*$)/, del: noop, text: /^[\\s\\S]+?(?=[\\\\&lt;!\\[_*`$]| &#123;2,&#125;\\n|$)/, math: /^\\$\\$\\s*([\\s\\S]*?[^\\$])\\s*\\$\\$(?!\\$)/,&#125;; å®‰è£…mermaidscript1npm install hexo-filter-mermaid-diagrams å‡ºé”™äº†ï¼Œä¿®å¤ script12345678+ hexo-filter-mermaid-diagrams@1.0.5added 3 packages from 2 contributors and audited 472 packages in 46.646s5 packages are looking for funding run `npm fund` for detailsfound 1 low severity vulnerability run `npm audit fix` to fix them, or `npm audit` for details ç„¶ååœ¨nextçš„é…ç½®æ–‡ä»¶ä¸­æ‰“å¼€mermaid script12345# Mermaid tagmermaid: enable: true # Available themes: default | dark | forest | neutral theme: forest è¯„è®º å»å¡«å……appidå’Œappkey script12345678910111213141516171819# Valine# You can get your appid and appkey from https://leancloud.cn# For more information: https://valine.js.org, https://github.com/xCss/Valinevaline: enable: true # When enable is set to be true, leancloud_visitors is recommended to be closed for the re-initialization problem within different leancloud adk version appid: ??? appkey: ??? notify: false # Mail notifier. See: https://github.com/xCss/Valine/wiki verify: false # Verification code placeholder: Just go go # Comment box placeholder avatar: mm # Gravatar style guest_info: nick,mail,link # Custom comment header pageSize: 10 # Pagination size language: # Language, available values: en, zh-cn visitor: true # leancloud-counter-security is not supported for now. When visitor is set to be true, appid and appkey are recommended to be the same as leancloud_visitors&#x27; for counter compatibility. Article reading statistic https://valine.js.org/visitor.html comment_count: true # If false, comment count will only be displayed in post page, not in home page recordIP: false # Whether to record the commenter IP serverURLs: # When the custom domain name is enabled, fill it in here (it will be detected automatically by default, no need to fill in) #post_meta_order: 0 å­—æ•°å’Œæ—¶é•¿script1npm install hexo-symbols-count-time --save åœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶ä¸­åŠ å…¥ 123456789# Post wordcount display settings# Dependencies: https://github.com/theme-next/hexo-symbols-count-timesymbols_count_time: separated_meta: true # æ˜¯å¦å¦èµ·ä¸€è¡Œï¼ˆtrueçš„è¯ä¸å’Œå‘è¡¨æ—¶é—´ç­‰åŒä¸€è¡Œï¼‰ item_text_post: true # é¦–é¡µæ–‡ç« ç»Ÿè®¡æ•°é‡å‰æ˜¯å¦æ˜¾ç¤ºæ–‡å­—æè¿°ï¼ˆæœ¬æ–‡å­—æ•°ã€é˜…è¯»æ—¶é•¿ï¼‰ item_text_total: false # é¡µé¢åº•éƒ¨ç»Ÿè®¡æ•°é‡å‰æ˜¯å¦æ˜¾ç¤ºæ–‡å­—æè¿°ï¼ˆç«™ç‚¹æ€»å­—æ•°ã€ç«™ç‚¹é˜…è¯»æ—¶é•¿ï¼‰ awl: 2 # Average Word Length wpm: 275 # Words Per Minuteï¼ˆæ¯åˆ†é’Ÿé˜…è¯»è¯æ•°ï¼‰ suffix: mins. å”¯ä¸€é“¾æ¥script1npm install hexo-abbrlink --save ä¿®æ”¹ä¸»é…ç½®æ–‡ä»¶ script1permalink: :abbrlink/ ç½‘ç«™è¿è¡Œæ—¶é—´ &#x2F;themes&#x2F;next&#x2F;layout&#x2F;_partials&#x2F;footer.swig script1234567891011121314151617&lt;span id=&quot;timeDate&quot;&gt;è½½å…¥å¤©æ•°...&lt;/span&gt;&lt;span id=&quot;times&quot;&gt;è½½å…¥æ—¶åˆ†ç§’...&lt;/span&gt;&lt;script&gt; var now = new Date(); function createtime() &#123; var grt= new Date(&quot;08/06/2019 00:00:00&quot;);//åœ¨æ­¤å¤„ä¿®æ”¹ä½ çš„å»ºç«™æ—¶é—´ï¼Œæ ¼å¼ï¼šæœˆ/æ—¥/å¹´ æ—¶:åˆ†:ç§’ now.setTime(now.getTime()+250); days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); if(String(hnum).length ==1 )&#123;hnum = &quot;0&quot; + hnum;&#125; minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); mnum = Math.floor(minutes); if(String(mnum).length ==1 )&#123;mnum = &quot;0&quot; + mnum;&#125; seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); snum = Math.round(seconds); if(String(snum).length ==1 )&#123;snum = &quot;0&quot; + snum;&#125; document.getElementById(&quot;timeDate&quot;).innerHTML = &quot;æœ¬ç«™å·²å®‰å…¨è¿è¡Œ &quot;+dnum+&quot; å¤© &quot;; document.getElementById(&quot;times&quot;).innerHTML = hnum + &quot; å°æ—¶ &quot; + mnum + &quot; åˆ† &quot; + snum + &quot; ç§’&quot;; &#125; setInterval(&quot;createtime()&quot;,250);&lt;/script&gt; fork me æ”¾åˆ°themes&#x2F;next&#x2F;layout&#x2F;_layout.swigçš„headbandä¸‹é¢ script1&lt;a href=&quot;https://github.com/fightinggg&quot; class=&quot;github-corner&quot; aria-label=&quot;View source on GitHub&quot;&gt;&lt;svg width=&quot;80&quot; height=&quot;80&quot; viewBox=&quot;0 0 250 250&quot; style=&quot;fill:#151513; color:#fff; position: ab solute; top: 0; border: 0; right: 0;&quot; aria-hidden=&quot;true&quot;&gt;&lt;path d=&quot;M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z&quot;&gt;&lt;/path&gt;&lt;path d=&quot;M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2&quot; fill=&quot;currentColor&quot; style=&quot;transform-origin: 130px 106px;&quot; class= &quot;octo-arm&quot;&gt;&lt;/path&gt;&lt;path d=&quot;M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z&quot; fill=&quot;currentCol or&quot; class=&quot;octo-body&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;style&gt;.github-corner:hover .octo-arm&#123;animation:octocat-wave 560ms ease-in-out&#125;@keyframes octocat-wave&#123;0%,100%&#123;transform:rotate(0)&#125;20%,60%&#123;transform:rota te(-25deg)&#125;40%,80%&#123;transform:rotate(10deg)&#125;&#125;@media (max-width:500px)&#123;.github-corner:hover .octo-arm&#123;animation:none&#125;.github-corner .octo-arm&#123;animation:octocat-wave 560ms ease-in-out&#125;&#125;&lt;/style&gt; ç™¾åº¦ç«™ç‚¹åœ°å›¾script12npm install hexo-generator-sitemap --savenpm install hexo-generator-baidu-sitemap --save enhancder è¿™ä¸ªæ’ä»¶å®Œç¾çš„é¿å¼€äº†dateã€titleã€categoriesã€tagsã€abbrlink dateã€titleå°±æ˜¯æ–‡ä»¶å categorieså°±æ˜¯æ–‡ç›®å½• abbrlinkæ˜¯æ–‡ä»¶åçš„crcåŠ å¯† tagsæ˜¯ä¸»é¢˜è¯åˆ†æ ä¸­æ–‡åšå®¢ 12npm uninstall hexo-abbrlink --savenpm install hexo-enhancder --save å®‰è£…å®Œæˆåä¼šç¢°åˆ°ä¸€äº›å°é—®é¢˜ï¼Œå…¶å®åªéœ€è¦ä¿®æ”¹è¿™é‡Œå³å¯hexo&#x2F;node_modules&#x2F;hexo-enhancer&#x2F;index.js 1234if (metadata.title) &#123;data.title = metadata.title;log.i(&quot;Generate title [%s] for post [%s]&quot;, metadata.title, data.source);&#125; 404.html åœ¨ç›®å½•&#x2F;hexo&#x2F;sourceä¸‹åˆ›å»º404.md,éšä¾¿ä¸œè¥¿ä½ å°±å¯ä»¥ä½¿ç”¨äº† æœ¬åœ°æœç´¢1npm install hexo-generator-searchdb --save ç„¶åé…ç½®å…¨å±€config 12345search: path: search.xml field: post format: html limit: 10000 æœ€åä¿®æ”¹nextçš„ä¸»é¢˜é…ç½® 1local_search: true å‹é“¾æ­å»ºå‚è€ƒhexo new page linksä¿®æ”¹ä¸»é¢˜é…ç½®links: /links/ || fa fa-linkå¢åŠ themes&#x2F;next&#x2F;languages&#x2F;zh-Hans.yml links: å‹é“¾å¢åŠ æ–‡ä»¶themes&#x2F;next&#x2F;layout&#x2F;links.swig 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102&#123;% block content %&#125; &#123;######################&#125; &#123;### LINKS BLOCK ###&#125; &#123;######################&#125; &lt;div id=&quot;links&quot;&gt; &lt;style&gt; #links&#123; margin-top: 5rem; &#125; .links-content&#123; margin-top:1rem; &#125; .link-navigation::after &#123; content: &quot; &quot;; display: block; clear: both; &#125; .card &#123; width: 300px; font-size: 1rem; padding: 10px 20px; border-radius: 4px; transition-duration: 0.15s; margin-bottom: 1rem; display:flex; &#125; .card:nth-child(odd) &#123; float: left; &#125; .card:nth-child(even) &#123; float: right; &#125; .card:hover &#123; transform: scale(1.1); box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.12), 0 0 6px 0 rgba(0, 0, 0, 0.04); &#125; .card a &#123; border:none; &#125; .card .ava &#123; width: 3rem!important; height: 3rem!important; margin:0!important; margin-right: 1em!important; border-radius:4px; &#125; .card .card-header &#123; font-style: italic; overflow: hidden; width: 236px; &#125; .card .card-header a &#123; font-style: normal; color: #2bbc8a; font-weight: bold; text-decoration: none; &#125; .card .card-header a:hover &#123; color: #d480aa; text-decoration: none; &#125; .card .card-header .info &#123; font-style:normal; color:#a3a3a3; font-size:14px; min-width: 0; text-overflow: ellipsis; overflow: hidden; white-space: nowrap; &#125; &lt;/style&gt; &lt;div class=&quot;links-content&quot;&gt; &lt;div class=&quot;link-navigation&quot;&gt; &#123;% for link in theme.mylinks %&#125; &lt;div class=&quot;card&quot;&gt; &lt;img class=&quot;ava&quot; src=&quot;&#123;&#123; link.avatar &#125;&#125;&quot;/&gt; &lt;div class=&quot;card-header&quot;&gt; &lt;div&gt;&lt;a href=&quot;&#123;&#123; link.site &#125;&#125;&quot; target=&quot;_blank&quot;&gt;@ &#123;&#123; link.nickname &#125;&#125;&lt;/a&gt;&lt;/div&gt; &lt;div class=&quot;info&quot;&gt;&#123;&#123; link.info &#125;&#125;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &#123;% endfor %&#125; &lt;/div&gt; &#123;&#123; page.content &#125;&#125; &lt;/div&gt; &lt;/div&gt; &#123;##########################&#125; &#123;### END LINKS BLOCK ###&#125; &#123;##########################&#125;&#123;% endblock %&#125; ä¿®æ”¹themes&#x2F;next&#x2F;layout&#x2F;page.swig, æ”¹äº†ä¸¤ä¸ªåœ°æ–¹ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182&#123;% extends &#x27;_layout.swig&#x27; %&#125;&#123;% import &#x27;_macro/sidebar.swig&#x27; as sidebar_template with context %&#125;&#123;% block title %&#125; &#123;%- set page_title_suffix = &#x27; | &#x27; + title %&#125; &#123;%- if page.type === &#x27;categories&#x27; and not page.title %&#125; &#123;&#123;- __(&#x27;title.category&#x27;) + page_title_suffix &#125;&#125; &#123;%- elif page.type === &#x27;tags&#x27; and not page.title %&#125; &#123;&#123;- __(&#x27;title.tag&#x27;) + page_title_suffix &#125;&#125; &#123;%- elif page.type === &#x27;links&#x27; and not page.title %&#125; &#123;&#123;- __(&#x27;title.links&#x27;) + page_title_suffix &#125;&#125; &#123;%- elif page.type === &#x27;schedule&#x27; and not page.title %&#125; &#123;&#123;- __(&#x27;title.schedule&#x27;) + page_title_suffix &#125;&#125; &#123;%- else %&#125; &#123;&#123;- page.title + page_title_suffix &#125;&#125; &#123;%- endif %&#125;&#123;% endblock %&#125;&#123;% block class %&#125;page posts-expand&#123;% endblock %&#125;&#123;% block content %&#125; &#123;##################&#125; &#123;### PAGE BLOCK ###&#125; &#123;##################&#125; &lt;div class=&quot;post-block&quot; lang=&quot;&#123;&#123; page.lang or config.language &#125;&#125;&quot;&gt; &#123;% include &#x27;_partials/page/page-header.swig&#x27; %&#125; &#123;#################&#125; &#123;### PAGE BODY ###&#125; &#123;#################&#125; &lt;div class=&quot;post-body&#123;%- if page.direction and page.direction.toLowerCase() === &#x27;rtl&#x27; %&#125; rtl&#123;%- endif %&#125;&quot;&gt; &#123;%- if page.type === &#x27;tags&#x27; %&#125; &lt;div class=&quot;tag-cloud&quot;&gt; &lt;div class=&quot;tag-cloud-title&quot;&gt; &#123;&#123; _p(&#x27;counter.tag_cloud&#x27;, site.tags.length) &#125;&#125; &lt;/div&gt; &lt;div class=&quot;tag-cloud-tags&quot;&gt; &#123;&#123; tagcloud(&#123; min_font : theme.tagcloud.min, max_font : theme.tagcloud.max, amount : theme.tagcloud.amount, color : true, start_color: theme.tagcloud.start, end_color : theme.tagcloud.end&#125;) &#125;&#125; &lt;/div&gt; &lt;/div&gt; &#123;% elif page.type === &#x27;categories&#x27; %&#125; &lt;div class=&quot;category-all-page&quot;&gt; &lt;div class=&quot;category-all-title&quot;&gt; &#123;&#123; _p(&#x27;counter.categories&#x27;, site.categories.length) &#125;&#125; &lt;/div&gt; &lt;div class=&quot;category-all&quot;&gt; &#123;&#123; list_categories() &#125;&#125; &lt;/div&gt; &lt;/div&gt; &#123;% elif page.type === &#x27;schedule&#x27; %&#125; &lt;div class=&quot;event-list&quot;&gt; &lt;/div&gt; &#123;% include &#x27;_scripts/pages/schedule.swig&#x27; %&#125; &#123;% elif page.type === &#x27;links&#x27; %&#125; &#123;% include &#x27;links.swig&#x27; %&#125; &#123;% else %&#125; &#123;&#123; page.content &#125;&#125; &#123;%- endif %&#125; &lt;/div&gt; &#123;#####################&#125; &#123;### END PAGE BODY ###&#125; &#123;#####################&#125; &lt;/div&gt; &#123;% include &#x27;_partials/page/breadcrumb.swig&#x27; %&#125; &#123;######################&#125; &#123;### END PAGE BLOCK ###&#125; &#123;######################&#125;&#123;% endblock %&#125;&#123;% block sidebar %&#125; &#123;&#123; sidebar_template.render(true) &#125;&#125;&#123;% endblock %&#125; æ·»åŠ ä¸»é¢˜é…ç½®æ–‡ä»¶ 123456789mylinks: - nickname: Fi9Coder #å‹é“¾åç§° avatar: https://www.safeinfo.me/images/avatar.gif #å‹é“¾å¤´åƒ site: https://www.safeinfo.me #å‹é“¾åœ°å€ info: è‡´åŠ›äºWebå®‰å…¨ä¸Pythonå­¦ä¹ ,ç ”ç©¶,å¼€å‘ã€‚ #å‹é“¾è¯´æ˜ - nickname: Leaf&#x27;s Blog avatar: https://leafjame.github.io/images/beichen.png site: https://leafjame.github.io info: Javaç‹® åŒ—æ¼‚ç”· æ‘„å½± æ—…è¡Œ èµšé’± å¢åŠ ç«™ç‚¹è®¿é—®é‡nextä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­ï¼Œæ³¨æ„åˆ°æ•°å­—å¯èƒ½å¾ˆå¤§ï¼Œä½†æ˜¯ä¸ç”¨æ‹…å¿ƒï¼Œdeployä¹‹åå°±æ­£å¸¸äº† 12345678busuanzi_count: enable: ture total_visitors: true total_visitors_icon: fa fa-user total_views: true total_views_icon: fa fa-eye post_views: true post_views_icon: fa fa-eye ç‰ˆæƒç”³æ˜nextä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­ 12345creative_commons: license: by-nc-sa sidebar: false post: true language: zh-CN å›¾ç‰‡ç‚¹å‡»æ”¾å¤§ä¿®æ”¹é…ç½®æ–‡ä»¶ 123# FancyBox is a tool that offers a nice and elegant way to add zooming functionality for images.# For more information: https://fancyapps.com/fancyboxfancybox: true ç»™æ–‡ç« å¢åŠ ç»“æŸè¯­æ–°å¢æ–‡ä»¶ themes&#x2F;next&#x2F;layout&#x2F;_macro&#x2F;passage-end-tag.swig 1234567&lt;div&gt; &lt;div&gt; &#123;% if not is_index %&#125; &lt;div style=&quot;text-align:center;color: #ccc;font-size:14px;&quot;&gt;-----------------------&lt;span style=&quot;margin: 0 10px;&quot;&gt;æœ¬æ–‡ç»“æŸ&lt;/span&gt;&lt;i class=&quot;fa fa-paw&quot;&gt;&lt;/i&gt;&lt;span style=&quot;margin: 0 10px;&quot;&gt;æ„Ÿè°¢æ‚¨çš„é˜…è¯»&lt;/span&gt;-----------------------&lt;/div&gt; &#123;% endif %&#125; &lt;/div&gt;&lt;/div&gt; ä¿®æ”¹themes&#x2F;next&#x2F;layout&#x2F;_macro&#x2F;post.swig å¢åŠ ä¸»é¢˜é…ç½®æ–‡ä»¶é…ç½®é¡¹ 12passage_end_tag: enabled: true æ•ˆæœ çƒ­åº¦æ¦œå•1hexo n page hot æ³¨æ„ä¿®æ”¹appidå’Œappkey 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081&lt;div id=&quot;hot&quot;&gt;&lt;/div&gt;&lt;div id=&quot;barcon&quot; name=&quot;barcon&quot;&gt;&lt;/div&gt;&lt;script src=&quot;https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js&quot;&gt;&lt;/script&gt;&lt;script&gt;AV.initialize(&quot;T7JBt0YPfeKdVQ0KPjrICOOm-gzGzoHsz&quot;, &quot;oMcE8X0UKAVaDtK51UA1LuGL&quot;);&lt;/script&gt;&lt;script type=&quot;text/javascript&quot;&gt;var rankList;var pageSize = 10;var currentPage = 1;var totalPage;new AV.Query(&#x27;Counter&#x27;).descending(&#x27;time&#x27;).limit(1000).find().then(o =&gt; &#123; rankList = o; totalPage = Math.ceil(rankList.length / pageSize);//æ€»é¡µæ•° goPage(currentPage, pageSize)&#125;)function prePage() &#123; currentPage--; if (currentPage == 0) &#123; currentPage = 1; &#125; goPage(currentPage, pageSize)&#125;function nextPage() &#123; currentPage++; if (currentPage == totalPage + 1) &#123; currentPage = totalPage; &#125; goPage(currentPage, pageSize)&#125;function goPage(page, pageSize) &#123; currentPage = page; document.getElementById(&quot;hot&quot;).innerHTML = &quot;&quot; for (var i = 0; i &lt; pageSize; i++) &#123; var index = (currentPage - 1) * pageSize + i + 1 if (index - 1 &gt;= rankList.length) &#123; break; &#125; var result = rankList[index - 1].attributes; var time = result.time; var title = result.title; var url = result.url; var content = &quot;&lt;p&gt;&quot; + &quot;&lt;font color=&#x27;#1C1C1C&#x27;&gt;&quot; + index + &quot;.ã€æ–‡ç« çƒ­åº¦:&quot; + time + &quot;â„ƒã€‘&quot; + &quot;&lt;/font&gt;&quot; + &quot;&lt;a href=&#x27;&quot; + url + &quot;&#x27;&gt;&quot; + title + &quot;&lt;/a&gt;&quot; + &quot;&lt;/p&gt;&quot;; document.getElementById(&quot;hot&quot;).innerHTML += content &#125; showButton();&#125;function doubleWord(x) &#123; if (x &lt; 10) &#123; return &quot;0&quot; + x; &#125; else &#123; return x; &#125;&#125;function showButton() &#123;//å½“å‰é¡µæ•° var tempStr = &quot;&quot;; tempStr += &quot;&lt;a href=\\&quot;#\\&quot; onClick=\\&quot;prePage()\\&quot;&gt;â¬…ï¸&lt;/a&gt;&amp;emsp;&amp;emsp;&amp;emsp;&quot; var beg = Math.max(1, currentPage - 5); while (beg &gt; 1 &amp;&amp; beg + pageSize - 1 &gt; totalPage) &#123; beg--; &#125; for (var j = 1; j &lt;= pageSize &amp;&amp; beg &lt;= totalPage; j++, beg++) &#123; if (beg == currentPage) &#123; tempStr += &quot;&lt;a href=\\&quot;#\\&quot; onClick=\\&quot;goPage(&quot; + beg + &quot;,&quot; + pageSize + &quot;)\\&quot;&gt;&lt;span style=&#x27;color:red;&#x27;&gt;&quot; + doubleWord(beg) + &quot;&lt;/span&gt;&lt;/a&gt;&quot; + &quot;&amp;emsp;&quot; &#125; else &#123; tempStr += &quot;&lt;a href=\\&quot;#\\&quot; onClick=\\&quot;goPage(&quot; + beg + &quot;,&quot; + pageSize + &quot;)\\&quot;&gt;&quot; + doubleWord(beg) + &quot;&lt;/a&gt;&quot; + &quot;&amp;emsp;&quot; &#125; &#125; tempStr += &quot;&amp;emsp;&amp;emsp;&lt;a href=\\&quot;#\\&quot; onClick=\\&quot;nextPage()\\&quot;&gt;â¡ï¸&lt;/a&gt;&quot;; document.getElementById(&quot;barcon&quot;).innerHTML = tempStr;&#125;&lt;/script&gt; ä¸»é¢˜é…ç½®æ–‡ä»¶ä¿®æ”¹ 1hot: /hot/ || fa fa-signal å¢åŠ ä¸­æ–‡hexo&#x2F;theme&#x2F;next&#x2F;languages&#x2F;zh-Cn.yml å•é€‰æ¡†1npm install hexo-renderer-marked é»‘å¤œæ¨¡å¼ä½ è‡³å°‘éœ€è¦æ‡‚ä¸€ç‚¹ç‚¹å‰ç«¯ï¼Œå¦åˆ™å¾ˆéš¾ 1npm install @1v9/hexo-next-nightmode ç„¶åå¢åŠ ä¸ªæ€§åŒ–cssï¼ˆå¦‚æœä¸çŸ¥é“åœ¨å“ªï¼Œå°±åˆ«æŠ˜è…¾äº†ï¼‰ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465/* ============================================================================================= *//* é»‘è‰²ä¸»é¢˜ */.darkScheme&#123; --google-gray-50: rgb(248, 249, 250); --google-gray-100: rgb(241, 243, 244); --google-gray-300: rgb(218, 220, 224); --google-gray-500: rgb(154, 160, 166); --google-gray-600: rgb(128, 134, 139); --google-gray-700: rgb(95, 99, 104); --google-gray-800: rgb(60, 64, 67); --google-gray-900: rgb(32, 33, 36); --content-bg-color: var(--google-gray-800); --body-bg-color: rgb(0,0,0); --text-color: var(--google-gray-100); --blockquote-color: var(--google-gray-500); --btn-default-bg: var(--google-gray-800);&#125;.darkScheme .posts-expand .post-meta &#123; color: var(--google-gray-500);&#125;/* urlé¢œè‰² */.darkScheme a, span.exturl &#123; color: #35e7e9;&#125;/* hexoå·¦ä¸Šè§’åå­—çš„èƒŒæ™¯é¢œè‰² */.darkScheme .site-brand-container &#123; color: var(--google-gray-900);&#125;.darkScheme .th, td &#123; background: var(--content-bg-color); color: var(--text-color);&#125;.darkScheme .highlight figcaption &#123; background: var(--content-bg-color); color: var(--text-color);&#125;.darkScheme .highlight-container .highlight .table-container&#123; background: var(--content-bg-color);&#125;.darkScheme .highlight .code pre &#123; background: var(--content-bg-color);&#125;.darkScheme .highlight .gutter pre &#123; background: var(--content-bg-color);&#125;.darkScheme .highlight, pre &#123; color: var(--text-color);&#125;.darkScheme img&#123; filter:brightness(80%)&#125;/* ============================================================================================= */","categories":[{"name":"Hexo","slug":"Hexo","permalink":"http://fightinggg.github.io/indigo/categories/Hexo/"}],"tags":[]},{"title":"spring3-è€¦åˆ","slug":"Language/Java/Spring/spring3-è€¦åˆ/index","date":"2020-04-02T14:36:23.000Z","updated":"2020-04-02T14:36:23.000Z","comments":true,"path":"Q860KN.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q860KN.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è€¦åˆ æˆ‘ä»¬è€ƒè™‘ä¸€ä¸ªwebåº”ç”¨ï¼Œä½¿ç”¨ä¸‰å±‚æ¶æ„: è§†å›¾å±‚+ä¸šåŠ¡å±‚+æŒä¹…å±‚ï¼Œ è§†å›¾å±‚ä¾èµ–ä¸šåŠ¡å±‚ï¼Œä¸šåŠ¡å±‚ä¾èµ–æŒä¹…å±‚ï¼Œè¿™æ˜¯éå¸¸ä¸å¥½çš„ç°è±¡ï¼Œå½“æˆ‘ä»¬çš„æŒä¹…å±‚éœ€è¦æ”¹å˜çš„æ—¶å€™ï¼Œæ•´ä¸ªé¡¹ç›®éƒ½è¦æ”¹å˜ï¼Œé¡¹ç›®éå¸¸ä¸ç¨³å®šã€‚ æ€ä¹ˆè§£å†³ å·¥å‚ï¼","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è€¦åˆ æˆ‘ä»¬è€ƒè™‘ä¸€ä¸ªwebåº”ç”¨ï¼Œä½¿ç”¨ä¸‰å±‚æ¶æ„: è§†å›¾å±‚+ä¸šåŠ¡å±‚+æŒä¹…å±‚ï¼Œ è§†å›¾å±‚ä¾èµ–ä¸šåŠ¡å±‚ï¼Œä¸šåŠ¡å±‚ä¾èµ–æŒä¹…å±‚ï¼Œè¿™æ˜¯éå¸¸ä¸å¥½çš„ç°è±¡ï¼Œå½“æˆ‘ä»¬çš„æŒä¹…å±‚éœ€è¦æ”¹å˜çš„æ—¶å€™ï¼Œæ•´ä¸ªé¡¹ç›®éƒ½è¦æ”¹å˜ï¼Œé¡¹ç›®éå¸¸ä¸ç¨³å®šã€‚ æ€ä¹ˆè§£å†³ å·¥å‚ï¼ Bean Beanå°±æ˜¯å¯é‡ç”¨ç»„ä»¶ JavaBean JavaBeanä¸æ˜¯å®ä½“ç±»ï¼ŒJavaBeanè¿œå¤§äºå®ä½“ç±»ï¼ŒJavaBeanæ˜¯Javaè¯­è¨€ç¼–å†™çš„å¯é‡ç”¨ç»„ä»¶ è§£å†³ ä½¿ç”¨é…ç½®æ–‡ä»¶æ¥é…ç½®serviceå’Œdaoï¼Œé€šè¿‡è¯»å–é…ç½®æ–‡ä»¶ï¼Œåå°„åˆ›å»ºå¯¹è±¡ï¼Œè¿™æ ·ç¨‹åºå°±ä¸ä¼šåœ¨ç¼–è¯‘å™¨å‘ç”Ÿé”™è¯¯äº†ã€‚ è€ƒè™‘ç”¨ä¸€ä¸ªBeanFactoryæ¥å®ç°è¯»å–é…ç½®æ–‡ä»¶å’Œåå°„ ä½†æ˜¯æ³¨æ„åˆ°æˆ‘ä»¬å®ç°çš„æ—¶å€™ï¼Œå¦‚æœæ¯æ¬¡éƒ½å»åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œæˆ‘ä»¬çš„BeanFactoryå¯èƒ½ä¼šéå¸¸å¤§ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨å·¥å‚ä¸­ç”¨ä¸€ä¸ªå­—å…¸æ¥ä¿å­˜å¯¹è±¡ï¼Œè¿™å°±æˆäº†ä¸€ä¸ªå®¹å™¨ã€‚ IOC æ§åˆ¶åè½¬ï¼Œæˆ‘ä»¬ä¸éœ€è¦è‡ªå·±newäº†ï¼Œè®©å·¥å‚ç»™æˆ‘ä»¬æä¾›æœåŠ¡ï¼Œè¿™å°±æ˜¯IOCï¼ŒæŠŠå¯¹è±¡çš„æ§åˆ¶æƒäº¤ç»™å·¥å‚ã€‚","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"Spring","slug":"Language/Java/Spring","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/Spring/"}],"tags":[]},{"title":"Maven","slug":"Language/Java/Maven/Maven/index","date":"2020-04-02T14:13:25.000Z","updated":"2020-04-02T14:13:25.000Z","comments":true,"path":"Q85ZID.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q85ZID.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial mavenä¾èµ–ç®¡ç† mavenå·¥ç¨‹å¯ä»¥å¸®åŠ©æˆ‘ä»¬ç®¡ç†jaråŒ…çš„ä¾èµ–ï¼Œä»–æœ‰ä¸€ä¸ªjaråŒ…ä»“åº“ï¼Œè¿™å¯¼è‡´æˆ‘ä»¬è‡ªå·±çš„é¡¹ç›®ä¼šéå¸¸å°ã€‚ mavenå¯åŠ¨1mvn tomcat:run mavenä»“åº“å¯åŠ¨ å…ˆæœ¬åœ°ï¼Œç„¶åç§æœï¼Œç„¶åä¸­å¤®ä»“åº“ Javaä»£ç  æ ¸å¿ƒä»£ç +é…ç½®æ–‡ä»¶+æµ‹è¯•ä»£ç +æµ‹è¯•é…ç½®æ–‡ä»¶ ä¼ ç»Ÿé¡¹ç›®123workspace src config","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial mavenä¾èµ–ç®¡ç† mavenå·¥ç¨‹å¯ä»¥å¸®åŠ©æˆ‘ä»¬ç®¡ç†jaråŒ…çš„ä¾èµ–ï¼Œä»–æœ‰ä¸€ä¸ªjaråŒ…ä»“åº“ï¼Œè¿™å¯¼è‡´æˆ‘ä»¬è‡ªå·±çš„é¡¹ç›®ä¼šéå¸¸å°ã€‚ mavenå¯åŠ¨1mvn tomcat:run mavenä»“åº“å¯åŠ¨ å…ˆæœ¬åœ°ï¼Œç„¶åç§æœï¼Œç„¶åä¸­å¤®ä»“åº“ Javaä»£ç  æ ¸å¿ƒä»£ç +é…ç½®æ–‡ä»¶+æµ‹è¯•ä»£ç +æµ‹è¯•é…ç½®æ–‡ä»¶ ä¼ ç»Ÿé¡¹ç›®123workspace src config mavené¡¹ç›®123456789workspace src main java(æ ¸å¿ƒä»£ç ) config(é…ç½®æ–‡ä»¶) webapp(css,js) test java config mavenå‘½ä»¤12345mvn clean # æ¸…é™¤ç¼–è¯‘æ–‡ä»¶mvn compile # ç¼–è¯‘mvn test # ç¼–è¯‘+æµ‹è¯•mvn package # ç¼–è¯‘+æµ‹è¯•+æ‰“åŒ…mvn install # ç¼–è¯‘+æµ‹è¯•+æ‰“åŒ…+æ”¾å…¥æœ¬åœ°ä»“åº“ pom.xml è‡ªèº«ä¿¡æ¯ï¼Œä¾èµ–çš„jaråŒ…ä¿¡æ¯ï¼Œè¿è¡Œç¯å¢ƒä¿¡æ¯ ä¾èµ–ç®¡ç† å…¬å¸å,é¡¹ç›®å,ç‰ˆæœ¬å· 12345&lt;dependency&gt; &lt;groupld&gt;javax.servlet.jsp&lt;/groupld&gt; &lt;artifacid&gt;jsp-api&lt;/artifactid&gt; &lt;version&gt;2.0&lt;/version&gt;&lt;/dependency&gt; mavenç”Ÿå‘½å‘¨æœŸ(ä¸€é”®æ„å»º)æ¸…ç†ç”Ÿå‘½å‘¨æœŸ æ¸…é™¤ é»˜è®¤ç”Ÿå‘½å‘¨æœŸç¼–è¯‘-æµ‹è¯•-æ‰“åŒ…-å®‰è£…-å‘å¸ƒ ç«™ç‚¹ç”Ÿå‘½å‘¨æœŸ ç”¨çš„ä¸å¤š ä½¿ç”¨éª¨æ¶1mvn archetype:generate ä¸ä½¿ç”¨éª¨æ¶123456789mkdir srccd srcmkdir -p main/java test/java main/resources test/resourcesecho &quot;&lt;project&gt;&quot; &gt;&gt; pom.xmlecho &quot; &lt;groupId&gt;com.project&lt;/groupId&gt;&quot; &gt;&gt; pom.xmlecho &quot; &lt;artifacId&gt;project&lt;/artifacId&gt;&quot; &gt;&gt; pom.xmlecho &quot; &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;&quot; &gt;&gt; pom.xmlecho &quot;&lt;/project&gt;&quot; &gt;&gt; pom.xmlcd .. å‘å¸ƒæ—¶åŠ å…¥æºç 12345678910111213141516171819&lt;build&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt; &lt;version&gt;3.0.1&lt;/version&gt; &lt;configuration&gt; &lt;attach&gt;true&lt;/attach&gt; &lt;/configuration&gt; &lt;executions&gt; &lt;execution&gt; &lt;phase&gt;compile&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;jar&lt;/goal&gt; &lt;/goals&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;/plugin&gt; &lt;/plugins&gt;&lt;/build&gt;","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"}],"tags":[]},{"title":"æ“ä½œç³»ç»Ÿ13-æ–‡ä»¶ç³»ç»Ÿ","slug":"æ“ä½œç³»ç»Ÿ/OS/æ“ä½œç³»ç»Ÿ13-æ–‡ä»¶ç³»ç»Ÿ/index","date":"2020-04-02T09:20:28.000Z","updated":"2020-04-02T09:20:28.000Z","comments":true,"path":"Q85LY4.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q85LY4.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ–‡ä»¶ç³»ç»Ÿå’Œæ–‡ä»¶ ä¸€ç§æŒä¹…æ€§å­˜å‚¨çš„ç³»ç»ŸæŠ½è±¡ã€‚ æ–‡ä»¶å¤´ å‚¨å­˜æ–‡ä»¶ä¿¡æ¯ï¼Œä¿å­˜æ–‡ä»¶å±æ€§ï¼Œè·Ÿè¸ªé‚£ä¸€å—å‚¨å­˜å—å±äºé€»è¾‘ä¸Šæ–‡ä»¶ç»“æ„çš„å“ªä¸€ä¸ªåç§»ã€‚ éœ€è¦å“ªäº›å…ƒæ•°æ®æ¥ç®¡ç†æ‰“å¼€çš„æ–‡ä»¶ æ–‡ä»¶æŒ‡é’ˆï¼Œæ–‡ä»¶æ‰“å¼€è®¡æ•°ï¼Œæ–‡ä»¶å‚¨å­˜ä½ç½®ï¼Œè®¿é—®æƒé™ è®¿é—®2-12å­—èŠ‚çš„ç©ºé—´ è¯»ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ‰‡åŒºï¼Œç„¶åè¿”å› è®¿é—®æ–¹å¼ åŸºäºé¡ºåºä¸€æ¬¡è¯»å–ï¼Œéšæœºè®¿é—®ï¼ŒåŸºäºå†…å®¹æŸ¥æ‰¾çš„è®¿é—®","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ–‡ä»¶ç³»ç»Ÿå’Œæ–‡ä»¶ ä¸€ç§æŒä¹…æ€§å­˜å‚¨çš„ç³»ç»ŸæŠ½è±¡ã€‚ æ–‡ä»¶å¤´ å‚¨å­˜æ–‡ä»¶ä¿¡æ¯ï¼Œä¿å­˜æ–‡ä»¶å±æ€§ï¼Œè·Ÿè¸ªé‚£ä¸€å—å‚¨å­˜å—å±äºé€»è¾‘ä¸Šæ–‡ä»¶ç»“æ„çš„å“ªä¸€ä¸ªåç§»ã€‚ éœ€è¦å“ªäº›å…ƒæ•°æ®æ¥ç®¡ç†æ‰“å¼€çš„æ–‡ä»¶ æ–‡ä»¶æŒ‡é’ˆï¼Œæ–‡ä»¶æ‰“å¼€è®¡æ•°ï¼Œæ–‡ä»¶å‚¨å­˜ä½ç½®ï¼Œè®¿é—®æƒé™ è®¿é—®2-12å­—èŠ‚çš„ç©ºé—´ è¯»ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ‰‡åŒºï¼Œç„¶åè¿”å› è®¿é—®æ–¹å¼ åŸºäºé¡ºåºä¸€æ¬¡è¯»å–ï¼Œéšæœºè®¿é—®ï¼ŒåŸºäºå†…å®¹æŸ¥æ‰¾çš„è®¿é—® æ–‡ä»¶ç±»å‹ æ“ä½œç³»ç»Ÿä¸å…³å¿ƒ æ–‡ä»¶çš„é” é”ç²’åº¦ï¼Ÿæ“ä½œç³»ç»Ÿæä¾›äº†ä¸åŒçš„é” ç›®å½• ç›®å½•æ˜¯ç‰¹æ®Šçš„æ–‡ä»¶ï¼Œæ¯ä¸ªç›®å½•éƒ½æœ‰ä¸€å¼ è¡¨ ç›®å½•å¦‚ä½•å­˜ æ•°ç»„ã€é“¾è¡¨ã€hashã€å…¶ä»–æ•°æ®ç»“æ„éƒ½å¯ä»¥ åå­—è§£æ ä¸€å±‚ä¸€å±‚è§£æï¼Œä¸ºäº†æé«˜æ•ˆç‡ï¼Œå¯ä»¥ä½¿ç”¨å½“å‰å·¥ä½œç›®å½•(ç¼“å†²) æ–‡ä»¶ç³»ç»ŸæŒ‚è½½ mountå’Œunmount æ–‡ä»¶åˆ«å ç¡¬é“¾æ¥: å¤šä¸ªæ–‡ä»¶é¡¹æŒ‡å‘ä¸€ä¸ªæ–‡ä»¶ è½¯é“¾æ¥: å­˜è·¯å¾„ï¼Œ åˆ é™¤æ–‡ä»¶ å¼•ç”¨è®¡æ•° statæŒ‡ä»¤ é—´æ¥å±‚ï¼Œç›®å½•é¡¹æ•°æ®ç»“æ„å­˜æŒ‡é’ˆï¼Œæ ¹æ®æŒ‡é’ˆæ¥å®šä½ å¦‚ä½•é¿å…ç›®å½•æ­»å¾ªç¯ é€šè¿‡æ£€æµ‹æ¥é¿å…æ­»å¾ªç¯ æ–‡ä»¶ç³»ç»Ÿçš„ç±»åˆ« ç£ç›˜æ–‡ä»¶ç³»ç»Ÿ FAT,NTFS,ext2&#x2F;3&#x2F;4,ISO9660ç­‰ æ•°æ®åº“æ–‡ä»¶ç³»ç»Ÿ WinFs æ—¥å¿—æ–‡ä»¶ç³»ç»Ÿ journaling file system ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿ NFSï¼ŒSMB(å±€åŸŸç½‘æ–¹ä¾¿)ï¼Œ åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ GFS(googleçš„é›†ç¾¤ï¼Œé«˜ååï¼Œå®¹é”™ï¼Œé«˜å¯é ï¼Œå¤§é‡æ•°æ®ï¼Œserverï¼Œç½‘ç»œä¸­å¿ƒï¼Œæ•°æ®ä¸­å¿ƒï¼Œè®¡ç®—ä¸­å¿ƒ)ï¼ŒAFS è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ proc(å†…æ ¸ä¿¡æ¯é€šè¿‡æ–‡ä»¶çš„æ–¹å¼æ¥å±•ç°) åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ è¯»å†™ä¸€è‡´æ€§ï¼Œå¯é æ€§ï¼Œå®‰å…¨æ€§ï¼Œè®¿é—®å»¶è¿Ÿéƒ½è¦è€ƒè™‘ï¼Œæ˜¯å½“å‰ç ”ç©¶çš„çƒ­ç‚¹ è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ é€šè¿‡è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿå±‚å±è”½äº†åº•å±‚ä¸åŒçš„ç‰©ç†æ–‡ä»¶ç³»ç»Ÿï¼Œ å· - ç›®å½•èŠ‚ç‚¹ - æ–‡ä»¶èŠ‚ç‚¹ æ•°æ®å—ç¼“å­˜ å°†ç£ç›˜ç¼“å­˜åˆ°å†…å­˜ï¼Œå¯ä»¥æŒ‰éœ€è¯»å–ï¼Œæ¨è¿Ÿå†™å…¥ï¼Œ æ‰“å¼€æ–‡ä»¶çš„æ•°æ®ç»“æ„ æ‰¾åˆ°æ–‡ä»¶ï¼Œæ”¾å…¥æ–‡ä»¶è¡¨ï¼Œé€šè¿‡indexæ‰¾åˆ°æ–‡ä»¶å¤´ï¼Œé€šè¿‡offsetæ‰¾åˆ°æ‰‡åŒºï¼Œ æ–‡ä»¶å¤§å° å¤§éƒ¨åˆ†æ–‡ä»¶å°ï¼Œå°‘éƒ¨åˆ†æ–‡ä»¶å¤§ï¼Œ æ–‡ä»¶çš„è¿ç»­åˆ†é… æ–‡ä»¶å¤´æŒ‡å®šèµ·å§‹å—å’Œé•¿åº¦ï¼Œé«˜æ•ˆçš„é¡ºåºå’Œéšæœºè®¿é—®ï¼Œå½“æ–‡ä»¶å¢é•¿çš„æ—¶å€™ä¸å¥½åˆ†é…ï¼Œå¯èƒ½éœ€è¦é¢„åˆ†é…ï¼Œ åˆ†é…ç­–ç•¥æœ‰æœ€å…ˆã€æœ€ä½³ã€æœ€å¤§åˆ†é…æ–¹æ³• æ–‡ä»¶é“¾å¼åˆ†é… ç”¨é“¾è¡¨ç»„ç»‡ï¼Œåˆ›å»ºå¢å¤§ç¼©å°å¾ˆå®¹æ˜“ï¼Œæ²¡æœ‰ç¢ç‰‡ï¼Œä¸å¯èƒ½å®ç°é«˜æ•ˆçš„éšæœºè®¿é—®ï¼Œä¸å¯é ï¼Œé“¾æ–­äº†ä»¥åå¾ˆä¸¥é‡ æ–‡ä»¶ç´¢å¼•åˆ†é… å°†ç´¢å¼•æ”¾å…¥æ–‡ä»¶å¤´ï¼Œåˆ›å»ºå¢å¤§ç¼©å°å®¹æ˜“ï¼Œæ²¡æœ‰ç¢ç‰‡ï¼Œå¯ä»¥ç›´æ¥è®¿é—®ï¼Œä½†æ˜¯å°æ–‡ä»¶çš„è¯ç´¢å¼•å¼€é”€å¤ªå¤§ã€‚ å¤šçº§ç´¢å¼•å— å¯¹ç´¢å¼•åˆ†å±‚ï¼Œä½†æ˜¯ä¼šå¼•å…¥æ›´å¤šçš„æ—¶é—´å¼€é”€ ç©ºé—²ç©ºé—´ ä½å›¾ï¼Œå¦‚ä½•è§£å†³ä¸€è‡´æ€§é—®é¢˜ï¼Œå…ˆå°†bitè®¾ä¸º1ï¼Œç„¶ååˆ†é…ï¼Œæœ€ååœ¨å†…å­˜ä¸­å°†bitè®¾ä¸º1 ï¼Œ å¦‚æœè¿™é‡Œæ–­ç”µä»¥åä¼šå¯¼è‡´é‚£ä¸€éƒ¨åˆ†ç£ç›˜ç©ºé—´æ— æ³•ä½¿ç”¨ å¤šç£ç›˜ç®¡ç† ç”¨å¤šä¸ªä¾¿å®œçš„ç£ç›˜ï¼Œé€šè¿‡å¹¶è¡Œæ¥å¢åŠ ååé‡å’Œå¯é æ€§å¯ç”¨æ€§ï¼Œå³å†—ä½™ç£ç›˜é˜µåˆ—ï¼Œå¯ä»¥è®©ç¡¬ä»¶å®ç°ï¼Œä¹Ÿå¯ä»¥è®©è½¯ä»¶å®ç°ã€‚ å¥‡å¶æ ¡éªŒç£ç›˜ æˆ‘ä»¬ä½¿ç”¨çº é”™ç ï¼Œå°†çº é”™ç å­˜åˆ°å¦ä¸€ä¸ªç£ç›˜é‡Œé¢ï¼Œç”¨äºçº é”™ï¼Œä½†æ˜¯è¿™å°±å¯¼è‡´äº†å¥‡å¶æ ¡éªŒç£ç›˜çš„å‹åŠ›å¤ªå¤§äº†ï¼Œå¤§å®¶éƒ½è¦æ¥è®¿é—®ä»–ï¼Œæˆ‘ä»¬å…¶å®å¯ä»¥è®©å¥‡å¶æ ¡éªŒçš„å—å‡åŒ€åˆ†å¸ƒåˆ°æ‰€æœ‰çš„é˜µåˆ—å½“ä¸­ï¼Œå°±æé«˜äº†æ•ˆç‡ ç£ç›˜è°ƒåº¦ å…ˆè¿›å…ˆå‡ºï¼Œæœ€å°‘ç§»åŠ¨ä¼˜å…ˆ(å¯¼è‡´é¥¥é¥¿)ï¼Œç£å£ä»…å‘ä¸€ä¸ªæ–¹å‘ç§»åŠ¨(åˆ°è¾¾æœ€è¾¹ç¼˜çš„ä¹‹åç«‹åˆ»åè½¬)ï¼Œç£ç›˜åˆ†åŒº(åŒºå†…éƒ¨ä½¿ç”¨å•å‘ç§»åŠ¨ï¼ŒåŒºä¹‹é—´ä½¿ç”¨å…ˆè¿›å…ˆå‡º)","categories":[{"name":"æ“ä½œç³»ç»Ÿ","slug":"æ“ä½œç³»ç»Ÿ","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"},{"name":"OS","slug":"æ“ä½œç³»ç»Ÿ/OS","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/OS/"}],"tags":[]},{"title":"æ“ä½œç³»ç»Ÿ12-æ­»é”","slug":"æ“ä½œç³»ç»Ÿ/OS/æ“ä½œç³»ç»Ÿ12-æ­»é”/index","date":"2020-04-02T08:17:31.000Z","updated":"2020-04-02T08:17:31.000Z","comments":true,"path":"Q85J17.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q85J17.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial èµ„æºåˆ†é…å›¾ æœ‰ä¸¤ä¸ªé›†åˆï¼Œä¸€ä¸ªæ˜¯è¿›ç¨‹é›†åˆï¼Œå¦ä¸€ä¸ªæ˜¯èµ„æºé›†åˆï¼Œå¦‚æœè¿›ç¨‹iéœ€è¦æŸèµ„æºjçš„ä¸€éƒ¨åˆ†ï¼Œåˆ™è¿è¾¹$i\\to j$, å¦‚æœä¸€ä¸ªèµ„æºjçš„ä¸€éƒ¨åˆ†è¢«åˆ†é…ç»™äº†è¿›ç¨‹iï¼Œåˆ™è¿è¾¹$j\\to i$, èµ„æºåˆ†é…å›¾å‡ºç°äº†æœ‰å‘ç¯æ˜¯å‘ç”Ÿäº†æ­»é”çš„å¿…è¦ä¸å……åˆ†æ¡ä»¶ã€‚å› ä¸ºè¾¹åªè¡¨ç¤ºä¸€éƒ¨åˆ†èµ„æºçš„åˆ†é…ï¼Œè€Œä¸æ˜¯å…¨éƒ¨èµ„æº æ­»é”çš„å¿…è¦æ¡ä»¶ äº’æ–¥ã€æŒæœ‰å¹¶ç­‰å¾…ã€æ— æŠ¢å ã€å¾ªç¯ç­‰å¾…","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial èµ„æºåˆ†é…å›¾ æœ‰ä¸¤ä¸ªé›†åˆï¼Œä¸€ä¸ªæ˜¯è¿›ç¨‹é›†åˆï¼Œå¦ä¸€ä¸ªæ˜¯èµ„æºé›†åˆï¼Œå¦‚æœè¿›ç¨‹iéœ€è¦æŸèµ„æºjçš„ä¸€éƒ¨åˆ†ï¼Œåˆ™è¿è¾¹$i\\to j$, å¦‚æœä¸€ä¸ªèµ„æºjçš„ä¸€éƒ¨åˆ†è¢«åˆ†é…ç»™äº†è¿›ç¨‹iï¼Œåˆ™è¿è¾¹$j\\to i$, èµ„æºåˆ†é…å›¾å‡ºç°äº†æœ‰å‘ç¯æ˜¯å‘ç”Ÿäº†æ­»é”çš„å¿…è¦ä¸å……åˆ†æ¡ä»¶ã€‚å› ä¸ºè¾¹åªè¡¨ç¤ºä¸€éƒ¨åˆ†èµ„æºçš„åˆ†é…ï¼Œè€Œä¸æ˜¯å…¨éƒ¨èµ„æº æ­»é”çš„å¿…è¦æ¡ä»¶ äº’æ–¥ã€æŒæœ‰å¹¶ç­‰å¾…ã€æ— æŠ¢å ã€å¾ªç¯ç­‰å¾… æ­»é”é¢„é˜² ç ´åäº’æ–¥ä¸ç°å®ï¼Œç ´å¿«å ç”¨å¹¶ç­‰å¾…ä¸å®ç°ï¼Œå› ä¸ºèµ„æºæ— æ³•åŠ¨æ€é¢„åˆ¤ï¼Œå¯èƒ½å‘ç”Ÿé¥¥é¥¿ï¼Œç ´åæŠ¢å ä¹Ÿä¸ç°å®ï¼Œç ´åå¾ªç¯ç­‰å¾…æœ‰æ•ˆï¼Œå°†èµ„æºæ’åºå¹¶è®©è¿›ç¨‹æŒ‰é¡ºåºç”³è¯·ã€‚ æ­»é”é¿å… åˆ¤æ–­æŸä¸ªèµ„æºçš„åˆ†é…æ˜¯å¦å¯¼è‡´äº†æ­»é”ï¼Œéœ€è¦ç³»ç»Ÿå…·æœ‰é¢å¤–çš„å…ˆéªŒä¿¡æ¯æä¾›ï¼Œ å®‰å…¨çŠ¶æ€: å­˜åœ¨åºåˆ—$P_1$ï¼Œ$P_2$â€¦ï¼Œé’ˆå¯¹æ¯ä¸ª$P_i$,$P_i$è¦æ±‚çš„èµ„æºèƒ½å¤Ÿç”±å½“å‰å¯ç”¨èµ„æº+æ‰€æœ‰çš„$P_j$æŒæœ‰çš„èµ„æºæ¥æ»¡è¶³$j\\lt i$ é“¶è¡Œå®¶ç®—æ³• å¯»æ‰¾å®‰å…¨åºåˆ—æ˜¯å¦å­˜åœ¨çš„ç®—æ³•ã€‚ æ­»é”çš„æ£€æµ‹ 1ç®€åŒ–èµ„æºåˆ†é…å›¾ä¸ºçº¿ç¨‹ç­‰å¾…å›¾ï¼Œå¦‚æœçº¿ç¨‹ç­‰å¾…å›¾å‡ºç°äº†ç¯åˆ™å‘ç”Ÿäº†æ­»é”ã€‚ 2æ‰¾åˆ°èƒ½ç»“æŸçš„ç¨‹åºï¼Œå‡è®¾ä»–ç»“æŸï¼Œç„¶åæ‹¿èµ°èµ„æºï¼Œå¾ªç¯ã€‚ æ€ï¼ŒæŒ‰ç…§ä¼˜å…ˆçº§æ€æ‰æ­»é”ï¼Œå‰©ä½™è¿è¡Œæ—¶é—´ï¼Œå ç”¨è‡ªç”¨èµ„æºã€å®Œæˆæ‰€éœ€è¦çš„èµ„æºã€éœ€è¦ç»ˆæ­¢çš„è¿›ç¨‹æ•°é‡ç­‰ å›æ»šï¼Œé‡å¯è¿›ç¨‹ï¼Œè¿™æœ‰å¯èƒ½å¯¼è‡´æŸä¸ªè¿›ç¨‹ä¸€ç›´è¢«é‡å¯ IPC è¿›ç¨‹é—´çš„é€šä¿¡ é€šä¿¡æœ‰ä¸¤ç§æ¨¡å‹ï¼Œç¬¬ä¸€æ˜¯ç›´æ¥é€šä¿¡ï¼Œç¬¬äºŒæ˜¯é€šè¿‡å†…æ ¸é—´æ¥é€šä¿¡ é€šä¿¡å¯ä»¥æ˜¯é˜»å¡æˆ–è€…éé˜»å¡çš„ é€šä¿¡ç¼“å­˜åŒºçš„å¤§å°å¯ä»¥æ˜¯æœ‰é™çš„æˆ–è€…æ— é™çš„ ä¿¡å· å‘å‡ºé€šçŸ¥ä¿¡æ¯ï¼Œè½¯ä»¶ä¸­æ–­å’Œäº‹ä»¶å¤„ç†ï¼Œæ”¶åˆ°ä¿¡å·çš„æ—¶å€™å¯ä»¥æŒ‡å®šä¿¡å·å¤„ç†å‡½æ•°è¢«è°ƒç”¨æˆ–è€…ä¾é æ“ä½œç³»ç»Ÿçš„é»˜è®¤æ“ä½œï¼Œ åº”ç”¨ç¨‹åºè¦å…ˆæ³¨å†Œä¿¡å·å¤„ç†å‡½æ•°ï¼Œå½“æ”¶åˆ°ä¿¡å·çš„æ—¶å€™ï¼Œåœ¨å†…æ ¸æ€ä¿®æ”¹åº”ç”¨ç¨‹åºçš„å †æ ˆï¼Œç„¶åè·³å›ç”¨æˆ·æ€æ‰§è¡Œï¼Œå³æ“ä½œç³»ç»Ÿæ¥å¸®åŠ©è·³è½¬åˆ°ä¿¡å·å¤„ç†å‡½æ•°æ‰§è¡Œï¼Œç„¶åè¿”å›ä¹‹å‰çš„ç°åœº ç®¡é“1ls | more å‘é€æ•°æ® shell -&gt; ls -&gt; ç®¡é“ -&gt; more, æ³¨æ„ç®¡é“æ˜¯æœ‰é™çš„ï¼Œå¯èƒ½ä¼šé˜»å¡ã€‚ æ¶ˆæ¯é˜Ÿåˆ— ç®¡é“æ˜¯å­—èŠ‚æµï¼Œä¸æ˜¯ç»“æ„åŒ–æ•°æ®ã€‚ Messageæ˜¯ä¸€ä¸ªå­—èŠ‚åºåˆ—å‚¨å­˜ï¼ŒMessage Queuesæ˜¯æ¶ˆæ¯æ•°ç»„ï¼Œç„¶åFIFOæˆ–è€…FILOå®ç°ã€‚ å…±äº«å†…å­˜ æ–¹ä¾¿ã€å¿«é€Ÿã€é«˜æ•ˆã€ä½†æ˜¯éœ€è¦åŒæ­¥, å°†åŒä¸€å—ç‰©ç†å†…å­˜æ˜ å°„åˆ°ä¸åŒçš„é€»è¾‘é¡µé¢. socket å¥—æ¥å­—","categories":[{"name":"æ“ä½œç³»ç»Ÿ","slug":"æ“ä½œç³»ç»Ÿ","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"},{"name":"OS","slug":"æ“ä½œç³»ç»Ÿ/OS","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/OS/"}],"tags":[]},{"title":"æ“ä½œç³»ç»Ÿ11-åŒæ­¥","slug":"æ“ä½œç³»ç»Ÿ/OS/æ“ä½œç³»ç»Ÿ11-åŒæ­¥/index","date":"2020-04-01T14:45:48.000Z","updated":"2020-04-01T14:45:48.000Z","comments":true,"path":"Q846CC.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q846CC.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ä¿¡å·é‡ å°±æ˜¯ä¸€ä¸ªæ•´å‹åŠ ä¸Šä¸€ä¸ªé˜Ÿåˆ— 1234class Semaphore&#123; int sem; WaitQueue q;&#125; Pæ“ä½œ è®©ä¿¡å·é‡å‡å°‘1ï¼Œå¦‚æœ&lt;0ï¼ŒæŠŠè‡ªå·±æŒ‚èµ· 12345678// æœ‰åŸå­æ€§P()&#123; sem--; if(sem&lt;0)&#123; Add this thread to q; block(t); &#125;&#125;","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ä¿¡å·é‡ å°±æ˜¯ä¸€ä¸ªæ•´å‹åŠ ä¸Šä¸€ä¸ªé˜Ÿåˆ— 1234class Semaphore&#123; int sem; WaitQueue q;&#125; Pæ“ä½œ è®©ä¿¡å·é‡å‡å°‘1ï¼Œå¦‚æœ&lt;0ï¼ŒæŠŠè‡ªå·±æŒ‚èµ· 12345678// æœ‰åŸå­æ€§P()&#123; sem--; if(sem&lt;0)&#123; Add this thread to q; block(t); &#125;&#125; Væ“ä½œ è®©ä¿¡å·é‡åŠ 1ï¼Œå¦‚æœ&amp;le;0ï¼Œå”¤é†’æŒ‚èµ·çš„ä¸€ä¸ªçº¿ç¨‹ 12345678// æœ‰åŸå­æ€§V()&#123; sem++; if(sem&lt;=0)&#123; Remove a thread t from q; wakeUp(t); &#125;&#125; ç®€å•çš„åŒæ­¥ è¿™æ˜¯Açš„ä»£ç  12do a1do a2 è¿™æ˜¯Bçš„ä»£ç  12do b1do b2 æˆ‘ä»¬éœ€è¦ä¿è¯a2åœ¨b1ä¹‹åæ‰§è¡Œï¼Œåº”è¯¥æ€ä¹ˆåŠï¼Ÿ æˆ‘ä»¬å¯ä»¥è®©ä¿¡å·é‡è®¾ä¸º0ï¼Œå¦‚æœAå…ˆæ‰§è¡Œå®Œa1ï¼Œåˆ™P()å¯¼è‡´é˜»å¡ï¼Œå½“Bæ‰§è¡Œå®Œb1ä»¥åï¼ŒAè¢«å”¤é†’ï¼Œä»£ç å¦‚ä¸‹ 123do a1P()do a2 123do b1V()do b2 ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€… ä»»ä½•æ—¶é—´åªæœ‰ä¸€ä¸ªçº¿ç¨‹æ“ä½œç¼“å†²åŒº(äº’æ–¥) å½“ç¼“å†²åŒºç©ºï¼Œæ¶ˆè´¹è€…è¦ç­‰å¾…ç”Ÿäº§è€…(åŒæ­¥) å½“ç¼“å†²åŒºæ»¡ï¼Œç”Ÿäº§è€…ç­‰å¾…æ¶ˆè´¹è€…(åŒæ­¥) æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€ä¸ªäº’æ–¥é‡ï¼Œä¸¤ä¸ªä¸ªä¿¡å·é‡ 123mutex = 1; // äº’æ–¥é‡fullBuffers = 0; // ç¼“å†²åŒºæ»¡çš„ä¿¡å·é‡emptyBuffers = n; // ç¼“å­˜åŒºç©ºçš„ä¿¡å·é‡ ç”Ÿäº§è€… 12345emptyBuffers.P(); // æˆ‘ä»¬è¦ç”Ÿäº§ä¹‹å‰éœ€è¦åˆ¤æ–­ç©ºç¼“å†²åŒºçš„ä¿¡å·é‡ï¼Œå¦‚æœç©ºé—´ä¸è¶³å°±è¦é˜»å¡mutex.P(); // è¿›å…¥ä¸´ç•ŒåŒºAddmutex.V(); // é€€å‡ºä¸´ç•ŒåŒºfullBuffers.V(); // é‡Šæ”¾ æ¶ˆè´¹è€… 12345fullBuffers.P(); mutex.P(); Delmutex.V(); emptyBuffers.V(); mutex.Vå’ŒfullBuffers.Vå¯ä»¥äº¤æ¢ï¼Œä½†æ˜¯Pä¸è¡Œï¼Œä¼šæ­»é” ç®¡ç¨‹ åŒ…å«äº†ä¸€ä¸ªé”ï¼ŒåŒ…å«äº†å¾ˆå¤šæ¡ä»¶å˜é‡ 123456789101112131415161718class Condition&#123; int numWaiting=0; // é˜Ÿåˆ—ä¸­çš„å…ƒç´ ä¸ªæ•° WaitQueue q; void Wait(lock)&#123; numwaiting++; Add this thread to q; release(lock); schedule(); require(lock); &#125; void Signal()&#123; if(numWaiting&gt;0)&#123; Remove a thread t from q; wakeup(t); numWaiting--; &#125; &#125;&#125; æƒ³æƒ³å¦‚ä½•ç”¨ç®¡ç¨‹å®ç°ç”Ÿäº§è€…æ¶ˆè´¹è€… ä¸€ä¸ªé”lock+ä¸¤ä¸ªæ¡ä»¶å˜é‡notFullå’ŒnotEmpty+ä¸€ä¸ªè®¡æ•°å™¨è®°å½•ç¼“å†²åŒºçš„é£Ÿç‰©æ•°é‡ 123456// ç”Ÿäº§è€…lock.require();while(count==n) notFull.Wait(&amp;lock); // å¦‚æœæ»¡äº†å°±ç­‰å¾…ï¼Œå‚åŠ ä¸Šé¢çš„waitä¼šé‡Šæ”¾é”Addï¼Œ count++;notEmpty.Signal(); // ç”Ÿäº§äº†ä»¥åå°±å¯ä»¥å»å”¤é†’åˆ«äººäº†lock.Release(); 123456// æ¶ˆè´¹è€…lock.require();while(count==0) notEmpty.Wait(&amp;lock); Delï¼Œ count--;notFull.Signal(); lock.Release(); æ³¨æ„åˆ°æ¶ˆè´¹è€…çš„Signalå,æœ‰ä¸¤ç§é€‰æ‹©ï¼Œç¬¬ä¸€æ˜¯ç»§ç»­æ‰§è¡Œï¼Œç›´åˆ°releaseï¼Œç¬¬äºŒæ˜¯å°†CPUäº¤ç»™è¢«å”¤é†’çš„çº¿ç¨‹å»æ‰§è¡Œç®¡ç¨‹ï¼Œ æˆ‘ä»¬å…ˆè€ƒè™‘ç¬¬ä¸€ç§æ–¹æ¡ˆï¼Œå½“å”¤é†’çº¿ç¨‹ä»¥åï¼Œè‡ªå·±çš„releaseæ‰§è¡Œå®Œä»¥å‰ï¼Œæ²¡æœ‰ä»»ä½•å…¶ä»–çº¿ç¨‹èƒ½å¤Ÿè¿›å…¥ä¸´ç•ŒåŒºï¼Œå½“è‡ªå·±releaseä»¥åï¼Œæˆ‘ä»¬æ¥è€ƒè™‘æ‰€æœ‰çš„ç”Ÿäº§è€…ï¼Œæœ‰è‹¥å¹²ä¸ªè¢«å”¤é†’çš„çº¿ç¨‹å·²ç»åœ¨ä¸´ç•ŒåŒºé‡Œé¢äº†ï¼Œå¯èƒ½è¿˜æœ‰ä¸€äº›ç”Ÿäº§è€…ä¹Ÿåœ¨ä¸´ç•ŒåŒºä¸­ç„¶è€Œæ²¡æœ‰è¢«å”¤é†’ï¼Œè¿™ç§æˆ‘ä»¬ä¸ç”¨ç®¡ä»–ï¼Œè¿˜æœ‰ä¸€ç§åœ¨ä¸´ç•ŒåŒºå¤–æ­£å‡†å¤‡äº‰å¤ºä¸´ç•ŒåŒºçš„æ§åˆ¶ï¼Œæ‰€ä»¥ï¼Œä¸ºäº†é¿å…é‚£äº›ä¸´ç•ŒåŒºå¤–å’Œè‹¥å¹²ä¸ªä¸´ç•ŒåŒºå†…è¢«å”¤é†’çš„çº¿ç¨‹å‘ç”Ÿå†²çªï¼Œæˆ‘ä»¬å¿…é¡»ç”¨whileæ¥ä¿è¯åªæœ‰ä¸€ä¸ªçº¿ç¨‹å†æ¬¡è·å¾—æ§åˆ¶æƒã€‚ ä¸ºä»€ä¹ˆä¼šæœ‰è‹¥å¹²ä¸ªæœªè¢«å”¤é†’çš„çº¿ç¨‹å‡ºç°åœ¨ä¸´ç•ŒåŒºä¸­? æˆ‘ä»¬è€ƒè™‘è¿™æ ·ä¸€ç§æƒ…å†µ,æ­¤æ—¶ç¼“å†²åŒºé£Ÿç‰©æ»¡äº†ï¼Œä¸€ä¸ªç”Ÿäº§è€…è¿›å…¥äº†ä¸´ç•ŒåŒºï¼Œå‘ç°count&#x3D;n,äºæ˜¯å¼€å§‹wait,è¿™å¯¼è‡´äº†é”è¢«é‡Šæ”¾ï¼Œä¹‹åå°±æœ‰ä¸¤ä¸ªåˆ†æ”¯äº†ï¼Œè¦ä¹ˆæ˜¯åˆæ¥äº†ä¸€ä¸ªç”Ÿäº§è€…äº‰å¤ºäº†é”ï¼Œè¦ä¹ˆæ¥äº†ä¸€ä¸ªæ¶ˆè´¹è€…å¼€å§‹æ¶ˆè´¹ï¼Œå¦‚æœæ¥çš„æ˜¯ç”Ÿäº§è€…ï¼Œä»–å‘ç°count&#x3D;n,åˆä¼šå¼€å§‹wait,è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä¼šå‡ºç°å¤šä¸ªæœªè¢«å”¤é†’çš„ç”Ÿäº§è€…å‡ºç°åœ¨ä¸´ç•ŒåŒºä¸­ã€‚ ä¸ºä»€ä¹ˆä¼šæœ‰è‹¥å¹²ä¸ªè¢«å”¤é†’çš„çº¿ç¨‹å‡ºç°åœ¨ä¸´ç•ŒåŒºä¸­ï¼Œæˆ‘ä»¬å…ˆè€ƒè™‘ç°åœ¨åªæœ‰ä¸€ä¸ªæœªè¢«å”¤é†’çš„ç”Ÿäº§è€…åœ¨ä¸´ç•ŒåŒºï¼Œæ­¤æ—¶cpuåœ¨æ¶ˆè´¹è€…æ‰‹ä¸­ï¼Œå½“æ¶ˆè´¹è€…signalä»¥åï¼Œä¼šå”¤é†’ç”Ÿäº§è€…ï¼Œä½†æ˜¯ç”Ÿäº§è€…ä¸è§å¾—èƒ½æ‹¿åˆ°CPUï¼Œå½“æ¶ˆè´¹è€…releaseä»¥åï¼Œä¸´ç•ŒåŒºçš„é‚£ä¸ªç”Ÿäº§è€…è·ƒè·ƒæ¬²è¯•ï¼Œç„¶åä¸´ç•ŒåŒºå¤–é¢è¿˜æœ‰ä¸€ç¾¤ç”Ÿäº§è€…ä¹Ÿåœ¨ç­‰ç€å‘¢ï¼Œè¦æ˜¯ä»–ä»¬æ‹¿åˆ°äº†ï¼Œä¸´ç•ŒåŒºä¸­çš„ç”Ÿäº§è€…è™½ç„¶è¢«å”¤é†’ï¼Œä½†æ˜¯è¿˜æ˜¯ä¼šè¢«requireé˜»å¡,è¿™ç§æƒ…å†µä¸‹ï¼Œè¢«å”¤é†’çš„ç”Ÿäº§è€…å°±ä¸€ä¸ªæ¥ä¸€ä¸ªçš„è¢«é˜»å¡äº†ã€‚ å¦‚æœæˆ‘ä»¬æ”¹è¿›CPUï¼Œä½¿ç”¨ç¬¬äºŒç§æ–¹æ³•ï¼Œè®©è¢«å”¤é†’çš„çº¿ç¨‹å»æ‰§è¡Œç®¡ç¨‹ï¼Œé‚£å°±ä¸ä¼šå‘ç”Ÿä¸Šé¢çš„é—®é¢˜ï¼Œæˆ‘ä»¬çš„whileå¯ä»¥æ¢ä½ifï¼Œä½†æ˜¯è¿™æ ·çš„CPUéš¾ä»¥è®¾è®¡ã€‚ è¯»è€…ä¸å†™è€… ä¸¤ä¸ªä¿¡å·é‡countMutexå’ŒwriteMutexï¼Œä¸€ä¸ªæ•´å½¢Rcount è¯»è€…ä¼˜å…ˆ123456// writelock(writeMutex); // ä¸Šé”ï¼Œç§æœ‰é”writeunlock(writeMutex); 123456789101112// å†™è€…lock(CountMutex); // ä¸Šç§æœ‰é”if(Rcount=0) lock(writeMutex); // è¯»è€…çš„é”å…±äº«++Rcountunlock(CountMutex);read;lock(CountMutex); // ä¸Šç§æœ‰é”--Rcountif(Rcount=0) unlock(writeMutex); // è¯»è€…çš„é”å…±äº«unlock(CountMutex); å†™è€…ä¼˜å…ˆ ä½¿ç”¨ç®¡ç¨‹å®ç° 12345678910void read()&#123; wait until no writers; // ç­‰å¾…æ‰€æœ‰çš„æ´»è·ƒçš„è¯»è€…å’Œç­‰å¾…çš„è¯»è€… read; wakeup waiting writers; // å”¤é†’ç­‰å¾…çš„è¯»è€…&#125;void write()&#123; wait until no readers/writers; // ç­‰å¾…æ´»è·ƒçš„è¯»è€…å’Œæ´»è·ƒçš„å†™è€… write; wakeup waiting readers/writers; // ä¼˜å…ˆå”¤é†’ç­‰å¾…çš„å†™è€…&#125; å“²å­¦å®¶è¿›é¤ é”™è¯¯ï¼š å…ˆæ‹¿å·¦è¾¹ï¼Œå†æ‹¿å³è¾¹ï¼Œå¦‚æœå³è¾¹æ²¡æ‹¿åˆ°åˆ™æ”¾ä¸‹å·¦è¾¹çš„ï¼Œç„¶åç­‰å¾…ä¸€æ®µæ—¶é—´, å¯èƒ½å¯¼è‡´é¥¥é¥¿ é”™è¯¯ï¼š è®©ç­·å­å˜æˆäº’æ–¥çš„ï¼Œå¯¼è‡´åªæœ‰ä¸€ä¸ªäººèƒ½å¤Ÿåƒé¢æ¡ 1234if(state[i]==HUNGRY&amp;&amp;state[LEFT]!=EATING&amp;&amp;state[RIGHT]!=EATING)&#123; state[i]=EATING; V(s[i]);&#125; 123456789101112131415think();P(mutex);state[i]=HUNGRY;test_take_left_right_forks(LEFT); // è‡ªå·±åƒV(mutex);P(s[i])eat();P(mutex);state[i]=THINKING;test_take_left_right_forks(LEFT); // å·¦é‚»å±…åƒtest_take_left_right_forks(RIGHT); //å³é‚»å±…åƒV(mutex);","categories":[{"name":"æ“ä½œç³»ç»Ÿ","slug":"æ“ä½œç³»ç»Ÿ","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"},{"name":"OS","slug":"æ“ä½œç³»ç»Ÿ/OS","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/OS/"}],"tags":[]},{"title":"æ“ä½œç³»ç»Ÿ10-è¿›å…¥ä¸´ç•ŒåŒº","slug":"æ“ä½œç³»ç»Ÿ/OS/æ“ä½œç³»ç»Ÿ10-è¿›å…¥ä¸´ç•ŒåŒº/index","date":"2020-04-01T14:10:03.000Z","updated":"2020-04-01T14:10:03.000Z","comments":true,"path":"Q844OR.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q844OR.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial nä¸ªè¿›ç¨‹äº’æ–¥ï¼Œç•™å‘ ç¦ç”¨ä¸­æ–­ è¿›å…¥ä¸´ç•ŒåŒºä»¥åç¦ç”¨ä¸­æ–­ï¼Œç¦»å¼€ä¸´ç•ŒåŒºä»¥åå¼€å¯ä¸­æ–­ ä¸€ä½†ç¦ç”¨äº†ä¸­æ–­ï¼Œæ•´ä¸ªç³»ç»Ÿéƒ½åœæ­¢ï¼Œå¯èƒ½å¯¼è‡´é¥¥é¥¿ï¼Œè¦æ˜¯ä¸´ç•ŒåŒºæœ‰ä¸ªæ­»å¾ªç¯å°±å®Œè›‹ï¼Œå¤šä¸ªCPUæ— æ³•è§£å†³é—®é¢˜ã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial nä¸ªè¿›ç¨‹äº’æ–¥ï¼Œç•™å‘ ç¦ç”¨ä¸­æ–­ è¿›å…¥ä¸´ç•ŒåŒºä»¥åç¦ç”¨ä¸­æ–­ï¼Œç¦»å¼€ä¸´ç•ŒåŒºä»¥åå¼€å¯ä¸­æ–­ ä¸€ä½†ç¦ç”¨äº†ä¸­æ–­ï¼Œæ•´ä¸ªç³»ç»Ÿéƒ½åœæ­¢ï¼Œå¯èƒ½å¯¼è‡´é¥¥é¥¿ï¼Œè¦æ˜¯ä¸´ç•ŒåŒºæœ‰ä¸ªæ­»å¾ªç¯å°±å®Œè›‹ï¼Œå¤šä¸ªCPUæ— æ³•è§£å†³é—®é¢˜ã€‚ åˆ©ç”¨è½¯ä»¶è§£å†³è½®æ¢1234567do&#123; while(turn!=i); // è¿›å…¥ä¸´ç•ŒåŒº // do something turn=j // ç¦»å¼€ä¸´ç•ŒåŒº&#125;while(1); petersonç®—æ³•123456789do&#123; flag[i]=true; // è‡ªå·±è¦è¿›å» turn = j; // æŠŠæœºä¼šè®©ç»™åˆ«äºº while(flag[j]&amp;&amp;turn==j); // è¿›å…¥ä¸´ç•ŒåŒº // do something flag[i]=false; // ç¦»å¼€ä¸´ç•ŒåŒº&#125;while(1); nä¸ªè¿›ç¨‹çš„äº’æ–¥ Bakeryç®—æ³•ï¼Œ è¿›å…¥ä¸´ç•ŒåŒºä»¥å‰ï¼Œè¿›ç¨‹æ¥å—ä¸€ä¸ªæ•°å­—ï¼Œå¾—åˆ°æœ€å°æ•°å­—çš„è¿›å…¥ä¸´ç•ŒåŒºï¼Œå¦‚æœæ•°å­—ç›¸åŒï¼Œidå°çš„è¿›å» åŸºäºç¡¬ä»¶è§£å†³ ä¼˜ç‚¹: ç®€å•ï¼Œé€‚ç”¨äºå¤šCPUä¸­ä»»æ„æ•°é‡çš„è¿›ç¨‹ï¼Œæ”¯æŒå¤šä¸´ç•ŒåŒºï¼Œå¼€é”€å° å¯èƒ½å‘ç”Ÿé¥¥é¥¿ï¼Œå¯èƒ½æ­»é”ï¼Œå¦‚æœä½ä¼˜å…ˆçº§è¿›ç¨‹æ‹¥æœ‰é”ï¼Œé«˜ä¼˜å…ˆçº§è¿›ç¨‹æ‹¥æœ‰CPUï¼Œè¿˜åœ¨å¿™ç­‰å¾…ï¼Œå°±æ­»é”äº† Test and Set12345bool testAndSet(bool*p)&#123; bool res = *p; *p=true; return res;&#125; change12345void swap(bool *a,bool*b)&#123; bool tmp = *a; *a=*b; *b=tmp;&#125;","categories":[{"name":"æ“ä½œç³»ç»Ÿ","slug":"æ“ä½œç³»ç»Ÿ","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"},{"name":"OS","slug":"æ“ä½œç³»ç»Ÿ/OS","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/OS/"}],"tags":[]},{"title":"æ“ä½œç³»ç»Ÿ9-CPUè°ƒåº¦","slug":"æ“ä½œç³»ç»Ÿ/OS/æ“ä½œç³»ç»Ÿ9-CPUè°ƒåº¦/index","date":"2020-04-01T13:37:45.000Z","updated":"2020-04-01T13:37:45.000Z","comments":true,"path":"Q8436X.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8436X.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial # CPUè°ƒåº¦ # è°ƒåº¦æŒ‡æ ‡ CPUä½¿ç”¨ç‡(CPUå¿™çŠ¶æ€æ‰€å çš„æ—¶é—´æ¯”ä¾‹)ï¼Œååé‡(å•ä½æ—¶é—´å†…å®Œæˆçš„è¿›ç¨‹æ•°é‡)ï¼Œå‘¨è½¬æ—¶é—´(ä¸€ä¸ªè¿›ç¨‹ä»åˆå§‹åŒ–åˆ°ç»“æŸï¼ŒèŠ±è´¹çš„æ‰€æœ‰æ—¶é—´), ç­‰å¾…æ—¶é—´(è¿›ç¨‹åœ¨å°±ç»ªé˜Ÿåˆ—ä¸­ç­‰å¾…çš„æ€»æ—¶é—´)ï¼Œ å“åº”æ—¶é—´(ä¸€ä¸ªè¯·æ±‚ä»æäº¤åˆ°äº§ç”Ÿç›¸åº”æ‰€èŠ±è´¹çš„æ—¶é—´) # FCFS first come first served å…ˆæ¥å…ˆæœåŠ¡ # SPN Shortest Process Next çŸ­è¿›ç¨‹ä¼˜å…ˆ ï¼ˆæŠ¢å æˆ–è€…ä¸æŠ¢å ï¼‰ å¯¼è‡´é•¿ä»»åŠ¡é¥¥é¥¿ # HRRN Highest Response Ratio Next æœ€é«˜å“åº”æ¯”ä¼˜å…ˆï¼Œç­‰å¾…æ—¶é—´/æ‰§è¡Œæ—¶é—´ ä¸å¯æŠ¢å ï¼Œå…³æ³¨ç­‰å¾…ï¼Œé˜²æ­¢æ— æœŸé™æ¨è¿Ÿã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial # CPUè°ƒåº¦ # è°ƒåº¦æŒ‡æ ‡ CPUä½¿ç”¨ç‡(CPUå¿™çŠ¶æ€æ‰€å çš„æ—¶é—´æ¯”ä¾‹)ï¼Œååé‡(å•ä½æ—¶é—´å†…å®Œæˆçš„è¿›ç¨‹æ•°é‡)ï¼Œå‘¨è½¬æ—¶é—´(ä¸€ä¸ªè¿›ç¨‹ä»åˆå§‹åŒ–åˆ°ç»“æŸï¼ŒèŠ±è´¹çš„æ‰€æœ‰æ—¶é—´), ç­‰å¾…æ—¶é—´(è¿›ç¨‹åœ¨å°±ç»ªé˜Ÿåˆ—ä¸­ç­‰å¾…çš„æ€»æ—¶é—´)ï¼Œ å“åº”æ—¶é—´(ä¸€ä¸ªè¯·æ±‚ä»æäº¤åˆ°äº§ç”Ÿç›¸åº”æ‰€èŠ±è´¹çš„æ—¶é—´) # FCFS first come first served å…ˆæ¥å…ˆæœåŠ¡ # SPN Shortest Process Next çŸ­è¿›ç¨‹ä¼˜å…ˆ ï¼ˆæŠ¢å æˆ–è€…ä¸æŠ¢å ï¼‰ å¯¼è‡´é•¿ä»»åŠ¡é¥¥é¥¿ # HRRN Highest Response Ratio Next æœ€é«˜å“åº”æ¯”ä¼˜å…ˆï¼Œç­‰å¾…æ—¶é—´/æ‰§è¡Œæ—¶é—´ ä¸å¯æŠ¢å ï¼Œå…³æ³¨ç­‰å¾…ï¼Œé˜²æ­¢æ— æœŸé™æ¨è¿Ÿã€‚ # Round Robin æ—¶é—´ç‰‡è½®å¾ª æ—¶é—´ç‰‡å¤ªé•¿å¯¼è‡´é€€åŒ–ä¸ºFCFSï¼Œå¤ªçŸ­å¯¼è‡´ååé‡å—å½±å“ # Multilevel Feedback Queue ä¼˜å…ˆçº§é˜Ÿåˆ—ä¸­çš„è½®å¾ªï¼ŒæŠŠæ‰€æœ‰å°±ç»ªè¿›ç¨‹åˆ†ä¸ºä¸åŒçš„çº§åˆ«é˜Ÿåˆ—ï¼Œåˆ†ä¸ºäº¤äº’æ€§å’Œåå°ï¼Œæ¯ä¸ªé˜Ÿåˆ—æœ‰è‡ªå·±çš„è°ƒåº¦æ–¹æ³•ï¼Œä¸€ä¸ªè¿›ç¨‹å¯ä»¥åœ¨ä¸åŒé˜Ÿåˆ—ä¸­ç§»åŠ¨ï¼Œæ—¶é—´ç‰‡å¤§å°éšä¼˜å…ˆçº§å¢åŠ è€Œå‡å°‘ï¼Œå¦‚æœä¸€ä¸ªè®¤ä¸ºåœ¨å½“å‰æ—¶é—´ç‰‡æ²¡æœ‰å®Œæˆï¼Œåˆ™é™çº§,è·å¾—æ›´å¤šçš„æ—¶é—´ç‰‡ # Fair Share Scheduling å…¬å¹³å…±äº«è°ƒåº¦ # å®æ—¶è°ƒåº¦ å¼ºå®æ—¶ç³»ç»Ÿï¼Œä¿è¯åœ¨æ—¶é—´å†…å®Œæˆï¼Œ å¼±å®æ—¶ç³»ç»Ÿï¼Œå°½é‡åœ¨æ—¶é—´å†…å®Œæˆï¼Œ # é™æ€ä¼˜å…ˆçº§è°ƒåº¦ åœ¨ä»»åŠ¡å‰å°±ç¡®å®šäº†ä¼˜å…ˆçº§,å¦‚RM(Rate Monotonic)é€Ÿç‡å•è°ƒè°ƒåº¦ï¼Œå‘¨æœŸè¶ŠçŸ­ä¼˜å…ˆçº§è¶Šé«˜ # åŠ¨æ€ä¼˜å…ˆçº§è°ƒåº¦ åœ¨è¿è¡ŒæœŸé—´ç¡®å®šä¼˜å…ˆçº§ï¼ŒEDF(Earliest Deadline First)æœ€æ—©æœŸé™è°ƒåº¦ï¼ŒDealineè¶Šæ—©å°±è¶Šå…ˆè°ƒåº¦ã€‚ # å¤šå¤„ç†å™¨è°ƒåº¦ ä¸»è¦è€ƒè™‘è´Ÿè½½å‡è¡¡ï¼Œ # ä¼˜å…ˆçº§åè½¬ å…ˆç»™3ä¸ªä»»åŠ¡ï¼ŒT1&gt;T2&gt;T3, å¦‚æœT3å…ˆå‡ºç°ï¼Œåˆ™è°ƒåº¦T3ï¼ŒT3è®¿é—®äº†ä¸€ä¸ªå…±äº«èµ„æºï¼Œåæ¥T1æ¥äº†ï¼ŒT1ä¼˜å…ˆçº§æœ€é«˜ï¼Œæ‰€ä»¥æŠ¢å ï¼Œä½†æ˜¯å…±äº«èµ„æºè¢«T3é”ä½äº†ï¼Œäºæ˜¯é˜»å¡ï¼ŒT1å¼€å§‹æ‰§è¡Œï¼Œä½†æ˜¯è¿™æ—¶å€™T2æ¨ªæ’ä¸€æ‰‹ï¼Œå¯¼è‡´T1æœ‰ä¸èƒ½æ‰§è¡Œï¼Œæœ€ç»ˆå¯¼è‡´T1ä¸èƒ½æ­£å¸¸å®Œæˆï¼Œ æˆ‘ä»¬åº”è¯¥è®¾è®¡ä¼˜å…ˆçº§ç»§æ‰¿ï¼Œå³å½“T1åœ¨ç­‰å¾…T3æ‰§è¡Œå®Œæˆçš„æ—¶å€™ï¼Œå°†T3çš„ä¼˜å…ˆçº§æå‡åˆ°å’ŒT1ä¸€æ ·ï¼Œè®©T2æ’ä¸è¿›æ¥ï¼Œæ‰èƒ½ä¿è¯T3çš„å®Œæˆï¼Œè¿›è€Œé‡Šæ”¾èµ„æºå¥½è®©T1å®Œæˆã€‚ è¿™ä¸ªæ–¹æ³•åˆå«ä¼˜å…ˆçº§å¤©èŠ±æ¿","categories":[{"name":"æ“ä½œç³»ç»Ÿ","slug":"æ“ä½œç³»ç»Ÿ","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"},{"name":"OS","slug":"æ“ä½œç³»ç»Ÿ/OS","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/OS/"}],"tags":[]},{"title":"æ“ä½œç³»ç»Ÿ8-çº¿ç¨‹","slug":"æ“ä½œç³»ç»Ÿ/OS/æ“ä½œç³»ç»Ÿ8-çº¿ç¨‹/index","date":"2020-04-01T13:36:48.000Z","updated":"2020-04-01T13:36:48.000Z","comments":true,"path":"Q8435C.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8435C.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial çº¿ç¨‹ç®¡ç†çº¿ç¨‹æ§åˆ¶å— TCB ç±»ä¼¼PCB çº¿ç¨‹ä¼˜ç‚¹ ä¸€ä¸ªè¿›ç¨‹å¯ä»¥åŒæ—¶å­˜åœ¨å¤šä¸ªçº¿ç¨‹ï¼Œå„ä¸ªçº¿ç¨‹ä¹‹é—´å¯ä»¥å¹¶å‘æ‰§è¡Œï¼Œå„ä¸ªçº¿ç¨‹ä¹‹é—´å¯ä»¥æ­å–œé‚£ä¸ªåœ°å€ç©ºé—´å’Œæ–‡ä»¶èµ„æºã€‚ çº¿ç¨‹ç¼ºç‚¹ ä¸€ä¸ªçº¿ç¨‹å´©æºƒä¼šå¯¼è‡´æ‰€å±è¿›ç¨‹çš„æ‰€æœ‰çº¿ç¨‹å´©æºƒã€‚ è¿›ç¨‹ä¸çº¿ç¨‹ è¿›ç¨‹æ˜¯èµ„æºåˆ†é…å•ä½ï¼Œçº¿ç¨‹æ˜¯CPUè°ƒåº¦å•ä½ è¿›ç¨‹æ‹¥æœ‰å®Œæ•´çš„èµ„æºå¹³å°ï¼Œçº¿ç¨‹åªç‹¬äº«å…¶ä¸­çš„å¯„å­˜å™¨å’Œæ ˆ çº¿ç¨‹ä¹Ÿæœ‰å°±ç»ªé˜»å¡æ‰§è¡Œä¸‰ç§çŠ¶æ€å’ŒçŠ¶æ€è½¬åŒ–å…³ç³» çº¿ç¨‹èƒ½å‡å°‘å¹¶å‘æ‰§è¡Œçš„æ—¶é—´å’Œç©ºé—´å¼€é”€,çº¿ç¨‹åˆ›å»ºç»ˆæ­¢å—ï¼Œåˆ‡æ¢å¿«ï¼Œå…±äº«èµ„æºå¯ç›´æ¥è¿›è¡Œä¸ä¾èµ–å†…æ ¸é€šä¿¡ã€‚ ç”¨æˆ·çº¿ç¨‹å’Œå†…æ ¸çº¿ç¨‹ ç”¨æˆ·çº¿ç¨‹æ“ä½œç³»ç»Ÿçœ‹ä¸åˆ°ï¼Œå†…æ ¸çº¿ç¨‹æ“ä½œç³»ç»Ÿçœ‹å¾—åˆ° ç”¨æˆ·çº¿ç¨‹ çº¿ç¨‹çš„åˆ›å»ºç»ˆæ­¢åŒæ­¥å’Œè°ƒåº¦éƒ½æ˜¯çº¿ç¨‹åº“å®ç°çš„ã€‚TCBåœ¨è¿›ç¨‹å†…éƒ¨ ç”¨æˆ·çº¿ç¨‹çš„ç¼ºç‚¹ å½“ä¸€ä¸ªçº¿ç¨‹é˜»å¡ä»¥åï¼Œæ•´ä¸ªè¿›ç¨‹éƒ½é˜»å¡äº†ï¼Œå› ä¸ºæ“ä½œç³»ç»Ÿçœ‹ä¸åˆ°ç”¨æˆ·å¿ƒçº¿ç¨‹ï¼Œåªèƒ½çœ‹åˆ°è¿›ç¨‹ã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial çº¿ç¨‹ç®¡ç†çº¿ç¨‹æ§åˆ¶å— TCB ç±»ä¼¼PCB çº¿ç¨‹ä¼˜ç‚¹ ä¸€ä¸ªè¿›ç¨‹å¯ä»¥åŒæ—¶å­˜åœ¨å¤šä¸ªçº¿ç¨‹ï¼Œå„ä¸ªçº¿ç¨‹ä¹‹é—´å¯ä»¥å¹¶å‘æ‰§è¡Œï¼Œå„ä¸ªçº¿ç¨‹ä¹‹é—´å¯ä»¥æ­å–œé‚£ä¸ªåœ°å€ç©ºé—´å’Œæ–‡ä»¶èµ„æºã€‚ çº¿ç¨‹ç¼ºç‚¹ ä¸€ä¸ªçº¿ç¨‹å´©æºƒä¼šå¯¼è‡´æ‰€å±è¿›ç¨‹çš„æ‰€æœ‰çº¿ç¨‹å´©æºƒã€‚ è¿›ç¨‹ä¸çº¿ç¨‹ è¿›ç¨‹æ˜¯èµ„æºåˆ†é…å•ä½ï¼Œçº¿ç¨‹æ˜¯CPUè°ƒåº¦å•ä½ è¿›ç¨‹æ‹¥æœ‰å®Œæ•´çš„èµ„æºå¹³å°ï¼Œçº¿ç¨‹åªç‹¬äº«å…¶ä¸­çš„å¯„å­˜å™¨å’Œæ ˆ çº¿ç¨‹ä¹Ÿæœ‰å°±ç»ªé˜»å¡æ‰§è¡Œä¸‰ç§çŠ¶æ€å’ŒçŠ¶æ€è½¬åŒ–å…³ç³» çº¿ç¨‹èƒ½å‡å°‘å¹¶å‘æ‰§è¡Œçš„æ—¶é—´å’Œç©ºé—´å¼€é”€,çº¿ç¨‹åˆ›å»ºç»ˆæ­¢å—ï¼Œåˆ‡æ¢å¿«ï¼Œå…±äº«èµ„æºå¯ç›´æ¥è¿›è¡Œä¸ä¾èµ–å†…æ ¸é€šä¿¡ã€‚ ç”¨æˆ·çº¿ç¨‹å’Œå†…æ ¸çº¿ç¨‹ ç”¨æˆ·çº¿ç¨‹æ“ä½œç³»ç»Ÿçœ‹ä¸åˆ°ï¼Œå†…æ ¸çº¿ç¨‹æ“ä½œç³»ç»Ÿçœ‹å¾—åˆ° ç”¨æˆ·çº¿ç¨‹ çº¿ç¨‹çš„åˆ›å»ºç»ˆæ­¢åŒæ­¥å’Œè°ƒåº¦éƒ½æ˜¯çº¿ç¨‹åº“å®ç°çš„ã€‚TCBåœ¨è¿›ç¨‹å†…éƒ¨ ç”¨æˆ·çº¿ç¨‹çš„ç¼ºç‚¹ å½“ä¸€ä¸ªçº¿ç¨‹é˜»å¡ä»¥åï¼Œæ•´ä¸ªè¿›ç¨‹éƒ½é˜»å¡äº†ï¼Œå› ä¸ºæ“ä½œç³»ç»Ÿçœ‹ä¸åˆ°ç”¨æˆ·å¿ƒçº¿ç¨‹ï¼Œåªèƒ½çœ‹åˆ°è¿›ç¨‹ã€‚ å†…æ ¸çº¿ç¨‹ å†…æ ¸çº¿ç¨‹æ˜¯æ“ä½œç³»ç»Ÿçœ‹å¾—åˆ°çš„ï¼Œä»–çš„TCBåœ¨å’ŒPCBæ”¾åœ¨ä¸€èµ· å†…æ ¸çº¿ç¨‹çš„åˆ›å»ºç»ˆæ­¢ç­‰éƒ½æ˜¯é€šè¿‡ç³»ç»Ÿè°ƒç”¨æˆ–å†…æ ¸å‡½æ•°çš„æ–¹å¼æ¥è¿›è¡Œï¼Œæœ‰å†…æ ¸å®Œæˆï¼Œå¼€é”€è¾ƒå¤§ï¼Œå¦‚æœå†…æ ¸çº¿ç¨‹é˜»å¡äº†ï¼Œä¸ä¼šå½±å“å…¶ä»–å†…æ ¸çº¿ç¨‹ã€‚æ—¶é—´ç‰‡åˆ†ç»™çº¿ç¨‹ï¼Œå¤šçº¿ç¨‹çš„è¿›ç¨‹å¯ä»¥è·å¾—æ›´å¤šçš„CPUæ—¶é—´ã€‚ è½»é‡çº§è¿›ç¨‹ ä¸€ä¸ªè¿›ç¨‹å¯ä»¥æœ‰å¤šä¸ªè½»é‡çº§è¿›ç¨‹ï¼Œæ¯ä¸ªè½»é‡çº§è¿›ç¨‹ç”±ä¸€ä¸ªå•ç‹¬çš„å†…æ ¸çº¿ç¨‹æ¥æ”¯æŒã€‚ ä¸Šä¸‹æ–‡åˆ‡æ¢ æŠŠè¿›ç¨‹çš„èµ„æºçš„ä¸Šä¸‹æ–‡(CPUçŠ¶æ€)æ”¾å…¥PCBä¸­ï¼Œç„¶åæ‰èƒ½å®‰å…¨çš„è°ƒåº¦ exec() åŠ è½½ç¨‹åºå–ä»£å½“å‰è¿›ç¨‹ã€‚ fork() å®Œå…¨æ‹·è´ä¸€ä»½è¿›ç¨‹ï¼Œpidä¸åŒ, 99%çš„æƒ…å†µï¼Œfork()åé©¬ä¸Šexec() vfork() è½»é‡çº§forkï¼Œä¸åˆ›å»ºå†…å­˜æ˜ åƒï¼Œç„¶åè°ƒç”¨ç”¨execçš„æ—¶å€™å°±æ¯”fork+execå¿«å¤šäº†ã€‚ cowæŠ€æœ¯ copy on write å½“forkçš„æ—¶å€™ä¸æ‹·è´å†…å­˜ï¼Œåªæœ‰å½“å†™çš„æ—¶å€™æ‰æ‹·è´å†…å­˜ wait()å¸¸å¸¸çˆ¶è¿›ç¨‹éœ€è¦ç­‰å¾…å­è¿›ç¨‹ç»“æŸã€‚wait()ç­‰å¾…å­è¿›ç¨‹çš„exit()çš„è¿”å›å€¼ï¼Œç„¶åå›æ”¶å­è¿›ç¨‹çš„PCBã€‚ exit() å½“å­è¿›ç¨‹exit,ä½†æ˜¯çˆ¶è¿›ç¨‹æ²¡æœ‰åšå®Œwaitçš„æ—¶å€™ï¼Œä»–å°±æˆäº†åƒµå°¸æ€ã€‚ çˆ¶è¿›ç¨‹æ¯”å­è¿›ç¨‹å…ˆæ­»æ‰æ€ä¹ˆåŠ rootè¿›ç¨‹ä¼šåœ¨å®šæœŸæ‰«æè¿›ç¨‹ï¼Œå¯»æ‰¾åƒµå°¸æ€è¿›ç¨‹,å¹¶ç»ˆç»“ä»–ä»¬ã€‚","categories":[{"name":"æ“ä½œç³»ç»Ÿ","slug":"æ“ä½œç³»ç»Ÿ","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"},{"name":"OS","slug":"æ“ä½œç³»ç»Ÿ/OS","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/OS/"}],"tags":[]},{"title":"æ“ä½œç³»ç»Ÿ7-è¿›ç¨‹","slug":"æ“ä½œç³»ç»Ÿ/OS/æ“ä½œç³»ç»Ÿ7-è¿›ç¨‹/index","date":"2020-04-01T13:36:36.000Z","updated":"2020-04-01T13:36:36.000Z","comments":true,"path":"Q84350.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q84350.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è¿›ç¨‹ç®¡ç†è¿›ç¨‹çš„ç»„æˆ ä»£ç +æ•°æ®+ç¨‹åºè®¡æ•°å™¨ä¸­çš„å€¼ï¼Œå †å’Œæ ˆï¼Œä¸€ç»„èµ„æº(æ‰“å¼€çš„æ–‡ä»¶) è¿›ç¨‹çš„ç‰¹ç‚¹ åŠ¨æ€åˆ›å»ºï¼Œå¹¶å‘æˆ–è€…å¹¶è¡Œï¼Œç‹¬ç«‹(æ‰§è¡Œçš„æ­£ç¡®æ€§ä¸å—å…¶ä»–è¿›ç¨‹å½±å“) è¿›ç¨‹æ§åˆ¶å—(PCB) æ“ä½œç³»ç»Ÿä¸ºæ¯ä¸ªè¿›ç¨‹ç»´æŠ¤äº†ä¸€ä¸ªè¿›ç¨‹æ§åˆ¶å—ï¼Œç”¨æ¥ä¿å­˜ä¸è¯¥è¿›ç¨‹æœ‰å…³çš„å„ç§çŠ¶æ€ä¿¡æ¯ã€‚æ˜¯è¿›ç¨‹å­˜åœ¨çš„å”¯ä¸€æ ‡ç¤ºã€‚ åŒ…å«äº†è¿›ç¨‹æ ‡è¯†ä¿¡æ¯(çˆ¶è¿›ç¨‹ï¼Œç”¨æˆ·æ ‡è¯†)ï¼Œ å¤„ç†å™¨çŠ¶æ€ä¿¡æ¯ä¿å­˜åŒº(ç”¨æˆ·å¯è§å¯„å­˜å™¨ï¼ŒPCå¯„å­˜å™¨ï¼Œç¨‹åºçŠ¶æ€å­—ï¼Œæ ˆæŒ‡é’ˆ)ï¼Œ è¿›ç¨‹æ§åˆ¶ä¿¡æ¯(è°ƒåº¦å’ŒçŠ¶æ€ä¿¡æ¯ã€è¿›ç¨‹é”®é€šè®¯ä¿¡æ¯ï¼Œå‚¨å­˜ç®¡ç†ä¿¡æ¯ï¼Œè¿›ç¨‹æ‰€ç”¨èµ„æºä¿¡æ¯ï¼Œæ•°æ®ç»“æ„è¿æ¥ä¿¡æ¯) PCBçš„ç»„ç»‡æ–¹å¼ï¼š é“¾è¡¨æˆ–è€…ç´¢å¼•è¡¨ è¿›ç¨‹çš„åˆ›å»ºçš„æ—¶æœº ç³»ç»Ÿåˆå§‹åŒ–, ç”¨æˆ·çš„è¯·æ±‚ï¼Œè¿›ç¨‹çš„è¯·æ±‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è¿›ç¨‹ç®¡ç†è¿›ç¨‹çš„ç»„æˆ ä»£ç +æ•°æ®+ç¨‹åºè®¡æ•°å™¨ä¸­çš„å€¼ï¼Œå †å’Œæ ˆï¼Œä¸€ç»„èµ„æº(æ‰“å¼€çš„æ–‡ä»¶) è¿›ç¨‹çš„ç‰¹ç‚¹ åŠ¨æ€åˆ›å»ºï¼Œå¹¶å‘æˆ–è€…å¹¶è¡Œï¼Œç‹¬ç«‹(æ‰§è¡Œçš„æ­£ç¡®æ€§ä¸å—å…¶ä»–è¿›ç¨‹å½±å“) è¿›ç¨‹æ§åˆ¶å—(PCB) æ“ä½œç³»ç»Ÿä¸ºæ¯ä¸ªè¿›ç¨‹ç»´æŠ¤äº†ä¸€ä¸ªè¿›ç¨‹æ§åˆ¶å—ï¼Œç”¨æ¥ä¿å­˜ä¸è¯¥è¿›ç¨‹æœ‰å…³çš„å„ç§çŠ¶æ€ä¿¡æ¯ã€‚æ˜¯è¿›ç¨‹å­˜åœ¨çš„å”¯ä¸€æ ‡ç¤ºã€‚ åŒ…å«äº†è¿›ç¨‹æ ‡è¯†ä¿¡æ¯(çˆ¶è¿›ç¨‹ï¼Œç”¨æˆ·æ ‡è¯†)ï¼Œ å¤„ç†å™¨çŠ¶æ€ä¿¡æ¯ä¿å­˜åŒº(ç”¨æˆ·å¯è§å¯„å­˜å™¨ï¼ŒPCå¯„å­˜å™¨ï¼Œç¨‹åºçŠ¶æ€å­—ï¼Œæ ˆæŒ‡é’ˆ)ï¼Œ è¿›ç¨‹æ§åˆ¶ä¿¡æ¯(è°ƒåº¦å’ŒçŠ¶æ€ä¿¡æ¯ã€è¿›ç¨‹é”®é€šè®¯ä¿¡æ¯ï¼Œå‚¨å­˜ç®¡ç†ä¿¡æ¯ï¼Œè¿›ç¨‹æ‰€ç”¨èµ„æºä¿¡æ¯ï¼Œæ•°æ®ç»“æ„è¿æ¥ä¿¡æ¯) PCBçš„ç»„ç»‡æ–¹å¼ï¼š é“¾è¡¨æˆ–è€…ç´¢å¼•è¡¨ è¿›ç¨‹çš„åˆ›å»ºçš„æ—¶æœº ç³»ç»Ÿåˆå§‹åŒ–, ç”¨æˆ·çš„è¯·æ±‚ï¼Œè¿›ç¨‹çš„è¯·æ±‚ è¿›ç¨‹çš„è¿è¡Œ ç”±æ“ä½œç³»ç»Ÿè°ƒåº¦æ‰§è¡Œ è¿›ç¨‹çš„ç­‰å¾… è¯·æ±‚å¹¶ç­‰å¾…ç³»ç»ŸæœåŠ¡ï¼Œå¯åŠ¨æŸç§æ“ä½œï¼Œéœ€è¦çš„æ•°æ®æ²¡æœ‰åˆ°è¾¾ è¿›ç¨‹çš„å”¤é†’ è¢«é˜»å¡çš„è¿›ç¨‹éœ€è¦çš„èµ„æºå¾—åˆ°æ»¡è¶³ï¼Œç­‰å¾…çš„äº‹ä»¶åˆ°è¾¾ï¼ŒPCBè¢«æ’å…¥åˆ°å°±ç»ªé˜Ÿåˆ—ã€‚ è¿›ç¨‹çš„é€€å‡º æ­£å¸¸é€€å‡ºã€é”™è¯¯é€€å‡ºã€è‡´å‘½é”™è¯¯å¯¼è‡´è¢«å¼ºåˆ¶é€€å‡ºï¼Œè¢«å…¶ä»–è¿›ç¨‹æ€æ‰ è¿›ç¨‹çš„çŠ¶æ€ è¿è¡Œ å°±ç»ª é˜»å¡ è¿›ç¨‹æŒ‚èµ· å½“è¿›ç¨‹è¢«åˆ®èµ·çš„æ—¶å€™ï¼Œä»–å°†æ²¡æœ‰å ç”¨å†…å­˜ç©ºé—´,é˜»å¡ã€å°±ç»ªã€è¿è¡Œéƒ½å¯èƒ½è¢«æŒ‚èµ·ã€‚ é˜»å¡æŒ‚èµ· è¿›ç¨‹åœ¨å¤–å­˜å¹¶ç­‰å¾…æŸäº‹ä»¶çš„å‡ºç° å°±ç»ªæŒ‚èµ· è¿›ç¨‹åœ¨å¤–å­˜ï¼Œåªè¦è¿›å…¥å†…å­˜å°±å¯ä»¥è¿è¡Œã€‚ çŠ¶æ€é˜Ÿåˆ— ä¸åŒçš„çŠ¶æ€åˆ†åˆ«ç”¨ä¸åŒçš„é˜Ÿåˆ—ç»´æŠ¤","categories":[{"name":"æ“ä½œç³»ç»Ÿ","slug":"æ“ä½œç³»ç»Ÿ","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"},{"name":"OS","slug":"æ“ä½œç³»ç»Ÿ/OS","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/OS/"}],"tags":[]},{"title":"æ“ä½œç³»ç»Ÿ6-é¡µé¢ç½®æ¢ç®—æ³•","slug":"æ“ä½œç³»ç»Ÿ/OS/æ“ä½œç³»ç»Ÿ6-é¡µé¢ç½®æ¢ç®—æ³•/index","date":"2020-04-01T13:36:25.000Z","updated":"2021-03-29T12:54:27.000Z","comments":true,"path":"Q8434P.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8434P.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial é¡µé¢ç½®æ¢ç®—æ³• å½“ç¼ºé¡µä¸­æ–­å‘ç”Ÿçš„æ—¶å€™ï¼Œéœ€è¦åšäº¤æ¢ï¼Œæˆ‘ä»¬éœ€è¦å°½é‡å‡å°‘äº¤æ¢çš„æ¬¡æ•°ã€‚ æœ€ä¼˜é¡µé¢ç½®æ¢ç®—æ³• å°†ç­‰å¾…ä¸‹ä¸€å±‚çš„è®¿é—®æ—¶é—´æœ€é•¿çš„é‚£ä¸ªé¡µé¢ç½®æ¢å‡ºå»ï¼Œè¿™ä¸ªç®—æ³•ä¸å¯èƒ½å®ç°ï¼Œä½†æ˜¯å¯ä½œä¸ºè¯„ä»·å…¶ä»–ç®—æ³•çš„æ ‡å‡† å…ˆè¿›å…ˆå‡ºé¡µé¢ç½®æ¢ç®—æ³• ç»´æŠ¤ä¸€ä¸ªé˜Ÿåˆ—ï¼ŒFIFOå³å¯ æ€§èƒ½å¾ˆå·®ï¼Œè¢«è°ƒå‡ºçš„é¡µé¢å¯èƒ½æ˜¯è¦ç»å¸¸è®¿é—®çš„é¡µé¢ æœ€è¿‘æœ€ä¹…æœªä½¿ç”¨ç®—æ³• LRU è¿™ä¸ªç®—æ³•åŸºäºç©ºé—´å±€éƒ¨æ€§ ç»´æŠ¤ä¸€ä¸ªé¡µé¢é“¾è¡¨ï¼Œå°†åˆšåˆšä½¿ç”¨è¿‡çš„é¡µé¢ä½œä¸ºé¦–èŠ‚ç‚¹ï¼Œé‚£ä¹ˆç¼ºé¡µä¸­æ–­çš„æ—¶å€™æ·˜æ±°é“¾è¡¨å°¾éƒ¨å³å¯","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial é¡µé¢ç½®æ¢ç®—æ³• å½“ç¼ºé¡µä¸­æ–­å‘ç”Ÿçš„æ—¶å€™ï¼Œéœ€è¦åšäº¤æ¢ï¼Œæˆ‘ä»¬éœ€è¦å°½é‡å‡å°‘äº¤æ¢çš„æ¬¡æ•°ã€‚ æœ€ä¼˜é¡µé¢ç½®æ¢ç®—æ³• å°†ç­‰å¾…ä¸‹ä¸€å±‚çš„è®¿é—®æ—¶é—´æœ€é•¿çš„é‚£ä¸ªé¡µé¢ç½®æ¢å‡ºå»ï¼Œè¿™ä¸ªç®—æ³•ä¸å¯èƒ½å®ç°ï¼Œä½†æ˜¯å¯ä½œä¸ºè¯„ä»·å…¶ä»–ç®—æ³•çš„æ ‡å‡† å…ˆè¿›å…ˆå‡ºé¡µé¢ç½®æ¢ç®—æ³• ç»´æŠ¤ä¸€ä¸ªé˜Ÿåˆ—ï¼ŒFIFOå³å¯ æ€§èƒ½å¾ˆå·®ï¼Œè¢«è°ƒå‡ºçš„é¡µé¢å¯èƒ½æ˜¯è¦ç»å¸¸è®¿é—®çš„é¡µé¢ æœ€è¿‘æœ€ä¹…æœªä½¿ç”¨ç®—æ³• LRU è¿™ä¸ªç®—æ³•åŸºäºç©ºé—´å±€éƒ¨æ€§ ç»´æŠ¤ä¸€ä¸ªé¡µé¢é“¾è¡¨ï¼Œå°†åˆšåˆšä½¿ç”¨è¿‡çš„é¡µé¢ä½œä¸ºé¦–èŠ‚ç‚¹ï¼Œé‚£ä¹ˆç¼ºé¡µä¸­æ–­çš„æ—¶å€™æ·˜æ±°é“¾è¡¨å°¾éƒ¨å³å¯ æ—¶é’Ÿé¡µé¢ç½®æ¢ç®—æ³• è®©é¡µè¡¨ç»„ç»‡æˆä¸€ä¸ªç¯å½¢é“¾è¡¨ï¼ŒæŠŠæŒ‡é’ˆæŒ‡å‘æœ€è€çš„é¡µé¢ï¼Œå½“å‘ç”Ÿç¼ºé¡µä¸­æ–­çš„æ—¶å€™ï¼Œä»è€é¡µé¢å¼€å§‹æ‰«æï¼Œå¯¹ç¢°åˆ°çš„è®¿é—®ä½ä¸º0çš„é¡µè¡¨ç½®æ¢å‡ºå»ï¼Œå¦‚æœéƒ½æ˜¯1ä»¥åï¼ŒæŠŠä»–ä»¬æ¸…0 äºŒæ¬¡æœºä¼šæ³• åŒæ—¶åˆ©ç”¨ä¿®æ”¹ä½å’Œè®¿é—®ä½æ¥æŒ‡å¯¼ç½®æ¢ï¼Œå½“è®¿é—®ä½ä½0ä¿®æ”¹ä½ä¸º1çš„æ—¶å€™ï¼Œå°†å®ƒä¿ç•™ä¸‹æ¥ï¼Œå¹¶æŠŠä¿®æ”¹ä½æ”¹ä¸º0ï¼Œè¿™é‡Œæ”¹ä¸º0ä»¥åè¿˜è¦å†™å›å†…å­˜ã€‚ç»™è¿™ä¸ªé¡µé¢ç¬¬äºŒæ¬¡æœºä¼šã€‚ æœ€ä¸å¸¸ç”¨æ³• LFU æ·˜æ±°æ‰è®¿é—®æ¬¡æ•°æœ€å°‘çš„é‚£ä¸ªï¼Œå¯¹æ¯ä¸ªé¡µé¢éƒ½å¢åŠ ä¸€ä¸ªè®¿é—®è®¡æ•°å™¨ï¼Œå½“è®¿é—®åè®¡æ•°å™¨+1ï¼Œæ³¨æ„åˆ°è¿™ä¸ªç®—æ³•æ–°é¡µå¾ˆåƒäºï¼Œæˆ‘ä»¬å°è¯•å®šæœŸå°†è®¡æ•°å™¨é™¤ä»¥2ï¼Œåˆæ˜¯ADMIå’Œå¼å¢åŠ ç§¯å¼å‡å°‘çš„æ‰‹æ®µã€‚ Beladyç°è±¡ åœ¨FIFOç®—æ³•ä¸­ï¼Œä¼šå‡ºç°åˆ†é…ç‰©ç†é¡µé¢æ•°å¢åŠ ç¼ºé¡µç‡åè€Œæé«˜çš„å¼‚å¸¸ç°è±¡ã€‚ å·¥ä½œé›†æ›¿æ¢ç®—æ³• å·¥ä½œé›†å¤§å° å•ä½æ—¶é—´å†…è®¿é—®çš„é¡µé¢æ€»ç±»ï¼Œ å°†ä¸å†å·¥ä½œé›†ä¸­çš„é¡µé¢æ¢èµ° ç¼ºé¡µç‡é¡µé¢ç½®æ¢ç®—æ³• ç¼ºé¡µç‡: ç¼ºé¡µæ¬¡æ•°é™¤ä»¥å†…å­˜è®¿é—®æ¬¡æ•° åŸºäºç¼ºé¡µç‡æ¥åŠ¨æ€è°ƒæ•´å¸¸é©»é›†çš„å¤§å° å¸¸é©»é›†å¤§å° å½“å‰å®é™…é©»å†…å­˜çš„é¡µé¢ç§ç±»ï¼Œ æŠ–åŠ¨é—®é¢˜ éšç€é©»ç•™å†…å­˜çš„è¿›ç¨‹æ•°ç›®ä¸æ–­å¢åŠ ï¼Œåˆ†é…ç»™æ¯ä¸ªè¿›ç¨‹çš„ç‰©ç†é¡µé¢æ•°ä¸æ–­å‡å°‘ï¼Œç¼ºé¡µç‡ä¸Šå‡ï¼Œé€ æˆé¢‘ç¹çš„æ›¿æ¢ï¼Œè¿™å°±æ˜¯æŠ–åŠ¨ é‡åŒ–æŠ–åŠ¨ ç¼ºé¡µé¢‘åº¦ï¼š ä¸¤æ¬¡ç¼ºé¡µçš„å¹³å‡é—´éš”æ—¶é—´ï¼Œ å·¥ä½œé›†å¤§å°","categories":[{"name":"æ“ä½œç³»ç»Ÿ","slug":"æ“ä½œç³»ç»Ÿ","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"},{"name":"OS","slug":"æ“ä½œç³»ç»Ÿ/OS","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/OS/"}],"tags":[]},{"title":"æ“ä½œç³»ç»Ÿ5-è™šæ‹Ÿå†…å­˜","slug":"æ“ä½œç³»ç»Ÿ/OS/æ“ä½œç³»ç»Ÿ5-è™šæ‹Ÿå†…å­˜/index","date":"2020-04-01T13:36:12.000Z","updated":"2020-04-01T13:36:12.000Z","comments":true,"path":"Q8434C.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8434C.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è™šæ‹Ÿå†…å­˜è¦†ç›–æŠ€æœ¯ æŠŠä¸€äº›ä¸ä¼šç›¸äº’è°ƒç”¨çš„å‡½æ•°åˆ†é…åˆ°ç›¸åŒçš„åœ°å€ç©ºé—´ï¼Œå½“éœ€è¦è°ƒç”¨çš„æ—¶å€™è¦†ç›–å†…å­˜å°±å¯ä»¥äº†ã€‚ éœ€è¦ç¨‹åºå‘˜æ¥è®¾è®¡ï¼Œè´¹æ—¶è´¹åŠ›ï¼Œæ¨¡å—çš„è¦†ç›–æ˜¯æ—¶é—´æ¢ç©ºé—´ äº¤æ¢æŠ€æœ¯ è®©æš‚æ—¶ä¸è¿è¡Œçš„ç¨‹åºäº¤æ¢åˆ°ç£ç›˜ä¸­ï¼Œå½“ä½¿ç”¨çš„æ—¶å€™æ¢å›å†…å­˜ã€‚ åªåœ¨å†…å­˜ä¸å¤Ÿçš„æ—¶å€™äº¤æ¢ï¼Œç£ç›˜çš„äº¤æ¢åŒºçš„ç©ºé—´å¿…é¡»è¶³å¤Ÿå¤§ï¼Œæ¢å‡ºç„¶åæ¢å…¥çš„æ—¶å€™ç‰©ç†å†…å­˜ä¸ä¸€å®šä¸€æ ·äº†ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥ç”¨è™šåœ°å€è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ è™šå­˜æŠ€æœ¯ åƒè¦†ç›–æŠ€æœ¯ä¸€æ ·ä¸æŠŠç¨‹åºæ‰€æœ‰çš„å†…å®¹éƒ½æ”¾å…¥å†…å­˜ï¼Œæƒ³äº¤æ¢æŠ€æœ¯é‚£æ ·ï¼Œåªå¯¹è¿›ç¨‹çš„éƒ¨åˆ†å†…å®¹è¿›è¡Œäº¤æ¢ï¼Œ","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è™šæ‹Ÿå†…å­˜è¦†ç›–æŠ€æœ¯ æŠŠä¸€äº›ä¸ä¼šç›¸äº’è°ƒç”¨çš„å‡½æ•°åˆ†é…åˆ°ç›¸åŒçš„åœ°å€ç©ºé—´ï¼Œå½“éœ€è¦è°ƒç”¨çš„æ—¶å€™è¦†ç›–å†…å­˜å°±å¯ä»¥äº†ã€‚ éœ€è¦ç¨‹åºå‘˜æ¥è®¾è®¡ï¼Œè´¹æ—¶è´¹åŠ›ï¼Œæ¨¡å—çš„è¦†ç›–æ˜¯æ—¶é—´æ¢ç©ºé—´ äº¤æ¢æŠ€æœ¯ è®©æš‚æ—¶ä¸è¿è¡Œçš„ç¨‹åºäº¤æ¢åˆ°ç£ç›˜ä¸­ï¼Œå½“ä½¿ç”¨çš„æ—¶å€™æ¢å›å†…å­˜ã€‚ åªåœ¨å†…å­˜ä¸å¤Ÿçš„æ—¶å€™äº¤æ¢ï¼Œç£ç›˜çš„äº¤æ¢åŒºçš„ç©ºé—´å¿…é¡»è¶³å¤Ÿå¤§ï¼Œæ¢å‡ºç„¶åæ¢å…¥çš„æ—¶å€™ç‰©ç†å†…å­˜ä¸ä¸€å®šä¸€æ ·äº†ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥ç”¨è™šåœ°å€è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ è™šå­˜æŠ€æœ¯ åƒè¦†ç›–æŠ€æœ¯ä¸€æ ·ä¸æŠŠç¨‹åºæ‰€æœ‰çš„å†…å®¹éƒ½æ”¾å…¥å†…å­˜ï¼Œæƒ³äº¤æ¢æŠ€æœ¯é‚£æ ·ï¼Œåªå¯¹è¿›ç¨‹çš„éƒ¨åˆ†å†…å®¹è¿›è¡Œäº¤æ¢ï¼Œ è™šå­˜æŠ€æœ¯çš„é¡µè¡¨é¡¹ é€»è¾‘é¡µå·+è®¿é—®ä½+ä¿®æ”¹ä½+ä¿æŠ¤ä½+é©»ç•™ä½+ç‰©ç†é¡µå· é©»ç•™ä½è¡¨ç¤ºé¡µé¢æ˜¯å¦åœ¨å†…å­˜ä¸­ï¼Œä¿æŠ¤ä½è¡¨ç¤ºæƒé™ï¼Œä¿®æ”¹ä½è¡¨ç¤ºè¿™ä¸ªé¡µæ˜¯å¦è¢«å†™è¿‡ç”¨äºæ”¯æŒå†…å­˜ç¡¬ç›˜çš„ä¸€è‡´æ€§ï¼Œè®¿é—®ä½è¡¨ç¤ºè¿™ä¸ªé¡µé¢æœ€è¿‘æ˜¯å¦è¢«è®¿é—®è¿‡ å¦‚æœæˆ‘ä»¬å‘ç°é©»ç•™ä½ä¸º0ï¼Œåˆ™è§¦å‘ç¼ºé¡µä¸­æ–­ï¼Œæ“ä½œç³»ç»ŸæŠŠé¡µé¢è¯»å…¥ï¼Œç„¶åä¿®æ”¹é¡µè¡¨ï¼Œæœ€åè·³å›å‘ç”Ÿç¼ºé¡µä¸­æ–­çš„ä½ç½®ç»§ç»­æ‰§è¡Œ åå¤‡å­˜å‚¨ å¯ä»¥æ˜ å°„åˆ°å·²æœ‰çš„äºŒè¿›åˆ¶æ–‡ä»¶ä¸­ï¼Œå¯ä»¥æ˜ å°„åˆ°åŒå°è°ƒç”¨çš„åº“æ–‡ä»¶ä¸­ï¼Œ","categories":[{"name":"æ“ä½œç³»ç»Ÿ","slug":"æ“ä½œç³»ç»Ÿ","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"},{"name":"OS","slug":"æ“ä½œç³»ç»Ÿ/OS","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/OS/"}],"tags":[]},{"title":"æ“ä½œç³»ç»Ÿ4-éè¿ç»­å†…å­˜åˆ†é…","slug":"æ“ä½œç³»ç»Ÿ/OS/æ“ä½œç³»ç»Ÿ4-éè¿ç»­å†…å­˜åˆ†é…/index","date":"2020-04-01T13:35:59.000Z","updated":"2020-04-01T13:35:59.000Z","comments":true,"path":"Q8433Z.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8433Z.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial éè¿ç»­å†…å­˜åˆ†é…ä¼˜ç‚¹: ä¸€ä¸ªç¨‹åºçš„ç‰©ç†ç©ºé—´æ˜¯éè¿ç»­çš„ï¼Œæ›´å¥½çš„å†…å­˜åˆ©ç”¨ï¼Œå…è®¸å…±äº«ä»£ç ä¸æ•°æ®(å…±äº«åº“ç­‰),æ”¯æŒåŠ¨æ€åŠ è½½å’ŒåŠ¨æ€é“¾æ¥ åˆ†æ®µæœºåˆ¶ ç¨‹åºç­‰æ ˆæ®µã€å †æ®µã€æ•°æ®æ®µã€ç­‰ç­‰åˆ†æ•£åˆ°å¤šä¸ªç‰©ç†ç©ºé—´ï¼Œ ç¡¬ä»¶å †åˆ†æ®µå¯»å€æ–¹æ¡ˆ æ®µå·+åç§»é‡ï¼Œé«˜ä½ä¸ºæ®µå·ï¼Œä½ä½ä¸ºåç§»é‡ï¼Œç”¨æ®µè¡¨æ¥æ˜ å°„ï¼Œæ®µè¡¨ä¸­å­˜äº†èµ·å§‹åœ°å€å’Œé•¿åº¦ä¿¡æ¯ï¼ŒCPUå¯ä»¥åœ¨è®¿é—®å‰åšå®‰å…¨æ£€æµ‹ï¼Œ åˆ†é¡µæœºåˆ¶ è®©æ®µçš„é•¿åº¦å›ºå®šï¼Œå°±æˆäº†åˆ†é¡µæœºåˆ¶ã€‚ é¡µå¸§ ç‰©ç†å†…å­˜è¢«åˆ†å‰²ä¸ºå¤§å°ç›¸ç­‰çš„å¸§ é¡µè¡¨ dirtybit+residentbit+clockbit+é¡µå¸§å· åˆ†é¡µæœºåˆ¶çš„æ€§èƒ½ è®¿é—®ä¸€ä¸ªå†…å­˜å•å…ƒéœ€è¦ä¸¤æ¬¡è®¿é—®ï¼š é¡µè¡¨+æ•°æ® é¡µè¡¨å¤ªå¤§æ€ä¹ˆåŠï¼Œå¤šä¸ªç¨‹åºå¤šä¸ªé¡µè¡¨ï¼Œæ›´å¤§äº†ï¼Œè¿™ä¸ªä¸èƒ½æ”¾åˆ°cpuï¼Œæ”¾åˆ°å†…å­˜åˆä¼šå¾ˆæ…¢","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial éè¿ç»­å†…å­˜åˆ†é…ä¼˜ç‚¹: ä¸€ä¸ªç¨‹åºçš„ç‰©ç†ç©ºé—´æ˜¯éè¿ç»­çš„ï¼Œæ›´å¥½çš„å†…å­˜åˆ©ç”¨ï¼Œå…è®¸å…±äº«ä»£ç ä¸æ•°æ®(å…±äº«åº“ç­‰),æ”¯æŒåŠ¨æ€åŠ è½½å’ŒåŠ¨æ€é“¾æ¥ åˆ†æ®µæœºåˆ¶ ç¨‹åºç­‰æ ˆæ®µã€å †æ®µã€æ•°æ®æ®µã€ç­‰ç­‰åˆ†æ•£åˆ°å¤šä¸ªç‰©ç†ç©ºé—´ï¼Œ ç¡¬ä»¶å †åˆ†æ®µå¯»å€æ–¹æ¡ˆ æ®µå·+åç§»é‡ï¼Œé«˜ä½ä¸ºæ®µå·ï¼Œä½ä½ä¸ºåç§»é‡ï¼Œç”¨æ®µè¡¨æ¥æ˜ å°„ï¼Œæ®µè¡¨ä¸­å­˜äº†èµ·å§‹åœ°å€å’Œé•¿åº¦ä¿¡æ¯ï¼ŒCPUå¯ä»¥åœ¨è®¿é—®å‰åšå®‰å…¨æ£€æµ‹ï¼Œ åˆ†é¡µæœºåˆ¶ è®©æ®µçš„é•¿åº¦å›ºå®šï¼Œå°±æˆäº†åˆ†é¡µæœºåˆ¶ã€‚ é¡µå¸§ ç‰©ç†å†…å­˜è¢«åˆ†å‰²ä¸ºå¤§å°ç›¸ç­‰çš„å¸§ é¡µè¡¨ dirtybit+residentbit+clockbit+é¡µå¸§å· åˆ†é¡µæœºåˆ¶çš„æ€§èƒ½ è®¿é—®ä¸€ä¸ªå†…å­˜å•å…ƒéœ€è¦ä¸¤æ¬¡è®¿é—®ï¼š é¡µè¡¨+æ•°æ® é¡µè¡¨å¤ªå¤§æ€ä¹ˆåŠï¼Œå¤šä¸ªç¨‹åºå¤šä¸ªé¡µè¡¨ï¼Œæ›´å¤§äº†ï¼Œè¿™ä¸ªä¸èƒ½æ”¾åˆ°cpuï¼Œæ”¾åˆ°å†…å­˜åˆä¼šå¾ˆæ…¢ TLBå¿«è¡¨ æœ¬è´¨ä¸Šæ˜¯é¡µè¡¨çš„ç¼“å­˜ï¼Œå®¹é‡æœ‰é™ï¼Œé€Ÿåº¦å¿« å¤šçº§é¡µè¡¨ å¤šäº†ä¸€æ¬¡æŸ¥æ‰¾ï¼Œä½†æ˜¯ç©ºé—´å ç”¨æ›´åŠ ä½äº†ï¼Œå°±åƒä¸€ä¸ªå­—å…¸æ ‘ä¸€æ ·ï¼Œå½“ç„¶çœç©ºé—´ åå‘é¡µè¡¨ é‚£ä¹ˆé¡µè¡¨é¡¹çš„æ•°é‡å°±åªå’Œç‰©ç†å†…å­˜å¤§å°æœ‰å…³äº†ï¼Œå’Œè™šæ‹Ÿå¤§å°æ— å…³äº†ï¼Œä½†æ˜¯æŸ¥æ‰¾å°±å¾ˆæ…¢äº†ï¼Œç¬¬ä¸€å¼ æ–¹æ³•æ˜¯ä½¿ç”¨å…³è”å†…å­˜ï¼Œå¹¶è¡ŒæŸ¥æ‰¾ï¼Œä½†æ˜¯è¿™ä¸ªä¸œè¥¿çš„è®¾è®¡æˆæœ¬å¤ªé«˜äº†ï¼Œç¬¬äºŒç§æ–¹æ³•æ˜¯HashæŸ¥æ‰¾ï¼Œç”¨ç¡¬ä»¶åŠ é€Ÿï¼Œ","categories":[{"name":"æ“ä½œç³»ç»Ÿ","slug":"æ“ä½œç³»ç»Ÿ","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"},{"name":"OS","slug":"æ“ä½œç³»ç»Ÿ/OS","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/OS/"}],"tags":[]},{"title":"æ“ä½œç³»ç»Ÿ3-è¿ç»­å†…å­˜åˆ†é…","slug":"æ“ä½œç³»ç»Ÿ/OS/æ“ä½œç³»ç»Ÿ3-è¿ç»­å†…å­˜åˆ†é…/index","date":"2020-04-01T13:35:49.000Z","updated":"2020-04-01T13:35:49.000Z","comments":true,"path":"Q8433P.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q8433P.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial CPUå†…å­˜ CPU-L1cache-L2cache-memery-disk é€»è¾‘åœ°å€ç©ºé—´ æŠ½è±¡ã€éš”ç¦»ã€ä¿æŠ¤ã€å…±äº«ã€è™šæ‹ŸåŒ–(ä¸´æ—¶æ”¾å…¥disk) å†…å­˜ç®¡ç† ç¨‹åºé‡å®šå‘ï¼Œåˆ†æ®µï¼Œåˆ†é¡µï¼Œè™šæ‹Ÿå†…å­˜ï¼ŒæŒ‰éœ€åˆ†å¶è™šæ‹Ÿå†…å­˜ åœ°å€ç©ºé—´å’Œåœ°å€ç”Ÿæˆ Cç¨‹åºç”¨å˜é‡è¡¨ç¤ºåœ°å€ï¼Œæ±‡ç¼–è¿˜æ˜¯ç”¨ç¬¦å·ï¼Œæœºå™¨ç å°±å¼€å§‹ä½¿ç”¨é€»è¾‘åœ°å€äº†ï¼ŒCPUçš„MMUä¸­æœ‰ä¸€æ®µåŒºåŸŸæ¥æ˜ å°„é€»è¾‘åœ°å€åˆ°ç‰©ç†åœ°å€ çº¦æŸç¨‹åºçš„å†…å­˜ ç¨‹åºåªå¯ä»¥è®¿é—®ä»–è‡ªå·±çš„å†…å­˜ï¼Œå½“ä»–è®¿é—®å…¶ä»–åœ°æ–¹çš„æ—¶å€™ï¼Œæ“ä½œç³»ç»Ÿåº”è¯¥ä½¿ç”¨å®‰å…¨æ£€æµ‹ å†…å­˜ç¢ç‰‡ å¤–éƒ¨ç¢ç‰‡ï¼Œæ˜¯åˆ†é…å•å…ƒä¹‹é—´çš„å†…å­˜ç¢ç‰‡ å†…éƒ¨ç¢ç‰‡ï¼Œå·²ç»åˆ†é…ç»™äº†åº”ç”¨ç¨‹åºï¼Œä½†æ˜¯åº”ç”¨ç¨‹åºæ²¡æ³•ä½¿ç”¨å®ƒ è¿ç»­å†…å­˜åˆ†é… ç¨‹åºå¯åŠ¨çš„æ—¶å€™è¦åˆ†é…ï¼Œè¿è¡Œçš„æ—¶å€™è¦åˆ†é…","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial CPUå†…å­˜ CPU-L1cache-L2cache-memery-disk é€»è¾‘åœ°å€ç©ºé—´ æŠ½è±¡ã€éš”ç¦»ã€ä¿æŠ¤ã€å…±äº«ã€è™šæ‹ŸåŒ–(ä¸´æ—¶æ”¾å…¥disk) å†…å­˜ç®¡ç† ç¨‹åºé‡å®šå‘ï¼Œåˆ†æ®µï¼Œåˆ†é¡µï¼Œè™šæ‹Ÿå†…å­˜ï¼ŒæŒ‰éœ€åˆ†å¶è™šæ‹Ÿå†…å­˜ åœ°å€ç©ºé—´å’Œåœ°å€ç”Ÿæˆ Cç¨‹åºç”¨å˜é‡è¡¨ç¤ºåœ°å€ï¼Œæ±‡ç¼–è¿˜æ˜¯ç”¨ç¬¦å·ï¼Œæœºå™¨ç å°±å¼€å§‹ä½¿ç”¨é€»è¾‘åœ°å€äº†ï¼ŒCPUçš„MMUä¸­æœ‰ä¸€æ®µåŒºåŸŸæ¥æ˜ å°„é€»è¾‘åœ°å€åˆ°ç‰©ç†åœ°å€ çº¦æŸç¨‹åºçš„å†…å­˜ ç¨‹åºåªå¯ä»¥è®¿é—®ä»–è‡ªå·±çš„å†…å­˜ï¼Œå½“ä»–è®¿é—®å…¶ä»–åœ°æ–¹çš„æ—¶å€™ï¼Œæ“ä½œç³»ç»Ÿåº”è¯¥ä½¿ç”¨å®‰å…¨æ£€æµ‹ å†…å­˜ç¢ç‰‡ å¤–éƒ¨ç¢ç‰‡ï¼Œæ˜¯åˆ†é…å•å…ƒä¹‹é—´çš„å†…å­˜ç¢ç‰‡ å†…éƒ¨ç¢ç‰‡ï¼Œå·²ç»åˆ†é…ç»™äº†åº”ç”¨ç¨‹åºï¼Œä½†æ˜¯åº”ç”¨ç¨‹åºæ²¡æ³•ä½¿ç”¨å®ƒ è¿ç»­å†…å­˜åˆ†é… ç¨‹åºå¯åŠ¨çš„æ—¶å€™è¦åˆ†é…ï¼Œè¿è¡Œçš„æ—¶å€™è¦åˆ†é… ç¬¬ä¸€åŒ¹é…åˆ†é…ç®—æ³• ä¸€ä¸ªä¸€ä¸ªæ‰¾ï¼Œç¬¬ä¸€ä¸ªç¢°åˆ°çš„åˆæ³•çš„å°±åˆ†å‡ºå»ï¼Œ éœ€è¦æŒ‰åœ°å€æ’åºï¼Œåˆ†é…çš„æ—¶å€™éœ€è¦å¯»æ‰¾åˆé€‚çš„åˆ†åŒºï¼Œè¿˜æœ‰çœ‹è‡ªç”±åˆ†åŒºèƒ½å¦ä¸ç›¸é‚»ç©ºé—²åˆ†åŒºåˆå¹¶ ç®€å•ï¼Œå®¹æ˜“äº§ç”Ÿæ›´å¤§çš„ç©ºé—²å—ï¼Œå®¹æ˜“äº§ç”Ÿå¤–ç¢ç‰‡ æœ€ä¼˜åˆ†é…ç®—æ³• æ‰¾å·®å€¼æœ€å°çš„åˆ†åŒºï¼Œåˆ†è¿‡å» æŒ‰å°ºå¯¸æ’åºï¼Œåˆ†é…éœ€è¦æŸ¥æ‰¾ï¼Œä¹Ÿè¦åˆå¹¶ç›¸é‚»ç©ºé—²åˆ†åŒº é¿å…åˆ†å‰²å¤§ç©ºé—´å—ï¼Œå½“å¤§éƒ¨åˆ†åˆ†é…çš„æ˜¯å°å°ºå¯¸çš„æ—¶å€™éå¸¸æœ‰æ•ˆï¼Œ å®¹æ˜“äº§ç”Ÿå¤–éƒ¨ç¢ç‰‡ï¼Œåˆå¹¶ç©ºé—²åˆ†åŒºæ…¢ï¼Œå®¹æ˜“äº§ç”Ÿå¤§é‡å¾®å°ç¢ç‰‡ æœ€å·®åŒ¹é…åˆ†é… æ‰¾æœ€å¤§çš„åˆ†åŒºåˆ†è¿‡å» æŒ‰å°ºå¯¸æ’åºï¼Œåˆ†é…å¿«ï¼Œä¹Ÿè¦åˆå¹¶ åˆ†é…ä¸­ç­‰å°ºå¯¸æœ‰æ•ˆ åˆå¹¶æ…¢ï¼Œå¤–éƒ¨ç¢ç‰‡ï¼Œç ´ç¢ç©ºé—´æ²¡æœ‰å¤§ç©ºé—´äº† å‹ç¼©å¼ç¢ç‰‡æ•´ç† æŒªåŠ¨å·²ç»åˆ†é…è¿‡çš„ç©ºé—´ï¼Œ ä»€ä¹ˆæ—¶å€™æŒªåŠ¨ï¼Ÿé”€é‡ï¼Ÿ äº¤æ¢å¼ç¢ç‰‡æ•´ç† å’Œç¡¬ç›˜äº¤æ¢ï¼Œä½¿ç”¨è™šæ‹Ÿå†…å­˜çš„æ–¹æ³•ã€‚ æŠŠå“ªä¸ªæ¢å‡ºå»ï¼Ÿä»€ä¹ˆæ—¶å€™æ¢ï¼Ÿ","categories":[{"name":"æ“ä½œç³»ç»Ÿ","slug":"æ“ä½œç³»ç»Ÿ","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"},{"name":"OS","slug":"æ“ä½œç³»ç»Ÿ/OS","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/OS/"}],"tags":[]},{"title":"æ“ä½œç³»ç»Ÿ2-ä¸­æ–­å¼‚å¸¸è°ƒç”¨","slug":"æ“ä½œç³»ç»Ÿ/OS/æ“ä½œç³»ç»Ÿ2-ä¸­æ–­å¼‚å¸¸è°ƒç”¨/index","date":"2020-04-01T13:35:25.000Z","updated":"2020-04-01T13:35:25.000Z","comments":true,"path":"Q84331.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q84331.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ“ä½œç³»ç»Ÿçš„å¯åŠ¨ DISKä¸­æ”¾æ“ä½œç³»ç»Ÿï¼ŒBIOSæ˜¯åŸºæœ¬çš„IOç³»ç»Ÿï¼Œæ£€æµ‹å¤–è®¾ï¼ŒBootloaderèƒ½å¤ŸåŠ è½½OSï¼ŒBIOSä»CSæ®µå¯„å­˜å™¨;IPæŒ‡ä»¤å¯„å­˜å™¨å¼€å§‹æ‰§è¡Œï¼Œç„¶åBIOSä¼šPOST(åŠ ç”µè‡ªæ£€)ï¼Œç„¶åBIOSæ‰¾åˆ°bootloaderåŠ è½½Bootloaderï¼Œå¹¶ä¼ é€’æ§åˆ¶æƒ,ç„¶åBootloaderæ‰¾åˆ°OSï¼Œè¯»åˆ°å†…å­˜å§æ§åˆ¶æƒäº¤ç»™OS æ“ä½œç³»ç»Ÿçš„ä¸­æ–­ã€ç³»ç»Ÿè°ƒç”¨ã€å¼‚å¸¸ ç³»ç»Ÿè°ƒç”¨æ˜¯åº”ç”¨ç¨‹åºä¸»åŠ¨æƒ³æ“ä½œç³»ç»Ÿå‘å‡ºæœåŠ¡è¯·æ±‚ï¼Œ å¼‚å¸¸æ˜¯æ¥æºäºä¸è‰¯çš„åº”ç”¨ç¨‹åºçš„éæ³•æŒ‡ä»¤ ä¸­æ–­æ˜¯æ¥è‡ªä¸åŒç¡¬ä»¶è®¾å¤‡åˆ°é¢è®¡æ—¶å™¨å’Œç½‘ç»œçš„ä¸­æ–­ æˆ‘ä»¬ä¸èƒ½è®©åº”ç”¨ç¨‹åºç›´æ¥è®¿é—®å¤–è®¾ï¼Œè¿™ä¸å®‰å…¨ï¼Œå¦å¤–OSå¯ä»¥æä¾›æ›´å¥½çš„å€Ÿå£ï¼Œé€šç”¨å¯ç§»æ¤ ä¸­æ–­å¤„ç† ä¿å­˜ç°åœºã€æŸ¥è¡¨ã€ä¸­æ–­å¤„ç†ã€æ¸…æ¥šä¸­æ–­æ ‡å¿—ã€æ¢å¤ç°åœº","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ“ä½œç³»ç»Ÿçš„å¯åŠ¨ DISKä¸­æ”¾æ“ä½œç³»ç»Ÿï¼ŒBIOSæ˜¯åŸºæœ¬çš„IOç³»ç»Ÿï¼Œæ£€æµ‹å¤–è®¾ï¼ŒBootloaderèƒ½å¤ŸåŠ è½½OSï¼ŒBIOSä»CSæ®µå¯„å­˜å™¨;IPæŒ‡ä»¤å¯„å­˜å™¨å¼€å§‹æ‰§è¡Œï¼Œç„¶åBIOSä¼šPOST(åŠ ç”µè‡ªæ£€)ï¼Œç„¶åBIOSæ‰¾åˆ°bootloaderåŠ è½½Bootloaderï¼Œå¹¶ä¼ é€’æ§åˆ¶æƒ,ç„¶åBootloaderæ‰¾åˆ°OSï¼Œè¯»åˆ°å†…å­˜å§æ§åˆ¶æƒäº¤ç»™OS æ“ä½œç³»ç»Ÿçš„ä¸­æ–­ã€ç³»ç»Ÿè°ƒç”¨ã€å¼‚å¸¸ ç³»ç»Ÿè°ƒç”¨æ˜¯åº”ç”¨ç¨‹åºä¸»åŠ¨æƒ³æ“ä½œç³»ç»Ÿå‘å‡ºæœåŠ¡è¯·æ±‚ï¼Œ å¼‚å¸¸æ˜¯æ¥æºäºä¸è‰¯çš„åº”ç”¨ç¨‹åºçš„éæ³•æŒ‡ä»¤ ä¸­æ–­æ˜¯æ¥è‡ªä¸åŒç¡¬ä»¶è®¾å¤‡åˆ°é¢è®¡æ—¶å™¨å’Œç½‘ç»œçš„ä¸­æ–­ æˆ‘ä»¬ä¸èƒ½è®©åº”ç”¨ç¨‹åºç›´æ¥è®¿é—®å¤–è®¾ï¼Œè¿™ä¸å®‰å…¨ï¼Œå¦å¤–OSå¯ä»¥æä¾›æ›´å¥½çš„å€Ÿå£ï¼Œé€šç”¨å¯ç§»æ¤ ä¸­æ–­å¤„ç† ä¿å­˜ç°åœºã€æŸ¥è¡¨ã€ä¸­æ–­å¤„ç†ã€æ¸…æ¥šä¸­æ–­æ ‡å¿—ã€æ¢å¤ç°åœº å¼‚å¸¸å¤„ç† ä¿å­˜ç°åœºã€æŸ¥è¡¨ã€å¼‚å¸¸å¤„ç†(æ€æ­»ç¨‹åºæˆ–è€…é‡æ–°æ‰§è¡Œå¼‚å¸¸æŒ‡ä»¤)ã€æ¢å¤ç°åœº ç³»ç»Ÿè°ƒç”¨ printf(..); ä¼šè§¦å‘ç³»ç»Ÿè°ƒç”¨write(); ç¨‹åºä¸»è¦æ˜¯ç”¨é«˜å±‚æ¬¡APIè€Œä¸æ˜¯ç³»ç»Ÿè°ƒç”¨ï¼Œç”¨æˆ·æ˜¯ä¸çŸ¥é“ç³»ç»Ÿè°ƒç”¨æ€ä¹ˆå®ç°çš„ã€‚ ç”¨æˆ·æ€ æ˜¯ä¸€ä¸ªcpuçŠ¶æ€ï¼Œæœ‰ä¸€éƒ¨åˆ†æƒé™ å†…æ ¸æ€ æœ‰æ›´å¤šæƒé™ ç³»ç»Ÿè°ƒç”¨ ä¼šå‘ç”Ÿç”¨æˆ·æ€åˆ°å†…æ ¸æ€çš„è½¬åŒ– æ“ä½œç³»ç»Ÿçš„å¼€é”€ å»ºç«‹ä¸­æ–­ã€å¼‚å¸¸ã€ç³»ç»Ÿè°ƒç”¨å·ä¸ç›¸å°æœåŠ¡çš„å¼€é”€ï¼Œå»ºç«‹å†…æ ¸å †æ ˆçš„å¼€é”€ï¼ŒéªŒè¯ç”¨æˆ·ç¨‹åºå‘å‡ºçš„å‚æ•°çš„å¼€é”€ï¼Œå†…æ ¸æ€æ˜ å°„ç”¨æˆ·æ€çš„æ—¶å€™é¡µé¢æ˜ å°„æƒé™æ›´æ–°çš„å¼€é”€ï¼ŒTLBçš„å¼€é”€","categories":[{"name":"æ“ä½œç³»ç»Ÿ","slug":"æ“ä½œç³»ç»Ÿ","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"},{"name":"OS","slug":"æ“ä½œç³»ç»Ÿ/OS","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/OS/"}],"tags":[]},{"title":"æ“ä½œç³»ç»Ÿ1-æ“ä½œç³»ç»Ÿ","slug":"æ“ä½œç³»ç»Ÿ/OS/æ“ä½œç³»ç»Ÿ1-æ“ä½œç³»ç»Ÿ/index","date":"2020-04-01T08:30:23.000Z","updated":"2020-04-01T08:30:23.000Z","comments":true,"path":"Q83OYN.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q83OYN.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ“ä½œç³»ç»Ÿæ˜¯ä»€ä¹ˆ æ˜¯ä¸€ä¸ªæ§åˆ¶è½¯ä»¶ï¼Œèƒ½ç®¡ç†åº”ç”¨ç¨‹åºï¼Œä¸ºåº”ç”¨ç¨‹åºæä¾›æœåŠ¡ï¼Œæ€æ­»åº”ç”¨ç¨‹åºï¼Œèƒ½å¤Ÿåˆ†é…èµ„æºï¼Œèƒ½å¤Ÿç®¡ç†å¤–éƒ¨è®¾å¤‡ï¼Œæ‰¿ä¸Šå¯ä¸‹ï¼Œç¡¬ä»¶ä¹‹ä¸Šï¼Œåº”ç”¨ç¨‹åºä¹‹ä¸‹ï¼Œ Kernel CPUè°ƒåº¦,ç‰©ç†å†…å­˜ç®¡ç†ï¼Œè™šæ‹Ÿå†…å­˜ç®¡ç†ï¼Œæ–‡ä»¶ç³»ç»Ÿç®¡ç†ï¼Œä¸­æ–­å¤„ç†å’Œè®¾å¤‡é©±åŠ¨ Kernelç‰¹å¾ å¹¶å‘ï¼Œå…±äº«(1åœ¨ä¸€ä¸ªæ—¶é—´ç‚¹ï¼Œåªæœ‰ä¸€ä¸ªç¨‹åºèƒ½å¤Ÿè®¿é—®2åŒæ—¶è®¿é—®)ï¼Œè™šæ‹Ÿï¼ˆåˆ©ç”¨å¤šåˆ°ç¨‹åºè®¾è®¡æŠ€æœ¯ï¼Œè®©æ¯ä¸ªç”¨æˆ·éƒ½è§‰å¾—æœ‰ä¸€ä¸ªè®¡ç®—æœºä¸ºä»–æœåŠ¡ï¼‰ï¼Œå¼‚æ­¥(ç¨‹åºèµ°èµ°åœåœï¼Œè€Œä¸æ˜¯ä¸€ç›´èµ°)","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ“ä½œç³»ç»Ÿæ˜¯ä»€ä¹ˆ æ˜¯ä¸€ä¸ªæ§åˆ¶è½¯ä»¶ï¼Œèƒ½ç®¡ç†åº”ç”¨ç¨‹åºï¼Œä¸ºåº”ç”¨ç¨‹åºæä¾›æœåŠ¡ï¼Œæ€æ­»åº”ç”¨ç¨‹åºï¼Œèƒ½å¤Ÿåˆ†é…èµ„æºï¼Œèƒ½å¤Ÿç®¡ç†å¤–éƒ¨è®¾å¤‡ï¼Œæ‰¿ä¸Šå¯ä¸‹ï¼Œç¡¬ä»¶ä¹‹ä¸Šï¼Œåº”ç”¨ç¨‹åºä¹‹ä¸‹ï¼Œ Kernel CPUè°ƒåº¦,ç‰©ç†å†…å­˜ç®¡ç†ï¼Œè™šæ‹Ÿå†…å­˜ç®¡ç†ï¼Œæ–‡ä»¶ç³»ç»Ÿç®¡ç†ï¼Œä¸­æ–­å¤„ç†å’Œè®¾å¤‡é©±åŠ¨ Kernelç‰¹å¾ å¹¶å‘ï¼Œå…±äº«(1åœ¨ä¸€ä¸ªæ—¶é—´ç‚¹ï¼Œåªæœ‰ä¸€ä¸ªç¨‹åºèƒ½å¤Ÿè®¿é—®2åŒæ—¶è®¿é—®)ï¼Œè™šæ‹Ÿï¼ˆåˆ©ç”¨å¤šåˆ°ç¨‹åºè®¾è®¡æŠ€æœ¯ï¼Œè®©æ¯ä¸ªç”¨æˆ·éƒ½è§‰å¾—æœ‰ä¸€ä¸ªè®¡ç®—æœºä¸ºä»–æœåŠ¡ï¼‰ï¼Œå¼‚æ­¥(ç¨‹åºèµ°èµ°åœåœï¼Œè€Œä¸æ˜¯ä¸€ç›´èµ°) æ“ä½œç³»ç»Ÿå®ä¾‹ Unix,Linux,Windowsç­‰","categories":[{"name":"æ“ä½œç³»ç»Ÿ","slug":"æ“ä½œç³»ç»Ÿ","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"},{"name":"OS","slug":"æ“ä½œç³»ç»Ÿ/OS","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/OS/"}],"tags":[]},{"title":"JavaåŸºç¡€","slug":"Language/Java/JavaåŸºç¡€/index","date":"2020-03-31T15:19:56.000Z","updated":"2020-04-09T13:01:41.000Z","comments":true,"path":"Q82D98.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q82D98.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Automicæ˜¯ä¸€ä¸ªåŸå­ç±»å‹åŒ…,å…¶ä¸­åŒ…å«äº†AtomicBoolean,AtomicInteger,AtomicLongç­‰ï¼Œ åŸå­æ“ä½œè¯´æ˜¯è¿™æ ·è¯´çš„ï¼Œç„¶è€Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„ç‰©ç†æœºå™¨éƒ½æ”¯æŒåŸå­æŒ‡ä»¤ï¼Œæ‰€ä»¥ä¸èƒ½ä¿è¯ä¸è¢«é˜»å¡ï¼Œä¸€èˆ¬è€Œè¨€ï¼Œé‡‡ç”¨çš„CAS+volatile+nativeçš„æ–¹æ³•ï¼Œé¿å…synchronizedçš„ä½¿ç”¨ï¼Œå¦‚æœä¸æ”¯æŒCASé‚£å°±ä¸Šè‡ªæ—‹é”äº†","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Automicæ˜¯ä¸€ä¸ªåŸå­ç±»å‹åŒ…,å…¶ä¸­åŒ…å«äº†AtomicBoolean,AtomicInteger,AtomicLongç­‰ï¼Œ åŸå­æ“ä½œè¯´æ˜¯è¿™æ ·è¯´çš„ï¼Œç„¶è€Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„ç‰©ç†æœºå™¨éƒ½æ”¯æŒåŸå­æŒ‡ä»¤ï¼Œæ‰€ä»¥ä¸èƒ½ä¿è¯ä¸è¢«é˜»å¡ï¼Œä¸€èˆ¬è€Œè¨€ï¼Œé‡‡ç”¨çš„CAS+volatile+nativeçš„æ–¹æ³•ï¼Œé¿å…synchronizedçš„ä½¿ç”¨ï¼Œå¦‚æœä¸æ”¯æŒCASé‚£å°±ä¸Šè‡ªæ—‹é”äº† æ¥å£ log4jMavenä¾èµ–12345&lt;dependency&gt; &lt;groupId&gt;log4j&lt;/groupId&gt; &lt;artifactId&gt;log4j&lt;/artifactId&gt; &lt;version&gt;1.2.17&lt;/version&gt;&lt;/dependency&gt; log4j.properties1234567891011121314151617181920log4j.rootLogger=all, stdout, logfile&lt;!--more--&gt;#æ—¥å¿—è¾“å‡ºä½ç½®ä¸ºæ§åˆ¶å°#ï¼ˆConsoleAppenderï¼‰æ§åˆ¶å°log4j.appender.stdout=org.apache.log4j.ConsoleAppenderlog4j.appender.stdout.Target=System.errlog4j.appender.stdout.layout=org.apache.log4j.PatternLayoutlog4j.appender.stdout.layout.ConversionPattern=%d&#123;yyyy-MM-dd HH\\:mm\\:ss&#125; %l %F %p %m%n#æ—¥å¿—è¾“å‡ºä½ç½®ä¸ºæ–‡ä»¶#ï¼ˆRollingFileAppenderï¼‰log4j.appender.logfile=org.apache.log4j.RollingFileAppender#æ—¥å¿—æ–‡ä»¶ä½ç½®log4j.appender.logfile.File=log/log.loglog4j.appender.logfile.layout=org.apache.log4j.PatternLayoutlog4j.appender.logfile.Append = truelog4j.appender.logfile.MaxFileSize=1MBlog4j.appender.logfile.layout.ConversionPattern=%d&#123;yyyy-MM-dd HH\\:mm\\:ss&#125; %l %F %p %m%n ç”¨æ³•1234567891011121314151617181920package com.wsx;import org.apache.log4j.Logger;import org.apache.log4j.PropertyConfigurator;public class Test &#123; public static void main(String[] args) &#123; Logger logger = Logger.getLogger(Test.class); logger.info(&quot;info&quot;); logger.debug(&quot; debug &quot;); logger.debug(&quot; debug &quot;); logger.debug(&quot; debug &quot;); logger.debug(&quot; debug &quot;); logger.debug(&quot; debug &quot;); logger.debug(&quot; debug &quot;); logger.error(&quot; error &quot;); logger.error(&quot; error &quot;); logger.error(&quot; error &quot;); &#125;&#125; SLF4J logçš„å®ç°å¤ªå¤šäº†ï¼Œlog4j,logBack,jdklog,ä»¥åæƒ³æ¢æ€ä¹ˆåŠå‘¢ï¼Ÿ Simple Logging Facade for Java å°±åƒå’ŒJDBCä¸€æ ·ï¼ŒSLF4JæŠŠæ‰€æœ‰çš„æ—¥å¿—æ¡†æ¶è¿æ¥èµ·æ¥ äº”ä¸ªçº§åˆ« trace,debug,info,warn,error å•¥äº‹ä¸å¹²ï¼Œå†™ä¸‹é¢çš„ä»£ç  123456789101112131415package com.wsx;import org.slf4j.LoggerFactory;import org.slf4j.Logger;public class Test &#123; public static void main(String[] args) &#123; Logger logger = LoggerFactory.getLogger(Test.class); logger.trace(&quot;trace&quot;); logger.debug(&quot;debug&quot;); logger.info(&quot;info&quot;); logger.warn(&quot;warn&quot;); logger.error(&quot;error&quot;); &#125;&#125; å¾—åˆ°äº† 123422:23:01.931 [main] DEBUG com.wsx.Slf4jStudy - debug22:23:01.940 [main] INFO com.wsx.Slf4jStudy - info22:23:01.941 [main] WARN com.wsx.Slf4jStudy - warn22:23:01.941 [main] ERROR com.wsx.Slf4jStudy - error logback å†™ä¸€ä¸ªlogback.xml appender åé¢æ˜¯logçš„åå­—ï¼Œå†å¾€åæ˜¯è¾“å‡ºä½ç½®ï¼šæ–‡ä»¶æˆ–è€…æ§åˆ¶å° levelåé¢è·Ÿçº§åˆ«ï¼Œè¡¨ç¤ºè¾“å‡ºå“ªäº›ä¸œè¥¿ 1234567891011121314151617181920212223242526272829303132&lt;configuration&gt; &lt;!-- 1.èµ·åˆ«å 2.æœåŠ¡å™¨ä¸Šè·‘çš„é¡¹ç›®å¤šçš„æ—¶å€™å¯ä»¥å¥½çš„åŒºåˆ† --&gt; &lt;contextName&gt;play_dice&lt;/contextName&gt; &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt; &lt;!-- è°ƒæ•´è¾“å‡ºçš„æ ¼å¼ --&gt; &lt;encoder&gt; &lt;pattern&gt;%date&#123;HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;35&#125; - %msg%n&lt;/pattern&gt; &lt;/encoder&gt; &lt;/appender&gt; &lt;!-- 1.key:å¯¹åº”çš„æ˜¯åŠ¨æ€çš„æ–‡ä»¶å 2.datePattern:æ˜¯åŠ¨æ€ç”Ÿæˆçš„æ—¶é—´æ ¼å¼ --&gt; &lt;timestamp key=&quot;bySecond&quot; datePattern=&quot;yyyyMMdd&#x27;T&#x27;HHmmss&quot;/&gt; &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt; &lt;!-- åŠ¨æ€è®¾ç½®æ—¥å¿—çš„æ–‡ä»¶å --&gt; &lt;!--&lt;file&gt;D:\\æ—¥å¿—\\log-$&#123;bySecond&#125;.txt&lt;/file&gt;--&gt; &lt;append&gt;false&lt;/append&gt;&lt;!-- æ¯æ¬¡ä¸€æ›´æ–°å°±æ˜¯æ–°çš„ --&gt; &lt;encoder&gt; &lt;pattern&gt;%date&#123;HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;35&#125; - %msg%n&lt;/pattern&gt; &lt;/encoder&gt; &lt;/appender&gt; &lt;!-- è®¾ç½®è¾“å‡ºçš„ç­‰çº§ --&gt; &lt;root level=&quot;tarce&quot;&gt; &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;&lt;!-- è¾“å‡ºåˆ°æ§åˆ¶å° --&gt; &lt;appender-ref ref=&quot;FILE&quot;/&gt;&lt;!-- è¾“å‡ºåˆ°æ–‡ä»¶ä¸­ --&gt; &lt;/root&gt;&lt;/configuration&gt; ç®€åŒ– æ³¨é‡Šå¤ªçƒ¦äº†ï¼Œæˆ‘ä»¬ç»™ä»–å…¨åˆ æ‰ï¼Œä½¿ç”¨ä¸‹é¢çš„vimæŒ‡ä»¤ \\vä»£è¡¨å­—ç¬¦æ¨¡å¼ï¼ŒæŠŠæ‰€æœ‰çš„ç‰¹æ®Šå­—ç¬¦çœ‹ç€ç‰¹æ®Šæ„ä¹‰ (.|\\n)å¯ä»¥åŒ¹é…æ‰€æœ‰çš„å­—ç¬¦ {-}æ˜¯*çš„éè´ªå©ªåŒ¹é… 1%s/\\v\\&lt;!--(.|\\n)&#123;-&#125;--\\&gt;//g ä¼šåˆ°logbackä¸­ %dateæ˜¯æ—¶é—´ï¼Œ%threadæ˜¯çº¿ç¨‹ï¼Œlevelæ˜¯çº§åˆ«ï¼Œ-æ˜¯å·¦å¯¹é½ï¼Œ%loggeræŒ‡åå­—ï¼Œ%msgæ˜¯æ—¥å¿—è¾“å‡º %næ˜¯æ¢è¡Œ 123456789101112131415161718&lt;configuration&gt; &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt; &lt;encoder&gt; &lt;pattern&gt;%date&#123;HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;35&#125; - %msg%n&lt;/pattern&gt; &lt;/encoder&gt; &lt;/appender&gt; &lt;timestamp key=&quot;bySecond&quot; datePattern=&quot;yyyyMMdd&#x27;T&#x27;HHmmss&quot;/&gt; &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt; &lt;append&gt;false&lt;/append&gt; &lt;encoder&gt; &lt;pattern&gt;%date&#123;HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;35&#125; - %msg%n&lt;/pattern&gt; &lt;/encoder&gt; &lt;/appender&gt; &lt;root level=&quot;tarce&quot;&gt; &lt;appender-ref ref=&quot;STDOUT&quot;/&gt; &lt;appender-ref ref=&quot;FILE&quot;/&gt; &lt;/root&gt;&lt;/configuration&gt; ç»†èŠ‚1logger.info(&quot;hello &#123;&#125; &#123;&#125; &#123;&#125;&quot;,&quot;I&quot;,&quot;am&quot;,&quot;wsx&quot;);","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"}],"tags":[]},{"title":"ç¬›å¡å°”æ ‘","slug":"æ•°æ®ç»“æ„/ç¬›å¡å°”æ ‘/index","date":"2020-03-30T13:36:47.000Z","updated":"2020-03-30T13:36:47.000Z","comments":true,"path":"Q80DTB.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q80DTB.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ç¬›å¡å°”æ ‘ è¿™ä¸ªç¬›å¡å°”æ ‘æ²¡å†™å‡ºæ¥ï¼Œæ°”æ­»äº† ä»–æ˜¯äºŒå‰æ ‘ï¼Œä»–æ˜¯å †ï¼ŒäºŒå‰æ ‘ä¸­åºéå†çš„ç»“æœå°±æ˜¯æ•°ç»„a ç¬›å¡å°”æ ‘çš„æ„é€  å…ˆçœ‹ä¸€ä¸ªç®€å•çš„ç¬›å¡å°”æ ‘ æˆ‘ä»¬ä½¿ç”¨å¢é‡æ„å»ºç¬›å¡å°”æ ‘æ¥å®Œæˆï¼Œå°±å’Œå¢é‡æ„å»ºåç¼€è‡ªåŠ¨æœºä¸€æ ·å®¹æ˜“ã€‚æˆ‘ä»¬æ¥å¯¹xåˆ†ç±»è®¨è®ºå¦‚æœxæ¯”5å°æ€ä¹ˆæ ·ï¼Œå¦‚ä¸‹å¦‚æœxåœ¨5å’Œ7ä¹‹é—´å¦‚æœxåœ¨7å’Œ9ä¹‹é—´å¦‚æœxæ¯”9å¤§å‘¢ æˆ‘ä»¬ä¸éš¾å‘ç°ï¼Œæ¯å½“å¢åŠ ä¸€ä¸ªæ–°çš„å€¼çš„æ—¶å€™ï¼Œç¬›å¡å°”æ ‘å˜åŒ–çš„ä¸€å®šåªæœ‰ä»æ ¹ä¸€ç›´å‘å³èµ°çš„è·¯å¾„ï¼Œæˆ‘ä»¬å¯ä»¥æƒ³å‡ºä¸€ä¸ªå¾ˆç®€å•çš„æ–¹æ³•ï¼Œæ¯æ¬¡æ–°å¢åŠ å€¼a[i+1]çš„æ—¶å€™ï¼Œè®©ä»–ä¸æ–­å’Œå³é“¾æ¯”è¾ƒï¼Œæ‰¾åˆ°lower_boundçš„åœ°æ–¹ï¼Œç„¶åæ’å…¥åˆ°é‚£å»å°±å¯ä»¥äº†ã€‚ è¿›ä¸€æ­¥å‘ç°ï¼Œä¸Šè¯‰ä»£ç éœ€è¦ç»´æŠ¤æŒ‡å‘çˆ¶äº²çš„æŒ‡é’ˆï¼Œæˆ‘ä»¬è€ƒè™‘åˆ°ç”¨ä¸€ä¸ªæ ˆæ¥ç»´æŠ¤å³é“¾ï¼Œæ ˆä½ä¸ºæ ¹ï¼Œæ ˆé¡¶ä¸ºå¶å­ï¼Œåœ¨å¼¹æ ˆçš„æ—¶å€™ç»´æŠ¤å³å„¿å­æŒ‡é’ˆï¼Œåœ¨å‹æ ˆçš„æ—¶å€™ç»´æŠ¤å·¦å„¿å­æŒ‡é’ˆå³å¯ã€‚ä»£ç å¦‚ä¸‹ 1234567891011121314int n;int a[N]; // a[1], a[2], a[3], a[4] ... a[n]int l[N],r[N]; // 0ä¸ºç©ºæŒ‡é’ˆint s[N],top; //æ ˆvoid build()&#123; s[++top]=1;// æŠŠèµ·ç‚¹å‹æ ˆ for(int i=2;i&lt;=n;i++)&#123; //r[i]=l[i]=0; while(top&amp;&amp;a[s[top]]&lt;=a[i]) l[i]=s[top--]; //å¼¹æ ˆçš„æ—¶å€™ç»´æŠ¤å·¦å„¿å­æŒ‡é’ˆ if(top) r[s[top]]=i; // å‹æ ˆçš„æ—¶å€™ç»´æŠ¤å³å„¿å­æŒ‡é’ˆ s[++top]=i; &#125; // è¿”å›çš„æ—¶å€™æ ˆé¡¶ä¸ºæ ¹&#125;","categories":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"http://fightinggg.github.io/indigo/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}],"tags":[]},{"title":"é˜¿é‡Œç¬”è¯•","slug":"å®ä¹ /ç¬”è¯•/é˜¿é‡Œç¬”è¯•/index","date":"2020-03-30T13:13:03.000Z","updated":"2020-03-30T13:13:03.000Z","comments":true,"path":"Q80CPR.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q80CPR.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial é˜¿é‡Œç¬”è¯• æ„Ÿè§‰å¾ˆéš¾å—ï¼Œç¬›å¡å°”æ ‘æ²¡å†™å‡ºæ¥ï¼Œæ°”æ­»äº†ï¼Œæˆ‘å’‹è¿™ä¹ˆèœ ç¬¬ä¸€é¢˜ æœ‰nä¸ªç¾Šåœˆï¼Œç¬¬iä¸ªç¾Šåœˆåˆå§‹æœ‰a[i]ä¸ªç¾Šï¼Œæ¯å¤©æ—©ä¸Šæ¯ä¸ªç¾Šåœˆä¼šå¢åŠ kçš„ç¾Šï¼Œæ¯å¤©æ™šä¸Šä¸»äººä¼šé€‰å‡ºç¾Šåœˆä¸­ç¾Šæœ€å¤šçš„é‚£ä¸ªï¼Œå–æ‰ä¸€åŠï¼Œå˜ä¸º$\\lfloor \\frac{a[i]}{2}\\rfloor$ä¸ªç¾Šï¼Œé—®må¤©åå‰©ä¸‹å¤šå°‘åªç¾Šã€‚ n,k,m,a[i]&lt;1e5 æ¯å¤©å¢åŠ æœ¬è´¨æ˜¯åŒºé—´åŠ æ³•ï¼Œå¯»æ‰¾ç¾Šæœ€å¤šçš„æ˜¯åŒºé—´æœ€å€¼æŸ¥è¯¢ï¼Œå‡åŠæ˜¯å•ç‚¹ä¿®æ”¹ï¼Œç¬¬ä¸€æƒ³åˆ°çº¿æ®µæ ‘ï¼Œä½†æ˜¯è¿™ä¹ˆæ•²ä¹Ÿå¤ªè½æ’äº†ï¼Œç„¶åå‘ç°åŒºé—´ä¿®æ”¹ä¸ºå…¨åŒºé—´ä¿®æ”¹ï¼Œè€ƒè™‘åˆ°å¯ä»¥æ‡’æƒ°åŒ–ï¼Œå³å¢åŠ ä¸€ä¸ªå€¼addç”¨æ¥è¡¨ç¤ºå…¨åŒºé—´å¢å¤§çš„æƒ…å†µã€‚åŒºé—´åŠ æ³•çš„æ—¶å€™è®©add+&#x3D;kå³å¯ï¼ŒæŸ¥è¯¢çš„æ—¶å€™æ˜¯æœ€å€¼æŸ¥è¯¢ï¼Œä¿®æ”¹çš„æ—¶å€™æ³¨æ„$\\lfloor \\frac{a[i]+add}{2}-add\\rfloor$,è¿™æ ·ç”¨ä¸€ä¸ªå¤šé‡é›†åˆç»´æŠ¤å³å¯ ç¬¬äºŒé¢˜ ç»™ä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•°ç»„ï¼Œä»»æ„é€‰æ‹©ä¸€ä¸ªå­ä¸²ï¼Œé—®æœ€å¤§å€¼çš„æœŸæœ›, n&lt;1e6 ç¬›å¡å°”æ ‘çš„æ¿å­é¢˜ï¼Œå¤ªä¸¢äººäº†ï¼Œæ²¡åšå‡ºæ¥ï¼Œè€ƒè™‘å»ºä¸€é¢—ç¬›å¡å°”æ ‘ï¼Œé‚£ä¹ˆåŒºé—´æœ€å€¼å°±æ˜¯æ ‘æ ¹ï¼Œæ ‘å½¢dpç»´æŠ¤å­æ ‘å¤§å°ï¼Œdfsç»Ÿè®¡ç­”æ¡ˆã€‚ ä»£ç ç¥­å¤©,ä¸‹æ¬¡ä¸€å®šåˆ†æƒ…å†µè®¨è®ºï¼Œå…ˆå†™ä¸ªæš´åŠ›åç‚¹åˆ†ï¼Œä¸ç„¶ç¬›å¡å°”æ ‘æ²¡æå¥½ï¼Œæš´åŠ›ä¹Ÿæ²¡å†™å¤ªæƒ¨äº†ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566#include &lt;bits/stdc++.h&gt;using namespace std;int read() &#123; int x; scanf(&quot;%d&quot;, &amp;x); return x;&#125;const int N = 1e6 + 6;int l[N], r[N], siz[N], a[N];int n;int s[N], top;double dfs(int rt) &#123; if (rt == 0) return 0; double ans = dfs(l[rt]) + dfs(r[rt]); siz[rt] = siz[l[rt]] + siz[r[rt]] + 1; double ls = siz[l[rt]] + 1; double rs = siz[r[rt]] + 1; ans += a[rt] * ls * rs / n / (n + 1) * 2; return ans;&#125;double f2() &#123; top = 0; s[++top] = 1; for (int i = 2; i &lt;= n; i++) &#123; while(top&amp;&amp;a[s[top]]&lt;=a[i]) l[i]=s[top--]; if(top) r[s[top]]=i; s[++top]=i; &#125; return dfs(s[1]);&#125;double f1() &#123; static int mx[10005][10005]; for (int i = 1; i &lt;= n; i++) &#123; mx[i][i] = a[i]; for (int j = i + 1; j &lt;= n; j++) mx[i][j] = max(mx[i][j - 1], a[j]); &#125; double ans = 0; for (int i = 1; i &lt;= n; i++) &#123; for (int j = i; j &lt;= n; j++) &#123; ans += mx[i][j]; &#125; &#125; return ans / n / (n + 1) * 2;&#125;int main() &#123; while (true) &#123; n = 1e3; for (int i = 0; i &lt;= n + 10; i++) a[i] = rand() % 10, l[i] = r[i] = siz[i] = 0; double ans1 = f1(); double ans2 = f2(); printf(&quot;%.6f %.6f\\n&quot;, ans1, ans2); fflush(stdout); assert(fabs(ans1-ans2)&lt;1e-8); &#125; n = read(); for (int i = 1; i &lt;= n; i++) a[i] = read(); printf(&quot;%.6f\\n&quot;, f2()); printf(&quot;%.6f\\n&quot;, f1());&#125;","categories":[{"name":"å®ä¹ ","slug":"å®ä¹ ","permalink":"http://fightinggg.github.io/indigo/categories/%E5%AE%9E%E4%B9%A0/"},{"name":"ç¬”è¯•","slug":"å®ä¹ /ç¬”è¯•","permalink":"http://fightinggg.github.io/indigo/categories/%E5%AE%9E%E4%B9%A0/%E7%AC%94%E8%AF%95/"}],"tags":[]},{"title":"P1368æœ€å°è¡¨ç¤ºæ³•","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ´›è°·/P1368æœ€å°è¡¨ç¤ºæ³•/index","date":"2020-03-28T11:19:57.000Z","updated":"2020-03-28T11:19:57.000Z","comments":true,"path":"Q7WI59.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q7WI59.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial é¢˜ç›®æè¿°å°æ•å’Œå°ç‡•æ˜¯ä¸€å¯¹å¥½æœ‹å‹ã€‚ä»–ä»¬æ­£åœ¨ç©ä¸€ç§ç¥å¥‡çš„æ¸¸æˆï¼Œå« Minecraftã€‚ä»–ä»¬ç°åœ¨è¦åšä¸€ä¸ªç”±æ–¹å—æ„æˆçš„é•¿æ¡å·¥è‰ºå“ã€‚ä½†æ˜¯æ–¹å—ç°åœ¨æ˜¯ä¹±çš„ï¼Œè€Œä¸”ç”±äºæœºå™¨çš„è¦æ±‚ï¼Œä»–ä»¬åªèƒ½åšåˆ°æŠŠè¿™ä¸ªå·¥è‰ºå“æœ€å·¦è¾¹çš„æ–¹å—æ”¾åˆ°æœ€å³è¾¹ã€‚ä»–ä»¬æƒ³ï¼Œåœ¨ä»…è¿™ä¸€ä¸ªæ“ä½œä¸‹ï¼Œæœ€æ¼‚äº®çš„å·¥è‰ºå“èƒ½å¤šæ¼‚äº®ã€‚ä¸¤ä¸ªå·¥è‰ºå“ç¾è§‚çš„æ¯”è¾ƒæ–¹æ³•æ˜¯ï¼Œä»å¤´å¼€å§‹æ¯”è¾ƒï¼Œå¦‚æœç¬¬i ä¸ªä½ç½®ä¸Šæ–¹å—ä¸ä¸€æ ·é‚£ä¹ˆè°çš„ç‘•ç–µåº¦å°ï¼Œé‚£ä¹ˆè°å°±æ›´æ¼‚äº®ï¼Œå¦‚æœä¸€æ ·é‚£ä¹ˆç»§ç»­æ¯”è¾ƒç¬¬i+1 ä¸ªæ–¹å—ã€‚å¦‚æœå…¨éƒ½ä¸€æ ·ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªå·¥è‰ºå“å°±ä¸€æ ·æ¼‚äº®ã€‚ è¾“å…¥æ ¼å¼ç¬¬ä¸€è¡Œä¸€ä¸ªæ•´æ•° nï¼Œä»£è¡¨æ–¹å—çš„æ•°ç›®ã€‚ç¬¬äºŒè¡Œ n ä¸ªæ•´æ•°ï¼Œæ¯ä¸ªæ•´æ•°æŒ‰ä»å·¦åˆ°å³çš„é¡ºåºè¾“å‡ºæ–¹å—ç‘•ç–µåº¦çš„å€¼ã€‚ è¾“å‡ºæ ¼å¼ä¸€è¡Œn ä¸ªæ•´æ•°ï¼Œä»£è¡¨æœ€ç¾è§‚å·¥è‰ºå“ä»å·¦åˆ°å³ç‘•ç–µåº¦çš„å€¼ã€‚ è¾“å…¥æ ·ä¾‹121010 9 8 7 6 5 4 3 2 1 è¾“å‡ºæ ·ä¾‹11 10 9 8 7 6 5 4 3 2 æ•°æ®èŒƒå›´n&lt;3e5 åšæ³•1 ç»´æŠ¤ä¸¤ä¸ªæŒ‡é’ˆi,jè®©å…¶è¡¨ç¤ºä¸¤ä¸ªå­ä¸²ï¼Œå¼€å§‹å‘ååŒ¹é…ï¼Œç›´åˆ°åŒ¹é…å¤±è´¥ï¼Œåˆ™S[i+k]å’ŒS[j+k]ä¸ä¸€æ ·äº†ï¼Œå¯ä»¥è¯æ˜å¦‚æœS[i+k]å°ï¼Œåˆ™æœ€å°è¡¨ç¤ºæ³•ä¸€å®šä¸åœ¨åŒºé—´[i,i+k]ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è®©i&#x3D;i+k+1;jåŒç†ï¼Œå¤æ‚åº¦On 12345678910111213141516171819202122#include &lt;bits/stdc++.h&gt;using namespace std;int v[300000 + 5];int main() &#123; int n; scanf(&quot;%d&quot;, &amp;n); for (int i = 0; i &lt; n; i++) scanf(&quot;%d&quot;, v + i); int i = 0, j = 1, k = 0; while (i &lt; n &amp;&amp; j &lt; n &amp;&amp; k &lt; n) &#123; if (v[(i + k) % n] == v[(j + k) % n]) k++; else &#123; v[(i + k) % n] &lt; v[(j + k) % n] ? j += k + 1 : i += k + 1; k = 0; if (i == j) j++; &#125; &#125; int ans = min(i, j); for (int x = 0; x &lt; n; x++) printf(&quot;%d &quot;, v[(ans + x) % n]);&#125; åšæ³•2 åç¼€æ•°ç»„+å€å¢å­—ç¬¦ä¸² 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455#include &lt;bits/stdc++.h&gt;using namespace std;const int N = 6e5 + 5;void sort(int* sa, int* rk, int* tp, int n, int m) &#123; static int s[N]; for (int i = 0; i &lt; m; i++) s[i] = 0; //æ¸…ç©º for (int i = 0; i &lt; n; i++) s[rk[i]]++; //è®¡æ•° for (int i = 1; i &lt; m; i++) s[i] += s[i - 1]; //å‰ç¼€å’Œ for (int i = n - 1; i &gt;= 0; i--) sa[--s[rk[tp[i]]]] = tp[i]; //æŒ‰tpæšä¸¾æ’åº&#125;void getsa(int* sa, int* s, int n, int m) &#123; // s[i]&lt;m i&lt;n static int rk[N], tp[N]; // rkå’Œsaç›¸å¯¹ï¼Œtpæ˜¯æšä¸¾é¡ºåº for (int i = 0; i &lt; n; i++) rk[i] = s[i]; for (int i = 0; i &lt; n; i++) tp[i] = i; // tpæ˜¯æšä¸¾é¡ºåº sort(sa, rk, tp, n, m); // ç¬¬1è½®æ’åº for (int k = 1; k &lt;= n; k &lt;&lt;= 1) &#123; // k æ˜¯å·²ç»æ’åºå®Œæˆçš„åç¼€é•¿åº¦ for (int i = 0; i &lt; k; i++) tp[i] = n - 1 - i; // çŸ­åç¼€çš„ç¬¬äºŒå…³é”®å­—ä¸ºç©ºï¼Œæ”¾åˆ°æœ€å‰é¢ for (int t = k, i = 0; i &lt; n; i++) if (sa[i] &gt;= k) tp[t++] = sa[i] - k; // æŒ‰ç…§ç¬¬äºŒå…³é”®å­—æ’å¥½åº sort(sa, rk, tp, n, m); for (int i = 0; i &lt; n; i++) tp[i] = rk[i]; //æ‹·è´ä¸€ä»½ rk[sa[0]] = 0; for (int i = 1; i &lt; n; i++) &#123; int x = sa[i], y = sa[i - 1]; if (tp[x] == tp[y] &amp;&amp; x + k &lt; n &amp;&amp; y + k &lt; n &amp;&amp; tp[x + k] == tp[y + k]) rk[x] = rk[y]; else rk[x] = rk[y] + 1; &#125; &#125;&#125;int main() &#123; int n; scanf(&quot;%d&quot;, &amp;n); vector&lt;int&gt; v(n); for (int i = 0; i &lt; n; i++) scanf(&quot;%d&quot;, &amp;v[i]); vector&lt;int&gt; dist = v; sort(dist.begin(), dist.end()); dist.erase(unique(dist.begin(), dist.end()), dist.end()); for (int&amp; x : v) x = lower_bound(dist.begin(), dist.end(), x) - dist.begin(); for (int i = 0; i &lt; n; i++) v.push_back(v[i]); vector&lt;int&gt; sa(v.size()); getsa(sa.data(), v.data(), v.size(), v.size()); int ans = 0; while (sa[ans] &gt;= n) ans++; for (int i = 0; i &lt; n; i++) &#123; printf(&quot;%d &quot;, dist[v[sa[ans] + i]]); &#125;&#125; åšæ³•3 æ„å»ºåç¼€è‡ªåŠ¨æœº,æ¯æ¬¡èµ°æƒå€¼æœ€å°çš„è¾¹ï¼Œç”±äºæ•°æ®èŒƒå›´å¤§ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨mapï¼Œå¯¼è‡´å¤æ‚åº¦å¢åŠ è‡³nlgnï¼Œå¯è¿‡ï¼Œ ä¼˜åŒ– æ‰‹å†™hashï¼Œç»´æŠ¤æœ€å€¼ï¼Œå¤æ‚åº¦On,å¯è¿‡ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748#include &lt;bits/stdc++.h&gt;using namespace std;const int N = 6e5 + 5;int par[N &lt;&lt; 1], len[N &lt;&lt; 1];map&lt;int, int&gt; son[N &lt;&lt; 1];int p, tot;void extend(int c) &#123; // s[i]-&#x27;a&#x27; int np = ++tot; par[np] = 0; len[np] = len[p] + 1; while (son[p][c] == 0) &#123; son[p][c] = np; p = par[p]; &#125; if (p != 0 || son[p][c] != np) &#123; int q = son[p][c]; par[np] = q; if (len[q] != len[p] + 1) &#123; int nq = ++tot; son[nq] = son[q]; par[nq] = par[q]; len[nq] = len[p] + 1; par[np] = par[q] = nq; while (son[p][c] == q) &#123; son[p][c] = nq; p = par[p]; &#125; &#125; &#125; p = np;&#125;int main() &#123; ios::sync_with_stdio(false); int n;cin&gt;&gt;n; vector&lt;int&gt;s(n); for(int i=0;i&lt;n;i++) cin&gt;&gt;s[i]; for (int x : s) extend(x); for (int x : s) extend(x); for (int i = 0, cur = 0; i &lt; s.size(); i++) &#123; auto x =son[cur].begin(); cout&lt;&lt;x-&gt;first&lt;&lt;&quot; &quot;; cur=x-&gt;second; &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"æ´›è°·","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ´›è°·","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/%E6%B4%9B%E8%B0%B7/"}],"tags":[]},{"title":"Gitä½¿ç”¨æ€»ç»“","slug":"Others/Gitä½¿ç”¨æ€»ç»“/index","date":"2020-03-27T06:38:47.000Z","updated":"2020-03-29T10:48:10.000Z","comments":true,"path":"Q7UAGN.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q7UAGN.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial åˆ›å»ºå·¥ä½œç©ºé—´ æˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªå·¥ä½œç©ºé—´myGitï¼Œåœ¨å…¶ä¸­åˆ›å»ºä¸€ä¸ªé¡¹ç›®projectï¼Œæ¤å…¥ä¸¤ä¸ªæ–‡ä»¶a.txtå’Œb.txtï¼Œå¹¶åˆ†åˆ«å†™å…¥â€aâ€å’Œâ€bâ€ 123456cd ~ mkdir -p myGit/projectcd myGit/projecttouch a.txt b.txtecho &quot;a&quot; &gt;&gt; a.txtecho &quot;b&quot; &gt;&gt; b.txt åˆå§‹åŒ–git ç´§æ¥ç€æˆ‘ä»¬ç”¨gitåˆå§‹åŒ–è¿™ä¸ªé¡¹ç›® 1git init","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial åˆ›å»ºå·¥ä½œç©ºé—´ æˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªå·¥ä½œç©ºé—´myGitï¼Œåœ¨å…¶ä¸­åˆ›å»ºä¸€ä¸ªé¡¹ç›®projectï¼Œæ¤å…¥ä¸¤ä¸ªæ–‡ä»¶a.txtå’Œb.txtï¼Œå¹¶åˆ†åˆ«å†™å…¥â€aâ€å’Œâ€bâ€ 123456cd ~ mkdir -p myGit/projectcd myGit/projecttouch a.txt b.txtecho &quot;a&quot; &gt;&gt; a.txtecho &quot;b&quot; &gt;&gt; b.txt åˆå§‹åŒ–git ç´§æ¥ç€æˆ‘ä»¬ç”¨gitåˆå§‹åŒ–è¿™ä¸ªé¡¹ç›® 1git init æˆ‘ä»¬çœ‹åˆ°äº†è¾“å‡º,ä»–çš„æ„æ€æ˜¯æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªç©ºçš„gitä»“åº“ 1Initialized empty Git repository in /Users/s/myGit/project/.git/ ä»–çš„æ„æ€æ˜¯è¯´æˆ‘ä»¬çš„gitæ²¡æœ‰è¿½è¸ªä»»ä½•ä¸€ä¸ªæ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢å¯¹æŒ‡ä»¤æ¥æŸ¥çœ‹gitçš„çŠ¶æ€ 1git status ç´§æ¥ç€æˆ‘ä»¬å¾—åˆ°äº†åé¦ˆ,ä»–è¯´æ²¡æœ‰æäº¤è¿‡ï¼Œå¹¶ä¸”a.txtå’Œb.txtæ²¡æœ‰è¢«è¿½è¸ªï¼Œä»–è®©æˆ‘ä»¬ä½¿ç”¨addæ¥æ·»åŠ è¿½è¸ªã€‚ 1234567891011On branch masterNo commits yetUntracked files: (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed) a.txt b.txtnothing added to commit but untracked files present (use &quot;git add&quot; to track) æˆ‘ä»¬å°è¯•ä½¿ç”¨ä¸‹é¢çš„æŒ‡ä»¤ä¸ºa.txtè¿½è¸ª,ç„¶åå†æŸ¥çœ‹çŠ¶æ€ 12git add a.txtgit status è¿™æ—¶å€™æˆ‘ä»¬çš„åé¦ˆå°±ä¸ä¸€æ ·äº†ï¼Œä»–è¯´æˆ‘ä»¬çš„a.txtå·²ç»è¿›å…¥äº†gitçš„æš‚å­˜åŒº 1234567891011121314On branch masterNo commits yetChanges to be committed: (use &quot;git rm --cached &lt;file&gt;...&quot; to unstage) new file: a.txtUntracked files: (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed) b.txt gitçš„ç»“æ„å’ŒçŠ¶æ€gitçš„ä¸‰å±‚ç»“æ„ å·¥ä½œåŒºï¼Œå³æˆ‘ä»¬æ–‡ä»¶é»˜è®¤çš„åœ°æ–¹ï¼Œæš‚å­˜åŒºï¼Œå³gitæš‚æ—¶ä¿ç•™æ–‡ä»¶çš„åœ°æ–¹ï¼Œç‰ˆæœ¬åº“ï¼Œgitä¿å­˜æ–‡ä»¶ç‰ˆæœ¬çš„åœ°æ–¹ gitä¸­æ–‡ä»¶çš„çŠ¶æ€ æ–‡ä»¶åˆ†ä¸º4ä¸ªçŠ¶æ€ï¼Œuntrackedæœªè¢«è¿½è¸ªï¼Œmodifiedå·¥ä½œåŒºä¿®æ”¹äº†æ–‡ä»¶ï¼Œä½†æ²¡æœ‰æ·»åŠ è¿›æš‚å­˜åŒºï¼Œstagedæ·»åŠ åˆ°äº†æš‚å­˜åŒºä½†æ˜¯æ²¡æœ‰æäº¤åˆ°ç‰ˆæœ¬åº“ï¼Œconmittedæ•°æ®å®‰å…¨çš„å‚¨å­˜åœ¨äº†æœ¬åœ°åº“ä¸­ã€‚ é…ç½®git12git config --global user.email &quot;246553278@qq.com&quot;git config --global user.name &quot;fightinggg&quot; æŸ¥çœ‹gité…ç½® æˆ‘ä»¬å¯ä»¥è¾“å…¥å¦‚ä¸‹æŒ‡ä»¤æ¥æŸ¥çœ‹å½“å‰çš„gité…ç½®æƒ…å†µ 1git config --list ä¹‹åæˆ‘ä»¬å°±ä¼šçœ‹åˆ°ä¸‹é¢çš„è¾“å‡º 12345678910111213credential.helper=osxkeychainuser.name=fightinggguser.email=246553278@qq.comfilter.lfs.clean=git-lfs clean -- %ffilter.lfs.smudge=git-lfs smudge -- %ffilter.lfs.process=git-lfs filter-processfilter.lfs.required=truecore.repositoryformatversion=0core.filemode=truecore.bare=falsecore.logallrefupdates=truecore.ignorecase=truecore.precomposeunicode=true æäº¤ ç„¶åæˆ‘ä»¬å°±å¯ä»¥å°è¯•å»æäº¤æˆ‘ä»¬çš„ 1git commit -m &#x27;first commit&#x27; æˆ‘ä»¬å¾—åˆ°äº†å¦‚ä¸‹è¾“å‡º 123[master (root-commit) 913bc88] first commit 1 file changed, 1 insertion(+) create mode 100644 a.txt æŸ¥çœ‹gitæ—¥å¿— 1git log å¾—åˆ°äº†è¾“å‡º 12345commit 913bc886088dabee0af5b06351450cad60102c23 (HEAD -&gt; master)Author: fightinggg &lt;246553278@qq.com&gt;Date: Sun Mar 29 16:45:19 2020 +0800 first commit æˆ‘ä»¬å°è¯•å°†b.txtä¹Ÿæäº¤ä¸Šå» 12git add b.txtgit commit -m &#x27;second commit&#x27; å†æ¬¡æŸ¥çœ‹log 1234567891011commit fbdd818849343a78d0e6ccd8d5ce0f35d9d8b123 (HEAD -&gt; master)Author: fightinggg &lt;246553278@qq.com&gt;Date: Sun Mar 29 16:48:56 2020 +0800 second commitcommit 913bc886088dabee0af5b06351450cad60102c23Author: fightinggg &lt;246553278@qq.com&gt;Date: Sun Mar 29 16:45:19 2020 +0800 first commit æ›´å¤šçš„æ–‡ä»¶ åŠ å…¥æ›´å¤šçš„æ–‡ä»¶ 1touch a2.txt a3.txt a4.txt a5.txt å°†ä»–ä»¬å…¨éƒ¨æäº¤ 123git add .git commit -m &#x27;third commit&#x27;git log æˆ‘ä»¬ç°åœ¨çœ‹åˆ°æœ‰äº†3æ¬¡æäº¤ 1234567891011121314151617commit 9d1f0b1c3ecd11e5c629c0dd0bfdf4118ad4e999 (HEAD -&gt; master)Author: fightinggg &lt;246553278@qq.com&gt;Date: Sun Mar 29 16:52:36 2020 +0800 third commitcommit fbdd818849343a78d0e6ccd8d5ce0f35d9d8b123Author: fightinggg &lt;246553278@qq.com&gt;Date: Sun Mar 29 16:48:56 2020 +0800 second commitcommit 913bc886088dabee0af5b06351450cad60102c23Author: fightinggg &lt;246553278@qq.com&gt;Date: Sun Mar 29 16:45:19 2020 +0800 first commit ä¿®æ”¹åçš„æ–‡ä»¶ å¦‚æœæˆ‘ä»¬ä¿®æ”¹äº†ä¸€ä¸ªæ–‡ä»¶ 1echo &quot;hellp&quot; &gt;&gt; a.txtgit status æˆ‘ä»¬çœ‹åˆ°äº†gitæç¤ºæœ‰æ–‡ä»¶è¢«ä¿®æ”¹äº† 1On branch masterChanges not staged for commit: (use &quot;git add &lt;file&gt;...&quot; to update what will be committed) (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory) modified: a.txtno changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;) å°†å®ƒæäº¤ 1git commit -am &#x27;modified a.txt&#x27; çœ‹åˆ°äº†è¾“å‡º 1commit 2e625b6f5de426675e4d2edf8ce86a75acc360de (HEAD -&gt; master)Author: fightinggg &lt;246553278@qq.com&gt;Date: Sun Mar 29 16:57:43 2020 +0800 modified a.txtcommit 9d1f0b1c3ecd11e5c629c0dd0bfdf4118ad4e999Author: fightinggg &lt;246553278@qq.com&gt;Date: Sun Mar 29 16:52:36 2020 +0800 third commitcommit fbdd818849343a78d0e6ccd8d5ce0f35d9d8b123Author: fightinggg &lt;246553278@qq.com&gt;Date: Sun Mar 29 16:48:56 2020 +0800 second commitcommit 913bc886088dabee0af5b06351450cad60102c23Author: fightinggg &lt;246553278@qq.com&gt;Date: Sun Mar 29 16:45:19 2020 +0800 first commit è¿½åŠ æäº¤ å¦‚æœæˆ‘ä»¬å‘ç°ä¸Šä¸€æ¬¡çš„æäº¤æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œæˆ–è€…è¯´ä¸æƒ³è®©å®ƒå‡ºç°ï¼Œåˆæˆ–è€…è¯´æƒ³æŠŠå®ƒåˆ äº†ï¼Œæˆ‘ä»¬ä½¿ç”¨å¦‚ä¸‹æŒ‡ä»¤ 1echo &quot;b&quot; &gt;&gt; b.txtgit commit --amend æˆ‘ä»¬å‘ç°æˆ‘ä»¬è¿›å…¥åˆ°äº†vimä¸­ 1modified a.txt# Please enter the commit message for your changes. Lines starting# with &#x27;#&#x27; will be ignored, and an empty message aborts the commit.## Date: Sun Mar 29 16:57:43 2020 +0800## On branch master# Changes to be committed:# modified: a.txt## Changes not staged for commit:# modified: b.txt# æˆ‘ä»¬å°†å®ƒä¿®æ”¹ä¸º 1modified a.txt b.txt# Please enter the commit message for your changes. Lines starting# with &#x27;#&#x27; will be ignored, and an empty message aborts the commit.## Date: Sun Mar 29 16:57:43 2020 +0800## On branch master# Changes to be committed:# modified: a.txt## Changes not staged for commit:# modified: b.txt# æœ€åå†æ¬¡æŸ¥çœ‹log 1git log --oneline æˆ‘ä»¬å¾—åˆ°äº†ä¸‹é¢çš„è¾“å‡ºï¼Œä¸Šä¸€æ¬¡çš„æäº¤è¢«ç°åœ¨çš„æäº¤è¦†ç›–äº† 1105a02a (HEAD -&gt; master) modified a.txt b.txt9d1f0b1 third commitfbdd818 second commit913bc88 first commit æ’¤é”€ å‡è®¾ä½ çŠ¯äº†ä¸€ä¸ªä¸¥é‡çš„é”™è¯¯ 1rm *.txt ä»£ç æ²¡äº†æˆ‘ä»¬æ¥çœ‹çœ‹gitçš„çŠ¶æ€ 1git status çœ‹åˆ°äº†å¦‚ä¸‹çš„è¾“å‡º 1On branch masterChanges not staged for commit: (use &quot;git add/rm &lt;file&gt;...&quot; to update what will be committed) (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory) deleted: a.txt deleted: a2.txt deleted: a3.txt deleted: a4.txt deleted: a5.txt deleted: b.txtno changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;) check 1git checkout çœ‹åˆ°äº†è¿™äº›è¾“å‡º,ä»–è¯´æˆ‘ä»¬åˆ äº†å¾ˆå¤šä¸œè¥¿ï¼Œå…¶å®å’Œgit statusçš„ä¸€æ · 1D a.txtD a2.txtD a3.txtD a4.txtD a5.txtD b.txt ä»æš‚å­˜åŒºæ¢å¤æŒ‡å®šæ–‡ä»¶ 1git checkout -- a.txtcat a.txt æˆ‘ä»¬å‘ç°a.txtå·²ç»æ¢å¤äº†,è¾“å‡ºå¦‚ä¸‹ 1a.txt æ¢å¤æ‰€æœ‰æ–‡ä»¶ 1git checkout -- .ls çœ‹åˆ°äº†è¾“å‡º,ç»ˆäºæˆ‘ä»¬çš„æ–‡ä»¶å…¨éƒ¨æ¢å¤ï¼Œ 1a.txt a2.txt a3.txt a4.txt a5.txt b.txt æ¢å¤æ›´è€çš„ç‰ˆæœ¬ï¼Ÿä½¿ç”¨resetå°†æš‚å­˜åŒºçš„æ–‡ä»¶ä¿®æ”¹ä¸ºç‰ˆæœ¬913bc886088dabee0af5b06351450cad60102c23çš„a.txt 1git reset 913bc886088dabee0af5b06351450cad60102c23 a.txtgit status æˆ‘ä»¬æ³¨æ„ä¸‹é¢çš„è¾“å‡º,æœ‰ä¸¤æ¡æç¤ºï¼Œç¬¬ä¸€æ¡è¯´æ”¹å˜æ²¡æœ‰è¢«æäº¤ï¼Œæ˜¯å› ä¸ºæš‚å­˜åŒºå’Œç‰ˆæœ¬åŒºçš„æ–‡ä»¶ä¸ä¸€è‡´ï¼Œç¬¬äºŒæ¡è¯´ä¿®æ”¹æ²¡æœ‰å‚¨å­˜åˆ°æš‚å­˜åŒºï¼Œè¿™æ˜¯å› ä¸ºå·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„æ–‡ä»¶ä¸ä¸€è‡´é€ æˆçš„ã€‚ 1On branch masterChanges to be committed: (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage) modified: a.txtChanges not staged for commit: (use &quot;git add &lt;file&gt;...&quot; to update what will be committed) (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory) modified: a.txt è¿™æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨checkoutå°†æš‚å­˜åŒºçš„æ–‡ä»¶æ‹¿å‡ºæ¥æ”¾åˆ°å·¥ä½œåŒºï¼Œ 1git checkout -- a.txtcat a.txtgit status æˆ‘ä»¬å‘ç°a.txtå·²ç»æ¢å¤åˆ°åˆå§‹çš„ç‰ˆæœ¬çš„äº†ã€‚æˆ‘ä»¬æŸ¥çœ‹çŠ¶æ€å‘ç°å·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„å·®å¼‚å·²ç»æ¶ˆå¤±äº†ï¼Œè¿™å°±å·²ç»è¾¾åˆ°äº†æ¢å¤æ–‡ä»¶çš„ç›®çš„ã€‚ 1On branch masterChanges to be committed: (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage) modified: a.txt gitåˆ é™¤ å°†æ–‡ä»¶åˆ é™¤ 1git rm a.txt æˆ‘ä»¬çœ‹åˆ°äº†å¦‚ä¸‹çš„è¾“å‡º,æˆ‘ä»¬çœ‹åˆ°ä»–è¯´æ–‡ä»¶è¢«ä¿®æ”¹äº†ï¼Œå³æš‚å­˜åŒºå’Œç‰ˆæœ¬åº“ä¸­çš„æ–‡ä»¶ä¸ä¸€è‡´ 1error: the following file has changes staged in the index: a.txt(use --cached to keep the file, or -f to force removal) æˆ‘ä»¬æäº¤,ç„¶ååˆ é™¤,è¿™é‡Œå°±ç›´æ¥æˆåŠŸäº† 1git commit -m &#x27;recover a.txt&#x27;git rm a.txt ä¸‹é¢è€ƒè™‘å¦å¤–ä¸€ç§æƒ…å†µï¼Œæˆ‘ä»¬å…ˆæ’¤é”€è¿™æ¬¡åˆ é™¤,å¹¶å¯¹a.txtè¿›è¡Œä¿®æ”¹,ç„¶åå†æ¬¡åˆ é™¤ 1git reset -- a.txtgit checkout a.txtecho &quot;add&quot;&gt;&gt; a.txtgit rm a.txt åˆé‡åˆ°é—®é¢˜äº†ï¼Œæˆ‘ä»¬çš„æš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„æ–‡ä»¶ä¸ä¸€è‡´ 1error: the following file has local modifications: a.txt(use --cached to keep the file, or -f to force removal) è¿™äº›çš„åˆ é™¤æœ¬èº«å°±æ˜¯å±é™©çš„ï¼Œä¸å»ºè®®åˆ é™¤ï¼Œä½†æˆ‘ä»¬ä¾ç„¶å¯ä»¥ä½¿ç”¨-fæ¥å¼ºåˆ¶åˆ é™¤ 1git rm a.txt -f gitåˆ†æ”¯ å…ˆçœ‹çœ‹å¦‚ä½•æŸ¥çœ‹åˆ†æ”¯ 1git branch å¾—åˆ°äº†è¾“å‡º 1* master åˆ›å»ºåˆ†æ”¯ 1git branch dev å¾—åˆ°ä¸‹é¢çš„è¾“å‡ºï¼Œå…¶ä¸­*è¡¨ç¤ºå½“å‰åˆ†æ”¯ 1dev* master åˆ‡æ¢åˆ†æ”¯,å†æ¬¡æŸ¥çœ‹åˆ†æ”¯ 1git checkout devgit branch æˆ‘ä»¬å‘ç°devç°åœ¨æˆä¸ºäº†å½“å‰åˆ†æ”¯äº† 1* dev master åˆ é™¤devåˆ†æ”¯,ç›´æ¥æŠ¥é”™äº†ï¼Œå› ä¸ºå½“å‰åˆ†æ”¯æ˜¯devåˆ†æ”¯ 1git branch -d dev åˆ‡æ¢åˆ†æ”¯å¹¶åˆ é™¤dev 1git checkout mastergit branch -d dev åˆ›å»ºåˆ†æ”¯ï¼Œç„¶åä¿®æ”¹åˆ†æ”¯å 1git branch b1git branch -m b1 b2 æ³¨æ„åˆ°æ‰§è¡Œä¸¤æ¬¡è¿™ä¸ªæ“ä½œå,æŠ¥é”™äº†ï¼Œä»–è¯´åå­—ä¸èƒ½é‡å¤ 1fatal: A branch named &#x27;b2&#x27; already exists. ç°åœ¨æˆ‘ä»¬çš„åˆ†æ”¯ä¸º 1b1 b2* master åˆ›å»ºåˆ†æ”¯å¹¶åˆ‡æ¢ 1git checkout -b b3 åˆ†æ”¯æ§åˆ¶ æ¯”è¾ƒå·¥ä½œåŒºå’Œæš‚å­˜åŒº 1git diff æ¯”è¾ƒæš‚å­˜åŒºå’Œç‰ˆæœ¬åº“ 1git diff --staged æ¯”è¾ƒç‰ˆæœ¬ 1git diff 0923131 105a02a æ¯”è¾ƒåˆ†æ”¯ 1git diff b1 b2 åˆå¹¶åˆ†æ”¯ 1git merge b1 ä¿å­˜ å°†å·¥ä½œåŒºå’Œæš‚å­˜åŒºçš„èµ„æ–™ä¿å­˜åˆ°æ ˆ 1git stash æŸ¥çœ‹æ ˆä¿å­˜çš„èµ„æ–™ 1git stash list ä»æ ˆæ¢å¤èµ„æ–™ 1git stash apply 0 åˆ é™¤æ ˆä¸­çš„èµ„æ–™ 1git stash drop 0 æ¨å…¥è¿œç¨‹ä»“åº“ å…ˆå»ºç«‹ä¸€ä¸ªå¿«æ·è®¿é—® 1git remote add unimportant git@github.com:fightinggg/unimportant.gitgit remote -v çœ‹åˆ°äº†è¾“å‡º 1unimportant git@github.com:fightinggg/unimportant.git (fetch)unimportant git@github.com:fightinggg/unimportant.git (push) æ¨å…¥ 1git push unimportant master çœ‹åˆ°æ˜¯æˆåŠŸäº†çš„ 1Enumerating objects: 13, done.Counting objects: 100% (13/13), done.Delta compression using up to 4 threadsCompressing objects: 100% (8/8), done.Writing objects: 100% (13/13), 1.00 KiB | 1.00 MiB/s, done.Total 13 (delta 2), reused 0 (delta 0)remote: Resolving deltas: 100% (2/2), done.To github.com:fightinggg/unimportant.git * [new branch] master -&gt; master æ‹‰å› 1git pull unimportant master ä¹Ÿçœ‹åˆ°æˆåŠŸäº† 1From github.com:fightinggg/unimportant * branch master -&gt; FETCH_HEADAlready up to date. åœ¨æœåŠ¡å™¨æ­å»ºè¿œç¨‹ä»“åº“1mkdir /wsx.com.git cd wsx.com.gitgit init --bare ä½¿ç”¨æ–¹å¼ 1git push ssh://root@&lt;IP&gt;/wsx.com.git master Docker Git12345docker run -it --rm \\ -v $&#123;HOME&#125;:/root \\ -v $(pwd):/git \\ alpine/git \\ clone https://github.com/alpine-docker/git.git æºç å®‰è£…12345678910111213gitVersion=2.29.2yum install -y curl-devel expat-devel gettext-devel \\ openssl-devel zlib-devel gcc perl-ExtUtils-MakeMaker \\ autoconf automake make libtool wget;\\wget https://github.com/git/git/archive/v$gitVersion.tar.gz; \\tar -zxf v$gitVersion.tar.gz; \\cd /git-$gitVersion; \\make prefix=/usr/local/git all; \\make prefix=/usr/local/git install; \\echo &quot;GIT_HOME=/usr/local/git&quot; &gt;&gt; ~/.bashrc; \\echo &quot;PATH=\\$GIT_HOME/bin:\\$PATH&quot; &gt;&gt; ~/.bashrc; \\source ~/.bashrc; \\git --version; ä¿®æ”¹Gité»˜è®¤ç¼–è¾‘å™¨ 1git config --global core.editor &quot;vim&quot; GITæäº¤è§„èŒƒ1234567featï¼šæ–°åŠŸèƒ½ï¼ˆfeatureï¼‰fixï¼šä¿®è¡¥bugdocsï¼šæ–‡æ¡£ï¼ˆdocumentationï¼‰styleï¼š æ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨ï¼‰refactorï¼šé‡æ„ï¼ˆå³ä¸æ˜¯æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿä¸æ˜¯ä¿®æ”¹bugçš„ä»£ç å˜åŠ¨ï¼‰testï¼šå¢åŠ æµ‹è¯•choreï¼šæ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨ æäº¤Tag1git push origin --tags è®¾ç½®ä»£ç†1234git config --global http.proxy &#x27;socks5://127.0.0.1:1081&#x27;git config --global https.proxy &#x27;socks5://127.0.0.1:1081&#x27;git config --global http.proxy &#x27;socks5://host.docker.internal:1081&#x27;git config --global https.proxy &#x27;socks5://host.docker.internal:1081&#x27;","categories":[{"name":"Others","slug":"Others","permalink":"http://fightinggg.github.io/indigo/categories/Others/"}],"tags":[]},{"title":"linuxæŒ‡ä»¤å­¦ä¹ ","slug":"æ“ä½œç³»ç»Ÿ/Linux/linuxæŒ‡ä»¤å­¦ä¹ /index","date":"2020-03-27T04:11:28.000Z","updated":"2020-04-07T07:25:07.000Z","comments":true,"path":"Q7U3N4.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q7U3N4.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial MAN æ“ä½œæ‰‹å†Œå­¦linuxï¼Œå¿…é¡»çŸ¥é“å¦‚ä½•ä½¿ç”¨manï¼Œé¦–å…ˆæ˜¯å®‰è£…manï¼Œæˆ–è€…åœ¨è¿™é‡Œé€›é€› 1yum -y install man-pages SCPä¸Šä¼ æœ¬åœ°æ–‡ä»¶åˆ°æœåŠ¡å™¨1scp -P [sshç«¯å£] /path/filename username@serverhost:/path ä¸‹è½½HTTPæ–‡ä»¶ä¸‹è½½ä¸œè¥¿å¯ä»¥ä½¿ç”¨curlæŒ‡ä»¤ï¼Œå¦‚ 1curl baidu.com -O -L ä¹Ÿå¯ä»¥ä½¿ç”¨wgetæŒ‡ä»¤,å¦‚ 1wget baidu.com Linuxè¿è¡Œçº§åˆ« linuxä¸€å…±æœ‰7ä¸ªçº§åˆ«ï¼Œåˆ†åˆ«ä¸º0å…³æœºã€1å•ç”¨æˆ·ã€2æ— ç½‘å¤šç”¨æˆ·ã€3æœ‰ç½‘å¤šç”¨æˆ·ï¼Œ4ä¿ç•™ï¼Œ5å›¾å½¢ç•Œé¢ï¼Œ6é‡å¯ã€‚åœ¨æ–‡ä»¶&#x2F;etc&#x2F;inittabä¸­æŒ‡å®šäº†çº§åˆ«ã€‚ æŸ¥çœ‹è¿è¡Œçº§åˆ« æŸ¥çœ‹æ–‡ä»¶&#x2F;etc&#x2F;inittab ä¿®æ”¹è¿è¡Œçº§åˆ«1init 3 å¦‚ä½•æ‰¾å›rootå¯†ç  è¿›å…¥å•ç”¨æˆ·æ¨¡å¼ï¼Œç„¶åä¿®æ”¹å¯†ç ï¼Œå› ä¸ºè¿›å…¥å•ç”¨æˆ·æ¨¡å¼ä¸éœ€è¦å¯†ç å°±å¯ä»¥ç™»é™†ã€‚ è¿›å…¥grubä¸­ï¼ŒæŒ‰eç¼–è¾‘æŒ‡ä»¤ï¼Œä¿®æ”¹kernelï¼Œè¾“å…¥1è¿›å…¥å•ç”¨æˆ·çº§åˆ«ï¼Œè¾“å…¥bå¯åŠ¨,ç”¨passwd rootä¿®æ”¹å¯†ç  mkdir åœ¨ç”¨æˆ·æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºhello 1mkdir ~/hello å¤šçº§ç›®å½•éœ€è¦åŠ ä¸Š-på‚æ•° 1mkdir ~/h/h/h rmdir åˆ é™¤ç©ºæ–‡ä»¶å¤¹ 1rmdir ~/hello åˆ é™¤éç©ºæ–‡ä»¶å¤¹ 1rm -rf touch åˆ›å»ºæ–‡ä»¶ï¼Œæˆ‘å¸¸ç”¨vim 1touch a.txt b.txt c.txt cp å°†a.txtæ‹·è´åˆ°ç”¨æˆ·ç›®å½•ä¸‹ 1cp a.txt ~/ å°†aè¿™ä¸ªæ–‡ä»¶å¤¹å…¨éƒ¨æ‹·è´åˆ°ç”¨æˆ·ç›®å½•ï¼Œ-ræŒ‡çš„æ˜¯é€’å½’ 1cp -r a/ ~/ \\cpå¯ä»¥å¼ºåˆ¶è¦†ç›–ä¸æç¤ºï¼Œåœ¨macä¸­ç›´æ¥è¦†ç›–äº†ï¼Œä¸éœ€è¦\\cp rm åˆ é™¤a.txtï¼Œ 1rm a.txt åˆ é™¤ç›®å½•a, -rä¸ºé€’å½’ 1rm -r a/ åˆ é™¤ç›®å½•aï¼Œ-fä¸ºä¸æç¤º å¯ä¸-råˆå¹¶ä¸º-rf 1rm -r -f a/ mv å°†a.txté‡å‘½åä¸ºb.txt 1mv a.txt b.txt å°†a.txtä¸€å®šåˆ°ç”¨æˆ·ç›®å½•ï¼Œå¦‚æœé‚£æœ‰çš„è¯ï¼Œmacä¸æç¤ºæ˜¯å¦æ›¿æ¢ï¼Œç›´æ¥æ›¿æ¢ï¼Œæœ‰ç‚¹ä¸äººé“äº†ã€‚ 1mv a.txt ~/ cat catæ˜¯æµè§ˆæ–‡ä»¶ å°±èƒ½çœ‹åˆ°é…ç½®æ–‡ä»¶äº† 1cat ~/.vimrc -n èƒ½å¤Ÿæ˜¾ç¤ºè¡Œå· 1cat -n ~/.vimrc moreæ˜¯ä¸€ä¸ªç±»ä¼¼äºvimçš„ä¸œè¥¿ï¼Œèƒ½å¤ŸæŠŠæ–‡ä»¶åˆ†é¡µï¼Œç”¨ç©ºæ ¼çœ‹ä¸‹ä¸€è¡Œï¼Œç”¨enterçœ‹ä¸‹ä¸€é¡µï¼Œç”¨&lt;C-F&gt;å’Œ&lt;C-B&gt;ç¿»é¡µï¼Œç”¨&#x3D;è¾“å‡ºè¡Œå·ï¼Œç”¨fbä¹Ÿå¯ä»¥ç¿»é¡µã€‚ 1cat -n ~/.vimrc | more more ç›´æ¥å®Œæˆ 1more ~/.vimrc less åŸºäºæ˜¾ç¤ºçš„æ‡’åŠ è½½æ–¹æ¡ˆï¼Œæ‰“å¼€æ–‡ä»¶éå¸¸å¿« å‡ ä¹å’Œmoreä¸€æ ·ï¼Œå°±æ˜¯å¼€å¤§æ–‡ä»¶å¿«ä¸€ç‚¹ï¼Œå¯ä»¥ç”¨æ¥æ‰“å¼€æ—¥å¿—ã€‚ 1less ~/.vimrc &gt; å’Œ&gt;&gt; &gt;æ˜¯è¾“å‡ºé‡å®šå‘ï¼Œä¼šè¦†ç›–å†…å®¹ï¼Œ&gt;&gt;æ˜¯è¿½åŠ ï¼Œä¸ä¼šè¦†ç›– ä¾‹å­ ls -l ä¼šè¾“å‡ºä¸€äº›å†…å®¹ï¼Œè¿™äº›å«è¾“å‡ºï¼Œ&gt;a.txtä¼šå†™å…¥a.txtï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç”¨&gt;&gt;æ¥è¿½åŠ ,åé¢åªæ¼”ç¤º&gt;,ä¸æ¼”ç¤º&gt;&gt;äº† 1ls -l &gt; a.txt ä¾‹å­2 å°†catçš„è¾“å‡ºé‡å®šå‘åˆ°b.txtä¸­ 1cat a.txt &gt; b.txt echo è¾“å‡º abcde 1echo &quot;abcde&quot; å°†abcdeå†™å…¥a.txt 1echo &quot;abcde&quot; &gt; a.txt cal calæ˜¾ç¤ºæ—¥å† å°†æ—¥å†è¾“å‡ºåˆ°a.txt 1cal &gt; a.txt echo ä¸€èˆ¬ç”¨äºè¾“å‡ºä¿¡æ¯ï¼Œ è¾“å‡ºäº†abc 1echo &quot;abc&quot; è¾“å‡ºç¯å¢ƒå˜é‡ï¼Œ 1echo $PATH head æŸ¥çœ‹æ–‡ä»¶çš„å‰å‡ è¡Œ çœ‹vimé…ç½®æ–‡ä»¶å‰10è¡Œ 1head ~/.vimrc çœ‹vimé…ç½®æ–‡ä»¶çš„å‰20è¡Œï¼Œ-nè¡¨ç¤ºè¡Œæ•° 1head -n 20 ~/.vimrc tail æŸ¥çœ‹ç»“å°¾å‡ è¡Œï¼ŒåŒä¸Š ç›‘æ§a.txt,å½“ä»–è¢«è¿½åŠ çš„æ—¶å€™ï¼Œè¾“å‡ºè¿½åŠ çš„ä¿¡æ¯ 1tail -f a.txt ln å»ºç«‹è½¯é“¾æ¥(å¿«æ·æ–¹å¼) åˆ›å»ºä¸€ä¸ªç”¨æˆ·ç›®å½•çš„è½¯é“¾æ¥åˆ°å½“å‰ç›®å½•ï¼Œè¿™ä¸ªè½¯é“¾æ¥å«mylink 1ln -s ~ mylink history æŸ¥çœ‹æœ€è¿‘æ‰§è¡Œçš„æŒ‡ä»¤ macä¸­ä¸å¤ªä¸€æ ·ï¼Œhistory 10 è¡¨ç¤ºæŸ¥çœ‹ç¬¬10æ¡æŒ‡ä»¤åˆ°ç°åœ¨çš„æŒ‡ä»¤ æŸ¥çœ‹æœ€è¿‘æ‰§è¡Œçš„10æ¡æŒ‡ä»¤ 1history 10 æ‰§è¡Œç¬¬10è°ƒæŒ‡ä»¤ 1!10 date dateå¯ä»¥çœ‹åˆ°æ—¶é—´,åé¢æ˜¯æ ¼å¼è®¾ç½® 1date &quot;+%Y-%m-%d æ˜ŸæœŸ%w %H:%M:%S&quot; è®¾ç½®æ—¥æœŸ -s è¡¨ç¤ºè®¾ç½®æ—¶é—´ 1date -s &quot;2021-1-1 1:1:1&quot; cal calç›´æ¥æŸ¥çœ‹å½“å‰æœˆçš„æ—¥å† çœ‹2020nå¹´çš„æ—¥å† 1cal 2020 find åœ¨ç”¨æˆ·æ–‡ä»¶å¤¹ä¸‹æ‰¾åä¸º.vimrcçš„æ–‡ä»¶ 1find ~ -name .vimrc åœ¨ç”¨æˆ·æ–‡ä»¶å¤¹ä¸‹æ‰¾åä¸º.vimrcå±äºç”¨æˆ·sçš„æ–‡ä»¶ 1find ~ -user s -name .vimrc åœ¨ç”¨æˆ·æ–‡ä»¶å¤¹ä¸‹æ‰¾å¤§äº100Mçš„æ–‡ä»¶ 1find ~ -size +100M åœ¨ç”¨æˆ·æ–‡ä»¶å¤¹ä¸‹æ‰¾å°äº100Mçš„æ–‡ä»¶ 1find ~ -size -100M åœ¨ç”¨æˆ·æ–‡ä»¶å¤¹ä¸‹æ‰¾ç­‰äº100Mçš„æ–‡ä»¶ 1find ~ -size 100M é€šé…ç¬¦ 1find ~ -name *.txt locate æ ¹æ®æ•°æ®åº“å¿«é€Ÿå®šä½æ–‡ä»¶çš„ä½ç½®ï¼Œæ›´æ–°æ•°æ®åº“ 1updatedb æ ¹æ®æ•°æ®åº“å¿«é€Ÿå®šä½a.txt 1locate a.txt ç®¡é“ å°†å‰ä¸€ä¸ªæŒ‡ä»¤çš„è¾“å‡ºä¼ é€’ç»™åä¸€ä¸ªæŒ‡ä»¤å¤„ç† 1| grep å¯»æ‰¾letï¼Œå¹¶è¾“å‡ºè¡Œå·å’Œè¡Œæ•°æ®ï¼Œ-nè¡¨ç¤ºè¾“å‡ºè¡Œå·ï¼Œ-iè¡¨ç¤ºä¸åŒºåˆ†å¤§å°å†™ï¼Œ 1grep -n -i let ~/.vimrc é€šè¿‡ç®¡é“å°†catçš„ç»“æœä¼ é€’ç»™grepï¼ŒåŒä¸Š 1cat ~/.vimrc | grep -ni let gzip gunzip å°†hello.txtå‹ç¼©ä¸ºhello.txt.gz 1gzip hello.txt å°†hello.txt.gzè§£å‹ä¸ºhello.txt 1gunzip hello.txt.gz zip ä¸ unzip æŠŠç”¨æˆ·ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å‹ç¼©åˆ°res.zipä¸­ 1zip -r res.zip ~ æŠŠres.zipè§£å‹åˆ°~&#x2F;resä¸­ 1unzip -d ~/res res.zip rar ä¸ unrar æœ‰è¿™ä¸œè¥¿ï¼Œå¾ˆå°‘ç”¨ tar -zæ˜¯æ‰“åŒ…åŒæ—¶å‹ç¼©ï¼Œ-cæ˜¯äº§ç”Ÿ.taræ–‡ä»¶ï¼Œ-væ˜¯æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ï¼Œ-fæ˜¯æŒ‡å®šå‹ç¼©åçš„æ–‡ä»¶å res.tar.gzæ˜¯æ‰“åŒ…åçš„æ–‡ä»¶ï¼Œå…¶åä¸ºæ‰“åŒ…æ–‡ä»¶ 1-zcvf res.tar.gz a.txt b.txt å¯¹aæ–‡ä»¶å¤¹æ‰“åŒ… 1-zcvf res.tar.gz a/ è§£å‹åˆ°å½“å‰ç›®å½• 1-zxvf res.tar.gz æŒ‡å®šè§£å‹åˆ°~ä¸­ 1-zxvf res.tar.gz -c ~ netstat netstatå¯ä»¥æ˜¾ç¤ºç½‘ç»œçŠ¶æ€ï¼Œ script1netstat -a netstatå¯ä»¥æ˜¾ç¤ºç½‘å¡ script1netstat -i","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial MAN æ“ä½œæ‰‹å†Œå­¦linuxï¼Œå¿…é¡»çŸ¥é“å¦‚ä½•ä½¿ç”¨manï¼Œé¦–å…ˆæ˜¯å®‰è£…manï¼Œæˆ–è€…åœ¨è¿™é‡Œé€›é€› 1yum -y install man-pages SCPä¸Šä¼ æœ¬åœ°æ–‡ä»¶åˆ°æœåŠ¡å™¨1scp -P [sshç«¯å£] /path/filename username@serverhost:/path ä¸‹è½½HTTPæ–‡ä»¶ä¸‹è½½ä¸œè¥¿å¯ä»¥ä½¿ç”¨curlæŒ‡ä»¤ï¼Œå¦‚ 1curl baidu.com -O -L ä¹Ÿå¯ä»¥ä½¿ç”¨wgetæŒ‡ä»¤,å¦‚ 1wget baidu.com Linuxè¿è¡Œçº§åˆ« linuxä¸€å…±æœ‰7ä¸ªçº§åˆ«ï¼Œåˆ†åˆ«ä¸º0å…³æœºã€1å•ç”¨æˆ·ã€2æ— ç½‘å¤šç”¨æˆ·ã€3æœ‰ç½‘å¤šç”¨æˆ·ï¼Œ4ä¿ç•™ï¼Œ5å›¾å½¢ç•Œé¢ï¼Œ6é‡å¯ã€‚åœ¨æ–‡ä»¶&#x2F;etc&#x2F;inittabä¸­æŒ‡å®šäº†çº§åˆ«ã€‚ æŸ¥çœ‹è¿è¡Œçº§åˆ« æŸ¥çœ‹æ–‡ä»¶&#x2F;etc&#x2F;inittab ä¿®æ”¹è¿è¡Œçº§åˆ«1init 3 å¦‚ä½•æ‰¾å›rootå¯†ç  è¿›å…¥å•ç”¨æˆ·æ¨¡å¼ï¼Œç„¶åä¿®æ”¹å¯†ç ï¼Œå› ä¸ºè¿›å…¥å•ç”¨æˆ·æ¨¡å¼ä¸éœ€è¦å¯†ç å°±å¯ä»¥ç™»é™†ã€‚ è¿›å…¥grubä¸­ï¼ŒæŒ‰eç¼–è¾‘æŒ‡ä»¤ï¼Œä¿®æ”¹kernelï¼Œè¾“å…¥1è¿›å…¥å•ç”¨æˆ·çº§åˆ«ï¼Œè¾“å…¥bå¯åŠ¨,ç”¨passwd rootä¿®æ”¹å¯†ç  mkdir åœ¨ç”¨æˆ·æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºhello 1mkdir ~/hello å¤šçº§ç›®å½•éœ€è¦åŠ ä¸Š-på‚æ•° 1mkdir ~/h/h/h rmdir åˆ é™¤ç©ºæ–‡ä»¶å¤¹ 1rmdir ~/hello åˆ é™¤éç©ºæ–‡ä»¶å¤¹ 1rm -rf touch åˆ›å»ºæ–‡ä»¶ï¼Œæˆ‘å¸¸ç”¨vim 1touch a.txt b.txt c.txt cp å°†a.txtæ‹·è´åˆ°ç”¨æˆ·ç›®å½•ä¸‹ 1cp a.txt ~/ å°†aè¿™ä¸ªæ–‡ä»¶å¤¹å…¨éƒ¨æ‹·è´åˆ°ç”¨æˆ·ç›®å½•ï¼Œ-ræŒ‡çš„æ˜¯é€’å½’ 1cp -r a/ ~/ \\cpå¯ä»¥å¼ºåˆ¶è¦†ç›–ä¸æç¤ºï¼Œåœ¨macä¸­ç›´æ¥è¦†ç›–äº†ï¼Œä¸éœ€è¦\\cp rm åˆ é™¤a.txtï¼Œ 1rm a.txt åˆ é™¤ç›®å½•a, -rä¸ºé€’å½’ 1rm -r a/ åˆ é™¤ç›®å½•aï¼Œ-fä¸ºä¸æç¤º å¯ä¸-råˆå¹¶ä¸º-rf 1rm -r -f a/ mv å°†a.txté‡å‘½åä¸ºb.txt 1mv a.txt b.txt å°†a.txtä¸€å®šåˆ°ç”¨æˆ·ç›®å½•ï¼Œå¦‚æœé‚£æœ‰çš„è¯ï¼Œmacä¸æç¤ºæ˜¯å¦æ›¿æ¢ï¼Œç›´æ¥æ›¿æ¢ï¼Œæœ‰ç‚¹ä¸äººé“äº†ã€‚ 1mv a.txt ~/ cat catæ˜¯æµè§ˆæ–‡ä»¶ å°±èƒ½çœ‹åˆ°é…ç½®æ–‡ä»¶äº† 1cat ~/.vimrc -n èƒ½å¤Ÿæ˜¾ç¤ºè¡Œå· 1cat -n ~/.vimrc moreæ˜¯ä¸€ä¸ªç±»ä¼¼äºvimçš„ä¸œè¥¿ï¼Œèƒ½å¤ŸæŠŠæ–‡ä»¶åˆ†é¡µï¼Œç”¨ç©ºæ ¼çœ‹ä¸‹ä¸€è¡Œï¼Œç”¨enterçœ‹ä¸‹ä¸€é¡µï¼Œç”¨&lt;C-F&gt;å’Œ&lt;C-B&gt;ç¿»é¡µï¼Œç”¨&#x3D;è¾“å‡ºè¡Œå·ï¼Œç”¨fbä¹Ÿå¯ä»¥ç¿»é¡µã€‚ 1cat -n ~/.vimrc | more more ç›´æ¥å®Œæˆ 1more ~/.vimrc less åŸºäºæ˜¾ç¤ºçš„æ‡’åŠ è½½æ–¹æ¡ˆï¼Œæ‰“å¼€æ–‡ä»¶éå¸¸å¿« å‡ ä¹å’Œmoreä¸€æ ·ï¼Œå°±æ˜¯å¼€å¤§æ–‡ä»¶å¿«ä¸€ç‚¹ï¼Œå¯ä»¥ç”¨æ¥æ‰“å¼€æ—¥å¿—ã€‚ 1less ~/.vimrc &gt; å’Œ&gt;&gt; &gt;æ˜¯è¾“å‡ºé‡å®šå‘ï¼Œä¼šè¦†ç›–å†…å®¹ï¼Œ&gt;&gt;æ˜¯è¿½åŠ ï¼Œä¸ä¼šè¦†ç›– ä¾‹å­ ls -l ä¼šè¾“å‡ºä¸€äº›å†…å®¹ï¼Œè¿™äº›å«è¾“å‡ºï¼Œ&gt;a.txtä¼šå†™å…¥a.txtï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç”¨&gt;&gt;æ¥è¿½åŠ ,åé¢åªæ¼”ç¤º&gt;,ä¸æ¼”ç¤º&gt;&gt;äº† 1ls -l &gt; a.txt ä¾‹å­2 å°†catçš„è¾“å‡ºé‡å®šå‘åˆ°b.txtä¸­ 1cat a.txt &gt; b.txt echo è¾“å‡º abcde 1echo &quot;abcde&quot; å°†abcdeå†™å…¥a.txt 1echo &quot;abcde&quot; &gt; a.txt cal calæ˜¾ç¤ºæ—¥å† å°†æ—¥å†è¾“å‡ºåˆ°a.txt 1cal &gt; a.txt echo ä¸€èˆ¬ç”¨äºè¾“å‡ºä¿¡æ¯ï¼Œ è¾“å‡ºäº†abc 1echo &quot;abc&quot; è¾“å‡ºç¯å¢ƒå˜é‡ï¼Œ 1echo $PATH head æŸ¥çœ‹æ–‡ä»¶çš„å‰å‡ è¡Œ çœ‹vimé…ç½®æ–‡ä»¶å‰10è¡Œ 1head ~/.vimrc çœ‹vimé…ç½®æ–‡ä»¶çš„å‰20è¡Œï¼Œ-nè¡¨ç¤ºè¡Œæ•° 1head -n 20 ~/.vimrc tail æŸ¥çœ‹ç»“å°¾å‡ è¡Œï¼ŒåŒä¸Š ç›‘æ§a.txt,å½“ä»–è¢«è¿½åŠ çš„æ—¶å€™ï¼Œè¾“å‡ºè¿½åŠ çš„ä¿¡æ¯ 1tail -f a.txt ln å»ºç«‹è½¯é“¾æ¥(å¿«æ·æ–¹å¼) åˆ›å»ºä¸€ä¸ªç”¨æˆ·ç›®å½•çš„è½¯é“¾æ¥åˆ°å½“å‰ç›®å½•ï¼Œè¿™ä¸ªè½¯é“¾æ¥å«mylink 1ln -s ~ mylink history æŸ¥çœ‹æœ€è¿‘æ‰§è¡Œçš„æŒ‡ä»¤ macä¸­ä¸å¤ªä¸€æ ·ï¼Œhistory 10 è¡¨ç¤ºæŸ¥çœ‹ç¬¬10æ¡æŒ‡ä»¤åˆ°ç°åœ¨çš„æŒ‡ä»¤ æŸ¥çœ‹æœ€è¿‘æ‰§è¡Œçš„10æ¡æŒ‡ä»¤ 1history 10 æ‰§è¡Œç¬¬10è°ƒæŒ‡ä»¤ 1!10 date dateå¯ä»¥çœ‹åˆ°æ—¶é—´,åé¢æ˜¯æ ¼å¼è®¾ç½® 1date &quot;+%Y-%m-%d æ˜ŸæœŸ%w %H:%M:%S&quot; è®¾ç½®æ—¥æœŸ -s è¡¨ç¤ºè®¾ç½®æ—¶é—´ 1date -s &quot;2021-1-1 1:1:1&quot; cal calç›´æ¥æŸ¥çœ‹å½“å‰æœˆçš„æ—¥å† çœ‹2020nå¹´çš„æ—¥å† 1cal 2020 find åœ¨ç”¨æˆ·æ–‡ä»¶å¤¹ä¸‹æ‰¾åä¸º.vimrcçš„æ–‡ä»¶ 1find ~ -name .vimrc åœ¨ç”¨æˆ·æ–‡ä»¶å¤¹ä¸‹æ‰¾åä¸º.vimrcå±äºç”¨æˆ·sçš„æ–‡ä»¶ 1find ~ -user s -name .vimrc åœ¨ç”¨æˆ·æ–‡ä»¶å¤¹ä¸‹æ‰¾å¤§äº100Mçš„æ–‡ä»¶ 1find ~ -size +100M åœ¨ç”¨æˆ·æ–‡ä»¶å¤¹ä¸‹æ‰¾å°äº100Mçš„æ–‡ä»¶ 1find ~ -size -100M åœ¨ç”¨æˆ·æ–‡ä»¶å¤¹ä¸‹æ‰¾ç­‰äº100Mçš„æ–‡ä»¶ 1find ~ -size 100M é€šé…ç¬¦ 1find ~ -name *.txt locate æ ¹æ®æ•°æ®åº“å¿«é€Ÿå®šä½æ–‡ä»¶çš„ä½ç½®ï¼Œæ›´æ–°æ•°æ®åº“ 1updatedb æ ¹æ®æ•°æ®åº“å¿«é€Ÿå®šä½a.txt 1locate a.txt ç®¡é“ å°†å‰ä¸€ä¸ªæŒ‡ä»¤çš„è¾“å‡ºä¼ é€’ç»™åä¸€ä¸ªæŒ‡ä»¤å¤„ç† 1| grep å¯»æ‰¾letï¼Œå¹¶è¾“å‡ºè¡Œå·å’Œè¡Œæ•°æ®ï¼Œ-nè¡¨ç¤ºè¾“å‡ºè¡Œå·ï¼Œ-iè¡¨ç¤ºä¸åŒºåˆ†å¤§å°å†™ï¼Œ 1grep -n -i let ~/.vimrc é€šè¿‡ç®¡é“å°†catçš„ç»“æœä¼ é€’ç»™grepï¼ŒåŒä¸Š 1cat ~/.vimrc | grep -ni let gzip gunzip å°†hello.txtå‹ç¼©ä¸ºhello.txt.gz 1gzip hello.txt å°†hello.txt.gzè§£å‹ä¸ºhello.txt 1gunzip hello.txt.gz zip ä¸ unzip æŠŠç”¨æˆ·ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å‹ç¼©åˆ°res.zipä¸­ 1zip -r res.zip ~ æŠŠres.zipè§£å‹åˆ°~&#x2F;resä¸­ 1unzip -d ~/res res.zip rar ä¸ unrar æœ‰è¿™ä¸œè¥¿ï¼Œå¾ˆå°‘ç”¨ tar -zæ˜¯æ‰“åŒ…åŒæ—¶å‹ç¼©ï¼Œ-cæ˜¯äº§ç”Ÿ.taræ–‡ä»¶ï¼Œ-væ˜¯æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯ï¼Œ-fæ˜¯æŒ‡å®šå‹ç¼©åçš„æ–‡ä»¶å res.tar.gzæ˜¯æ‰“åŒ…åçš„æ–‡ä»¶ï¼Œå…¶åä¸ºæ‰“åŒ…æ–‡ä»¶ 1-zcvf res.tar.gz a.txt b.txt å¯¹aæ–‡ä»¶å¤¹æ‰“åŒ… 1-zcvf res.tar.gz a/ è§£å‹åˆ°å½“å‰ç›®å½• 1-zxvf res.tar.gz æŒ‡å®šè§£å‹åˆ°~ä¸­ 1-zxvf res.tar.gz -c ~ netstat netstatå¯ä»¥æ˜¾ç¤ºç½‘ç»œçŠ¶æ€ï¼Œ script1netstat -a netstatå¯ä»¥æ˜¾ç¤ºç½‘å¡ script1netstat -i æˆ‘ä»¬çœ‹åˆ°äº†è¾“å‡º script12345678910111213141516171819202122232425262728Name Mtu Network Address Ipkts Ierrs Opkts Oerrs Colllo0 16384 &lt;Link#1&gt; 529008 0 529008 0 0lo0 16384 127 localhost 529008 - 529008 - -lo0 16384 localhost ::1 529008 - 529008 - -lo0 16384 s-2.local fe80:1::1 529008 - 529008 - -gif0* 1280 &lt;Link#2&gt; 0 0 0 0 0stf0* 1280 &lt;Link#3&gt; 0 0 0 0 0XHC20 0 &lt;Link#4&gt; 0 0 0 0 0XHC0* 0 &lt;Link#5&gt; 0 0 0 0 0en0 1500 &lt;Link#6&gt; f0:18:98:04:fb:91 2816466 0 2459809 0 0en0 1500 s-2.local fe80:6::18f3:f6a: 2816466 - 2459809 - -en0 1500 192.168.0 192.168.0.106 2816466 - 2459809 - -en1 1500 &lt;Link#7&gt; 82:37:90:29:8c:01 0 0 0 0 0en2 1500 &lt;Link#8&gt; 82:37:90:29:8c:00 0 0 0 0 0bridg 1500 &lt;Link#9&gt; 82:37:90:29:8c:01 0 0 1 0 0p2p0 2304 &lt;Link#10&gt; 02:18:98:04:fb:91 0 0 0 0 0awdl0 1484 &lt;Link#11&gt; 3e:c1:fd:7a:da:c8 131 0 99 0 0awdl0 1484 fe80::3cc1: fe80:b::3cc1:fdff 131 - 99 - -llw0 1500 &lt;Link#12&gt; 3e:c1:fd:7a:da:c8 0 0 0 0 0llw0 1500 fe80::3cc1: fe80:c::3cc1:fdff 0 - 0 - -utun0 1380 &lt;Link#13&gt; 0 0 4 0 0utun0 1380 s-2.local fe80:d::a38c:4185 0 - 4 - -utun1 2000 &lt;Link#14&gt; 0 0 4 0 0utun1 2000 s-2.local fe80:e::1c71:618a 0 - 4 - -utun2 1380 &lt;Link#15&gt; 2 0 36 0 0utun2 1380 s-2.local fe80:f::d494:4c0e 2 - 36 - -utun3 1380 &lt;Link#16&gt; 0 0 4 0 0utun3 1380 s-2.local fe80:10::b7d4:8de 0 - 4 - - netstatæŸ¥çœ‹udpè¿æ¥ script1netstat -a -p udp çœ‹åˆ°äº†å¦‚ä¸‹è¾“å‡º script12345678910111213141516171819Active Internet connections (including servers)Proto Recv-Q Send-Q Local Address Foreign Address (state)udp4 0 0 *.65006 *.*udp4 0 0 *.49684 *.*udp4 0 0 *.53824 *.*udp4 0 0 *.63924 *.*udp4 0 0 *.52738 *.*udp4 0 0 *.59184 *.*udp4 0 0 *.55333 *.*udp4 0 0 *.52971 *.*udp4 0 0 *.* *.*udp4 0 0 *.* *.*udp4 0 0 *.61025 *.*udp4 0 0 *.xserveraid *.*udp4 0 0 *.mdns *.*udp6 0 0 *.62311 *.*udp4 0 0 *.62311 *.*udp6 0 0 *.63490 *.*udp4 0 0 *.63490 *.* ç”¨æˆ·åˆ†ç»„ linuxä¸­æ¯ä¸ªæ–‡ä»¶å’Œç›®å½•éƒ½æœ‰è®¿é—®æƒé™ï¼Œåˆ†åˆ«æ˜¯åªè¯»ã€åªå†™ã€å¯æ‰§è¡Œ æƒé™åˆ†ç±» ç”¨æˆ·æƒé™å³è‡ªå·±çš„æƒé™ï¼Œç”¨æˆ·ç»„æƒé™å³åŒç»„äººçš„æƒé™ï¼Œå…¶ä»–æƒé™å³å’Œè‡ªå·±ä¸åŒç»„çš„äººçš„æƒé™ï¼Œæ‰€æœ‰äººçš„æƒé™å³æ‰€æœ‰äººçš„æƒé™ æƒé™ ç¬¦å· æ“ä½œ æ•°å­— r è¯» 4 w å†™ 2 x æ‰§è¡Œ 1 d ç›®å½• + å¢åŠ æƒé™ - å–æ¶ˆæƒé™ &#x3D; èµ‹äºˆæƒé™å¹¶å–æ¶ˆå…¶ä»–æƒé™ chmodu ä¿®æ”¹æ–‡ä»¶çš„æƒé™ å‚è€ƒæ–‡ä»¶æƒé™ä¸­ chmodã€u+xã€uã€rã€wã€xåˆ†åˆ«ä»£è¡¨ä»€ä¹ˆ","categories":[{"name":"æ“ä½œç³»ç»Ÿ","slug":"æ“ä½œç³»ç»Ÿ","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"},{"name":"Linux","slug":"æ“ä½œç³»ç»Ÿ/Linux","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Linux/"}],"tags":[{"name":"linuxæŒ‡ä»¤","slug":"linuxæŒ‡ä»¤","permalink":"http://fightinggg.github.io/indigo/tags/linux%E6%8C%87%E4%BB%A4/"}]},{"title":"springå­¦ä¹ 2-springä»‹ç»2","slug":"Language/Java/Spring/springå­¦ä¹ 2-springä»‹ç»2/index","date":"2020-03-26T11:36:28.000Z","updated":"2020-03-26T11:36:28.000Z","comments":true,"path":"Q7STKS.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q7STKS.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Spring æ¨¡å— Springæœ‰å…­å¤§æ¨¡å—ï¼Œæµ‹è¯•ã€å®¹å™¨ã€é¢å‘åˆ‡é¢ç¼–ç¨‹ã€instrumentationã€æ•°æ®è®¿é—®ä¸é›†æˆã€Webä¸è¿œç¨‹è°ƒç”¨ã€‚ æµ‹è¯•: Test å®¹å™¨: Beans,Core,Context,Expression,ContextSupport é¢å‘åˆ‡é¢ç¼–ç¨‹: AOP,Aspects instrumentation: instrument,instrumentTomcat æ•°æ®è®¿é—®ä¸é›†æˆ: JDBC,Transaction,ORM,OXM,Messaging,JMS Webä¸è¿œç¨‹è°ƒç”¨: Web,WebServlet,WebPortlet,WebSocket ä½†æ˜¯Springè¿œä¸æ­¢è¿™äº› Springé…ç½® Springæœ‰ä¸‰ç§é…ç½®æ–¹å¼ï¼Œç¬¬ä¸€æ˜¯é€šè¿‡XMLé…ç½®ï¼Œç¬¬äºŒæ˜¯é€šè¿‡JAVAé…ç½®ï¼Œç¬¬ä¸‰æ˜¯éšå¼çš„beanè¿”ç°æœºåˆ¶å’Œè‡ªåŠ¨è£…é…ã€‚å»ºè®®ä¼˜å…ˆä½¿ç”¨ä¸‰ï¼Œè€Œåæ˜¯äºŒï¼Œæœ€åæ˜¯ä¸€ è‡ªåŠ¨åŒ–è£…é…bean æœ‰ä¸¤ç§æ–¹æ³•ï¼Œç»„ä»¶æ‰«æå’Œè‡ªåŠ¨è£…é…ï¼Œ","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"Spring","slug":"Language/Java/Spring","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/Spring/"}],"tags":[]},{"title":"è®¾è®¡æ¨¡å¼","slug":"Others/è®¾è®¡æ¨¡å¼/index","date":"2020-03-25T09:04:22.000Z","updated":"2020-03-26T15:17:49.000Z","comments":true,"path":"Q7QRVA.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q7QRVA.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦è®¾è®¡æ¨¡å¼ æœ‰ä¸€ç±»é—®é¢˜ä¼šåœ¨è½¯ä»¶è®¾è®¡ä¸­åå¤å‡ºç°ï¼Œæˆ‘ä»¬èƒ½å¤Ÿæå‡ºä¸€ç§æŠ½è±¡çš„æ–¹æ³•æ¥è§£å†³è¿™ç±»é—®é¢˜ï¼Œè¿™å°±æ˜¯è®¾è®¡æ¨¡å¼ã€‚ è®¾è®¡æ¨¡å¼çš„ä¸ƒå¤§åŸåˆ™ å•ä¸€èŒè´£åŸåˆ™ æ¥å£éš”ç¦»åŸåˆ™ ä¾èµ–åè½¬åŸåˆ™ é‡Œæ°æ›¿æ¢åŸåˆ™ å¼€é—­åŸåˆ™ è¿ªç±³ç‰¹æ³•åˆ™ åˆæˆå¤ç”¨åŸåˆ™","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦è®¾è®¡æ¨¡å¼ æœ‰ä¸€ç±»é—®é¢˜ä¼šåœ¨è½¯ä»¶è®¾è®¡ä¸­åå¤å‡ºç°ï¼Œæˆ‘ä»¬èƒ½å¤Ÿæå‡ºä¸€ç§æŠ½è±¡çš„æ–¹æ³•æ¥è§£å†³è¿™ç±»é—®é¢˜ï¼Œè¿™å°±æ˜¯è®¾è®¡æ¨¡å¼ã€‚ è®¾è®¡æ¨¡å¼çš„ä¸ƒå¤§åŸåˆ™ å•ä¸€èŒè´£åŸåˆ™ æ¥å£éš”ç¦»åŸåˆ™ ä¾èµ–åè½¬åŸåˆ™ é‡Œæ°æ›¿æ¢åŸåˆ™ å¼€é—­åŸåˆ™ è¿ªç±³ç‰¹æ³•åˆ™ åˆæˆå¤ç”¨åŸåˆ™ 23ç§è®¾è®¡æ¨¡å¼5ä¸ªåˆ›å»ºå‹ å•ä¾‹æ¨¡å¼ å·¥å‚æ¨¡å¼ æŠ½è±¡å·¥å‚æ¨¡å¼ åŸå‹æ¨¡å¼ å»ºé€ è€…æ¨¡å¼ 7ä¸ªç»“æ„æ€§ é€‚é…å™¨æ¨¡å¼ æ¡¥æ¥æ¨¡å¼ è£…é¥°è€…æ¨¡å¼ ç»„åˆæ¨¡å¼ å¤–è§‚æ¨¡å¼ äº«å…ƒæ¨¡å‹ ä»£ç†æ¨¡å¼ 11ä¸ªè¡Œä¸ºå‹ æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼ å‘½ä»¤æ¨¡å¼ è®¿é—®è€…æ¨¡å¼ è¿­ä»£å™¨æ¨¡å¼ è§‚å¯Ÿè€…æ¨¡å¼ ä¸­ä»‹è€…æ¨¡å¼ å¤‡å¿˜å½•æ¨¡å¼ è§£é‡Šå™¨æ¨¡å¼ çŠ¶æ€æ¨¡å¼ ç­–ç•¥æ¨¡å¼ è´£ä»»é“¾æ¨¡å¼ å•ä¸€èŒè´£åŸåˆ™ ä¸€ä¸ªç±»åªç®¡ä¸€ä¸ªèŒè´£ã€‚ ä¾‹å­1å¦‚æœæˆ‘ä»¬åˆ›å»ºäº†äº¤é€šå·¥å…·ç±»ï¼Œä»–æŒç®¡ç€å¾ˆå¤šå·¥å…·ï¼Œæ±½è½¦ã€é£æœºã€è½®èˆ¹ï¼Œæ˜¾ç„¶æˆ‘ä»¬ä¸é€‚åˆè®©ä¸€ä¸ªç±»æ¥ç®¡ç†è¿™ä¹ˆå¤šç§äº¤é€šå·¥å…·ï¼Œè¿™æ ·å¯¼è‡´èŒè´£å¤ªå¤šï¼Œä¹Ÿä¸é€‚åˆåˆ†åˆ«ä¸ºè¿™ä¸‰ç§äº¤é€šå·¥å…·å»ºç«‹3ä¸ªç±»ï¼Œè¿™æ ·å¯¼è‡´ä¿®æ”¹è¿‡å¤šï¼Œæ­£ç¡®çš„åšæ³•æ˜¯åˆ›å»ºä¸‰ä¸ªå‡½æ•°ï¼Œæ¥åˆ†åˆ«ç®¡ç†ä»–ä»¬ã€‚ ä¾‹å­2 åˆå¦‚æˆ‘ä»¬æœ‰æ ‘ã€é“¾è¡¨ã€æ•°ç»„ï¼Œæˆ‘ä»¬è¦ä¾¿åˆ©ä»–ä»¬ï¼Œä½ è‚¯å®šä¸é€‚åˆåˆ›å»ºä¸€ä¸ªç±»ï¼Œä¸€ä¸ªå‡½æ•°æ¥éå†ã€‚åº”è¯¥æ˜¯ä¸€ä¸ªç±»ä¸‰ä¸ªå‡½æ•°åˆ†åˆ«éå†æ ‘ã€é“¾è¡¨ã€æ•°ç»„ ä½†æ˜¯å¦‚æœè¿™ç§æ–¹æ³•çº§çš„å•ä¸€èŒè´£åŸåˆ™å¯¼è‡´ç±»è¿‡äºåºå¤§ï¼Œåº”è¯¥è€ƒè™‘åˆ°ä½¿ç”¨ç±»çº§çš„å•ä¸€èŒè´£åŸåˆ™ã€‚ è¿™æ ·å¯ä»¥é™ä½ç±»çš„å¤æ‚åº¦,æé«˜å¯è¯»æ€§ï¼Œé™ä½å˜æ›´çš„é£é™©ã€‚ æ¥å£éš”ç¦»åŸåˆ™ å°†ç±»ä¹‹é—´çš„ä¾èµ–é™ä½åˆ°æœ€å°çš„æ¥å£å¤„ã€‚ ä¾‹å­1 æ¥å£interfaceæœ‰5ä¸ªæ–¹æ³•ï¼Œè¢«ç±»Bå’Œç±»Då®ç°ï¼Œè¢«ç±»Aå’Œç±»Cä¾èµ–ï¼Œä½†æ˜¯Aä½¿ç”¨Båªä¾èµ–æ¥å£123ï¼ŒCä½¿ç”¨Dåªä¾èµ–æ¥å£145ï¼Œè¿™å°±å¯¼è‡´äº†ä½ çš„Bå¤šå®ç°äº†4ã€5ä¸¤ä¸ªæ–¹æ³•ï¼ŒDå¤šå®ç°äº†2ã€3ä¸¤ä¸ªæ–¹æ³•ã€‚æˆ‘ä»¬åº”è¯¥æŠŠinterfaceæ‹†åˆ†æˆ3ä¸ªï¼Œ1ï¼Œ23ï¼Œ45ï¼ŒBå®ç°1å’Œ23ï¼ŒDå®ç°1å’Œ45ã€‚ ä¾‹å­2 æ¯”æ–¹è¯´ä½ æœ‰ä¸€ä¸ªæ•°ç»„ç±»å’Œä¸€ä¸ªé“¾è¡¨ç±»ï¼Œéƒ½å®ç°äº†ä¸€ä¸ªæ¥å£ç±»ï¼Œè¿™ä¸ªæ¥å£åŒ…å«æ’å…¥ã€åˆ é™¤ã€éå†ã€åè½¬ã€æ’åºï¼Œç„¶åä½ æœ‰ä¸€ä¸ªæ•°ç»„æ“ä½œç±»ï¼Œä»–åªç”¨åˆ°äº†æ’å…¥åˆ é™¤éå†æ’åºï¼Œè¿˜æœ‰ä¸€ä¸ªé“¾è¡¨æ“ä½œç±»ï¼Œä»–åªç”¨åˆ°äº†æ’å…¥åˆ é™¤éå†åè½¬ï¼Œè¿™ä¸ªè®¾è®¡å°±å¾ˆç³Ÿç³•ã€‚ ä½ åº”è¯¥åˆ›å»º3ä¸ªæ¥å£ï¼Œç¬¬ä¸€ä¸ªä¸ºæ’å…¥åˆ é™¤éå†ï¼Œç¬¬äºŒä¸ªä¸ºåè½¬ï¼Œç¬¬ä¸‰ä¸ªä¸ºæ’åºï¼Œè®©æ•°ç»„å®ç°ç¬¬ä¸€ä¸ªæ¥å£å’Œæœ€åä¸€ä¸ªæ¥å£ï¼Œè®©é“¾è¡¨å®ç°ç¬¬ä¸€ä¸ªæ¥å£å’Œç¬¬äºŒä¸ªæ¥å£ã€‚ ä¾èµ–åè½¬åŸåˆ™ é«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–åº•å±‚æ¨¡å—ï¼Œä»–ä»¬éƒ½åº”è¯¥ä¾èµ–å…¶æŠ½è±¡ï¼ŒæŠ½è±¡ä¸åº”è¯¥ä¾èµ–å…·ä½“ï¼Œå…·ä½“åº”è¯¥ä¾èµ–æŠ½è±¡ï¼Œå› ä¸ºå…·ä½“æ˜¯å¤šå˜çš„ï¼ŒæŠ½è±¡æ˜¯ç¨³å®šçš„ã€‚ ä¾‹å­1 æœ‰ä¸€ä¸ªemailç±»ï¼Œä¸€ä¸ªpersonç±»ï¼Œpersonæ¥å—é‚®ä»¶çš„æ—¶å€™è¦å°†emailä½œä¸ºå‡½æ•°å‚æ•°æ¥å®ç°ï¼Œè¿™å°±å¯¼è‡´personä¾èµ–emailï¼Œè¿™å¾ˆç³Ÿç³•ï¼Œä¸‡ä¸€éœ€æ±‚å˜äº†ï¼Œæ¥äº†ä¸ªå¾®ä¿¡ç±»ï¼Œæ¥äº†ä¸ªQQç±»ï¼Œæ¥äº†ä¸ªé’‰é’‰ç±»ï¼Œä½ å²‚ä¸æ˜¯è¦å®ç°ä¸€å †personçš„æ–¹æ³•ï¼Ÿ ä½ åº”è¯¥è®¾è®¡ä¸€ä¸ªæ¥å—è€…æ¥å£ï¼Œè®©å…¶ä½œä¸ºæ¥å—è€…æ¥å£çš„å®ç°ï¼Œè®©personä¾èµ–æ¥å—è€…è¿™ä¸ªæ¥å£ã€‚ ä¾‹å­2 æœ‰ä¸€ä¸ªæ•°ç»„ç±»å’Œä¸€ä¸ªæ“ä½œç±»ï¼Œæ“ä½œç±»éœ€è¦æ“ä½œæ•°ç»„çš„é¦–ä¸ªå…ƒç´ ï¼Œæˆ‘ä»¬å°†æ•°ç»„ç±»ä½œä¸ºæ“ä½œç±»çš„å‡½æ•°çš„å‚æ•°ï¼Œè¿™å¾ˆç³Ÿç³•ï¼Œä¸‡ä¸€éœ€æ±‚å˜äº†ï¼Œè¦æ±‚æ“ä½œé“¾è¡¨æ€ä¹ˆåŠï¼Ÿ æˆ‘ä»¬åº”è¯¥å®šä¹‰ä¸€ä¸ªå®¹å™¨æ¥å£ï¼Œè®©æ•°ç»„ç±»å®ç°å®ƒï¼Œå¯¹äºæ“ä½œç±»ï¼Œæˆ‘ä»¬åªéœ€è¦å°†å®¹å™¨æ¥å£ä½œä¸ºå‚æ•°å³å¯ï¼Œå¦‚æœéœ€æ±‚å˜åŒ–ï¼ŒåŠ å…¥äº†é“¾è¡¨ç±»ï¼Œä¹Ÿä¸ä¼šå¯¼è‡´å¤§é‡çš„ä¿®æ”¹ï¼Œéå¸¸ç¨³å®šã€‚ é‡Œæ°æ›¿æ¢åŸåˆ™ å­ç±»èƒ½å¤Ÿæ›¿æ¢çˆ¶ç±»ï¼Œå¹¶ä¸äº§ç”Ÿæ•…éšœï¼Œå­ç±»ä¸è¦é‡å†™çˆ¶ç±»çš„æ–¹æ³•ã€‚å¦‚æœä¸èƒ½æ»¡è¶³å°±ä¸è¦è¿™æ ·ç»§æ‰¿ã€‚ ä¾‹å­1 åšäº†ä¸€ä¸ªå‡æ³•ç±»ï¼Œç„¶åè®©å¦å¤–ä¸€ä¸ªåŠ æ³•ç±»ç»§æ‰¿å‡æ³•ç±»ï¼Œé‡å†™äº†å‡æ³•ç±»çš„æ–¹æ³•ä¸ºåŠ æ³•ã€‚ä½ è§‰å¾—è¿™æ ·åˆé€‚å—ï¼Ÿä½ åº”è¯¥å®šä¸€ä¸ªæ›´åŠ åŸºç¡€çš„ç±»ï¼Œè®©åŠ æ³•ç±»å’Œå‡æ³•ç±»éƒ½ç»§æ‰¿å®ƒã€‚ ä¾‹å­2 åšäº†ä¸€é•¿æ–¹å½¢ç±»ï¼Œæœ‰ä¸ªå‡½æ•°å«è¿”å›é¢ç§¯ï¼Œè®©æ­£æ–¹å½¢ç±»ç»§æ‰¿äº†é•¿æ–¹å½¢ç±»ï¼Œæœ‰ä¸ªä¸»ç±»å…ˆå®šä¹‰äº†é•¿ä¸º2ï¼Œå®½ä¸º2çš„é•¿æ–¹å½¢ï¼Œç„¶åè®©é•¿æ‰©å¤§4å€ï¼Œå°±æˆäº†82ï¼Œå¦‚æœä½ ç”¨æ­£æ–¹å½¢ç±»æ¥æ›¿æ¢é•¿æ–¹å½¢ç±»çš„ä½ç½®ï¼Œæ‰©å¤§4è¢«ä»¥åé¢ç§¯æˆäº†88ï¼Œè¿™å¾ˆç³Ÿç³•ï¼Œåº”è¯¥è®©é•¿æ–¹å½¢ç»§æ‰¿æ­£æ–¹å½¢ã€‚ å¼€é—­åŸåˆ™ ä¸€ä¸ªæ¨¡å—å’Œå‡½æ•°åº”è¯¥å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚ å°±æ˜¯è¯´æˆ‘ä»¬å°½é‡å»æ‰©å±•åŸæœ‰çš„åŠŸèƒ½ï¼Œè€Œä¸æ˜¯ä¿®æ”¹åŠŸèƒ½ã€‚å¦ä¸€æ–¹é¢æºä»£ç åº”è¯¥å…è®¸æ‰©å±•ã€‚ ä¾‹å­æœ‰ä¸€ä¸ªæ•°ç»„ã€é“¾è¡¨ï¼Œæœ‰ä¸€ä¸ªæ’åºç±»ï¼Œæˆ‘ä»¬è®©æ’åºç±»å»å¯¹æ•°ç»„å’Œé“¾è¡¨æ’åºï¼Œè¿™ä¸ªä¹Ÿä¸æ˜¯å¾ˆå¥½ï¼Œå¦‚æœæˆ‘ä»¬åŠ å…¥äº†åŒç«¯æ•°ç»„ï¼Œåˆ™éœ€è¦ä¿®æ”¹æ’åºç±»ã€‚ æ­£ç¡®çš„æ–¹æ³•æ˜¯å°†æ’åºä½œä¸ºä¸€ä¸ªæˆå‘˜æ–¹æ³•æ¥å®ç°ï¼Œå³åœ¨åŸºç±»ä¸­å°±å®šä¹‰ä¸€ä¸ªæ’åºçš„è™šå‡½æ•°ã€‚ è¿ªç±³ç‰¹æ³•åˆ™ ä¸€ä¸ªç±»å’Œå…¶ä»–ç±»ä¸ªå…³ç³»è¶Šå°‘è¶Šå¥½ã€‚ ä¾‹å­ æœ‰ç±»Aï¼ŒBï¼ŒCï¼Œå…¶ä¸­Bæ˜¯Açš„æˆå‘˜ï¼ŒCæ˜¯Bçš„æˆå‘˜ï¼Œä¸‹é¢æ˜¯è¿™ä¸ªç³Ÿç³•çš„ä¾‹å­ 12345678910111213class C &#123; public: void f() &#123;&#125;&#125;;class B &#123; public: C c;&#125;;class A &#123; B b; void doing_some_thing() &#123; b.c.f(); &#125;&#125;;int main() &#123;&#125; è¿™é‡Œæ³¨æ„åˆ°b.c.f();è¿™é‡Œå¯¼è‡´äº†Aå’ŒCæ‰¯ä¸Šäº†å…³ç³»ï¼Œæ­£ç¡®çš„åšæ³•åº”è¯¥æ˜¯åœ¨Bä¸­å£°æ˜å‡½æ•°cf(); 1234567891011121314class C &#123; public: void f() &#123;&#125;&#125;;class B &#123; public: C c; void cf() &#123;&#125;&#125;;class A &#123; B b; void doing_some_thing() &#123; b.cf(); &#125;&#125;;int main() &#123;&#125; ç°åœ¨Aå°±å’ŒCæ²¡å…³ç³»äº†ã€‚ åˆæˆå¤ç”¨åŸåˆ™å°½é‡ä½¿ç”¨åˆæˆè€Œä¸æ˜¯ç»§æ‰¿ã€‚ è¯´çš„å°±æ˜¯è®©ä¸€ä¸ªç±»çš„å¯¹è±¡åšå¦å¤–ä¸€ä¸ªç±»çš„æˆå‘˜å˜é‡ã€‚ å•ä¾‹æ¨¡å¼å•ä¾‹æ¨¡å¼çš„ç±»ï¼Œåªå…è®¸å‡ºç°ä¸€ä¸ªå¯¹è±¡ã€‚ é¥¿æ±‰å¼æ„é€ å‡½æ•°ç§æœ‰åŒ–,åœ¨å†…éƒ¨ä¹‹é—´finalï¼Œnewåˆ›å»ºè‡ªå·±æˆ–è€…ä½¿ç”¨é™æ€ä»£ç å—newï¼Œæä¾›é™æ€æ–¹æ³•è®¿é—®ã€‚ ç®€å•ï¼Œé¿å…çº¿ç¨‹åŒæ­¥ï¼Œåœ¨ç±»è£…è½½çš„æ—¶å€™å®ä¾‹åŒ–ï¼Œæ²¡æœ‰è¾¾åˆ°æ‡’åŠ è½½ï¼Œå¯èƒ½é€ æˆå†…å­˜æµªè´¹ã€‚ çº¿ç¨‹ä¸å®‰å…¨çš„æ‡’æ±‰å¼æ„é€ å‡½æ•°ç§æœ‰åŒ–ï¼Œåœ¨å†…éƒ¨åˆ›å»ºè‡ªå·±çš„å¼•ç”¨ï¼Œè®¾ä¸ºç©ºå€¼ï¼Œæä¾›é™æ€æ–¹æ³•è°ƒç”¨ï¼Œåœ¨é™æ€æ–¹æ³•ä¸­æœ‰é€‰æ‹©æ€§åœ°newè‡ªå·±ã€‚ ç®€å•ï¼Œçº¿ç¨‹ä¸å®‰å…¨ï¼Œè¾¾åˆ°äº†æ‡’åŠ è½½æ•ˆæœã€‚ çº¿ç¨‹å®‰å…¨çš„æ‡’æ±‰å¼åœ¨ifä¸­è¿›è¡ŒåŒæ­¥æ“ä½œï¼Œåœ¨åŒæ­¥ä¸­è¿›è¡Œifæœ€ånew,æ³¨æ„ä½¿ç”¨volatileã€‚ ç®€å•ï¼Œçº¿ç¨‹å®‰å…¨ã€‚ é™æ€å†…éƒ¨ç±»å­—é¢æ„æ€ï¼Œå¾ˆå¼ºï¼Œæ‡’åŠ è½½ï¼Œå› ä¸ºç±»åªä¼šåŠ è½½ä¸€æ¬¡ï¼Œæ‰€ä»¥çº¿ç¨‹å®‰å…¨ï¼Œè¿™ä¸ªå†™æ³•æœ€ä¼˜ç§€ã€‚ æšä¸¾æ–¹å¼ç”¨æšä¸¾ç±»å‹å°†ç±»å¯¼å…¥ã€‚ å·¥å‚æ¨¡å¼è®¾è®¡ä¸€ä¸ªå·¥å‚ç±»ï¼ŒåŒ…å«ä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›æŒ‡å®šç±»å‹ å·¥å‚æ–¹æ³•æ¨¡å¼æˆ‘ä»¬è®©åŸå…ˆçš„å·¥å‚ä½œä¸ºåŸºç±»ï¼Œè®©å¤šä¸ªå·¥å‚ç»§æ‰¿ä»–ï¼Œè¿™å°±æˆä¸ºäº†å·¥å‚æ–¹æ³•æ¨¡å¼ï¼Œæ¯”æ–¹è¯´æœ€å¼€å§‹çš„æ—¶å€™æˆ‘ä»¬æœ‰å¤šç§å£å‘³çš„ğŸ•ï¼Œæˆ‘ä»¬ä½¿ç”¨å·¥å‚æ¨¡å¼å®Œæˆäº†ï¼Œç°åœ¨æ¥äº†æ–°çš„éœ€æ±‚ï¼Œè¦æ±‚æœ‰å¤šä¸ªåœ°æ–¹çš„ğŸ•ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±ä½¿ç”¨ç»§æ‰¿ã€‚ä¸ºæ¯ä¸ªåœ°ç†ä½ç½®åˆ›å»ºä¸€ä¸ªå·¥å‚ã€‚ æŠ½è±¡å·¥å‚æ¨¡å¼ è€ƒè™‘å·¥å‚æ–¹æ³•æ¨¡å¼ï¼Œè®©å·¥å‚çš„çˆ¶ç±»ä½œä¸ºæ¥å£å³å¯ã€‚ åŸå‹æ¨¡å¼ ç”¨åŸå‹å®ä¾‹æ¥æ‹·è´å¦ä¸€ä¸ªå¯¹è±¡ï¼Œjavaä¸­ä¸º.clone()ï¼Œc++ä¸­ä¸º&#x3D;ã€‚ æ·±æ‹·è´å‰æ‹·è´ æ˜¯å¦æ‹·è´æŒ‡é’ˆæŒ‡å‘çš„å†…å®¹ã€‚ å»ºé€ è€…æ¨¡å¼ å°†å¤æ‚å¯¹è±¡çš„å»ºé€ æ–¹å¼æŠ½è±¡å‡ºæ¥ï¼Œä¸€æ­¥ä¸€æ­¥æŠ½è±¡çš„å»ºé€ å‡ºæ¥ã€‚ äº§å“åˆ›å»ºçš„äº§å“å¯¹è±¡ã€‚ æŠ½è±¡å»ºé€ è€…æŒ‡å®šå»ºé€ æµç¨‹ã€‚ å…·ä½“å»ºé€ è€…å®ç°æŠ½è±¡å»ºé€ è€…ã€‚ æŒ‡æŒ¥è€…éš”ç¦»å®¢æˆ·å’Œå¯¹è±¡çš„ç”Ÿäº§è¿‡ç¨‹ï¼Œæ§åˆ¶äº§å“å¯¹è±¡çš„ç”Ÿäº§è¿‡ç¨‹ã€‚ å»ºæˆ¿å­æ¯”æ–¹ä½ ç°åœ¨è¦å»ºé€ ä¸€ä¸ªæˆ¿å­ï¼Œä½ éœ€è¦æ‰“åœ°åŸºï¼Œç Œå¢™ï¼Œå°é¡¶ï¼Œä½ å¯ä»¥å»ºé€ çŸ®æˆ¿å­ï¼Œä¹Ÿå¯ä»¥å»ºé€ é«˜æˆ¿å­ï¼Œç°åœ¨ä½ å°±å¯ä»¥ä½¿ç”¨å»ºé€ è€…æ¨¡å¼ï¼Œæˆ¿å­æ˜¯äº§å“ï¼Œå»ºé€ è€…èƒ½æ‰“åœ°åŸºï¼Œç Œå¢™ï¼Œå°é¡¶ï¼Œæˆ¿å­ç»„åˆä¸ºå»ºé€ è€…ï¼Œå»ºé€ è€…èšåˆæŒ‡æŒ¥è€…ï¼Œæˆ‘ä»¬ä¾èµ–æŒ‡æŒ¥è€…ã€‚ StringBuilder Appendableæ˜¯æŠ½è±¡å»ºé€ è€…ï¼ŒAbstractStringBuilderä¸ºå»ºé€ è€…ï¼Œä¸èƒ½å®ä¾‹åŒ–ï¼ŒStringBuildä¸ºæŒ‡æŒ¥è€…å’Œå…·ä½“å»ºé€ è€…ï¼Œä½†æ˜¯æ˜¯ç”±AbstractStringBuilderå»ºé€ çš„ã€‚ é€‚é…å™¨æ¨¡å¼ å°†ä¸€ä¸ªç±»çš„æ¥å£è½¬åŒ–ä¸ºç”¨æˆ·å¯ä»¥ä½¿ç”¨çš„æ¥å£ï¼Œå¦‚c++çš„queueå’Œstackä¸ºdequeçš„é€‚é…å™¨ ç±»é€‚é…å™¨ ä¸€èˆ¬ä¸ºç»§æ‰¿ï¼Œä¸€ä¸ªç±»ç»§æ‰¿äº†å¦å¤–ä¸€ä¸ªç±»ï¼Œé€šè¿‡ç®€åŒ–æ¥å£ï¼Œè¾¾åˆ°é€‚é…çš„æ•ˆæœ å¯¹è±¡é€‚é…å™¨ â€¦","categories":[{"name":"Others","slug":"Others","permalink":"http://fightinggg.github.io/indigo/categories/Others/"}],"tags":[]},{"title":"çˆ¬è™«","slug":"Language/Python/çˆ¬è™«/index","date":"2020-03-25T07:49:27.000Z","updated":"2020-03-25T07:49:27.000Z","comments":true,"path":"Q7QOEF.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q7QOEF.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ç½‘é¡µ å½“æˆ‘ä»¬è¾“å…¥ç½‘å€ä»¥åï¼Œä¼šå»ºç«‹http(httpsç®—äº†)è¿æ¥ï¼Œæˆ‘ä»¬ç»™æœåŠ¡å™¨è¯·æ±‚ï¼ŒæœåŠ¡å™¨ç»™æˆ‘ä»¬å›åº”ï¼Œæˆ‘ä»¬ä¸æ–­å‘é€request,æœåŠ¡å™¨ä¸æ–­è¿”å›response,è¯·æ±‚åˆå¾ˆå¤šç§ã€‚ å¤§é‡çš„response æˆ‘ä»¬è¦æŠŠè¿™äº›æ•°æ®å­˜èµ·æ¥ï¼Œæ•°æ®åº“å•Šå•¥çš„éƒ½è¡Œã€‚ ç®€å•çš„çˆ¬è™«1234import requestsres = requests.get(&quot;http://www.baidu.com&quot;)res.encoding = &#x27;utf-8&#x27;print(res.text) ä¸Šé¢çš„ä»£ç èƒ½å¤Ÿå¾—åˆ°ç™¾åº¦ç½‘ç«™ åˆ†æhtml12345678import requests#import bs4from bs4 import BeautifulSoupres = requests.get(&quot;http://www.baidu.com&quot;)res.encoding = &#x27;utf-8&#x27;print(res.text)soup = BeautifulSoup(res.text,&quot;html.parser&quot;)print(soup.text) å¾—åˆ°è¿æ¥123456789import requestsimport bs4res = requests.get(&quot;http://www.baidu.com&quot;)res.encoding = &#x27;utf-8&#x27;print(res.text)soup = bs4.BeautifulSoup(res.text, &quot;html.parser&quot;)print(soup.text)for link in soup.select(&#x27;a&#x27;): print(link.text,link[&#x27;href&#x27;]) ç»“æŸäº†ï¼Œå¥½ç®€å•ï¼Œè¿˜å‡†å¤‡å†™ä¸€å¥—æµç¨‹çš„ï¼Œç°åœ¨å…äº†","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Python","slug":"Language/Python","permalink":"http://fightinggg.github.io/indigo/categories/Language/Python/"}],"tags":[]},{"title":"springå­¦ä¹ 1-springå…¥é—¨","slug":"Language/Java/Spring/springå­¦ä¹ 1-springå…¥é—¨/index","date":"2020-03-24T15:10:36.000Z","updated":"2020-03-24T15:10:36.000Z","comments":true,"path":"Q7PE5O.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q7PE5O.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å­¦ä¹  spring æ˜¯ä¸€ä¸ªè½»é‡çº§æ¡†æ¶ ä»–æœ€é‡è¦çš„åœ°æ–¹æ—¶AOPå’ŒIOCï¼Œä»–çš„ç›®çš„æ˜¯é™ä½è€¦åˆåº¦ï¼Œå‡å°‘ä»£ç é‡ AOP é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œ IOC æ§åˆ¶åè½¬ï¼Œå³å°†å¯¹è±¡çš„åˆ›å»ºäº¤ç»™spring,é…ç½®æ–‡ä»¶+æ³¨è§£ è€¦åˆé—®é¢˜ æ¯”æ–¹è¯´æˆ‘ä»¬è¦åœ¨Bç±»ä¸­ä½¿ç”¨Aç±»ï¼Œå°±ä¼šåœ¨Bç±»ä¸­A a&#x3D;new A();ç„¶åè¿™æ ·å°±å¯¼è‡´äº†Bä¾èµ–A å·¥å‚æ¨¡å¼è§£å†³è€¦åˆ ç”¨å·¥å‚æ¥æ§åˆ¶Aç±»ï¼Œåœ¨Bä¸­å°±èƒ½ A a&#x3D;factory.getA(); è¿™åˆå¯¼è‡´äº†Bå’Œå·¥å‚è€¦åˆã€‚ iocæ–¹æ¡ˆ è§£æxmlé…ç½®æ–‡ä»¶ä¸­çš„ç±»ï¼Œåœ¨å·¥å‚ç±»ä¸­åˆ©ç”¨åå°„åˆ›å»ºç±»çš„å¯¹è±¡ï¼Œè¿™å°±é™ä½äº†ç±»çš„è€¦åˆåº¦ï¼Œæˆ‘ä»¬æƒ³è¦æ¢ç±»çš„æ—¶å€™ï¼Œåªè¦å°†xmlä¸­çš„ç±»åç§°æ”¹æ‰å°±å¯ä»¥äº†ã€‚ ä¸€ç«™å¼æ¡†æ¶springMVC+ioc+jdbcTemplate","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"Spring","slug":"Language/Java/Spring","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/Spring/"}],"tags":[]},{"title":"STLæºç åˆ†æ","slug":"Language/C++/STLæºç åˆ†æ/index","date":"2020-03-24T11:36:05.000Z","updated":"2020-03-25T14:23:39.000Z","comments":true,"path":"Q7P485.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q7P485.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ä»è¿™å¼€å§‹æˆ‘ä»¬è¿›å…¥ã€ŠSTLæºç åˆ†æã€‹çš„å­¦ä¹  STLåˆ†ä¸º6å¤§ç»„ä»¶: ç©ºé—´é…ç½®å™¨ã€å®¹å™¨ã€è¿­ä»£å™¨ã€ç®—æ³•ã€ä»¿å‡½æ•°ã€é…æ¥å™¨ ç©ºé—´é…ç½®å™¨ STLçš„ç©ºé—´é€‚é…å™¨äº‹STLçš„åŸºç¡€ï¼Œæˆ‘ä»¬ä¸èƒ½é æ“ä½œç³»ç»Ÿæ¥ä¸ºæˆ‘ä»¬ç®¡ç†å†…å­˜ï¼Œé‚£æ ·çš„ä»£ä»·å¤ªå¤§äº†ï¼Œè¿™ä¸åˆ’ç®—ï¼Œä½œä¸ºä¸€ä¸ªc&#x2F;c++å¼€å‘äººå‘˜ï¼Œæˆ‘ä»¬è¦å®Œå…¨æ§åˆ¶æˆ‘ä»¬ç¨‹åºçš„ä¸€åˆ‡ã€‚ allocator è¿™æ˜¯ä»–çš„è‹±æ–‡åå­—ï¼Œæˆ‘ä»¬çš„allocatorå®šä¹‰äº†å››ä¸ªæ“ä½œ alloc::allocate() å†…å­˜é…ç½® alloc::dellocate() å†…å­˜é‡Šæ”¾ alloc::construct() æ„é€ å¯¹è±¡ alloc::destroy() ææ„å¯¹è±¡ type_traits&lt;T&gt; ä¸€ä¸ªæ¨¡ç‰ˆå…ƒæŠ€æœ¯ï¼Œä»–æ˜¯ä¸€ä¸ªç±»,èƒ½å¤Ÿèƒå–ç±»å‹çš„ç›¸å…³ä¿¡æ¯ï¼Œæ¨¡ç‰ˆå…ƒè¯¦è§C++ç¬”è®°ä¸­çš„Boostæºç åˆ†æ destroy å¯¹äºåŸºæœ¬æ•°æ®ç±»å‹ï¼Œæˆ‘ä»¬å•¥éƒ½ä¸ç”¨å¹²ï¼Œå¯¹äºç”¨æˆ·å®šä¹‰çš„æ•°æ®ç±»å‹ï¼Œæˆ‘ä»¬æ˜¾ç¤ºè°ƒç”¨ææ„å‡½æ•°å³å¯ï¼Œè¿™ä¸ªä½¿ç”¨æ¨¡ç‰ˆç‰¹åŒ–å³å¯ã€‚ construct å°±æ˜¯newï¼Œä½†æ˜¯ä¸ç”¨ç”³è¯·ç©ºé—´äº†ï¼Œå› ä¸ºallocateå·²ç»å¹²äº† ä¸€çº§é…ç½®å™¨ã€äºŒçº§é…ç½®å™¨ ä¸€çº§é…ç½®å¤§ç©ºé—´(&gt;128bytes)å°±æ˜¯mallocå’Œfreeï¼ŒäºŒçº§é…ç½®å°ç©ºé—´ï¼Œåˆ©ç”¨å†…å­˜æ± ã€‚ ä¸€çº§é…ç½®å™¨ ç›´æ¥newçš„ï¼Œnewå¤±è´¥ä»¥åè°ƒç”¨out of memeryçš„å¤„ç†æ–¹å¼è°ƒç”¨å¤„ç†ä¾‹ç¨‹ï¼Œè®©å…¶é‡Šæ”¾å†…å­˜ï¼Œä¸æ–­å°è¯•,é‡Šæ”¾çš„æ—¶å€™ç›´æ¥free äºŒçº§é…ç½®å™¨ç»´æŠ¤16ä¸ªé“¾è¡¨ï¼Œæ¯ä¸ªé“¾è¡¨ç»´æŠ¤ä¸€ç§ç±»å‹çš„å†…å­˜ï¼Œåˆ†åˆ«ä¸º8bytesã€16bytesã€24bytesã€ä¸€ç›´åˆ°128bytesã€‚æ›´åŠ å·§å¦™çš„åœ°æ–¹æ˜¯å°†ç»´æŠ¤çš„å†…å­˜å’Œé“¾è¡¨çš„æŒ‡é’ˆä½¿ç”¨è”åˆä½“ç»„è£…ã€‚è¿™å°±ä¸æµªè´¹ç©ºé—´äº†ã€‚å½“éœ€è¦é…ç½®å†…å­˜çš„æ—¶å€™ï¼Œå‘8å­—èŠ‚å¯¹é½ï¼Œç„¶åå†åˆ†é…ï¼Œå½“é‡Šæ”¾å†…å­˜çš„æ—¶å€™ï¼Œä¸¢åˆ°é“¾è¡¨é‡Œé¢å°±è¡Œäº† å½“é“¾è¡¨ç©ºäº†çš„æ—¶å€™ï¼Œä»å†…å­˜æ± ä¸­å–å‡º20ä¸ªæ–°çš„å†…å­˜å—å¡«å……é“¾è¡¨ã€‚ å†…å­˜æ± æ˜¯ä¸€ä¸ªå¤§å—å¤§å†…å­˜ï¼Œå½“å†…å­˜æ± ç©ºäº†ä»¥åï¼Œç”³è¯·æ›´å¤šçš„å†…å­˜ï¼Œä¿è¯æ¯æ¬¡éƒ½æ¯”ä¸Šä¸€æ¬¡ç”³è¯·çš„å¤šå°±è¡Œäº†ï¼Œè¦æ˜¯è®©æˆ‘å®ç°ï¼Œæˆ‘æ‰ä¸è¿™æ ·åšï¼Œæˆ‘è¦ç”¨è®¡ç®—æœºç½‘ç»œä¸­çš„è‡ªé€‚åº”rttåŸç†æ¥åšã€‚ è¿­ä»£å™¨ è¯´ç™½äº†å°±æ˜¯ä¸ªæŒ‡é’ˆï¼Œä½†æ˜¯ä»–æ¯”æŒ‡é’ˆæ›´å¼ºå¤§ï¼Œæ›´çµæ´»ã€‚ è¿­ä»£å™¨ç±»å‹ input iterator åªè¯» output iterator åªå†™ forward iterator å•å‘è¿­ä»£å™¨ bidirectional iterator åŒå‘ç§»åŠ¨ä¸€ä¸ªå•ä½ random access iterator åŒå‘ç§»åŠ¨å¤šä¸ªå•ä½ 12345graph TB1((input)) --&gt; 3((forward))2((output)) --&gt; 3((forward))3((forward)) --&gt; 4((bi))4((bi)) --&gt; 5((random)) ç±»å‹ é¦–å…ˆä¸ºäº†å®ç°çš„å®¹æ˜“ï¼Œå¾—è®¾è®¡iterator_categoryä¸ºè¿­ä»£å™¨è‡ªå·±çš„ç±»å‹ï¼Œvalue_typeä¸ºè¿­ä»£å™¨ç»´æŠ¤çš„å…·ä½“æ•°æ®çš„ç±»å‹ï¼Œdiference_typeä¸ºä¸¤ä¸ªè¿­ä»£å™¨ä¹‹é—´çš„è·ç¦»çš„ç±»å‹ï¼Œpointerä¸ºåŸç”ŸæŒ‡é’ˆï¼Œreferenceä¸ºåŸç”Ÿå¼•ç”¨ã€‚ vector ä¸è®²äº†ï¼Œå¤ªç®€å•äº† vector çš„è¿­ä»£å™¨ æœäº†ï¼Œå±…ç„¶å°±æ˜¯æŒ‡é’ˆï¼Œæˆ‘ä¸€ç›´ä»¥ä¸ºä»–å°è£…äº†ä¸€ä¸‹ï¼Œè¿™ä¹Ÿå¤ªæ‡’äº†ã€‚ listç®—äº†è¿™éƒ½è·³è¿‡ç®—äº†ï¼Œæ²¡å•¥æ„æ€ï¼Œ deque ç”¨åˆ†æ®µè¿ç»­æ¥åˆ¶é€ æ•´ä½“è¿ç»­çš„å‡è±¡ã€‚ ä¸¤ä¸ªè¿­ä»£å™¨ç»´æŠ¤é¦–å°¾ï¼Œä¸€ä¸ªäºŒç»´æŒ‡é’ˆç»´æŠ¤ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œæ„Ÿè§‰å¾ˆlowï¼Œæ¯ä¸€è¡Œè¢«ç§°ä¸ºä¸€ä¸ªç¼“å†²åŒº,ä½†æ˜¯åˆ—çš„è¯ï¼Œä»–å‰åéƒ½é¢„ç•™äº†ä¸€äº›æŒ‡é’ˆä½ç½®ã€‚ å½“æˆ‘ä»¬éšæœºè®¿é—®çš„æ—¶å€™ï¼Œå°±å¯ä»¥æ ¹æ®æ¯ä¸€è¡Œçš„é•¿åº¦æ¥é€‰æ‹©æ­£ç¡®çš„ç¼“å†²åŒºäº†ã€‚ dequeçš„è¿­ä»£å™¨ è¿™ä¸ªå°±å‰å®³ä¸€äº›äº†ï¼Œä»–åŒ…å«äº†4ä¸ªåœ°æ–¹ï¼Œå½“å‰æŒ‡é’ˆã€å½“å‰ç¼“å†²åŒºé¦–å°¾æŒ‡é’ˆï¼Œä¸­æ§å™¨ä¸Šé¢å½“å‰ç¼“å†²åŒºçš„æŒ‡é’ˆã€‚ ä»£ç æˆ‘æ„Ÿè§‰ä¹Ÿä¸€èˆ¬èˆ¬ï¼Œæˆ‘å†™ä¹Ÿè¿™æ · queueå’Œstack å±…ç„¶æ˜¯dequeå®ç°çš„ï¼Œæ˜æ˜æœ‰æ›´å¥½çš„å®ç°æ–¹æ³•ï¼Œå†è§ï¼Œçœ‹éƒ½ä¸æƒ³çœ‹ heap ç®—æ³•éƒ½æ˜¯è¿™æ ·å†™çš„ priority heap vectorå®ç°çš„ï¼Œ slistæˆ‘è¿˜æ˜¯ä¸é€‚åˆè¿™ä¸ªä¸œè¥¿ å…³è”å¼å®¹å™¨ è¿™ç©æ„å°±æ˜¯çº¢é»‘æ ‘å•¦ï¼Œä¸Šä¸€ç« çš„åºåˆ—å®¹å™¨çœ‹çš„æˆ‘éš¾å—æ­»äº†ï¼Œå¸Œæœ›è¿™ä¸ªèƒ½çˆ½ä¸€äº› çº¢é»‘æ ‘ ç¿»äº†å¥½å‡ é¡µï¼Œéƒ½æ˜¯çº¢é»‘æ ‘ï¼Œå¹¶æ²¡æœ‰è®©æˆ‘æ„Ÿåˆ°å¾ˆåƒæƒŠçš„ä»£ç  setå’Œmap setå°±æ˜¯ç›´æ¥çº¢é»‘æ ‘ï¼Œmapå°±æŠŠç”¨pairåˆ†åˆ«å­˜kvï¼Œç„¶åè‡ªå·±å®šä¸€ä¸ªä»¿å‡½æ•°ï¼Œéš¾æ€ªmapæ‰¾åˆ°çš„éƒ½æ˜¯pair multi ç®—äº†è‡ªå·±å†™è¿‡å¹³è¡¡æ ‘çš„éƒ½çŸ¥é“ï¼Œå’Œémultiæ²¡å‡ è¡Œä»£ç ä¸ä¸€æ ·ã€‚ hashtable ä¸‹ä¸€ç« ä¸‹ä¸€ç« ã€‚ã€‚ã€‚ ç®—æ³• åˆ†ä¸ºè´¨å˜ç®—æ³•å’Œéè´¨å˜ç®—æ³•ï¼Œä¸€ä¸ªä¼šæ”¹å˜æ“ä½œå¯¹è±¡ï¼Œå¦ä¸€ä¸ªä¸ä¼šã€‚ accumulate è¿™ä¸ªå¼ºï¼Œaccmulate(first,last,init),å°†[first,last)çš„å€¼ç´¯åŠ åˆ°initä¸Š accmulate(first,last,init,binary op),å°†[first,last)ä»å·¦åˆ°å³äºŒå…ƒæ“ä½œ(init,*)åˆ°initä¸Š adjacent_difference 666666666ï¼Œadjacent_difference(first,last,result)å·®åˆ†éƒ½æ¥äº†[first,last)å·®åˆ†åˆ°[result,*) 6666666,è‡ªå·±å®šä¹‰çš„å·®åˆ†adjacent_difference(first,last,result,binary_op); è¿™ä¸ªèƒ½è‡ªå®šå®šä¹‰å‡æ³•ï¼Œ æ³¨æ„å¯ä»¥resultè®¾ä¸ºfirst inner_product å†…ç§¯ï¼Œinner_product(first1,last1,first2,init),åŠ åˆ°initä¸Šç„¶åè¿”å›ã€‚ å‚æ•°åœ¨åŠ ä¸Šä¸€ä¸ªbinary_op1å’Œbinary_op2,init&#x3D;binary_op1(init,binary_op2(eme1,eme2)) å¤ªå¼ºäº†ï¼Œä½©æœçš„äº”ä½“æŠ•åœ°ï¼Œæ˜å¤©ç»§ç»­å­¦,çœ‹javaå» partial_sum å’Œå‰é¢çš„å·®åˆ†ä¸€æ ·,partial_sum ä¸ºå‰ç¼€å’Œï¼Œpartial_sum(first,last,result)ä¸ºå‰ç¼€å’Œè¾“å‡ºåˆ°resultä¸­ å½“ç„¶ä½ ä¹Ÿå¯ä»¥å®šä¹‰binary_opæ“ä½œï¼ŒåŠ åœ¨æœ€åé¢ power å¿«é€Ÿå¹‚ç®—æ³•äº†è§£ä¸€ä¸‹ï¼Œpower(x,n)xçš„næ¬¡æ–¹ï¼Œnä¸ºæ•´æ•°ï¼Œè¦æ±‚æ»¡è¶³ä¹˜æ³•ç»“åˆå¾‹ã€‚ power(x,n,op),è¿™ä¸ªåŒç† itoa itoa(first,last,value); while(first!=last) *first++=value++; equal equal(first1,last1,first2) åˆ¤æ–­[first1,last1) å’Œ[first2,â€¦)æ˜¯å¦ç›¸åŒ åŒæ ·æ”¯æŒäºŒå…ƒä»¿å‡½æ•°ã€‚ fill fill(first,last,value) æŠŠåŒºé—´çš„å€¼è®¾ä¸ºvalue fill_n fill(first,n,value) æŠŠfirstå¼€å§‹çš„nä¸ªå…ƒç´ è®¾ä¸ºvalue iter_swap iter_swap(a,b) äº¤æ¢è¿­ä»£å™¨çš„å†…å®¹ï¼Œè¿™é‡Œå°±æœ‰æ„æ€äº†ï¼Œå¦‚ä½•è·å–è¿­ä»£å™¨å†…å®¹çš„ç±»å‹å‘¢ï¼Ÿè¿˜è®°å¾—ä¹‹å‰è®²è¿­ä»£å™¨çš„æ—¶å€™ï¼Œåœ¨è¿­ä»£å™¨å†…éƒ¨å®šä¹‰çš„ value_typeå—ï¼Ÿå¯¹ï¼å°±æ˜¯é‚£ä¸ªã€‚ lexicographical_compare lexicographical_compare(first1,last1,first2,last2) å­—å…¸åºæ¯”å¤§å°ï¼Œéœ€è¦æ”¯æŒå°äºå· max min è¿™ä¿©ä¹Ÿæ”¯æŒä»¿å‡½æ•° mismatch mismatch(first1,last1,first2) ç”¨ç¬¬ä¸€ä¸ªå»åŒ¹é…ç¬¬äºŒä¸ªï¼Œä½ éœ€è¦ä¿è¯ç¬¬äºŒä¸ªä¸å¿…ç¬¬ä¸€ä¸ªçŸ­ï¼Œè¿”å›åŒ¹é…å°¾éƒ¨ æ”¯æŒä»¿å‡½æ•°&#x3D;&#x3D; swap å°±æ˜¯å¾ˆæ™®é€šçš„äº¤æ¢ï¼Œ copy(first,last,result) ç‰¹åŒ–äº†char*å’Œwchar_t*ä¸ºmemmoveï¼Œç‰¹åŒ–äº†T*å’Œconst T*ï¼Œé€šè¿‡èƒå–ï¼Œè‹¥æŒ‡å‘çš„æ•°æ®ä¸ºåŸºæœ¬æ•°æ®ç±»å‹åˆ™è°ƒç”¨memmoveï¼Œ å¦åˆ™å†åˆ†ä¸ºéšæœºè¿­ä»£å™¨å’Œééšæœºè¿­ä»£å™¨ï¼Œéšæœºè¿­ä»£å™¨ä½¿ç”¨last-firstè¿™ä¸ªå€¼æ¥æ§åˆ¶ï¼Œééšæœºè¿­ä»£å™¨ç”¨if(last&#x3D;&#x3D;frist)æ¥æ§åˆ¶ã€‚ copy_backward å’Œä¸Šé¢ä¸€æ ·ï¼Œä½†æ˜¯ä¸ºé€†åºæ‹·è´ set_unionset_union(first1,last1,first2,last2,result) å°±æ˜¯éå†ä¸¤ä¸ªæœ‰åºå®¹å™¨ï¼Œç„¶åèµ‹å€¼åˆ°resultä¸­ï¼Œæ³¨æ„åˆ°å®ƒåœ¨ç¢°åˆ°ç›¸åŒå…ƒç´ çš„æ—¶å€™ä¸¤ä¸ªè¿­ä»£å™¨éƒ½è‡ªå¢äº†ï¼Œå¯¼è‡´è‹¥ç¬¬ä¸€ä¸ªä¸­æœ‰3ä¸ª1ï¼Œç¬¬äºŒä¸ªä¸­æœ‰5ä¸ª1ï¼Œåˆ™è¾“å‡ºçš„æ—¶å€™åªæœ‰5ä¸ª1 set_intersection åŒä¸Š äº¤é›†ï¼Œå¾—åˆ°3ä¸ª1 set_difference ä»£ç è¶Šæ¥è¶Šå¹³åº¸äº†ï¼Œè¿™ä¸ªæ˜¯S1-S2ï¼Œå‡ºç°åœ¨S1ä¸­ä¸å‡ºç°åœ¨S2ä¸­ set_symmetric_difference å¯¹ç§°å·®ï¼Œå¹³åº¸çš„ä»£ç  adjacent_find(first,last) æ‰¾åˆ°ç¬¬ä¸€ä¸ªç›¸ç­‰çš„ç›¸é‚»å…ƒç´ ï¼Œå…è®¸è‡ªå®šä¹‰ä»¿å‡½æ•° count(first,last,value) å¯¹valueå‡ºç°å¯¹æ¬¡æ•°è®¡æ•° count_if(first,last,op) å¯¹op(*it)ä¸ºçœŸè®¡æ•° è¶Šçœ‹è¶Šæ— èŠäº† find(first,last,value) æ‰¾valueå‡ºç°çš„ä½ç½®ï¼Œè¿™ä¸ªå‡½æ•°åº”è¯¥æŒºæœ‰ç”¨çš„ find_if(first,last,op) åŒä¸Šå•¦ find_end å’Œfind_first_of è¿™ä¸ªå‡½æ•°æ²¡ç”¨ï¼Œæˆ‘ä¸ºå•¥ä¸ç”¨kmpç®—æ³• for_each(first,last,op) op(*i) geterate(first,last,op) *i&#x3D;op() generate_n åŒä¸Š transform(first,last,result,op) *result&#x3D;op(*first) transform(first1,last1,first2,last2,result,op) *result&#x3D;op(*first1,*first2) includes(first1,last1,first2,last2) ä¿è¯æœ‰åºï¼Œç„¶ååˆ¤æ–­2æ˜¯ä¸æ˜¯1çš„å­åºåˆ—ï¼Œæ˜¾ç„¶On max_element(first,last) åŒºé—´æœ€å¤§å€¼ min_element(first,last) åŒä¸Š merge(first1,last1,first2,last2,result) å½’å¹¶æ’åºçš„æ—¶å€™åº”è¯¥ç”¨å¾—åˆ°å§ partition(first,last,pred) pred(*)ä¸ºçœŸåœ¨å‰ï¼Œä¸ºå‡åœ¨åOn remove(first,last,value) æŠŠvalueç§»åˆ°å°¾éƒ¨ remove_copu(first,last,result,value),éè´¨å˜ç®—æ³• remove_if remove_copy_ifåŒä¸Š replace(first,last,old_value,new_value) çœ‹åå­—å°±çŸ¥é“æ€ä¹ˆå®ç°çš„ replace_copy,replace_if,replace_copy_if revese ç§€å¾—æˆ‘å¤´çš®å‘éº»ï¼Œè¿™ä¸ªã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ 123while(true) if(first==last||first==--last) return; else iter_swap(first++,last); éšæœºè¿­ä»£å™¨çš„ç‰ˆæœ¬è¿˜å¥½ 1while(first&lt;last) iter_swap(first++,--last); reverse_copy ï¼Œå¸¸è§çš„ä»£ç  rotate è¿™ä¸ªä»£ç æœ‰ç‚¹æ•°å­¦ï¼Œå¤§æ¦‚ç‡ç”¨ä¸åˆ°ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬å†™splayéƒ½ç”¨3æ¬¡reverseæ¥å®ç°çš„ï¼Œå¤æ‚åº¦ä¹Ÿä¸è¿‡On,ä»–è¿™ä¸ªä»£ç å°±ä¸€æ­¥åˆ°ä½äº†ï¼Œä½¿ç”¨äº†gcdï¼Œæ²¡å•¥æ„æ€ï¼ŒSTLæœç„¶æ•ˆç‡ç¬¬ä¸€ search å­åºåˆ—é¦–æ¬¡å‡ºç°çš„ä½ç½®ï¼Œ search_n å¥½åï¼Œç®—äº†ï¼Œæ²¡å•¥ç”¨çš„ä»£ç  swap_ranges(first1,last1,first2) åŒºé—´äº¤æ¢ï¼Œswapçš„å¢å¼ºç‰ˆ unique ç§»é™¤é‡å¤å…ƒç´  unique_copy lower_bound upper_bound binary_search ä¸å¤šè¯´äº†ï¼Œå°±æ˜¯äºŒåˆ†ï¼Œ next_permutation ä¸€ç›´æƒ³ä¸æ˜ç™½è¿™ä¸ªå‡½æ•°æ€ä¹ˆå®ç°çš„ï¼Œä»Šå¤©æ¥çœ‹çœ‹ï¼Œæ—¢ç„¶æ˜¯ä¸‹ä¸€ä¸ªæ’åˆ—ï¼Œæ˜¾ç„¶æ˜¯éœ€è¦æ‰¾åˆ°ä¸€ä¸ªåˆšå¥½æ¯”ç°åœ¨è¿™ä¸ªå¤§å¤§æ’åˆ—ï¼Œç®€å•åˆ†æâ€¦â€¦6532,å¦‚æœä¸€ä¸ªåç¼€éƒ½æ˜¯é€’å‡çš„ï¼Œæ˜¾ç„¶è¿™ä¸ªåç¼€ä¸èƒ½æ›´å¤§äº†ï¼Œå¦‚æœä¸€ä¸ªåç¼€éƒ½ä¸èƒ½å˜å¾—æ›´å¤§ï¼Œå°±å¿…é¡»è°ƒæ•´æ›´å‰çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æ‰¾åˆ°è¿™æ ·çš„éé™åºâ€¦.16532,æŠŠæœ€åä¸€ä¸ªæ”¾åˆ°1çš„ä½ç½®ï¼Œå…¶ä»–çš„ä»å°åˆ°å¤§æ’åˆ—å¥½å°±è¡Œäº†ã€‚ä¹Ÿå³swap(1,2),reverse(6531) prev_permutation åŒç† random_shuffle æ´—ç‰Œç®—æ³•ï¼Œä»firstå¾€lastéå†ï¼Œæ¯æ¬¡ä»æœ€åé¢éšæœºé€‰ä¸€ä¸ªæ”¾åˆ°å½“å‰ä½ç½®å³å¯ã€‚ partial_sort partial_sort(first,middle,last) ä¿è¯[first,middle)æœ‰åºä¸”å‡å°äº[middle,last)ç›´æ¥å¯¹åé¢å…ƒç´ ä½¿ç”¨å †ä¸Šæµ®ï¼Œè¿™æ ·ä¿è¯äº†å°çš„å…ƒç´ å‡åœ¨[first,middle)ä¸­ï¼Œç„¶åä½¿ç”¨sort_heap?????&amp;ems; ä¸ºå•¥ç¬¬ä¸€æ­¥ä¸ç”¨çº¿æ€§æ—¶é—´é€‰æ‹©ï¼Œç¬¬äºŒæ­¥ä¸ç”¨å¿«æ’ï¼Ÿ sort å¤§ä¸€å°±å¬è¯´äº†è¿™ä¸ªçš„å¤§åï¼Œç°åœ¨æ¥å­¦ä¹ å­¦ä¹  Median_of_three__median(a,b,c) è¿”å›ä¸­é—´é‚£ä¸ªå€¼ Partitionining è¿™ä¸ªå¤§å®¶éƒ½ä¼šå†™ï¼Œå°±æ˜¯æŒ‰ç…§æ¢è½´ï¼ŒæŠŠå°çš„æ”¾å·¦è¾¹ï¼Œå¤§çš„æ”¾åˆ°å³è¾¹ threshold å½“åªæœ‰å¾ˆå°‘å¾ˆå°‘çš„å‡ ä¸ªå…ƒç´ çš„æ—¶å€™ï¼Œæ’å…¥æ’åºæ›´å¿«ã€‚ final insertion sort æˆ‘ä»¬ä¸å¿…åœ¨å¿«é€Ÿæ’åºä¸­è¿›è¡Œæ’å…¥æ’åºï¼Œä½†æ˜¯å¯ä»¥æå‰æ¨å‡ºï¼Œä¿è¯åºåˆ—åŸºæœ¬æœ‰åºï¼Œç„¶åå†å¯¹æ•´ä½“ä½¿ç”¨æ’å…¥æ’åº SGI sort å…ˆå¿«é€Ÿæ’åºåˆ°åŸºæœ¬æœ‰åºï¼Œç„¶åæ’å…¥æ’åº å¿«é€Ÿæ’åº å…ˆæ’åºå³è¾¹ï¼Œåå·¦è¾¹ï¼Œä¸”å°†å·¦è¾¹å½“ä½œä¸‹ä¸€å±‚ï¼Œå½“è¿­ä»£æ·±åº¦æ¶åŒ–çš„æ—¶å€™ï¼Œå³è¶…è¿‡äº†lg(n)*2çš„æ—¶å€™ï¼Œé‡‡å–å †æ’åº æ¢è½´çš„é€‰æ‹©ï¼Œé¦–ã€å°¾ã€ä¸­é—´çš„ä¸­ä½æ•° RW sort è¿™ä¸ªå°±å°‘äº†å †æ’åºäº†ï¼Œå…¶ä»–çš„å’ŒSGIä¸€æ · equal_range lower_boundå’Œupper_boundçš„åˆä½“ æ¯”ç›´æ¥lower_bound+upper_boundåº”è¯¥å¿«ä¸€äº›ï¼Œå¤§æ¦‚è¿™æ ·ï¼ŒäºŒåˆ†ä¸­å€¼åå°ï¼Œåšç¼©å·¦æ–­ç‚¹ï¼Œåå¤§åˆ™ç¼©å³ç«¯ç‚¹ï¼Œè‹¥äºŒåˆ†ä¸­å€¼ç­‰äºvalueï¼Œåˆ™å¯¹å·¦è¾¹lower_bound,å¯¹å³è¾¹upper_bound,ç„¶åå°±èƒ½ç›´æ¥è¿”å›äº† inplace_merge å°†ä¸¤ä¸ªç›¸é‚»çš„æœ‰åºåºåˆ—åˆå¹¶ä¸ºæœ‰åºåºåˆ—ï¼Œä»–åœ¨åˆ†æå¡ç©ºé—´çš„åšæ³•ï¼Œå†è§ã€‚ã€‚ã€‚ä¸ç¼ºç©ºé—´ï¼Œ nth_element çº¿æ€§æ—¶é—´é€‰æ‹©ï¼Œä¸‰ç‚¹ä¸­å€¼ï¼Œé€’å½’å˜è¿­ä»£ï¼Œé•¿åº¦å¾ˆå°ä»¥åç›´æ¥æ’å…¥æ’åºï¼Œ666666 mergesort å€ŸåŠ©inplace_mergeç›´æ¥å®Œæˆäº†ï¼Œ æ€»ç»“ STLçš„ç®—æ³•è¿˜æ˜¯å¾ˆå‰å®³çš„ã€‚ ä»¿å‡½æ•° c++çš„ä¸€å¤§ç‰¹è‰²ï¼Œé€šè¿‡é‡è½½()æ¥å®ç°åƒå‡½æ•°ä¸€æ ·çš„åŠŸèƒ½ ä¸€å…ƒä»¿å‡½æ•°12345template&lt;class Arg,class Result&gt;struct unary_function&#123; typedef Arg argument_type; typedef Result result_type;&#125;; çœ‹åˆ°ä¸Šé¢é‚£ç©æ„æ²¡ï¼Œä½ å¾—ç»§æ‰¿å®ƒã€‚ negeta å–åï¼Œè¿”å›-x logical_not !x identity x select1st a.first select2nd a.second äºŒå…ƒä»¿å‡½æ•°123456template&lt;class Arg1,class Arg2,class Result&gt;struct unary_function&#123; typedef Arg1 first_argument_type; typedef Arg2 second_argument_type; typedef Result result_type;&#125;; plus a+b minus a-b multiplies a*b divides a&#x2F;b modulus a%b equal_to a&#x3D;&#x3D;b not_equal_to a!&#x3D;b greater a&gt;b greater_equal a&gt;&#x3D;b less a&lt;b less_equal a&lt;&#x3D;b logical_and a&amp;&amp;b logical_or a||b project1st a project2nd b ä»¿å‡½æ•°å•ä½å…ƒ ä½ è¦ä¸ºä½ çš„ä»¿å‡½æ•°è®¾ç½®ä¸€ä¸ªidentity_elementå•ä½å…ƒï¼Œç”¨äºå¿«é€Ÿå¹‚ é…æ¥å™¨ æœ¬è´¨ä¸Šï¼Œé…æ¥å™¨æ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œæ”¹å˜ä»¿å‡½æ•°çš„æ¥å£ï¼Œæˆä¸ºä»¿å‡½æ•°é…æ¥å™¨ï¼Œæ”¹å˜å®¹å™¨æ¥å£ï¼Œç§°ä¸ºå®¹å™¨é…æ¥å™¨ï¼Œæ”¹å˜è¿­ä»£å™¨æ¥å£ï¼Œç§°ä¸ºè¿­ä»£å™¨é…æ¥å™¨ å®¹å™¨é…æ¥å™¨ queueå’Œstackå°±æ˜¯ä¿®é¥°äº†dequeçš„é…æ¥å™¨ è¿­ä»£å™¨é…æ¥å™¨ è¿­ä»£å™¨çš„é…æ¥å™¨æœ‰3ä¸ªï¼Œinsert itertors,reverse iterators,iostream iterators. å“‡å¡è¿™ä¸œè¥¿æœ‰ç‚¹æ·±ï¼Œæ˜å¤©å†çœ‹ã€‚","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"C++","slug":"Language/C","permalink":"http://fightinggg.github.io/indigo/categories/Language/C/"}],"tags":[]},{"title":"hadoop","slug":"å¤§æ•°æ®/hadoop/index","date":"2020-03-24T06:37:30.000Z","updated":"2020-03-24T06:37:30.000Z","comments":true,"path":"Q7OQEI.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q7OQEI.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial hadoop hadoop &#x3D; common+hdfs+mapreduce+yarn common å·¥å…·ã€rpcé€šä¿¡ hdfs åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼Œä¸€ä¸ªæ–‡ä»¶åˆ†æˆå¤šä¸ª128Mbçš„æ–‡ä»¶ï¼Œå­˜å‚¨åœ¨å¤šä¸ªèŠ‚ç‚¹ï¼Œä¸ºäº†ä¿è¯åˆ†åŒºå®¹é”™æ€§ï¼Œå­˜æœ‰å¤‡ä»½ï¼Œé»˜è®¤ä¸º3ã€‚ä¸»ä»æ¶æ„ã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial hadoop hadoop &#x3D; common+hdfs+mapreduce+yarn common å·¥å…·ã€rpcé€šä¿¡ hdfs åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼Œä¸€ä¸ªæ–‡ä»¶åˆ†æˆå¤šä¸ª128Mbçš„æ–‡ä»¶ï¼Œå­˜å‚¨åœ¨å¤šä¸ªèŠ‚ç‚¹ï¼Œä¸ºäº†ä¿è¯åˆ†åŒºå®¹é”™æ€§ï¼Œå­˜æœ‰å¤‡ä»½ï¼Œé»˜è®¤ä¸º3ã€‚ä¸»ä»æ¶æ„ã€‚ namenodeç”¨æ¥è®°å½•å„ä¸ªæ–‡ä»¶çš„blockçš„ç¼–å·ã€å„ä¸ªblockçš„ä½ç½®ã€æŠ½è±¡ç›®å½•æ ‘ å¤„ç†è¯»å†™è¯·æ±‚ å¯ä»¥æœ‰å¤šä¸ªnamenode secondarynamenode ç”¨æ¥å¤‡ä»½namenode,å½“namenodeå®•æœºçš„æ—¶å€™ï¼Œå¸®åŠ©namenodeæ¢å¤ datanode ç”¨æ¥å‚¨å­˜æ•°æ® å‰¯æœ¬æœºåˆ¶ å¦‚æœä¸€ä¸ªdatanodeæŒ‚äº†ï¼Œå°±å†å¼€ä¸€ä¸ªdatanodeï¼Œç„¶åå§æŒ‚äº†çš„æ•°æ®é€šè¿‡å¤‡ä»½æ¨å‡ºæ¥å­˜è¿›å»ï¼Œå¦‚æœä¹‹å‰é‚£ä¸ªæŒ‚äº†çš„åˆæ´»äº†ï¼Œåˆ™é€‰æ‹©ä¸€ä¸ªèŠ‚ç‚¹åˆ æ‰ã€‚å‰¯æœ¬è¿‡å¤šå°†å¯¼è‡´ç»´æŠ¤æˆæœ¬æé«˜ ä¼˜ç‚¹ å¯æ„å»ºåœ¨å»‰ä»·æœºå™¨ä¸Š é«˜å®¹é”™æ€§ : è‡ªåŠ¨æ¢å¤ ç¼ºç‚¹ ä¸æ”¯æŒæ•°æ®ä¿®æ”¹(å°½ç®¡æ”¯æŒæ”¹åå’Œåˆ é™¤) å»¶è¿Ÿé«˜ ä¸æ“…é•¿å­˜å‚¨å°æ–‡ä»¶ï¼Œå¯»å€æ—¶é—´é•¿ï¼Œç©ºé—´åˆ©ç”¨ä½ yarn èµ„æºè°ƒåº¦ã€ç®¡ç†æ¡†æ¶ resourcemanager ç»Ÿç­¹èµ„æº nodemanager èµ„æºè°ƒåº¦ mapreduce åˆ†å¸ƒå¼è®¡ç®—æ¡†æ¶","categories":[{"name":"å¤§æ•°æ®","slug":"å¤§æ•°æ®","permalink":"http://fightinggg.github.io/indigo/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/"}],"tags":[]},{"title":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ/è®¡ç®—æœºç½‘ç»œ/index","date":"2020-03-18T13:23:51.000Z","updated":"2021-03-29T03:54:50.000Z","comments":true,"path":"Q7E57R.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q7E57R.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ä¸ƒå±‚ç½‘ç»œ åº”ç”¨å±‚: é’ˆå¯¹åº”ç”¨ç¨‹åºçš„é€šä¿¡æœåŠ¡ï¼Œå¤§å¤šæ•°æ–‡ä»¶ä¼ è¾“éœ€è¦ç¬¬ä¸ƒå±‚ è¡¨ç¤ºå±‚: åŠ å¯†æ•°æ®å’Œå®šä¹‰æ•°æ®æ ¼å¼(ASCIIæˆ–è€…äºŒè¿›åˆ¶) ä¼šè¯å±‚: å°†æ–­å¼€çš„æ•°æ®åˆå¹¶ï¼Œå®Œæˆå›è¯ï¼Œåˆ™è¡¨ç¤ºå±‚çœ‹åˆ°çš„æ•°æ®æ˜¯è¿ç»­çš„ ä¼ è¾“å±‚: TCPã€UDP ç½‘ç»œå±‚: IP é“¾è·¯å±‚: åœ¨å•ä¸ªé“¾è·¯ä¸Šä¼ è¾“æ•°æ® ç‰©ç†å±‚: ä¼ è¾“ä»‹è´¨ç­‰ä¸œè¥¿ äº”å±‚ç½‘ç»œ åº”ç”¨å±‚ï¼š HTTPï¼ŒFTPï¼ŒSMTPï¼ŒDNS ä¼ è¾“å±‚ï¼š TCPï¼ŒUDP ç½‘ç»œå±‚ï¼š IPï¼ŒICMPï¼ŒARPï¼ŒRARPï¼ŒDHCP é“¾è·¯å±‚ï¼š ç‰©ç†å±‚ï¼š","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ä¸ƒå±‚ç½‘ç»œ åº”ç”¨å±‚: é’ˆå¯¹åº”ç”¨ç¨‹åºçš„é€šä¿¡æœåŠ¡ï¼Œå¤§å¤šæ•°æ–‡ä»¶ä¼ è¾“éœ€è¦ç¬¬ä¸ƒå±‚ è¡¨ç¤ºå±‚: åŠ å¯†æ•°æ®å’Œå®šä¹‰æ•°æ®æ ¼å¼(ASCIIæˆ–è€…äºŒè¿›åˆ¶) ä¼šè¯å±‚: å°†æ–­å¼€çš„æ•°æ®åˆå¹¶ï¼Œå®Œæˆå›è¯ï¼Œåˆ™è¡¨ç¤ºå±‚çœ‹åˆ°çš„æ•°æ®æ˜¯è¿ç»­çš„ ä¼ è¾“å±‚: TCPã€UDP ç½‘ç»œå±‚: IP é“¾è·¯å±‚: åœ¨å•ä¸ªé“¾è·¯ä¸Šä¼ è¾“æ•°æ® ç‰©ç†å±‚: ä¼ è¾“ä»‹è´¨ç­‰ä¸œè¥¿ äº”å±‚ç½‘ç»œ åº”ç”¨å±‚ï¼š HTTPï¼ŒFTPï¼ŒSMTPï¼ŒDNS ä¼ è¾“å±‚ï¼š TCPï¼ŒUDP ç½‘ç»œå±‚ï¼š IPï¼ŒICMPï¼ŒARPï¼ŒRARPï¼ŒDHCP é“¾è·¯å±‚ï¼š ç‰©ç†å±‚ï¼š UDP æ— è¿æ¥ åŒ…é€è¾¾çš„é¡ºåºæ˜¯ä»»æ„çš„ï¼Œå› ä¸ºåŒ…å¯èƒ½é€‰æ‹©ä¸åŒçš„è·¯å¾„ UDPå‘åŒ…å°±è¡Œäº†ï¼Œèƒ½ä¸èƒ½åˆ°çœ‹è„¸ï¼Œå› æ­¤ä¸ä¼šé‡ä¼ æ•°æ® UDPçš„åŒ…ä¼šé‡å¤, è¦æ˜¯æœ‰äº›ä¸æ•¬ä¸šçš„ç¨‹åºå‘˜çæ“ä½œï¼Œä¸ºäº†ä¿è¯æ•°æ®å®Œæ•´æ€§ï¼Œæ¯ä¸ªåŒ…éƒ½ç»™ä½ å‘5æ¬¡ï¼Œå°±é‡å¤äº† æ— æµæ§åˆ¶ æ— æ‹¥å¡æ§åˆ¶ TCP é¢å‘è¿æ¥ï¼Œè¦è¿æ¥å’ŒæŒ‚æ–­ å¯é çš„å‘é€ï¼ŒæŒ‰é¡ºåºé€è¾¾ï¼ŒåŒ…ä¸¢å¤±é‡ä¼ ï¼ŒåŒ…ä¸ä¼šé‡å¤ æ¥å—ç”¨ç¼“å†²åŒºæ§åˆ¶é€Ÿåº¦ æ‹¥å¡æ§åˆ¶ HTTPä¸‹è½½æ–‡ä»¶çš„è¿‡ç¨‹ è·å¾—åå­—æ‰€å¯¹åº”çš„åœ°å€(DNS) å’Œåœ°å€å¯¹åº”çš„æœåŠ¡å™¨å»ºç«‹è¿æ¥(TCP) å‘é€è·å–é¡µé¢çš„è¯·æ±‚ ç­‰å¾…å“åº” æ¸²æŸ“HTMLç­‰æ–‡ä»¶ æ–­å¼€TCPè¿æ¥ PLT page load time ,ä»æŒ‰ä¸‹åˆ°çœ‹è§é¡µé¢çš„æ—¶é—´ï¼Œä¸é¡µé¢å†…å®¹æœ‰å…³ï¼Œä¸HTTPåè®®æœ‰å…³ã€ä¸ç½‘ç»œçš„RTT(Round Trip Time)å’Œå¸¦å®½æœ‰å…³ã€‚ æ—©æœŸçš„HTTPæ—©æœŸHTTP&#x2F;1.0ä½¿ç”¨å•ä¸ªTCPè¿æ¥è·å–ä¸€ä¸ªWEBèµ„æºï¼Œç„¶åå°±æ–­å¼€TCPï¼Œå¾ˆå®¹æ˜“å®ç°ï¼Œä½†æ€§èƒ½å ªå¿§ã€‚ å°½ç®¡æ˜¯è®¿é—®åŒä¸€ä¸ªæœåŠ¡å™¨çš„ä¸åŒèµ„æºï¼Œä¹Ÿè¦ä¸²è¡Œï¼Œå»ºç«‹äº†å¤šä¸ªTCPï¼Œæ–­å¼€äº†å¤šä¸ªTCPï¼Œè¿™æ˜¯å¾ˆè€—æ—¶é—´çš„ã€‚å¹¶æ²¡æœ‰é«˜æ•ˆä½¿ç”¨ç½‘ç»œã€‚ æ¯æ¬¡TCPçš„è¿æ¥éƒ½å°†å¯¼è‡´ä¸‰æ¬¡æ¡æ‰‹å’Œæ…¢å¯åŠ¨ï¼Œåœ¨é«˜RTTçš„æ—¶å€™ï¼Œä¸‰æ¬¡æ¡æ‰‹å¾ˆæ…¢ï¼Œåœ¨ä¼ è¾“å¤§æ–‡ä»¶çš„æ—¶å€™æ…¢å¯åŠ¨å¾ˆè€—æ—¶ã€‚ HTTPåŸºæœ¬ä¼˜åŒ– åˆ©ç”¨ç¼“å­˜å’Œä»£ç†æ¥é¿å…ä¼ è¾“ç›¸åŒçš„å†…å®¹(DNSç¼“å­˜å’Œç½‘é¡µç¼“å­˜) åˆ©ç”¨CDNè®©æœåŠ¡å™¨é‡Œå®¢æˆ·æ›´è¿‘ æ–‡ä»¶å‹ç¼©åä¼ è¾“ HTTP1.1 æ”¹è¿›HTTPåè®® å¹¶è¡Œè¿æ¥ æŒä¹…è¿æ¥ï¼š åœ¨ä¸€ä¸ªTCPè¿æ¥ä¸Šå¯ä»¥ä¼ é€å¤šä¸ªHTTPè¯·æ±‚å’Œå“åº”ï¼Œå‡å°‘äº†å»ºç«‹å’Œå…³é—­è¿æ¥çš„æ¶ˆè€—å’Œå»¶è¿Ÿï¼Œåœ¨HTTP1.1ä¸­é»˜è®¤å¼€å¯é•¿è¿æ¥keep-aliveï¼Œä¸€å®šç¨‹åº¦ä¸Šå¼¥è¡¥äº†HTTP1.0æ¯æ¬¡è¯·æ±‚éƒ½è¦åˆ›å»ºè¿æ¥çš„ç¼ºç‚¹ã€‚ æ”¯æŒrangeå¤´ä¼ è¾“ï¼Œå³åªä¼ è¾“æ–‡ä»¶çš„æŸä¸€éƒ¨åˆ† æ”¯æŒHoståŸŸï¼Œåœ¨HTTP1.0ä¸­è®¤ä¸ºæ¯å°æœåŠ¡å™¨éƒ½ç»‘å®šä¸€ä¸ªå”¯ä¸€çš„IPåœ°å€ï¼Œå› æ­¤ï¼Œè¯·æ±‚æ¶ˆæ¯ä¸­çš„URLå¹¶æ²¡æœ‰ä¼ é€’ä¸»æœºåï¼ˆhostnameï¼‰ï¼ŒHTTP1.0æ²¡æœ‰hoståŸŸã€‚ ç¼“å­˜å¤„ç†ï¼š åœ¨HTTP1.0ä¸­ä¸»è¦ä½¿ç”¨headeré‡Œçš„If-Modified-Since,Expiresæ¥åšä¸ºç¼“å­˜åˆ¤æ–­çš„æ ‡å‡†ï¼ŒHTTP1.1åˆ™å¼•å…¥äº†æ›´å¤šçš„ç¼“å­˜æ§åˆ¶ç­–ç•¥ä¾‹å¦‚Entity tagï¼ŒIf-Unmodified-Since, If-Match, If-None-Matchç­‰æ›´å¤šå¯ä¾›é€‰æ‹©çš„ç¼“å­˜å¤´æ¥æ§åˆ¶ç¼“å­˜ç­–ç•¥ã€‚ é”™è¯¯ç ï¼š åœ¨HTTP1.1ä¸­æ–°å¢äº†24ä¸ªé”™è¯¯çŠ¶æ€å“åº”ç ï¼Œå¦‚409ï¼ˆConflictï¼‰è¡¨ç¤ºè¯·æ±‚çš„èµ„æºä¸èµ„æºçš„å½“å‰çŠ¶æ€å‘ç”Ÿå†²çªï¼›410ï¼ˆGoneï¼‰è¡¨ç¤ºæœåŠ¡å™¨ä¸Šçš„æŸä¸ªèµ„æºè¢«æ°¸ä¹…æ€§çš„åˆ é™¤ã€‚ HTTPS HTTPSä½¿ç”¨CAç”³è¯·è¯ä¹¦ï¼Œè¯ä¹¦ä¸€èˆ¬éœ€è¦äº¤è´¹ HTTPSå»ºç«‹åœ¨SSL&#x2F;TLSä¸Šï¼ŒåŠ å¯† HTTPSä½¿ç”¨443ç«¯å£ SPDYåè®® å¤šè·¯å¤ç”¨é™ä½å»¶è¿Ÿ,å¤šä¸ªæµå…±äº«ä¸€ä¸ªtcp,è§£å†³äº†HOL blocking(æµæ°´çº¿ä¼šå› ä¸ºä¸€ä¸ªresponseé˜»å¡å¯¼è‡´å…¨éƒ¨é˜»å¡). è¯·æ±‚ä¼˜å…ˆçº§,ä¼˜å…ˆå“åº”htmlï¼Œè€Œåæ˜¯jsç­‰ headerå‹ç¼©(DEFLATEï¼Œå³LZ77+å“ˆå¤«æ›¼ç¼–ç ) åŸºäºHTTPS æœåŠ¡å™¨æ¨é€ï¼Œè‹¥å®¢æˆ·ç«¯è¯·æ±‚äº†sytle.css,æœåŠ¡å™¨ä¼šå§style.jsæ¨é€ç»™å®¢æˆ·ç«¯ å‚è€ƒ https://juejin.cn/post/6844903608635359239 HTTP2.0 åŸºäºSPDY æ”¯æŒæ˜æ–‡ä¼ è¾“ ä½¿ç”¨HPACKå‹ç¼©ï¼ˆå’ŒSPDYæœ‰ä¸€ç‚¹åŒºåˆ«ï¼‰ å¹¶è¡Œè¿æ¥ è®©æµè§ˆå™¨å¹¶è¡ŒHTTPå®ä¾‹ï¼Œä½†è¿™å¯¼è‡´äº†ç½‘ç»œå¯¹çªå‘å¸¦å®½åŠä¸¢åŒ…ç‡ æŒä¹…è¿æ¥ ç”¨ä¸€ä¸ªè¿æ¥å¤„ç†å¤šä¸ªHTTPè¯·æ±‚,è¿™æ—¶å€™çš„å¤šä¸ªHTTPè¯·æ±‚åˆå¯ä»¥ä½¿ç”¨æµæ°´çº¿ã€‚è¿™ä¸ªæŠ€æœ¯è¢«ç”¨äºHTTP&#x2F;1.1 æŒä¹…è¿æ¥çš„é—®é¢˜ ä¿æŒTCPè¿æ¥å¤šé•¿æ—¶é—´ï¼Ÿå¯èƒ½å¯¼è‡´æ›´æ…¢ã€‚???????????? ç½‘é¡µç¼“å­˜ è¯¢é—®æœåŠ¡å™¨æ—¶é—´æˆ³æ˜¯å¦è¿‡æ—¶ã€‚ ç½‘é¡µä»£ç† å¤§ç¼“å­˜+å®‰å…¨æ£€æŸ¥ ç¦æ­¢è®¿é—®æŸäº›ç½‘ç«™ç¼ºç‚¹ï¼š å®‰å…¨é—®é¢˜,é“¶è¡Œä¸èƒ½ç¼“å­˜ åŠ¨æ€å†…å®¹ä¸ç¼“å­˜ å¤§é‡ä¸å¸¸ç”¨ä¿¡æ¯åœ¨ç¼“å­˜ä¸­ CDN å†…å®¹åˆ†å‘ç½‘ç»œï¼ŒæœåŠ¡å™¨å°±åƒæ ‘æ ¹ï¼Œå®¢æˆ·ç«¯å°±åƒæ ‘çš„å¶å­ï¼ŒCDNå°±æ˜¯ä¸­é—´çš„ä¸œè¥¿ï¼Œä»æœåŠ¡å™¨å‘å®¢æˆ·ç«¯ä¼ è¾“æ–‡ä»¶çš„æ—¶å€™ï¼Œæ²¡æœ‰å¿…è¦æ¯æ¬¡éƒ½ä»æ ¹å‘å¶å­ä¼ è¾“ï¼Œå¯èƒ½å¶å­çš„çˆ¶äº²å°±æ‹¥æœ‰æ­£ç¡®çš„æ–‡ä»¶ï¼Œç›´æ¥è®©ä»–ç»™ä½ ä¼ å°±å¥½äº†ã€‚å¦‚ä¸‹å›¾ï¼Œå®¢æˆ·ç«¯4å’Œå®¢æˆ·ç«¯5å…ˆåè¦ä¸€ä¸ªæ–‡ä»¶ï¼Œæˆ‘ä»¬ä»æœåŠ¡å™¨1ä¼ ä¸ªæ–‡ä»¶ç»™CDN2ï¼ŒCDN2ä¼ ç»™å®¢æˆ·ç«¯4ï¼Œå½“å®¢æˆ·ç«¯5è¯·æ±‚åŒä¸€ä¸ªæ–‡ä»¶çš„æ—¶å€™ï¼ŒæœåŠ¡å™¨1æ²¡æœ‰å¿…è¦å†ä¼ æ–‡ä»¶ç»™CDN2äº†ï¼Œç›´æ¥è®©CDN2ç»™å®¢æˆ·ç«¯5æ–‡ä»¶å°±è¡Œäº†ã€‚ 1234567graph TB1((æœåŠ¡å™¨1))--&gt; 2((2))1((æœåŠ¡å™¨1))--&gt;3((3))2((2))--&gt; 4((å®¢æˆ·ç«¯4))2((2))--&gt;5((å®¢æˆ·ç«¯5))3((3))--&gt;6((å®¢æˆ·ç«¯6))3((3))--&gt;7((å®¢æˆ·ç«¯7)) DNSæœåŠ¡å™¨ å¾€å¾€æˆ‘ä»¬è®¿é—®çš„ç½‘ç«™æ˜¯www.baidu.comï¼Œè¿™ä¸ªå«åå­—ï¼Œä»–å¯¹åº”çš„IPä¸º36.152.44.96,è¿™ä¸ªè¿‡ç¨‹å¯ä»¥ä½¿ç”¨pingå¾—åˆ°ï¼Œåå­—åˆ°IPæ˜¯è°ä¸ºæˆ‘ä»¬åœ¨æä¾›æœåŠ¡å‘¢ï¼Ÿè¿™æ—¶å€™å°±å‡ºç°äº†DNSæœåŠ¡å™¨ï¼Œå°†åå­—æ˜ å°„ä¸ºIPï¼Œ åˆ†å¸ƒå¼DNSæœåŠ¡å™¨ è¿™ä¸ªå¿…é¡»åˆ†å¸ƒå¼ å±‚æ¬¡åŒ– DNSæœåŠ¡å™¨å°±åƒä¸€æ£µå†³ç­–æ ‘ä¸€æ ·ï¼Œæ¯ä¸€å±‚éƒ½åœ¨åˆ†ç±»ï¼Œæœ€é¡¶å±‚æ˜¯Zone,ä»–çŸ¥é“.com, .edu, .net ç­‰DNSæœåŠ¡å™¨åœ¨å“ªï¼Œ .eduæœåŠ¡å™¨åˆçŸ¥é“ .washington.edu ï¼Œ .cug.edu , .tingshua.eduåœ¨å“ªï¼Œ è¿™æ ·ä¸€å±‚ä¸€å±‚å‘ä¸‹ æœ¬åœ°DNSæœåŠ¡å™¨ å°±æ˜¯å­¦æ ¡ã€å…¬å¸çš„DNSæœåŠ¡å™¨ ä¸€ä¸ªä¾‹å­ æ¯”æ–¹ä¸€ä¸ªåœ°å¤§çš„è¦æ‰¾gaia.cs.umass.edu, ä»–å°±å…ˆæ‰¾åœ°å¤§çš„DNSæœåŠ¡å™¨dns.cug.edu.cnï¼Œ ç„¶åæ‰¾åˆ°Zoneï¼Œç„¶åæ‰¾åˆ°.eduæœåŠ¡å™¨, ç„¶åå»æ‰¾.umass.eduæœåŠ¡å™¨, ç„¶åå»æ‰¾.cs.umass.eduæœåŠ¡å™¨ï¼Œæœ€åå°±æ‰¾åˆ°äº†gaia.cs.umass.eduï¼Œç„¶åå°±æ‰¾åˆ°IPäº†ã€‚ é€’å½’è¿˜æ˜¯éé€’å½’ å³æˆ‘é—®äº†Aï¼ŒAæ›¿æˆ‘å»é—®Bï¼ŒBå›ç­”Aï¼ŒAå›ç­”æˆ‘ï¼Œè¿™å°±æ˜¯é€’å½’ æˆ‘é—®Aï¼ŒAè¯´ä¸çŸ¥é“å¹¶è®©æˆ‘å»é—®Bï¼Œæˆ‘å»é—®Bï¼ŒBå›ç­”æˆ‘ï¼Œè¿™å°±æ˜¯éé€’å½’ æ˜¾ç„¶æœ¬åœ°æœåŠ¡å™¨é‡‡å–é€’å½’ï¼Œå…¶ä»–æœåŠ¡å™¨é‡‡å–éé€’å½’å¥½ã€‚ DNSç¼“å­˜ç¼“å­˜ä¸¤å¤© DNSæ’å…¥æ–°å€¼ èŠ±é’±ä¹°åŸŸå è´Ÿè½½å‡è¡¡ å¤šä¸ªIPåœ°å€å¯¹åº”ä¸€ä¸ªåå­—ï¼Œå³æœåŠ¡ç«¯æœ‰å¤šä¸ªIPï¼Œä»–ä»¬å…±ç”¨ä¸€ä¸ªåå­—ï¼Œè¿™æ—¶å€™DNSæœåŠ¡å™¨æ”¶åˆ°è¯¢é—®ä¼šè½®æµæŒ‡å‘è¿™äº›IPåœ°å€ã€‚ P2P æ²¡æœ‰æœåŠ¡å™¨ï¼Œè‡ªç»„ç»‡ä¼ è¾“ï¼Œå½“è§„æ¨¡åºå¤§ä»¥åä¼šé‡åˆ°é—®é¢˜ å‘å¸ƒå†…å®¹å¾ˆå¿« å½“ä¸€ä¸ªæ–‡ä»¶è¦å‘ç»™æ‰€æœ‰å®¢æˆ·ç«¯çš„æ—¶å€™ï¼Œè¿™ä¸ªé€Ÿåº¦æ˜¯å‘ˆç°æŒ‡æ•°å¢é•¿çš„ã€‚ åŠ¨æœº ä¸Šä¼ åŠ©äººï¼Œä¸‹è½½åŠ©å·±ã€‚ä½ ä¼ ç»™æˆ‘ï¼Œæˆ‘å°±ä¼ ç»™ä½ ï¼Œè¿™æ ·å°±èƒ½åˆä½œ åˆ†å¸ƒå¼å“ˆå¸Œè¡¨ æ¯ä¸ªèŠ‚ç‚¹åªå‚¨å­˜ä¸€éƒ¨åˆ†æ•°æ®ï¼Œä»è€Œåœ¨æ•´ä¸ªç½‘ç»œä¸Šå¯»å€å’Œå‚¨å­˜ï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½æ‰¾åˆ°æˆ‘ä»¬è¦çš„æ–‡ä»¶å‚¨å­˜åœ¨å“ªã€‚ BitTorrentåè®®å°†æ–‡ä»¶åˆ’åˆ†ä¸ºå°å—ï¼Œåˆ©ç”¨å¹¶è¡Œæœºåˆ¶å¿«é€Ÿä¼ è¾“æ•°æ®ã€‚ é¦–å…ˆè”ç³»åˆ†å¸ƒå¼å“ˆå¸Œè¡¨ï¼ŒæŠŠè‡ªå·±åŠ å…¥å…¶ä¸­ï¼Œç„¶åä¼šå¾—åˆ°ä¸€å †ç«¯(peers),ä¸ä¸åŒçš„ç«¯å¹¶è¡Œä¼ è¾“æ•°æ®ï¼Œä¼˜å…ˆå’Œå¿«çš„ç«¯ä¼ è¾“ æœ¬èº«æ‹¥æœ‰æ–‡ä»¶ä½†ä¸ç»™åˆ«çš„ç«¯ä¼ è¾“çš„ç«¯ï¼Œæˆ‘ä»¬ä¹Ÿä¸ç»™ä»–ä¼ æ–‡ä»¶ã€‚ UDP ä¸å¯é ä¼ è¾“ï¼ŒVoice-over-IPã€DNSã€RPCã€DHCP?????? UDPå¤´ 16ä½æºç«¯å£ï¼Œ16ä½ç›®æ ‡ç«¯å£ï¼Œ16ä½UDPé•¿åº¦ï¼Œ16ä½checksum UDPé—®é¢˜ é•¿åº¦å—é™åˆ¶äº†ï¼Œæˆ‘ä»¬è¦å°†å¤§æ–‡ä»¶åˆ†å‰²æˆå°æ–‡ä»¶ï¼Œå“ªä¸€å±‚æ¥è´Ÿè´£ï¼Ÿä¸ºä»€ä¹ˆè¦åˆ†ä¸ºå°å—ï¼Ÿæ›´å¯é ï¼Œä½†æ˜¯å¯èƒ½å¯¼è‡´åå‘é€çš„å…ˆåˆ°è¾¾ã€‚ ä¸å¯é ä¼ è¾“çš„åŒ…çš„é—®é¢˜ ä¸¢å¤± æŸå ä¹±åºåˆ°è¾¾ å»¶æ—¶åˆ°è¾¾ é‡å¤åŒ… ä»€ä¹ˆå«å¯é ï¼Ÿ æ­£ç¡®ã€åŠæ—¶ã€é«˜æ•ˆã€å…¬æ­£ æ­£ç¡® ä¸ä¸¢å¤±ã€ä¸æŸåã€ä¸ä¹±åº ä¸¢å¤±åŒ…ä¸¢å¤±è§£å†³æ–¹æ¡ˆ1 é¢‘ç¹è€Œå¿«é€Ÿåœ°å‘é€å•ä¸ªåŒ… æ­£ç¡®ï¼Œä½†æ•ˆç‡å·®ï¼Œç¼ºä¹æ¥æ”¶ç«¯çš„åé¦ˆï¼Œä¸çŸ¥é“ä½•æ—¶åœæ­¢ã€‚ åé¦ˆACK:æ”¶åˆ°åŒ…äº† NACK: æ²¡æœ‰æ”¶åˆ°åŒ…(ä½ ç¡®å®šï¼Ÿåˆ«äººç»™ä½ å‘åŒ…äº†å—ï¼Ÿ) â€”&gt; å½“æŸåçš„æ—¶å€™ä½¿ç”¨ åŒ…ä¸¢å¤±è§£å†³æ–¹æ¡ˆ2 æ”¶åˆ°ACKä»¥å‰ï¼Œä¸€ç›´é‡å¤å‘åŒ…ï¼Œå¥½å—ï¼Ÿ ä¼˜åŒ–äº†æ—¶é—´æ•ˆç‡ï¼Œä½†æµªè´¹äº†å¸¦å®½ã€‚ç‰¹åˆ«æ˜¯é•¿å»¶æ—¶ç½‘ç»œã€‚ åŒ…ä¸¢å¤±è§£å†³æ–¹æ¡ˆ3 å‘é€åŒ…ä»¥åè®¾ç½®æ—¶é’Ÿï¼Œåœ¨è¿™æ®µæ—¶é—´å†…æ”¶åˆ°ACKåˆ™ç»“æŸï¼Œå¦åˆ™é‡å‘ï¼Œä½†æ˜¯æ—¶é—´è®¾ç½®ä¸ºå¤šå°‘ï¼Ÿï¼Ÿï¼Ÿï¼Ÿ å¤šä¸ªåŒ…çš„é—®é¢˜ å•åŒ…æ–¹æ¡ˆåœ¨å±€åŸŸç½‘ä¸ä¼šå‡ºç°é—®é¢˜ï¼Œå› ä¸ºè·ç¦»è¿‘ï¼Œä½†æ˜¯åœ¨æ›´å¤§çš„ç½‘ç»œå‘¢ï¼Ÿæ•ˆç‡éå¸¸å·®ï¼Œå¸¦å®½åˆ©ç”¨ç‡è¿‡ä½ã€‚ å¤šåŒ…çš„è§£å†³æ–¹æ¡ˆä½¿ç”¨æµæ°´çº¿+æ»‘åŠ¨çª—å£ï¼Œç”¨çª—å£å¤§å°æ§åˆ¶é“¾è·¯ä¸ŠåŒ…çš„æ•°é‡ çª—å£çš„ç›®çš„ é™åˆ¶å¸¦å®½ã€é™åˆ¶æ¥æ”¶ç«¯çš„ç¼“å†²åŒºæ•°é‡ ä¸ºä»€ä¹ˆè¦é™åˆ¶å¸¦å®½ï¼Ÿ ç”¨æ¥æ‹¥å¡æ§åˆ¶ å¤šåŒ…çš„åé¦ˆç´¯åŠ ACKï¼ŒACKçš„æ—¶å€™å›é¦ˆæœªæ”¶åˆ°çš„åŒ…çš„æœ€å°åºå· å®Œå…¨ACKï¼Œå›é¦ˆæ‰€æœ‰æœªæ”¶åˆ°çš„åŒ…åºå·ï¼Œè¿™ä¸ªä¸å¸¸ç”¨,å¯èƒ½ä¼šä¸ç´¯åŠ ACKä¸€èµ·ä½¿ç”¨ å¦‚ä½•æ£€æµ‹ä¸¢åŒ…ç´¯åŠ ACKå¤šæ¬¡è¿”å›åŒä¸€ä¸ªå€¼çš„æ—¶å€™ï¼Œé‚£ä¸ªåŒ…å°±ä¸¢åŒ…äº†ï¼Œ å¦‚ä½•å“åº”ä¸¢åŒ…æ£€æµ‹åˆ°5å·åŒ…ä¸¢å¤±çš„æ—¶å€™ï¼ŒåŒ…5è‚¯å®šè¦é‡å‘ï¼ŒåŒ…6å‘¢ï¼Ÿ GO-BACK-Nç®—æ³•å½“æ£€æµ‹åˆ°5å·åŒ…ä¸¢å¤±çš„æ—¶å€™ï¼ŒæŠŠçª—å£æ»‘å‘5ï¼Œç„¶åé‡æ–°å‘é€çª—å£ä¸­æ‰€æœ‰çš„åŒ…ã€‚ GO-BACK-Nç¼ºç‚¹ ä¸¢å¤± é¡ºå é‡æ’ å»¶æ—¶ é‡å¤ å®Œå…¨åº”ç­”ACKåŸºäºçª—å£ï¼Œåœ¨è¶…æ—¶æˆ–è€…å¤šæ¬¡ACKç”¨ä¸€ä¸ªå€¼åé‡å‘ã€‚ å…¬æ­£åŸºäºçª—å£çš„AIMD,å‘ç°ä¸¢åŒ…ä»¥åæ»‘åŠ¨çª—å£å‡åŠï¼ŒæˆåŠŸæ”¶åˆ°ACKåçª—å£å¢å¤§1 TCP TCPä¼ è¾“æ˜¯ä¸€ç§å¯é ä¼ è¾“çš„å®ç° ä¸å¯é ä¼ è¾“çš„é—®é¢˜ åŒ…ä¸¢å¤± åŒ…æŸå åŒ…ä¹±åº åŒ…å»¶æ—¶ åŒ…é‡å¤ å»ºç«‹TCPè¿æ¥ ä¸ºä»€ä¹ˆTCPè¿æ¥éœ€è¦å»ºç«‹å‘¢? ä¸ºäº†ç¡®ä¿ç½‘ç»œçš„å¯è¾¾æ€§ã€‚ å¦‚ä½•å»ºç«‹è¿æ¥ï¼Œä¸ºä»€ä¹ˆæ˜¯ä¸‰æ¬¡æ¡æ‰‹ è€ƒè™‘è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼Œæœ‰ä¸ªäººå«Cåœ¨æ²³è¾¹æ•£æ­¥ï¼Œä»–è®°å¾—æ²³å¯¹é¢æœ‰ä¸ªäººå«Sï¼Œä½†æ˜¯æ²³ä¸Šé›¾å¤ªå¤§äº†ï¼Œä»–çœ‹ä¸æ¸…å¯¹é¢ã€‚ä»–æƒ³å’Œå¯¹é¢çš„äººå¯¹è¯ã€‚ æ—¢ç„¶æ˜¯ä½ æƒ³å’Œå¯¹é¢çš„äººè¯´è¯ï¼Œä½ é¦–å…ˆå¾—å–Šä¸€å£°å§: â€œå–‚å–‚å–‚ï¼æ²³å¯¹é¢çš„Såœ¨å—ï¼Ÿâ€ï¼Œè¿™æ—¶å€™å¯èƒ½æœ‰å¤šç§æƒ…å†µå‘ç”Ÿï¼Œè§1ï¼Œ2ï¼Œ3ï¼Œ4 çªç„¶æ²³é¢ä¸Šè·³å‡ºä¸€æ¡å¤§é±¼ï¼ŒæŠŠä½ çš„å£°éŸ³ç›–ä½äº†ï¼ŒSæ²¡æœ‰å¬åˆ°ä½ çš„å£°éŸ³ã€‚äºæ˜¯å¯¹è¯ç»“æŸäº†å—ï¼Ÿä¸ä½ å¾—å¤šè¯•å‡ æ¬¡ã€‚å†å»å–Šä»–ï¼Œè¦æ˜¯æ¯æ¬¡éƒ½è¢«è¿™æ¡è¯¥æ­»çš„é±¼ç»™ç›–ä½äº†ï¼Œé‚£å°±æ„å‘³ç€ä½ çš„æ¶ˆæ¯æ— æ³•é€è¾¾åˆ°æ²³å¯¹é¢ã€‚å¯¹ä¸èµ·ï¼Œç½‘ç»œè¿æ¥å¯èƒ½æœ‰é—®é¢˜ã€‚ ä½ çš„å£°éŸ³ä¼ äº†è¿‡å»ï¼Œä½†æ˜¯è¢«æ²³ä¸­é—´çš„æ²³ç¥å·å·æ”¹å˜äº†ï¼Œäºæ˜¯å¯¹é¢å¬åˆ°â€å–‚å–‚å–‚ï¼æ²³å¯¹é¢çš„Sæ­»äº†å—ï¼Ÿâ€ï¼Œè¿™æ—¶å€™Så¯èƒ½å°±ä¸é«˜å…´äº†ï¼Œä»–å°½é‡åˆ†æä½ çš„å¥å­çš„æ„æ€ï¼Œè¿™æ—¶å€™å¦‚æœä»–åˆ†æå‡ºæ¥ä½ æƒ³è¯´â€å–‚å–‚å–‚ï¼æ²³å¯¹é¢çš„Såœ¨å—ï¼Ÿâ€ï¼Œé‚£å°±å¥½è¿™ç­‰ä»·äºä¸‹é¢çš„æƒ…å†µ4ï¼Œè‹¥åˆ†æä¸å‡ºï¼Œä»–å¯èƒ½å°±å½“ä½ æ˜¯ä¸ªå‚»å­è¯´éªšè¯äº†ï¼Œå°±ä¸ç®¡ä½ äº†ã€‚ ä½ çš„å£°éŸ³ä¼ äº†è¿‡å»ï¼Œå¯¹é¢ä¸åœ¨ï¼Œå“¦è±ï¼Œè¿™æ—¶ä½ å¯èƒ½ä¼šå†å«ä»–ï¼Œå«çš„æ¬¡æ•°å¤šäº†å°±çŸ¥é“å«ä¸é€šäº†ã€‚ ä½ çš„å£°éŸ³ä¼ äº†è¿‡å»ï¼Œå¯¹é¢å¬åˆ°äº†ï¼Œä½œä¸ºä¸€ä¸ªç¤¼è²Œçš„äººï¼ŒSè¦å›ç­”ä½ çš„è¯ã€‚ä»–å¯¹ä½ è¯´â€æˆ‘Såœ¨æ²³å¯¹é¢ï¼â€ï¼Œè¿™æ—¶å€™åˆå¾—çœ‹å¤§é±¼è·³è¿˜æ˜¯ä¸è·³äº†å’Œæ²³ç¥å¹²ä¸å¹²åäº‹äº†,å¦‚5ï¼Œ6ï¼Œ7,8 å¤§é±¼è·³äº†ï¼ŒSä¸€çœ‹è‡ªå·±è¯´è¯äº†åŠå¤©ï¼Œä½ ä¸å›ç­”ä»–ï¼ŒSå°±è¦å†æ¬¡è¯´â€æˆ‘Såœ¨æ²³å¯¹é¢ï¼â€ï¼Œè¿™å°±åˆé‡å¤åˆ°æƒ…å†µ4å»äº†ï¼Œè¦æ˜¯Sè¯´äº†å¤šæ¬¡ä½ è¿˜ä¸å›ç­”ä»–,Så°±ä¸ç†ä½ äº†ï¼Œè€Œä½ å¯èƒ½è¿˜ä¼šä»¥ä¸ºä»–æ²¡æœ‰å¬åˆ°ä½ è¯´çš„â€å–‚å–‚å–‚ï¼å¯¹é¢çš„Såœ¨å—ï¼Ÿâ€åœ¨ä¸æ–­çš„å°è¯•ã€‚ æ²³ç¥å¹²åäº‹äº†ï¼Œç»“æœä½ å¬åˆ°äº†â€æˆ‘lbwçœŸçš„æ²¡æœ‰å¼€æŒ‚ï¼â€ï¼Œä½ å°±å¾—å‘æŒ¥ä½ æœºæ™ºçš„å¤´è„‘ï¼ŒæŠŠè¿™å¥è¯åˆ†æä¸ºâ€æˆ‘Såœ¨æ²³å¯¹é¢â€ã€‚è¦æ˜¯åˆ†æä¸å‡ºæ¥ï¼Œå’Œæƒ…å†µ5æ²¡å•¥åŒºåˆ«ï¼Œè¦æ˜¯åˆ†æå‡ºæ¥äº†å°±è¿›å…¥7,8 ä½ çš„å£°éŸ³ä¼ äº†è¿‡å»ï¼Œå¯¹é¢å¬åˆ°äº†ï¼Œç»™ä½ è¯´äº†â€æˆ‘Såœ¨æ²³å¯¹é¢ï¼â€ï¼Œä½ ä¹Ÿå¬åˆ°äº†ï¼Œå¾ˆå¤šäººè¿™å°±ç»“æŸäº†ï¼Œä½ æ˜¯è¿‡ç˜¾äº†ï¼Œå–ŠSè¯´è¯ï¼ŒSç†äº†ä½ ï¼Œä½†Så‘¢ï¼Œè«åå…¶å¦™çš„æœ‰ä¸ªäººå«äº†è‡ªå·±ï¼Œè‡ªå·±ç»™ä»–å›äº†è¯ï¼Œç„¶åå¯¹é¢å°±ä¸è¯´è¯äº†ï¼Œè¿™æ˜¯Så¯èƒ½å°±åœ¨æ‹…å¿ƒï¼Œâ€å“ï¼ä»–å¬åˆ°æˆ‘è¯´æˆ‘åœ¨æ²³å¯¹é¢äº†å—ï¼Ÿâ€ï¼Œç„¶åä»–ä¸ºäº†éªŒè¯è‡ªå·±çš„æ‹…å¿ƒä¸æ˜¯å¤šä½™çš„ï¼Œå°±ä¸€ç›´ç»§ç»­è¯´â€æˆ‘Såœ¨æ²³å¯¹é¢ï¼â€,æ—¶é—´é•¿äº†Så°±ä¼šæƒ³ï¼Œå¯¹é¢æ€•ä¸ä¼šæ˜¯ä¸ªè‹å­å§ã€‚è¿™ä¸ªäº¤æµæ˜¾ç„¶æ˜¯å¤±è´¥çš„ã€‚ ä½ çš„å£°éŸ³ä¼ äº†è¿‡å»ï¼Œå¯¹é¢å¬åˆ°äº†ï¼Œç»™ä½ è¯´äº†â€æˆ‘Såœ¨æ²³å¯¹é¢ï¼â€ï¼Œä½ ä¹Ÿå¬åˆ°äº†ï¼Œè¿™æ—¶å€™ä¸ºäº†é˜²æ­¢å¯¹é¢è®¤ä¸ºä½ æ˜¯ä¸ªè‹å­ï¼Œä½ å¾—å†ç»™ä»–è¯´ä¸€å¥ï¼Œâ€å¾ˆå¥½å¾ˆå¥½ï¼Œæˆ‘çŸ¥é“ä½ åœ¨æ²³å¯¹é¢äº†â€ï¼Œè¿™æ˜¯æœ‰å¯èƒ½å‘ç”Ÿå¾ˆå¤šæƒ…å†µï¼Œå°±å¾—çœ‹é±¼å’Œæ²³ç¥äº†ã€‚9.è¦æ˜¯ä»–ä¿©åˆå¹²åäº‹ï¼ŒSè¦ä¹ˆå¬ä¸åˆ°ä½ è¯´è¯ï¼Œè®¤ä¸ºä½ æ˜¯ä¸ªè‹å­ï¼Œè¦ä¹ˆå¬è§ä½ è¯´éªšè¯ï¼Œè®¤ä¸ºä½ æ˜¯ä¸ªå‚»å­ï¼Œè¿™ä¸¤ç§æƒ…å†µä»–éƒ½ä¼šä¸æ–­åœ°å¤šæ¬¡å¯¹ä½ è¯´ï¼Œâ€æˆ‘Såœ¨æ²³å¯¹é¢â€ï¼Œè¦ä¸å°±åˆ†æå‡ºä½ è¯´â€å¾ˆå¥½å¾ˆå¥½ï¼Œæˆ‘çŸ¥é“ä½ åœ¨æ²³å¯¹é¢äº†â€,è®¤ä¸ºä½ æ˜¯ä¸ªæ­£å¸¸äººã€‚ç°åœ¨ä½ ä»¬éƒ½è®¤ä¸ºå¯¹é¢æ˜¯æ­£å¸¸äººäº†ã€‚è°ˆè¯å¾ˆæ„‰å¿«ã€‚ ä¸‰æ¬¡æ¡æ‰‹æºå¸¦æ›´å¤šçš„ä¿¡æ¯ é€šå¸¸æˆ‘ä»¬åœ¨æ¡æ‰‹çš„æ—¶å€™ï¼Œå°±å‘Šè¯‰å¯¹é¢è‡ªå·±çš„åˆå§‹åŒ…å·ï¼Œç„¶åç¬¬äºŒæ¬¡å’Œç¬¬ä¸‰æ¬¡æ¡æ‰‹çš„æ—¶å€™å°±èƒ½æºå¸¦ACKæ•°æ®äº†ã€‚ å¦‚ä½•å…³é—­è¿æ¥ï¼Œä¸ºä»€ä¹ˆæ˜¯å››æ¬¡æŒ¥æ‰‹ åŸç†ä¸€æ ·çš„ï¼Œæˆ‘ä»¬å¿½ç•¥ä¸¢åŒ…å’ŒåŒ…æŸåï¼Œä¸å¦¨è®¾Cè¦å‡†å¤‡å»åƒé¥­äº†ï¼Œè¿™æ—¶å€™Sè¿˜åœ¨æ»”æ»”ä¸ç»çš„è®²ç€ä»–çš„æ•…äº‹ï¼ŒCå¯¹Sè¯´ï¼Œâ€æˆ‘è¦åƒé¥­äº†â€ï¼ŒSå¬åˆ°åè¯´â€å¥½çš„ï¼Œæˆ‘å¬åˆ°ä½ è¯´ä½ è¦å»åƒé¥­äº†ï¼Œä½†æ˜¯ä½ å…ˆç­‰æˆ‘æŠŠè¿™æ•…äº‹è®²å®Œå†èµ°â€ï¼Œè¿™æ˜¯Cèƒ½ç¦»å¼€å—ï¼Ÿæ˜¾ç„¶ä¸èƒ½ï¼Œä»–å¾—ç­‰ç€ï¼ŒçŸ¥é“Sè¯´â€æˆ‘è®²å®Œäº†â€ï¼Œè¿™æ—¶å€™å·²ç»æŒ¥æ‰‹äº†ä¸‰æ¬¡äº†ï¼Œä½ è¿˜ä¸èƒ½èµ°ï¼Œä½ å¾—æ ¹Sè¯´ï¼Œâ€æˆ‘å¬åˆ°ä½ è¯´è®²å®Œäº†â€ä¹‹åæ‰èƒ½ç¦»å¼€ï¼Œä¸ºä»€ä¹ˆå‘¢?å› ä¸ºä½ è¦æ˜¯ä¸è¯´çš„è¯ï¼Œå¯¹é¢å¯èƒ½ä»¥ä¸ºä½ æ²¡å¬åˆ°ä»–è¯´çš„â€œæˆ‘è®²å®Œäº†â€ï¼Œè¯´ä¸€å…±æ˜¯æŒ¥æ‰‹4æ¬¡ã€‚ æ»‘åŠ¨çª—å£è¶…æ—¶é—®é¢˜ å¤šä¹…æ²¡æœ‰æ”¶åˆ°ACKæ‰ä»£è¡¨ç€æ‰€æœ‰çš„åŒ…å…¨éƒ¨ä¸¢å¤±ï¼Ÿè¿™ä¸ªå¾ˆéš¾ç¡®å®šï¼Œæˆ‘ä»¬å¯ä»¥è®©ä»–è‡ªé€‚åº” è‡ªé€‚åº”RTT$$SRTT_n &#x3D; 0.9SRTT_{n-1} + 0.1RTT_n$$ è¿™ä¸ªä»£è¡¨RTTçš„æœŸæœ›$$SVAR_n &#x3D; 0.9SVAR_{n-1} + 0.1|RTT_n-SRTT_n|$$ è¿™ä¸ªä»£è¡¨RTTçš„æ–¹å·® å½“ä¸€ä¸ªåŒ…è¶…è¿‡æœŸæœ›+3å€çš„æ–¹å·®ä»æœªå›åº”ACKï¼Œè§†ä¸ºä¸¢åŒ… æ»‘åŠ¨çª—å£ä¸¢åŒ…é—®é¢˜ 3æ¬¡ACKï¼Œåˆ™ä¸¢åŒ… æµæ§åˆ¶ æˆ‘ä»¬ä¸€ç›´åœ¨æƒ³åŠæ³•åŠ é€Ÿæˆ‘ä»¬çš„ç½‘ç»œï¼Œç”¨åˆ°äº†å‘é€ç«¯æ»‘åŠ¨çª—å£ï¼Œä½†æ˜¯å¦‚æœæ¥æ”¶ç«¯çš„å†…å­˜å¤ªå°ï¼Œå—ä¸èµ·å¦‚æ­¤å¿«çš„ä¼ è¾“ï¼Œå°±åªèƒ½ä¸¢å¼ƒåé¢æ”¶åˆ°çš„åŒ…ï¼Œå°½ç®¡å·²ç»æ”¶åˆ°äº†ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å¸¸å¸¸è®©æ¥æ”¶ç«¯å‘Šè¯‰å‘é€ç«¯è‡ªå·±è¿˜å‰©ä¸‹å¤šå°‘ç¼“å­˜å–ï¼Œæ¥æ”¾æ…¢ä¼ è¾“é€Ÿç‡ï¼Œé«˜æ•ˆåˆ©ç”¨ç½‘ç»œã€‚ æ‹¥å¡æ§åˆ¶ ç”±äºç½‘ç»œä¸Šå„ä¸ªçº¿è·¯çš„å¸¦å®½ä¸åŒï¼Œå¯èƒ½å¯¼è‡´æ‹¥å µï¼ŒTCPåè®®æ˜¯é—­ç¯ï¼Œé€šè¿‡åé¦ˆä¿¡æ¯æ¥åˆ¤æ–­æ˜¯å¦æ‹¥å µã€‚ AIMD æ²¡æœ‰é˜»å¡çš„æ—¶å€™ï¼Œæ»‘åŠ¨çª—å£å¤§å°+1ï¼Œé˜»å¡çš„æ—¶å€™é™¤ä»¥2ï¼Œ ACKæ—¶é’Ÿå¯åŠ¨ å‘é€ç«¯ä¸€æ¬¡æ€§å‘é€å¤§é‡çš„åŒ…ï¼Œç„¶åå¼€å§‹ç­‰å¾…ACKï¼Œç­‰åˆ°ä¸€ä¸ªACKå°±å‘ä¸‹ä¸€ä¸ªåŒ…ï¼Œè¿™æ ·å°±èƒ½é™ä½ä¸¢åŒ…å’Œå»¶æ—¶ï¼Ÿï¼Ÿï¼Œåˆšå¼€å§‹ä¼šæœ‰ç½‘ç»œçš„çˆ†å‘ï¼Œåé¢ä¼šå¹³æ»‘ TCPæ…¢å¯åŠ¨ ä½¿ç”¨æŒ‡æ•°çš„æ–¹å¼ï¼Œå…ˆå‘ä¸€ä¸ªåŒ…ï¼Œç„¶åæ¯æ”¶åˆ°ä¸€ä¸ªACKï¼Œ(æ»‘åŠ¨çª—å£å¢å¤§1)å‘ä¸¤ä¸ªåŒ…ï¼Œå½“æ‹¥å¡çš„æ—¶å€™æ»‘åŠ¨çª—å£å‡åŠã€‚ è¶…æ—¶æ§åˆ¶ è¶…æ—¶ä»¥åä½¿ç”¨æ…¢å¯åŠ¨(AIMD),æ›´å¥½çš„æ£€æµ‹ä¸¢åŒ…èƒ½ä¿è¯æ›´å¥½çš„AIMD å¿«é€Ÿé‡ä¼ å¿«é€Ÿæ¢å¤ å½“3æ¬¡ACKæ£€æµ‹ä¸¢åŒ…åï¼Œè®¤ä¸ºä¸¢åŒ…ï¼Œé‡ä¼ ä¸€ä¸ªæ®µ,ç„¶åç§¯æ€§å‡å°‘æ»‘åŠ¨çª—å£ ä¸ºä»€ä¹ˆæ˜¯3æ¬¡ é¡ºåºé‡æ’ä¹Ÿä¼šå¯¼è‡´å¤šæ¬¡ACK ä¸ºä»€ä¹ˆç§¯æ€§å‡å°‘ æ¶ˆé™¤è¶…æ—¶æˆ–ä¸¢å¤±åçš„æ…¢å¯åŠ¨ï¼Œå› ä¸ºé‡ä¼ äº†ä¸€ä¸ªæ®µï¼Œå¯èƒ½åé¢ä¼šæ”¶åˆ°å¤§é‡çš„ACKï¼Œé¢„å…ˆå‡å°‘æ»‘åŠ¨çª—å£ï¼Œé˜²æ­¢æ‹¥å¡ ECN(Explicit Congestion Notification) æ˜¾ç¤ºæ‹¥å¡é€šçŸ¥,è·¯ç”±å™¨é€šè¿‡é˜Ÿåˆ—æ£€æµ‹æ‹¥å¡ï¼Œæ ‡è®°æ”¶å½±å“çš„åŒ…ï¼Œè¢«æ ‡è®°çš„åŒ…é€è¾¾æ—¶ï¼Œæ¥æ”¶ç«¯è§†ä¸ºä¸¢å¤±ï¼Œç„¶ååé¦ˆç»™å‘é€ç«¯æ‹¥å¡æ¶ˆæ¯ã€‚ IPv4ä¸IPv6 IPv4ä½¿ç”¨32ä½åœ°å€,IPv6ä½¿ç”¨128ä½åœ°å€ æ—©æœŸçš„åœ°å€ å‰å…«ä½ä¸ºç½‘ç»œåœ°å€ï¼Œå24ä½ä¸ºä¸»æœºåœ°å€ï¼Œäººä»¬è®¤ä¸º256ä¸ªç½‘ç»œå°±è¶³å¤Ÿäº† ç±»åœ°å€ æ¥ä¸‹æ¥äººä»¬è®¾è®¡äº†ABCDEç±»çš„åœ°å€ ç±»åˆ« IP Aç±» 0******* ******** ******** ******** Bç±» 10****** ******** ******** ******** Cç±» 110***** ******** ******** ******** Dç±» 1110**** ******** ******** ******** Eç±» 11110*** ******** ******** ******** å…¶ä¸­çš„Eæ˜¯ä¸ä½¿ç”¨çš„ï¼ŒDæ˜¯å¤šæ’­çš„ Cç±»åœ°å€å¤ªå¤šäº†ï¼Œè·¯ç”±å™¨å­˜ä¸ä¸‹ ç°åœ¨çš„è·¯ç”±è¡¨ CIDR &#x3D; æ— ç±»åˆ«åŸŸé—´è·¯ç”± ç½‘ç»œå’Œä¸»æœºåœ°å€é—´çš„åˆ’åˆ†æ˜¯å¯å˜çš„ ä¸ºäº†è¾¨è®¤è¿™ä¸¤ä¸ªï¼Œæå‡ºäº†æ©ç ï¼ŒIPæŒ‰ä½ä¸æ©ç å°±æ˜¯ç½‘ç»œ perfix Next Hop 192.24.0.0&#x2F;19 D 192.24.12.0&#x2F;22 B å¦‚ä½•å¯»è·¯ï¼Ÿ åŒ¹é…LCP(æœ€é•¿å…¬å…±å‰ç¼€),å¸¸ç”¨Xå¿«é€Ÿå‰ç¼€æ ‘è¿™ä¸ªæ•°æ®ç»“æ„ï¼Œé“¾æ¥åœ¨è¿™{ post_link Xå¿«é€Ÿå‰ç¼€æ ‘ }, é€šè¿‡æœ€ä½³åŒ¹é…é¡¹ï¼Œæ‰¾åˆ°åº”è¯¥èµ°çš„è·¯å¾„å³å¯ã€‚ ç¢°åˆ°ç¯è·¯ ä¸ºæ¯ä¸€ä¸ªIPåŒ…è®¾ç½®TTLï¼Œæ¯ä¸€æ¬¡å¯»è·¯å°±è®©å…¶å‡å°‘1ï¼Œå‡å°‘åˆ°0çš„æ—¶å€™å°±ä¸¢æ‰è¿™ä¸ªåŒ…ã€‚ Traceroute å‘é€TTLä»1å¼€å§‹çš„åŒ…ï¼Œå¯ä»¥ç”¨äºç½‘ç»œæ£€æµ‹ åŒ…å¤ªå¤§æ€ä¹ˆåŠ åˆçš„è·¯ç”±å™¨lowä¸€ç‚¹ï¼Œåªèƒ½æ”¶å°åŒ…,ä½†æ˜¯åˆ°åº•å¤šå¤§çš„åŒ…æ‰æ˜¯æœ€åˆé€‚çš„ï¼Ÿåˆ†åŒ…ä¼šå¢åŠ ä¸¢åŒ…ç‡ å‘ç°è·¯å¾„çš„æœ€å¤§ä¼ è¾“å•ä½ï¼Œä¸»æœºå…ˆå‘ä¸€ä¸ªå¤§åŒ…ï¼Œè·¯ç”±å™¨ä¼ è¾“ï¼Œè‹¥å‡ºé”™ï¼Œè¿”å›æœ€å¤§æ”¯æŒçš„åŒ…å¤§å°ã€‚ ICMP æ˜¯IPçš„ä¼´ä¾£åè®®ï¼Œæä¾›è½¬å‘æ—¶å‘ç”Ÿçš„é”™è¯¯ä¿¡æ¯ï¼Œå½“è·¯ç”±å™¨é‡åˆ°é”™è¯¯ï¼Œå°±å‘é€ä¸€ä¸ªICMPç»™IPæºåœ°å€ å‘é€æ‹¥å¡ä¿¡å· ä¸ºåŒ…æ‰“æ ‡è®°ï¼Œå‘ŠçŸ¥ä¸»æœºå‘ç”Ÿæ‹¥å¡ å¦‚ä½•è·å¾—IPåœ°å€ è¿‡å»æ‰‹åŠ¨é…ç½®ï¼Œç°åœ¨ä½¿ç”¨DHCP DHCP å‘å…¶ä»–èŠ‚ç‚¹å‘æ”¾IPåœ°å€ï¼Œæä¾›ç½‘ç»œå‰ç¼€ï¼Œæä¾›æœ¬åœ°è·¯ç”±å™¨åœ°å€ï¼Œæä¾›DNSæœåŠ¡å™¨ã€æ—¶é—´æœåŠ¡å™¨ç­‰ èŠ‚ç‚¹åªéœ€è¦åœ¨ç½‘ç»œä¸Šå¹¿æ’­ï¼ŒDHCPæœåŠ¡å™¨ä¾¿ä¼šå›åº”ã€‚ IPV6 ä»æ ¹æœ¬ä¸Šè€Œè¨€ï¼ŒIPv6ä¸ä¸IPv4å…¼å®¹ï¼Œé‚£æˆ‘ä»¬æ€ä¹ˆåœ¨IPv4ç½‘ç»œä¸­å‘é€IPv6çš„åŒ…å‘¢ï¼Ÿæˆ‘ä»¬åœ¨å…¶åŒ…å¤–å°è£…ä¸€å±‚IPv4å¤´å³å¯ã€‚ NAT æœ¬è´¨ä¸Šå°±æ˜¯å°†å†…ç½‘åœ°å€+ç«¯å£æ˜ å°„åˆ°å¤–ç½‘åœ°å€+ç«¯å£ Internal IP:port External IP: port 192.168.1.12:5523 44.25.80.3:1500 192.168.1.13:5523 44.25.80.3:1502 192.168.1.20:5523 44.25.80.3:1505 ç¼ºç‚¹ï¼š å¤–ç½‘æ— æ³•ç›´æ¥è®¿é—®å†…ç½‘ï¼Œéœ€è¦å†…ç½‘å…ˆä¸å¤–ç½‘å»ºç«‹é“¾æ¥ ä¼˜ç‚¹ï¼š ç¼“è§£IPåœ°å€å‹åŠ›ï¼Œæ˜“äºéƒ¨ç½²ï¼Œç§å¯† è§£å†³è·¯ç”±å™¨ç¯è·¯flood æ³›æ´ªï¼Œç”±ä¸€ä¸ªèŠ‚ç‚¹å¼€å§‹ï¼Œå‘å››å‘¨æ‰©æ•£ï¼ŒfloodåŒ…æœ€ç»ˆä¼šå‘ç»™æ¯ä¸ªå…¶ä»–èŠ‚ç‚¹ï¼Œäºæ˜¯å¤§å®¶éƒ½çŸ¥é“äº†å¦‚ä½•åˆ°è¾¾ç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„è·¯å¾„ å­¦ä¹ å‹äº¤æ¢æœº å½“åŒ…åˆ°è¾¾ï¼ŒæŸ¥çœ‹æºIDï¼Œå·²ç»è¿›å…¥çš„ç«¯å£ï¼Œå°†å…¶å­˜å…¥è·¯ç”±è¡¨ï¼Œå¹¶è®¾ç½®ç€ä¸€é¡¹çš„å­˜æ´»æ—¶é—´ï¼Œå¦‚æœä¸çŸ¥é“è¦æ€ä¹ˆèµ°ï¼Œå°±å‘ç»™æ‰€æœ‰ç›¸é‚»è·¯ç”±å™¨ è§£å†³æœ€çŸ­è·¯å¾„é—®é¢˜åˆ†å¸ƒå¼bellman-fordç®—æ³•ï¼Œè®°å½•ä¸€ä¸ªçŸ©é˜µï¼ŒD(X,Y,Z)ä»£è¡¨ä»Xåˆ°Yç»è¿‡Zçš„æœ€ä½³è·ç¦»ï¼Œç„¶åè·‘bellman-fordç®—æ³•å°±å¯ä»¥äº† æ¯’æ€§é€†è½¬ æœ‰ç‚¹å¤æ‚äº†ï¼Œæºœæºœçƒ å¤šå¾„è·¯ç”± ä¿å­˜æœ€çŸ­è·¯dagï¼Œè½¬å‘çš„æ—¶å€™å°±èƒ½é€‰æ‹©å¤šä¸ªåç»§èŠ‚ç‚¹å‘é€ï¼Œè¿›è¡Œè´Ÿè½½å‡è¡¡ å±‚æ¬¡è·¯ç”± è·¯ç”±åˆ°ä¸€ä¸ªåŒºåŸŸè€Œä¸æ˜¯å•ä¸ªèŠ‚ç‚¹ï¼Œå…ˆè·¯ç”±åˆ°åŒºåŸŸï¼Œç„¶ååˆ°åŒºåŸŸå†…çš„IPå‰ç¼€ ç­–ç•¥è·¯ç”± ISPä¸ºå®¢æˆ·æä¾›è·¯ç”±æœåŠ¡ï¼Œå®¢æˆ·ä¸ºISPä»˜è´¹ï¼ŒISPå†…çš„å®¢æˆ·äº’ç›¸è·¯ç”±ä¸ä»˜è´¹ å¸§ å°±æ˜¯ä¸€ä¸²æ•°å­— å­—èŠ‚è®¡æ•° æ¯ä¸€å¸§çš„ç¬¬ä¸€ä¸ªæ•°å­—è®°å½•äº†è¿™ä¸€å¸§çš„é•¿åº¦,å¾ˆè¾£é¸¡ï¼Œé”™ä½å°±å‡‰å‡‰ å­—èŠ‚å¡«å…… å‰ååŠ ä¸Šç‰¹æ®Šflagï¼Œå°±åƒå­—ç¬¦ä¸²çš„å†™æ³•ä¸€æ ·ï¼Œå¦‚abcâ€abcå°±å†™æˆäº†â€abc&quot;abcâ€,è¿™æ ·åšå¯¼è‡´flagè¦è½¬ç ã€‚ ä½å¡«å…… flagä¸º6ä¸ªè¿ç»­çš„1ï¼Œå‘é€æ•°æ®çš„æ—¶å€™äº”ä¸ªè¿ç»­çš„1åæ’å…¥ä¸€ä¸ª0ï¼ŒåŸç†æ˜¯ä»€ä¹ˆ? ç¼–ç ï¼Ÿä¸‹å›¾æ˜¯ä¸€ä¸ªæ­£å¸¸çš„ç¼–ç ã€‚ä»–åªèƒ½è¯†åˆ«00ï¼Œ01ï¼Œ10ï¼Œ11 1234567graph TBs((.))--0--&gt; 0((.))s((.))--1--&gt; 1((.))1((.)) --0--&gt; 10((10))1((.)) --1--&gt; 11((11))0((.)) --0--&gt; 00((00))0((.)) --1--&gt; 01((01)) è¿™æ ·æ”¹è¿›ä¸€ä¸‹å‘¢?ï¼ˆæˆ‘å¤ªèœäº†mermaidç”¨ä¸å¥½ï¼Œç¬¬ä¸€å±‚çš„1å±…ç„¶åœ¨å·¦è¾¹) 123456789graph TBs((.))--0--&gt; 0((.))s((.))--1--&gt; 1((.))0((.)) --0--&gt; 00((00))0((.)) --1--&gt; 01((01))1((.)) --0--&gt; 10((10))1((.)) --1--&gt; 11((.))11((.)) --0--&gt; 110((110))11((.)) --1--&gt; 111((111)) ç„¶åå°±èƒ½è¯†åˆ«00ï¼Œ01ï¼Œ10ï¼Œ110ï¼Œ111,æˆ‘ä»¬è®©111ä½œæ–‡åˆ†å‰²ç¬¦ï¼Œ110è¡¨ç¤º11å³å¯ã€‚ ä¸ºäº†èƒ½è®©è¿™ä¸ªæ›´åŠ æ£’ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ ‘çš„é«˜åº¦å¼„å¤§ä¸€ç‚¹ã€‚è¿™é‡Œæˆ‘å°±ä¸ç”»äº†ã€‚ å¦‚ä½•ä¾¦é”™ æä¸¤ä¸ªæ‹·è´ï¼Œä¸åŒå³é”™ã€‚å¤ªlowäº† æhash check sumï¼Œè¿™ä¸ªå¾ˆæ£’ internetæ ¡éªŒå’Œ å®šä¹‰å‡½æ•°f(x) &#x3D; x&gt;&#x3D;n?f(x%n+x&#x2F;n):xï¼Œnä¸ºä¸€ä¸ªäºŒçš„å¹‚ï¼Œ check &#x3D; n-f(sum)-1, éªŒè¯ï¼š f(check+sum)&#x3D;n-1ï¼Œè¿™ä¸ªæ˜¯æ˜¾ç„¶çš„ å¾ªç¯å†—ä½™æ ¡éªŒ è¿™ä¸ªå°±æ˜¯ä½¿ç”¨å¤šé¡¹å¼åœ¨ç³»æ•°è†œ2çš„å‰©ä½™ä½“ç³»ä¸‹çš„é™¤æ³•è¿ç®—ï¼Œå°†å¾—åˆ°çš„æ¨¡æ•°æ·»åŠ åˆ°æœ€åé¢ç”¨äºä¾¦é”™ã€‚ å¦‚ä½•çº é”™ æ±‰æ˜ç  é€šå¸¸ä½¿ç”¨äºŒçš„å¹‚-1å¯¹é½ï¼Œå¦‚æœæˆ‘ä»¬æ”¾å…¥kä¸ªæ£€éªŒä½ï¼Œåˆ™åœ¨æœ€å¤šå‡ºç°ä¸€ä¸ªé”™è¯¯çš„æƒ…å†µä¸‹å¯ä»¥ä¿æŠ¤2^k-1ä¸ªä½ï¼Œä¸ºä»€ä¹ˆï¼ŸäºŒåˆ†ï¼æˆ‘ä»¬è®²æ£€éªŒä½æ”¾åœ¨1ï¼Œ2ï¼Œ4ï¼Œ8â€¦ç­‰åœ°æ–¹ï¼Œç„¶åä½¿ç”¨äºŒè¿›åˆ¶åˆ†ç±»çš„æ–¹å¼å¯¹æ•´ä¸ªåºåˆ—è¿›è¡Œå¼‚æˆ–å³å¯ã€‚è§£ç çš„æ—¶å€™é‡æ–°è®¡ç®—æ£€éªŒä½ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯åœ¨äºŒåˆ†ã€‚å¾—åˆ°çš„å€¼ä½0ï¼Œè¡¨ç¤ºæ— é”™è¯¯ï¼Œå¦åˆ™ç¿»è½¬åçš„ä½å°±æ˜¯é”™è¯¯ä½ã€‚ å·ç§¯ç ã€‚ ä¾¦é”™è¿˜æ˜¯çº é”™ï¼Ÿ éœ€è¦æ ¹æ®é”™è¯¯ç‡æ¥é€‰æ‹© å¤šè·¯å¤ç”¨ æ—¶åˆ†å’Œé¢‘åˆ† å®‰å…¨åŠ å¯†ï¼Œæœ‰ä¸¤ç§ï¼Œå¯¹ç§°åŠ å¯†å’Œéå¯¹ç§°åŠ å¯†ï¼Œå…ˆç”¨éå¯¹ç§°åŠ å¯†ï¼Œç„¶åç”¨å¯¹ç§°åŠ å¯† åŠ å¯† &#x3D; æ­£ç¡®çš„å‘é€è€…å’Œå®Œæ•´æ€§ RSAåŠ å¯† ä¸¤ä¸ªå¤§ç´ æ•°p,qç›¸ä¹˜å¾—åˆ°Nï¼Œæ˜¾ç„¶$\\phi(N)&#x3D;\\phi(p)\\ast\\phi(q)&#x3D;(p-1)\\ast(q-1)$,æ‰¾åˆ°ä¸¤ä¸ªæ•°e,dæ»¡è¶³$ed%\\phi(N)&#x3D;1$,è¿™é‡Œå¯ä»¥å…ˆéšä¾¿ç”Ÿæˆä¸€ä¸ªeï¼Œç„¶ååˆ©ç”¨exgcdç®—å‡ºdï¼Œæ˜¾ç„¶eéœ€è¦ä¸$\\phi(N)$äº’è´¨ï¼Œå¦åˆ™æ— è§£ã€‚ å…¶ä¸­(e,N)ä¸ºå…¬é’¥ï¼Œ(d,N)ä¸ºç§é’¥ã€‚ è¯æ˜$x^{ed}%N&#x3D;x$,å¦‚æœxä¸Näº’è´¨ï¼Œæ˜¾ç„¶æˆç«‹ï¼Œå¦‚æœxä¸Nä¸äº’è´¨ï¼Œä¸æ˜¯ä¸€èˆ¬æ€§ï¼Œå‡è®¾$x&#x3D;kp$ï¼Œ åˆ™$x^{ed}%q&#x3D;x%q$, äºæ˜¯$x^{ed}&#x3D;x+tq$,è¿™ä¸€æ­¥å¾ˆç»†èŠ‚ï¼Œéƒ½çŸ¥é“$&#x3D;x%q+tq$æˆç«‹ï¼Œä¸ºä»€ä¹ˆè¿™æ ·ä¹Ÿæˆç«‹ï¼Ÿåˆ™$x^{ed}%p&#x3D;(x+tq)%p&#x3D;tq%p&#x3D;0$ï¼Œå³tqåŒæ—¶æ˜¯på’Œqçš„å€æ•°ï¼Œäºæ˜¯$x^{ed}%N&#x3D;(x+tq)%N&#x3D;x$ æ•°å­—ç­¾å å’Œä¿¡æ¯ä¸€èµ·å‘é€ï¼Œè®©åˆ«äººçŸ¥é“è¿™æ¡ä¿¡æ¯æ˜¯è‡ªå·±å‘çš„ï¼Œå› ä¸ºå…¬é’¥è§£å¯†åæ˜¯ç­¾å åŠ é€Ÿç­¾å RSAæ€§èƒ½ä¸ä½³ï¼Œåªå¯¹æ‘˜è¦ç­¾åï¼Œæ‘˜è¦æ˜¯æ ¡éªŒå’ŒåŠ è®¤è¯åŠ ä¸Šæ—¶é—´æˆ³ï¼Œè¦ä¸ç„¶åˆ«äººæ‹¿ç€è€æ¶ˆæ¯æ–­ç« å–ä¹‰ æ— çº¿ç½‘å®‰å…¨ é˜²ç›‘å¬ï¼Œé˜²è¹­ç½‘ WPA2WEBå®‰å…¨ ç›‘å¬c&#x2F;sæµé‡ï¼Œç¯¡æ”¹c&#x2F;sæ¶ˆæ¯ï¼Œå‡å†’webæœåŠ¡å™¨ SSL&#x2F;TLSæµè§ˆå™¨é€šçŸ¥æœåŠ¡å™¨è‡ªå·±æ”¯æŒçš„åŠ å¯†åè®®ï¼ŒæœåŠ¡å™¨é€‰æ‹©åè®®å¹¶å‘Šè¯‰æµè§ˆå™¨è¯ä¹¦ï¼Œæµè§ˆå™¨ç”¨CAçš„å…¬é’¥é‰´åˆ«è¯ä¹¦ï¼Œæµè§ˆå™¨ç”¨å…¬é’¥åŠ å¯†ä¸€ä¸ªéšæœºæ•°å‘ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨è§£å¯†åæŠŠéšæœºæ•°å’ŒåŠ å¯†åçš„æ–°çš„å¯¹ç§°å¯†é’¥è¿”å›ç»™æµè§ˆå™¨ï¼ŒåŒæ–¹å¼€å§‹å¯¹ç§°åŠ å¯†ã€‚ å®¢æˆ·ç«¯è¯·æ±‚SSLè¿æ¥ï¼Œå‘é€ä¸€ä¸ªéšæœºæ•°å’Œå®¢æˆ·ç«¯æ”¯æŒçš„åŠ å¯†ç®—æ³•ï¼Œ æœåŠ¡ç«¯å›å¤åŠ å¯†ç®—æ³•ï¼Œä¸€ä¸ªéšæœºæ•°ï¼ŒCAè¯ä¹¦å’Œç­¾åï¼Œå…¬é’¥ å®¢æˆ·ç«¯éªŒè¯CAè¯ä¹¦å’Œç­¾åï¼Œå†ç”Ÿæˆä¸€ä¸ªéšæœºæ•°ï¼Œå¹¶ç”¨å…¬é’¥åŠ å¯†ï¼Œè¿”å›ç»™æœåŠ¡ç«¯ æœåŠ¡ç«¯ç”¨ç§é’¥è§£å¯†éšæœºæ•°ï¼Œç°åœ¨ä»–åº”è¯¥çŸ¥é“3ä¸ªéšæœºæ•°ï¼Œç”¨ä»–ä»¬é€šè¿‡ä¸€å®šç®—æ³•ç”Ÿäº§å¯¹ç§°åŠ å¯†çš„å¯†é’¥ï¼Œç„¶åå°è¯•ç”¨è¿™ä¸ªç»™å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªæ¶ˆæ¯æ¥æµ‹è¯•å¯†é’¥ DNSå®‰å…¨ DNSä¼ªè£…,ä½¿ç”¨åŠ å¯†ã€‚ é˜²ç«å¢™ é˜²ç«å¢™å¯¹æ¯ä¸ªåŒ…ï¼Œä½œå‡ºå†³ç­–ï¼Œæ¥å—æˆ–ä¸¢å¼ƒ æ— çŠ¶æ€é˜²ç«å¢™ æ‹’ç»æŸäº›æœåŠ¡ã€ç«¯å£ã€ç›®æ ‡ æœ‰çŠ¶æ€é˜²ç«å¢™ å…è®¸å†…éƒ¨ä¸»æœºè¿æ¥åæ¥å—TCPåŒ… åº”ç”¨å±‚é˜²ç«å¢™ æŸ¥çœ‹åŒ…å†…å®¹ï¼Œè¿›è¡Œå®‰å…¨æ£€æµ‹ VPNéš§é“ IP in IPï¼Œåœ¨IPå¤–å†æ¬¡å°è£…ä¸€å±‚IPå®ç°è™šæ‹Ÿé“¾è·¯å°åŒ… DoS ç•¸å½¢åŒ…ã€å‘é€TCPè¿æ¥è¯·æ±‚ä½†ä¸å‘é€æ¥ä¸‹æ¥çš„ï¼Œ IPä¼ªè£… å°†å‡çš„æºåœ°å€æ”¾åˆ°åŒ…ä¸Šï¼ŒISPè¦å¹²ä¸€äº›äº‹æƒ…æ¥é¢„é˜²è¿™ç§äº‹ä»¶ å¯†ç å­¦ç®—æ³•MD5ç®—æ³•å’ŒSHA1ç®—æ³• è¿™æ˜¯ä¸€ä¸ªå“ˆå¸Œå‡½æ•°ï¼Œä»–å¾ˆå¤æ‚ï¼Œå–äº†å¾ˆå¤šå¥‡æ€ªçš„æ•°å­—ï¼Œç„¶åå¯¹æ•°æ®åˆ†æ®µï¼Œç„¶åç–¯ç‹‚çš„åŠ å‡å’Œå„ç§ä½è¿ç®—ï¼Œè¿™å¯¼è‡´äº†ä»–ä¸å¯é€† CRCç®—æ³• æŠŠæ•°æ®çœ‹ä¸ºä¸€ä¸ªäºŒè¿›åˆ¶ä¸²ï¼Œè¿›è€ŒæŠŠæ¯ä¸€ä½çœ‹ä½œç³»æ•°ï¼Œäºæ˜¯æˆäº†ä¸€ä¸ªå¤šé¡¹å¼f(x)ï¼Œè®©è¿™ä¸ªå¤šé¡¹å¼ä¹˜ä»¥$x^k$,ç„¶åæ¨¡ä¸Šg(x),å¾—åˆ°ä½™æ•°h(x), æˆ‘ä»¬ä¼ è¾“çš„æ—¶å€™ä¼ è¾“$F(x)&#x3D;f(x)*x^k+h(x)$,éªŒè¯çš„æ—¶å€™F(x)æ¨¡g(x)ä¸º0å³å¯ ç½®æ¢ è¿™ä¸ªä¸œè¥¿å˜¿å˜¿å˜¿ï¼Œä¸æ˜¯è¿™ç¯‡åšå®¢çš„é‡ç‚¹ï¼Œäº†è§£ä¸€å°ä¸‹å«ç½®æ¢ç¾¤ï¼šï¼‰ åªè¦çŸ¥é“ç½®æ¢æ˜¯å¯é€†çš„å°±è¡Œäº† AESç®—æ³• æŠŠæ˜æ–‡åˆ†ç»„ï¼Œæ¯ç»„128ä½å³16å­—èŠ‚ å…ˆæŠŠä¸€ç»´çš„messageåšæˆä¸€ä¸ªäºŒç»´çš„åˆ—ä¼˜å…ˆçŸ©é˜µ[4*4], ç„¶åè¿›è¡Œå¾ˆå¤šè½®ä¸‹è¿°æ“ä½œ å­—èŠ‚ç½®æ¢ï¼Œ æŠŠçŸ©é˜µçš„æ¯ä¸€ä¸ªå…ƒç´ æŸ¥è¡¨æ›¿æ¢ä¸ºå¦ä¸€ä¸ªå…ƒç´  è¡Œä½ç§»ï¼Œ ç¬¬ä¸€è¡Œä¸å˜ï¼Œç¬¬äºŒè¡Œå‘å³ç§»åŠ¨ä¸€ä¸ªå•ä½ï¼Œç¬¬ä¸‰è¡Œç§»åŠ¨ä¸¤ä¸ªï¼Œä»¥æ­¤ç±»æ¨ åˆ—æ··æ·†ï¼Œåœ¨æ¨¡ç¾¤ä¸‹ï¼Œè®©è‡ªå·±ä¹˜ä¸Šä¸€ä¸ªçŸ©é˜µA(ç¡®ä¿Aå­˜åœ¨é€†å…ƒ)ï¼Œ è½®å¯†é’¥åŠ ï¼Œå°±æ˜¯å¼‚æˆ–å¦ä¸€ä¸ªçŸ©é˜µBå³å¯ä¸éš¾å‘ç°ç¬¬å››æ­¥å¯ä»¥å†æ¬¡å¼‚æˆ–Bå¤åŸï¼Œç¬¬ä¸‰æ­¥å¯ä»¥ä¹˜ä¸ŠAçš„é€†å¤åŸï¼Œç¬¬äºŒæ­¥å¯ä»¥å‘å·¦ç§»ä½å¤åŸï¼Œç¬¬ä¸€æ­¥å¯ä»¥æŸ¥è¡¨å¤åŸï¼Œç¬¬ DESç®—æ³• æŠŠæ˜æ–‡åˆ†ç»„ï¼Œæ¯ç»„64ä½å³8å­—èŠ‚ åˆå§‹ç½®æ¢ï¼Œ é€šè¿‡æŸ¥è¡¨çš„æ–¹å¼ï¼ŒæŠŠæ¯ä¸€ä½ä¸Šçš„å…ƒç´ æ›¿æ¢ä¸ºå¦ä¸€ä¸ªä½ä¸Šçš„å…ƒç´  åŠ å¯†å¤„ç†ï¼Œå…±16è½®ï¼Œå…ˆæŠŠ64ä½çš„æ•°æ®æ‹†ä¸ºä¸¤ä¸ª32ä½çš„æ•°æ®Lå’ŒRï¼Œ$L_i&#x3D;R_{i-1},R_i&#x3D;L_{i-1}^f(R_{i-1],k_{n-1}})$ kæ˜¯ä¸€ä¸ªå¯†é’¥ å‡½æ•°f ç¬¬ä¸€æ­¥ï¼Œå¯†é’¥ç½®æ¢ ï¼Œ ç”¨64ä½çš„å¯†é’¥ç”Ÿæˆ16ä¸ª48ä½çš„å­å¯†é’¥ï¼Œæ¯ä¸€è½®ä½¿ç”¨ä¸åŒçš„å­å¯†é’¥ï¼Œä½¿ç”¨å¾ªç¯å·¦ç§»ç”Ÿæˆ å‡½æ•°f ç¬¬äºŒæ­¥ï¼Œæ‹“å±•ç½®æ¢ ï¼Œ è®²32ä½çš„Ræ”¹å˜ä½çš„æ¬¡åºå¹¶é‡å¤æŸäº›ä½ï¼Œæ‹“å±•ä¸º48ä½ï¼Œ å‡½æ•°f ç¬¬ä¸‰æ­¥ï¼ŒSç›’æ›¿æ¢ ï¼Œ æŠŠ48ä½çš„Råˆ†å‰²ä¸º8ä¸ª6ä½çš„å°æ®µï¼Œå¯¹æ¯ä¸€ä¸ªæ®µä½¿ç”¨Sç›’æ¥æ›¿æ¢ï¼Œè¾“å‡ºæ˜¯4ä½ï¼Œæ•…è€Œæœ€ç»ˆRåˆä»48ä½å˜æˆäº†32ä½ï¼Œ å‡½æ•°f ç¬¬å››æ­¥ï¼ŒPç›’ç½®æ¢ , æŠŠ32ä½çš„Rå†æ¬¡å’Œåˆå§‹ç½®æ¢ç±»ä¼¼çš„æ–¹æ³•ç½®æ¢å³å¯è§£å¯†ä¸€æ ·çš„å•¦ RSAç®—æ³• åŸºäºå¤§åˆæ•°éš¾ä»¥åˆ†è§£çš„åŸç†ï¼Œè¾¾åˆ°éš¾ä»¥ç ´è§£ï¼ŒåŸºäºæ¨¡ç¾¤çš„æ€§è´¨è¾¾åˆ°åŠ å¯†å’Œè§£å¯† ECCç®—æ³• ä¸€ä¸ªåŸºäºåœ†é”¥æ›²çº¿çš„ç®—æ³•ï¼Œéå¯¹ç§°åŠ å¯†ç®—æ³• HPACKHPACK: ä¸“é—¨ä¸ºå¤´éƒ¨è®¾è®¡çš„å‹ç¼©ç®—æ³•ï¼Œä½¿ç”¨ä¸¤ä¸ªç´¢å¼•è¡¨æ¥æŠŠå¤´éƒ¨æ˜ å°„åˆ°ç´¢å¼•å€¼ï¼Œä¸€ä¸ªæ˜¯é™æ€ç´¢å¼•ï¼Œä¸€ä¸ªæ˜¯åŠ¨æ€ç´¢å¼• é™æ€ç´¢å¼•è¡¨: é¢„å…ˆåªæœ‰å°‘é‡çš„å€¼,ä½†æ˜¯è¿™ä¸ªè¡¨æ˜¯å›ºå®šçš„ åŠ¨æ€ç´¢å¼•è¡¨: æ˜¯ä¸€ä¸ªå…ˆè¿›å…ˆå‡ºçš„é˜Ÿåˆ—ç»´æŠ¤çš„ç©ºé—´æœ‰é™çš„è¡¨ï¼Œæ¯ä¸ªåŠ¨æ€è¡¨åªé’ˆå¯¹ä¸€ä¸ªè¿æ¥ï¼Œ æ•´å½¢ç¼–ç : å¤´+valueï¼Œå¦‚æœä¸å¤Ÿé•¿åº¦ï¼Œåˆ™ä¸‹ä¸€ä¸ªå­—èŠ‚ä¸º0+value(x-2^n+1) å­—ç¬¦ä¸²ç¼–ç : H+len+data, æ˜¯å¦æ›¼å“ˆé¡¿+å­—ç¬¦ä¸²é•¿åº¦+æ•°æ®ï¼Œ æœ‰ä¸¤ç§ç¼–ç æ–¹å¼ï¼Œçœ‹ç¬¬ä¸€ä½å¦‚æœä¸º1å°±ç®—å“ˆå¤«æ›¼ç¼–ç ï¼Œå¦åˆ™æ˜¯åŸä¸² äºŒè¿›åˆ¶ç¼–ç : ç„¶åå°±å¼€å§‹ç»´æŠ¤åŠ¨æ€è¡¨ ä»¥å¤ªç½‘ä»¥å¤ªç½‘æ˜¯ä¸€ç§è®¡ç®—æœºå±€åŸŸç½‘æŠ€æœ¯ï¼Œå·¥ä½œäºé“¾è·¯å±‚ï¼Œä½¿ç”¨MACåœ°å€å¯»å€ã€‚ å‚è€ƒä»¥å¤ªç½‘ï¼ŒOSIä¸TCP&#x2F;IP å›¾è§£SSL&#x2F;TLSåè®® HTTP1.0å’ŒHTTP1.1å’ŒHTTP2.0çš„åŒºåˆ«","categories":[],"tags":[]},{"title":"Boostæºç ","slug":"Language/C++/Boostæºç /index","date":"2020-03-17T06:57:43.000Z","updated":"2020-03-17T08:55:58.000Z","comments":true,"path":"Q7BSO7.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q7BSO7.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial remove_cv remove_cv è¿™ä¸ªæ¨¡ç‰ˆç±»èƒ½å¤Ÿå¸®æˆ‘ä»¬å»æ‰ç±»å‹çš„constï¼Œä»–çš„å®ç°å¾ˆç®€å•ï¼Œå³ä½¿ç”¨æ¨¡ç‰ˆå…ƒæŠ€æœ¯ï¼š 1234template &lt;class T&gt; struct remove_cv&#123; typedef T type; &#125;;template &lt;class T&gt; struct remove_cv&lt;T const&gt;&#123; typedef T type; &#125;;template &lt;class T&gt; struct remove_cv&lt;T volatile&gt;&#123; typedef T type; &#125;;template &lt;class T&gt; struct remove_cv&lt;T const volatile&gt;&#123; typedef T type; &#125;; è¿™ä¸ªä»£ç åº”è¯¥éå¸¸å®¹æ˜“ç†è§£ï¼Œremove_cvçš„æ¨¡ç‰ˆæ˜¯ä¸€ä¸ªT,æˆ‘ä»¬å¯¹ä»–åšæ¨¡ç‰ˆåç‰¹åŒ–ï¼Œå°†const å’Œvolatileåˆ†ç¦»ï¼Œç„¶åä½¿ç”¨::valueå°±å¯ä»¥å¾—åˆ°æ²¡æœ‰constã€volatileçš„ç±»å‹äº†ï¼Œæ‰€ä»¥è¿™ä¸ªç±»ä¹Ÿå«remove_cvã€‚ is array is arrayçš„å®ç°éå¸¸ç®€å•ï¼Œæˆ‘ä»¬å…ˆå‡è®¾æ‰€æœ‰çš„éƒ½ä¸æ˜¯arrayï¼Œå³å¦‚ç¬¬å››è¡Œæ‰€ç¤ºï¼Œç„¶ååˆ©ç”¨åç‰¹åŒ–ï¼Œç‰¹åˆ¤æ‰æ‰€æœ‰çš„arrayå³å¯ï¼Œè®©ä»–ä»¬ç»§æ‰¿true_type,è¿™æ ·æˆ‘ä»¬åœ¨ä½¿ç”¨çš„æ—¶å€™ç”¨::valueå³å¯åˆ¤æ–­ã€‚ 12345678910111213141516#if defined( __CODEGEARC__ ) template &lt;class T&gt; struct is_array : public integral_constant&lt;bool, __is_array(T)&gt; &#123;&#125;;#else template &lt;class T&gt; struct is_array : public false_type &#123;&#125;;#if !defined(BOOST_NO_ARRAY_TYPE_SPECIALIZATIONS) template &lt;class T, std::size_t N&gt; struct is_array&lt;T[N]&gt; : public true_type &#123;&#125;; template &lt;class T, std::size_t N&gt; struct is_array&lt;T const[N]&gt; : public true_type&#123;&#125;; template &lt;class T, std::size_t N&gt; struct is_array&lt;T volatile[N]&gt; : public true_type&#123;&#125;; template &lt;class T, std::size_t N&gt; struct is_array&lt;T const volatile[N]&gt; : public true_type&#123;&#125;;#if !BOOST_WORKAROUND(__BORLANDC__, &lt; 0x600) &amp;&amp; !defined(__IBMCPP__) &amp;&amp; !BOOST_WORKAROUND(__DMC__, BOOST_TESTED_AT(0x840)) template &lt;class T&gt; struct is_array&lt;T[]&gt; : public true_type&#123;&#125;; template &lt;class T&gt; struct is_array&lt;T const[]&gt; : public true_type&#123;&#125;; template &lt;class T&gt; struct is_array&lt;T const volatile[]&gt; : public true_type&#123;&#125;; template &lt;class T&gt; struct is_array&lt;T volatile[]&gt; : public true_type&#123;&#125;;#endif#endif integral_consant è¿™ä¹Ÿæ˜¯ä¸€ä¸ªæ¨¡ç‰ˆå…ƒæŠ€æœ¯ï¼Œä»–å‚¨å­˜äº†è‡ªå·±çš„ç±»å‹ï¼Œæ¨¡ç‰ˆçš„ç±»å‹ï¼Œæ¨¡ç‰ˆçš„å€¼çš„ç±»å‹ï¼Œä»–çš„å®ç°å¦‚ä¸‹ 12345678910111213141516template &lt;class T, T val&gt; struct integral_constant &#123; typedef mpl::integral_c_tag tag; typedef T value_type; typedef integral_constant&lt;T, val&gt; type; static const T value = val; operator const mpl::integral_c&lt;T, val&gt;&amp; ()const &#123; static const char data[sizeof(long)] = &#123; 0 &#125;; static const void* pdata = data; return *(reinterpret_cast&lt;const mpl::integral_c&lt;T, val&gt;*&gt;(pdata)); &#125; BOOST_CONSTEXPR operator T()const &#123; return val; &#125; &#125;; è¿™é‡Œå¾ˆæ˜æ˜¾äº†ï¼Œvalueæ˜¯å€¼ï¼Œvalue_typeæ˜¯valueçš„ç±»å‹ï¼Œtypeæ˜¯è‡ªå·±çš„ç±»å‹ã€‚ true_type false_typeè¿™é‡Œå°±å¾ˆæœ‰æ„æ€äº†ï¼Œçœ‹çœ‹å°±æ‡‚ 12typedef integral_constant&lt;bool, true&gt; true_type;typedef integral_constant&lt;bool, false&gt; false_type; å¯èƒ½æœ‰äººä¼šé—®è¿™ä¸ªæœ‰ä»€ä¹ˆç”¨ï¼Œå…¶å®è¿™æ ·çš„ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬éœ€è¦ä¸ºæˆ‘ä»¬çš„ç±»æ·»åŠ ä¸€ä¸ªvalueï¼Œè¡¨ç¤ºtrueæˆ–è€…falseï¼Œæ­£å¸¸çš„å®ç°æ–¹æ³•æ˜¯å†™ä¸¤éï¼Œä¸€éå¤„ç†å…¨éƒ¨ï¼Œå¦ä¸€éç‰¹åŒ–falseï¼Œè¿™æ ·å†™çš„è¯ï¼Œä»£ç å¤ç”¨å°±å¤ªlowäº†ï¼Œè¿™æ—¶å€™ï¼Œå…¶å®æˆ‘ä»¬åªéœ€è¦å®ç°ä¸€éåŸºç±»ï¼Œæ´¾ç”Ÿçš„æ—¶å€™ä¸€ä¸ªç»§æ‰¿trueï¼Œå¦ä¸€ä¸ªç»§æ‰¿falseå°±OKäº†ã€‚ is_functionè¿™ä¸ªä»£ç å°±nbäº†ï¼Œæˆ‘è¿˜æ²¡çœ‹æ‡‚ï¼Œå…ˆç•™ä¸ªå‘,æˆ‘çŒœäº†ä¸€ä¸‹ï¼Œå¤§æ¦‚æ˜¯ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªç±»å‹æ˜¯å¦æ˜¯å‡½æ•°æŒ‡é’ˆçš„ã€‚ remove_bounds è¿™ä¸ªæ¨¡ç‰ˆå…ƒæˆ‘è¿˜çœŸæ²¡çŒœå‡ºä»–çš„åŠŸèƒ½ï¼Œè¯è¯´æ€ä¹ˆå¯èƒ½æœ‰äººæƒ³å¾—åˆ°è¿™ä¸ªboundsæŒ‡çš„æ˜¯æ•°ç»„çš„boundså‘¢ï¼Ÿè¿™ä¸ªæ¨¡ç‰ˆå…ƒçš„åŠŸèƒ½æ˜¯ä¼ å…¥ä¸€ä¸ªæ•°ç»„ï¼Œä¼ å‡ºä»–çš„å†…å®¹ï¼Œå³å°†T[]æ˜ å°„ä¸ºTã€‚æ³¨æ„ï¼š remove_boundså°±æ˜¯remove_extentã€‚ 123456789101112131415template &lt;class T&gt; struct remove_extent&#123; typedef T type; &#125;;#if !defined(BOOST_NO_ARRAY_TYPE_SPECIALIZATIONS)template &lt;typename T, std::size_t N&gt; struct remove_extent&lt;T[N]&gt; &#123; typedef T type; &#125;;template &lt;typename T, std::size_t N&gt; struct remove_extent&lt;T const[N]&gt; &#123; typedef T const type; &#125;;template &lt;typename T, std::size_t N&gt; struct remove_extent&lt;T volatile [N]&gt; &#123; typedef T volatile type; &#125;;template &lt;typename T, std::size_t N&gt; struct remove_extent&lt;T const volatile [N]&gt; &#123; typedef T const volatile type; &#125;;#if !BOOST_WORKAROUND(__BORLANDC__, BOOST_TESTED_AT(0x610)) &amp;&amp; !defined(__IBMCPP__) &amp;&amp; !BOOST_WORKAROUND(__DMC__, BOOST_TESTED_AT(0x840))template &lt;typename T&gt; struct remove_extent&lt;T[]&gt; &#123; typedef T type; &#125;;template &lt;typename T&gt; struct remove_extent&lt;T const[]&gt; &#123; typedef T const type; &#125;;template &lt;typename T&gt; struct remove_extent&lt;T volatile[]&gt; &#123; typedef T volatile type; &#125;;template &lt;typename T&gt; struct remove_extent&lt;T const volatile[]&gt; &#123; typedef T const volatile type; &#125;;#endif#endif è¿˜æ˜¯è€æ ·å­ï¼Œæ•°ç»„å°±ç‰¹åˆ¤æ‰ï¼Œç„¶åè¿”å›å…¶å¤´ï¼Œå¦åˆ™å°±è¿”å›ä»–çš„æœ¬èº«ã€‚ remove_referenceè¿™ä¸ªåå­—å°±å¾ˆæ£’ï¼Œå°±æ˜¯ç§»é™¤å¼•ç”¨çš„æ„æ€ã€‚åŒæ ·ä»–ä¹Ÿæ˜¯æ¨¡ç‰ˆå…ƒæŠ€æœ¯ï¼Œä»–å…ˆå°†æ‰€æœ‰çš„ç±»å‹æ˜ å°„ä¸ºè‡ªå·±ï¼Œç„¶åé€šè¿‡æ¨¡ç‰ˆåç‰¹åŒ–çš„æ–¹å¼å°†é‚£äº›å¼•ç”¨æ˜ å°„ä¸ºæœ¬èº«ã€‚è¿™é‡Œæœ‰ä¸€ä¸ªc++çš„ç‰¹æ€§å³ä¸‹é¢ä»£ç  è¿™ä¸ªä»£ç çœ‹æ‡‚çš„äººåº”è¯¥ä¸å¤šäº†ã€‚ 12345678910111213141516#include &lt;iostream&gt;void f(int&amp; x) &#123; std::cout &lt;&lt; &quot;&amp;&quot; &lt;&lt; std::endl; &#125;void f(int&amp;&amp; x) &#123; std::cout &lt;&lt; &quot;&amp;&amp;&quot; &lt;&lt; std::endl; &#125;int main() &#123; int a = 1, b = 2, c = 3, d = 4; f(a); f(b); f(c); f(d); f(1); f(2); f(3); f(4);&#125; è¿™é‡Œçš„&amp;&amp;å°±æ˜¯å³å€¼å¼•ç”¨çš„æ„æ€ï¼Œæ‰€ä»¥è¾“å‡ºæ˜¯ 12345678&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp; ç„¶åæˆ‘ä»¬æ¥çœ‹æºç 1234567891011121314151617181920212223242526272829303132namespace detail&#123;//// We can&#x27;t filter out rvalue_references at the same level as// references or we get ambiguities from msvc://template &lt;class T&gt;struct remove_rvalue_ref&#123; typedef T type;&#125;;#ifndef BOOST_NO_CXX11_RVALUE_REFERENCEStemplate &lt;class T&gt;struct remove_rvalue_ref&lt;T&amp;&amp;&gt;&#123; typedef T type;&#125;;#endif&#125; // namespace detailtemplate &lt;class T&gt; struct remove_reference&#123; typedef typename boost::detail::remove_rvalue_ref&lt;T&gt;::type type; &#125;;template &lt;class T&gt; struct remove_reference&lt;T&amp;&gt;&#123; typedef T type; &#125;;#if defined(BOOST_ILLEGAL_CV_REFERENCES)// these are illegal specialisations; cv-qualifies applied to// references have no effect according to [8.3.2p1],// C++ Builder requires them though as it treats cv-qualified// references as distinct types...template &lt;class T&gt; struct remove_reference&lt;T&amp;const&gt;&#123; typedef T type; &#125;;template &lt;class T&gt; struct remove_reference&lt;T&amp;volatile&gt;&#123; typedef T type; &#125;;template &lt;class T&gt; struct remove_reference&lt;T&amp;const volatile&gt;&#123; typedef T type; &#125;;#endif åŒæ ·çš„æˆ‘ä»¬ä½¿ç”¨æ¨¡ç‰ˆå…ƒæŠ€æœ¯ï¼Œå°†å¼•ç”¨å°±æ¶ˆé™¤äº†ã€‚ decay è¿™ä¸ªæ¨¡ç‰ˆå…ƒçš„æ„æ€æ˜¯ç§»é™¤å¼•ç”¨ã€ç§»é™¤constã€ç§»é™¤volatileã€æ•°ç»„ç§»é™¤èŒƒå›´ã€å‡½æ•°å˜æˆæŒ‡é’ˆã€‚ 1234567891011121314151617namespace detail&#123; template &lt;class T, bool Array, bool Function&gt; struct decay_imp &#123; typedef typename remove_cv&lt;T&gt;::type type; &#125;; template &lt;class T&gt; struct decay_imp&lt;T, true, false&gt; &#123; typedef typename remove_bounds&lt;T&gt;::type* type; &#125;; template &lt;class T&gt; struct decay_imp&lt;T, false, true&gt; &#123; typedef T* type; &#125;;&#125; template&lt; class T &gt; struct decay &#123; private: typedef typename remove_reference&lt;T&gt;::type Ty; public: typedef typename boost::detail::decay_imp&lt;Ty, boost::is_array&lt;Ty&gt;::value, boost::is_function&lt;Ty&gt;::value&gt;::type type; &#125;; å®é™…ä¸Šåšèµ·æ¥çš„æ—¶å€™æ˜¯å…ˆç§»é™¤å¼•ç”¨ï¼Œæœ€åç§»é™¤cvçš„ã€‚ any å¦‚{ post_link â€˜Boost-å­¦ä¹ ç¬”è®°2-Boost-Anyâ€™ Anyæ¥å£å­¦ä¹  }æ‰€ç¤ºï¼Œanyèƒ½å¤Ÿæ”¯æŒæˆ‘ä»¬çš„c++å‘pythonä¸€æ ·ï¼Œç»™ä¸€ä¸ªå˜é‡çèµ‹å€¼ï¼Œè¿™ä¹Ÿå¤ªçˆ½äº†ã€‚ æ„é€ å‡½æ•°å¦‚ä¸‹1234567template&lt;typename ValueType&gt;any(const ValueType &amp; value) : content(new holder&lt; BOOST_DEDUCED_TYPENAME remove_cv&lt;BOOST_DEDUCED_TYPENAME decay&lt;const ValueType&gt;::type&gt;::type &gt;(value))&#123;&#125; è¿™é‡Œæ˜¯æ¥å—ä»»æ„çš„ç±»å‹ï¼Œç„¶åå¯¹è¿™ä¸ªç±»å‹ä½¿ç”¨decayå¾—åˆ°ä»–çš„åŸºæœ¬ç±»å‹ï¼Œæœ€åè®©holderæ¥æ›¿æˆ‘ä»¬ç®¡ç†ã€‚holderä¿æŒäº†ä¸€ä¸ªè¾“å…¥å‚æ•°çš„å‰¯æœ¬ï¼Œæˆ‘ä»¬å‘ç°è¿™ä¸ªholderç±»å‹çš„å€¼æ”¾åˆ°äº†ä¸€ä¸ªå«contentçš„æŒ‡é’ˆä¸­ã€‚ holder holderç»§æ‰¿è‡ªplaceholderï¼Œplaceholderæ˜¯ä¸€ä¸ªæ¥å£ï¼Œæˆ‘ä»¬ä¸å»ç®¡ä»–ï¼Œholderå†…éƒ¨çš„å‰¯æœ¬ä¿å­˜åœ¨heldä¸­ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839 template&lt;typename ValueType&gt; class holder#ifndef BOOST_NO_CXX11_FINAL final#endif : public placeholder &#123; public: // structors holder(const ValueType &amp; value) : held(value) &#123; &#125;#ifndef BOOST_NO_CXX11_RVALUE_REFERENCES holder(ValueType&amp;&amp; value) : held(static_cast&lt; ValueType&amp;&amp; &gt;(value)) &#123; &#125;#endif public: // queries virtual const boost::typeindex::type_info&amp; type() const BOOST_NOEXCEPT &#123; return boost::typeindex::type_id&lt;ValueType&gt;().type_info(); &#125; virtual placeholder * clone() const &#123; return new holder(held); &#125; public: // representation ValueType held; private: // intentionally left unimplemented holder &amp; operator=(const holder &amp;); &#125;; anyæ•°æ®ç±»å‹çš„è¯»å– anyæ•°æ®æœ‰ä¸¤ç§è¯»å–æ–¹å¼ï¼Œä¸€æ˜¯æŒ‡é’ˆï¼Œæƒ³è¦è¯»å–å‡ºé‡Œé¢çš„å…ƒç´ ï¼Œæ˜¾ç„¶å…ƒç´ æ˜¯operand-&gt;content-&gt;held, æˆ‘ä»¬è¦å¾—åˆ°ä»–çš„æŒ‡é’ˆçš„è¯ï¼Œå…ˆæ„é€ å‡ºæŒ‡é’ˆæ¥ï¼š holder&lt;remove_cv&lt;ValueType&gt;::type&gt;*, å› ä¸ºoperand-&gt;contentæ˜¯placeholer,è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆä¸‹é¢çš„ä»£ç çš„æ‹¬å·åœ¨-&gt;heldä¹‹å‰çš„åŸå› ã€‚æœ€åç”¨boost::addressofå–å‡ºåœ°å€å°±å¯ä»¥äº†ã€‚ 123456789template&lt;typename ValueType&gt;ValueType * any_cast(any * operand) BOOST_NOEXCEPT&#123; return operand &amp;&amp; operand-&gt;type() == boost::typeindex::type_id&lt;ValueType&gt;() ? boost::addressof( static_cast&lt;any::holder&lt;BOOST_DEDUCED_TYPENAME remove_cv&lt;ValueType&gt;::type&gt; *&gt;(operand-&gt;content)-&gt;held ) : 0;&#125; ç¬¬äºŒç§æ–¹å¼æ˜¯è¯»å–æ‹·è´ï¼Œå…ˆç§»é™¤å¼•ç”¨ï¼Œè°ƒç”¨ä¸Šé¢çš„æŒ‡é’ˆè¯»å–ï¼Œæœ€åæŒ‡é’ˆå–å†…å®¹å°±å¯ä»¥è¿”å›äº†ã€‚ 1234567891011121314151617181920212223242526272829 template&lt;typename ValueType&gt; ValueType any_cast(any &amp; operand) &#123; typedef BOOST_DEDUCED_TYPENAME remove_reference&lt;ValueType&gt;::type nonref; nonref * result = any_cast&lt;nonref&gt;(boost::addressof(operand)); if(!result) boost::throw_exception(bad_any_cast()); // Attempt to avoid construction of a temporary object in cases when // `ValueType` is not a reference. Example: // `static_cast&lt;std::string&gt;(*result);` // which is equal to `std::string(*result);` typedef BOOST_DEDUCED_TYPENAME boost::conditional&lt; boost::is_reference&lt;ValueType&gt;::value, ValueType, BOOST_DEDUCED_TYPENAME boost::add_reference&lt;ValueType&gt;::type &gt;::type ref_type;#ifdef BOOST_MSVC# pragma warning(push)# pragma warning(disable: 4172) // &quot;returning address of local variable or temporary&quot; but *result is not local!#endif return static_cast&lt;ref_type&gt;(*result);#ifdef BOOST_MSVC# pragma warning(pop)#endif &#125; anyçš„æˆå‘˜å‡½æ•° å‰ä¸¤ä¸ªå°±ä¸è¯´äº†ï¼Œç›´æ¥è¯´ç¬¬ä¸‰ä¸ªï¼Œå¦‚æœcontentå­˜åœ¨ï¼Œå°±è°ƒç”¨contentçš„type 1234567891011121314bool empty() const BOOST_NOEXCEPT&#123; return !content;&#125;void clear() BOOST_NOEXCEPT&#123; any().swap(*this);&#125;const boost::typeindex::type_info&amp; type() const BOOST_NOEXCEPT&#123; return content ? content-&gt;type() : boost::typeindex::type_id&lt;void&gt;().type_info();&#125; typeæ˜¯è¿™æ ·å®ç°çš„ 1234virtual const boost::typeindex::type_info&amp; type() const BOOST_NOEXCEPT&#123; return boost::typeindex::type_id&lt;ValueType&gt;().type_info();&#125;","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"C++","slug":"Language/C","permalink":"http://fightinggg.github.io/indigo/categories/Language/C/"}],"tags":[]},{"title":"Boost","slug":"Language/C++/Boost/index","date":"2020-03-17T05:34:24.000Z","updated":"2020-03-17T13:16:57.000Z","comments":true,"path":"Q7BOTC.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q7BOTC.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Boost ä¸c++ Boostæ˜¯åŸºäºC++æ ‡å‡†çš„ç°ä»£åº“ï¼Œä»–çš„æºç æŒ‰ç…§Boost Software License æ¥å‘å¸ƒï¼Œå…è®¸ä»»ä½•äººè‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹å’Œåˆ†å‘ã€‚ Boostæœ‰å“ªäº›åŠŸèƒ½ï¼Ÿ Boostå¼ºå¤§åˆ°æ‹¥æœ‰è¶…è¿‡90ä¸ªåº“ï¼Œä½†æˆ‘ä»¬æš‚æ—¶åªå­¦ä¹ å…¶ä¸­ä¸€éƒ¨åˆ† Any boost::anyæ˜¯ä¸€ä¸ªæ•°æ®ç±»å‹ï¼Œä»–å¯ä»¥å­˜æ”¾ä»»æ„çš„ç±»å‹ï¼Œä¾‹å¦‚è¯´ä¸€ä¸ªç±»å‹ä¸ºboost::anyçš„å˜é‡å¯ä»¥å…ˆå­˜æ”¾ä¸€ä¸ªintç±»å‹çš„å€¼ï¼Œç„¶åæ›¿æ¢ä¸ºä¸€ä¸ªstd::stringçš„ç±»å‹å­—ç¬¦ä¸²ã€‚ Array å¥½åƒæ˜¯ä¸€ä¸ªæ•°ç»„å®¹å™¨ï¼Œå’Œstd::vectoråº”è¯¥å·®åˆ«ä¸å¤§ã€‚ and more â€¦è¿™ä¸ªç³»åˆ—çš„åšå®¢æ¥å¹²å˜›ï¼Ÿ è¿™ä¸ªç³»åˆ—çš„åšå®¢ç”¨æ¥ä»‹ç»Boostæä¾›çš„æ¥å£ï¼Œä¸å¯¹Boostè¿›è¡Œæºç åˆ†æï¼Œå…³äºBoostçš„æºç ï¼Œé¢„è®¡ä¼šåœ¨Boostæºç åˆ†æç¬”è®°ç³»åˆ—çš„åšå®¢ä¸­ã€‚ Boost.Any Anyåœ¨C++17è¢«ç¼–å…¥STLC++æ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œæ²¡æœ‰åŠæ³•å‘Pythoné‚£æ ·æŠŠä¸€ä¸ªintèµ‹å€¼ç»™ä¸€ä¸ªdoubleè¿™ç§éªšæ“ä½œï¼Œè€ŒBoost.Anyåº“ä¸ºæˆ‘ä»¬æ¨¡æ‹Ÿäº†è¿™ä¸ªè¿‡ç¨‹ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥å®ç°å¼±ç±»å‹è¯­è¨€çš„ä¸œè¥¿ã€‚ åœ¨åŸºæœ¬æ•°æ®ç±»å‹ä¸­ç©å¼±ç±»å‹123456#include &lt;boost/any.hpp&gt;int main()&#123; boost::any a = 1; a = 3.14; a = true;&#125; è¿™æ ·çš„ä»£ç æ˜¯å…è®¸ç¼–è¯‘çš„ï¼Œå¤§æ¦‚æ˜¯å› ä¸ºboost::anyå†…éƒ¨å‚¨å­˜çš„æ˜¯æŒ‡é’ˆã€‚ charæ•°ç»„ä¸è¡Œäº†12345#include &lt;boost/any.hpp&gt;int main()&#123; boost::any a = 1; a = &quot;hello world&quot;;&#125; ä¸Šè¯‰ä»£ç å¯ä»¥ç¼–è¯‘å’Œè¿è¡Œï¼Œä½†æ˜¯ä¸€å®šä¼šç¢°åˆ°é—®é¢˜çš„ï¼Œå½“æˆ‘ä»¬æŠŠcharæ•°ç»„å¼„è¿‡å»çš„æ—¶å€™ï¼Œå°±ä¸å¤ªè¡Œäº†ï¼ŒåŸå› æ˜¯char[]ä¸æ”¯æŒæ‹·è´æ„é€ ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡æŠŠstd::stringæ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ ç”¨std::stringä»£æ›¿charæ•°ç»„12345#include &lt;boost/any.hpp&gt;int main()&#123; boost::any a = 1; a = std::string(&quot;hello world&quot;);&#125; å¯ä»¥è§åˆ°æˆ‘ä»¬ç”¨stringå®Œç¾åœ°è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚ å†™å¾ˆå®¹æ˜“ï¼Œå¦‚ä½•è¯»å‘¢ï¼Ÿ æˆ‘ä»¬å·²ç»å­¦ä¹ äº†boost::anyçš„å†™æ“ä½œï¼Œä½†æ˜¯åº”è¯¥å¦‚ä½•è¯»å–å‘¢ï¼Ÿ 123456#include &lt;boost/any.hpp&gt;#include &lt;iostream&gt;int main()&#123; boost::any a = 1; std::cout &lt;&lt; boost::any_cast&lt;int&gt;(a) &lt;&lt; std::endl;&#125; boostæä¾›äº†ä¸€ä¸ªæ¨¡ç‰ˆå‡½æ•°any_cast&lt;T&gt;æ¥å¯¹æˆ‘ä»¬çš„anyç±»è¿›è¡Œè¯»å– ç±»å‹ä¸å¯¹ä¼šæŠ›å‡ºå¼‚å¸¸ æœ‰äº†any&lt;T&gt;çš„æ¨¡ç‰ˆï¼Œçœ‹èµ·æ¥æˆ‘ä»¬å¯ä»¥å¯¹boostè¿›è¡Œä»»æ„è¯»å–ï¼Œæˆ‘ä»¬è¯•è¯•ä¸‹è¿™ä¸ª 1234567#include &lt;boost/any.hpp&gt;#include &lt;iostream&gt;int main() &#123; boost::any a = 1; a = &quot;hello world&quot;; std::cout &lt;&lt; boost::any_cast&lt;int&gt;(a) &lt;&lt; std::endl;&#125; æŠ›å‡ºäº†å¦‚ä¸‹å¼‚å¸¸ 1libc++abi.dylib: terminating with uncaught exception of type boost::wrapexcept&lt;boost::bad_any_cast&gt;: boost::bad_any_cast: failed conversion using boost::any_cast å®é™…ä¸Šä¸Šè¯‰ä»£ç æ˜¯æ°¸è¿œæ— æ³•æˆåŠŸçš„ã€‚å› ä¸ºä½ æŠŠä¸€ä¸ªcharæ•°ç»„ä¼ äº†è¿›å»ã€‚ æˆå‘˜å‡½æ•° boostçš„anyæ˜¯æœ‰å¾ˆå¤šæˆå‘˜å‡½æ•°çš„ã€‚æ¯”æ–¹è¯´emptyå¯ä»¥åˆ¤æ–­æ˜¯å¦ä¸ºç©ºï¼Œtypeå¯ä»¥å¾—åˆ°ç±»å‹ä¿¡æ¯ï¼Œ 123456789101112#include &lt;boost/any.hpp&gt;#include &lt;iostream&gt;#include &lt;typeinfo&gt;int main() &#123; boost::any a = std::string(&quot;asdf&quot;); if (!a.empty()) &#123; std::cout &lt;&lt; a.type().name() &lt;&lt; std::endl; a = 1; std::cout &lt;&lt; a.type().name() &lt;&lt; std::endl; &#125;&#125; ä»£ç è¿è¡Œç»“æœå¦‚ä¸‹ï¼Œè¡¨ç¤ºé¦–å…ˆæ˜¯å­—ç¬¦ä¸²ï¼Œç„¶åæ˜¯æ•´å½¢ã€‚ 12NSt3__112basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEEi æ‹¿åˆ°æŒ‡é’ˆ å½“æˆ‘ä»¬æŠŠä¸€ä¸ªanyçš„åœ°å€ä¼ ç»™any_castçš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°anyå†…éƒ¨æ•°æ®çš„æŒ‡é’ˆï¼Œ 123456789#include &lt;boost/any.hpp&gt;#include &lt;iostream&gt;int main()&#123; boost::any a = 1; int *i = boost::any_cast&lt;int&gt;(&amp;a); std::cout &lt;&lt; *i &lt;&lt; std::endl;&#125; Boost::Tuple boost::tupleæ˜¯ä¸€ä¸ªå…ƒç»„ã€‚åœ¨c++11è¢«ç¼–å…¥STL ç¬¬å…­è¡Œæ— æ³•é€šè¿‡ç¼–è¯‘ï¼Œè¿™è¯´æ˜tupleçš„é•¿åº¦æœ€é•¿åªèƒ½æ˜¯10 ç¬¬9-12è¡Œå®šä¹‰äº†3ä¸ªå…ƒç»„ ç¬¬13è¡Œæ¼”ç¤ºäº†å¦‚ä½•é€šè¿‡make_tupleæ„é€ å…ƒç»„ ç¬¬14è¡Œæ¼”ç¤ºäº†å¦‚ä½•é€šè¿‡getæ¥è®¿é—®å…ƒç»„é‡Œé¢çš„å…ƒç´  ç¬¬16è¡Œæ¼”ç¤ºäº†getçš„è¿”å›å€¼æ˜¯å¼•ç”¨ ç¬¬19-20è¡Œæ¼”ç¤ºäº†tupleçš„ç­‰å·æ“ä½œ ç¬¬23-27è¡Œæ¼”ç¤ºäº†tupleä¸­å¯ä»¥å‚¨å­˜å¼•ç”¨ ç¬¬28è¡Œé€šè¿‡tieæ„é€ äº†ä¸€ä¸ªå…¨å¼•ç”¨å…ƒç»„ 12345678910111213141516171819202122232425262728293031#include &lt;boost/tuple/tuple.hpp&gt;#include &lt;boost/tuple/tuple_comparison.hpp&gt;#include &lt;boost/tuple/tuple_io.hpp&gt;#include &lt;bits/stdc++.h&gt;// boost::tuple&lt;int, int, int, int, int, int, int, int, int, int, int&gt;too_long;int main() &#123; // åŸºæœ¬æ“ä½œ boost::tuple&lt;int, int, int, int, int, int, int, int, int, int&gt; a( 1, 2, 3, 4, 5, 6, 7, 8, 9, 10); boost::tuple&lt;std::string, std::string&gt; b(&quot;hello&quot;, &quot;world&quot;); boost::tuple&lt;std::string, std::string&gt; c(&quot;hello&quot;, &quot;world2&quot;); std::cout &lt;&lt; boost::make_tuple(1, 2, 3, 4) &lt;&lt; std::endl; std::cout &lt;&lt; &quot;a.get&lt;0&gt;() is &quot; &lt;&lt; a.get&lt;0&gt;() &lt;&lt; std::endl; std::cout &lt;&lt; &quot;a is &quot; &lt;&lt; a &lt;&lt; std::endl; a.get&lt;0&gt;() = -1; std::cout &lt;&lt; &quot;a is &quot; &lt;&lt; a &lt;&lt; std::endl; std::cout &lt;&lt; &quot;b is &quot; &lt;&lt; b &lt;&lt; std::endl; std::cout &lt;&lt; &quot;b==c is &quot; &lt;&lt; (b == c) &lt;&lt; std::endl; std::cout &lt;&lt; &quot;b==b is &quot; &lt;&lt; (b == b) &lt;&lt; std::endl; // è¿›é˜¶æ“ä½œ int x = 1, y = 2; boost::tuple&lt;int&amp;, int&gt; reference(boost::ref(x), y); // boost::tuple&lt;int&amp;, int&gt; reference(x, y); ä¹Ÿå¯ä»¥ x = 5; std::cout &lt;&lt; &quot;reference is &quot; &lt;&lt; reference &lt;&lt; std::endl; auto reference2 = boost::tie(x, y); x = 10, y = 11; std::cout &lt;&lt; &quot;reference2 is &quot; &lt;&lt; reference2 &lt;&lt; std::endl;&#125; è¾“å‡º 123456789(1 2 3 4)a.get&lt;0&gt;() is 1a is (1 2 3 4 5 6 7 8 9 10)a is (-1 2 3 4 5 6 7 8 9 10)b is (hello world)b==c is 0b==b is 1reference is (5 2)reference2 is (10 11) Boost::Variant boost::variantå’Œanyå¾ˆåƒï¼Œvariantå’Œanyä¸€æ ·åœ¨C++17ä¸­è¢«ç¼–å…¥STL variantå¯ä»¥æŒ‡å®šä¸€éƒ¨åˆ†æ•°æ®ç±»å‹ï¼Œä½ å¯ä»¥åœ¨è¿™ä¸€éƒ¨åˆ†ä¸­éšä¾¿èµ‹å€¼ï¼Œå°±åƒä¸‹é¢å†™åˆ°çš„ä¸€æ ·ï¼Œå¦å¤–å’Œanyçš„any_castä¸ä¸€æ ·çš„æ˜¯variantä½¿ç”¨get&lt;T&gt;æ¥è·å¾—å†…å®¹ã€‚ 1234567891011121314#include &lt;boost/variant.hpp&gt;#include &lt;iostream&gt;#include &lt;string&gt;int main() &#123; boost::variant&lt;double, char, std::string&gt; v; v = 3.14; std::cout &lt;&lt; boost::get&lt;double&gt;(v) &lt;&lt; std::endl; v = &#x27;A&#x27;; // std::cout &lt;&lt; boost::get&lt;double&gt;(v) &lt;&lt; std::endl; è¿™å¥ç°åœ¨ä¼šæŠ¥é”™ std::cout &lt;&lt; boost::get&lt;char&gt;(v) &lt;&lt; std::endl; v = &quot;Hello, world!&quot;; std::cout &lt;&lt; boost::get&lt;std::string&gt;(v) &lt;&lt; std::endl;&#125; è®¿é—®è€…æ¨¡å¼ variantå…è®¸æˆ‘ä»¬ä½¿ç”¨è®¿é—®è€…æ¨¡å¼æ¥è®¿é—®å…¶å†…éƒ¨çš„æˆå‘˜ï¼Œä½¿ç”¨å‡½æ•°boost::apply_visitoræ¥å®ç°ï¼Œè®¿é—®è€…æ¨¡å¼ä½¿ç”¨çš„æ—¶å€™é‡è½½ä»¿å‡½æ•°ã€‚ä»¿å‡½æ•°è®°å¾—ç»§æ‰¿static_visitorå³å¯ã€‚ 12345678910111213141516171819#include &lt;boost/variant.hpp&gt;#include &lt;iostream&gt;#include &lt;string&gt;struct visit : public boost::static_visitor&lt;&gt; &#123; void operator()(double &amp;d) const &#123; std::cout &lt;&lt; &quot;double&quot; &lt;&lt; std::endl; &#125; void operator()(char &amp;c) const &#123; std::cout &lt;&lt; &quot;char&quot; &lt;&lt; std::endl; &#125; void operator()(std::string &amp;s) const &#123; std::cout &lt;&lt; &quot;string&quot; &lt;&lt; std::endl; &#125;&#125;;int main() &#123; boost::variant&lt;double, char, std::string&gt; v; v = 3.14; boost::apply_visitor(visit(), v); v = &#x27;A&#x27;; boost::apply_visitor(visit(), v); v = &quot;Hello, world!&quot;; boost::apply_visitor(visit(), v);&#125; è¾“å‡º 123doublecharstring StringAlgorithms æˆ‘ç»ˆäºæ‰¾åˆ°ä¸€ä¸ªæš‚æ—¶æ²¡æœ‰è¢«ç¼–å…¥C++17çš„åº“äº†ï¼Œå¬è¯´åœ¨C++20ä¸­ä»–ä¹Ÿæ²¡è¿›ï¼Œå“ˆå“ˆå“ˆã€‚ å¤§å°å†™è½¬åŒ– é¦–å…ˆä¸Šæ¥çš„è‚¯å®šå°±æ˜¯å¤§å°å†™è½¬åŒ–å•¦ï¼Œä½¿ç”¨å‡½æ•°to_upper_copy(string)å°±å¯ä»¥äº†ã€‚ 12345678#include &lt;boost/algorithm/string.hpp&gt;#include &lt;iostream&gt;int main() &#123; std::string s = &quot;abcdefgABCDEFG&quot;; std::cout &lt;&lt; boost::algorithm::to_upper_copy(s) &lt;&lt; std::endl; std::cout &lt;&lt; boost::algorithm::to_lower_copy(s) &lt;&lt; std::endl;&#125; åˆ é™¤å­ä¸² erase_all_copyå°±æ˜¯è¯´å…ˆcopyä¸€ä»½ï¼Œç„¶åå†å°†å­ä¸²å…¨éƒ¨åˆ é™¤ï¼Œå¦‚æœä¸å¸¦copyå°±æ˜¯è¯´ç›´æ¥æ“ä½œç©¿è¿›å»çš„æ¯ä¸²ã€‚ä¸‹é¢çš„ä»£ç éƒ½å¯ä»¥å»æ‰_copy,erase_firstæŒ‡çš„æ˜¯åˆ é™¤ç¬¬ä¸€æ¬¡å‡ºç°çš„ï¼ŒlastæŒ‡çš„æ˜¯åˆ é™¤æœ€åä¸€æ¬¡å‡ºç°çš„ï¼ŒnthæŒ‡çš„æ˜¯åˆ é™¤ç¬¬næ¬¡å‡ºç°çš„ï¼Œnä»0å¼€å§‹,erase_headå€¼çš„æ˜¯åˆ é™¤å‰nä¸ªå­—ç¬¦ï¼Œerase_tailæŒ‡çš„æ˜¯åˆ é™¤ånä¸ªå­—ç¬¦ã€‚ 12345678910111213141516#include &lt;boost/algorithm/string.hpp&gt;#include &lt;iostream&gt;int main() &#123; std::string s = &quot;000111000111ababab000111000111&quot;; std::cout &lt;&lt; s &lt;&lt; std::endl; // boost::algorithm::erase_all(s,&quot;ab&quot;); std::cout &lt;&lt; boost::algorithm::erase_all_copy(s, &quot;ab&quot;) &lt;&lt; std::endl; std::cout &lt;&lt; boost::algorithm::erase_first_copy(s, &quot;111&quot;) &lt;&lt; std::endl; std::cout &lt;&lt; boost::algorithm::erase_last_copy(s, &quot;111&quot;) &lt;&lt; std::endl; std::cout &lt;&lt; boost::algorithm::erase_nth_copy(s, &quot;111&quot;,0) &lt;&lt; std::endl; std::cout &lt;&lt; boost::algorithm::erase_nth_copy(s, &quot;111&quot;,100) &lt;&lt; std::endl; std::cout &lt;&lt; boost::algorithm::erase_head_copy(s, 4) &lt;&lt; std::endl; std::cout &lt;&lt; boost::algorithm::erase_tail_copy(s, 4) &lt;&lt; std::endl;&#125; æŸ¥æ‰¾å­ä¸² findä¸€ç±»çš„å‡½æ•°ï¼ŒåŒä¸Š,ä»–å°†è¿”å›ä¸€ä¸ªiterator_rangeçš„è¿­ä»£å™¨ã€‚è¿™ä¸ªè¿­ä»£å™¨å¯ä»¥æ“ä½œå­ä¸²ã€‚æ³¨æ„å­ä¸²å’Œæ¯ä¸²å…±äº«ç©ºé—´ã€‚ 1234567891011#include &lt;boost/algorithm/string.hpp&gt;#include &lt;iostream&gt;int main() &#123; std::string s = &quot;000111000111ababab000111000111&quot;; std::cout &lt;&lt; s &lt;&lt; std::endl; auto x = boost::algorithm::find_first(s,&quot;000&quot;); x[0] = &#x27;2&#x27;; std::cout &lt;&lt; s &lt;&lt; std::endl; //std::cout &lt;&lt; boost::algorithm::find_last(s, &quot;111&quot;) &lt;&lt; std::endl;&#125; åˆæ˜¯ä¸€å¥—ä»£ç ä¸‹æ¥äº† 1234567891011121314#include &lt;boost/algorithm/string.hpp&gt;#include &lt;iostream&gt;int main() &#123; std::string s = &quot;000111000111ababab000111000111&quot;; std::cout &lt;&lt; s &lt;&lt; std::endl; auto x = boost::algorithm::find_first(s,&quot;000&quot;); x = boost::algorithm::find_last(s,&quot;1&quot;); x = boost::algorithm::find_nth(s,&quot;1&quot;,3); x = boost::algorithm::find_tail(s,3); x = boost::algorithm::find_head(s,3); std::cout &lt;&lt; s &lt;&lt; std::endl; //std::cout &lt;&lt; boost::algorithm::find_last(s, &quot;111&quot;) &lt;&lt; std::endl;&#125; æ›¿æ¢å­ä¸² replaceåˆæ˜¯ä¸€å¥—å¦‚ä¸‹ 12345678910111213141516#include &lt;boost/algorithm/string.hpp&gt;#include &lt;iostream&gt;int main() &#123; std::string s = &quot;000111000111ababab000111000111&quot;; std::cout &lt;&lt; s &lt;&lt; std::endl; // boost::algorithm::replace_all(s,&quot;ab&quot;); std::cout &lt;&lt; boost::algorithm::replace_all_copy(s, &quot;ab&quot;,&quot;all&quot;) &lt;&lt; std::endl; std::cout &lt;&lt; boost::algorithm::replace_first_copy(s, &quot;111&quot;,&quot;first&quot;) &lt;&lt; std::endl; std::cout &lt;&lt; boost::algorithm::replace_last_copy(s, &quot;111&quot;,&quot;last&quot;) &lt;&lt; std::endl; std::cout &lt;&lt; boost::algorithm::replace_nth_copy(s, &quot;111&quot;, 0,&quot;nth&quot;) &lt;&lt; std::endl; std::cout &lt;&lt; boost::algorithm::replace_nth_copy(s, &quot;111&quot;, 100,&quot;nth&quot;) &lt;&lt; std::endl; std::cout &lt;&lt; boost::algorithm::replace_head_copy(s, 2,&quot;Head&quot;) &lt;&lt; std::endl; std::cout &lt;&lt; boost::algorithm::replace_tail_copy(s, 2,&quot;Tail&quot;) &lt;&lt; std::endl;&#125; ä¿®å‰ªå­—ç¬¦ä¸² trim_left_copy æŒ‡çš„æ˜¯ä»å·¦è¾¹å¼€å§‹ä¿®å»ºï¼Œåˆ æ‰ç©ºå­—ç¬¦ç­‰ï¼Œtrim_right_copyæ˜¯ä»å³è¾¹å¼€å§‹ä¿®å»ºï¼Œtrim_copyæ˜¯ä¸¤è¾¹ä¸€èµ·ä¿®å‰ªã€‚ 12345678910#include &lt;boost/algorithm/string.hpp&gt;#include &lt;iostream&gt;int main() &#123; std::string s = &quot;\\t ab d d d d d \\t&quot;; std::cout &lt;&lt; &quot;|&quot; &lt;&lt; s &lt;&lt; &quot;|&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;|&quot; &lt;&lt; boost::algorithm::trim_left_copy(s) &lt;&lt; &quot;|&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;|&quot; &lt;&lt; boost::algorithm::trim_right_copy(s) &lt;&lt; &quot;|&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;|&quot; &lt;&lt; boost::algorithm::trim_copy(s) &lt;&lt; &quot;|&quot; &lt;&lt; std::endl;&#125; è¿™ä¸ªä»£ç è¾“å‡ºäº† 1234| ab d d d d d ||ab d d d d d || ab d d d d d||ab d d d d d| æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡æŒ‡å®šè°“è¯æ¥ä¿®å‰ªä½¿ç”¨trim_left_copy_if 12345678910#include &lt;boost/algorithm/string.hpp&gt;#include &lt;iostream&gt;int main() &#123; std::string s = &quot; 01 0 1 000ab d d d d d 11111111&quot;; std::cout &lt;&lt; &quot;|&quot; &lt;&lt; s &lt;&lt; &quot;|&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;|&quot; &lt;&lt; boost::algorithm::trim_left_copy_if(s,boost::algorithm::is_any_of(&quot; 01&quot;)) &lt;&lt; &quot;|&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;|&quot; &lt;&lt; boost::algorithm::trim_right_copy_if(s,boost::algorithm::is_any_of(&quot; 01&quot;)) &lt;&lt; &quot;|&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;|&quot; &lt;&lt; boost::algorithm::trim_copy_if(s,boost::algorithm::is_any_of(&quot; 01&quot;)) &lt;&lt; &quot;|&quot; &lt;&lt; std::endl;&#125; æ›´å¤šçš„è°“è¯,æˆ‘ä»¬è¿˜æœ‰is_lowerã€is_upperã€is_spaceç­‰è°“è¯ã€‚ 1234567891011121314#include &lt;boost/algorithm/string.hpp&gt;#include &lt;iostream&gt;int main() &#123; std::string s = &quot; 01 0 1 000ab d d d d d 11111111&quot;; std::cout &lt;&lt; &quot;|&quot; &lt;&lt; s &lt;&lt; &quot;|&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;|&quot; &lt;&lt; boost::algorithm::trim_copy_if(s,boost::algorithm::is_space()) &lt;&lt; &quot;|&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;|&quot; &lt;&lt; boost::algorithm::trim_copy_if(s,boost::algorithm::is_digit()) &lt;&lt; &quot;|&quot; &lt;&lt; std::endl&lt;&lt;std::endl; s = &quot;aaaBBBaBBaaa&quot;; std::cout &lt;&lt; &quot;|&quot; &lt;&lt; s &lt;&lt; &quot;|&quot; &lt;&lt; std::endl; std::cout &lt;&lt; &quot;|&quot; &lt;&lt; boost::algorithm::trim_copy_if(s,boost::algorithm::is_lower()) &lt;&lt; &quot;|&quot; &lt;&lt; std::endl;&#125; å­—ç¬¦ä¸²æ¯”è¾ƒ starts_with(s,t)åˆ¤æ–­sæ˜¯å¦ä»¥tå¼€å¤´ï¼Œç±»ä¼¼çš„æœ‰ends_with,contains,lexicographical_compareåˆ†åˆ«è¡¨ç¤ºsæ˜¯å¦ä»¥tç»“å°¾ï¼Œsæ˜¯å¦åŒ…å«tï¼Œsä¸tçš„å­—å…¸åºæ¯”è¾ƒã€‚ 1234567891011#include &lt;boost/algorithm/string.hpp&gt;#include &lt;iostream&gt;int main() &#123; std::cout &lt;&lt; boost::algorithm::starts_with(&quot;abcde&quot;, &quot;abc&quot;) &lt;&lt; std::endl; std::cout &lt;&lt; boost::algorithm::ends_with(&quot;abcde&quot;, &quot;cde&quot;) &lt;&lt; std::endl; std::cout &lt;&lt; boost::algorithm::contains(&quot;abcde&quot;, &quot;cde&quot;) &lt;&lt; std::endl; std::cout &lt;&lt; boost::algorithm::lexicographical_compare(&quot;abcde&quot;, &quot;cde&quot;) &lt;&lt; std::endl; std::cout &lt;&lt; boost::algorithm::lexicographical_compare(&quot;abcde&quot;, &quot;abcde&quot;) &lt;&lt; std::endl; std::cout &lt;&lt; boost::algorithm::lexicographical_compare(&quot;cde&quot;, &quot;abcde&quot;) &lt;&lt; std::endl;&#125; å­—ç¬¦ä¸²åˆ†å‰² è¿™ä¸ªå°±ç®€å•å¤šäº†ï¼Œç›´æ¥split+è°“è¯å‡½æ•°å°±è¡Œäº† 12345678910#include &lt;boost/algorithm/string.hpp&gt;#include &lt;iostream&gt;int main() &#123; std::string s = &quot;abc abc abc * abc ( abc )&quot;; std::vector&lt;std::string&gt; v; boost::algorithm::split(v, s, boost::algorithm::is_any_of(&quot; *()&quot;)); for (auto x : v) std::cout &lt;&lt; x &lt;&lt; &quot;.&quot;; std::cout &lt;&lt; std::endl;&#125; è¾“å‡º 1abc.abc.abc...abc...abc... æˆ‘ä»¬æ³¨æ„çœ‹æœ‰äº›å‡½æ•°å‰é¢æœ‰ä¸ªiï¼Œæ¯”å¦‚ierase_all, è¿™ä¸ªè¯´çš„æ˜¯å¿½ç•¥å¤§å°å†™ã€‚ boost::regex C++11çš„æ—¶å€™ï¼Œè¢«ç¼–å…¥STL æ˜å¤©æ¥ç€æ•´ã€‚ã€‚ã€‚","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"C++","slug":"Language/C","permalink":"http://fightinggg.github.io/indigo/categories/Language/C/"}],"tags":[]},{"title":"Yå¿«é€Ÿå‰ç¼€æ ‘","slug":"æ•°æ®ç»“æ„/Yå¿«é€Ÿå‰ç¼€æ ‘/index","date":"2020-03-16T11:05:29.000Z","updated":"2020-03-16T11:05:29.000Z","comments":true,"path":"Q7A9H5.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q7A9H5.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Yå¿«é€Ÿå‰ç¼€æ ‘ ç»§Xå¿«é€Ÿå‰ç¼€æ ‘ä»¥åï¼ŒDan Willardåˆæå‡ºäº†Xå¿«é€Ÿå‰ç¼€æ ‘çš„æ”¹è¿›ç‰ˆæœ¬ æ”¹è¿›Xå¿«é€Ÿå‰ç¼€æ ‘ æˆ‘ä»¬è¿˜æ˜¯ç»§ç»­è€ƒè™‘nä¸ªå°äºMçš„æ•´æ•°(n&lt;M)ï¼Œæˆ‘ä»¬æŒ‰ç…§å¤§å°ï¼Œä»å°åˆ°å¤§åˆ†ç»„,æ¯ç»„çš„å…ƒç´ çš„ä¸ªæ•°åœ¨åŒºé—´$[\\frac{lgM}{4},2lgM]$ä¸Š,å¯¹æ¯ç»„æ„å»ºä¸€é¢—æ™®é€šå¹³è¡¡æ ‘ï¼Œè¿™æ ·æˆ‘ä»¬ä¸€å…±ä¼šå¾—åˆ°$\\frac{n}{2lgM}$åˆ°$\\frac{4n}{lgM}$é¢—æ ‘ï¼Œæˆ‘ä»¬åœ¨è¿™äº›æ ‘ä¸­å–ä¸€ä¸ªéšä¾¿çš„å€¼rï¼Œrè¦åœ¨å¹³è¡¡æ ‘çš„æœ€å¤§å’Œæœ€å°å€¼ä¹‹é—´,è¿™æ ·æˆ‘ä»¬æ¯æ£µæ ‘å¯¹åº”äº†ä¸€ä¸ªrï¼ŒæŠŠæ‰€æœ‰çš„rä½œä¸ºé”®,å…¶å¯¹åº”çš„å¹³è¡¡æ ‘ä½œä¸ºå€¼æ”¾åˆ°Xå¿«é€Ÿå¹³è¡¡æ ‘ä¸­ï¼Œè¿™å°±æ˜¯Yå¿«é€Ÿå¹³è¡¡æ ‘ã€‚ Yå¿«é€Ÿå‰ç¼€æ ‘çš„æŸ¥æ‰¾å‰é©±åç»§ é¦–å…ˆåœ¨ä¸Šå±‚Xå‰ç¼€æ ‘ä¸ŠæŸ¥æ‰¾å‰é©±å’Œåç»§ï¼Œæœ€ç»ˆæˆ‘ä»¬ä¼šå®šä½åˆ°ä¸¤ä¸ªå¶å­èŠ‚ç‚¹ï¼Œä¹Ÿå°±å¯¹åº”äº†ä¸¤é¢—æ™®é€šå¹³è¡¡æ ‘ï¼Œæˆ‘ä»¬åœ¨è¿™ä¸¤é¢—æ™®é€šå¹³è¡¡æ ‘é‡Œé¢ç›´æ¥æ‰¾å‰é©±åç»§ç„¶ååˆå¹¶å°±ç»“æŸäº†ã€‚æ€»å¤æ‚åº¦$lglg(\\frac{n}{lgM})+2*lg(lgM)&#x3D;lglgM$ Yå¿«é€Ÿå‰ç¼€æ ‘çš„æ’å…¥ å…ˆåœ¨Xå‰ç¼€æ ‘ä¸ŠæŸ¥è¯¢å‰é©±åç»§ï¼Œç„¶ååœ¨å…¶å¯¹åº”çš„å¹³è¡¡æ ‘ä¸Šæ’å…¥çœŸæ­£è¦æ’å…¥çš„å€¼ï¼Œæ€»å¤æ‚åº¦$lglg(\\frac{n}{lgM})+lglgM&#x3D;lglgM$ï¼Œè¿™é‡Œæœ‰å¯èƒ½å¯¼è‡´æ’å…¥çš„å€¼å¤ªå¤šï¼Œè¿›è¡Œåˆ†è£‚ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿™æ¬¡åˆ†è£‚å‰æ’å…¥äº†å¤šå°‘å…ƒç´ ï¼Œæˆ‘ä»¬è€ƒè™‘æœ€åçš„æƒ…å†µï¼Œä¸å¦¨è®¾ä¹‹å‰ä¹Ÿæ˜¯åˆ†è£‚çš„ï¼Œé‚£ä¹ˆä»–çš„å¤§å°ä¸º$lgM$ï¼Œåˆ°è¿™æ¬¡åˆ†è£‚ä¸€å…±æ’å…¥äº†lgM+1ä¸ªå…ƒç´ ï¼Œå¯¼è‡´ç°åœ¨çš„å¤§å°è¶…è¿‡äº†2lgMï¼Œäºæ˜¯è¿™lgMæ¬¡æ’å…¥çš„å‡æ‘Šåˆ†è£‚å¤æ‚åº¦ä¸º$\\frac{lg(\\frac{n}{lgM})}{lgM}\\lt 1$,äºæ˜¯æ€»å¤æ‚åº¦ä¸º$lglgM$ Yå¿«é€Ÿå‰ç¼€æ ‘çš„åˆ é™¤ åŒæ ·çš„ï¼Œæˆ‘ä»¬è¿˜æ˜¯å…ˆæŸ¥è¯¢å‰é©±åè¡—ï¼Œç„¶ååœ¨å¯¹åº”çš„å¹³è¡¡æ ‘ä¸Šåˆ é™¤çœŸæ­£è¦åˆ é™¤çš„å€¼ï¼Œæ€»å¤æ‚åº¦ä¸º$lglg(\\frac{n}{lgM})+lglgM&#x3D;lglgM$,è¿™é‡Œæœ‰å¯èƒ½å¯¼è‡´å¹³è¡¡æ ‘ä¸Šå‰©ä¸‹çš„å€¼å¤ªå°‘ï¼Œæˆ‘ä»¬è€ƒè™‘åˆå¹¶ï¼Œåˆå¹¶åå¦‚æœä¾ç„¶å¤ªå¤§ï¼Œæ¯”æ–¹è¯´å¤§äºlgMï¼Œæˆ‘ä»¬å°±å†æ¬¡åˆ†è£‚ä¸ºä¸¤ä¸ªå¹³è¡¡æ ‘å³å¯ã€‚è¿™é‡Œå¯ä»¥è¯æ˜ï¼Œå‡æ‘Šå¤æ‚åº¦ä¾ç„¶æ˜¯O1ï¼Œå› ä¸ºä»$\\frac{lgM}{2}$åˆ°$\\frac{lgM}{4}$ä¹Ÿè¦$\\frac{lgM}{4}$æ¬¡åˆ é™¤ï¼Œå‡æ‘Šä¸‹æ¥ï¼Œä¾ç„¶æ˜¯O1,ä¸ºäº†æ‡’æƒ°åˆ é™¤ï¼Œæˆ‘ä»¬ç”šè‡³å¯ä»¥ä¸å¿…è¦æ±‚åˆå¹¶åè¶…è¿‡lgMçŒœåˆ†è£‚ï¼Œåˆ°2lgMä¹Ÿè¡Œã€‚æ‡’æƒ°æ€»æ˜¯ä¼˜ç§€çš„ã€‚äºæ˜¯æ€»ä½“å¤æ‚åº¦ä¸º$lglgM$ æ€»ç»“ è‡³æ­¤ï¼ŒYå¿«é€Ÿå‰ç¼€æ ‘çš„æ‰€æœ‰æ“ä½œå‡ä¸ºlglgMäº†. ä»£ç  æ¬ ç€æ¬ ç€ï¼Œä»¥åå†è¡¥ã€‚","categories":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"http://fightinggg.github.io/indigo/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}],"tags":[]},{"title":"Xå¿«é€Ÿå‰ç¼€æ ‘","slug":"æ•°æ®ç»“æ„/Xå¿«é€Ÿå‰ç¼€æ ‘/index","date":"2020-03-16T09:51:11.000Z","updated":"2020-03-16T09:51:11.000Z","comments":true,"path":"Q7A61B.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q7A61B.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Xå¿«é€Ÿå‰ç¼€æ ‘ æˆ‘ä»¥å‰å°±è¯´è¿‡ï¼Œå½“ä½ çš„æ•°æ®ç»“æ„è¾¾åˆ°äº†ä¸€å®šçš„åŸºç¡€ï¼Œå°±å¯ä»¥å­¦ä¹ é‚£äº›æ›´åŠ é«˜çº§çš„æ•°æ®ç»“æ„äº†ï¼Œå¾€å¾€é‚£äº›æ›´åŠ é«˜çº§çš„æ•°æ®ç»“æ„ç”±åŸºæœ¬æ•°æ®ç»“æ„ç»„åˆè€Œæˆã€‚ å…ˆæå‡ºä¸€ä¸ªé—®é¢˜ ç°åœ¨è¦ä½ ç»´æŠ¤ä¸€ä¸ªå¤šé‡é›†åˆï¼Œæ”¯æŒ3ç§æ“ä½œï¼Œ1è¯¢é—®ä¸€ä¸ªå€¼(è¿™ä¸ªå€¼ä¸ä¸€å®šåœ¨é›†åˆä¸­)çš„å‰é©±å’Œåç»§ï¼Œ2å‘é›†åˆä¸­æ’å…¥ä¸€ä¸ªå…ƒç´ ï¼Œ3ä»é›†åˆä¸­åˆ æ‰ä¸€ä¸ªå…ƒç´ ï¼Œ1æ“ä½œ$10^6$æ¬¡ï¼Œ2æ“ä½œ$10^5$æ¬¡ï¼Œ3æ“ä½œ$10^5$,è¦æ±‚ä½ åœ¨1Så†…å®Œæˆå›ç­”ã€‚ä¿è¯é›†åˆå…ƒç´ éƒ½å°äºM&#x3D;$10^6$ æ™®é€šå¹³è¡¡æ ‘ï¼Ÿ æˆ‘ä»¬è€ƒè™‘åˆ°ä¸Šé¢ä¸‰ç§æ“ä½œéƒ½æ˜¯æ™®é€šå¹³è¡¡æ ‘å¸¸è§çš„æ“ä½œï¼Œå¾ˆå¤šäººå¯èƒ½å°±ç›´æ¥æ‹¿èµ·ä»–è‡ªå·±çš„å¹³è¡¡æ ‘ä¸Šäº†ã€‚å¾ˆé—æ†¾ï¼Œå¤§æ¦‚ç‡æ˜¯æ— æ³•é€šè¿‡çš„ã€‚å› ä¸ºæ“ä½œæ¬¡æ•°å¤ªå¤šäº†ã€‚ è§‚å¯Ÿï¼Œæ€è€ƒ æˆ‘ä»¬çš„æ“ä½œéœ€è¦çš„æ˜¯å¤§é‡çš„æŸ¥è¯¢ï¼Œå¤§é‡ã€å¤§é‡ï¼Œä½ ä¸ªæ™®é€šå¹³è¡¡æ ‘æ€ä¹ˆæ“ä½œçš„è¿‡æ¥ï¼Ÿ æ–°çš„å¹³è¡¡æ ‘ ç°åœ¨æˆ‘ä»¬æå‡ºä¸€ä¸ªæ–°çš„å¹³è¡¡æ ‘ï¼Œè¿™ä¸ªå¹³è¡¡æ ‘éå¸¸å‰å®³ï¼Œä»–æ”¯æŒ$O(lgM)$çš„æ—¶é—´æ¥åˆ é™¤å’Œæ’å…¥ï¼Œæ”¯æŒ$O(lglgM)$çš„æ—¶é—´æ¥æŸ¥è¯¢å‰é©±åç»§ã€‚ Xå¿«é€Ÿå‰ç¼€æ ‘ å­—å…¸æ ‘+å“ˆå¸Œè¡¨+ç»´æŠ¤å¶å­èŠ‚ç‚¹çš„åŒå‘é“¾è¡¨+äºŒåˆ† é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆå»ºç«‹ä¸€é¢—æ™®é€šçš„01å­—å…¸æ ‘ï¼Œè¿™ä¸ªæ ‘æˆ‘ä»¬å¯¹ä»–ç¨ä½œä¿®æ”¹ï¼Œè€ƒè™‘åˆ°å­—å…¸æ ‘çš„èŠ‚ç‚¹åˆ†3ç±»ï¼š å¶å­èŠ‚ç‚¹ã€æ ¹èŠ‚ç‚¹ã€å†…éƒ¨èŠ‚ç‚¹ï¼Œæˆ‘ä»¬è®©å¶å­èŠ‚ç‚¹é—´æ„é€ åŒå‘ç¯çŠ¶é“¾è¡¨ï¼Œå…¶æ¬¡ï¼Œå¯¹äºä»…æœ‰å·¦å„¿å­çš„å†…éƒ¨èŠ‚ç‚¹ï¼Œè®©å…¶å³å„¿å­æŒ‡å‘å­æ ‘çš„æœ€å°å¶å­èŠ‚ç‚¹ï¼Œå¯¹äºä»…æœ‰å³å„¿å­çš„å†…éƒ¨èŠ‚ç‚¹ï¼Œè®©å…¶å·¦å„¿å­æŒ‡å‘å­æ ‘çš„æœ€å¤§å¶å­èŠ‚ç‚¹ã€‚å¦ä¸€æ–¹é¢ï¼Œæˆ‘ä»¬å¯¹å­—å…¸æ ‘çš„æ¯ä¸€å±‚éƒ½å»ºç«‹ä¸€ä¸ªhashè¡¨ï¼Œhashæ‰ä»–ä»¬èŠ‚ç‚¹æ‰€ä»£è¡¨çš„å€¼æ˜¯æœ‰è¿˜æ˜¯æ²¡æœ‰ï¼Œè¿™æ ·æˆ‘ä»¬å°±æ„é€ å‡ºäº†ä¸€ä¸ªXå¿«é€Ÿå‰ç¼€æ ‘çš„æ¨¡å‹äº†ã€‚ Xå¿«é€Ÿå‰ç¼€æ ‘çš„æŸ¥æ‰¾ å‡è®¾æˆ‘ä»¬è¦æ‰¾ä¸€ä¸ªæ•°kï¼Œæˆ‘ä»¬åœ¨æ ‘ä¸Šå¯»æ‰¾æ ‘å’Œkçš„lca[æœ€ä½å…¬å…±ç¥–å…ˆ]ï¼Œè¿™ä¸ªè¿‡ç¨‹å¯ä»¥åªè¦åœ¨hashè¡¨ä¸­äºŒåˆ†å³å¯çŸ¥é“lcaåœ¨å“ªä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¯ä»¥è¯æ˜ï¼Œè¿™ä¸ªèŠ‚ç‚¹è¦ä¹ˆæ²¡æœ‰å·¦å„¿å­ï¼Œè¦ä¹ˆæ²¡æœ‰å³å„¿å­ã€‚å¦‚æœæœ‰çš„è¯ï¼Œä»–çš„å„¿å­å’Œkçš„lcp[æœ€é•¿å…¬å…±å‰ç¼€]ä¸€å®šæ›´é•¿ï¼Œä½†æ˜¯è¿™ä¸ä»–è‡ªå·±æ˜¯lcaçš„äº‹å®ç›¸æ‚–ã€‚å¦ä¸€æ–¹é¢ï¼Œç”±äºæˆ‘ä»¬çš„å•å„¿å­èŠ‚ç‚¹å‚¨å­˜äº†æœ€å€¼ä¿¡æ¯ï¼Œå¦‚æœè¿™ä¸ªèŠ‚ç‚¹æ²¡æœ‰å³å„¿å­ï¼Œåˆ™ä»–çš„å³å„¿å­æŒ‡å‘çš„å€¼æ˜¯kçš„å‰é©±ï¼Œè‡³äºåç»§ï¼Œåœ¨å¶å­èŠ‚ç‚¹çš„é“¾è¡¨ä¸Šåç§»ä¸€ä¸ªå•ä½å³å¯ã€‚è¿™ä¸ªè¿‡ç¨‹æ€»å¤æ‚åº¦åœ¨äºŒåˆ†lcaä¸Šï¼Œæ ‘çš„é«˜åº¦ä¸ºlgnï¼ŒäºŒåˆ†é«˜åº¦ï¼Œæ‰€ä»¥æ€»ä½“å¤æ‚åº¦ä¸º$O(lglgn)$ Xå¿«é€Ÿå‰ç¼€æ ‘çš„æ’å…¥ æ‰¾å‡ºlcaï¼Œè‹¥lcaæ²¡æœ‰å³å„¿å­ï¼Œåˆ™è¯´æ˜å½“å‰èŠ‚ç‚¹è¦æ’å…¥åˆ°å³å„¿å­é‡Œé¢ã€‚ç…§ç€åšå°±è¡Œäº†ï¼ŒåŒæ—¶æ³¨æ„å‘ä¸‹é€’å½’çš„æ—¶å€™æŠŠå€¼ä¹Ÿæ’å…¥åˆ°hashè¡¨é‡Œé¢ï¼Œé€’å½’åˆ°å¶å­çš„æ—¶å€™é‡æ–°è¿æ¥åŒå‘ç¯çŠ¶é“¾è¡¨(å‰é©±å’Œåç»§)ï¼Œæœ€åå›æº¯çš„æ—¶å€™ç»´æŠ¤å•å„¿å­èŠ‚ç‚¹çš„ä¿¡æ¯ï¼Œä»¥åŠæ ‘æ ¹æ–¹é¢çš„å€¼å°±è¡Œäº†ã€‚ Xå¿«é€Ÿå‰ç¼€æ ‘çš„åˆ é™¤ æ‰¾åˆ°å¾…åˆ é™¤èŠ‚ç‚¹ï¼Œç„¶ååˆ æ‰ï¼Œé‡æ–°ç»´æŠ¤å¶å­é“¾è¡¨ï¼Œå›æº¯çš„æ—¶å€™ä»hashè¡¨é‡Œé¢åˆ æ‰è‡ªå·±ï¼Œå¯¹äºå•å„¿å­çš„èŠ‚ç‚¹ä¹Ÿè¦æ ¹æ®å­æ ‘å›æº¯å³å¯ã€‚","categories":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"http://fightinggg.github.io/indigo/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}],"tags":[]},{"title":"ä¸‰å‰æœç´¢æ ‘","slug":"æ•°æ®ç»“æ„/ä¸‰å‰æœç´¢æ ‘/index","date":"2020-03-16T08:41:00.000Z","updated":"2020-03-16T08:41:00.000Z","comments":true,"path":"Q7A2SC.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q7A2SC.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ternary search treeå­—å…¸æ ‘çš„ç¼ºç‚¹ ä¸éš¾æƒ³åˆ°ï¼Œå¯¹äºé‚£äº›å­—ç¬¦é›†ç‰¹åˆ«å¤§çš„å­—å…¸æ ‘æ¥è¯´ï¼Œä»–ä»¬çš„ç©ºé—´æ¶ˆè€—ç‰¹åˆ«å¤§ï¼Œå› ä¸ºæ¯ä¸ªèŠ‚ç‚¹éƒ½è¦å‚¨å­˜å¤§é‡çš„æŒ‡é’ˆï¼Œè€Œè¿™äº›æŒ‡é’ˆå¾€å¾€åˆæ˜¯ç©ºçš„ã€‚ å°†BSTä¸trieç»“åˆèµ·æ¥ è€ƒè™‘è¿™æ ·ä¸€ç§æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸‰ä¸ªå„¿å­ï¼Œå·¦å³å„¿å­è¡¨ç¤ºè‡ªå·±çš„å·¦å³å…„å¼Ÿï¼Œå‘ä¸‹çš„å„¿å­è¡¨ç¤ºçœŸæ­£çš„å„¿å­ã€‚è¿™æ ·çš„æ ‘ï¼Œå°†æå¤§çš„æé«˜äº†ç©ºé—´åˆ©ç”¨ç‡ã€‚ å·ä¸ªå›¾æ¥æ”¾ç€ è¿™é‡Œæ’å…¥äº†as,at,be,by,heâ€¦. ä¸‰å‰æœç´¢æ ‘çš„æ’å…¥ è€ƒè™‘é€’å½’ï¼Œå‡è®¾æˆ‘ä»¬æ’å…¥åˆ°äº†æŸä¸ªèŠ‚ç‚¹ï¼Œè‹¥ä¸‹å„¿å­ä¸å½“å‰å­—ç¬¦ç›¸ç­‰ï¼Œåˆ™é€’å½’åˆ°ä¸‹å„¿å­å¹¶ä½¿ç”¨ä¸‹ä¸€ä¸ªå­—ç¬¦æ¥é€’å½’ï¼Œå¦‚æœå½“å‰å­—ç¬¦å°äºä¸‹å„¿å­ï¼Œåˆ™é€’å½’åˆ°å·¦å„¿å­ï¼Œä¿æŒå½“å‰å­—ç¬¦ä¸å˜ï¼Œå¦‚æœå½“å‰èŠ‚ç‚¹ä¸å­˜åœ¨äº†ï¼Œåˆ™åˆ›å»ºæ–°èŠ‚ç‚¹ï¼Œç›´æ¥å‘ä¸‹å„¿å­èµ°ã€‚ ä¸‰å‰æœç´¢æ ‘çš„åˆ é™¤ æˆ‘ä»¬è¿˜æ˜¯ç”¨æ•°å­—æ¥è®°å½•ç»ˆç»“èŠ‚ç‚¹çš„ç»ˆç»“å­—ç¬¦ä¸²æœ‰å¤šå°‘ä¸ªï¼Œè‹¥æ‰¾åˆ°å¾…åˆ é™¤çš„èŠ‚ç‚¹ä»¥åï¼Œç»ˆæ­¢ä¸æ­¤çš„åªæœ‰ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œåˆ™ç›´æ¥åˆ æ‰ï¼Œå¦åˆ™è®©ç»ˆæèŠ‚ç‚¹çš„è®¡æ•°å™¨å‡1ï¼Œæ³¨æ„åœ¨å›æº¯çš„æ—¶å€™ï¼Œå¦‚æœä¸‰ä¸ªå„¿å­éƒ½æ²¡æœ‰ç»ˆç»“å­—ç¬¦äº†ï¼Œå°±åˆ æ‰è‡ªå·±ã€‚ ä¸‰å‰æœç´¢æ ‘çš„æŸ¥æ‰¾ é€’å½’é€’å½’ã€‚ ä¸‰å‰æœç´¢æ ‘çš„ç¼ºç‚¹ æ ‘çš„å¹³è¡¡æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„é—®é¢˜ï¼Œè¿™ä¸ªæˆ‘ä¹Ÿæ²¡åŠæ³• ä¸‰å‰æœç´¢æ ‘çš„æœ¬è´¨ å¾ˆå¤šæ—¶å€™ï¼Œå¾ˆå¤šæ•°æ®ç»“æ„åƒå˜æˆæ³•ä¸€æ ·ï¼Œæˆ‘ä»¬ä»æœ¬è´¨çœ‹å¸¦ä¸‰å‰æœç´¢æ ‘ï¼Œæˆ‘ä»¬å‘ç°ä¸‹å„¿å­å…¶å®æ˜¯å­—å…¸æ ‘çš„è¾¹ï¼Œåœ¨è€ƒè™‘å·¦å³å„¿å­ï¼Œå…¶å®è¿™ä¸ªå°±æ˜¯bstï¼Œå“ˆå“ˆå“ˆå‘ç°äº†æ²¡æœ‰ï¼Œ æˆ‘ä»¬è€ƒè™‘åˆ æ‰æ‰€æœ‰ä¸‹å„¿å­ï¼Œä½ ä¼šå‘ç°ï¼Œå‰©ä¸‹çš„æ˜¯ä¸€ä¸ªbstæ£®æ—ï¼Œå°±åƒlctåˆ æ‰æŒ‡å‘çˆ¶äº²æ²¡æœ‰æŒ‡å‘è‡ªå·±çš„è¾¹ä»¥åï¼Œå°±æ˜¯splayæ£®æ—ä¸€æ ·ï¼Œå¾ˆç¥å¥‡ã€‚æˆ‘ä»¬å°†è¿™äº›bstæ£®æ—è½¬åŒ–ä¸ºä¸€ä¸ªä¸€ä¸ªæ™®é€šçš„æ•°ç»„ï¼Œè®©è¿™äº›æ•°ç»„ä»æ–°å……å½“èŠ‚ç‚¹ï¼Œç„¶åå°†ä¸‹å„¿å­è¿å›å»ï¼Œ ä¸€åˆ‡éƒ½æ¸…æ™°äº†ï¼Œåˆå˜æˆæ™®é€šå­—å…¸æ ‘äº†ã€‚ æ‰€ä»¥ä¸‰å‰æœç´¢æ ‘çš„æœ¬è´¨æ˜¯ä¼˜åŒ–åçš„å­—å…¸æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ä¸€ä¸ªbstã€‚å³trieå¥—bstï¼Œå¤–å±‚æ ‘ä¸ºtrieï¼Œå†…å±‚æ ‘ä¸ºbstã€‚ ä¸‰å‰æœç´¢æ ‘çš„ä¼˜åŒ–ï¼Ÿ æˆ‘ä»¬è®©è¿™é‡Œçš„bstç”¨avlä»£æ›¿ï¼Ÿç”¨rbtä»£æ›¿ï¼Ÿç”¨sbtä»£æ›¿ï¼Ÿéƒ½å¯ä»¥ï¼Œä½†æ˜¯æˆ‘è§‰å¾—è¿™æ ·ç¼–ç å¤ªéš¾äº†å§ï¼Œè‹¥å®åœ¨æ˜¯çœŸçš„å·®è¿™ç‚¹æ•ˆç‡ï¼Œå¯ä»¥å»è¿™æ ·åšï¼Œä½†æˆ‘è®¤ä¸ºï¼ŒæŠŠæ™®é€šå­—å…¸æ ‘çš„èŠ‚ç‚¹ç”¨avl-mapã€rbt-mapã€sbt-mapç›´æ¥èŒƒå‹ç¼–ç¨‹æˆ–è®¾ä¸ºç±»ä¸­ç±»ä¸é¦™å—ã€‚åœ¨è¿™ç©æ ‘å¥—æ ‘ç¡®å®é«˜å¤§ä¸Šï¼Œæ•ˆç‡ä¹Ÿé«˜ï¼Œä½†ç¼–ç éš¾åº¦ä¹Ÿå¤ªé«˜äº†ã€‚ ä»£ç  å…ˆæ¬ ç€ï¼Œä»¥åå†è¿˜ã€‚","categories":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"http://fightinggg.github.io/indigo/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}],"tags":[]},{"title":"åŸºæ•°æ ‘","slug":"ACM/å­¦ä¹ ç¬”è®°/å­—ç¬¦ä¸²/åŸºæ•°æ ‘/index","date":"2020-03-16T08:19:30.000Z","updated":"2020-03-16T08:19:30.000Z","comments":true,"path":"Q7A1SI.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q7A1SI.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial åŸºæ•°æ ‘ åŸºæ•°æ ‘æ˜¯ä¸€ç§æ›´åŠ èŠ‚çœç©ºé—´çš„æ•°æ®ç»“æ„ï¼Œä»–æ˜¯å­—å…¸æ ‘çš„å‡åï¼Œ å­—å…¸æ ‘çš„ç¼ºé™· å¸¸å¸¸å­—å…¸æ ‘ä¼šå¾ˆæ·±ï¼Œè€Œä¸èƒ–ï¼Œè¿™ä¼šå¯¼è‡´ç©ºé—´çš„æµªè´¹ï¼Œå› ä¸ºé‡Œé¢çš„æŒ‡é’ˆå¾ˆå¤šï¼Œå¾€å¾€æˆ‘ä»¬å‘ç°ï¼Œå¦‚ä¸‹åˆ—å­—å…¸æ ‘ ç¨ç­‰ç‰‡åˆ»ï¼æ­£åœ¨å°†å­—ç¬¦æ•°æ®è½¬åŒ–ä¸ºå›¾å½¢ 12345graph LRstart((start))--a--&gt; 1((1))1((1))--b--&gt;2((2))2((2))--c--&gt;3((end))2((2))--d--&gt;3((end)) ç”¨åŸºæ•°æ ‘æ”¹è¿›å­—å…¸æ ‘ æˆ‘ä»¬å¯ä»¥é€šè¿‡å‹ç¼©å­—ç¬¦è·¯å¾„ä¸ºå­—ç¬¦ä¸²è·¯å¾„ï¼Œå³å°†é•¿é“¾å‹ç¼©ä¸ºä¸€æ¡è¾¹ã€‚ 1234graph LRstart((start))--ab--&gt;2((2))2((2))--c--&gt;3((end))2((2))--d--&gt;3((end)) å½“ç„¶ä½ ç”šè‡³è¿˜èƒ½è¿™æ · 123graph LRstart((start))--abc--&gt;3((end))start((start))--abd--&gt;3((end)) è¿™äº›éƒ½æ˜¯åˆæ³•çš„åŸºæ•°æ ‘ã€‚æ³¨æ„ï¼ŒåŸºæ•°æ ‘ä»ç„¶æ˜¯å­—å…¸æ ‘ï¼Œåªä¸è¿‡ä»–å‹ç¼©äº†è·¯å¾„ ç”¨åŸºæ•°æ ‘åŠ é€ŸIPè·¯ç”±æ£€ç´¢ è·¯ç”±æ£€ç´¢å¸¸å¸¸æ˜¯æ£€ç´¢ä¸€ä¸ª01å­—ç¬¦ä¸²ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥é€šè¿‡å‹ç¼©çš„æ–¹å¼ï¼Œæ¯ä¸¤ä½å‹ç¼©ã€æˆ–è€…ä¸‰ä½ã€å››ä½å‹ç¼©ï¼Œèƒ½å¤Ÿè®©æŸ¥æ‰¾æ¬¡æ•°æ›´å°‘ï¼Œå½“ç„¶è¿™æ ·åšå¯èƒ½ä¼šç‰ºç‰²ç©ºé—´ï¼Œä½†æ˜¯ä»–ä¾ç„¶æ˜¯åŸºæ•°æ ‘ä¼˜åŒ–çš„å­—å…¸æ ‘ã€‚","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"å­—ç¬¦ä¸²","slug":"ACM/å­¦ä¹ ç¬”è®°/å­—ç¬¦ä¸²","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%AD%97%E7%AC%A6%E4%B8%B2/"}],"tags":[]},{"title":"åç¼€æ ‘","slug":"ACM/å­¦ä¹ ç¬”è®°/å­—ç¬¦ä¸²/åç¼€æ ‘/index","date":"2020-03-16T08:14:25.000Z","updated":"2020-03-16T08:14:25.000Z","comments":true,"path":"Q7A1K1.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q7A1K1.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial åç¼€æ ‘ ä¸€é¢—åç¼€æ ‘æ˜¯é’ˆå¯¹ä¸€ä¸ªå­—ç¬¦ä¸²è€Œè¨€çš„ï¼Œè¯¥åç¼€æ ‘èƒ½è¯†åˆ«è¿™ä¸ªå­—ç¬¦ä¸²çš„æ‰€æœ‰åç¼€ï¼Œèƒ½ä¸”ä»…èƒ½è¯†åˆ«è¿™ä¸ªå­—ç¬¦ä¸²çš„æ‰€æœ‰å­—ä¸²ï¼Œ åç¼€æ ‘ç©ºé—´å‹ç¼© å¸¸å¸¸æˆ‘ä»¬ä¼šåœ¨åç¼€æ ‘çš„è¾¹ä¸Šå‚¨å­˜å­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯å­—ç¬¦ï¼Œè¿™æ ·å¯ä»¥é¿å…å¤§é‡çš„å†…å­˜å¼€é”€ï¼Œæ¯ä¸€æ¡è¾¹ï¼Œæˆ‘ä»¬éƒ½è®°å½•äº†ä¸¤ä¸ªæ•°æ®ï¼Œå­—ç¬¦ä¸²çš„èµ·ç‚¹å’Œç»ˆç‚¹ï¼Œè¿™æ ·å°±å®ç°äº†åç¼€æ ‘çš„ç©ºé—´å‹ç¼© åç¼€æ ‘çš„æ„é€  åç¼€æ ‘æœ‰å¾ˆå¤šæ„é€ ç®—æ³•ï¼Œè¿™é‡Œç›´è®²æœ€ç®€å•çš„ï¼Œè€ƒè™‘ä¸€ä¸ªå­—ç¬¦ä¸²çš„åç¼€è‡ªåŠ¨æœºï¼Œå…¶ä¸Šçš„paerentæ ‘ä¾¿æ˜¯åä¸²çš„åç¼€æ ‘ã€‚","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"å­—ç¬¦ä¸²","slug":"ACM/å­¦ä¹ ç¬”è®°/å­—ç¬¦ä¸²","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%AD%97%E7%AC%A6%E4%B8%B2/"}],"tags":[]},{"title":"trie","slug":"ACM/å­¦ä¹ ç¬”è®°/å­—ç¬¦ä¸²/trie/index","date":"2020-03-16T04:47:11.000Z","updated":"2020-03-16T04:47:11.000Z","comments":true,"path":"Q79RYN.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q79RYN.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å­—å…¸æ ‘ å­—å…¸æ ‘æ˜¯æˆ‘æ¥è§¦è‡ªåŠ¨æœºçš„å¼€ç«¯ï¼Œæˆ‘ä»¬å…ˆè®²è‡ªåŠ¨æœºï¼Œ è‡ªåŠ¨æœº è‡ªåŠ¨æœºæœ‰äº”ä¸ªè¦ç´ ï¼Œå¼€å§‹çŠ¶æ€ï¼Œè½¬ç§»å‡½æ•°ï¼Œå­—ç¬¦é›†ï¼ŒçŠ¶æ€é›†ï¼Œç»“æŸçŠ¶æ€ã€‚ è‡ªåŠ¨æœºè¯†åˆ«å­—ç¬¦ä¸² å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªè‡ªåŠ¨æœºï¼Œä»–é•¿è¿™ä¸ªæ ·å­,ä»–èƒ½è¯†åˆ«å­—ç¬¦ä¸²abc. ç¨ç­‰ç‰‡åˆ»ï¼ä¸‹å›¾æ­£åœ¨è½¬ç ä¸­ 1234graph LRstart((start))--a--&gt; 1((1))1((1))--b--&gt;2((2))2((2))--c--&gt;3((end)) æœ€å¼€å§‹æˆ‘ä»¬åœ¨ä½ç½®startï¼Œä¹Ÿå°±æ˜¯åˆå§‹çŠ¶æ€ï¼Œå½“æˆ‘ä»¬è¯»å…¥å­—ç¬¦açš„æ—¶å€™ï¼Œç»è¿‡è½¬ç§»å‡½æ•°æˆ‘ä»¬åˆ°è¾¾äº†1å·çŠ¶æ€ï¼Œå¦‚æœæˆ‘ä»¬åœ¨åˆå§‹çŠ¶æ€è¯»åˆ°çš„æ˜¯å­—ç¬¦bï¼Œåˆ™å› ä¸ºåˆå§‹çŠ¶æ€æ²¡æœ‰å­—ç¬¦bçš„è½¬ç§»å‡½æ•°ã€‚ä¼šå¯¼è‡´è‡ªåŠ¨æœºåœ¨éç»ˆç»“çŠ¶æ€åœæœºï¼Œè¿™å°±æ„å‘³ç€æ— æ³•è¯†åˆ«å­—ç¬¦bï¼ŒåŒç†ä¹Ÿæ— æ³•è¯†åˆ«c-z,äºæ˜¯åœ¨åˆå§‹çŠ¶æ€åªèƒ½è¯†åˆ«aï¼Œ ç„¶ååˆ†æçŠ¶æ€1ï¼Œåªèƒ½è¯†åˆ«bï¼Œåˆ°è¾¾çŠ¶æ€2ï¼Œåªèƒ½è¯†åˆ«cåˆ°è¾¾ç»ˆæ€ã€‚æœ€åå°±è¯†åˆ«äº†å­—ç¬¦ä¸²abcã€‚ ç„¶åæˆ‘ä»¬æ¥è€ƒè™‘ä¸€ä¸ªå¤æ‚ä¸€ç‚¹çš„è‡ªåŠ¨æœºï¼Œä»–èƒ½è¯†åˆ«å­—ç¬¦ä¸²abcã€abdã€bcã€ac ç¨ç­‰ç‰‡åˆ»ï¼ä¸‹å›¾æ­£åœ¨è½¬ç ä¸­ 12345678graph TBstart((start))--a--&gt; 1((1))1((1))--c--&gt;10((end))start((start))--b--&gt; 3((3))3((3))--c--&gt; 10((end))1((1))--b--&gt;2((2))2((2))--c--&gt;10((end))2((2))--d--&gt;10((end)) å¦‚æœæˆ‘ä»¬ä¸å»åˆ†æå…¶ä¸­çš„endèŠ‚ç‚¹ï¼Œä»–çš„æœ¬è´¨å°±æ˜¯ä¸€é¢—æ ‘ï¼Œä»–åŒæ—¶åˆå«åšå­—å…¸æ ‘ï¼Œç‰¹åˆ«çš„ï¼Œå¦‚æœè¿™ä¸ªå­—å…¸æ ‘çš„å­—ç¬¦é›†ä¸º01ï¼Œåˆ™ä»–åˆå«åš01å­—å…¸æ ‘ã€‚ å­—å…¸æ ‘çš„æ’å…¥ å­—å…¸æ ‘çš„æ’å…¥åº”è¯¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¿™ä¸ªè¿‡ç¨‹æˆ‘ä»¬å¯ä»¥ç”¨é€’å½’å®ç°ï¼Œ å­—å…¸æ ‘çš„åˆ é™¤ ç‰¹åˆ«æ³¨æ„ï¼Œä¸ºäº†èƒ½å¤Ÿæ”¯æŒå¤šé‡é›†åˆï¼Œæˆ‘ä»¬å¸¸å¸¸ç”¨ä¸€ä¸ªæ•°å­—æ¥ä»£è¡¨æœ‰å¤šå°‘ä¸ªå­—ç¬¦ä¸²åœ¨æŸä¸ªçŠ¶æ€ç»“æŸï¼Œè¿™æ ·åˆ é™¤çš„æ—¶å€™åªè¦å‡å°‘é‚£ä¸ªå€¼å°±å¯ä»¥äº† å­—å…¸æ ‘çš„æŸ¥æ‰¾ é€’å½’ã€‚ é€’å½’è½¬éé€’å½’ å› ä¸ºå­—å…¸æ ‘çš„ä»£ç ç‰¹åˆ«ç®€å•ï¼Œæˆ‘ä»¬å¸¸å¸¸ç›´æ¥ç”¨é€’å½’è½¬éé€’å½’æ¥å®ç°ã€‚ ä»£ç  å…ˆæ¬ ç€ï¼Œæš‚æ—¶æ‹–ä¸€ä¸ªä¸å¤ªå‹å¥½çš„ä»£ç åœ¨è¿™é‡Œ,è¿™é‡Œé¢æœ‰ä¸€éƒ¨åˆ†ä»£ç å°±æ˜¯å­—å…¸æ ‘å•¦ã€‚ä»£ç é“¾æ¥","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"å­—ç¬¦ä¸²","slug":"ACM/å­¦ä¹ ç¬”è®°/å­—ç¬¦ä¸²","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%AD%97%E7%AC%A6%E4%B8%B2/"}],"tags":[]},{"title":"cartesianTree","slug":"æ•°æ®ç»“æ„/cartesianTree/index","date":"2020-03-16T04:32:20.000Z","updated":"2020-03-16T04:32:20.000Z","comments":true,"path":"Q79R9W.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q79R9W.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial # cartesian tree ç¬›å¡å°”æ ‘æ˜¯ä¸€é¢—äºŒå‰æ ‘ï¼Œä»–æ»¡è¶³ä¸­åºéå†ä¸ºç»´æŠ¤çš„åºåˆ—ï¼Œä¸”æ»¡è¶³å †çš„æ€§è´¨ buildæˆ‘ä»¬ä½¿ç”¨å•è°ƒæ ˆæ¥ç»´æŠ¤æ ‘æ ¹åˆ°å¶å­çš„é“¾ï¼Œåœ¨å•è°ƒæ ˆçš„æ„å»ºä¸­å®Œæˆæ ‘çš„æ„å»º ctä»£ç ","categories":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"http://fightinggg.github.io/indigo/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}],"tags":[]},{"title":"VPTree","slug":"æ•°æ®ç»“æ„/VPTree/index","date":"2020-03-16T04:32:13.000Z","updated":"2020-03-16T04:32:13.000Z","comments":true,"path":"Q79R9P.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q79R9P.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial vantate point treevp tree æ˜¯ä¸€é¢—äºŒå‰æ ‘ï¼Œä»–å’Œkd treeæœ‰ç€ä¸€å®šçš„ç›¸ä¼¼åº¦, æ ‘ä¸Šä¿¡æ¯æ¯ä¸€é¢—å­æ ‘éƒ½è¦ç»´æŠ¤ä¸€ä¸ªç‚¹é›†ï¼Œå¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼Œæˆ‘ä»¬éƒ½ç»´æŠ¤ä¸€ä¸ªè·ç¦»dï¼Œç„¶åå°†åˆ°è¯¥èŠ‚ç‚¹çš„è·ç¦»å°äºdçš„ç‚¹æ”¾åˆ°å·¦å„¿å­ï¼Œå…¶ä»–çš„æ”¾åˆ°å³å„¿å­ä¸­ã€‚ vantate pointvantate pointçš„é€‰å–æ˜¯ä¸€ä¸ªæ¯”è¾ƒéº»çƒ¦çš„äº‹æƒ…ï¼Œæˆ‘ä»¬ä»”ç»†æƒ³æƒ³éƒ½çŸ¥é“ï¼Œè¿™ä¸ªç‚¹çš„é€‰å–è‚¯å®šä¼šå½±å“ç®—æ³•ï¼Œæœ‰ä¸€ç§å¤„ç†åŠæ³•æ˜¯éšæœºé€‰å–ï¼Œè¿™æ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚æˆ‘ä»¬å…¶å®å¯ä»¥è¿™æ ·æ¥å¤„ç†ï¼Œ Our algorithm constructs a set of vantage point candidates by random sampling,and then evaluates each of them.Evaluation is accomplished by extracting another sample,from which the median of $\\prod_p(S)$,and a corresponding moment are estimated.Finally,based on these statistical images,the candidate with the largest moment is chosen. è¿™é‡Œçš„$\\prod_p(S)$æŒ‡çš„å°±æ˜¯åœ¨è¯¥åº¦é‡ç©ºé—´ä¸­ç‚¹på’Œç‚¹sçš„è·ç¦»,ä½œè€…é€‰å–çš„statistical imagesæ˜¯æ–¹å·®ï¼Œæˆ‘ä»¬å¯ä»¥ä»ä¼ªç ä¸­çœ‹å‡ºã€‚ å»ºæ ‘å’Œkdæ ‘ä¸€æ ·ï¼Œå»ºæ ‘çš„è¿‡ç¨‹æ˜¯ä¸€è‡´çš„ï¼Œæˆ‘ä»¬é€‰å‡ºvantate point,ç„¶åé€’å½’å·¦å³å»ºæ ‘ æœç´¢æœç´¢çš„è¯ï¼Œä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œç”¨ç»“æœå‰ªæå³å¯ ä¿®æ”¹è¿™æ ·çš„æ ‘ä¸å­˜åœ¨å•æ—‹è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬åªèƒ½ç”¨æ›¿ç½ªç¾Šæ ‘å¥—vantate point treeæ¥å®ç° å‚è€ƒèµ„æ–™Data Structures and Algorithms for Nearest Neighbor Search in General Metric Spaces Peter N.Yianilos*","categories":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"http://fightinggg.github.io/indigo/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}],"tags":[]},{"title":"scapegoateTree","slug":"æ•°æ®ç»“æ„/scapegoateTree/index","date":"2020-03-16T04:32:06.000Z","updated":"2020-03-16T04:32:06.000Z","comments":true,"path":"Q79R9I.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q79R9I.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial # scapegoat Tree æ›¿ç½ªç¾Šæ ‘ï¼Œä»–æ˜¯ä¸€ä¸ªæš´åŠ›çš„bstï¼Œä¸æ™®é€šbstç›¸æ¯”ï¼Œä»–è®°å½•äº†å­æ ‘çš„å¤§å°ï¼Œç”¨å‚æ•°alphaæ¥å®šä¹‰å¹³è¡¡ï¼Œå³å·¦å³å­æ ‘çš„å¤§å°éƒ½ä¸å…è®¸è¶…è¿‡æ ¹çš„alphaå€ï¼Œæ‰€ä»¥å¾€å¾€aplhaæ˜¯ä¸€ä¸ª0.5åˆ°1çš„æ•°å­—ï¼Œå½“è¿åäº†è¿™ä¸ªæ€§è´¨ï¼Œå°±æš´åŠ›é‡æ„ï¼Œå°†æ ‘æ„é€ ä¸ºå®Œå…¨å¹³è¡¡æ ‘ã€‚ ## æ›¿ç½ªç¾Šæ ‘erase ä¸ºèŠ‚ç‚¹æ‰“ä¸Šæ ‡è®°scapegoatï¼Œä»£è¡¨è¿™ä¸ªèŠ‚ç‚¹å·²ç»è¢«åˆ é™¤äº†ï¼Œå›æº¯å­æ ‘å¤§å°ä¿¡æ¯ã€‚ ## æ›¿ç½ªç¾Šæ ‘insert ä½¿ç”¨bstæ’å…¥çš„æ–¹å¼æ¥æ’å…¥ï¼Œæ³¨æ„ç‰¹åˆ¤æ‰é‚£äº›è¢«æ‰“åˆ é™¤æ ‡è®°çš„ç‚¹ï¼Œå°±å¯ä»¥äº† ## æ›¿ç½ªç¾Šæ ‘é‡æ„ å½“æˆ‘ä»¬eraseæˆ–è€…insertä»¥åï¼Œå—å½±å“çš„èŠ‚ç‚¹åº”è¯¥æ°å¥½æ„æˆäº†ä¸€æ¡ä»æ ¹åˆ°ç›®æ ‡çš„é“¾ï¼Œæˆ‘ä»¬ä½¿ç”¨maintainæ¥é‡æ–°è°ƒæ•´å­æ ‘å¤§å°çš„æ—¶å€™ï¼Œæ³¨æ„æ ‡è®°é‚£äº›éæ³•(ä¸å¹³è¡¡)çš„èŠ‚ç‚¹ï¼Œç„¶åå½“æˆ‘ä»¬maintainåˆ°æ ¹çš„æ—¶å€™ï¼Œæˆ‘ä»¬é‡æ„ç¦»æ ¹æœ€è¿‘çš„ä¸å¹³è¡¡çš„å­æ ‘ã€‚ ## æ›¿ç½ªç¾Šæ ‘ä»£ç  æ›¿ç½ªç¾Šæ ‘ä»£ç ","categories":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"http://fightinggg.github.io/indigo/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}],"tags":[]},{"title":"æ— æ—‹Treap","slug":"æ•°æ®ç»“æ„/æ— æ—‹Treap/index","date":"2020-03-16T04:31:56.000Z","updated":"2020-03-16T04:31:56.000Z","comments":true,"path":"Q79R98.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q79R98.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial namedescirption inputoutputsample inputsample outputtoturialcode","categories":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"http://fightinggg.github.io/indigo/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}],"tags":[]},{"title":"Treap","slug":"æ•°æ®ç»“æ„/Treap/index","date":"2020-03-16T04:31:49.000Z","updated":"2020-03-16T04:31:49.000Z","comments":true,"path":"Q79R91.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q79R91.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Treap æ ‘å †Treapæ¥æºäºTree+Heapçš„ç»„åˆ, å…¶å®å°±æ˜¯ä¸€æ£µæ ‘ï¼Œä»–çš„èŠ‚ç‚¹å‚¨å­˜äº†ä¸¤ä¸ªé”®ï¼Œä¸€ä¸ªæ˜¯æˆ‘ä»¬ç»´æŠ¤çš„ä¿¡æ¯ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯éšæœºæ•°ï¼Œæˆ‘ä»¬ä¸å¦¨è®¾å‰è€…å«keyï¼Œåè€…å«rand_keyï¼ŒTreapçš„keyæ»¡è¶³æœç´¢æ ‘çš„æ€§è´¨ï¼ŒTreapçš„rand_keyæ»¡è¶³å †çš„æ€§è´¨ã€‚(ä»æŸç§æ„ä¹‰ä¸Šè€Œè¨€ï¼Œç¬›å¡å°”æ ‘æ˜¯key&#x3D;rand_keyçš„Treap) ç‰¹ç‚¹: è‹¥keyä¸rand_keyç¡®å®šåï¼ŒTreapçš„å½¢æ€å”¯ä¸€ï¼Œ Treapåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹æ˜¾ç„¶æ˜¯å¹³è¡¡çš„ï¼Œä½†æˆ‘ä¸ä¼šè¯æ˜ï¼Œä¹Ÿæ²¡æ‰¾åˆ°è¯æ˜ï¼Œæš‚æ—¶å…ˆæ”¾ä¸€ä¸‹ã€‚ Treap insert æˆ‘ä»¬å‘ä¸€æ£µTreapä¸­æŒ‰ç…§æœç´¢æ ‘çš„æ€§è´¨æ’å…¥å€¼ä»¥åï¼Œä¸ä¼šç ´åæœç´¢æ ‘çš„ç‰¹ç‚¹ï¼Œä½†æ˜¯å¤§æ¦‚ç‡å¯¼è‡´Heapçš„æ€§è´¨è¢«è¿åã€‚è€ƒè™‘åˆ°å•æ—‹ä¸ä¼šå¯¼è‡´æœç´¢æ ‘çš„æ€§è´¨è¢«ç ´åï¼Œæˆ‘ä»¬é€šè¿‡å•æ—‹æ¥ä»æ–°è®©Treapæ»¡è¶³Heapçš„æ€§è´¨ã€‚è€ƒè™‘å›æº¯ï¼Œå‡è®¾æˆ‘ä»¬å¯¹æŸä¸ªå­æ ‘æ’å…¥äº†ä¸€ä¸ªå€¼ï¼Œè‹¥æœ€ç»ˆæ’å…¥åˆ°å·¦å­æ ‘ï¼Œåˆ™å¯èƒ½å¯¼è‡´å·¦å­æ ‘æ ‘æ ¹çš„rand_keyæ¯”å½“å‰èŠ‚ç‚¹çš„rand_keyå¤§ï¼ŒåŒæ—¶å› ä¸ºæˆ‘ä»¬åªæ’å…¥äº†ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ‰€ä»¥æœ€å¤šä¹Ÿåªæœ‰ä¸€ä¸ªèŠ‚ç‚¹çš„rand_keyæ¯”å½“å‰èŠ‚ç‚¹çš„rand_keyå¤§ï¼Œè¿™æ—¶å€™å¦‚æœä½¿ç”¨zigï¼Œåˆ™æ ‘æ¢å¤å¹³è¡¡ã€‚ Treap erase è¿˜æ˜¯ä½¿ç”¨å¹³è¡¡æ ‘çš„æ“ä½œæ¥å¯¹Treapè¿›è¡Œåˆ é™¤ã€‚å¦‚æœè¿‡ç¨‹ä¸­ç”¨åˆ°äº†å‰é©±åç»§æ›¿æ¢çš„æŠ€å·§ï¼Œè¿™å°†å¯¼è‡´æ›¿æ¢èŠ‚ç‚¹çš„rand_keyå’Œä»–æ‰€å¤„åœ¨ä¸ºä½ç½®ä¸åŒ¹é…ï¼Œæˆ‘ä»¬å°±åªè€ƒè™‘è¿™é¢—å­æ ‘ï¼Œå› ä¸ºåªæœ‰è¿™é¢—å­æ ‘çš„æ ‘æ ¹å‡ºç°äº†é—®é¢˜ï¼Œæˆ‘ä»¬å°è¯•é€’å½’å‘ä¸‹ï¼Œå°†ä½ç½®ä¸åŒ¹é…è¿™ä¸ªç°è±¡ä¸‹ç§»ï¼Œå› ä¸ºä¸åŒ¹é…ï¼Œå¿…ç„¶æ˜¯è¿™ä¸ªèŠ‚ç‚¹çš„rand_keyæ¯”å„¿å­ä»¬å°ï¼Œè¿™æ—¶å€™å¦‚æœå·¦å„¿å­çš„rand_keyå¤§å°±zigï¼Œå¦åˆ™zag,æœ€åèƒ½å‘ç°è¿™é—®é¢˜åœ¨å‘å¶å­ç»“ç‚¹è½¬ç§»ï¼Œæˆ‘ä»¬èƒ½å¤Ÿé€’å½’å‘ä¸‹ï¼Œç›´åˆ°æœ€åè½¬ç§»åˆ°å¶å­ä¸Šï¼Œæ ‘å°±æ¢å¤å¹³è¡¡äº†ã€‚ Treap ä»£ç  Treapä»£ç  æ— æ—‹Treap æ— æ—‹treapï¼ŒæŒ‡çš„æ˜¯ä¸ä½¿ç”¨zigå’Œzagæ¥é‡æ–°æ¢å¤å¹³è¡¡çš„Treap æˆ‘ä»¬ä½¿ç”¨mergeå’Œsplit æ— æ—‹Treap merge mergeçš„å‚æ•°æ˜¯ä¸¤ä¸ªtreapï¼Œä»–è¿”å›treapåˆå¹¶åçš„ç»“æœ,ä¸å¦¨è®¾å…¶ä¸­ä¸€ä¸ªä¸ºT1ï¼Œå¦ä¸€ä¸ªä¸ºT2ï¼Œè¿™é‡Œè¿˜è¦æ±‚T1çš„æœ€å¤§keyå°äºç­‰äºT2çš„æœ€å°keyã€‚mergeå…¶å®å¾ˆç®€å•ï¼Œå¦‚æœä½ å­¦è¿‡å·¦åæ ‘çš„è¯ï¼Œä¼šå¾ˆå®¹æ˜“ç†è§£ã€‚æˆ‘ä»¬ä¸å¦¨è®¾T1çš„æ ¹çš„rand_keyæ¯”T2çš„å°ã€‚é‚£ä¹ˆå¾ˆæ˜¾ç„¶ï¼Œæœ€ç»ˆç»“æœçš„æ ¹ä¸ºT2çš„æ ¹ï¼Œè¿™é‡Œæˆ‘ä»¬å°±å¯ä»¥é€’å½’äº†ï¼Œæˆ‘ä»¬å°†T2çš„å·¦å­æ ‘ä¸T1åˆå¹¶å‡ºT3ï¼Œæœ€åè®©T3æœ€ä¸ºT2æ–°çš„å·¦å­æ ‘ï¼Œæˆ‘ä»¬å¾—åˆ°çš„T2å°±æ˜¯mergeçš„ç»“æœã€‚ æ— æ—‹Treap split splitçš„å‚æ•°æ˜¯ä¸€ä¸ªTreapå’Œä¸€ä¸ªå€¼Wï¼Œä»–è¿”å›ä¸¤é¢—Treap,å…¶ä¸­ä¸€ä¸ªçš„æœ€å¤§keyå°äºWï¼Œå¦ä¸€ä¸ªå¤§äºW(ä¸éœ€è¦è€ƒè™‘ç­‰äºçš„æƒ…å†µ)ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¾ç„¶å¾ˆç®€å•ï¼Œæˆ‘ä»¬è€ƒè™‘æ ¹å°±å¯ä»¥äº†ï¼Œå¦‚æœæ ¹çš„keyå¤§äºwï¼Œåˆ™æ ¹å’Œå³å­æ ‘åˆ†åˆ°ä¸€éï¼Œç„¶åé€’å½’å·¦å„¿å­ï¼Œå°†å¾—åˆ°çš„ä¸¤ä¸ªTreapä¸­keyå¤§çš„é‚£ä¸ªä½œä¸ºä¹‹å‰åˆ†åˆ°ä¸€è¾¹çš„æ ¹çš„å·¦å„¿å­å³å¯ã€‚ æ— æ—‹Treap insert å…ˆsplitï¼Œç„¶åmergeä¸¤æ¬¡ æ— æ—‹Treap erase å¾ˆå¤šäººè¿™é‡Œä½¿ç”¨äº†splitä¸¤æ¬¡ç„¶åmergeä¸‰æ¬¡ï¼Œæˆ‘è®¤ä¸ºè¿™ä¸ªä¸å¤ªå¥½ï¼Œå¸¸æ•°è¿‡å¤§ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼Œå…ˆsearchæ‰¾åˆ°è¦åˆ çš„ç‚¹ï¼Œç„¶åmergeå…¶å·¦å³å­æ ‘é¡¶æ›¿è‡ªå·±å³å¯ã€‚ æ— æ—‹Treapä»£ç  æ— æ—‹Treapä»£ç ","categories":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"http://fightinggg.github.io/indigo/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}],"tags":[]},{"title":"SplayTree","slug":"æ•°æ®ç»“æ„/SplayTree/index","date":"2020-03-16T04:31:39.000Z","updated":"2020-03-16T04:31:39.000Z","comments":true,"path":"Q79R8R.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q79R8R.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial # splay tree ä¼¸å±•æ ‘ï¼Œä»¥å…¶æ“ä½œsplayå‡ºåã€‚ ä¼¸å±•æ ‘çš„æœ¬è´¨å°±æ˜¯bstï¼Œ ## splayæ“ä½œ ä¼¸å±•æ ‘å¯¹splayæ“ä½œçš„å‚æ•°æ˜¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä»–çš„ç»“æœæ˜¯å°†è¿™ä¸ªèŠ‚ç‚¹é€šè¿‡åŒæ—‹å˜æˆæ ¹ã€‚ ## splay insert ä¼¸å±•æ ‘insertçš„æ—¶å€™ï¼Œå…ˆæŒ‰ç…§bstçš„æ“ä½œinsertï¼Œç„¶åå°†insertçš„ç‚¹è¿›è¡Œsplayæ“ä½œå³å¯ ## splay search ä¼¸å±•æ ‘searchçš„æ—¶å€™ï¼Œå…ˆæŒ‰ç…§bstçš„æ“ä½œsearch,å¯¹æ‰¾åˆ°çš„èŠ‚ç‚¹è¿›è¡Œsplayå³å¯ ## splay erase ä¼¸å±•æ ‘eraseçš„æ—¶å€™ï¼Œå…ˆsearch,è¿™æ ·æˆ‘ä»¬è¦åˆ é™¤çš„èŠ‚ç‚¹å°±æˆä¸ºäº†æ ¹ï¼Œç„¶åæŒ‰ç…§bstçš„æ“ä½œåˆ é™¤å³å¯ ## splayæ“ä½œè¯¦è§£ ### é‡æ–°å®šä¹‰æ—‹è½¬rotate rotate(x)å³äº¤æ¢xå’Œxçš„çˆ¶äº²çš„ä½ç½®ï¼Œå³å¦‚æœxæ˜¯çˆ¶äº²yçš„å·¦å„¿å­ï¼Œåˆ™rotate(x)ç­‰ä»·ä¸zig(y)ï¼Œåä¹‹åˆ™ç­‰ä»·äºzag(y) ### å®šä¹‰splay å¦‚æœç¥–çˆ¶-çˆ¶äº²-è‡ªå·±æ„æˆä¸€æ¡ç›´é“¾ï¼Œåˆ™é€‰rotateçˆ¶äº²å†rotateè‡ªå·±ï¼Œè‹¥ä¸æ˜¯ç›´é“¾åˆ™rotateè‡ªå·±ä¸¤æ¬¡ã€‚çŸ¥é“è‡ªå·±æˆä¸ºæ ¹ã€‚ ## splayå¤æ‚åº¦åˆ†æ ### splayåŠ¿èƒ½å‡½æ•° å¯¹äºä¸€ä¸ªä¼¸å±•æ ‘Tï¼Œä»–çš„ä¸€ä¸ªèŠ‚ç‚¹xçš„å­æ ‘å¤§å°ä¸º$s(x)$,å®šä¹‰ä¸€ä¸ªèŠ‚ç‚¹xçš„åŠ¿èƒ½ä¸º$X=log_2(s(x))$ #### å¯¹æ•°å‡½æ•°æ˜¯ä¸€ä¸ªå‡¸å‡½æ•° å·²çŸ¥a,b>0,åˆ™$lg(a)+lg(b)\\lt 2lg(\\frac{a+b}{2}) = 2lg(a+b)-2$ ### å¯¹äºä¸€æ¡ç›´é“¾ï¼Œæˆ‘ä»¬è¦å…ˆrotateçˆ¶äº²ï¼Œå†rotateè‡ªå·± è®¾è‡ªå·±ä¸ºxï¼Œçˆ¶äº²ä¸ºyï¼Œç¥–çˆ¶ä¸ºzï¼Œ åˆ™åŠ¿èƒ½å˜åŒ–ä¸º $$ \\begin{aligned} &X'+Y'+Z'-X-Y-Z \\\\&=Y'+Z'-X-Y\\lt X'+Z'-2X \\\\&=(3X'-3X)+(X+Z'-2X') \\end{aligned} $$ è¿™é‡Œçš„xå’Œzâ€˜çš„å­æ ‘å¤§å°åŠ èµ·æ¥åˆšå¥½ç­‰äºx'çš„å­æ ‘å¤§å°-1ã€‚æ‰€ä»¥åŠ¿èƒ½å˜åŒ–å°äº$3(X'-X)-2$ ### å¯¹äºä¸€æ¡éç›´é“¾ï¼Œæˆ‘ä»¬è¦rotateè‡ªå·±ä¸¤æ¬¡ï¼Œæ‰èƒ½ä¸Šå»ï¼Œrotateçˆ¶äº²ä¸è¡Œçš„ åŒç†ï¼ŒåŠ¿èƒ½å˜åŒ–ä¸º $$ \\begin{aligned} &X'+Y'+Z'-X-Y-Z \\\\&=Y'+Z'-X-Y\\lt Y'+Z'-2X \\\\&=(2X'-2X)+(Y'+Z'-2X') \\end{aligned} $$ è¿™é‡Œçš„y'å’Œz'çš„å­æ ‘å¤§å°åŠ èµ·æ¥åˆšå¥½ç­‰äºxâ€˜çš„å­æ ‘å¤§å°-1ï¼Œæ‰€ä»¥åŠ¿èƒ½å˜åŒ–å°äº$2(X'-X)-2$ ### å•æ—‹ æ˜“è¯åŠ¿èƒ½å˜åŒ–å°äº$X'-X$ ### æ•´ç†åˆå¹¶ ä¸‰ç§æ“ä½œçš„å‡æ‘Šå¤æ‚åº¦åˆ†åˆ«ä¸º$O(1)+X'-X$,$O(1)+2(X'-X)-2$,$O(1)+3(X'-X)-2$,å¯¹äºåé¢çš„ä¸¤ç§æƒ…å†µ,æˆ‘ä»¬å¢å¤§åŠ¿çš„å•ä½æ¥æ”¯é…éšè—åœ¨O(1)ä¸­çš„å¸¸æ•°ï¼Œæœ€ç»ˆåˆ†åˆ«ä¸º$O(1)+X'-X$,$2(X'-X)$,$3(X'-X)$,å†æ¬¡æ”¾ç¼©: $O(1)+3(X'-X)$,$3(X'-X)$,$3(X'-X)$,æœ€åå¯¹äºæ‰€æœ‰çš„æ—‹è½¬æ±‚å’Œï¼Œå› ä¸ºåªæœ‰ä¸€æ¬¡å•æ—‹æ‰€ä»¥æœ€ç»ˆæˆ‘ä»¬å¾—åˆ°äº†å‡æ‘Šå¤æ‚åº¦ä¸º$O(1)+X'-X\\lt O(1)+X'$,æ˜¾ç„¶X'æ˜¯ä¸€ä¸ªå¾ˆå°çš„æ•°ï¼Œä»–æ°å¥½ç­‰äºä¼¸å±•æ ‘ä¸­çš„å…ƒç´ çš„ä¸ªæ•°å–å¯¹æ•°åçš„ç»“æœã€‚è‡³æ­¤æ‰€æœ‰çš„æ“ä½œå‡å–å†³äºsplayçš„å¤æ‚åº¦ï¼Œå‡ä¸º$lg$çº§åˆ«ã€‚ ## splayä»£ç  splayæ ‘ä»£ç ","categories":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"http://fightinggg.github.io/indigo/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}],"tags":[]},{"title":"AATree","slug":"æ•°æ®ç»“æ„/AATree/index","date":"2020-03-16T04:31:32.000Z","updated":"2020-03-16T04:31:32.000Z","comments":true,"path":"Q79R8K.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q79R8K.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial AA Tree AAæ ‘çœŸçš„å¾ˆæ£’ï¼Œè™½ç„¶ä»–æ²¡æœ‰æ™®é€šçº¢é»‘æ ‘é‚£ä¹ˆå‰å®³,ä½†æ˜¯AAæ ‘æŒºå®¹æ˜“å®ç°çš„ï¼ŒAAæ ‘æ˜¯ä¸€æ£µå³å€¾çº¢é»‘æ ‘23æ ‘ï¼Œæ³¨æ„! è¿™é‡Œæ˜¯23æ ‘ï¼Œä¸æ˜¯234æ ‘ã€‚ AAæ ‘çš„ç”±æ¥ Arne Anderssonæ•™æˆåœ¨è®ºæ–‡Balanced search trees made simpleä¸­æåˆ°ï¼Œçº¢é»‘æ ‘æœ‰7ç§ç‰¹æ®Šæƒ…å†µï¼ˆå›¾ç‰‡æºäºwikiï¼‰ ä¸ºäº†æ”¹è¿›ï¼Œä»–æå‡ºäº†ä½¿ç”¨23æ ‘å¹¶å¼ºè¡Œè¦æ±‚3èŠ‚ç‚¹(2key-3son-node)å‘å³å€¾æ–œï¼Œäºæ˜¯ï¼Œæˆ‘ä»¬åªå‰©ä¸‹ä¸¤ç§æƒ…å†µ(å›¾ç‰‡æºäºwiki) ä¸ºäº†æ›´åŠ å®¹æ˜“ç¼–ç ï¼Œä»–æå‡ºä¸å†ä½¿ç”¨çº¢é»‘æ¥æ ‡è¯†èŠ‚ç‚¹ï¼Œè€Œæ˜¯é€‰æ‹©é«˜åº¦ï¼Œè¿™é‡Œçš„é«˜åº¦æŒ‡çš„æ˜¯é»‘é«˜åº¦ï¼Œå³é»‘è‰²èŠ‚ç‚¹çš„é«˜åº¦ï¼Œå­¦ä¹ è¿‡å·¦åæ ‘(å·¦ç¿¼å †)æˆ–æ–œå †çš„è¯»è€…åº”è¯¥å¯¹è¿™é‡Œä¸å¤ªé™Œç”Ÿï¼Œè¿™é‡Œçš„é«˜åº¦å…¶å®å’Œå·¦åæ ‘æˆ–æ–œå †ä¸­çš„å³è·ç¦»æ˜¯åŒä¸€ä¸ªä¸œè¥¿ã€‚ AAæ ‘çš„ç‰¹æ€§ æ‰€æœ‰å¶èŠ‚ç‚¹çš„leveléƒ½æ˜¯1æ¯ä¸ªå·¦å­©å­çš„levelæ°å¥½ä¸ºå…¶çˆ¶äº²çš„levelå‡ä¸€æ¯ä¸ªå³å­©å­çš„levelç­‰äºå…¶çˆ¶äº²çš„levelæˆ–ä¸ºå…¶çˆ¶äº²çš„levelå‡ä¸€æ¯ä¸ªå³å­™å­çš„levelä¸¥æ ¼å°äºå…¶ç¥–çˆ¶èŠ‚ç‚¹çš„levelæ¯ä¸€ä¸ªlevelå¤§äº1çš„èŠ‚ç‚¹æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ AAæ ‘çš„skewskew æ˜¯ä¸€ä¸ªè¾…åŠ©å‡½æ•°ï¼Œä»–çš„æœ¬è´¨æ˜¯zigï¼Œå³å¦‚æœå‘ç°ä¸€ä¸ªèŠ‚ç‚¹çš„å·¦å„¿å­ä¸è‡ªå·±é»‘é«˜ç›¸åŒï¼Œåˆ™å°†å·¦å„¿å­é€‰æ‹©è‡³æ ¹ã€‚è¿™å°†ä¿è¯å³å€¾ã€‚ AAæ ‘ä¸­çš„split splitåŒæ ·æ˜¯ä¸€ä¸ªè¾…åŠ©å‡½æ•°ï¼Œä»–çš„æœ¬è´¨æ˜¯zagï¼Œå³å¦‚æœå‘ç°ä¸€ä¸ªèŠ‚ç‚¹çš„å³å­™å­ä¸è‡ªå·±é»‘é«˜ç›¸åŒï¼Œåˆ™å°†å³å„¿å­é€‰æ‹©è‡³æ ¹ï¼Œå¹¶å°†é»‘é«˜+1ï¼Œè¿™å°†ä¿è¯ä¸ä¼šå‡ºç°4èŠ‚ç‚¹(3key-4son-node) AAæ ‘ä¸­çš„insert é€’å½’å‘ä¸‹ï¼Œæ‰¾åˆ°æ’å…¥ä½ç½®ï¼Œç„¶åæ’å…¥ï¼Œæœ€åè°ƒæ•´ï¼Œè°ƒæ•´çš„æ—¶å€™ï¼Œæ ‘ä¼šå˜é«˜ï¼Œå¯¹æ¯ä¸€å±‚é€’å½’è€Œè¨€ï¼Œå·¦å„¿å­å˜é«˜æˆ‘ä»¬å°±å…ˆè®©å…¶skewï¼Œè¿™å¯èƒ½å¯¼è‡´å‡ºç°4èŠ‚ç‚¹ï¼Œæˆ‘ä»¬å†splitï¼Œå¯¹äºå³å„¿å­å˜é«˜çš„æƒ…å†µï¼Œè¿™æ—¶å€™å¯èƒ½å³å„¿å­æœ¬èº«æ˜¯ä¸€ä¸ª3èŠ‚ç‚¹ï¼Œå½“ä»–å˜é«˜ï¼Œå¯¼è‡´æ ¹æˆä¸ºäº†4èŠ‚ç‚¹ï¼Œæˆ‘ä»¬è°ƒç”¨skewå³å¯ï¼Œå…¨éƒ¨ç»Ÿä¸€ä¸€ä¸‹ï¼Œå°±æ˜¯å…ˆskewåsplit AAæ ‘ä¸­çš„erase å¾ˆå¤šæ—¶å€™åˆ é™¤éƒ½æ˜¯ä¸€ä»¶å›°éš¾çš„äº‹æƒ…ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡å¯»æ‰¾å‰é©±åç»§ï¼Œå¯ä»¥ä¿è¯åˆ é™¤çš„èŠ‚ç‚¹ä¸€å®šæ˜¯å¶å­,å¯¹äºåˆ é™¤å¶å­ï¼Œå¯èƒ½æ ‘é«˜ä¸‹é™ï¼ŒåŒæ ·çš„ï¼Œå…ˆåˆ é™¤åå¯¹æ¯ä¸€å±‚è¿›è¡Œè°ƒæ•´ã€‚æˆ‘ä»¬å‰é¢è¯´è¿‡ï¼ŒAAæ ‘åªæœ‰ä¸¤ç§ç»“æ„ã€‚æˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹æ ‘é«˜ä¸‹é™äº§ç”Ÿçš„å½±å“ã€‚ æƒ…å†µ1 å³å„¿å­ä¸è‡ªå·±åŒé»‘é«˜ æƒ…å†µ1.1 å³å„¿å­ä¸‹é™ è¿™ç§æƒ…å†µæ˜¯åˆæ³•çš„ï¼Œä¸éœ€è¦è°ƒæ•´ æƒ…å†µ1.2 å·¦å„¿å­ä¸‹é™ æˆ‘ä»¬è§‚å¯Ÿåˆ°è¿™é‡Œæ˜¯ä¸€ç§è¾ƒä¸ºå¤æ‚çš„æƒ…å†µï¼Œå¯ä»¥è¿™æ ·å¤„ç†ï¼Œè®©èŠ‚ç‚¹aå’ŒcåŒæ—¶é»‘ä¸‹é™ï¼Œå¾—åˆ°äº† ç„¶åæˆ‘ä»¬è€ƒè™‘åˆ°cèŠ‚ç‚¹çš„å·¦å³å„¿å­,æ³¨æ„åˆ°cå’Œaä»¥å‰é»‘åŒé«˜ï¼Œæ‰€ä»¥cçš„å³å„¿å­crï¼Œä¸€å®šæ¯”cçŸ®ï¼Œå½“cä¸‹é™ä»¥åï¼Œclã€cã€cråŒé«˜ æ ¹æ®å®šä¹‰ï¼Œè¿™é‡Œæœ€å¤šè¿˜èƒ½æ‹–å‡ºä¸¤ä¸ªåŒé»‘é«˜çš„ï¼Œclçš„å³å„¿å­clrï¼Œcrçš„å³å„¿å­crr è¿™æ—¶å€™æˆ‘ä»¬å¯¹cæ‰§è¡Œskewï¼Œç„¶åclræˆäº†cçš„å·¦å„¿å­ï¼Œæˆ‘ä»¬å†æ¬¡å¯¹cæ‰§è¡Œskewï¼Œæœ€ç»ˆa-cl-clr-c-cr-crråŒé»‘é«˜ï¼Œ æ¥ä¸‹æ¥çš„ä¸€æ­¥æ˜¯è®©æˆ‘æœ€åƒæƒŠçš„ï¼Œéå¸¸æ¼‚äº®ï¼Œæˆ‘ä»¬å…ˆå¯¹aè¿›è¡Œsplitï¼Œç„¶åå¯¹æ ¹çš„å³å„¿å­å†æ¬¡splitï¼Œå°±ç»“æŸäº†ã€‚å¯¹aè¿›è¡Œsplitåæˆ‘ä»¬å¾—åˆ°,æ³¨æ„åˆ°è¿™é‡Œæ ¹çš„é«˜åº¦æé«˜äº† å¯¹æ ¹å¯¹å³å„¿å­split,å°±ç»“æŸäº† æƒ…å†µ2 å³å„¿å­ä¸è‡ªå·±ä¸åŒé»‘é«˜ æƒ…å†µ2.1 å³å„¿å­ä¸‹é™ è®©aèŠ‚ç‚¹é«˜åº¦é™ä½ è®©aè¿›è¡Œskew,æœ€åå› ä¸ºbçš„å³å„¿å­é«˜åº¦ï¼Œåˆ†ä¸¤ç§æƒ…å†µ å¯¹äºbçš„å³å„¿å­å¤ªé«˜çš„æ—¶å€™ï¼Œå¯¹aè¿›è¡Œskew ç„¶åå¯¹bè¿›è¡Œsplitå³å¯ æƒ…å†µ2.2 å·¦å„¿å­ä¸‹é™ è®©aä¸‹é™ è¿™é‡Œå¯èƒ½å‘ç”Ÿcçš„å³å„¿å­ä¸cåŒé«˜ï¼Œsplitï¼ˆaï¼‰å³å¯ AAæ ‘eraseæ€»ç»“ è‡³æ­¤æˆ‘ä»¬çš„åˆ é™¤å·²ç»è®¨è®ºå®Œäº†ï¼Œå®é™…ç»†åˆ†åªæœ‰4ç§æƒ…å†µï¼Œè¿™è¦æ¯”æ™®é€šçº¢é»‘æ ‘ç®€å•å¤šäº†ï¼Œ AAæ ‘ç¼ºç‚¹ å¤šæ¬¡æ—‹è½¬å¯¼è‡´æ€§èƒ½ä¸åŠçº¢é»‘æ ‘ï¼Œæ—‹è½¬æ¬¡æ•°è¾ƒå¤š AAæ ‘ä»£ç  AAæ ‘ä»£ç ","categories":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"http://fightinggg.github.io/indigo/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}],"tags":[]},{"title":"LLRBTree","slug":"æ•°æ®ç»“æ„/LLRBTree/index","date":"2020-03-16T04:31:26.000Z","updated":"2020-03-16T04:31:26.000Z","comments":true,"path":"Q79R8E.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q79R8E.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial left leaning red black treeleft leaning red black treeå®šä¹‰ åœ¨çº¢é»‘æ ‘çš„åŸºç¡€ä¸Šï¼Œå·¦å€¾çº¢é»‘æ ‘ä¿è¯äº†3èŠ‚ç‚¹(2key-3son-node)çš„çº¢è‰²èŠ‚ç‚¹ä¸ºå‘å·¦å€¾æ–œï¼Œè¿™å¯¼è‡´äº†çº¢é»‘æ ‘æ›´åŠ ä¸¥æ ¼çš„å®šä¹‰, left leaning red black treeå®ç° åœ¨çº¢é»‘æ ‘ä»£ç çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªleft leaningå‡½æ•°ï¼Œç”¨æ¥è°ƒæ•´å³å€¾æ–œä¸ºå·¦å€¾æ–œï¼Œè¿™ä¸ªå‡½æ•°éœ€è¦é€‚å½“çš„åŠ å…¥åˆ°çº¢é»‘æ ‘ä»£ç å½“ä¸­ï¼Œç¬”è€…è°ƒè¯•äº†å¾ˆä¹…ï¼Œæ‰¾åˆ°äº†å¾ˆå¤šæ€ç»´æ¼æ´ï¼ŒæŠŠè¿™äº›æ¼æ´å…¨éƒ¨ç”¨æ•°å­¦çš„æ–¹å¼ä¸¥æ ¼è¯æ˜ä»¥åï¼Œè°ƒç”¨left leaningå‡½æ•°å³å¯ã€‚ left leaning red black treeä¼˜ç‚¹ ç›¸æ¯”çº¢é»‘æ ‘è€Œè¨€ï¼Œç¬”è€…è®¤ä¸ºæå‡ä¸å¤§ï¼ŒçœŸçš„ï¼Œä½†æ˜¯æœ‰äººä½¿ç”¨äº†å¾ˆå°‘çš„ä»£ç å°±å®ç°äº†LLRBTï¼Œè¿™ä¹Ÿç®—ä¸€ä¸ªå§ï¼Œç¬”è€…æ˜¯ä¿®æ”¹çš„çº¢é»‘æ ‘ï¼Œæ‰€ä»¥å¾ˆéš¾å—ï¼Œä»£ç æ›´é•¿äº†ã€‚ left leaning red black tree code left leaning red black treeä»£ç ","categories":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"http://fightinggg.github.io/indigo/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}],"tags":[]},{"title":"RBTree","slug":"æ•°æ®ç»“æ„/RBTree/index","date":"2020-03-16T04:31:21.000Z","updated":"2020-03-16T04:31:21.000Z","comments":true,"path":"Q79R89.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q79R89.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial red black treered black treeå®šä¹‰çº¢é»‘æ ‘æ˜¯ä¸€ç§å¹³è¡¡æ ‘ï¼Œä»–æ»¡è¶³ä¸‹é¢çš„æ€§è´¨ 1.èŠ‚ç‚¹æ˜¯çº¢è‰²æˆ–é»‘è‰²ã€‚2.æ ¹æ˜¯é»‘è‰²ã€‚3.æ‰€æœ‰å¶å­éƒ½æ˜¯é»‘è‰²ï¼ˆå¶å­æ˜¯NILèŠ‚ç‚¹ï¼‰ã€‚4.æ¯ä¸ªçº¢è‰²èŠ‚ç‚¹å¿…é¡»æœ‰ä¸¤ä¸ªé»‘è‰²çš„å­èŠ‚ç‚¹ã€‚ï¼ˆä»æ¯ä¸ªå¶å­åˆ°æ ¹çš„æ‰€æœ‰è·¯å¾„ä¸Šä¸èƒ½æœ‰ä¸¤ä¸ªè¿ç»­çš„çº¢è‰²èŠ‚ç‚¹ã€‚ï¼‰5.ä»ä»»ä¸€èŠ‚ç‚¹åˆ°å…¶æ¯ä¸ªå¶å­çš„æ‰€æœ‰ç®€å•è·¯å¾„éƒ½åŒ…å«ç›¸åŒæ•°ç›®çš„é»‘è‰²èŠ‚ç‚¹ã€‚ red black treeè§£è¯»æ€§è´¨çº¢é»‘æ ‘çš„æ€§è´¨éš¾ä»¥ç†è§£ï¼Œè¿™æ˜¯å› ä¸ºä»–å¤ªè¿‡äºæŠ½è±¡äº†, å¦‚æœä½ äº†è§£B Tree, æˆ‘ä»¬ç°åœ¨è€ƒè™‘èŠ‚ç‚¹ä¸­æœ€å¤šåŒ…å«3ä¸ªé”®çš„B Treeï¼Œä»–åˆå«2-3-4tree,æ„æ€æ˜¯ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹éƒ½æœ‰2ï¼Œ3æˆ–4ä¸ªç›´æ¥å­å­™ï¼Œç›´æ¥å­å­™æŒ‡çš„æ˜¯å’Œå½“å‰èŠ‚ç‚¹ç›¸é‚»çš„å­å­™ï¼Œç›¸é‚»æŒ‡çš„æ˜¯æ°å¥½æœ‰ä¸€æ¡è¾¹è¿æ¥ã€‚2-3-4æ ‘çš„ç¼–ç æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼ŒåŸå› åœ¨äºèŠ‚ç‚¹ç§ç±»è¿‡å¤šã€‚æˆ‘ä»¬ç°åœ¨è€ƒè™‘è¿™æ ·ä¸€ç§æƒ…å†µï¼ŒRB treeä¸­çš„çº¢è‰²èŠ‚ç‚¹ä»£è¡¨ä»–å’Œä»–çˆ¶äº²åœ¨ä¸€èµ·ï¼Œå³ä»–+ä»–çš„çˆ¶äº²æ„æˆäº†2key3son-nodeï¼Œè‹¥ä»–çš„å…„å¼Ÿä¹Ÿæ˜¯çº¢è‰²ï¼Œåˆ™ä»–+å…„å¼Ÿ+çˆ¶äº²æ„æˆäº†3key4son-nodeæ€§è´¨1æ˜¾ç„¶æ€§è´¨2çš„åŸå› æ˜¯æ ¹æ²¡æœ‰çˆ¶äº²ï¼Œæ‰€ä»¥ä»–ä¸èƒ½ä¸ºçº¢æ€§è´¨3çš„åŸå› æ˜¯ä¸ºäº†ä¿è¯æ›´å…·æœ‰ä¸€èˆ¬æ€§æ€§è´¨4çš„åŸå› æ˜¯ä¿è¯æœ€å¤šåªæœ‰3key4son-nodeï¼Œä¸èƒ½å‡ºç°4key5son-nodeæ€§è´¨5çš„åŸå› æ˜¯Bæ ‘çš„å®Œå…¨å¹³è¡¡æ€§è´¨ red black treeç¼–ç ç”±æ­¤å¯è§ï¼Œæˆ‘ä»¬ä»¿ç…§234Treeå³BTreeå³å¯å®Œæˆç¼–ç  ä¸ºä»€ä¹ˆçº¢é»‘æ ‘è·‘å¾—å¿«æˆ‘ä»¬å‘ç°234æ ‘çš„æ‰€æœ‰æ“ä½œéƒ½èƒ½åœ¨çº¢é»‘æ ‘ä¸Šè¡¨ç°,ä½†æ˜¯234æ ‘æœ‰ä¸€ä¸ªå¾ˆå¤§çš„ç¼ºé™·ï¼Œå³åˆ†è£‚åˆå¹¶çš„é€Ÿåº¦å¤ªæ…¢äº†ï¼Œè¦é‡æ„å¾ˆå¤šä¸œè¥¿ï¼Œç»†å¿ƒçš„è¯»è€…è‡ªå·±æ¨¡æ‹Ÿä¼šå‘ç°ï¼Œè¿™ä¸ªè¿‡ç¨‹åœ¨RBTreeä¸Šå¯¹åº”çš„ä»…ä»…æ˜¯æŸ“è‰²é—®é¢˜ï¼Œè¿™æå¤§çš„åŠ é€Ÿäº†æ•°æ®ç»“æ„ï¼Œè¿™æ˜¯ä¼˜åŠ¿ã€‚ red black tree eraseåˆ é™¤æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œä½ æ€æ ·æ“ä½œéƒ½å¯ä»¥ï¼Œåªè¦æ—‹è½¬æ¬¡æ•°å°‘ï¼Œä½ å¯ä»¥åˆ†å¾ˆå¤šç±»æ¥è®¨è®ºï¼Œæ˜¾ç„¶åˆ†ç±»è¶Šå¤šï¼Œå¹³å‡æ—‹è½¬æ¬¡æ•°æ˜¯æœ€å°‘çš„ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼Œeraseä¼šå¼•è¿›ä¸€ä¸ªé‡é»‘è‰²çš„æ¦‚å¿µï¼Œè¿™ä¸ªæ¦‚å¿µçš„å®é™…æ„ä¹‰æŒ‡çš„æ˜¯è¯¥èŠ‚ç‚¹æœ‰ä¸€ä¸ª0key1sonçš„é»‘è‰²çˆ¶äº²è¢«éšè—äº†ã€‚ red black tree code red black treeä»£ç ","categories":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"http://fightinggg.github.io/indigo/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}],"tags":[]},{"title":"TTree","slug":"æ•°æ®ç»“æ„/TTree/index","date":"2020-03-16T04:31:15.000Z","updated":"2020-03-16T04:31:15.000Z","comments":true,"path":"Q79R83.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q79R83.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial # T tree T tree æ˜¯ä¸€é¢—äºŒå‰æ ‘ï¼Œä»–å’Œavl treeæœ‰ç€ä¸€å®šçš„è”ç³»,æ€»æ‰€å‘¨çŸ¥ï¼Œavlæ ‘ä¸ºä¸€é¢—äºŒå‰æ ‘ï¼Œåˆ©ç”¨å…¶ä¸­åºç»´æŠ¤ä¿¡æ¯ï¼Œåˆ©ç”¨å­æ ‘é«˜åº¦ç»´æŠ¤å¹³è¡¡ã€‚æˆ‘ä»¬å€Ÿæ­¤ä¿®æ”¹ä¸€ä¸‹ï¼Œæˆ‘ä»¬å°è¯•è®©avlæ ‘çš„æ¯ä¸ªèŠ‚ç‚¹ç»´æŠ¤å¤šä¸ªä¿¡æ¯[ä¿¡æ¯åºåˆ—]ï¼Œäºæ˜¯T treeå°±å‡ºç°äº†ã€‚T treeæ˜¯ä¸€é¢—äºŒå‰æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹ç»´æŠ¤ä¸€ä¸ªæœ‰åºåºåˆ—ï¼Œç”¨T æ ‘çš„ä¸­åºéå†æ–¹å¼ï¼Œå°†å…¶èŠ‚ç‚¹ç»´æŠ¤çš„åºåˆ—ä¾æ¬¡ç›¸è¿å³æˆä¸ºäº†æˆ‘ä»¬ç»´æŠ¤çš„ä¿¡æ¯ã€‚ T tree è§£é‡Šä¸ºäº†ä¾¿äºç¼–ç ï¼Œæˆ‘ä»¬ä¸è€ƒè™‘åºåˆ—ä¸­ä¼šå‡ºç°ç›¸åŒçš„å…ƒç´ ï¼Œå¯ä»¥è¯æ˜ï¼Œå¯¹äºæ³›å‹ç¼–ç¨‹æ–¹å¼è€Œè¨€ï¼Œè¿™å¹¶ä¸å½±å“è¯¥æ•°æ®ç»“æ„çš„åŠŸèƒ½ï¼Œè¯¥æ•°æ®ç»“æ„ä¾æ—§å…·å¤‡ç»´æŠ¤ç›¸åŒå…ƒç´ çš„èƒ½åŠ› T treeç»“è®ºéå¶èŠ‚ç‚¹ç»´æŠ¤çš„åºåˆ—éƒ½å……æ»¡äº†å„è‡ªçš„å®¹å™¨ T treeæ ‘ä¸Šä¿¡æ¯æ¯ä¸€é¢—å­æ ‘éƒ½è¦ç»´æŠ¤ä¸€ä¸ªåºåˆ—ï¼Œå¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼Œæˆ‘ä»¬éƒ½ç»´æŠ¤ä¸€ä¸ªç¨å¾®å°ä¸€ç‚¹çš„åºåˆ—ï¼Œæ¯”è¯¥åºåˆ—ä¸­å…ƒç´ æ›´å°çš„å…ƒç´ æ”¾å…¥å·¦å­æ ‘ï¼Œå¦åˆ™æ”¾å…¥å³å­æ ‘ã€‚ T treeæœç´¢æœç´¢çš„è¯ï¼Œå°±æ˜¯æ™®é€šäºŒå‰æ ‘çš„æœç´¢ï¼Œæ¯”å½“å‰èŠ‚ç‚¹ç»´æŠ¤çš„æœ€å°å€¼å°ï¼Œå°±åœ¨å·¦å­æ ‘æ‰¾ï¼Œæ¯”å½“å‰èŠ‚ç‚¹ç»´æŠ¤çš„æœ€å¤§å€¼å¤§ï¼Œå°±åœ¨å³å­æ ‘æ‰¾ï¼Œå¦åˆ™å°±åœ¨å½“å‰èŠ‚ç‚¹æ‰¾ T treeæ’å…¥å½“æˆ‘ä»¬æ’å…¥ä¸€ä¸ªæ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬é¦–å…ˆé€’å½’å‘ä¸‹ï¼Œæ‰¾åˆ°æ’å…¥çš„èŠ‚ç‚¹ä½ç½®ï¼Œè‹¥è¯¥èŠ‚ç‚¹ä¸­å‚¨å­˜çš„åºåˆ—æœªæ»¡ï¼Œåˆ™ç½®å…¥è¯¥èŠ‚ç‚¹ï¼Œå¦åˆ™ï¼Œæœ‰ä¸¤ç§å¤„ç†æ–¹å¼ï¼Œç¬¬ä¸€ç§æ˜¯ä»è¯¥èŠ‚ç‚¹ä¸­å–å‡ºæœ€å°å€¼ï¼Œæ”¾å…¥å·¦å­æ ‘ï¼Œç„¶åæŠŠå¸¦æ’å…¥çš„æ ‘æ”¾å…¥è¯¥èŠ‚ç‚¹ï¼Œç¬¬äºŒç§æ˜¯æ”¾å…¥å³å­æ ‘ï¼Œè¿™é‡Œä¸å¤šè¯´æ˜ã€‚æ’å…¥å¯èƒ½ä¼šå¯¼è‡´æ ‘å¤±å»å¹³è¡¡ï¼Œæˆ‘ä»¬ç”¨avlæ ‘å•æ—‹çš„æ–¹å¼æ¥è®©æ ‘é‡æ–°å¹³è¡¡ T treeåˆ é™¤å½“æˆ‘ä»¬åˆ é™¤ä¸€ä¸ªæ•°çš„æ—¶å€™ï¼Œåƒavlæ ‘ä¸€æ ·å¤„ç†ï¼Œè‹¥è¯¥æ•°åœ¨å¶å­ä¸Šï¼Œç®€å•åˆ æ‰å¹¶ç»´æŠ¤æ ‘çš„å¹³è¡¡å³å¯ï¼Œè®©è¯¥æ•°åœ¨éå¶èŠ‚ç‚¹æ—¶ï¼Œæˆ‘ä»¬å–å‡ºå‰é©±æˆ–åç»§æ¥é¡¶æ›¿å³å¯ã€‚ T treeä¸€ä¸ªå®¹æ˜“å‡ºé”™çš„åœ°æ–¹ç¬”è€…åœ¨ç¼–ç çš„æ—¶å€™ï¼Œé‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æœ‰æ—¶å€™ä¼šå‡ºç°éå¶èŠ‚ç‚¹ç»´æŠ¤çš„æ•°æ®å¹¶æœªå……æ»¡å®¹å™¨ï¼Œè¿™ç§æƒ…å†µå‘ç”Ÿçš„åŸå› æ˜¯å•æ—‹é€ æˆçš„ã€‚åœ¨å•æ—‹çš„æ—¶å€™ï¼Œå°†å¶å­ç»“ç‚¹æ—‹è½¬æˆéå¶èŠ‚ç‚¹åï¼Œæˆ‘ä»¬åº”è¯¥è°ƒæ•´æ•°æ®ï¼Œè®©éå¶èŠ‚ç‚¹é‡æ–°ç»´æŠ¤çš„æ•°æ®å……æ»¡å®¹å™¨ T treecode TTä»£ç ","categories":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"http://fightinggg.github.io/indigo/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}],"tags":[]},{"title":"234Tree","slug":"æ•°æ®ç»“æ„/234Tree/index","date":"2020-03-16T04:31:10.000Z","updated":"2020-03-16T04:31:10.000Z","comments":true,"path":"Q79R7Y.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q79R7Y.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 234treeå‚è§4é˜¶Btree","categories":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"http://fightinggg.github.io/indigo/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}],"tags":[]},{"title":"23Tree","slug":"æ•°æ®ç»“æ„/23Tree/index","date":"2020-03-16T04:31:05.000Z","updated":"2020-03-16T04:31:05.000Z","comments":true,"path":"Q79R7T.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q79R7T.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 23treeå‚è§3é˜¶Btree","categories":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"http://fightinggg.github.io/indigo/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}],"tags":[]},{"title":"BstartTree","slug":"æ•°æ®ç»“æ„/BstartTree/index","date":"2020-03-16T04:31:00.000Z","updated":"2020-03-16T04:31:00.000Z","comments":true,"path":"Q79R7O.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q79R7O.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial # B* Tree B*æ ‘åœ¨B+æ ‘çš„åŸºç¡€ä¸Šå†æŠŠå†…éƒ¨èŠ‚ç‚¹ä¹Ÿæ•´ä¸Šé“¾è¡¨ï¼ŒåŒæ—¶è¦æ±‚ç©ºé—´ä½¿ç”¨ç‡ä¸º$\\frac{2}{3}$è€Œä¸æ˜¯$\\frac{1}{2}$ ä»£ç  éšç¼˜","categories":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"http://fightinggg.github.io/indigo/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}],"tags":[]},{"title":"B+Tree","slug":"æ•°æ®ç»“æ„/B+Tree/index","date":"2020-03-16T04:30:50.000Z","updated":"2020-03-16T04:30:50.000Z","comments":true,"path":"Q79R7E.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q79R7E.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial B+æ ‘ä¼˜ç‚¹ å› ä¸ºå†…éƒ¨èŠ‚ç‚¹ã€æ ¹èŠ‚ç‚¹ä¿å­˜çš„æ˜¯ç´¢å¼•(æŒ‡é’ˆ),è¿™å¯¼è‡´å•ä½å‚¨å­˜ç©ºé—´å‚¨å­˜çš„æŒ‡é’ˆè¦æ¯”å•ä½ç©ºé—´å‚¨å­˜çš„é”®å¤šå¾—å¤šï¼Œè¿™åŒæ—¶å¯¼è‡´äº†B+æ ‘èƒ½å¤Ÿæ¯”Bæ ‘æ›´åŠ æ‰å¹³ã€‚ ä»£ç  è¿™ä¸œè¥¿å®ç°éš¾åº¦æœ‰ç‚¹é«˜ï¼Œå¤ªç å†œäº†ï¼Œæˆ‘éšç¼˜å®ç°å§ã€‚å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆã€‚","categories":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"http://fightinggg.github.io/indigo/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}],"tags":[]},{"title":"BTree","slug":"æ•°æ®ç»“æ„/BTree/index","date":"2020-03-16T04:30:44.000Z","updated":"2020-03-16T04:30:44.000Z","comments":true,"path":"Q79R78.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q79R78.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial B TreeBæ ‘æ˜¯ä¸€é¢—å¤šå‰æ ‘ï¼Œå’ŒäºŒå‰æ ‘æ¯”è¾ƒç±»ä¼¼,ä½†æ˜¯æ¯ä¸ªèŠ‚ç‚¹æœ‰å¤šä¸ªå­èŠ‚ç‚¹å’Œå¤šä¸ªé”®ï¼Œé€šå¸¸æˆ‘ä»¬ç§°æœ€å¤šæ‹¥æœ‰Nä¸ªå­èŠ‚ç‚¹çš„Bæ ‘ä¸ºNé˜¶Bæ ‘ï¼ŒBæ ‘ä¸ºäº†ä¿è¯æ ‘çš„æœ‰åºï¼Œæ ‘ä¸ŠèŠ‚ç‚¹çš„å­èŠ‚ç‚¹æ•°é‡æ°å¥½æ¯”é”®çš„æ•°é‡å¤š1ï¼Œè¿™å°±ä¿è¯äº†å­˜åœ¨ä¸€ç§æ–¹å¼å°†å­èŠ‚ç‚¹å’Œé”®æ’åœ¨ä¸€èµ·ï¼Œä¸”æ¯ä¸ªé”®çš„å·¦è¾¹ã€å³è¾¹éƒ½æ˜¯å­èŠ‚ç‚¹ï¼Œè¿™æ ·å½¢æˆçš„åºåˆ—å³ä¸ºç»´æŠ¤çš„åºåˆ—ã€‚ B Tree çº¦æŸBæ ‘çš„èŠ‚ç‚¹åˆ†ä¸‰ç±»ï¼Œæ ¹èŠ‚ç‚¹ã€å¶å­èŠ‚ç‚¹ã€å†…éƒ¨èŠ‚ç‚¹(é™¤äº†æ ¹èŠ‚ç‚¹å’Œå¶å­èŠ‚ç‚¹ä»¥å¤–çš„èŠ‚ç‚¹)æ‰€æœ‰çš„å¶å­èŠ‚ç‚¹çš„æ·±åº¦ç›¸åŒ,è¿™ä¸€ç‚¹ä¿è¯æ ‘çš„å¹³è¡¡æ ¹èŠ‚ç‚¹çš„é”®çš„çš„æ•°é‡åœ¨åŒºé—´[2,N-1]ä¸Š , N&gt;&#x3D;3æ¯ä¸ªå†…éƒ¨èŠ‚ç‚¹ã€å¶å­èŠ‚ç‚¹çš„é”®çš„æ•°é‡åœ¨åŒºé—´$[\\lceil\\frac{N}{2}\\rceil-1,N-1]$ä¸Šæ¯ä¸ªèŠ‚ç‚¹çš„é”®çš„ä¸ªæ•°æ°å¥½æ¯”å­èŠ‚ç‚¹ä¸ªæ•°å¤š1 B Tree insertBæ ‘çš„æ’å…¥å¾ˆç®€å•ï¼Œæ‰¾åˆ°åº”è¯¥æ’å…¥çš„å¶å­èŠ‚ç‚¹ï¼Œç„¶åæ’å…¥ã€‚è¿™ä¼šå¯èƒ½å¯¼è‡´æ ‘ä¸ç¬¦åˆçº¦æŸ-&gt;å¶å­èŠ‚ç‚¹ä¸Šé”®çš„æ•°é‡è¿‡å¤šï¼Œæ­¤æ—¶å¶å­ç»“ç‚¹ä¸Šçš„é”®çš„æ•°é‡ä¸ºNï¼Œè¿™æ—¶å€™æˆ‘ä»¬åˆ†è£‚å¶å­èŠ‚ç‚¹ä¸ºä¸¤ä¸ªå¶èŠ‚ç‚¹ï¼Œä»ä¸­å–å‡ºä¸­ä½æ•°ç½®å…¥çˆ¶èŠ‚ç‚¹ä½œä¸ºåˆ’åˆ†è¿™ä¸¤ä¸ªå¶å­èŠ‚ç‚¹çš„é”®ã€‚æˆ‘ä»¬å¾ˆå®¹æ˜“è¯æ˜$\\lfloor\\frac{N-1}{2}\\rfloor\\ge\\lceil\\frac{N}{2}\\rceil-1$,è‹¥çˆ¶èŠ‚ç‚¹ä¾æ—§è¶…å‡ºçº¦æŸèŒƒå›´ï¼ŒåŒç†å‘ä¸Šç»§ç»­å¯¹å†…éƒ¨èŠ‚ç‚¹åˆ†è£‚,ç›´é“ç¢°åˆ°æ ¹èŠ‚ç‚¹ï¼Œè‹¥æ ¹èŠ‚ç‚¹ä¾æ—§é”®çš„ä¸ªæ•°è¿‡å¤šï¼Œåˆ™ç»§ç»­åˆ†è£‚ï¼Œç„¶ååˆ›å»ºæ–°çš„æ ¹èŠ‚ç‚¹å°†åˆ†è£‚å‡ºçš„èŠ‚ç‚¹è¿æ¥ã€‚ B Tree eraseBæ ‘çš„åˆ é™¤åŒæ™®é€šå¹³è¡¡æ ‘ä¸€æ ·ï¼Œè‹¥åˆ é™¤ç‚¹å‡ºç°åœ¨å†…éƒ¨èŠ‚ç‚¹æˆ–æ ¹èŠ‚ç‚¹ä¸­ï¼Œæˆ‘ä»¬å–å‡ºä»–çš„å‰é©±æˆ–åç»§å°†ä»–æ›¿æ¢ã€‚ç„¶åå†åˆ é™¤ã€‚æˆ‘ä»¬å°†æ‰€æœ‰æƒ…å†µåˆå¹¶åˆ°äº†åˆ é™¤å¶å­èŠ‚ç‚¹ä¸Šã€‚è‹¥åˆ é™¤åæ ‘ä¾æ—§æ»¡è¶³çº¦æŸï¼Œåˆ™ä¸éœ€è¦è°ƒæ•´ã€‚è‹¥ä¸æ»¡è¶³çº¦æŸï¼Œæ ¹æ®N&gt;&#x3D;3æˆ‘ä»¬å¾—å‡ºæ¯ä¸ªèŠ‚ç‚¹æœ€å°‘ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œè‹¥åˆ é™¤ä½ç½®çš„å…„å¼ŸèŠ‚ç‚¹æœ‰è¾ƒå¤šé”®ï¼Œæˆ‘ä»¬åªéœ€è¦ä»å…„å¼ŸèŠ‚ç‚¹ç§»åŠ¨ä¸€ä¸ªé”®è¿‡æ¥å³å¯ã€‚è‹¥å…„å¼ŸèŠ‚ç‚¹åŒæ ·å¤„äºæœ€å°‘é”®æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åˆå¹¶è¿™ä¸¤ä¸ªèŠ‚ç‚¹$2*(\\lceil\\frac{N}{2}\\rceil-1)\\le N-1$ B Tree searchç›´æ¥äºŒåˆ†å‘ä¸‹å³å¯ã€‚ æ³¨æ„æ³¨æ„vectorçš„ insertã€eraseåä¼šå¯¼è‡´çš„å¼•ç”¨å¤±æ•ˆ, code B Treeä»£ç ","categories":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"http://fightinggg.github.io/indigo/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}],"tags":[]},{"title":"AVL","slug":"æ•°æ®ç»“æ„/AVL/index","date":"2020-03-16T04:30:38.000Z","updated":"2020-03-16T04:30:38.000Z","comments":true,"path":"Q79R72.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q79R72.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial AVL Tree AVL Treeä½¿ç”¨é«˜åº¦å·®ä½œä¸ºå¹³è¡¡å› å­ï¼Œä»–è¦æ±‚å…„å¼Ÿçš„é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡1 code avl Treeä»£ç ","categories":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"http://fightinggg.github.io/indigo/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}],"tags":[]},{"title":"BST","slug":"æ•°æ®ç»“æ„/BST/index","date":"2020-03-16T04:30:30.000Z","updated":"2020-03-16T04:30:30.000Z","comments":true,"path":"Q79R6U.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q79R6U.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial binary search treeBSTæ˜¯äºŒå‰æœç´¢æ ‘ï¼Œæ»¡è¶³ä¸­åºéå†æ˜¯ä¸€ä¸ªæœ‰åºçš„åºåˆ—,ä»–æ˜¯æœ€æœ€åŸºç¡€çš„äºŒå‰æ ‘ï¼Œä»–ä¸ä¸€å®šå¹³è¡¡ï¼Œ BST insertæ’å…¥çš„æ—¶å€™ï¼Œåœ¨æ ‘ä¸Šé€’å½’æ’å…¥ï¼Œæ¯”å½“å‰èŠ‚ç‚¹å¤§å°±å‘å³è¾¹èµ°ï¼Œå¦åˆ™å‘å·¦èµ° BST searchæŸ¥æ‰¾çš„æ—¶å€™ï¼ŒåŒä¸Š BST eraseåˆ é™¤çš„æ—¶å€™ï¼Œç›¸å¯¹å¤æ‚ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªå„¿å­ï¼Œå¾ˆç®€å•ï¼Œä½†æ˜¯å½“ä»–æœ‰ä¸¤ä¸ªå„¿å­çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©å°†ä¸€ä¸ªå„¿å­é¡¶æ›¿è‡ªå·±ï¼Œå¦å¤–ä¸€ä¸ªå„¿å­å»æ‰¾å‰é©±æˆ–åç»§å³å¯ã€‚ BST codeæˆ‘ä»¬ä½¿ç”¨å†…å­˜æ± æ¥ç»´æŠ¤æ•´ä¸ªæ•°æ®ç»“æ„ BSTä»£ç ","categories":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"http://fightinggg.github.io/indigo/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}],"tags":[]},{"title":"C++å…¥é—¨","slug":"Language/C++/C++å…¥é—¨/index","date":"2020-03-13T07:23:53.000Z","updated":"2020-03-28T07:33:05.000Z","comments":true,"path":"Q74F7T.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q74F7T.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å‰è¨€ ä»å¤§ä¸€ä¸Šæ¥è§¦C++,åˆ°å¤§ä¸€ä¸‹æ¥è§¦ACM,åˆ°ç°åœ¨å¤§ä¸‰ä¸‹,æˆ‘è‡ªä»¥ä¸ºå¯¹C++æœ‰äº†å¾ˆæ·±çš„ç†è§£ï¼Œå…¶å®ä¸ç„¶ï¼Œæˆ‘ä¸æ¸…æ¥šçš„åœ°æ–¹è¿˜ç‰¹åˆ«å¤šï¼Œå‡†å¤‡è¶æ­¤ç©ºé—²æ—¶é—´é‡å­¦C++ã€‚ const ä¸æŒ‡é’ˆ è¿™æ˜¯è¿™ç¯‡åšæ–‡çš„é‡ç‚¹ï¼Œå¸¸å¸¸æˆ‘ä»¬ä¼šç¢°åˆ°å¤šç§å£°æ˜ 1234const char* const a = new char[10];const char* a = new char[10];char* const a = new char[10];char* a = new char[10]; ä»–ä»¬æœ‰ä»€ä¹ˆå…±æ€§ä¸ä¸åŒå‘¢?ä¸‹é¢çš„ç¨‹åºæ¼”ç¤ºäº†åŒºåˆ«ï¼Œæ³¨é‡Šçš„åœ°æ–¹æ˜¯éæ³•æ“ä½œä¼šæŠ¥é”™ã€‚ 12345678910111213141516171819202122232425#include &lt;iostream&gt;using namespace std;int main() &#123; const char* const a = new char[10]; const char* b = new char[10]; char* const c = new char[10]; char* d = new char[10]; char* e = new char[10]; // a[0]=&#x27;e&#x27;; // a=e; // b[0] = &#x27;e&#x27;; b = e; c[0] = &#x27;e&#x27;; // c = e; d[0] = &#x27;e&#x27;; d = e; delete[] a, b, c, d, e; return 0;&#125; ä¸‹é¢è§£é‡Šä¸ºå•¥ä¼šå‡ºç°è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬æ³¨æ„åˆ°constå…³é”®å­—ï¼ŒæŒ‡çš„æ˜¯ä¸å¯ä¿®æ”¹çš„æ„æ€ï¼Œå¯¹äºbè€Œè¨€ï¼Œconst ä¿®é¥°char*,è¡¨é¢char*ä¸å¯ä¿®æ”¹å³æŒ‡é’ˆæŒ‡å‘çš„å†…å®¹ä¸å¯ä¿®æ”¹ï¼Œå¯¹äºcè€Œè¨€constä¿®é¥°cï¼Œè¡¨ç¤ºcè¿™ä¸ªæŒ‡é’ˆæœ¬èº«ä¸å¯ä¿®æ”¹ã€‚ enum back è¿™æ˜¯è¿™ç¯‡åšæ–‡çš„é‡ç‚¹ï¼Œenum back æ˜¯ä¸€ä¸ªå¾ˆå®ç”¨çš„ç¼–ç¨‹æŠ€æœ¯ï¼Œå¾ˆå¤šäººéƒ½ä¼šç”¨åˆ°å®ƒï¼Œæ›´è¿›ä¸€æ­¥ï¼Œenum backæŠ€æœ¯æ˜¯æ¨¡ç‰ˆå…ƒç¼–ç¨‹çš„åŸºæœ¬æŠ€æœ¯ 12345678#include &lt;iostream&gt;using namespace std;class my_class &#123; enum &#123; size = 10 &#125;; int data[size];&#125;;int main() &#123;&#125; è¿™é‡Œå…¶å®æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨static const size &#x3D; 10;æ¥å®ç°ï¼Œä½†æ˜¯è¿™ä¸å½±å“enumæ˜¯ä¸€ä¸ªå¥½æ–¹æ³•ï¼Œenumä¸ä¼šå¯¼è‡´é¢å¤–çš„å†…å­˜åˆ†é…ã€‚ const ä¿®é¥°è¿”å›å€¼ å¦‚æœæœ‰å¿…è¦ï¼Œå°½é‡ä½¿ç”¨constä¿®é¥°è¿”å›å€¼ 123456#include &lt;iostream&gt;using namespace std;const int sum(int a, int b) &#123; return a + b; &#125;int main() &#123; return 0; &#125; æœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ å¦‚æœä½ ä¸å°å¿ƒæŠŠ&#x3D;&#x3D;å†™æˆäº†&#x3D;ï¼Œä¸‹é¢çš„ä»£ç ä¼šæŠ¥é”™ã€‚å½“ç„¶ä¹Ÿæœ‰è‚¯å®šæ˜¯å¥½å¤„å¤šä½™åå¤„ 12345678910#include &lt;iostream&gt;using namespace std;const int sum(int a, int b) &#123; return a + b; &#125;int main() &#123; if (sum(1, 2) = 3) &#123; printf(&quot;hello world!&quot;); &#125;&#125; const èƒ½å¤Ÿé‡è½½æˆå‘˜å‡½æ•° ä¸ºä»€ä¹ˆè¦é‡è½½ä¸€éconst? ç›®å‰ç¬”è€…ä¹Ÿä¸å¤ªæ‡‚ï¼ŒåªçŸ¥é“constèƒ½å¤Ÿè®©c++ä»£ç æ›´åŠ é«˜æ•ˆã€‚ä¸‹é¢çš„ä»£ç è§£é‡Šäº†å¦‚ä½•ä½¿ç”¨consté‡è½½æˆå‘˜å‡½æ•°ï¼Œå¤§æ¦‚æ˜¯è¿™æ ·çš„ï¼Œconstå¯¹è±¡è°ƒç”¨æˆå‘˜å‡½æ•°çš„æ—¶å€™ä¼šè°ƒç”¨constç‰ˆï¼Œæ™®é€šçš„å¯¹è±¡è°ƒç”¨æ™®é€šç‰ˆã€‚ 123456789101112131415161718192021222324252627#include &lt;iostream&gt;using namespace std;class my_class &#123; int x = 1, y = 2; public: const int&amp; get() const &#123; std::cout &lt;&lt; &quot;x&quot; &lt;&lt; std::endl; return x; &#125; // int&amp; get() const &#123;return x; &#125; è¿™å¥è¯ä¸è¢«å…è®¸ç¼–è¯‘ï¼Œå› ä¸ºå¯èƒ½ä¼šæ”¹å˜xçš„å€¼ int&amp; get() &#123; std::cout &lt;&lt; &quot;y&quot; &lt;&lt; std::endl; return y; &#125;&#125;;void f(my_class cls) &#123; cls.get(); &#125;void f2(const my_class cls) &#123; cls.get(); &#125;int main() &#123; my_class cls; f(cls); f2(cls);&#125; é‡è½½å¸¦æ¥çš„ä»£ç ç¿»å€è¯¥å¦‚ä½•å¤„ç†ï¼Ÿ å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸ä¼šå†™ä¸Šé¢çš„ä»£ç ï¼Œé‚£ä¸ªå¤ªè ¢äº†ï¼Œæ²¡äººä¼šè¿™æ ·åšï¼Œé€šå¸¸constç‰ˆä¸æ™®é€šç‰ˆå‡½æ•°å¾—åˆ°çš„ç»“æœæ˜¯ç›¸åŒçš„ã€‚ä»…ä»…å¤šäº†ä¸€ä¸ªconstæ ‡è®°,å¦‚æœæˆ‘ä»¬å¯¹è¿™æ ·ç›¸åŒåŠŸèƒ½çš„å‡½æ•°å†™ä¸¤ä»½ä¸€æ ·çš„ä»£ç ï¼Œæ˜¯å¾ˆä¸å€¼å¾—çš„ã€‚æˆ‘ä»¬å¯ä»¥è¿™æ ·å¤„ç†ã€‚ 123456789101112131415161718192021222324252627282930#include &lt;iostream&gt;using namespace std;class my_class &#123; int x = 1, y = 2; public: const int&amp; get() const &#123; std::cout &lt;&lt; &quot;const&quot; &lt;&lt; std::endl; return x; &#125; // int&amp; get() const &#123;return x; &#125; è¿™å¥è¯ä¸è¢«å…è®¸ç¼–è¯‘ï¼Œå› ä¸ºå¯èƒ½ä¼šæ”¹å˜xçš„å€¼ int&amp; get() &#123; std::cout &lt;&lt; &quot;normal&quot; &lt;&lt; std::endl; return const_cast&lt;int&amp;&gt;( (static_cast&lt;const my_class&amp;&gt;(*this)).get() ); &#125;&#125;;void f(my_class cls) &#123; cls.get(); &#125;void f2(const my_class cls) &#123; cls.get(); &#125;int main() &#123; my_class cls; f(cls); f2(cls);&#125; å¯¹è±¡åˆå§‹åŒ– åŸºæœ¬æ•°æ®ç±»å‹è¿™é‡Œå°±ä¸è¯´äº†ï¼Œç›´æ¥è®²ç±» ç±»çš„å¯¹è±¡çš„åˆå§‹åŒ–å¾€å¾€ä½¿ç”¨äº†æ„é€ å‡½æ•°ï¼Œä½†æ˜¯å¾ˆå¤šäººä¸ä¼šå†™æ„é€ å‡½æ•°ï¼Œä»–ä»¬è¿™æ ·å®ç° 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657#include &lt;iostream&gt;using namespace std;class node &#123; int x; public: node() &#123;&#125; node(int x_) &#123; x = x_; &#125;&#125;;class my_class &#123; node a, b, c, d; public: my_class(node a_, node b_, node c_, node d_) &#123; a = a_; b = b_; c = c_; d = d_; &#125;&#125;;int main() &#123;&#125;```&lt;!---more--&gt; è¿™æ ·å®ç°æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯æ•ˆç‡è¾ƒä½ï¼Œc++æ ‡å‡†ä¿è¯ç±»çš„æ„é€ å‡½æ•°è°ƒç”¨ä¹‹å‰åˆå§‹åŒ–å…ˆè°ƒç”¨æˆå‘˜çš„æ„é€ å‡½æ•°ã€‚è¿™æ ·ä»¥æ¥ï¼Œmy_classé‡Œé¢çš„abcdéƒ½è¢«å…ˆåˆå§‹åŒ–å†èµ‹å€¼äº†ï¼Œé€šå¸¸æˆ‘ä»¬ä½¿ç”¨å†’å·æ¥æ„é€ ä»–ä»¬ã€‚â€‹```cpp#include &lt;iostream&gt;using namespace std;class node &#123; int x; public: node() &#123;&#125; node(int x_) : x(x_) &#123;&#125;&#125;;class my_class &#123; node a, b, c, d; public: my_class(node a_, node b_, node c_, node d_) : a(a_), b(b_), c(c_), d(d_) &#123;&#125;&#125;;int main() &#123;&#125;```## å°ç»†èŠ‚ c++æ ‡å‡†è§„å®šäº†è¿™é‡Œçš„æ„é€ é¡ºåºæ˜¯ä¸å£°æ˜é¡ºåºä¸ºåºçš„ï¼Œè€Œä¸æ˜¯å†’å·åé¢çš„é¡ºåºã€‚# ä¸åŒç¼–è¯‘å•å…ƒçš„éå±€éƒ¨é™æ€å˜é‡é¡ºåºé—®é¢˜ å…ˆçœ‹ä»£ç ï¼Œè¿™æ˜¯ä¸€ä¸ª.hâ€‹```cpp#include &lt;iostream&gt;using namespace std;class my_class &#123;&#125;;extern my_class mls; æ³¨æ„åˆ°æœ‰ä¸€ä¸ªextern my_class mls;å¦‚æœæˆ‘ä»¬æœ‰å¤šä¸ªç¼–è¯‘å•å…ƒï¼Œæ¯ä¸ªéƒ½externä¸€äº›å¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡åˆå§‹åŒ–çš„é¡ºåºï¼Œc++æ²¡æœ‰è§„å®šï¼Œæ‰€ä»¥å¯èƒ½å¯¼è‡´ä»–ä»¬éšæœºçš„åˆå§‹åŒ–ï¼Œä½†æ˜¯å¦‚æœè¿™äº›å¯¹è±¡ä¹‹é—´æœ‰è¦æ±‚æœ‰é¡ºåºï¼Œæ€ä¹ˆåŠï¼Ÿä½ ä¹±åºåˆå§‹åŒ–å¯èƒ½ä¼šå‡ºé”™çš„ã€‚è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å•ä¾‹æ¨¡å¼æ¥ä¿è¯æ­£ç¡®çš„é¡ºåºã€‚ 1234567891011#include &lt;iostream&gt;using namespace std;class my_class &#123; public: my_class&amp; singleton() &#123; static my_class mls; return mls; &#125;&#125;;// extern my_class mls; ç»“è¯­ ä¸è¦ä¹±å†™ç±»çš„æ„é€ å‡½æ•°ï¼Œå°‘å†™éå±€éƒ¨é™æ€å˜é‡ã€‚ ç¼–è¯‘å™¨é»˜é»˜ä½œå‡ºçš„è´¡çŒ® åœ¨æˆ‘ä»¬å†™ç±»çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä¸å†™æ„é€ å‡½æ•°ã€æ‹·è´æ„é€ å‡½æ•°ã€èµ‹å€¼æ“ä½œã€ææ„å‡½æ•°ï¼Œç¼–è¯‘å™¨å°±ä¸ºæˆ‘ä»¬ä½œå‡ºè¿™ä¸€åˆ‡ã€‚ å¸¦å¼•ç”¨æˆå‘˜å˜é‡çš„ç±» æˆ‘ä»¬è€ƒè™‘è¿™æ ·ä¸€ä¸ªç±»ï¼Œä»–æœ‰ä¸€ä¸ªæˆå‘˜å˜é‡æ˜¯ä¸€ä¸ªå¼•ç”¨ç±»å‹ã€‚ 12345678#include &lt;iostream&gt;using namespace std;class my_class &#123; int&amp; a;&#125;;int main() &#123; my_class m; &#125; è¿™ä¸ªç±»ä¼šæŠ¥é”™ã€‚å› ä¸ºä½ ç¼ºå°‘å¯¹açš„åˆå§‹åŒ–ï¼Œç°åœ¨æœ‰ä¸¤ç§é€‰æ‹©ï¼Œç¬¬ä¸€ç§æ–¹æ¡ˆæ˜¯ç”¨ä¸€ä¸ªå˜é‡ç»™ä»–èµ‹å€¼ 123456789#include &lt;iostream&gt;using namespace std;int hello = 0;class my_class &#123; int&amp; a = hello;&#125;;int main() &#123; my_class m; &#125; æˆ–è€…ä½¿ç”¨æ„é€ å‡½æ•°æ¥ç»™ä»–èµ‹å€¼ 12345678910111213141516#include &lt;iostream&gt;using namespace std;class my_class &#123; int&amp; a; public: my_class(int&amp; a) : a(a) &#123;&#125;&#125;;int main() &#123; int x = 1, y = 2; my_class m1(x); my_class m2(y); // m1=m2;&#125; å¦ä¸€æ–¹é¢ï¼Œè¿™é‡Œçš„m1&#x3D;m2,è¿™ä¸ªèµ‹å€¼æ“ä½œåˆä¸è¢«å…è®¸äº†ï¼ŒåŸå› æ˜¯c++ä¸­æ²¡æœ‰è®©ä¸€ä¸ªå¼•ç”¨å˜æˆå¦ä¸€ä¸ªå¼•ç”¨è¿™æ ·çš„æ“ä½œï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»è‡ªå·±å®ç°èµ‹å€¼å‡½æ•°ã€‚ æ„é€ å‡½æ•°æˆ–è€…èµ‹å€¼å‡½æ•° åœ¨åº”ç”¨ä¸­æˆ‘ä»¬å¯èƒ½ä¼šç¢°åˆ°ä¸å…è®¸ä½¿ç”¨æ‹·è´è¿™æ ·çš„æ“ä½œï¼Œæˆ‘ä»¬å®ç°è¿™ä¸ªçº¦æŸæœ‰ä¸¤ç§æ–¹æ¡ˆã€‚ç¬¬ä¸€æ˜¯å£°æ˜è¿™ä¸ªå‡½æ•°ï¼Œç„¶åä¸å®ç°ä»–ã€‚è¿™æ ·çš„è¯èƒ½å¤Ÿå®ç°è¿™åŠŸèƒ½ï¼Œä½†æ˜¯æŠ¥é”™çš„æ—¶å€™ç¼–è¯‘å™¨ä¸ä¼šæŠ¥é”™ 12345678910111213#include &lt;iostream&gt;using namespace std;class my_class &#123; public: my_class() &#123;&#125; my_class(const my_class&amp; rhs);&#125;;int main() &#123; my_class m; my_class m2(m);&#125; ç„¶åé“¾æ¥å™¨é‡é”¤å‡ºå‡»ã€‚ 12345Undefined symbols for architecture x86_64: &quot;my_class::my_class(my_class const&amp;)&quot;, referenced from: _main in cc9GRPax.old: symbol(s) not found for architecture x86_64collect2: error: ld returned 1 exit status æˆ‘ä¹Ÿè§‰å¾—è¿™æ ·æœ‰ç‚¹å‘çˆ¹ã€‚ æ­£ç¡®çš„åšæ³•åº”è¯¥æ˜¯å°†è¿™äº›ä¸å¸Œæœ›è¢«ä½¿ç”¨çš„å‡½æ•°æ˜¾ç¤ºå®šä¹‰ä¸ºç§æœ‰å‡½æ•°ã€‚è¿™æ ·çš„è¯åœ¨ç¼–è¯‘æœŸå°±ä¼šè¢«å‘ç°ï¼Œç„¶åæŠ¥é”™ã€‚ 1234567891011121314#include &lt;iostream&gt;using namespace std;class my_class &#123; my_class(const my_class&amp; rhs) &#123;&#125; public: my_class() &#123;&#125;&#125;;int main() &#123; my_class m; my_class m2(m);&#125; virtualå‡½æ•° æ²¡æœ‰ä»€ä¹ˆå¯è¯´çš„ï¼Œä»–å°±æ˜¯ä¸ºä¸€ä¸ªç±»æ·»åŠ äº†ä¸€ä¸ªæˆå‘˜å˜é‡ï¼Œæ¯å½“ä½ è°ƒç”¨virtualå‡½æ•°çš„æ—¶å€™ï¼Œä¼šå˜æˆè°ƒç”¨ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œåœ¨è¿™ä¸ªå‡½æ•°é‡Œé¢æœ‰ä¸€ä¸ªå±€éƒ¨çš„å‡½æ•°æŒ‡é’ˆæ•°ç»„ï¼Œæ ¹æ®ç¼–è¯‘å™¨æ·»åŠ æˆå‘˜å˜é‡æ¥å†³å®šæ¥ä¸‹æ¥è°ƒç”¨å“ªä¸€ä¸ªå‡½æ•°ã€‚äºæ˜¯å°±å®ç°äº†å¤šæ€ã€‚ æ— æ•…æ·»åŠ virtualçš„åæœ å¦‚æœä½ å¯¹ä¸€ä¸ªä¸éœ€è¦virtualçš„ç±»æ·»åŠ äº†virtualå‡½æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»çš„å¤§å°å°†æ‰©å¤§32ä½ï¼Œå¦‚æœä½ è¿™ä¸ªç±»æœ¬èº«å°±åªæœ‰64ä½å¤§å°ï¼Œé‚£ä¹ˆä»–å°†å› ä¸ºä½ æ— æ•…æ·»åŠ çš„virtualå¢å¤§50%çš„ä½“ç§¯ã€‚ operator&#x3D;çš„é™·é˜± å®šä¹‰èµ‹å€¼å‡½æ•°éš¾å—ï¼Ÿéš¾ï¼ŒçœŸçš„ç‰¹åˆ«éš¾ï¼Œå¦‚æœä½ èƒ½çœ‹å‡ºä¸‹é¢çš„ä»£ç ä¸­èµ‹å€¼å‡½æ•°çš„é—®é¢˜ï¼Œé‚£ä½ å°±æ‡‚ä¸ºä»€ä¹ˆéš¾äº†ã€‚ 123456789101112131415#include &lt;iostream&gt;using namespace std;class my_class &#123; int *p; public: my_class &amp;operator=(const my_class &amp;rhs) &#123; delete p; p = new int(*rhs.p); return*this; &#125;&#125;;int main() &#123;&#125; è¿™é‡Œçš„é—®é¢˜å…¶å®å¾ˆæ˜æ˜¾ï¼Œè¿™ä¸ªèµ‹å€¼ä¸æ”¯æŒè‡ªæˆ‘èµ‹å€¼ã€‚è§£å†³æ–¹æ¡ˆå¯ä»¥è¯´åœ¨æœ€å‰é¢ç‰¹åˆ¤æ‰è‡ªæˆ‘èµ‹å€¼ï¼Œæˆ–è€…æ˜¯å…ˆæ‹·è´æœ€åå†deleteï¼Œåˆæˆ–è€…æ˜¯ç”¨æ‹·è´æ„é€ å‡½æ•°æ‹·è´ä¸€ä»½ï¼Œç„¶åswapæ¥å®ç°ã€‚ æ™ºèƒ½æŒ‡é’ˆä¸å¼•ç”¨è®¡æ•°å‹æ™ºèƒ½æŒ‡é’ˆ è¿™é‡ŒæŒ‡çš„åˆ†åˆ«æ˜¯auto_ptr&lt;T&gt; å’Œshared_ptr&lt;T&gt; æ™ºèƒ½æŒ‡é’ˆ æ™ºèƒ½æŒ‡é’ˆæ˜¯ä¸€ä¸ªæ¨¡ç‰ˆç±»ï¼Œä»–ä»¥ä¸€ä¸ªç±»ä½œä¸ºæ¨¡ç‰ˆï¼Œå½“æ™ºèƒ½æŒ‡é’ˆè¢«ææ„çš„æ—¶å€™ï¼Œä»–ä¼šå»è°ƒç”¨ä»–ä¿å­˜çš„å¯¹è±¡çš„ææ„å‡½æ•°ã€‚è¿™æ ·å°±è¾¾åˆ°äº†è‡ªåŠ¨ææ„çš„æ•ˆæœï¼Œä½†æ˜¯å¦‚æœå°†ä¸€ä¸ªæ™ºèƒ½æŒ‡é’ˆèµ‹å€¼ç»™å¦å¤–ä¸€ä¸ªæ™ºèƒ½æŒ‡é’ˆçš„æ—¶å€™ï¼Œå¦‚æœä¸åšå¤„ç†å°±å¯èƒ½ä¼šå¯¼è‡´æ™ºèƒ½æŒ‡é’ˆæŒ‡å‘çš„åŒºåŸŸè¢«å¤šæ¬¡ææ„å‡½æ•°ï¼Œäºæ˜¯æ™ºèƒ½æŒ‡é’ˆçš„è§£å†³æ–¹æ¡ˆæ˜¯èµ‹å€¼å¯¹è±¡ä¼šè¢«è®¾ç½®ä¸ºnullã€‚ å¼•ç”¨è®¡æ•°å‹æ™ºèƒ½æŒ‡é’ˆ å¼•ç”¨è®¡æ•°å‹æ™ºèƒ½æŒ‡é’ˆé‡‡å–äº†å¼•ç”¨è®¡æ•°çš„æ–¹æ¡ˆæ¥è§£å†³ä¸Šè¯‰é—®é¢˜ï¼Œå½“å¼•ç”¨æ•°ä¸º0çš„æ—¶å€™æ‰å¯¹æŒ‡å‘çš„ç©ºé—´è¿›è¡Œææ„ã€‚ æ™ºèƒ½æŒ‡é’ˆä¸ç»æ„é—´çš„å†…å­˜æ³„æ¼12345678#include &lt;iostream&gt;#include &lt;memory&gt;using namespace std;int f() &#123; return 1; &#125;int g(auto_ptr&lt;int&gt; p, int x) &#123; return 1; &#125;int main() &#123; g(auto_ptr&lt;int&gt;(new int(2)), f()); &#125; ä¸Šè¯‰ä»£ç ä¸ä¼šå‘ç”Ÿå†…å­˜æ³„æ¼ï¼Œä½†æ˜¯è‹¥få‡½æ•°ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œåˆ™å¯èƒ½å‘ç”Ÿã€‚ c++å¹¶æ²¡æœ‰è§„å®šä¸Šè¯‰ä»£ç çš„æ‰§è¡Œé¡ºåºï¼Œæˆ‘ä»¬ä¸çŸ¥é“få‡½æ•°ä»€ä¹ˆæ—¶å€™è¢«è°ƒç”¨ï¼Œè‹¥å®ƒå‘ç”Ÿåœ¨äº†new int(2)ä¹‹åï¼Œauto_ptræ„é€ å‰ï¼Œé‚£å°±å‡‰å‡‰äº†ã€‚new äº†ä¸ªint,æ²¡æœ‰ä¼ ç»™auto_ptr,è¿™é‡Œå°±æ³„æ¼äº†ã€‚ ä¸è¦è¿”å›å¼•ç”¨ ä¸ºäº†é˜²æ­¢æ‹·è´æ„é€ å‡½æ•°å¯¼è‡´çš„é¢å¤–å¼€é”€ï¼Œæˆ‘ä»¬å¾€å¾€æŠŠå‡½æ•°çš„å‚æ•°è®¾ä¸ºconst &amp;ï¼Œæˆ‘ä¹Ÿæ›¾ä¸€ç›´æƒ³å¦‚æœè¿”å›å€¼ä¹Ÿæ˜¯const &amp;,ä¼šä¸ä¼šæ›´å¿« 1234567891011121314#include &lt;iostream&gt;#include &lt;vector&gt;using namespace std;vector&lt;int&gt;&amp; f(int n) &#123; vector&lt;int&gt; res(100,0); res[0]=n; return res;&#125;int main() &#123; vector&lt;int&gt; a = f(10); a[0] = 1;&#125; æ˜¾ç„¶æ˜¯é”™è¯¯çš„åšæ³•ã€‚ä½ æ€ä¹ˆå¯ä»¥æƒ³è¿”å›ä¸€ä¸ªå±€éƒ¨å˜é‡ã€‚ ç„¶åæ˜¯ä¸€ä¸ªçœ‹ä¼¼æ­£ç¡®çš„åšæ³•ã€‚æˆ‘ä»¬è¿”å›ä¸€ä¸ªstaticå†…éƒ¨å˜é‡ã€‚ 1234567891011121314#include &lt;iostream&gt;#include &lt;vector&gt;using namespace std;vector&lt;int&gt;&amp; f(int n) &#123; static vector&lt;int&gt; res(100,0); res[0]=n; return res;&#125;int main() &#123; vector&lt;int&gt; a = f(10); a[0] = 1;&#125; åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹è¿™ç¡®å®æ˜¯æ­£ç¡®çš„åšæ³•ã€‚ç„¶è€Œä¸‹é¢è¿™ä¸ªæ“ä½œï¼Œ 1int main() &#123; cout &lt;&lt; (f(0) == f(1)); &#125; æˆ‘ä¸æƒ³è§£é‡Šä¸ºä»€ä¹ˆè¾“å‡ºæ˜¯1 åæ­£å°±æ˜¯å°½é‡å°‘ç”¨è¿™ç§å¼•ç”¨å°±è¡Œäº†ï¼Œå•ä¾‹æ¨¡å¼é™¤å¤–ã€‚ä¸ç”¨ä½ å»æƒ³ç€æ€ä¹ˆä¼˜åŒ–è¿™é‡Œï¼Œç¼–è¯‘å™¨ä¼šå¸®æˆ‘ä»¬åšã€‚ å…¨ç‰¹åŒ–å’Œåç‰¹åŒ– è¿™ä¸¤ä¸ªä¸œè¥¿æ˜¯é’ˆå¯¹æ¨¡ç‰ˆè€Œè¨€çš„,æ¯”æ–¹è¯´ä½ å®šä¹‰äº†ä¸€ä¸ªæ¨¡ç‰ˆç±»ï¼Œä½†æ˜¯æƒ³å¯¹å…¶ä¸­çš„æŸä¸€ä¸ªç‰¹æ®Šçš„ç±»åšä¸€äº›ä¼˜åŒ–ï¼Œè¿™æ—¶å€™å°±éœ€è¦è¿™ä¸¤ä¸ªä¸œè¥¿äº†ã€‚ STLçš„vector&lt;bool&gt;å°±æ˜¯è¿™æ ·ä¸€ä¸ªä¸œè¥¿ï¼Œä»–é‡æ–°ä¸ºè¿™ä¸ªç±»å†™äº†ä¸€å¥—ä»£ç ã€‚è¯­æ³•å•¥çš„ä¸é‡è¦çœ‹çœ‹å°±è¡Œï¼Œæˆ‘åšäº†ä¸€äº›æµ‹è¯•,è®°ä½ä¼˜å…ˆçº§ä¸º å…¨ç‰¹åŒ–&gt;åç‰¹åŒ–&gt;æ™®é€šæ¨¡ç‰ˆ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950#include &lt;iostream&gt;#include &lt;vector&gt;using namespace std;// æ¨¡ç‰ˆtemplate &lt;class T, class S&gt;class node &#123; public: void print() &#123; puts(&quot;æ¨¡ç‰ˆ&quot;); &#125;&#125;;// åç‰¹åŒ–template &lt;class S&gt;class node&lt;int, S&gt; &#123; public: void print() &#123; puts(&quot;åç‰¹åŒ–&quot;); &#125;&#125;;// å…¨ç‰¹åŒ–template &lt;&gt;class node&lt;int, int&gt; &#123; public: void print() &#123; puts(&quot;å…¨ç‰¹åŒ–&quot;); &#125;&#125;;// å‡½æ•°æ¨¡ç‰ˆtemplate &lt;class T, class S&gt;void f(T a, S b) &#123; puts(&quot;å‡½æ•°æ¨¡ç‰ˆ&quot;);&#125;;// åç‰¹åŒ–template &lt;class S&gt;void f(int a, S b) &#123; puts(&quot;å‡½æ•°åç‰¹åŒ–&quot;);&#125;;// å…¨ç‰¹åŒ–template &lt;&gt;void f(int a, int b) &#123; puts(&quot;å‡½æ•°å…¨ç‰¹åŒ–&quot;);&#125;;int main() &#123; node&lt;double, double&gt; n1; node&lt;int, double&gt; n2; node&lt;int, int&gt; n3; n1.print(); n2.print(); n3.print(); f(1.0,1.0); f(1,1.0); f(1,1);&#125; è¿™ä¸ªç¨‹åºçš„è¾“å‡ºæ˜¯ 123456æ¨¡ç‰ˆåç‰¹åŒ–å…¨ç‰¹åŒ–å‡½æ•°æ¨¡ç‰ˆå‡½æ•°åç‰¹åŒ–å‡½æ•°å…¨ç‰¹åŒ– é™ä½ç¼–è¯‘ä¾å­˜å…³ç³» å¾ˆå¤šå¤§å‹c++é¡¹ç›®å¦‚æœç¼–è¯‘çš„ä¾å­˜å…³ç³»å¤ªå¤æ‚ï¼Œåˆ™å¾ˆæœ‰å¯èƒ½ç¨å¾®ä¿®æ”¹ä¸€è¡Œä»£ç å°±å¯¼è‡´æ•´ä¸ªé¡¹ç›®é‡æ–°ç¼–è¯‘ï¼Œè¿™æ˜¯å¾ˆä¸å‹å¥½çš„ã€‚ ç¬¬ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨handle class123456789101112131415161718192021222324252627282930313233#pragma oncenamespace data_structure &#123;template &lt;class T&gt;class handle &#123; private: T* ptr; // å¥æŸ„æŒ‡å‘çš„æŒ‡é’ˆ int* count; // å¥æŸ„å¼•ç”¨è®¡æ•°å™¨ public: //æ„é€ å‡½æ•° handle(T* ptr) : ptr(ptr), count(new int(1)) &#123;&#125; // æ‹·è´æ„é€ å‡½æ•° handle(const handle&lt;T&gt;&amp; rhs) : ptr(rhs.ptr), count(&amp;++*rhs.count) &#123;&#125; //èµ‹å€¼å‡½æ•° const handle&lt;T&gt;&amp; operator=(const handle&lt;T&gt;&amp; rhs) &#123; if (--*rhs.count == 0) delete ptr, count; ptr = rhs.ptr; count = &amp;++*rhs.count; return *this; &#125; ~handle() &#123; if (--*count == 0) delete ptr, count; &#125; T&amp; operator*() &#123; return *ptr; &#125; T* operator-&gt;() &#123; return ptr; &#125; const T&amp; operator*() const &#123; return *ptr; &#125; const T* operator-&gt;() const &#123; return ptr; &#125;&#125;;&#125; // namespace data_structure è¿™å°±æ˜¯ä¸€ä¸ªç®€å•çš„handleç±»ï¼Œå½“ç„¶è¿™ä¸ªç±»å¹¶ä¸èƒ½é™ä½ä¾å­˜å…³ç³»ï¼Œå› ä¸ºä»–æ˜¯ä¸€ä¸ªæ¨¡ç‰ˆç±»ï¼Œæ‰€æœ‰çš„æ¨¡ç‰ˆç±»éƒ½ä¸èƒ½å¤Ÿè¢«åˆ†ç¦»ç¼–è¯‘ã€‚ä½†æˆ‘ä»¬å¯ä»¥å¯¹ä¸“ç”¨çš„ç±»æ„é€ ä¸€ä¸ªä¸“ç”¨çš„handleï¼Œå³å¯å®ç°åˆ†ç¦»ç¼–è¯‘ã€‚ ç¬¬äºŒç§æ–¹æ³•æ˜¯ä½¿ç”¨interface class è¿™é‡Œä¸æä¾›ä»£ç äº†ï¼Œç®€å•è¯´å°±æ˜¯ä½¿ç”¨åŸºç±»åˆ¶é€ å­˜è™šå‡½æ•°ä½œä¸ºæ¥å£ï¼Œå®ç°å¤šæ€ã€‚ åˆ†ç¦»æ¨¡ç‰ˆç±»ä¸­çš„æ¨¡ç‰ˆæ— å…³å‡½æ•° å¦‚æœä½ æœ‰ä¸€ä¸ªçŸ©é˜µæ¨¡ç‰ˆï¼Œæ¨¡ç‰ˆä¸­åŒ…å«äº†è¡Œæ•°å’Œåˆ—æ•°ï¼Œè€Œé‡Œé¢æœ‰ä¸€ä¸ªç±»ä¼¼äºçŸ©é˜µæ±‚é€†çš„æ“ä½œï¼Œè™½ç„¶ä»–ä¸è¡Œåˆ—æœ‰å…³ï¼Œä½†æ˜¯å› ä¸ºè¿™ä¸ªå‡½æ•°éå¸¸çš„é•¿ï¼Œå¦ä¸€æ–¹é¢åˆæœ‰å®¢æˆ·å®šä¹‰äº†è®¸å¤šçŸ©é˜µï¼Œ11çš„ã€22çš„ã€23çš„ã€32çš„ç­‰ç­‰ï¼Œç„¶åä½ çš„ä»£ç å°±ä¼šå¼€å§‹è†¨èƒ€ï¼Œè¿™éå¸¸ä¸å‹å¥½ï¼Œæˆ‘ä»¬æœ€å¥½çš„åšæ³•æ˜¯ï¼Œå®šä¹‰ä¸€ä¸ªåŸºç±»ï¼Œè®©åŸºç±»ä¼ å…¥è¡Œåˆ—å‚æ•°å»å®ç°è¿™äº›ä»£ç ã€‚è¿™æ ·æˆ‘ä»¬çš„çŸ©é˜µæ¨¡ç‰ˆå°±ä¸å¿…å°†æ±‚é€†è¿™ç§å¾ˆé•¿å¾ˆé•¿çš„ä»£ç æ”¾è¿›å»äº†ï¼Œç›´æ¥ç»§æ‰¿å°±å¯ä»¥ã€‚ æ¨¡ç‰ˆå…ƒç¼–ç¨‹&amp;emsp;&amp;emsp; è¿™ç§ç¼–ç¨‹æ–¹å¼å·²ç»è¢«è¯æ˜å…·æœ‰å›¾çµå®Œå¤‡æ€§äº†ï¼Œå³ä»–èƒ½å®Œæˆæ‰€æœ‰çš„è®¡ç®—å·¥ä½œã€‚ æ¨¡ç‰ˆå…ƒæ±‚é˜¶ä¹˜12345678910111213141516#include &lt;iostream&gt;using namespace std;template &lt;int n&gt;struct node &#123; enum &#123; value = n * node&lt;n - 1&gt;::value &#125;;&#125;;template &lt;&gt;struct node&lt;0&gt; &#123; enum &#123; value = 1 &#125;;&#125;;int main()&#123; cout&lt;&lt;node&lt;10&gt;::value&lt;&lt;endl;&#125; æ¨¡ç‰ˆå…ƒç­›ç´ æ•°12345678910111213141516171819202122232425#include &lt;iostream&gt;using namespace std;// ä½¿ç”¨dp// dp[n][i] = 1 è¡¨ç¤ºå¯¹äºx in [2,i] , n%x!=0// å¦åˆ™dp[n][i] = 0// äºæ˜¯dp[n][n-1] = 1çš„æ—¶å€™ï¼Œnä¸ºç´ æ•°template &lt;int n, int i&gt;struct is_prime &#123; enum &#123; value = (n % i) &amp;&amp; is_prime&lt;n, i - 1&gt;::value &#125;;&#125;;template &lt;int n&gt;struct is_prime&lt;n, 1&gt; &#123; enum &#123; value = 1 &#125;;&#125;;int main() &#123; printf(&quot;%d %d\\n&quot;, 2, is_prime&lt;2, 2 - 1&gt;::value); printf(&quot;%d %d\\n&quot;, 3, is_prime&lt;3, 3 - 1&gt;::value); printf(&quot;%d %d\\n&quot;, 4, is_prime&lt;4, 4 - 1&gt;::value); printf(&quot;%d %d\\n&quot;, 5, is_prime&lt;5, 5 - 1&gt;::value); printf(&quot;%d %d\\n&quot;, 6, is_prime&lt;6, 6 - 1&gt;::value); printf(&quot;%d %d\\n&quot;, 7, is_prime&lt;7, 7 - 1&gt;::value);&#125; gcdå’Œlcm æœ‰å…´è¶£çš„è¯»è€…å¯ä»¥å»å®ç°è¿™ä¸¤ä¸ªä¸œè¥¿ï¼Œè¿™é‡Œæˆ‘å°±ä¸æä¾›ä»£ç äº†ã€‚ policiesè®¾è®¡ è¿™ä¸ªè®¾è®¡ç›®å‰å¯¹æˆ‘è€Œè¨€ï¼Œè¿˜æœ‰ç‚¹æ·±ï¼Œå…ˆç•™ä¸ªå‘ å‡è®¾æŸä¸ªå¯¹è±¡æœ‰å¤§é‡çš„åŠŸèƒ½éœ€æ±‚ï¼Œè¿™æ—¶å€™å¤§å¤šæ•°äººé€‰æ‹©çš„è®¾è®¡æ–¹æ¡ˆæ˜¯ï¼šè®¾è®¡ä¸€ä¸ªå…¨åŠŸèƒ½å‹æ¥å£ã€‚è¿™æ ·åšä¼šå¯¼è‡´æ¥å£è¿‡äºåºå¤§å·²ç»éš¾ä»¥ç»´æŠ¤ã€‚ æ­£ç¡®çš„åšæ³•æ˜¯å°†åŠŸèƒ½æ­£äº¤åˆ†è§£ï¼Œç”¨å¤šä¸ªç±»æ¥ç»´æŠ¤è¿™äº›æ¥å£ï¼Œè¾¾åˆ°åŠŸèƒ½ç±»é«˜å†…èšï¼ŒåŠŸèƒ½ç±»é—´ä½è€¦åˆï¼Œç„¶åä½¿ç”¨å¤šé‡ç»§æ‰¿æ¥å®ç°ï¼Œå¹¶å…è®¸ç”¨æˆ·è‡ªå·±é…ç½®ï¼Œè¿™æ ·çš„åšæ³•æœ‰ä¸€ä¸ªå¾ˆå›°éš¾çš„åœ°æ–¹ï¼Œå°±æ˜¯åŸºç±»æ²¡æœ‰è¶³å¤Ÿçš„ä¿¡æ¯çŸ¥é“æ´¾ç”Ÿç±»çš„ç±»å‹ã€‚äºæ˜¯æˆ‘ä»¬é€šè¿‡æ¨¡ç‰ˆå¥—å¨ƒï¼Œè®©æ´¾ç”Ÿç±»ä½œä¸ºåŸºç±»çš„æ¨¡ç‰ˆå‚æ•°ã€‚&amp;esp; ä»£ç å¦‚ä¸‹ï¼Œç¬”è€…å¤ªèœï¼Œä¸æ•¢è‡ªå·±å†™ï¼Œä¸æ•¢ä¿®æ”¹ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869#include &lt;iostream&gt;#include &lt;tr1/memory&gt;using std::cin;using std::cout;using std::endl;using std::tr1::shared_ptr;template &lt;class T&gt;class CreatorNew &#123; public: CreatorNew() &#123; cout &lt;&lt; &quot;Create CreatorNew Obj ! &quot; &lt;&lt; endl; &#125; ~CreatorNew() &#123; cout &lt;&lt; &quot;Destroy CreatorNew Obj ! &quot; &lt;&lt; endl; &#125; shared_ptr&lt;T&gt; CreateObj() &#123; cout &lt;&lt; &quot;Create with new operator !&quot; &lt;&lt; endl; return shared_ptr&lt;T&gt;(new T()); &#125;&#125;;template &lt;class T&gt;class CreatorStatic &#123; public: CreatorStatic() &#123; cout &lt;&lt; &quot;Create CreatorStatic Obj ! &quot; &lt;&lt; endl; &#125; ~CreatorStatic() &#123; cout &lt;&lt; &quot;Destroy CreatorStatic Obj ! &quot; &lt;&lt; endl; &#125; T&amp; CreateObj() &#123; cout &lt;&lt; &quot;Create with static obj !&quot; &lt;&lt; endl; static T _t; return _t; &#125;&#125;;template &lt;template &lt;class&gt; class CreationPolicy&gt;class WidgetManager : public CreationPolicy&lt;WidgetManager&lt;CreationPolicy&gt; &gt; &#123; public: WidgetManager() &#123; cout &lt;&lt; &quot;Create WidgetManager Obj !&quot; &lt;&lt; endl; &#125; ~WidgetManager() &#123; cout &lt;&lt; &quot;Destroy WidgetManager Obj !&quot; &lt;&lt; endl; &#125;&#125;;int main(int argc, char** argv) &#123; cout &lt;&lt; &quot;------------- Create WidgetManager Object ! ------------&quot; &lt;&lt; endl; WidgetManager&lt;CreatorNew&gt; a_wid; WidgetManager&lt;CreatorStatic&gt; b_wid; cout &lt;&lt; endl &lt;&lt; &quot;-- Create WidgetManager Object With CreateObj Method (New) ! --&quot; &lt;&lt; endl; a_wid.CreateObj(); cout &lt;&lt; endl &lt;&lt; &quot;-- Create WidgetManager Object With CreateObj Method (Static) ! --&quot; &lt;&lt; endl; b_wid.CreateObj(); cout &lt;&lt; endl &lt;&lt; &quot;------------ Destroy WidgetManager Object ! ------------&quot; &lt;&lt; endl; return 0;&#125; policies class çš„ææ„å‡½æ•° å…ˆè¯´ç»“è®ºï¼Œä¸è¦ä½¿ç”¨publicç»§æ‰¿ï¼Œä¸Šè¯‰ä»£ç æ˜¯é”™è¯¯çš„ï¼Œç¬¬äºŒpoliciesç±»ä¸è¦ä½¿ç”¨è™šææ„å‡½æ•°ï¼Œå¹¶ä¸”ä¸ºè™šæ„å‡½æ•°è®¾ä¸ºprotectã€‚ policy ç»„åˆ å½“æˆ‘ä»¬åœ¨è®¾è®¡ä¸€ä¸ªæ™ºèƒ½æŒ‡é’ˆçš„æ—¶å€™ï¼Œæˆ‘ä»¬èƒ½å¤Ÿæƒ³åˆ°æœ‰ä¸¤ä¸ªæ–¹å‘ï¼šæ˜¯å¦æ”¯æŒå¤šçº¿ç¨‹ï¼Œæ˜¯å¦è¿›è¡ŒæŒ‡é’ˆæ£€æŸ¥ï¼Œè¿™ä¸¤ä¸ªåŠŸèƒ½æ˜¯æ­£äº¤çš„ï¼Œè¿™å°±å®ç°äº†policyçš„ç»„è£… å®šåˆ¶æŒ‡é’ˆ å½“æˆ‘ä»¬è®¾è®¡æ™ºèƒ½æŒ‡é’ˆçš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸ä¸€å®šå¿…é¡»æ˜¯ä¼ ç»ŸæŒ‡é’ˆï¼Œæˆ‘ä»¬å¯ä»¥æŠ½è±¡æŒ‡é’ˆä¸ºè¿­ä»£å™¨ï¼Œç¼ºçœè®¾ç½®ä¸ºä¸€ä¸ªæ—¢åŒ…å«æŒ‡é’ˆåˆåŒ…å«å¼•ç”¨çš„ç±»ã€‚ é™æ€æ–­è¨€æ£€æŸ¥å™¨ æœ€å‰é¢ç»™äº†ä¸€ä¸ªåŸºäºæ„é€ é•¿åº¦ä¸º0çš„æ•°ç»„çš„æ–­è¨€æ£€æŸ¥ï¼Œæˆ‘çš„ç¼–è¯‘å™¨ä¼¼ä¹å¾ˆå¼ºå¤§ï¼Œå…è®¸æˆ‘è¿™æ ·æ“ä½œäº†ã€‚ã€‚ã€‚ã€‚æˆ‘ä»¬å°±å¿½ç•¥ä»–å§ ç°åœ¨è€ƒè™‘åˆ°æ¨¡ç‰ˆï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªboolå‹çš„æ¨¡ç‰ˆï¼Œå¯¹å…¶ä¸­çš„trueå‹åç‰¹åŒ–è¿›è¡Œå®ç°ï¼Œfalseå‹ä¸å®ç°ï¼Œå½“æˆ‘ä»¬ç”¨è¿™ä¸ªç±»æ„é€ çš„æ—¶å€™ï¼Œtrueä¼šè¢«ç¼–è¯‘é€šè¿‡ï¼Œä½†æ˜¯falseå°±ä¸è¡Œäº†ï¼Œ ç¬¬äºŒç§æƒ…å†µæ˜¯ï¼Œåˆ©ç”¨æ„é€ å‡½æ•°ï¼Œä¼¼ä¹è¿˜æ˜¯ç¼–è¯‘å™¨åŸå› ï¼Œæˆ‘çš„éƒ½èƒ½ç¼–è¯‘é€šè¿‡ï¼Œæˆ‘ä»¬ä¹Ÿå¿½ç•¥å§ã€‚ ç¬¬ä¸‰ç§æƒ…å†µï¼Œæˆ‘ä»¬è€ƒè™‘ç”¨å®æŠŠmsgæ›¿æ¢æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¿™æ ·å°±OKäº†,æŠ¥é”™çš„æ—¶å€™è¿˜èƒ½çœ‹åˆ°æ˜¯å•¥é”™ï¼Œä½ åªè¦è¾“å…¥msgå°±å¯ä»¥ã€‚ 12345678910111213141516171819202122232425262728293031323334353637namespace program_check &#123;// ç¬¬ä¸€ç§é™æ€æ£€æŸ¥æ–¹æ³•template &lt;bool&gt;struct CompiledTimeError;template &lt;&gt;struct CompiledTimeError&lt;true&gt; &#123;&#125;;// ç¬¬äºŒç§é™æ€æ£€æŸ¥çš„æ–¹æ³•template &lt;bool&gt;struct CompiledTimeCheck &#123;CompiledTimeCheck(...)&#123;&#125;;&#125;;template &lt;&gt;struct CompiledTimeCheck&lt;false&gt; &#123;&#125;;&#125; // namespace program_check// ç¬¬ä¸€ä»£é™æ€æ£€æŸ¥å™¨#define STATIC_CHECK_1(expr) program_check::CompiledTimeError&lt;(expr) != 0&gt;()// ç¬¬äºŒä»£é™æ€æ£€æŸ¥å™¨,è¿˜èƒ½è¾“å‡ºé”™è¯¯ç±»å‹//#define STATIC_CHECK_2(expr, msg) \\&#123; \\class ERROR_##msg &#123;&#125;; \\(void)sizeof( \\program_check::CompiledTimeCheck&lt;(expr) != 0&gt;(ERROR_##msg())); \\&#125;// æˆ‘è§‰å¾—éƒ½ä¸å¤ªå¥½ï¼Œä¸å¦‚è¯•è¯•è¿™ä¸ª#define STATIC_CHECK(expr,msg) \\(program_check::CompiledTimeError&lt;(expr) != 0&gt;(), &quot;msg&quot;)int main(int argc, char** argv) &#123;STATIC_CHECK(false,abssf );&#125; int2type int2typeæ˜¯ä¸€ç§æŠ€æœ¯ï¼Œä»–æŠŠintæ˜ å°„ä¸ºä¸€ä¸ªç±»å‹ï¼Œä»è€Œèƒ½å¤Ÿè®©ä»–å¯¹å‡½æ•°å»å®ç°é‡è½½ï¼Œä¸‹é¢çš„ç¨‹åºå°±æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ä¾‹å­ï¼Œæ³¨æ„æˆ‘ä»¬çš„ä¸»å‡½æ•°é‡Œé¢ç”¨çš„æ˜¯int2type&lt;2&gt;å¦‚æœæŠŠ2æ¢æˆ1ï¼Œæ˜¯æ— æ³•ç¼–è¯‘çš„ï¼Œå› ä¸ºintæ²¡æœ‰cloneè¿™ä¸ªå‡½æ•°ã€‚ å¦‚æœæˆ‘ä»¬ä¸ä½¿ç”¨è¿™ç§æŠ€æœ¯ï¼Œè€Œæ˜¯åœ¨è¿è¡ŒæœŸä½¿ç”¨if elseæ¥åˆ¤æ–­ï¼Œè¿™ä¸å¯èƒ½ï¼Œä½ æ— æ³•é€šè¿‡ç¼–è¯‘ï¼Œè¿™äº‹åªèƒ½åœ¨ç¼–è¯‘å™¨åšã€‚ 1234567891011121314151617181920212223namespace trick &#123;template &lt;int v&gt;struct int2type &#123; enum &#123; value = v &#125;;&#125;;&#125; // namespace trickusing namespace trick;template &lt;class T&gt;class node &#123; T *p; public: void f(T x, int2type&lt;1&gt;) &#123; p-&gt;clone(); &#125; void f(T x, int2type&lt;2&gt;) &#123;&#125; void f(T x, int2type&lt;3&gt;) &#123;&#125;&#125;;int main() &#123; node&lt;int&gt; a; a.f(1, int2type&lt;2&gt;());&#125; type2type è¿™ç§æŠ€æœ¯ç±»ä¼¼ä¸int2type,ä»–ç”¨æ¥è§£å†³å‡½æ•°ä¸èƒ½åç‰¹åŒ–çš„é—®é¢˜ï¼Œå½“ç„¶ç°åœ¨çš„ç¼–è¯‘å™¨ä¼¼ä¹å·²ç»æ”¯æŒè¿™ä¸ªåŠŸèƒ½äº†ã€‚ 1234template &lt;class T&gt;struct type2type &#123; typedef T orignal_type;&#125;; æœ‰äº†è¿™ä¸ªä»£ç ,æˆ‘ä»¬èƒ½æ¨¡æ‹Ÿå‡ºåç‰¹åŒ–ï¼Œç”šè‡³å‡½æ•°è¿”å›å€¼çš„é‡è½½ï¼Œè€Œä¸”è¿™ä¸ªç±»å‹ä¸å ä»»ä½•ç©ºé—´ã€‚ ç±»å‹é€‰æ‹©å™¨ åœ¨æ³›å‹ç¼–ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šç¢°åˆ°ç±»å‹é€‰æ‹©çš„é—®é¢˜ï¼Œè‹¥ä¸€ä¸ªç±»å‹é…ç½®æœ‰é€‰æ‹©ä¸ºæ˜¯å¦å¤šæ€ï¼Œåˆ™æˆ‘ä»¬å¯èƒ½éœ€è¦é€šè¿‡è¿™ä¸ªboolçš„å€¼æ¥åˆ¤æ–­ä¸‹ä¸€æ­¥æ˜¯å®šä¹‰ä¸€ä¸ªæŒ‡é’ˆè¿˜æ˜¯å®šä¹‰ä¸€ä¸ªå¼•ç”¨ï¼Œè¿™æ—¶å€™æˆ‘ä»¬çš„ç±»å‹é€‰æ‹©å™¨ç™»åœºäº† 12345678910namespace trick &#123;template &lt;bool c, class T, class S&gt;struct type_chose &#123; typedef T type;&#125;;template &lt;class T, class S&gt;struct type_chose&lt;false, T, S&gt; &#123; typedef S type;&#125;;&#125; // namespace trick type_choose&lt;false,int*,int&amp;&gt;::typeå°±æ˜¯int&amp;, type_choose&lt;true,int*,int&amp;&gt;::typeå°±æ˜¯int*, äº’æ–¥é”ä¸å…±äº«é” 1234567891011121314151617181920212223242526272829303132#include &lt;bits/stdc++.h&gt;#include &lt;mutex&gt;#include &lt;shared_mutex&gt;#include &lt;thread&gt;using namespace std;void f(int id, int* _x, shared_mutex* _m) &#123; int&amp; x = *_x; shared_mutex&amp; m = *_m; if (id &amp; 1) &#123; for (int i = 0; i &lt; 3000; i++) &#123; unique_lock&lt;shared_mutex&gt; lock(m); x++; &#125; &#125; else &#123; for (int i = 0; i &lt; 3000; i++) &#123; shared_lock&lt;shared_mutex&gt; lock(m); int read = x; assert(x == read); &#125; &#125;&#125;int main() &#123; int x; shared_mutex m; thread a[10]; for (int i = 0; i &lt; 10; i++) a[i] = thread(f, i, &amp;x, &amp;m); for (int i = 0; i &lt; 10; i++) a[i].join(); cout &lt;&lt; x &lt;&lt; endl;&#125; é€’å½’é” 1234567891011121314151617181920#include &lt;bits/stdc++.h&gt;#include &lt;mutex&gt;#include &lt;shared_mutex&gt;#include &lt;thread&gt;using namespace std;mutex m1;recursive_mutex m2;void f(int i)&#123; //unique_lock&lt;mutex&gt; lock(m1); unique_lock&lt;recursive_mutex&gt; lock(m2); if(i==0) return; else f(i-1);&#125;int main() &#123; f(10);&#125; è¶…æ—¶é”ï¼Œç”¨äºä¸€å®šæ—¶é—´å†…è·å–é”ï¼Œè¶…æ—¶é€’å½’é”ï¼ŒåŒç†","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"C++","slug":"Language/C","permalink":"http://fightinggg.github.io/indigo/categories/Language/C/"}],"tags":[]},{"title":"search_tree","slug":"æ•°æ®ç»“æ„/search_tree/index","date":"2020-03-12T00:48:00.000Z","updated":"2020-03-12T00:48:00.000Z","comments":true,"path":"Q72280.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q72280.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ€»è§ˆè¿™ç¯‡åšå®¢å°†ç”¨äºæ•´ç†å„ç§æœç´¢æ ‘çš„æ•°æ®ç»“æ„,ç›®å‰å·²ç»æ•´ç†äº†BSTã€AVLã€BTreeã€B+Treeã€B*Treeã€23Treeã€234Treeã€TTreeã€RBTreeã€LLRBTreeã€AATreeã€SplayTreeã€Treapã€æ— æ—‹Treapã€scapegoatTree,VPTreeã€cartesianTree, é¡¹ç›®åœ°å€é“¾æ¥ å‰ç½®æ¡ä»¶åŸºæœ¬æ•°æ®ç»“æ„ï¼šå˜é•¿æ•°ç»„ã€æ ˆã€é˜Ÿåˆ—ã€å­—ç¬¦ä¸²çš„å®ç°(æ­¤æ—¶æš‚æœªå®ç°ï¼Œä½¿ç”¨STLä»£æ›¿ï¼Œåé¢æœ‰æ—¶é—´ä¼šè‡ªå·±å®ç°)å†…å­˜æ± æœºåˆ¶ æ ‘çš„è®¾è®¡æˆ‘ä»¬è®¾è®¡ä¸€ä¸ªåŸºç±»è®©æ‰€æœ‰çš„æ ‘æ¥ç»§æ‰¿æ­¤åŸºç±»ï¼Œç„¶ååœ¨çœ‹åé¢ä¼šæœ‰ä»€ä¹ˆæ”¹å˜ï¼Œä»¥åå†æ¥æ›´æ–° åŸºç±» æˆ‘ä»¬çš„åŸºç±»åªæä¾›æ¥å£ï¼Œä¸æä¾›æ•°æ®ç±»å‹ treeä»£ç  æ›´æ–°ï¼š æœç´¢æ ‘çš„è®¾è®¡ ç”±äºç¬”è€…èƒ½åŠ›æœ‰é™ï¼Œè®¾è®¡æ¬ ä½³ï¼Œå¯¼è‡´åé¢çš„ç©ºé—´æ ‘ã€å­—å…¸æ ‘ç­‰æ•°æ®ç»“æ„æ— æ³•åŠ å…¥treeä¸­ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨treeçš„åé¢åŠ ä¸€å±‚search_treeæ¥è¡¨ç¤ºæœç´¢æ ‘ã€‚ æœç´¢æ ‘ä»£ç  B+ Tree å’ŒBæ ‘ä¸€æ ·ï¼ŒB+æ ‘ä¹Ÿå…·æœ‰ç›¸åŒçš„æ€§è´¨ã€‚ ä¸åŒç‚¹ B+æ ‘çš„å†…éƒ¨èŠ‚ç‚¹ã€æ ¹èŠ‚ç‚¹åªä¿å­˜äº†é”®çš„ç´¢å¼•ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¿å­˜çš„æ˜¯ä¸€ä¸ªé”®æŒ‡å‘çš„å­æ ‘çš„æ‰€æœ‰é”®çš„é›†åˆä¸­æœ€å¤§çš„é‚£ä¸ªï¼Œå³æ‰€æœ‰å·¦è¾¹å­æ ‘çš„maxï¼Œå”¯ä¸€çš„é”®ä¿å­˜åœ¨å¶å­èŠ‚ç‚¹ä¸Šï¼Œ å¶å­èŠ‚ç‚¹æŒ‰ç…§é“¾è¡¨æœ‰åºè¿æ¥ï¼Œè¿™å¯¼è‡´äº†B+æ ‘èƒ½å¤Ÿç”¨é“¾è¡¨æ¥éå†æ•´æ£µæ ‘ã€‚ 23treeå‚è§3é˜¶Btree 234treeå‚è§4é˜¶Btree T treeT tree æ˜¯ä¸€é¢—äºŒå‰æ ‘ï¼Œä»–å’Œavl treeæœ‰ç€ä¸€å®šçš„è”ç³»,æ€»æ‰€å‘¨çŸ¥ï¼Œavlæ ‘ä¸ºä¸€é¢—äºŒå‰æ ‘ï¼Œåˆ©ç”¨å…¶ä¸­åºç»´æŠ¤ä¿¡æ¯ï¼Œåˆ©ç”¨å­æ ‘é«˜åº¦ç»´æŠ¤å¹³è¡¡ã€‚æˆ‘ä»¬å€Ÿæ­¤ä¿®æ”¹ä¸€ä¸‹ï¼Œæˆ‘ä»¬å°è¯•è®©avlæ ‘çš„æ¯ä¸ªèŠ‚ç‚¹ç»´æŠ¤å¤šä¸ªä¿¡æ¯[ä¿¡æ¯åºåˆ—]ï¼Œäºæ˜¯T treeå°±å‡ºç°äº†ã€‚T treeæ˜¯ä¸€é¢—äºŒå‰æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹ç»´æŠ¤ä¸€ä¸ªæœ‰åºåºåˆ—ï¼Œç”¨T æ ‘çš„ä¸­åºéå†æ–¹å¼ï¼Œå°†å…¶èŠ‚ç‚¹ç»´æŠ¤çš„åºåˆ—ä¾æ¬¡ç›¸è¿å³æˆä¸ºäº†æˆ‘ä»¬ç»´æŠ¤çš„ä¿¡æ¯ã€‚ T tree è§£é‡Šä¸ºäº†ä¾¿äºç¼–ç ï¼Œæˆ‘ä»¬ä¸è€ƒè™‘åºåˆ—ä¸­ä¼šå‡ºç°ç›¸åŒçš„å…ƒç´ ï¼Œå¯ä»¥è¯æ˜ï¼Œå¯¹äºæ³›å‹ç¼–ç¨‹æ–¹å¼è€Œè¨€ï¼Œè¿™å¹¶ä¸å½±å“è¯¥æ•°æ®ç»“æ„çš„åŠŸèƒ½ï¼Œè¯¥æ•°æ®ç»“æ„ä¾æ—§å…·å¤‡ç»´æŠ¤ç›¸åŒå…ƒç´ çš„èƒ½åŠ› T treeç»“è®ºéå¶èŠ‚ç‚¹ç»´æŠ¤çš„åºåˆ—éƒ½å……æ»¡äº†å„è‡ªçš„å®¹å™¨ T treeæ ‘ä¸Šä¿¡æ¯æ¯ä¸€é¢—å­æ ‘éƒ½è¦ç»´æŠ¤ä¸€ä¸ªåºåˆ—ï¼Œå¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼Œæˆ‘ä»¬éƒ½ç»´æŠ¤ä¸€ä¸ªç¨å¾®å°ä¸€ç‚¹çš„åºåˆ—ï¼Œæ¯”è¯¥åºåˆ—ä¸­å…ƒç´ æ›´å°çš„å…ƒç´ æ”¾å…¥å·¦å­æ ‘ï¼Œå¦åˆ™æ”¾å…¥å³å­æ ‘ã€‚ T treeæœç´¢æœç´¢çš„è¯ï¼Œå°±æ˜¯æ™®é€šäºŒå‰æ ‘çš„æœç´¢ï¼Œæ¯”å½“å‰èŠ‚ç‚¹ç»´æŠ¤çš„æœ€å°å€¼å°ï¼Œå°±åœ¨å·¦å­æ ‘æ‰¾ï¼Œæ¯”å½“å‰èŠ‚ç‚¹ç»´æŠ¤çš„æœ€å¤§å€¼å¤§ï¼Œå°±åœ¨å³å­æ ‘æ‰¾ï¼Œå¦åˆ™å°±åœ¨å½“å‰èŠ‚ç‚¹æ‰¾ T treeæ’å…¥å½“æˆ‘ä»¬æ’å…¥ä¸€ä¸ªæ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬é¦–å…ˆé€’å½’å‘ä¸‹ï¼Œæ‰¾åˆ°æ’å…¥çš„èŠ‚ç‚¹ä½ç½®ï¼Œè‹¥è¯¥èŠ‚ç‚¹ä¸­å‚¨å­˜çš„åºåˆ—æœªæ»¡ï¼Œåˆ™ç½®å…¥è¯¥èŠ‚ç‚¹ï¼Œå¦åˆ™ï¼Œæœ‰ä¸¤ç§å¤„ç†æ–¹å¼ï¼Œç¬¬ä¸€ç§æ˜¯ä»è¯¥èŠ‚ç‚¹ä¸­å–å‡ºæœ€å°å€¼ï¼Œæ”¾å…¥å·¦å­æ ‘ï¼Œç„¶åæŠŠå¸¦æ’å…¥çš„æ ‘æ”¾å…¥è¯¥èŠ‚ç‚¹ï¼Œç¬¬äºŒç§æ˜¯æ”¾å…¥å³å­æ ‘ï¼Œè¿™é‡Œä¸å¤šè¯´æ˜ã€‚æ’å…¥å¯èƒ½ä¼šå¯¼è‡´æ ‘å¤±å»å¹³è¡¡ï¼Œæˆ‘ä»¬ç”¨avlæ ‘å•æ—‹çš„æ–¹å¼æ¥è®©æ ‘é‡æ–°å¹³è¡¡ T treeåˆ é™¤å½“æˆ‘ä»¬åˆ é™¤ä¸€ä¸ªæ•°çš„æ—¶å€™ï¼Œåƒavlæ ‘ä¸€æ ·å¤„ç†ï¼Œè‹¥è¯¥æ•°åœ¨å¶å­ä¸Šï¼Œç®€å•åˆ æ‰å¹¶ç»´æŠ¤æ ‘çš„å¹³è¡¡å³å¯ï¼Œè®©è¯¥æ•°åœ¨éå¶èŠ‚ç‚¹æ—¶ï¼Œæˆ‘ä»¬å–å‡ºå‰é©±æˆ–åç»§æ¥é¡¶æ›¿å³å¯ã€‚ T treeä¸€ä¸ªå®¹æ˜“å‡ºé”™çš„åœ°æ–¹ç¬”è€…åœ¨ç¼–ç çš„æ—¶å€™ï¼Œé‡åˆ°äº†ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æœ‰æ—¶å€™ä¼šå‡ºç°éå¶èŠ‚ç‚¹ç»´æŠ¤çš„æ•°æ®å¹¶æœªå……æ»¡å®¹å™¨ï¼Œè¿™ç§æƒ…å†µå‘ç”Ÿçš„åŸå› æ˜¯å•æ—‹é€ æˆçš„ã€‚åœ¨å•æ—‹çš„æ—¶å€™ï¼Œå°†å¶å­ç»“ç‚¹æ—‹è½¬æˆéå¶èŠ‚ç‚¹åï¼Œæˆ‘ä»¬åº”è¯¥è°ƒæ•´æ•°æ®ï¼Œè®©éå¶èŠ‚ç‚¹é‡æ–°ç»´æŠ¤çš„æ•°æ®å……æ»¡å®¹å™¨ T treecode TTä»£ç  red black treered black treeå®šä¹‰çº¢é»‘æ ‘æ˜¯ä¸€ç§å¹³è¡¡æ ‘ï¼Œä»–æ»¡è¶³ä¸‹é¢çš„æ€§è´¨ 1.èŠ‚ç‚¹æ˜¯çº¢è‰²æˆ–é»‘è‰²ã€‚2.æ ¹æ˜¯é»‘è‰²ã€‚3.æ‰€æœ‰å¶å­éƒ½æ˜¯é»‘è‰²ï¼ˆå¶å­æ˜¯NILèŠ‚ç‚¹ï¼‰ã€‚4.æ¯ä¸ªçº¢è‰²èŠ‚ç‚¹å¿…é¡»æœ‰ä¸¤ä¸ªé»‘è‰²çš„å­èŠ‚ç‚¹ã€‚ï¼ˆä»æ¯ä¸ªå¶å­åˆ°æ ¹çš„æ‰€æœ‰è·¯å¾„ä¸Šä¸èƒ½æœ‰ä¸¤ä¸ªè¿ç»­çš„çº¢è‰²èŠ‚ç‚¹ã€‚ï¼‰5.ä»ä»»ä¸€èŠ‚ç‚¹åˆ°å…¶æ¯ä¸ªå¶å­çš„æ‰€æœ‰ç®€å•è·¯å¾„éƒ½åŒ…å«ç›¸åŒæ•°ç›®çš„é»‘è‰²èŠ‚ç‚¹ã€‚ red black treeè§£è¯»æ€§è´¨çº¢é»‘æ ‘çš„æ€§è´¨éš¾ä»¥ç†è§£ï¼Œè¿™æ˜¯å› ä¸ºä»–å¤ªè¿‡äºæŠ½è±¡äº†, å¦‚æœä½ äº†è§£B Tree, æˆ‘ä»¬ç°åœ¨è€ƒè™‘èŠ‚ç‚¹ä¸­æœ€å¤šåŒ…å«3ä¸ªé”®çš„B Treeï¼Œä»–åˆå«2-3-4tree,æ„æ€æ˜¯ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹éƒ½æœ‰2ï¼Œ3æˆ–4ä¸ªç›´æ¥å­å­™ï¼Œç›´æ¥å­å­™æŒ‡çš„æ˜¯å’Œå½“å‰èŠ‚ç‚¹ç›¸é‚»çš„å­å­™ï¼Œç›¸é‚»æŒ‡çš„æ˜¯æ°å¥½æœ‰ä¸€æ¡è¾¹è¿æ¥ã€‚2-3-4æ ‘çš„ç¼–ç æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼ŒåŸå› åœ¨äºèŠ‚ç‚¹ç§ç±»è¿‡å¤šã€‚æˆ‘ä»¬ç°åœ¨è€ƒè™‘è¿™æ ·ä¸€ç§æƒ…å†µï¼ŒRB treeä¸­çš„çº¢è‰²èŠ‚ç‚¹ä»£è¡¨ä»–å’Œä»–çˆ¶äº²åœ¨ä¸€èµ·ï¼Œå³ä»–+ä»–çš„çˆ¶äº²æ„æˆäº†2key3son-nodeï¼Œè‹¥ä»–çš„å…„å¼Ÿä¹Ÿæ˜¯çº¢è‰²ï¼Œåˆ™ä»–+å…„å¼Ÿ+çˆ¶äº²æ„æˆäº†3key4son-nodeæ€§è´¨1æ˜¾ç„¶æ€§è´¨2çš„åŸå› æ˜¯æ ¹æ²¡æœ‰çˆ¶äº²ï¼Œæ‰€ä»¥ä»–ä¸èƒ½ä¸ºçº¢æ€§è´¨3çš„åŸå› æ˜¯ä¸ºäº†ä¿è¯æ›´å…·æœ‰ä¸€èˆ¬æ€§æ€§è´¨4çš„åŸå› æ˜¯ä¿è¯æœ€å¤šåªæœ‰3key4son-nodeï¼Œä¸èƒ½å‡ºç°4key5son-nodeæ€§è´¨5çš„åŸå› æ˜¯Bæ ‘çš„å®Œå…¨å¹³è¡¡æ€§è´¨ red black treeç¼–ç ç”±æ­¤å¯è§ï¼Œæˆ‘ä»¬ä»¿ç…§234Treeå³BTreeå³å¯å®Œæˆç¼–ç  ä¸ºä»€ä¹ˆçº¢é»‘æ ‘è·‘å¾—å¿«æˆ‘ä»¬å‘ç°234æ ‘çš„æ‰€æœ‰æ“ä½œéƒ½èƒ½åœ¨çº¢é»‘æ ‘ä¸Šè¡¨ç°,ä½†æ˜¯234æ ‘æœ‰ä¸€ä¸ªå¾ˆå¤§çš„ç¼ºé™·ï¼Œå³åˆ†è£‚åˆå¹¶çš„é€Ÿåº¦å¤ªæ…¢äº†ï¼Œè¦é‡æ„å¾ˆå¤šä¸œè¥¿ï¼Œç»†å¿ƒçš„è¯»è€…è‡ªå·±æ¨¡æ‹Ÿä¼šå‘ç°ï¼Œè¿™ä¸ªè¿‡ç¨‹åœ¨RBTreeä¸Šå¯¹åº”çš„ä»…ä»…æ˜¯æŸ“è‰²é—®é¢˜ï¼Œè¿™æå¤§çš„åŠ é€Ÿäº†æ•°æ®ç»“æ„ï¼Œè¿™æ˜¯ä¼˜åŠ¿ã€‚ red black tree eraseåˆ é™¤æ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œä½ æ€æ ·æ“ä½œéƒ½å¯ä»¥ï¼Œåªè¦æ—‹è½¬æ¬¡æ•°å°‘ï¼Œä½ å¯ä»¥åˆ†å¾ˆå¤šç±»æ¥è®¨è®ºï¼Œæ˜¾ç„¶åˆ†ç±»è¶Šå¤šï¼Œå¹³å‡æ—‹è½¬æ¬¡æ•°æ˜¯æœ€å°‘çš„ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼Œeraseä¼šå¼•è¿›ä¸€ä¸ªé‡é»‘è‰²çš„æ¦‚å¿µï¼Œè¿™ä¸ªæ¦‚å¿µçš„å®é™…æ„ä¹‰æŒ‡çš„æ˜¯è¯¥èŠ‚ç‚¹æœ‰ä¸€ä¸ª0key1sonçš„é»‘è‰²çˆ¶äº²è¢«éšè—äº†ã€‚ red black tree code red black treeä»£ç  left leaning red black treeleft leaning red black treeå®šä¹‰ åœ¨çº¢é»‘æ ‘çš„åŸºç¡€ä¸Šï¼Œå·¦å€¾çº¢é»‘æ ‘ä¿è¯äº†3èŠ‚ç‚¹(2key-3son-node)çš„çº¢è‰²èŠ‚ç‚¹ä¸ºå‘å·¦å€¾æ–œï¼Œè¿™å¯¼è‡´äº†çº¢é»‘æ ‘æ›´åŠ ä¸¥æ ¼çš„å®šä¹‰, left leaning red black treeå®ç° åœ¨çº¢é»‘æ ‘ä»£ç çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªleft leaningå‡½æ•°ï¼Œç”¨æ¥è°ƒæ•´å³å€¾æ–œä¸ºå·¦å€¾æ–œï¼Œè¿™ä¸ªå‡½æ•°éœ€è¦é€‚å½“çš„åŠ å…¥åˆ°çº¢é»‘æ ‘ä»£ç å½“ä¸­ï¼Œç¬”è€…è°ƒè¯•äº†å¾ˆä¹…ï¼Œæ‰¾åˆ°äº†å¾ˆå¤šæ€ç»´æ¼æ´ï¼ŒæŠŠè¿™äº›æ¼æ´å…¨éƒ¨ç”¨æ•°å­¦çš„æ–¹å¼ä¸¥æ ¼è¯æ˜ä»¥åï¼Œè°ƒç”¨left leaningå‡½æ•°å³å¯ã€‚ left leaning red black treeä¼˜ç‚¹ ç›¸æ¯”çº¢é»‘æ ‘è€Œè¨€ï¼Œç¬”è€…è®¤ä¸ºæå‡ä¸å¤§ï¼ŒçœŸçš„ï¼Œä½†æ˜¯æœ‰äººä½¿ç”¨äº†å¾ˆå°‘çš„ä»£ç å°±å®ç°äº†LLRBTï¼Œè¿™ä¹Ÿç®—ä¸€ä¸ªå§ï¼Œç¬”è€…æ˜¯ä¿®æ”¹çš„çº¢é»‘æ ‘ï¼Œæ‰€ä»¥å¾ˆéš¾å—ï¼Œä»£ç æ›´é•¿äº†ã€‚ left leaning red black tree code left leaning red black treeä»£ç  AA Tree AAæ ‘çœŸçš„å¾ˆæ£’ï¼Œè™½ç„¶ä»–æ²¡æœ‰æ™®é€šçº¢é»‘æ ‘é‚£ä¹ˆå‰å®³,ä½†æ˜¯AAæ ‘æŒºå®¹æ˜“å®ç°çš„ï¼ŒAAæ ‘æ˜¯ä¸€æ£µå³å€¾çº¢é»‘æ ‘23æ ‘ï¼Œæ³¨æ„! è¿™é‡Œæ˜¯23æ ‘ï¼Œä¸æ˜¯234æ ‘ã€‚ AAæ ‘çš„ç”±æ¥ Arne Anderssonæ•™æˆåœ¨è®ºæ–‡Balanced search trees made simpleä¸­æåˆ°ï¼Œçº¢é»‘æ ‘æœ‰7ç§ç‰¹æ®Šæƒ…å†µï¼ˆå›¾ç‰‡æºäºwikiï¼‰ ä¸ºäº†æ”¹è¿›ï¼Œä»–æå‡ºäº†ä½¿ç”¨23æ ‘å¹¶å¼ºè¡Œè¦æ±‚3èŠ‚ç‚¹(2key-3son-node)å‘å³å€¾æ–œï¼Œäºæ˜¯ï¼Œæˆ‘ä»¬åªå‰©ä¸‹ä¸¤ç§æƒ…å†µ(å›¾ç‰‡æºäºwiki) ä¸ºäº†æ›´åŠ å®¹æ˜“ç¼–ç ï¼Œä»–æå‡ºä¸å†ä½¿ç”¨çº¢é»‘æ¥æ ‡è¯†èŠ‚ç‚¹ï¼Œè€Œæ˜¯é€‰æ‹©é«˜åº¦ï¼Œè¿™é‡Œçš„é«˜åº¦æŒ‡çš„æ˜¯é»‘é«˜åº¦ï¼Œå³é»‘è‰²èŠ‚ç‚¹çš„é«˜åº¦ï¼Œå­¦ä¹ è¿‡å·¦åæ ‘(å·¦ç¿¼å †)æˆ–æ–œå †çš„è¯»è€…åº”è¯¥å¯¹è¿™é‡Œä¸å¤ªé™Œç”Ÿï¼Œè¿™é‡Œçš„é«˜åº¦å…¶å®å’Œå·¦åæ ‘æˆ–æ–œå †ä¸­çš„å³è·ç¦»æ˜¯åŒä¸€ä¸ªä¸œè¥¿ã€‚ AAæ ‘çš„ç‰¹æ€§ æ‰€æœ‰å¶èŠ‚ç‚¹çš„leveléƒ½æ˜¯1æ¯ä¸ªå·¦å­©å­çš„levelæ°å¥½ä¸ºå…¶çˆ¶äº²çš„levelå‡ä¸€æ¯ä¸ªå³å­©å­çš„levelç­‰äºå…¶çˆ¶äº²çš„levelæˆ–ä¸ºå…¶çˆ¶äº²çš„levelå‡ä¸€æ¯ä¸ªå³å­™å­çš„levelä¸¥æ ¼å°äºå…¶ç¥–çˆ¶èŠ‚ç‚¹çš„levelæ¯ä¸€ä¸ªlevelå¤§äº1çš„èŠ‚ç‚¹æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ AAæ ‘çš„skewskew æ˜¯ä¸€ä¸ªè¾…åŠ©å‡½æ•°ï¼Œä»–çš„æœ¬è´¨æ˜¯zigï¼Œå³å¦‚æœå‘ç°ä¸€ä¸ªèŠ‚ç‚¹çš„å·¦å„¿å­ä¸è‡ªå·±é»‘é«˜ç›¸åŒï¼Œåˆ™å°†å·¦å„¿å­é€‰æ‹©è‡³æ ¹ã€‚è¿™å°†ä¿è¯å³å€¾ã€‚ AAæ ‘ä¸­çš„split splitåŒæ ·æ˜¯ä¸€ä¸ªè¾…åŠ©å‡½æ•°ï¼Œä»–çš„æœ¬è´¨æ˜¯zagï¼Œå³å¦‚æœå‘ç°ä¸€ä¸ªèŠ‚ç‚¹çš„å³å­™å­ä¸è‡ªå·±é»‘é«˜ç›¸åŒï¼Œåˆ™å°†å³å„¿å­é€‰æ‹©è‡³æ ¹ï¼Œå¹¶å°†é»‘é«˜+1ï¼Œè¿™å°†ä¿è¯ä¸ä¼šå‡ºç°4èŠ‚ç‚¹(3key-4son-node) AAæ ‘ä¸­çš„insert é€’å½’å‘ä¸‹ï¼Œæ‰¾åˆ°æ’å…¥ä½ç½®ï¼Œç„¶åæ’å…¥ï¼Œæœ€åè°ƒæ•´ï¼Œè°ƒæ•´çš„æ—¶å€™ï¼Œæ ‘ä¼šå˜é«˜ï¼Œå¯¹æ¯ä¸€å±‚é€’å½’è€Œè¨€ï¼Œå·¦å„¿å­å˜é«˜æˆ‘ä»¬å°±å…ˆè®©å…¶skewï¼Œè¿™å¯èƒ½å¯¼è‡´å‡ºç°4èŠ‚ç‚¹ï¼Œæˆ‘ä»¬å†splitï¼Œå¯¹äºå³å„¿å­å˜é«˜çš„æƒ…å†µï¼Œè¿™æ—¶å€™å¯èƒ½å³å„¿å­æœ¬èº«æ˜¯ä¸€ä¸ª3èŠ‚ç‚¹ï¼Œå½“ä»–å˜é«˜ï¼Œå¯¼è‡´æ ¹æˆä¸ºäº†4èŠ‚ç‚¹ï¼Œæˆ‘ä»¬è°ƒç”¨skewå³å¯ï¼Œå…¨éƒ¨ç»Ÿä¸€ä¸€ä¸‹ï¼Œå°±æ˜¯å…ˆskewåsplit AAæ ‘ä¸­çš„erase å¾ˆå¤šæ—¶å€™åˆ é™¤éƒ½æ˜¯ä¸€ä»¶å›°éš¾çš„äº‹æƒ…ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡å¯»æ‰¾å‰é©±åç»§ï¼Œå¯ä»¥ä¿è¯åˆ é™¤çš„èŠ‚ç‚¹ä¸€å®šæ˜¯å¶å­,å¯¹äºåˆ é™¤å¶å­ï¼Œå¯èƒ½æ ‘é«˜ä¸‹é™ï¼ŒåŒæ ·çš„ï¼Œå…ˆåˆ é™¤åå¯¹æ¯ä¸€å±‚è¿›è¡Œè°ƒæ•´ã€‚æˆ‘ä»¬å‰é¢è¯´è¿‡ï¼ŒAAæ ‘åªæœ‰ä¸¤ç§ç»“æ„ã€‚æˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹æ ‘é«˜ä¸‹é™äº§ç”Ÿçš„å½±å“ã€‚ æƒ…å†µ1 å³å„¿å­ä¸è‡ªå·±åŒé»‘é«˜ æƒ…å†µ1.1 å³å„¿å­ä¸‹é™ è¿™ç§æƒ…å†µæ˜¯åˆæ³•çš„ï¼Œä¸éœ€è¦è°ƒæ•´ æƒ…å†µ1.2 å·¦å„¿å­ä¸‹é™ æˆ‘ä»¬è§‚å¯Ÿåˆ°è¿™é‡Œæ˜¯ä¸€ç§è¾ƒä¸ºå¤æ‚çš„æƒ…å†µï¼Œå¯ä»¥è¿™æ ·å¤„ç†ï¼Œè®©èŠ‚ç‚¹aå’ŒcåŒæ—¶é»‘ä¸‹é™ï¼Œå¾—åˆ°äº† ç„¶åæˆ‘ä»¬è€ƒè™‘åˆ°cèŠ‚ç‚¹çš„å·¦å³å„¿å­,æ³¨æ„åˆ°cå’Œaä»¥å‰é»‘åŒé«˜ï¼Œæ‰€ä»¥cçš„å³å„¿å­crï¼Œä¸€å®šæ¯”cçŸ®ï¼Œå½“cä¸‹é™ä»¥åï¼Œclã€cã€cråŒé«˜ æ ¹æ®å®šä¹‰ï¼Œè¿™é‡Œæœ€å¤šè¿˜èƒ½æ‹–å‡ºä¸¤ä¸ªåŒé»‘é«˜çš„ï¼Œclçš„å³å„¿å­clrï¼Œcrçš„å³å„¿å­crr è¿™æ—¶å€™æˆ‘ä»¬å¯¹cæ‰§è¡Œskewï¼Œç„¶åclræˆäº†cçš„å·¦å„¿å­ï¼Œæˆ‘ä»¬å†æ¬¡å¯¹cæ‰§è¡Œskewï¼Œæœ€ç»ˆa-cl-clr-c-cr-crråŒé»‘é«˜ï¼Œ æ¥ä¸‹æ¥çš„ä¸€æ­¥æ˜¯è®©æˆ‘æœ€åƒæƒŠçš„ï¼Œéå¸¸æ¼‚äº®ï¼Œæˆ‘ä»¬å…ˆå¯¹aè¿›è¡Œsplitï¼Œç„¶åå¯¹æ ¹çš„å³å„¿å­å†æ¬¡splitï¼Œå°±ç»“æŸäº†ã€‚å¯¹aè¿›è¡Œsplitåæˆ‘ä»¬å¾—åˆ°,æ³¨æ„åˆ°è¿™é‡Œæ ¹çš„é«˜åº¦æé«˜äº† å¯¹æ ¹å¯¹å³å„¿å­split,å°±ç»“æŸäº† æƒ…å†µ2 å³å„¿å­ä¸è‡ªå·±ä¸åŒé»‘é«˜ æƒ…å†µ2.1 å³å„¿å­ä¸‹é™ è®©aèŠ‚ç‚¹é«˜åº¦é™ä½ è®©aè¿›è¡Œskew,æœ€åå› ä¸ºbçš„å³å„¿å­é«˜åº¦ï¼Œåˆ†ä¸¤ç§æƒ…å†µ å¯¹äºbçš„å³å„¿å­å¤ªé«˜çš„æ—¶å€™ï¼Œå¯¹aè¿›è¡Œskew ç„¶åå¯¹bè¿›è¡Œsplitå³å¯ æƒ…å†µ2.2 å·¦å„¿å­ä¸‹é™ è®©aä¸‹é™ è¿™é‡Œå¯èƒ½å‘ç”Ÿcçš„å³å„¿å­ä¸cåŒé«˜ï¼Œsplitï¼ˆaï¼‰å³å¯ AAæ ‘eraseæ€»ç»“ è‡³æ­¤æˆ‘ä»¬çš„åˆ é™¤å·²ç»è®¨è®ºå®Œäº†ï¼Œå®é™…ç»†åˆ†åªæœ‰4ç§æƒ…å†µï¼Œè¿™è¦æ¯”æ™®é€šçº¢é»‘æ ‘ç®€å•å¤šäº†ï¼Œ AAæ ‘ç¼ºç‚¹ å¤šæ¬¡æ—‹è½¬å¯¼è‡´æ€§èƒ½ä¸åŠçº¢é»‘æ ‘ï¼Œæ—‹è½¬æ¬¡æ•°è¾ƒå¤š AAæ ‘ä»£ç  AAæ ‘ä»£ç  splay tree ä¼¸å±•æ ‘ï¼Œä»¥å…¶æ“ä½œsplayå‡ºåã€‚ ä¼¸å±•æ ‘çš„æœ¬è´¨å°±æ˜¯bstï¼Œ splayæ“ä½œ ä¼¸å±•æ ‘å¯¹splayæ“ä½œçš„å‚æ•°æ˜¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä»–çš„ç»“æœæ˜¯å°†è¿™ä¸ªèŠ‚ç‚¹é€šè¿‡åŒæ—‹å˜æˆæ ¹ã€‚ splay insert ä¼¸å±•æ ‘insertçš„æ—¶å€™ï¼Œå…ˆæŒ‰ç…§bstçš„æ“ä½œinsertï¼Œç„¶åå°†insertçš„ç‚¹è¿›è¡Œsplayæ“ä½œå³å¯ splay search ä¼¸å±•æ ‘searchçš„æ—¶å€™ï¼Œå…ˆæŒ‰ç…§bstçš„æ“ä½œsearch,å¯¹æ‰¾åˆ°çš„èŠ‚ç‚¹è¿›è¡Œsplayå³å¯ splay erase ä¼¸å±•æ ‘eraseçš„æ—¶å€™ï¼Œå…ˆsearch,è¿™æ ·æˆ‘ä»¬è¦åˆ é™¤çš„èŠ‚ç‚¹å°±æˆä¸ºäº†æ ¹ï¼Œç„¶åæŒ‰ç…§bstçš„æ“ä½œåˆ é™¤å³å¯ splayæ“ä½œè¯¦è§£é‡æ–°å®šä¹‰æ—‹è½¬rotate rotate(x)å³äº¤æ¢xå’Œxçš„çˆ¶äº²çš„ä½ç½®ï¼Œå³å¦‚æœxæ˜¯çˆ¶äº²yçš„å·¦å„¿å­ï¼Œåˆ™rotate(x)ç­‰ä»·ä¸zig(y)ï¼Œåä¹‹åˆ™ç­‰ä»·äºzag(y) å®šä¹‰splay å¦‚æœç¥–çˆ¶-çˆ¶äº²-è‡ªå·±æ„æˆä¸€æ¡ç›´é“¾ï¼Œåˆ™é€‰rotateçˆ¶äº²å†rotateè‡ªå·±ï¼Œè‹¥ä¸æ˜¯ç›´é“¾åˆ™rotateè‡ªå·±ä¸¤æ¬¡ã€‚çŸ¥é“è‡ªå·±æˆä¸ºæ ¹ã€‚ splayå¤æ‚åº¦åˆ†æsplayåŠ¿èƒ½å‡½æ•° å¯¹äºä¸€ä¸ªä¼¸å±•æ ‘Tï¼Œä»–çš„ä¸€ä¸ªèŠ‚ç‚¹xçš„å­æ ‘å¤§å°ä¸º$s(x)$,å®šä¹‰ä¸€ä¸ªèŠ‚ç‚¹xçš„åŠ¿èƒ½ä¸º$X&#x3D;log_2(s(x))$ å¯¹æ•°å‡½æ•°æ˜¯ä¸€ä¸ªå‡¸å‡½æ•° å·²çŸ¥a,b&gt;0,åˆ™$lg(a)+lg(b)\\lt 2lg(\\frac{a+b}{2}) &#x3D; 2lg(a+b)-2$ å¯¹äºä¸€æ¡ç›´é“¾ï¼Œæˆ‘ä»¬è¦å…ˆrotateçˆ¶äº²ï¼Œå†rotateè‡ªå·± è®¾è‡ªå·±ä¸ºxï¼Œçˆ¶äº²ä¸ºyï¼Œç¥–çˆ¶ä¸ºzï¼Œ åˆ™åŠ¿èƒ½å˜åŒ–ä¸º$$\\begin{aligned}&amp;Xâ€™+Yâ€™+Zâ€™-X-Y-Z\\&amp;&#x3D;Yâ€™+Zâ€™-X-Y\\lt Xâ€™+Zâ€™-2X\\&amp;&#x3D;(3Xâ€™-3X)+(X+Zâ€™-2Xâ€™)\\end{aligned}$$è¿™é‡Œçš„xå’Œzâ€˜çš„å­æ ‘å¤§å°åŠ èµ·æ¥åˆšå¥½ç­‰äºxâ€™çš„å­æ ‘å¤§å°-1ã€‚æ‰€ä»¥åŠ¿èƒ½å˜åŒ–å°äº$3(Xâ€™-X)-2$ å¯¹äºä¸€æ¡éç›´é“¾ï¼Œæˆ‘ä»¬è¦rotateè‡ªå·±ä¸¤æ¬¡ï¼Œæ‰èƒ½ä¸Šå»ï¼Œrotateçˆ¶äº²ä¸è¡Œçš„ åŒç†ï¼ŒåŠ¿èƒ½å˜åŒ–ä¸º$$\\begin{aligned}&amp;Xâ€™+Yâ€™+Zâ€™-X-Y-Z\\&amp;&#x3D;Yâ€™+Zâ€™-X-Y\\lt Yâ€™+Zâ€™-2X\\&amp;&#x3D;(2Xâ€™-2X)+(Yâ€™+Zâ€™-2Xâ€™)\\end{aligned}$$è¿™é‡Œçš„yâ€™å’Œzâ€™çš„å­æ ‘å¤§å°åŠ èµ·æ¥åˆšå¥½ç­‰äºxâ€˜çš„å­æ ‘å¤§å°-1ï¼Œæ‰€ä»¥åŠ¿èƒ½å˜åŒ–å°äº$2(Xâ€™-X)-2$ å•æ—‹ æ˜“è¯åŠ¿èƒ½å˜åŒ–å°äº$Xâ€™-X$ æ•´ç†åˆå¹¶ ä¸‰ç§æ“ä½œçš„å‡æ‘Šå¤æ‚åº¦åˆ†åˆ«ä¸º$O(1)+Xâ€™-X$,$O(1)+2(Xâ€™-X)-2$,$O(1)+3(Xâ€™-X)-2$,å¯¹äºåé¢çš„ä¸¤ç§æƒ…å†µ,æˆ‘ä»¬å¢å¤§åŠ¿çš„å•ä½æ¥æ”¯é…éšè—åœ¨O(1)ä¸­çš„å¸¸æ•°ï¼Œæœ€ç»ˆåˆ†åˆ«ä¸º$O(1)+Xâ€™-X$,$2(Xâ€™-X)$,$3(Xâ€™-X)$,å†æ¬¡æ”¾ç¼©: $O(1)+3(Xâ€™-X)$,$3(Xâ€™-X)$,$3(Xâ€™-X)$,æœ€åå¯¹äºæ‰€æœ‰çš„æ—‹è½¬æ±‚å’Œï¼Œå› ä¸ºåªæœ‰ä¸€æ¬¡å•æ—‹æ‰€ä»¥æœ€ç»ˆæˆ‘ä»¬å¾—åˆ°äº†å‡æ‘Šå¤æ‚åº¦ä¸º$O(1)+Xâ€™-X\\lt O(1)+Xâ€™$,æ˜¾ç„¶Xâ€™æ˜¯ä¸€ä¸ªå¾ˆå°çš„æ•°ï¼Œä»–æ°å¥½ç­‰äºä¼¸å±•æ ‘ä¸­çš„å…ƒç´ çš„ä¸ªæ•°å–å¯¹æ•°åçš„ç»“æœã€‚è‡³æ­¤æ‰€æœ‰çš„æ“ä½œå‡å–å†³äºsplayçš„å¤æ‚åº¦ï¼Œå‡ä¸º$lg$çº§åˆ«ã€‚ splayä»£ç  splayæ ‘ä»£ç  Treap æ ‘å †Treapæ¥æºäºTree+Heapçš„ç»„åˆ, å…¶å®å°±æ˜¯ä¸€æ£µæ ‘ï¼Œä»–çš„èŠ‚ç‚¹å‚¨å­˜äº†ä¸¤ä¸ªé”®ï¼Œä¸€ä¸ªæ˜¯æˆ‘ä»¬ç»´æŠ¤çš„ä¿¡æ¯ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯éšæœºæ•°ï¼Œæˆ‘ä»¬ä¸å¦¨è®¾å‰è€…å«keyï¼Œåè€…å«rand_keyï¼ŒTreapçš„keyæ»¡è¶³æœç´¢æ ‘çš„æ€§è´¨ï¼ŒTreapçš„rand_keyæ»¡è¶³å †çš„æ€§è´¨ã€‚(ä»æŸç§æ„ä¹‰ä¸Šè€Œè¨€ï¼Œç¬›å¡å°”æ ‘æ˜¯key&#x3D;rand_keyçš„Treap) ç‰¹ç‚¹: è‹¥keyä¸rand_keyç¡®å®šåï¼ŒTreapçš„å½¢æ€å”¯ä¸€ï¼Œ Treapåœ¨å¤§å¤šæ•°æƒ…å†µä¸‹æ˜¾ç„¶æ˜¯å¹³è¡¡çš„ï¼Œä½†æˆ‘ä¸ä¼šè¯æ˜ï¼Œä¹Ÿæ²¡æ‰¾åˆ°è¯æ˜ï¼Œæš‚æ—¶å…ˆæ”¾ä¸€ä¸‹ã€‚ Treap insert æˆ‘ä»¬å‘ä¸€æ£µTreapä¸­æŒ‰ç…§æœç´¢æ ‘çš„æ€§è´¨æ’å…¥å€¼ä»¥åï¼Œä¸ä¼šç ´åæœç´¢æ ‘çš„ç‰¹ç‚¹ï¼Œä½†æ˜¯å¤§æ¦‚ç‡å¯¼è‡´Heapçš„æ€§è´¨è¢«è¿åã€‚è€ƒè™‘åˆ°å•æ—‹ä¸ä¼šå¯¼è‡´æœç´¢æ ‘çš„æ€§è´¨è¢«ç ´åï¼Œæˆ‘ä»¬é€šè¿‡å•æ—‹æ¥ä»æ–°è®©Treapæ»¡è¶³Heapçš„æ€§è´¨ã€‚è€ƒè™‘å›æº¯ï¼Œå‡è®¾æˆ‘ä»¬å¯¹æŸä¸ªå­æ ‘æ’å…¥äº†ä¸€ä¸ªå€¼ï¼Œè‹¥æœ€ç»ˆæ’å…¥åˆ°å·¦å­æ ‘ï¼Œåˆ™å¯èƒ½å¯¼è‡´å·¦å­æ ‘æ ‘æ ¹çš„rand_keyæ¯”å½“å‰èŠ‚ç‚¹çš„rand_keyå¤§ï¼ŒåŒæ—¶å› ä¸ºæˆ‘ä»¬åªæ’å…¥äº†ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæ‰€ä»¥æœ€å¤šä¹Ÿåªæœ‰ä¸€ä¸ªèŠ‚ç‚¹çš„rand_keyæ¯”å½“å‰èŠ‚ç‚¹çš„rand_keyå¤§ï¼Œè¿™æ—¶å€™å¦‚æœä½¿ç”¨zigï¼Œåˆ™æ ‘æ¢å¤å¹³è¡¡ã€‚ Treap erase è¿˜æ˜¯ä½¿ç”¨å¹³è¡¡æ ‘çš„æ“ä½œæ¥å¯¹Treapè¿›è¡Œåˆ é™¤ã€‚å¦‚æœè¿‡ç¨‹ä¸­ç”¨åˆ°äº†å‰é©±åç»§æ›¿æ¢çš„æŠ€å·§ï¼Œè¿™å°†å¯¼è‡´æ›¿æ¢èŠ‚ç‚¹çš„rand_keyå’Œä»–æ‰€å¤„åœ¨ä¸ºä½ç½®ä¸åŒ¹é…ï¼Œæˆ‘ä»¬å°±åªè€ƒè™‘è¿™é¢—å­æ ‘ï¼Œå› ä¸ºåªæœ‰è¿™é¢—å­æ ‘çš„æ ‘æ ¹å‡ºç°äº†é—®é¢˜ï¼Œæˆ‘ä»¬å°è¯•é€’å½’å‘ä¸‹ï¼Œå°†ä½ç½®ä¸åŒ¹é…è¿™ä¸ªç°è±¡ä¸‹ç§»ï¼Œå› ä¸ºä¸åŒ¹é…ï¼Œå¿…ç„¶æ˜¯è¿™ä¸ªèŠ‚ç‚¹çš„rand_keyæ¯”å„¿å­ä»¬å°ï¼Œè¿™æ—¶å€™å¦‚æœå·¦å„¿å­çš„rand_keyå¤§å°±zigï¼Œå¦åˆ™zag,æœ€åèƒ½å‘ç°è¿™é—®é¢˜åœ¨å‘å¶å­ç»“ç‚¹è½¬ç§»ï¼Œæˆ‘ä»¬èƒ½å¤Ÿé€’å½’å‘ä¸‹ï¼Œç›´åˆ°æœ€åè½¬ç§»åˆ°å¶å­ä¸Šï¼Œæ ‘å°±æ¢å¤å¹³è¡¡äº†ã€‚ Treap ä»£ç  Treapä»£ç  æ— æ—‹Treap æ— æ—‹treapï¼ŒæŒ‡çš„æ˜¯ä¸ä½¿ç”¨zigå’Œzagæ¥é‡æ–°æ¢å¤å¹³è¡¡çš„Treap æˆ‘ä»¬ä½¿ç”¨mergeå’Œsplit æ— æ—‹Treap merge mergeçš„å‚æ•°æ˜¯ä¸¤ä¸ªtreapï¼Œä»–è¿”å›treapåˆå¹¶åçš„ç»“æœ,ä¸å¦¨è®¾å…¶ä¸­ä¸€ä¸ªä¸ºT1ï¼Œå¦ä¸€ä¸ªä¸ºT2ï¼Œè¿™é‡Œè¿˜è¦æ±‚T1çš„æœ€å¤§keyå°äºç­‰äºT2çš„æœ€å°keyã€‚mergeå…¶å®å¾ˆç®€å•ï¼Œå¦‚æœä½ å­¦è¿‡å·¦åæ ‘çš„è¯ï¼Œä¼šå¾ˆå®¹æ˜“ç†è§£ã€‚æˆ‘ä»¬ä¸å¦¨è®¾T1çš„æ ¹çš„rand_keyæ¯”T2çš„å°ã€‚é‚£ä¹ˆå¾ˆæ˜¾ç„¶ï¼Œæœ€ç»ˆç»“æœçš„æ ¹ä¸ºT2çš„æ ¹ï¼Œè¿™é‡Œæˆ‘ä»¬å°±å¯ä»¥é€’å½’äº†ï¼Œæˆ‘ä»¬å°†T2çš„å·¦å­æ ‘ä¸T1åˆå¹¶å‡ºT3ï¼Œæœ€åè®©T3æœ€ä¸ºT2æ–°çš„å·¦å­æ ‘ï¼Œæˆ‘ä»¬å¾—åˆ°çš„T2å°±æ˜¯mergeçš„ç»“æœã€‚ æ— æ—‹Treap split splitçš„å‚æ•°æ˜¯ä¸€ä¸ªTreapå’Œä¸€ä¸ªå€¼Wï¼Œä»–è¿”å›ä¸¤é¢—Treap,å…¶ä¸­ä¸€ä¸ªçš„æœ€å¤§keyå°äºWï¼Œå¦ä¸€ä¸ªå¤§äºW(ä¸éœ€è¦è€ƒè™‘ç­‰äºçš„æƒ…å†µ)ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¾ç„¶å¾ˆç®€å•ï¼Œæˆ‘ä»¬è€ƒè™‘æ ¹å°±å¯ä»¥äº†ï¼Œå¦‚æœæ ¹çš„keyå¤§äºwï¼Œåˆ™æ ¹å’Œå³å­æ ‘åˆ†åˆ°ä¸€éï¼Œç„¶åé€’å½’å·¦å„¿å­ï¼Œå°†å¾—åˆ°çš„ä¸¤ä¸ªTreapä¸­keyå¤§çš„é‚£ä¸ªä½œä¸ºä¹‹å‰åˆ†åˆ°ä¸€è¾¹çš„æ ¹çš„å·¦å„¿å­å³å¯ã€‚ æ— æ—‹Treap insert å…ˆsplitï¼Œç„¶åmergeä¸¤æ¬¡ æ— æ—‹Treap erase å¾ˆå¤šäººè¿™é‡Œä½¿ç”¨äº†splitä¸¤æ¬¡ç„¶åmergeä¸‰æ¬¡ï¼Œæˆ‘è®¤ä¸ºè¿™ä¸ªä¸å¤ªå¥½ï¼Œå¸¸æ•°è¿‡å¤§ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼Œå…ˆsearchæ‰¾åˆ°è¦åˆ çš„ç‚¹ï¼Œç„¶åmergeå…¶å·¦å³å­æ ‘é¡¶æ›¿è‡ªå·±å³å¯ã€‚ æ— æ—‹Treapä»£ç  æ— æ—‹Treapä»£ç  scapegoat Tree æ›¿ç½ªç¾Šæ ‘ï¼Œä»–æ˜¯ä¸€ä¸ªæš´åŠ›çš„bstï¼Œä¸æ™®é€šbstç›¸æ¯”ï¼Œä»–è®°å½•äº†å­æ ‘çš„å¤§å°ï¼Œç”¨å‚æ•°alphaæ¥å®šä¹‰å¹³è¡¡ï¼Œå³å·¦å³å­æ ‘çš„å¤§å°éƒ½ä¸å…è®¸è¶…è¿‡æ ¹çš„alphaå€ï¼Œæ‰€ä»¥å¾€å¾€aplhaæ˜¯ä¸€ä¸ª0.5åˆ°1çš„æ•°å­—ï¼Œå½“è¿åäº†è¿™ä¸ªæ€§è´¨ï¼Œå°±æš´åŠ›é‡æ„ï¼Œå°†æ ‘æ„é€ ä¸ºå®Œå…¨å¹³è¡¡æ ‘ã€‚ æ›¿ç½ªç¾Šæ ‘erase ä¸ºèŠ‚ç‚¹æ‰“ä¸Šæ ‡è®°scapegoatï¼Œä»£è¡¨è¿™ä¸ªèŠ‚ç‚¹å·²ç»è¢«åˆ é™¤äº†ï¼Œå›æº¯å­æ ‘å¤§å°ä¿¡æ¯ã€‚ æ›¿ç½ªç¾Šæ ‘insert ä½¿ç”¨bstæ’å…¥çš„æ–¹å¼æ¥æ’å…¥ï¼Œæ³¨æ„ç‰¹åˆ¤æ‰é‚£äº›è¢«æ‰“åˆ é™¤æ ‡è®°çš„ç‚¹ï¼Œå°±å¯ä»¥äº† æ›¿ç½ªç¾Šæ ‘é‡æ„ å½“æˆ‘ä»¬eraseæˆ–è€…insertä»¥åï¼Œå—å½±å“çš„èŠ‚ç‚¹åº”è¯¥æ°å¥½æ„æˆäº†ä¸€æ¡ä»æ ¹åˆ°ç›®æ ‡çš„é“¾ï¼Œæˆ‘ä»¬ä½¿ç”¨maintainæ¥é‡æ–°è°ƒæ•´å­æ ‘å¤§å°çš„æ—¶å€™ï¼Œæ³¨æ„æ ‡è®°é‚£äº›éæ³•(ä¸å¹³è¡¡)çš„èŠ‚ç‚¹ï¼Œç„¶åå½“æˆ‘ä»¬maintainåˆ°æ ¹çš„æ—¶å€™ï¼Œæˆ‘ä»¬é‡æ„ç¦»æ ¹æœ€è¿‘çš„ä¸å¹³è¡¡çš„å­æ ‘ã€‚ æ›¿ç½ªç¾Šæ ‘ä»£ç  æ›¿ç½ªç¾Šæ ‘ä»£ç  vantate point treevp tree æ˜¯ä¸€é¢—äºŒå‰æ ‘ï¼Œä»–å’Œkd treeæœ‰ç€ä¸€å®šçš„ç›¸ä¼¼åº¦, æ ‘ä¸Šä¿¡æ¯æ¯ä¸€é¢—å­æ ‘éƒ½è¦ç»´æŠ¤ä¸€ä¸ªç‚¹é›†ï¼Œå¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼Œæˆ‘ä»¬éƒ½ç»´æŠ¤ä¸€ä¸ªè·ç¦»dï¼Œç„¶åå°†åˆ°è¯¥èŠ‚ç‚¹çš„è·ç¦»å°äºdçš„ç‚¹æ”¾åˆ°å·¦å„¿å­ï¼Œå…¶ä»–çš„æ”¾åˆ°å³å„¿å­ä¸­ã€‚ vantate pointvantate pointçš„é€‰å–æ˜¯ä¸€ä¸ªæ¯”è¾ƒéº»çƒ¦çš„äº‹æƒ…ï¼Œæˆ‘ä»¬ä»”ç»†æƒ³æƒ³éƒ½çŸ¥é“ï¼Œè¿™ä¸ªç‚¹çš„é€‰å–è‚¯å®šä¼šå½±å“ç®—æ³•ï¼Œæœ‰ä¸€ç§å¤„ç†åŠæ³•æ˜¯éšæœºé€‰å–ï¼Œè¿™æ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚æˆ‘ä»¬å…¶å®å¯ä»¥è¿™æ ·æ¥å¤„ç†ï¼Œ Our algorithm constructs a set of vantage point candidates by random sampling,and then evaluates each of them.Evaluation is accomplished by extracting another sample,from which the median of $\\prod_p(S)$,and a corresponding moment are estimated.Finally,based on these statistical images,the candidate with the largest moment is chosen. è¿™é‡Œçš„$\\prod_p(S)$æŒ‡çš„å°±æ˜¯åœ¨è¯¥åº¦é‡ç©ºé—´ä¸­ç‚¹på’Œç‚¹sçš„è·ç¦»,ä½œè€…é€‰å–çš„statistical imagesæ˜¯æ–¹å·®ï¼Œæˆ‘ä»¬å¯ä»¥ä»ä¼ªç ä¸­çœ‹å‡ºã€‚ å»ºæ ‘å’Œkdæ ‘ä¸€æ ·ï¼Œå»ºæ ‘çš„è¿‡ç¨‹æ˜¯ä¸€è‡´çš„ï¼Œæˆ‘ä»¬é€‰å‡ºvantate point,ç„¶åé€’å½’å·¦å³å»ºæ ‘ æœç´¢æœç´¢çš„è¯ï¼Œä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œç”¨ç»“æœå‰ªæå³å¯ ä¿®æ”¹è¿™æ ·çš„æ ‘ä¸å­˜åœ¨å•æ—‹è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬åªèƒ½ç”¨æ›¿ç½ªç¾Šæ ‘å¥—vantate point treeæ¥å®ç° å‚è€ƒèµ„æ–™Data Structures and Algorithms for Nearest Neighbor Search in General Metric Spaces Peter N.Yianilos* cartesian treeç¬›å¡å°”æ ‘æ˜¯ä¸€é¢—äºŒå‰æ ‘ï¼Œä»–æ»¡è¶³ä¸­åºéå†ä¸ºç»´æŠ¤çš„åºåˆ—ï¼Œä¸”æ»¡è¶³å †çš„æ€§è´¨ buildæˆ‘ä»¬ä½¿ç”¨å•è°ƒæ ˆæ¥ç»´æŠ¤æ ‘æ ¹åˆ°å¶å­çš„é“¾ï¼Œåœ¨å•è°ƒæ ˆçš„æ„å»ºä¸­å®Œæˆæ ‘çš„æ„å»º ctä»£ç ","categories":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"http://fightinggg.github.io/indigo/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}],"tags":[]},{"title":"math","slug":"Math/math/index","date":"2020-03-11T06:39:59.000Z","updated":"2020-03-11T06:39:59.000Z","comments":true,"path":"Q70NUN.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q70NUN.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ€»è§ˆ è¿™ç¯‡åšå®¢ç”¨äºè®°å½•æ•°å­¦åº“çš„å®ç°ï¼Œ é¡¹ç›®åœ°å€é“¾æ¥ å…ˆä»‹ç»æˆ‘ä»¬çš„æ•°å­¦å‡½æ•°åº“ math_function è¿™é‡Œè®°å½•äº†å¾ˆå¤šæ•°å­¦å‡½æ•°ï¼Œ math_functionä»£ç  é‡å¤§é—®é¢˜ è¿™äº›ç®—æ³•çš„å¤æ‚åº¦æ„Ÿè§‰éƒ½æ˜¯$lgc$çº§åˆ«çš„,åº”è¯¥æ˜¯å¯ä»¥é€šè¿‡å€å¢æ¥è¾¾åˆ°$lg(lgc)$çš„å¤æ‚åº¦ï¼Œæˆ‘ä¸‹æ¬¡å†ä»”ç»†æ€è€ƒæ€è€ƒã€‚ ä»‹ç»æˆ‘ä»¬çš„ç‰›é¡¿è¿­ä»£æ³•æ±‚$\\sqrt{c}$$$\\begin{aligned}&amp;x^2&#x3D;c\\&amp;f(x) &#x3D; x^2-c\\&amp;fâ€™(x) &#x3D; 2x \\&amp;g(x) &#x3D; x-\\frac{f(x)}{fâ€™(x)} &#x3D; x-\\frac{x^2-c}{2x} &#x3D;\\frac{x^2+c}{2x}\\end{aligned}$$ æŒ‰ç…§$x_i&#x3D;g(x_{i-1})$è¿›è¡Œè¿­ä»£å³å¯æ±‚å‡ºç»“æœã€‚ æ›´æ–°: æˆ‘ä¸‹æ¬¡æ‰¾ä¸ªæœºä¼šç”¨ä¸‹é¢æ±‚$e^c$çš„æ–¹æ³•å®ç°ä¸€ä¸‹å…ˆè®©cå˜å°ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½åŠ é€Ÿã€‚ ä»‹ç»æˆ‘ä»¬çš„æ³°å‹’å±•å¼€æ±‚$e^c$ é¦–å…ˆæ ¹æ®å…¬å¼$e^{-t}&#x3D;\\frac{1}{e^t}$ï¼Œå¯ä»¥é€’å½’ä¸ºcæ’éè´Ÿ ç„¶åæ ¹æ®å…¬å¼$e^t&#x3D;(e^\\frac{t}{2})^2$, å¯ä»¥é€’å½’ä¸ºcåœ¨èŒƒå›´$[0,0.001]$ä¸Š æœ€åä½¿ç”¨æ³°å‹’å±•å¼€ï¼Œ$e^x&#x3D;1+x+\\frac{x^2}{2!}+â€¦$ï¼Œè¿™é‡Œæˆ‘ä»¬å–å‰10é¡¹å°±èƒ½å¤Ÿè¾¾åˆ°å¾ˆé«˜çš„ç²¾åº¦äº†ã€‚ ä¸ºä»€ä¹ˆè¦ç”¨ç¬¬äºŒæ­¥å°†cä¿è¯åœ¨èŒƒå›´$[0,0.001]$ä¸Šï¼Ÿ å› ä¸ºå¦‚æœcè¿‡å¤§ï¼Œæˆ‘ä»¬çš„ç¬¬ä¸‰éƒ¨éœ€è¦å±•å¼€æ›´å¤šçš„é¡¹æ‰å¤Ÿï¼Œè¿™åœ¨cè¾¾åˆ°10000è¿™ç§ï¼Œä½ è‡³å°‘è¦å±•å¼€10000é¡¹ï¼Œè¿™ä¸ç°å®ã€‚ ä»‹ç»æˆ‘ä»¬çš„ç‰›é¡¿è¿­ä»£æ³•æ±‚$ln(c)$$$\\begin{aligned}&amp;e^x&#x3D;c\\&amp;f(x)&#x3D;e^x-c\\&amp;fâ€™(x) &#x3D; e^x\\&amp;g(x)&#x3D;x-\\frac{f(x)}{fâ€™(x)} &#x3D; x-1+\\frac{c}{e^x}\\end{aligned}$$ è¿˜æ˜¯ä¸€æ ·çš„ï¼Œä¸ºäº†å‡å°‘è¿­ä»£æ¬¡æ•°ï¼Œæˆ‘ä»¬å…ˆå¯¹cè¿›è¡Œå˜å°ï¼Œæ ¹æ®å…¬å¼$ln(x)&#x3D;ln(\\frac{x}{e})+1$,æˆ‘ä»¬å¯ä»¥ä¿è¯cçš„å€¼åœ¨eé™„è¿‘ï¼Œ æœ€åä½¿ç”¨è¿­ä»£ï¼Œ$x_i&#x3D;g(x_{i-1})$, æ›´æ–°ï¼š æˆ‘åˆšåˆšçªç„¶æƒ³åˆ°å¦‚æœç¬¬äºŒæ­¥ä½¿ç”¨æ³°å‹’å±•å¼€è€Œä¸æ˜¯ç‰›é¡¿è¿­ä»£ï¼Œå¯èƒ½ä¼šå¿«å¾ˆå¤šï¼Œè€ƒè™‘åˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬æœ‰æ—¶é—´å»å®ç°ä¸€ä¸‹æ³°å‹’å±•å¼€æ±‚å¯¹æ•°å‡½æ•°ã€‚","categories":[{"name":"Math","slug":"Math","permalink":"http://fightinggg.github.io/indigo/categories/Math/"}],"tags":[]},{"title":"vimå…¥é—¨æ•™ç¨‹","slug":"Others/vimå…¥é—¨æ•™ç¨‹/index","date":"2020-03-07T04:28:32.000Z","updated":"2020-03-07T04:28:32.000Z","comments":true,"path":"Q6T33K.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q6T33K.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial vim vimæ˜¯ä¸€æ¬¾å¼ºå¤§çš„æ–‡æœ¬ç¼–è¾‘å™¨,å¦‚æœé…ç½®åˆ°ä½ï¼ŒçœŸçš„çœŸçš„éå¸¸æ¼‚äº®ï¼Œå¦‚ä¸‹å›¾violetä¸»é¢˜çš„æµ…è‰²å’Œæ·±è‰² è¿˜æœ‰ç»å…¸çš„molokaié…è‰²ä¸»é¢˜ è¿˜æœ‰c++é«˜äº®é…è‰² c++è¡¥å…¨ å¤šè¡Œç¼–è¾‘ ç¬”è€…çš„vimç»å† å…ˆåå°è¯•vimï¼Œç¬”è€…å·²ç»åº¦è¿‡äº†ä¸¤å¹´ï¼Œå­¦åˆ°äº†å¾ˆå¤šï¼Œå´ä¹Ÿå¾ˆå°‘ï¼Œ vimå®‰è£… ä»¥å‰ç¬”è€…ä½¿ç”¨è¿‡linuxä¸‹çš„vimï¼Œç°åœ¨æ­£ä½¿ç”¨çš„macä¸‹çš„vimï¼Œè¿™é‡Œåªè®²macå¦‚ä½•å®‰è£…vimï¼Œmacæœ¬èº«è‡ªå¸¦vim,å½“ç„¶macä¹Ÿå¯ä»¥ä½¿ç”¨æŒ‡ä»¤ 1brew install vim vimåŸºæœ¬é…ç½® vimæ˜¯éœ€è¦ç®€å•é…ç½®ä¸€ä¸‹çš„ï¼Œå¯¹äºæ²¡æœ‰é…ç½®çš„vimè€Œè¨€ï¼Œä¼šå¾ˆéš¾å—ï¼Œä¸‹é¢æˆ‘å…ˆå‘ä¸€ä¸‹æˆ‘çš„vimé…ç½® 123456789101112131415161718192021222324252627282930313233343536373839404142434445set et &quot;tabç”¨ç©ºæ ¼æ›¿æ¢set tabstop=2set expandtab&quot; Tabé”®çš„å®½åº¦set softtabstop=2set shiftwidth=2&quot; ç»Ÿä¸€ç¼©è¿›ä¸º2set number&quot; æ˜¾ç¤ºè¡Œå·set history=10000&quot; å†å²çºªå½•æ•°set hlsearchset incsearch&quot; æœç´¢é€å­—ç¬¦é«˜äº®set encoding=utf-8set fileencodings=utf-8,ucs-bom,shift-jis,gb18030,gbk,gb2312,cp936,utf-16,big5,euc-jp,latin1&quot; ç¼–ç è®¾ç½®&quot; set mouse=a&quot; use mouseset langmenu=zn_CN.UTF-8set helplang=cn&quot; è¯­è¨€è®¾ç½®set laststatus=2&quot; æ€»æ˜¯æ˜¾ç¤ºçŠ¶æ€è¡Œ å°±æ˜¯é‚£äº›æ˜¾ç¤º --insert-- çš„æ€ªä¸œè¥¿set showcmd&quot; åœ¨çŠ¶æ€è¡Œæ˜¾ç¤ºç›®å‰æ‰€æ‰§è¡Œçš„å‘½ä»¤ï¼Œæœªå®Œæˆçš„æŒ‡ä»¤ç‰‡æ®µäº¦ä¼šæ˜¾ç¤ºå‡ºæ¥set scrolloff=3&quot; å…‰æ ‡ç§»åŠ¨åˆ°bufferçš„é¡¶éƒ¨å’Œåº•éƒ¨æ—¶ä¿æŒ3è¡Œè·ç¦»set showmatch&quot; é«˜äº®æ˜¾ç¤ºå¯¹åº”çš„æ‹¬å·set matchtime=1&quot; å¯¹åº”æ‹¬å·é«˜äº®çš„æ—¶é—´ï¼ˆå•ä½æ˜¯ååˆ†ä¹‹ä¸€ç§’ï¼‰ vimçš„æ’ä»¶ è¿™é‡Œæ¨èvundleï¼Œå®‰è£…vundleåï¼Œæˆ‘ä»¬çš„é…ç½®å‰é¢å°±å¤šäº†ä¸€äº›ä¸œè¥¿ 1234567891011121314151617181920212223242526272829&quot; Vundle set nocompatiblefiletype offset rtp+=~/.vim/bundle/Vundle.vimcall vundle#begin()Plugin &#x27;VundleVim/Vundle.vim&#x27;Plugin &#x27;The-NERD-Tree&#x27;Plugin &#x27;gdbmgr&#x27;Plugin &#x27;mbbill/undotree&#x27;Plugin &#x27;majutsushi/tagbar&#x27;Plugin &#x27;vim-airline/vim-airline&#x27; &quot; çŠ¶æ€æ Plugin &#x27;vim-airline/vim-airline-themes&#x27; &quot;çŠ¶æ€æ Plugin &#x27;cohlin/vim-colorschemes&#x27; &quot; ä¸»é¢˜Plugin &#x27;tomasr/molokai&#x27; &quot; molokaiPlugin &#x27;jiangmiao/auto-pairs&#x27; &quot; æ‹¬å·è¡¥å…¨Plugin &#x27;plasticboy/vim-markdown&#x27;Plugin &#x27;iamcco/mathjax-support-for-mkdp&#x27; &quot; æ•°å­¦å…¬å¼Plugin &#x27;iamcco/markdown-preview.vim&#x27; &quot; markdowné¢„è§ˆPlugin &#x27;Valloric/YouCompleteMe&#x27;Plugin &#x27;zxqfl/tabnine-vim&#x27;Plugin &#x27;w0rp/ale&#x27; &quot; è¯­æ³•çº é”™Plugin &#x27;octol/vim-cpp-enhanced-highlight&#x27; &quot; c++è¯­æ³•é«˜äº®Plugin &#x27;Shougo/echodoc.vim&#x27; &quot; c++å‡½æ•°æç¤ºPlugin &#x27;Chiel92/vim-autoformat&#x27; &quot; c++ä»£ç æ ¼å¼åŒ–Plugin &#x27;scrooloose/nerdcommenter&#x27; &quot; c++ä»£ç æ³¨é‡ŠPlugin &#x27;ashfinal/vim-colors-violet&#x27; &quot; é…è‰²Plugin &#x27;terryma/vim-multiple-cursors&#x27; &quot; vim å¤šè¡Œç¼–è¾‘Plugin &#x27;mhinz/vim-startify&#x27;call vundle#end()filetype plugin indent on è¿™é‡Œçš„Plugin â€œâ€¦â€æŒ‡çš„æ˜¯ä½¿ç”¨å•¥å•¥å•¥æ’ä»¶çš„æ„æ€ã€‚ vimåŸºç¡€æ“ä½œ ä¸‹é¢æˆ‘ä»¬è¿›å…¥åˆ°æœ€æ ¸å¿ƒçš„åœ°æ–¹ï¼Œvimçš„å¿«æ·æ“ä½œ vim åŸºæœ¬ç§»åŠ¨æ“ä½œåŸºæœ¬è·³è½¬ jkhlåˆ†åˆ«å¯¹åº”äº†ä¸Šä¸‹å·¦å³ å­—ç¬¦ä¸²è·³è½¬ bæ˜¯å‘å‰è·³è½¬ä¸€ä¸ªå•è¯ï¼Œwæ˜¯å‘åè·³è½¬ä¸€ä¸ªå•è¯ è¡Œå†…è·³è½¬ $è·³è½¬åˆ°è¡Œæœ«,Aè·³è½¬åˆ°è¡Œæœ«å¹¶è¾“å…¥,0è·³è½¬åˆ°è¡Œé¦–,^è·³è½¬åˆ°è¡Œé¦–éç©ºå­—ç¬¦,Iè·³è½¬åˆ°è¡Œé¦–éç©ºå­—ç¬¦å¹¶è¾“å…¥ f+aè·³è½¬åˆ°åé¢çš„ç¬¬ä¸€ä¸ªa, F+aè·³è½¬åˆ°å‰é¢ç¬¬ä¸€ä¸ªa è¡Œé—´è·³è½¬ ggåˆ°é¦–è¡Œï¼ŒGåˆ°å°¾è¡Œ, :100åˆ°100è¡Œ Håˆ°å±å¹•é¡¶ï¼ŒMåˆ°å±å¹•ä¸­ï¼ŒLåˆ°å±å¹•åº• å±å¹•è·³è½¬ zzæŠŠå½“å‰è¡Œå˜ä¸ºå±å¹•æ­£ä¸­é—´ã€‚ å‘ä¸Šç§»åŠ¨ä¸€è¡Œï¼Œå‘ä¸‹ç§»åŠ¨ä¸€è¡Œ å‘ä¸Šæ•´ä¸ªå±å¹•, å‘ä¸‹æ•´ä¸ªå±å¹• æ–‡ä»¶è·³è½¬ :bnåˆ°ç¼“å†²åŒºä¸‹ä¸€ä¸ªæ–‡ä»¶ï¼Œbpåˆ°å‰ä¸€ä¸ª :A .cä¸.hæ–‡ä»¶è·³è½¬ :IH åˆ°å…‰æ ‡æŒ‡å‘æ–‡ä»¶ vim å¤šè¡Œæ“ä½œç”¨æ’ä»¶ä¼šå¡ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥, ç§»åŠ¨,I,å†™,ESC æŒ‡ä»¤10,20s&#x2F;^&#x2F;#&#x2F;g vim é«˜è´¨é‡è·³è½¬ % è·³è½¬æ‹¬å· vim é«˜è´¨é‡ç»„åˆæ“ä½œ c åˆ é™¤å½“å‰å­—ç¬¦å¹¶æ’å…¥ caw change a wordåˆ é™¤å½“å‰å•è¯å¹¶æ’å…¥ 1234onetwothreefour æ¸´æœ›å˜æˆ 1one,two,three,four å…ˆå®šä½åˆ°oneçš„oï¼Œç„¶å è¿›å…¥åˆ—é€‰æ‹©ï¼Œ3jå°†åˆ—é€‰æ‹©å…‰æ ‡ç§»åŠ¨åˆ°fourçš„f,$å°†å…‰æ ‡ç§»åŠ¨åˆ°å°¾éƒ¨ï¼ŒAè¿›å…¥æ’å…¥æ¨¡å¼ï¼Œ,æ·»åŠ é€—å·ï¼ŒEscä½œç”¨ä¸æ‰€æœ‰åˆ—ï¼ŒVè¿›å…¥å—é€‰æ‹©ï¼Œ3jå®šä½åˆ°four,Jå°†è¡Œåˆå¹¶ï¼Œç»“æŸäº†ã€‚","categories":[{"name":"Others","slug":"Others","permalink":"http://fightinggg.github.io/indigo/categories/Others/"}],"tags":[]},{"title":"heap","slug":"æ•°æ®ç»“æ„/heap/index","date":"2020-03-03T09:02:14.000Z","updated":"2020-03-03T09:02:14.000Z","comments":true,"path":"Q6M13Q.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q6M13Q.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ€»è§ˆè¿™ç¯‡åšå®¢å°†ç”¨äºæ•´ç†å„ç§å †çš„æ•°æ®ç»“æ„ä»£ç ä»¥åŠå¤æ‚åº¦è¯æ˜: äºŒå‰å †ã€äºŒé¡¹å †ã€æ–æ³¢æ‹‰å¥‘å †ã€é…å¯¹å †ã€å·¦åæ ‘ã€æ–œå †ã€bordalé˜Ÿåˆ—ã€Bå † æ³¨æ„ å…¨éƒ¨ä»£ç å•å¯¹è±¡æµ‹è¯•é€šè¿‡ï¼Œéƒ¨åˆ†ä»£ç æœªå®ç°æ‹·è´æ„é€ å‡½æ•°è¾¾åˆ°æ·±æ‹·è´ã€‚ heapå †æ˜¯ä¸€ç§éå¸¸é‡è¦çš„æ•°æ®ç»“æ„ï¼Œåœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œå †ä¸€èˆ¬æŒ‡å †æ˜¯æ ¹èŠ‚ç‚¹æ¯”å­å­™åä»£éƒ½è¦å¤§(å°)çš„ä¸€ç§æ•°æ®ç»“æ„ã€‚ é¡¹ç›®åœ°å€é“¾æ¥ å‰ç½®æ¡ä»¶åŸºæœ¬æ•°æ®ç»“æ„ï¼šå˜é•¿æ•°ç»„ã€æ ˆã€é˜Ÿåˆ—ã€å­—ç¬¦ä¸²çš„å®ç°(æ­¤æ—¶æš‚æœªå®ç°ï¼Œä½¿ç”¨STLä»£æ›¿ï¼Œåé¢æœ‰æ—¶é—´ä¼šè‡ªå·±å®ç°)å†…å­˜æ± æœºåˆ¶ { post_link åŠ¿èƒ½åˆ†æ} åŸºç±»è®¾è®¡åœ¨è¿™é‡Œæˆ‘ä»¬æš‚ä¸”åªè®¾ç½®ä¸‰ä¸ªæ¥å£ï¼Œå¦‚æœä¸å¤Ÿï¼Œæˆ‘ä»¬å†è¡¥å……ã€‚ heapä»£ç  binary heapäºŒå‰å †ï¼Œå°±æ˜¯æˆ‘ä»¬å¸¸è§çš„å †ï¼Œä¹Ÿæ˜¯å¤§å¤šæ•°äººå¸¸ç”¨çš„å †ï¼ŒäºŒå‰å †æ˜¯ä¸€ä¸ªå®Œå…¨äºŒå‰æ ‘ï¼Œæ»¡è¶³æ ¹èŠ‚ç‚¹çš„å€¼å¤§äºï¼ˆå°äºï¼‰å­å­™çš„å€¼ã€‚æˆ‘ä»¬è®¾è®¡ä»–çš„æ—¶å€™ï¼Œé‡‡å–ä¸‹æ ‡ä»1å¼€å§‹çš„æ•°ç»„æ¥ç›´æ¥æ¨¡æ‹Ÿï¼Œä½¿ç”¨i,2i,2i+1ä¹‹é—´çš„å…³ç³»æ¥å®Œæˆè¾¹çš„æ„å»ºã€‚ pushæˆ‘ä»¬å°†æ•°æ”¾å…¥æ•°ç»„å°¾éƒ¨ï¼Œå¹¶ä¸æ–­ä¸Šæµ®å³å¯ã€‚ç»†èŠ‚ç¨å¾®æ¨ä¸€ä¸‹å°±å‡ºæ¥äº†ã€‚æ¯ä¸ªå…ƒç´ æœ€å¤šä¸Šæµ®å †çš„é«˜åº¦æ¬¡ï¼Œå¤æ‚åº¦$O(lgn)$ popæˆ‘ä»¬ç›´æ¥åˆ æ‰ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶è®©æœ€åä¸€ä¸ªå…ƒç´ é¡¶æ›¿ä»–ï¼Œç„¶åä¸‹æ²‰å³å¯ã€‚è¿™é‡Œä¸ªç»†èŠ‚ä¹Ÿæ˜¯ç¨å¾®æ¨ä¸€ä¸‹å°±å‡ºæ¥äº†ã€‚æ¯ä¸ªå…ƒç´ æœ€å¤šä¸‹æ²‰å †çš„é«˜åº¦æ¬¡,å¤æ‚åº¦$O(lgn)$ topå°±æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ ,å¤æ‚åº¦$O(1)$ ä»£ç å¦‚ä¸‹: binary heapä»£ç  binomial heapäºŒé¡¹å †ï¼Œæ˜¯ä¸€ä¸ªå †æ£®æ—ï¼Œå…¶ä¸­æ¯ä¸ªå †ä»¥åŠå„è‡ªçš„å­å †çš„å…ƒç´ ä¸ªæ•°éƒ½æ˜¯2çš„å¹‚ï¼Œå¹¶ä¸”æ£®æ—ä¸­æ²¡æœ‰ä¸¤ä¸ªå †å…ƒç´ ä¸ªæ•°ç›¸åŒçš„å †ã€‚ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼Œä¸€ä¸ªåŒ…å«äº†6ä¸ªå…ƒç´ çš„äºŒé¡¹å †ï¼Œè¿™ä¸ªå †æ£®æ—ä¸­ä¸€å®šæ˜¯ä¸¤ä¸ªå †ç»„æˆï¼Œå› ä¸º6&#x3D;2+4ï¼Œä»–ä¸èƒ½æ˜¯6&#x3D;2+2+2ç”±ä¸‰ä¸ªå †ç»„æˆï¼Œå› ä¸ºæ£®æ—ä¸­ä¸å…è®¸å‡ºç°å…ƒç´ ç›¸åŒçš„å †ã€‚ å †çš„å…·ä½“å½¢çŠ¶*** å›¾ç‰‡æºäºwiki*** merge äºŒé¡¹å †å¤©ç„¶æ”¯æŒåˆå¹¶ï¼Œå³å¯å¹¶å †ï¼Œå½“åˆå¹¶çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“å‘ç°ï¼Œåªè¦å°†æ£®æ—åˆå¹¶å³å¯,è€Œå¯¹äºå“ªäº›å‡ºç°çš„å…ƒç´ ä¸ªæ•°ç›¸åŒçš„å †ï¼Œæˆ‘ä»¬å¯ä»¥ä¸¤ä¸¤åˆå¹¶ï¼Œè®©å…¶ä¸­ä¸€ä¸ªä½œä¸ºå¦ä¸€ä¸ªçš„æ ¹çš„ç›´æ¥å„¿å­å³å¯ã€‚æ¯æ¬¡åˆå¹¶çš„æ—¶å€™ï¼Œä¸¤ä¸¤åˆå¹¶çš„å¤æ‚åº¦æ˜¯$O(1)$,æœ€å¤šåˆå¹¶çš„æ¬¡æ•°ç­‰äºæ£®æ—ä¸­å…ƒç´ çš„ä¸ªæ•°å‡1ï¼Œè€Œæ£®æ—ä¸­å †çš„ä¸ªæ•°ç­‰äºäºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•°ï¼Œè¿™ä¸ªæ˜¯O(lgn)çº§åˆ«çš„ï¼Œæ‰€ä»¥æ€»ä½“å¤æ‚åº¦O(lgn) push å¯ä»¥çœ‹ä½œä¸ä¸€ä¸ªåªåŒ…å«äº†ä¸€ä¸ªå…ƒç´ çš„å †åˆå¹¶,æ¯æ¬¡pushï¼Œæœ€åçš„æƒ…å†µä¸‹æ—¶é—´å¤æ‚åº¦ä¸º$O(lgn)$,ä½†æ˜¯å¤šæ¬¡è¿ç»­çš„pushï¼Œå‡æ‘Šæ—¶é—´å¤æ‚åº¦å°±ä¸ä¸€æ ·äº†ï¼Œæˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹næ¬¡è¿ç»­pushçš„æƒ…å†µï¼Œæ£®æ—ä¸­çš„å †ä¸¤ä¸¤åˆå¹¶çš„æ¬¡æ•°ç­‰äºæ—¶é—´å¤æ‚åº¦ï¼Œå®šä¹‰å‡½æ•°$f(x)$,è¡¨ç¤ºåœ¨æ£®æ—ä¸­æ‰€æœ‰å †ä¸­çš„å…ƒç´ ä¸ªæ•°çš„æ€»å’Œä¸º$x$çš„æƒ…å†µä¸‹ï¼Œpushä¸€ä¸ªå€¼ä»¥åï¼Œå †ä¸­åˆå¹¶å‘ç”Ÿçš„æ¬¡æ•°ï¼Œæ˜¾ç„¶$f(x)&#x3D;$xçš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­æœ«å°¾è¿ç»­çš„1çš„ä¸ªæ•°ï¼Œä¸éš¾å‘ç°$f(x)&gt;&#x3D;1$çš„æ—¶å€™$x%2&#x3D;1$,$f(x)&gt;&#x3D;2$çš„æ—¶å€™$x%4&#x3D;3$,$f(x)&gt;&#x3D;3$çš„æ—¶å€™$x%8&#x3D;7$è¿™é‡Œæˆ‘ä»¬é€šè¿‡è®¡æ•°åŸç†æ¨ç®—å‡º$$\\begin{aligned}\\sum_{i&#x3D;1}^n{f(i)}&#x3D;\\lfloor\\frac{x+1}{2}\\rfloor+\\lfloor\\frac{x+1}{4}\\rfloor+\\lfloor\\frac{x+1}{8}\\rfloor+â€¦+\\lt x+1\\end{aligned}$$æ‰€ä»¥åœ¨å¤§é‡è¿ç»­çš„pushè¿‡ç¨‹ä¸­ï¼Œå‡æ‘Šæ—¶é—´å¤æ‚åº¦ä¸ºO(1) pop å…ˆéå†å„ä¸ªæ ¹ï¼Œæ‰¾å‡ºæœ€å€¼ï¼Œä¸éš¾å‘ç°ï¼Œæ£®æ—ä¸­ï¼Œä»»æ„ä¸€ä¸ªå †å»æ‰æ ¹ä»¥åï¼Œæ°å¥½ä¹Ÿæ˜¯ä¸€ä¸ªæ»¡è¶³æ¡ä»¶æ£®æ—ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥ç”¨åˆå¹¶å¤„ç†,æ—¶é—´å¤æ‚åº¦$O(lgn)$ top éå†æ‰€æœ‰å †å³å¯ï¼Œæ—¶é—´å¤æ‚åº¦O(lgn) ç¨‹åºè®¾è®¡å¾ˆå¤šäººè¯´ç”¨é“¾è¡¨å®ç°é“¾æ¥ï¼Œè¿™ç¡®å®æ˜¯ä¸€ä¸ªå¥½æ–¹æ³•ï¼Œä½†æ˜¯å¦‚æœç”¨å•é“¾è¡¨æˆ–å¾ªç¯é“¾è¡¨æˆ–åŒå‘é“¾è¡¨å®ç°ï¼Œåˆ™æœ‰å¾ˆå¤šå±€é™æ€§ï¼Œä¸‹é¢ä»£ç ä¸­ä¹ŸæåŠäº†ã€‚æˆ‘è¿™é‡Œé‡‡å–çš„æ˜¯ä½¿ç”¨æ•°ç»„å­˜æ£®æ—ï¼Œä½¿ç”¨å·¦å„¿å­å³å…„å¼Ÿçš„æ‰‹æ®µï¼Œå°†å¤šå‰æ ‘ç”¨äºŒå‰æ ‘æ¥è¡¨ç¤ºã€‚è¿™ä¸ªæ–¹æ³•éå¸¸æ£’ã€‚ ä»£ç  binary heapä»£ç  fibonacci heap æ–æ³¢æ‹‰å¥‘å †ï¼Œæ˜¯ç›®å‰ç†è®ºä¸Šæœ€å¼ºå¤§çš„å †ï¼Œä»–å’ŒäºŒé¡¹å †å¾ˆé•¿å¾—å¾ˆç›¸ä¼¼ã€‚å’ŒäºŒé¡¹å †ä¸€æ ·ï¼Œæ–æ³¢æ‹‰å¥‘å †ä¹Ÿæ˜¯ä¸€ä¸ªå †æ£®æ—ï¼Œæ–æ³¢æ‹‰å¥‘å †ç®€åŒ–äº†å‡ ä¹æ‰€æœ‰çš„å †æ“ä½œä¸ºæ‡’æƒ°æ€§æ“ä½œï¼Œè¿™æå¤§çš„æå‡äº†å¾ˆå¤šæ“ä½œçš„æ—¶é—´å¤æ‚åº¦ã€‚ potential method å¯¹äºä¸€ä¸ªæ–æ³¢æ‹‰å¥‘å †$H$,æˆ‘ä»¬å®šä¹‰åŠ¿èƒ½å‡½æ•°ä¸º$\\Phi(H) &#x3D; t(H) + 2m(H)$, å…¶ä¸­$t(H)$æ˜¯æ–æ³¢æ‹‰å¥‘å †$H$çš„æ£®æ—ä¸­å †çš„ä¸ªæ•°,$m(H)$æ˜¯æ–æ³¢æ‹‰å¥‘å †ä¸­è¢«æ ‡è®°çš„ç‚¹çš„æ•°é‡ã€‚ push å½“æˆ‘ä»¬å‘ä¸€ä¸ªæ–æ³¢æ‹‰å¥‘å †ä¸­æ·»åŠ å…ƒç´ çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šé€‰æ‹©å°†è¿™ä¸ªå…ƒç´ åšæˆä¸€ä¸ªå †ï¼Œç„¶åé“¾å…¥æ£®æ—çš„æ ¹é›†å’Œï¼Œå¸¸å¸¸é€‰æ‹©é“¾è¡¨ç»´æŠ¤æ ¹é›†åˆï¼ŒåŒæ—¶æ›´æ–°æ–æ³¢æ‹‰å¥‘å †ä¸­æœ€å°å€¼çš„æŒ‡é’ˆï¼Œå®é™…æ—¶é—´å¤æ‚åº¦æ˜¾ç„¶æ˜¯$O(1)$ï¼ŒåŠ¿èƒ½å˜åŒ–ä¸º1ï¼Œå› ä¸ºå †çš„ä¸ªæ•°å˜å¤§äº†1ï¼Œå‡æ‘Šå¤æ‚åº¦ä¸º$O(1)+1&#x3D;O(1)$ merge å½“æˆ‘ä»¬åˆå¹¶ä¸¤ä¸ªæ–æ³¢æ‹‰å¥‘å †çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ˜¯æ‡’æƒ°æ“ä½œï¼Œç›´æ¥å°†è¿™ä¸¤ä¸ªå †æ£®æ—çš„æ ¹é›†åˆå¹¶ä¸ºä¸€ä¸ªæ ¹é›†ï¼Œå¸¸å¸¸é€‰æ‹©é“¾è¡¨æ¥ç»´æŠ¤æ ¹é›†åˆ,åŒæ—¶æ›´æ–°æ–°çš„æœ€å°å€¼æŒ‡é’ˆï¼Œå®é™…å®é™…å¤æ‚åº¦ä¸º$O(1)$,åŠ¿èƒ½æ— å˜åŒ–ï¼Œå‡æ‘Šå¤æ‚åº¦ä¸º$O(1)$ top $O(1)$ decrease å½“æˆ‘ä»¬æƒ³è¦å‡å°ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼å †æ—¶å€™ï¼Œæˆ‘ä»¬ç›´æ¥å°†ä»–å’Œçˆ¶äº²æ–­å¼€ï¼Œç„¶åå°†ä»–é“¾å…¥æ£®æ—å¹¶å‡å°å€¼ï¼Œç„¶åæ ‡è®°çˆ¶äº²ï¼Œå¦‚æœçˆ¶äº²è¢«æ ‡è®°è¿‡ä¸€æ¬¡ï¼Œåˆ™å°†çˆ¶äº²å’Œçˆ·çˆ·ä¹Ÿæ–­å¼€å¹¶é“¾å…¥æ£®æ—ï¼Œå¹¶æ¸…é™¤æ ‡è®°ï¼Œä¸€ç›´é€’å½’ä¸‹å»ï¼Œè¿™é‡Œæˆ‘ä»¬ä¸è¦å¤ªè®¤çœŸï¼ŒåŠ ä¸Šè¿™æ¡è·¯ä¸Šä¸€ä¸ªæœ‰$c$ä¸ªï¼Œåˆ™æˆ‘ä»¬ä¸€å…±æ–­å¼€äº†cæ¬¡ï¼Œå®é™…å¤æ‚åº¦ä¸º$O(c)$,åŠ¿èƒ½çš„ç¬¬ä¸€é¡¹å˜ä¸ºäº†$t(H)+c$ï¼Œç¬¬äºŒé¡¹å˜ä¸ºäº†$2(m(H)-c)$,äºæ˜¯åŠ¿èƒ½çš„å˜åŒ–ä¸º$c-2c&#x3D;-c$,äºæ˜¯å‡æ‘Šå¤æ‚åº¦ä¸º$O(c)-c$,è¿™é‡Œæœ¬æ¥å¹¶ä¸ç­‰äº$O(1)$,ä½†æ˜¯æˆ‘ä»¬å¯ä»¥å¢å¤§åŠ¿çš„å•ä½åˆ°å’Œè¿™é‡Œçš„$O(c)$åŒçº§ï¼Œè¿™æ ·å°±å¾—åˆ°äº†$O(1)$ erase å½“æˆ‘ä»¬æƒ³è¦åˆ é™¤ä¸€ä¸ªèŠ‚ç‚¹çš„æ—¶å€™,å…ˆå°†å…¶è®¾ä¸ºæ— ç©·å°ï¼Œç„¶ååœ¨è°ƒç”¨pop pop å‰é¢å·äº†å¾ˆå¤šæ‡’ï¼Œå¯¼è‡´é™¤äº†eraseä»¥å¤–ï¼Œå…¶ä»–æ“ä½œçš„å‡æ‘Šå¤æ‚åº¦å‡ä¸º$O(1)$,è¿™é‡Œå°±è¦å¥½å¥½åœ°æ“ä½œäº†ï¼Œæˆ‘ä»¬æ˜¯è¿™æ ·æ¥æ“ä½œçš„ï¼Œåˆ æ‰æœ€å°å€¼ä»¥åï¼Œå°†ä»–çš„å„¿å­éƒ½é“¾å…¥æ£®æ—ï¼Œè¿™é‡ŒèŠ±è´¹äº†$O(D(H))$çš„å®é™…ä»£ä»·ï¼Œè¿™é‡Œçš„$D(H)$æŒ‡çš„æ˜¯æ–æ³¢æ‹‰å¥‘å †$H$ä¸­å †çš„æœ€å¤§åº¦æ•°ã€‚ç„¶åæˆ‘ä»¬æ›´æ–°topçš„æ—¶å€™ï¼Œä¸å¾—ä¸éå†æ‰€æœ‰çš„æ ¹ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±é¡ºä¾¿è°ƒæ•´ä¸€ä¸‹å †ã€‚æˆ‘ä»¬éå†æ‰€æœ‰çš„æ ¹ï¼Œä¾æ¬¡å¯¹æ£®æ—ä¸­æ‰€æœ‰çš„å †è¿›è¡Œåˆå¹¶ï¼Œç›´åˆ°æ²¡æœ‰ä»»æ„ä¸¤ä¸ªå †çš„åº¦æ•°ç›¸åŒï¼Œå‡è®¾æœ€åæˆ‘ä»¬å¾—åˆ°äº†æ•°æ®ç»“æ„$Hâ€™$ï¼Œé‚£ä¹ˆè¿™ä¸ªè¿‡ç¨‹æ˜¯$O(t(H)-t(Hâ€™))$çš„ï¼Œäºæ˜¯æ—¶é—´å¤æ‚åº¦ä¸º$O(t(H)-t(Hâ€™))+O(D(H))$,ç„¶åæˆ‘ä»¬è§‚å¯Ÿå †çš„åŠ¿èƒ½å˜åŒ–ï¼Œæ˜¾ç„¶ç¬¬ä¸€é¡¹çš„å˜åŒ–é‡ä¸º$t(Hâ€™)-t(H)$,ç¬¬äºŒé¡¹æ— å˜åŒ–ï¼Œå³åŠ¿èƒ½æ€»å˜åŒ–ä¸º$t(Hâ€™)-t(H)$,åˆ™å‡æ‘Šå¤æ‚åº¦ä¸º$O(t(H)-t(Hâ€™))+O(D(H))+(t(Hâ€™)-t(H))$,è¿™é‡Œä¾ç„¶ä¸ä¸€å®šç­‰äº$O(D(H))$,ä½†æ˜¯æˆ‘ä»¬ä¾ç„¶å¯ä»¥å¢å¤§åŠ¿çš„å•ä½åˆ°èƒ½å¤Ÿå’Œ$O(t(H)-t(Hâ€™))$æŠµæ¶ˆï¼Œæœ€ç»ˆï¼Œå‡æ‘Šå¤æ‚åº¦æˆäº†$O(D(H))$ D(H) ç°åœ¨æˆ‘ä»¬è¿›å…¥æœ€é«˜æ½®çš„åœ°æ–¹ã€‚æˆ‘ä»¬è€ƒè™‘æ–æ³¢æ‹‰å¥‘å †ä¸­ä¸€ä¸ªåº¦æ•°ä¸ºkçš„å †ï¼Œè‹¥ä¸è€ƒè™‘ä¸¢å¤±å„¿å­è¿™ç§æƒ…å†µå‘ç”Ÿï¼Œæˆ‘ä»¬å¯¹ä»–çš„å„¿å­æŒ‰ç…§å„¿å­çš„åº¦æ•°è¿›è¡Œæ’åºï¼Œæ˜¾ç„¶ç¬¬iä¸ªå„¿å­çš„åº¦æ•°ä¸ºi-1,$i&#x3D;1,2,3â€¦k$,æ­¤æ—¶è€ƒè™‘å„¿å­ä»¬ä¼šä¸¢æ‰è‡ªå·±çš„å„¿å­ï¼Œåˆ™æœ‰ç¬¬iä¸ªå„¿å­çš„åº¦æ•°$\\ge i-2$,åœ¨è€ƒè™‘ä»–è‡ªå·±ä¹Ÿä¼šä¸¢å¤±å„¿å­ï¼Œä½†è¿™ä¸ä¼šå½±å“åˆ°ç¬¬iä¸ªå„¿å­çš„åº¦æ•°$\\ge i-2$è¿™ä¸ªç»“è®ºã€‚ æ–æ³¢æ‹‰å¥‘æ•°åˆ—$$\\begin{aligned}F_i &#x3D;\\left{\\begin{aligned}&amp;0&amp;i&#x3D;0\\&amp;1&amp;i&#x3D;1\\&amp;F_{i-2}+F_{i-1]}&amp;i\\ge 2\\\\end{aligned}\\right.\\end{aligned}$$ æ–æ³¢æ‹‰å¥‘æ•°åˆ—çš„ä¸¤ä¸ªç»“è®º$F_{n+2}&#x3D;1+\\sum_{i&#x3D;1}^nF_i$$F_{n+2}\\ge \\phi^n,\\phi^2&#x3D;\\phi+1,\\phiå¤§çº¦å–1.618$ æ¯”æ–æ³¢æ‹‰å¥‘æ•°æ›´å¤§ å®¹æ˜“ç”¨æ•°å­¦å½’çº³æ³•è¯æ˜å¯¹äºä¸€ä¸ªåº¦æ•°ä¸ºkçš„å †ï¼Œä»–é‡Œé¢çš„èŠ‚ç‚¹çš„ä¸ªæ•°$\\ge F_{k+2}$,è¿™é‡Œ$F_{i}$æ˜¯æ–æ³¢æ‹‰å¥‘æ•°åˆ—çš„ç¬¬ié¡¹ã€‚ å½“k&#x3D;0çš„æ—¶å€™ï¼ŒèŠ‚ç‚¹æ•°æ•°ç›®ä¸º1ï¼Œå¤§äºç­‰äº1 å½“k&#x3D;1çš„æ—¶å€™ï¼ŒèŠ‚ç‚¹æ•°æ•°ç›®è‡³å°‘ä¸º2ï¼Œå¤§äºç­‰äº2 è‹¥$k\\le k_0$çš„æ—¶å€™æˆç«‹ï¼Œ åˆ™å½“$k&#x3D;k_0+1$çš„æ—¶å€™ï¼ŒèŠ‚ç‚¹æ•°ç›®è‡³å°‘ä¸º$1+F_1+F_2+â€¦+F_{k_0+1}&#x3D;F_{k_0+3}&#x3D;F_{k+2}$ æ¯”é»„é‡‘åˆ†å‰²å€¼çš„å¹‚æ›´å¤§ ç°åœ¨æˆ‘ä»¬å°±èƒ½å¤Ÿå¾—åˆ°ä¸€ä¸ªç»“æœäº†ï¼Œä¸€ä¸ªåº¦æ•°ä¸ºkçš„å †ï¼Œä»–çš„èŠ‚ç‚¹ä¸ªæ•°è‡³å°‘ä¸º$\\Phi^k$,è¿™é‡Œæˆ‘ä»¬å¾ˆå®¹æ˜“å°±èƒ½å¾—åˆ°è¿™æ ·ä¸€ä¸ªç»“æœï¼Œ$D(H)\\le \\log_\\Phi æœ€å¤§çš„å †å†…å…ƒç´ çš„ä¸ªæ•°$ ç»“å°¾ è‡³æ­¤æˆ‘ä»¬å·²ç»å…¨éƒ¨è¯æ˜å®Œæˆï¼Œè¯»è€…ä¹Ÿåº”è¯¥çŸ¥é“ä¸ºä»€ä¹ˆæ–æ³¢æ‹‰å¥‘å †è¦å«è¿™ä¸ªåå­—ã€‚ fibonacci heap ä»£ç  fibonacci heapä»£ç  pairing heapé…å¯¹å †ï¼Œåå­—æ¥æºäºå…¶ä¸­çš„ä¸€ä¸ªåŒ¹é…æ“ä½œã€‚å¾ˆæœ‰è¶£ï¼Œä»–çš„å®šä¹‰å°±æ˜¯ä¸€ä¸ªæ™®é€šå¤šå‰å †ï¼Œä½†ä½¿ç”¨ç‰¹æ®Šçš„åˆ é™¤æ–¹å¼æ¥é¿å…å¤æ‚åº¦é€€åŒ–ã€‚æ˜¯ç»§Michael L. Fredmanå’ŒRobert E.Tarjanå‘æ˜æ–æ³¢æ‹‰å¥‘å †ä»¥åï¼Œç”±äºè¯¥æ•°æ®ç»“æ„å®ç°éš¾åº¦é«˜ä»¥åŠä¸å¦‚ç†è®ºä¸Šé‚£ä¹ˆæœ‰æ•ˆç‡ï¼ŒFredmaã€Sedgewickã€Sleatorå’ŒTarjanä¸€èµ·å‘æ˜çš„ã€‚ potential method æˆ‘ä»¬æœ‰ä¸€ä¸ªé…å¯¹å †$H$,å…¶ä¸­æœ‰nèŠ‚ç‚¹$node$,$node_i$æœ‰$d_i$ä¸ªå„¿å­, åˆ™æœ‰ $F(H) &#x3D; \\sum F(node)$, $F(node_i)&#x3D;1-min(d_i,\\sqrt{n})$ å¤æ‚åº¦è¯æ˜æ–¹é¢ï¼Œç­‰æˆ‘æŠŠè®ºæ–‡çœ‹å®Œå†æ¥æ•´è¿™ä¸ªï¼Œæ„Ÿè§‰è¯æ˜æ¯”æ–æ³¢æ‹‰å¥‘å †æ›´å¤æ‚ã€‚ mergeåˆå¹¶çš„æ—¶å€™ï¼Œè®©æ¬¡å¤§å †åšæœ€å¤§å †çš„å„¿å­,æ˜¾ç„¶æ—¶é—´å¤æ‚åº¦$O(1)$ pushæ’å…¥çš„æ—¶å€™ï¼Œçœ‹ä½œä¸åªåŒ…å«äº†ä¸€ä¸ªå…ƒç´ çš„å †åˆå¹¶,æ‰€ä»¥$O(1)$ topå°±æ˜¯æ ¹ $O(1)$ popå½“æˆ‘ä»¬åˆ é™¤æ ¹ä»¥åï¼Œä¼šå½¢æˆä¸€ä¸ªå †æ£®æ—ï¼Œè¿™æ—¶æˆ‘ä»¬ä»å·¦åˆ°å³ï¼Œæ¯ä¸¤ä¸ªè¿ç»­çš„å †é…å¯¹åˆå¹¶ä¸€æ¬¡ï¼Œç„¶åä»å³åˆ°å·¦ä¾æ¬¡åˆå¹¶ã€‚æ¯”æ–¹è¯´æœ‰è¿™æ ·ä¸€ä¸ªæƒ…å†µAABBCCDDEEFFGGH,æˆ‘ä»¬å…ˆå°†å…¶ä»å·¦åˆ°å³åˆå¹¶AA-&gt;A,BB-&gt;Bâ€¦å¾—åˆ°ABCDEFGï¼Œ-&gt;ABCDEH -&gt; ABCDI -&gt; ABCJ -&gt; ABK -&gt; AL -&gt; M ç¨‹åºè®¾è®¡ åŒæ ·çš„å·¦å„¿å­å³å…„å¼Ÿ ä»£ç  pairing heapä»£ç  leftist heap å·¦åæ ‘ã€å·¦å¼å †ã€å·¦ç¿¼å †æ˜¯ä¸€ä¸ªå †ï¼Œé™¤æ­¤ä»¥å¤–ï¼Œä»–å®šä¹‰äº†è·ç¦»ï¼Œæ²¡æœ‰å³å­èŠ‚ç‚¹çš„èŠ‚ç‚¹çš„è·ç¦»ä¸º0ï¼Œå…¶ä»–èŠ‚ç‚¹çš„è·ç¦»ä¸ºå³å­èŠ‚ç‚¹çš„è·ç¦»åŠ 1ï¼Œåœ¨è¿™ä¸ªå®šä¹‰ä¸‹ï¼Œå·¦åæ ‘çš„å·¦åä½“ç°ç€æ¯ä¸ªèŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹çš„è·ç¦»ä¸å°äºå³å­èŠ‚ç‚¹çš„è·ç¦»ã€‚ push ä¸ºæ–°èŠ‚ç‚¹å»ºç«‹å †ï¼Œç„¶åä¸å †åˆå¹¶ $O(lgn)$ pop åˆ é™¤æ ¹èŠ‚ç‚¹ï¼Œåˆå¹¶å·¦å³å­æ ‘ $O(lgn)$ top æ ¹èŠ‚ç‚¹ $O(1)$ merge $O(lgn)$, å½“æˆ‘ä»¬åˆå¹¶ä¸¤ä¸ªå †$H1,H2$çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªéœ€è¦æ¯”è¾ƒè¿™ä¸¤ä¸ªå †é¡¶çš„å¤§å°ï¼Œä¸å¦¨è®¾H1å°ï¼Œå¹¶è®¾H3ã€H4ä¸ºH1çš„å·¦å³å„¿å­ï¼Œåˆ™æˆ‘ä»¬å¯ä»¥è¿™æ ·æ¥çœ‹å¾…ï¼Œæˆ‘ä»¬å°†H3,H4ä»H1ä¸­æ–­å¼€ï¼Œé€’å½’åˆå¹¶H4å’ŒH2ä½H5ï¼Œè¿™æ—¶å€™æˆ‘ä»¬è¿˜å‰©ä¸‹H3ã€H5ä»¥åŠH1çš„å †é¡¶ï¼Œæˆ‘ä»¬æ ¹æ®å·¦åæ ‘çš„å®šä¹‰ï¼Œé€‰æ‹©H3ã€H5åˆ†åˆ«ä½œä¸ºå·¦å³æˆ–å³å·¦å„¿å­å³å¯ï¼Œ å¤æ‚åº¦è¯æ˜ ç®—æ³•ä¸­æ¯æ¬¡å‡é€‰æ‹©å³å„¿å­é€’å½’å‘ä¸‹ï¼Œè¿™å¯¼è‡´æ—¶é—´å¤æ‚åº¦ä¸å³å„¿å­çš„å³å„¿å­çš„å³å„¿å­çš„â€¦æœ‰å…³ï¼Œè¿™é‡Œä¸éš¾å‘ç°é€’å½’çš„æ¬¡æ•°å°±æ˜¯èŠ‚ç‚¹çš„è·ç¦»ã€‚æ ¹æ®å·¦è·ç¦»ä¸å°äºå³è·ç¦»ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“å°±èƒ½å¾—åˆ°è¿™ä¸ªè·ç¦»æ˜¯$O(lgn)$çº§åˆ«çš„ã€‚ leftist heap ä»£ç  leftist heapä»£ç  skew heap æˆ‘ä»¬çš„å·¦åæ ‘ä¸è®°å½•è·ç¦»ï¼Œå¹¶ä¸”æ¯æ¬¡é€’å½’çš„æ—¶å€™æ— æ¡ä»¶äº¤æ¢å·¦å³å„¿å­ï¼Œåˆ™æˆäº†æ–œå †ã€‚ å¤æ‚åº¦è¯æ˜potential method å®šä¹‰æ–œå †ä¸­çš„å³å­æ ‘è·ç¦»æ¯”å·¦å­æ ‘å¤§çš„èŠ‚ç‚¹ä¸ºé‡èŠ‚ç‚¹ï¼Œå¦åˆ™ä¸ºè½»èŠ‚ç‚¹ã€‚ å®šä¹‰åŠ¿èƒ½å‡½æ•°ä¸ºé‡èŠ‚ç‚¹çš„ä¸ªæ•°ã€‚ merge å½“æˆ‘ä»¬åˆå¹¶ä¸¤ä¸ªæ–œå †$H_1,H_2$çš„æ—¶å€™ï¼Œä¸å¦¨è®¾ä»–ä»¬çš„å³å­èŠ‚ç‚¹é“¾ä¸­çš„è½»é‡å„¿å­ä¸º$l_1,h_1,l_2,h_2$,åˆ™æ—¶é—´æ—¶é—´å¤æ‚åº¦ä¸º$O(l_1+h_1+l_2+h_2)$,ç»è¿‡äº¤æ¢ä»¥åï¼Œé“¾ä¸Šçš„é‡èŠ‚ç‚¹ä¸€å®šä¼šå˜æˆè½»èŠ‚ç‚¹,è½»èŠ‚ç‚¹å¯èƒ½ä¼šå˜ä¸ºé‡èŠ‚ç‚¹ï¼Œæˆ‘ä»¬å–æœ€åçš„æƒ…å†µï¼Œå³è½»èŠ‚ç‚¹å…¨éƒ¨å˜ä¸ºé‡èŠ‚ç‚¹ï¼Œè¿™æ—¶åŠ¿èƒ½çš„å˜åŒ–é‡ä¸º$l_1+l_2-h_1-h_2$,æœ€åæˆ‘ä»¬çš„å‡æ‘Šå¤æ‚åº¦ä¸º$O(l_1+h_1+l_2+h_2)+l_1+l_2-h_1-h_2$ï¼Œæˆ‘ä»¬ä¾ç„¶å¯ä»¥å¢å¤§åŠ¿çš„å•ä½ï¼Œç›´åˆ°è¶³ä»¥æŠµæ¶ˆæ‰€æœ‰çš„hï¼Œæœ€ç»ˆå‡æ‘Šå¤æ‚åº¦ä¸º$O(l_1+l_2)$,è¿™é‡Œä¸éš¾è¯æ˜ï¼Œä¸€æ¡å³å„¿å­æ„æˆçš„é“¾ä¸Šï¼Œè½»èŠ‚ç‚¹çš„ä¸ªæ•°æ˜¯å¯¹æ•°çº§åˆ«ã€‚ skew heapä»£ç  skew heapä»£ç  bordal heap è¿™é‡Œå·²ç»æ¶‰åŠåˆ°ä¸€äº›å†·é—¨çš„ä¸œè¥¿äº†ã€‚æš‚æ—¶å…ˆæ”¾ä¸€ä¸‹ B heap æ˜¯ä¸€ç§å’ŒBæ ‘ä¸€æ ·åˆ©ç”¨å†…å­˜é¡µçš„ä¸œè¥¿ã€‚å†·é—¨ï¼Œå…ˆæ”¾ä¸€ä¸‹ wikiä¸Šè¿˜æœ‰æ•°ä¸æ¸…çš„å †ï¼Œå­¦åˆ°è¿™é‡Œæš‚åœä¸€ä¸‹","categories":[{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"http://fightinggg.github.io/indigo/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"}],"tags":[]},{"title":"åŠ¿èƒ½åˆ†æ","slug":"Others/åŠ¿èƒ½åˆ†æ/index","date":"2020-02-29T12:08:47.000Z","updated":"2020-02-29T12:08:47.000Z","comments":true,"path":"Q6GPQN.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q6GPQN.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial åŠ¿èƒ½åˆ†æç®€ä»‹ åŠ¿èƒ½åˆ†ææ˜¯ä¸€ç§å¸¸ç”¨çš„æ•°æ®ç»“æ„æ—¶é—´å¤æ‚åº¦åˆ†æçš„æ‰‹æ®µï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šå®šä¹‰ä¸€ä¸ªåŠ¿èƒ½å‡½æ•°ï¼Œç”¨äºè¯„ä»·æ•°æ®ç»“æ„æŸä¸ªçŠ¶æ€çš„åŠ¿èƒ½ï¼ŒæŠŠæ¯ä¸ªæ“ä½œçš„æ—¶é—´å¤æ‚åº¦åŠ ä¸Šæ“ä½œå¯¼è‡´çš„åŠ¿èƒ½å˜åŒ–ä½œä¸ºæ‘Šè¿˜å¤æ‚åº¦ï¼Œå¦‚æœç»è¿‡äº†ä¸€ç³»åˆ—æ“ä½œä»¥åï¼ŒåŠ¿èƒ½ä¸å‡å°‘ï¼Œè¿™ä¸€ç³»åˆ—æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¹‹å’Œä¸å¤§äºè¿™ä¸€ç³»åˆ—æ“ä½œçš„æ‘Šè¿˜å¤æ‚åº¦ä¹‹å’Œã€‚ åŠ¿èƒ½åˆ†ææ›´åŠ ä¸¥è°¨çš„ç®€ä»‹ æˆ‘ä»¬å¯¹ä¸€ä¸ªåˆå§‹æ•°æ®ç»“æ„$D_0$æ‰§è¡Œ$n$ä¸ªæ“ä½œï¼Œå¯¹äºæ¯ä¸ª$i&#x3D;1,2,â€¦,n$ä»¤$C_i$ä¸ºç¬¬$i$ä¸ªæ“ä½œçš„å®é™…ä»£ä»·,ä»¤$D_i$ä¸ºåœ¨æ•°æ®ç»“æ„$D_{i-1}$ä¸Šæ‰§è¡Œç¬¬$i$ä¸ªæ“ä½œåå¾—åˆ°çš„ç»“æœæ•°æ®ç»“æ„ï¼ŒåŠ¿èƒ½å‡½æ•°$\\Phi$å°†æ¯ä¸ªæ•°æ®ç»“æ„$D_i$æ˜ å°„åˆ°ä¸€ä¸ªå®æ•°$\\Phi(D_i)$,æ­¤å€¼å³ä¸ºå…³è”åˆ°æ•°æ®ç»“æ„$D_i$çš„åŠ¿ï¼Œç¬¬$i$ä¸ªæ“ä½œçš„æ‘Šè¿˜ä»£ä»·$\\hat{C_i}&#x3D;C_i+\\Phi(D_i)-\\Phi(D_{i-1})$,åˆ™$n$ä¸ªæ“ä½œçš„æ€»æ‘Šè¿˜ä»£ä»·ä¸º$\\sum_{i&#x3D;1}^n\\hat{C_i}&#x3D;\\sum_{i&#x3D;1}^n{C_i}+\\Phi(D_n)-\\Phi(D_0)$ï¼Œå¦‚æœåŠ¿èƒ½å‡½æ•°æ»¡è¶³$\\Phi(D_n)\\ge\\Phi(D_0)$ï¼Œåˆ™æ€»æ‘Šè¿˜ä»£ä»·$\\sum_{i&#x3D;1}^n\\hat{C_i}$æ˜¯æ€»å®é™…ä»£ä»·$\\sum_{i&#x3D;1}^nC_i$çš„ä¸€ä¸ªä¸Šç•Œ åè®° ç¬”è€…åœ¨æ­¤ä¸ä¼šåšåŠ¿èƒ½åˆ†æï¼Œèƒ½è¿›è¡ŒåŠ¿èƒ½åˆ†æçš„ä¸œè¥¿å¤ªå¤šäº†ï¼Œä¾‹å¦‚splayã€pairing heapã€fibonacci heapã€link cut treeç­‰ç­‰,æˆ‘ä»¬å°†å…¶ç•™åœ¨åè¾¹çš„åšæ–‡ä¸­è¯¦ç»†ä»‹ç»ã€‚","categories":[{"name":"Others","slug":"Others","permalink":"http://fightinggg.github.io/indigo/categories/Others/"}],"tags":[]},{"title":"çŸ©é˜µçš„ç‰¹å¾å€¼ä¸ç‰¹å¾å‘é‡","slug":"Math/Matrix/çŸ©é˜µçš„ç‰¹å¾å€¼ä¸ç‰¹å¾å‘é‡/index","date":"2020-02-26T08:31:55.000Z","updated":"2020-02-26T08:31:55.000Z","comments":true,"path":"Q6AVP7.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q6AVP7.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ### çŸ©é˜µç‰¹å¾å€¼çš„ä¸ç‰¹å¾å‘é‡ è‹¥çŸ©é˜µ$A$ï¼Œåˆ—å‘é‡$X$ï¼Œå¸¸æ•°$\\lambda$æ»¡è¶³$AX=\\lambda X$,åˆ™æˆ‘ä»¬ç§°$\\lambda$æ˜¯$A$çš„ä¸€ä¸ªç‰¹å¾å€¼ï¼Œ$X$æ˜¯$A$çš„ä¸€ä¸ªç‰¹å¾å‘é‡ è§£æè§£ä¸€å…ƒé«˜æ¬¡æ–¹ç¨‹$det(X-\\lambda E)&#x3D;0$,è¿™åœ¨Xçš„é˜¶å¾ˆé«˜çš„æ—¶å€™ï¼Œå‡ ä¹æ˜¯æ— ç”¨çš„ã€‚ è¿‘ä¼¼è§£ å› ä¸ºæˆ‘ä»¬éš¾ä»¥å¾—åˆ°çŸ©é˜µç‰¹å¾å€¼çš„è§£æè§£ï¼Œæ‰€ä»¥è¿™é‡Œä½¿ç”¨è¿‘ä¼¼è§£æ¥é€¼è¿‘ã€‚ Givenå˜æ¢Givenå˜æ¢æ˜¯ä¸€ç§æ—‹è½¬å˜æ¢ï¼Œä»–çš„å˜æ¢çŸ©é˜µä¸å•ä½çŸ©é˜µç›¸æ¯”åªæœ‰å››ä¸ªå…ƒç´ ä¸ä¸€æ ·,å˜æ¢çŸ©é˜µå¦‚ä¸‹$$\\begin{aligned}\\left[\\begin{matrix} &amp;1\\&amp;&amp;.\\&amp;&amp;&amp;.\\&amp;&amp;&amp;&amp;.\\&amp;&amp;&amp;&amp;&amp;\\cos\\theta &amp;&amp;&amp;&amp;\\sin\\theta\\&amp;&amp;&amp;&amp;&amp;&amp;.\\&amp;&amp;&amp;&amp;&amp;&amp;&amp;.\\&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;.\\&amp;&amp;&amp;&amp;&amp;-\\sin\\theta &amp;&amp;&amp;&amp;\\cos\\theta\\&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;.&amp;\\&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;.&amp;\\&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;.&amp;\\&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;1&amp;\\\\end{matrix}\\right]\\end{aligned}$$ä¸éš¾è¯æ˜è¿™ä¸ªçŸ©é˜µæ˜¯æ­£äº¤çŸ©é˜µï¼Œä¸éš¾è¯æ˜å·¦ä¹˜è¿™ä¸ªå˜æ¢åªä¼šæ”¹å˜ä¸¤è¡Œ,å³ä¹˜è¿™ä¸ªçŸ©é˜µåªä¼šæ”¹å˜ä¸¤åˆ— HessenbergçŸ©é˜µæ¬¡å¯¹è§’çº¿ä¸‹æ–¹å…ƒç´ ä¸º0$$\\begin{aligned}\\left[\\begin{matrix}&amp;x&amp;x&amp;x&amp;x&amp;x\\&amp;x&amp;x&amp;x&amp;x&amp;x\\&amp;&amp;x&amp;x&amp;x&amp;x\\&amp;&amp;&amp;x&amp;x&amp;x\\&amp;&amp;&amp;&amp;x&amp;x\\\\end{matrix}\\right]\\end{aligned}$$ä»»ä½•ä¸€ä¸ªæ–¹é˜µéƒ½æœ‰ä¸Šæµ·æ£®ä¼¯æ ¼å½¢å¼çš„ç›¸ä¼¼çŸ©é˜µï¼Œ å¹‚æ³• å¹‚æ³•æ˜¯æœ€åŸºç¡€çš„ç®—æ³•ï¼Œæˆ‘ä»¬å…ˆæ¥æè¿°ä¸€ä¸‹è¿™ä¸ªè¿‡ç¨‹ æˆ‘ä»¬éšæœºé€‰æ‹©ä¸€ä¸ªåˆå§‹åˆ—å‘é‡$Y$ï¼Œå‡è®¾å®ƒèƒ½å¤Ÿè¢«çŸ©é˜µAçš„ç‰¹å¾å‘é‡çº¿æ€§ç»„åˆå‡ºæ¥ï¼Œåˆ™$$\\begin{aligned}\\lim_{N\\to\\infty}A^NY\\end{aligned}&#x3D;ä¸€ä¸ªç‰¹å¾å‘é‡$$ è¿™é‡Œä½¿ç”¨å¿«é€Ÿå¹‚ç®—æ³•å°±äºå¤§äº†å¿«é€Ÿå¹‚è¿­ä»£ä¸€æ¬¡$O(N^3)$ï¼Œæ™®é€šè¿­ä»£ä¸€æ¬¡$O(N^2)$ï¼Œæ‰€ä»¥æ™®é€šè¿­ä»£å°±è¡Œäº†ï¼Œ è¯æ˜: å¯¹äºå¤§éƒ¨åˆ†$Y$æ¥è¯´ï¼Œå¦‚æœå®ƒèƒ½å¤Ÿè¢«ç»„åˆå‡ºæ¥å³$Y&#x3D;k_1X_1+K_2X_2+K_3X_3+â€¦$ï¼Œä¸”æ»¡è¶³ç‰¹å¾å€¼æ»¡è¶³æ¡ä»¶$\\lambda_1&gt;\\lambda_2&gt;â€¦$ åˆ™æœ‰$A^NY&#x3D;k_1A^NX_1+k_2A^NX_2+â€¦&#x3D;k_1\\lambda_1^NX_1+k_2\\lambda_2^NX_2+â€¦$ï¼Œæ‰€ä»¥è¿™ä¸ªæé™æ˜¯æ˜¾ç„¶è¶‹è¿‘äºç‰¹å¾å€¼ç»å¯¹å€¼æœ€å¤§çš„ç‰¹å¾å‘é‡çš„ã€‚ æ‰€ä»¥è¿™ä¸ªç®—æ³•åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½èƒ½æˆåŠŸã€‚è€ƒè™‘åˆ°å¹‚æ³•ä¼šå¢é•¿å¾ˆå¿«ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿­ä»£è¿‡ç¨‹ä¸­å•ä½åŒ–ã€‚ åå¹‚æ³• æ±‚é€†ä»¥ååœ¨ç”¨å¹‚æ³•ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°ç‰¹å¾å€¼æœ€å°çš„ç‰¹å¾å‘é‡,è¿™å¾ˆå®¹æ˜“è¯æ˜ã€‚ jacobiè¿­ä»£æ³•åªèƒ½å¤„ç†å¯¹ç§°çŸ©é˜µ è¿™ä¸ªç®—æ³•ä½¿ç”¨ç›¸ä¼¼çŸ©é˜µï¼Œæ¯æ¬¡ä½¿ç”¨ä¸€ä¸ªGivenå˜æ¢ï¼Œè®©ç»å¯¹å€¼æœ€å¤§çš„éå¯¹è§’çº¿ä¸Šçš„å…ƒç´ å˜ä¸º0ï¼Œè¿™å¯¼è‡´äº†æ•´ä½“åŠ¿èƒ½çš„ä¸‹é™ï¼Œæœ€ç»ˆç›¸ä¼¼çŸ©é˜µçš„éå¯¹è§’çº¿å…ƒç´ ä¼šè¶‹è¿‘äº0ï¼ŒGivenå˜æ¢æ˜¯ä¸€ä¸ªç¨€ç–çŸ©é˜µï¼Œä»–å’Œå•ä½çŸ©é˜µåªæœ‰å››ä¸ªå…ƒç´ ä¸åŒï¼Œæ˜¯ä¸€ç§æ—‹è½¬çŸ©é˜µï¼ŒåŠ ä¸Šç›¸ä¼¼å˜æ¢ä»¥åï¼Œè¿™å¯¼è‡´ä»–åªä¼šæ”¹å˜ä¸¤è¡Œå’Œä¸¤åˆ—,æœ€ç»ˆæˆ‘ä»¬å°±å¾—å‡ºäº†ç‰¹å¾å€¼ã€‚ QRè¿­ä»£æ³• è¿˜æ˜¯å…ˆè¯´åšæ³•ï¼Œå†ç»™å‡ºè¯æ˜ï¼Œæ ¹æ®QRåˆ†è§£æˆ‘ä»¬æœ‰$A&#x3D;QR$ï¼Œæ„é€ $A_2 &#x3D; RQ &#x3D; Q^{-1}AQ$,æˆ‘ä»¬å°±ä¸éš¾å‘ç°$A_2$ä¸$A$ç›¸ä¼¼,æˆ‘ä»¬ç”¨åŒæ ·çš„åŠæ³•ï¼Œä»$A_1$å¾—åˆ°$A_2$,ä»$A_2$å¾—åˆ°$A_3$â€¦ä¸æ–­çš„è¿­ä»£ä¸‹å»ï¼Œæœ€ç»ˆ$A_i$å¯¹è§’çº¿ä¸€ä¸‹çš„å…ƒç´ ä¼šè¶‹è¿‘äº0ï¼Œè¿™æ˜¯ç‰¹å¾å€¼å°±ç®—å‡ºæ¥äº†.QRç®—æ³•çš„æœ¬è´¨å…¶å®è¿˜æ˜¯å¹‚æ³•ï¼Œ æˆ‘ä»¬è€ƒè™‘å¹‚æ³•çš„è¿‡ç¨‹ï¼Œä»–å¯ä»¥æ±‚å‡ºä¸€ä¸ªç‰¹å¾å‘é‡ï¼Œå¦‚æœæˆ‘ä»¬åœ¨å¹‚æ³•ç»“æŸä»¥åï¼Œå¾—åˆ°äº†$X_1$ï¼Œç„¶åæˆ‘ä»¬å†éšæœºé€‰æ‹©ä¸€ä¸ª$Y_2$,æŠŠ$Y_2$ä¸­$X_1$çš„åˆ†é‡å»æ‰ï¼Œç„¶åè¿›è¡Œå¹‚æ³•è¿­ä»£ï¼Œè¿™æ—¶å€™æˆ‘ä»¬ä¼šå¾—åˆ°ç‰¹å¾å€¼ç¬¬äºŒå¤§çš„ç‰¹å¾å‘é‡ï¼Œå› ä¸º$Y_2$å†å»æ‰$X_1$æ–¹å‘ä¸Šçš„åˆ†é‡ä»¥åï¼Œå·²ç»ä¸å†åŒ…å«$X_1$æ–¹å‘ä¸Šçš„å€¼äº†ï¼Œä¹Ÿå³$k_1$ä¸º0,è¿™æ—¶å€™å¹‚æ³•å¾—åˆ°çš„æé™æ˜¯ç¬¬äºŒå¤§ç‰¹å¾å‘é‡ï¼Œéšåæˆ‘ä»¬å¯ä»¥é¡ºåºå¾—åˆ°ç¬¬ä¸‰å¤§ã€ç¬¬å››å¤§ã€ã€ã€,è¿™æ ·å¤ªè ¢äº†ï¼Œæˆ‘ä»¬è€ƒè™‘ä¸€æ¬¡æ€§æŠŠä»–ä»¬å‘¢æ±‚å‡ºæ¥ï¼Œæˆ‘ä»¬ä¸€æ¬¡æ€§å°±é€‰æ‹©nä¸ªéšæœºå‘é‡æ„æˆçŸ©é˜µZï¼Œç„¶åç”¨Aå·¦ä¹˜å¾—åˆ°AZï¼Œç„¶åå¯¹AZä½¿ç”¨æ–¯å¯†æ–¯æ­£äº¤åŒ–å¾—åˆ°$Z_2$ï¼Œå¯ä»¥è¯æ˜$Z_n$å°†è¶‹è¿‘äºAçš„æ‰€æœ‰ç‰¹å¾å‘é‡æ„æˆçš„çŸ©é˜µã€‚è¯æ˜å¾ˆå¤šç»†èŠ‚åœ°æ–¹æ²¡æœ‰å¤„ç†ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆQRç®—æ³•ä¼šå¤±è´¥çš„åŸå› ï¼Œä½†QRç®—æ³•åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹æ˜¯èƒ½å¤ŸæˆåŠŸçš„ï¼Œ å³æˆ‘ä»¬å¾—åˆ°äº†ç®—æ³•è¿­ä»£$Y_i&#x3D;GramSchmidt(AY_{i-1})$,è¿™ä¸ªç®—æ³•å«å½’ä¸€åŒ–ç®—æ³•ï¼Œå’Œä¸Šé¢é‚£ä¸ªç®—æ³•ä¼˜ç‚¹å°åŒºåˆ«,ä½†æœ¬è´¨ä¸Šæ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯æ ‡è®°ä¸ä¸€æ ·è€Œå·²ã€‚ å¦‚æœæˆ‘ä»¬èƒ½å¤Ÿæå‰æŠŠçŸ©é˜µå˜ä¸ºä¸Šæµ·æ£®ä¼¯æ ¼å½¢å¼ï¼ŒQRç®—æ³•çš„é€Ÿåº¦å°†å¤§å¤§æé«˜ã€‚","categories":[{"name":"Math","slug":"Math","permalink":"http://fightinggg.github.io/indigo/categories/Math/"},{"name":"Matrix","slug":"Math/Matrix","permalink":"http://fightinggg.github.io/indigo/categories/Math/Matrix/"}],"tags":[]},{"title":"çŸ©é˜µåˆ†è§£","slug":"Math/Matrix/çŸ©é˜µåˆ†è§£/index","date":"2020-02-26T03:27:50.000Z","updated":"2020-02-26T03:27:50.000Z","comments":true,"path":"Q6AHME.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q6AHME.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial çŸ©é˜µçš„åˆ†è§£çŸ©é˜µçš„åˆ†è§£éå¸¸é‡è¦ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬éƒ½éœ€è¦ä½¿ç”¨åˆ°çŸ©é˜µçš„åˆ†è§£ï¼Œè¿™ä¼šç»™æˆ‘ä»¬æä¾›æå¤§çš„æ–¹ä¾¿,ç¬”è€…å­¦ä¹ è¿™ä¸€ç±»é—®é¢˜èŠ±è´¹äº†å¾ˆå¤šæ—¶é—´,æƒ³è¦çœ‹æ‡‚è¿™ä¸€ç« ï¼Œéœ€è¦å…ˆçœ‹{ post_link çŸ©é˜µçš„ç±»å‹åŠæ€§è´¨ } çŸ©é˜µçš„ç‰¹å¾å€¼åˆ†è§£è¦æ±‚$n*n$çŸ©é˜µæ‹¥æœ‰$n$ä¸ªçº¿æ€§æ— å…³çš„ç‰¹å¾å‘é‡çŸ©é˜µçš„ç‰¹å¾å€¼åˆ†è§£æŒ‡çš„æ˜¯åˆ©ç”¨ç‰¹å¾å€¼æ„é€ çš„çŸ©é˜µè¿›è¡Œåˆ†è§£ã€‚ç‰¹å¾å€¼ä¸ç‰¹å¾å‘é‡æ˜¯è¿™æ ·å®šä¹‰çš„$$\\begin{aligned}&amp;è‹¥çŸ©é˜µAï¼Œåˆ—å‘é‡Xï¼Œå¸¸æ•°\\lambdaæ»¡è¶³\\&amp;AX &#x3D; \\lambda X\\&amp;åˆ™Xä¸ºAçš„ç‰¹å¾å‘é‡ï¼Œ\\lambdaä¸ºAçš„ç‰¹å¾å€¼\\end{aligned}$$","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial çŸ©é˜µçš„åˆ†è§£çŸ©é˜µçš„åˆ†è§£éå¸¸é‡è¦ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬éƒ½éœ€è¦ä½¿ç”¨åˆ°çŸ©é˜µçš„åˆ†è§£ï¼Œè¿™ä¼šç»™æˆ‘ä»¬æä¾›æå¤§çš„æ–¹ä¾¿,ç¬”è€…å­¦ä¹ è¿™ä¸€ç±»é—®é¢˜èŠ±è´¹äº†å¾ˆå¤šæ—¶é—´,æƒ³è¦çœ‹æ‡‚è¿™ä¸€ç« ï¼Œéœ€è¦å…ˆçœ‹{ post_link çŸ©é˜µçš„ç±»å‹åŠæ€§è´¨ } çŸ©é˜µçš„ç‰¹å¾å€¼åˆ†è§£è¦æ±‚$n*n$çŸ©é˜µæ‹¥æœ‰$n$ä¸ªçº¿æ€§æ— å…³çš„ç‰¹å¾å‘é‡çŸ©é˜µçš„ç‰¹å¾å€¼åˆ†è§£æŒ‡çš„æ˜¯åˆ©ç”¨ç‰¹å¾å€¼æ„é€ çš„çŸ©é˜µè¿›è¡Œåˆ†è§£ã€‚ç‰¹å¾å€¼ä¸ç‰¹å¾å‘é‡æ˜¯è¿™æ ·å®šä¹‰çš„$$\\begin{aligned}&amp;è‹¥çŸ©é˜µAï¼Œåˆ—å‘é‡Xï¼Œå¸¸æ•°\\lambdaæ»¡è¶³\\&amp;AX &#x3D; \\lambda X\\&amp;åˆ™Xä¸ºAçš„ç‰¹å¾å‘é‡ï¼Œ\\lambdaä¸ºAçš„ç‰¹å¾å€¼\\end{aligned}$$ è¿™é‡Œæˆ‘ä»¬æ³¨æ„åˆ°å¦‚æœ$n*n$çš„çŸ©é˜µ$A$æ‹¥æœ‰$n$ä¸ªçº¿æ€§æ— å…³çš„ç‰¹å¾å‘é‡ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“å°±å¯ä»¥åˆ—å‡ºä¸‹é¢çš„å¼å­:$$\\begin{aligned}\\&amp;AX_1 &#x3D; \\lambda_1X_1\\&amp;AX_2 &#x3D; K_2X_2\\&amp;AX_n &#x3D; \\lambda_nX_n\\&amp;æ¯ä¸ªå¼å­éƒ½æ˜¯åˆ—å‘é‡ï¼Œæˆ‘ä»¬æŠŠè¿™äº›å¼å­æ¨ªç€æ’åˆ—æˆçŸ©é˜µ\\&amp;[AX_1,AX_2â€¦AX_n] &#x3D; [\\lambda_1X_1,\\lambda_2X_2â€¦\\lambda_nX_n]\\&amp;æå–\\&amp; A[X_1,X_2â€¦X_n] &#x3D; [X_1,X_2â€¦X_n]\\left[\\begin{matrix}&amp;\\lambda_1,&amp;,&amp;â€¦&amp;,\\&amp;,&amp;\\lambda_2&amp;â€¦&amp;,\\&amp;,&amp;,&amp;â€¦&amp;,\\&amp;,&amp;,&amp;â€¦&amp;\\lambda_n\\end{matrix}\\right]\\&amp; A &#x3D; [X_1,X_2â€¦X_n]\\left[\\begin{matrix}&amp;\\lambda_1,&amp;,&amp;â€¦&amp;,\\&amp;,&amp;\\lambda_2&amp;â€¦&amp;,\\&amp;,&amp;,&amp;â€¦&amp;,\\&amp;,&amp;,&amp;â€¦&amp;\\lambda_n\\end{matrix}\\right][X_1,X_2â€¦X_n]^{-1}\\end{aligned}$$è¿™å°±æ˜¯çŸ©é˜µçš„ç‰¹å¾å€¼åˆ†è§£äº† çŸ©é˜µçš„QRåˆ†è§£è¦æ±‚çŸ©é˜µåˆ—æ»¡ç§©æˆ‘ä»¬é€šè¿‡Gram-Schmidtæ­£äº¤åŒ–æ‰‹æ®µï¼Œå¯ä»¥å¾—åˆ°ä¸€ä¸ªæ‰€æœ‰åˆ—å‘é‡æ­£äº¤çš„çŸ©é˜µ,è¿™ä¸ªè¿‡ç¨‹å«çŸ©é˜µçš„æ­£äº¤åŒ–Gram-Schmidtåœ¨æ­£äº¤åŒ–çŸ©é˜µAç¬¬iä¸ªåˆ—å‘é‡çš„æ—¶å€™ï¼Œä½¿ç”¨å‰i-1ä¸ªå·²ç»æ­£äº¤åŒ–äº†çš„åˆ—å‘é‡å¯¹å…¶è¿›è¡Œæ¶ˆé™¤åˆ†é‡ï¼Œè¿™ä¸ªè¿‡ç¨‹é€†è¿‡æ¥çœ‹å¾…å°±æ˜¯ä»æ­£äº¤åŒ–çŸ©é˜µåˆ°åŸå§‹çŸ©é˜µçš„è¿‡ç¨‹ï¼ŒåŸå§‹çŸ©é˜µåˆ°æ­£äº¤åŒ–çŸ©é˜µçš„æ—¶å€™ï¼ŒåŸå§‹çŸ©é˜µçš„å‰iä¸ªåˆ—å‘é‡çº¿æ€§ç»„åˆèƒ½å¤Ÿå¾—åˆ°æ­£äº¤çŸ©é˜µçš„ç¬¬iä¸ªåˆ—å‘é‡ï¼Œé‚£ä¹ˆï¼Œæ­£äº¤çŸ©é˜µçš„å‰iä¸ªå‘é‡çº¿æ€§ç»„åˆèƒ½å¤Ÿå¾—åˆ°åŸå§‹çŸ©é˜µçš„ç¬¬iä¸ªåˆ—å‘é‡ï¼Œæˆ‘ä»¬æŠŠæ­£äº¤çŸ©é˜µå¾—åˆ°åŸå§‹çŸ©é˜µçš„ç»„åˆæ–¹å¼ç”¨çŸ©é˜µæ¥è¡¨ç¤ºçš„è¯ï¼Œè¿™ä¸ªçŸ©é˜µæ˜¾ç„¶æ˜¯ä¸€ä¸ªä¸Šä¸‰è§’çŸ©é˜µã€‚é‚£ä¸ªæ­£äº¤çŸ©é˜µå«åš$Q$,ä¸Šä¸‰è§’çŸ©é˜µå«åš$R$ï¼Œæˆ‘ä»¬å°±æœ‰äº†$A&#x3D;QR$,$Q$å…¶å®å°±æ˜¯Gram-Schmidtçš„ç»“æœï¼ŒRä¸å¥½è®¡ç®—ï¼Œä½†æ˜¯åŸç†éƒ½æ‡‚ï¼Œä¸å¥½æ¨¡æ‹Ÿï¼Œä½†æ˜¯åœ¨Aæ˜¯æ–¹é˜µçš„æ—¶å€™ï¼Œ$R$æˆ‘ä»¬å·ä¸ªæ‡’,æˆ‘ä»¬å¯ä»¥è¿™æ ·å¾—åˆ°$R&#x3D;Q^{-1}A&#x3D;Q^TA$ çŸ©é˜µçš„LUåˆ†è§£çŸ©é˜µçš„LUåˆ†è§£è¦æ±‚,å¯é€†æ–¹é˜µå³å°†çŸ©é˜µAåˆ†è§£ä¸ºLUï¼ŒLæ˜¯ä¸‹ä¸‰è§’çŸ©é˜µï¼ŒUæ˜¯ä¸Šä¸‰è§’çŸ©é˜µï¼Œå¤§å®¶æ‰‹åŠ¨æ¨¡æ‹Ÿä¸€ä¸‹å°±çŸ¥é“æ€ä¹ˆå¤„ç†äº†ï¼Œè¿™é‡Œå¼€ä¸ªå¤´ï¼ŒA(0,0)åªèƒ½æœ‰L(0,0)*U(0,0)å¾—åˆ°ï¼Œé€šå¸¸æˆ‘ä»¬å‡è®¾L(0,0)&#x3D;1,ç„¶åç±»ä¼¼äºè¿™ç§ï¼Œå†è€ƒè™‘Lçš„ç¬¬äºŒè¡Œå’ŒRçš„ç¬¬äºŒåˆ—,è¿™æ—¶å€™ï¼Œæ‰€æœ‰çš„å€¼éƒ½æ˜¯å›ºå®šçš„äº†ã€‚ã€‚ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸­å¦‚æœAå¯¹è§’çº¿å‡ºç°äº†0ï¼Œè®°å½•åˆç­‰è¡Œäº’æ¢å°±è¡Œäº†ï¼Œè¿™æ—¶å€™æˆ‘ä»¬çš„è¡Œäº’æ¢ä¼šæ„æˆä¸€ä¸ªçŸ©é˜µPï¼Œå³$PA &#x3D; LU$ ï¼Œ å³$A &#x3D; P^TLU$ çŸ©é˜µçš„LRåˆ†è§£æ— è¦æ±‚ é€šè¿‡åˆç­‰è¡Œå˜åŒ–ï¼Œå°†çŸ©é˜µAå˜ä¸ºHermiteå‹(é˜¶æ¢¯çŸ©é˜µ)Rï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨Aå³è¾¹å¢å¹¿ä¸€ä¸ªå•ä½é˜µLï¼Œå½“ç®—æ³•ç»“æŸçš„æ—¶å€™Ræ˜¯é˜¶æ¢¯å‹ï¼ŒLä¹Ÿæ˜¯ï¼Œæˆ‘ä»¬åªä¿ç•™Rçš„éé›¶è¡Œå’ŒLç›¸åº”çš„åˆ—å³å¯ï¼Œæœ€ç»ˆ$A&#x3D;LR$ï¼Œä¸”Lä¸ºåˆ—æ»¡ç§©ï¼ŒRä¸ºè¡Œæ»¡ç§© çŸ©é˜µçš„SVDåˆ†è§£ ç°åœ¨æœ‰ä¸ª$n*m$çš„çŸ©é˜µ$A$ï¼Œæ³¨æ„åˆ°çŸ©é˜µ$A^HA$æ˜¯ä¸€ä¸ªå„ç±³ç‰¹çŸ©é˜µï¼Œä¸”æ˜¯åŠæ­£å®šçŸ©é˜µï¼Œç”±æ­£è§„çŸ©é˜µçš„æ€§è´¨æˆ‘ä»¬ä¸éš¾å¾—å‡ºä¸€ä¸ªå¼å­$V^HA^HAV &#x3D; D_2$,å…¶ä¸­$V$æ˜¯$A^HA$çš„ç‰¹å¾å‘é‡æ„æˆçš„é…‰çŸ©é˜µï¼Œ$D_2$æ˜¯å¯¹è§’çŸ©é˜µï¼Œæ ¹æ®åŠæ­£å®šçŸ©é˜µçš„æ€§è´¨ï¼Œæˆ‘ä»¬å¾—å‡º$D_2$ä¸­çš„å…ƒç´ éè´Ÿï¼Œè¿›è€Œæˆ‘ä»¬å¯ä»¥æ„å»º$n*m$çŸ©é˜µ$D$ï¼Œ$D$åªåœ¨å¯¹è§’çº¿ä¸Šçš„å€¼éé›¶,ä¸”$D(i,i)&#x3D;\\sqrt{D_2(i,i)}$,ä½¿å¾—çš„$D*D^H&#x3D;D_2$,è¿›è€Œæˆ‘ä»¬å¾—åˆ°äº†åˆ†è§£$V^HA^HAV &#x3D; D^HD$,å¯¹$AV$æ¥è¯´ä»–çš„å‰rä¸ªåˆ—å‘é‡é—´æ­£äº¤,å–å‡ºä»–ä»¬${v_1,v_2â€¦,v_r}$ï¼Œè¿™äº›å…¶å®å°±æ˜¯$A^HA$çš„ç‰¹å¾å‘é‡ï¼Œå¯¹åº”çš„ç‰¹å¾å€¼æ˜¯$\\sigma_i^2$,æˆ‘ä»¬æ„é€ $u_i &#x3D; \\frac{Av_i}{\\sigma_i}$å¾—åˆ°äº†${u_1,u_2,â€¦u_r}$åŠ 0æ‰©å……ä¸º${u_1,u_2,â€¦u_n}$è¿™å°±æ˜¯ä¸€ä¸ªé…‰çŸ©é˜µUï¼Œä¸éš¾å‘ç°$AV&#x3D;UD$,å³æˆ‘ä»¬å¾—åˆ°äº†åˆ†è§£$A &#x3D; UDV^H$,è¿™å°±æ˜¯$SVD$åˆ†è§£ã€‚ æ–¹é˜µçš„æåˆ†è§£ æ ¹æ®çŸ©é˜µçš„$SVD$åˆ†è§£æˆ‘ä»¬ä¸å¦¨è®¾$P&#x3D;UDU^H$å’Œ$Q&#x3D;UV^H$ï¼Œä¸éš¾å‘ç°ï¼Œç°åœ¨$A&#x3D;PQ$ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„æ€§è´¨ï¼ŒPæ˜¯åŠæ­£å®šçŸ©é˜µï¼ŒQæ˜¯é…‰çŸ©é˜µã€‚ å…¶å®çŸ©é˜µè¿˜æœ‰å¾ˆå¤šå¾ˆå¤šå…¶ä»–çš„åˆ†è§£ï¼Œè¿™é‡Œå…ˆç•™ä¸€ä¸ªå‘","categories":[{"name":"Math","slug":"Math","permalink":"http://fightinggg.github.io/indigo/categories/Math/"},{"name":"Matrix","slug":"Math/Matrix","permalink":"http://fightinggg.github.io/indigo/categories/Math/Matrix/"}],"tags":[]},{"title":"çŸ©é˜µçš„ç±»å‹ä»¥åŠæ€§è´¨","slug":"Math/Matrix/çŸ©é˜µçš„ç±»å‹ä»¥åŠæ€§è´¨/index","date":"2020-02-26T03:25:50.000Z","updated":"2020-02-26T03:25:50.000Z","comments":true,"path":"Q6AHJ2.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q6AHJ2.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å®çŸ©é˜µå¸¸è§çš„å‡ ç§å®çŸ©é˜µæœ‰: å®å¯¹ç§°çŸ©é˜µã€å®åå¯¹ç§°çŸ©é˜µã€å„ç±³ç‰¹çŸ©é˜µã€åå„ç±³ç‰¹çŸ©é˜µã€æ­£äº¤çŸ©é˜µã€å¯¹è§’çŸ©é˜µã€é…‰çŸ©é˜µã€æ­£è§„çŸ©é˜µ å®å¯¹ç§°çŸ©é˜µå®šä¹‰è‹¥$A$ä¸ºå¯¹ç§°çŸ©é˜µã€åˆ™ï¼š$$\\begin{aligned}A &#x3D; A^{T}\\end{aligned}$$è¿™é‡Œå·¦è¾¹ä¸ºçŸ©é˜µæœ¬èº«ï¼Œå³è¾¹ä¸ºçŸ©é˜µçš„è½¬ç½® æ€§è´¨å¯¹ç§°çŸ©é˜µå¿…ç„¶æœ‰$n$ä¸ªå®ç‰¹å¾å‘é‡ï¼Œå¹¶ä¸¤ä¸¤æ­£äº¤ å®åå¯¹ç§°çŸ©é˜µå®šä¹‰è‹¥$A$ä¸ºå¯¹ç§°çŸ©é˜µ,åˆ™ï¼š$$\\begin{aligned}A &#x3D; -A^{T}\\end{aligned}$$ å„ç±³ç‰¹çŸ©é˜µå®šä¹‰è‹¥$A$ä¸ºå„ç±³ç‰¹çŸ©é˜µï¼Œåˆ™$$\\begin{aligned}A &#x3D; A^H\\end{aligned}$$å³è¾¹æ˜¯çŸ©é˜µçš„è½¬ç½®å…±è½­çŸ©é˜µ åå„ç±³ç‰¹çŸ©é˜µå®šä¹‰è‹¥$A$ä¸ºåå„ç±³ç‰¹çŸ©é˜µï¼Œåˆ™$$\\begin{aligned}A &#x3D; -A^H\\end{aligned}$$ æ­£äº¤çŸ©é˜µå®šä¹‰è‹¥$A$ä¸ºæ­£äº¤çŸ©é˜µ,åˆ™$$\\begin{aligned}A * A^{T} &#x3D; \\lambda E\\end{aligned}$$è¿™é‡Œå³è¾¹ä¸ºå•ä½çŸ©é˜µä¹˜ä¸€ä¸ªå¸¸æ•° å¯¹è§’çŸ©é˜µå®šä¹‰è‹¥$A$ä¸ºå¯¹è§’çŸ©é˜µï¼Œåˆ™çŸ©é˜µä»…ä»…åœ¨å¯¹è§’çº¿ä¸Šå¯¹å€¼éé›¶ æ€§è´¨å¯¹è§’çŸ©é˜µä¸€å®šæ˜¯å¯¹ç§°çŸ©é˜µï¼Œå¯¹è§’çŸ©é˜µçš„ç‰¹å¾å€¼å³ä¸ºå¯¹è§’çº¿ä¸Šçš„å…ƒç´  é…‰çŸ©é˜µå®šä¹‰è‹¥$A$ä¸ºé…‰çŸ©é˜µï¼Œåˆ™$$\\begin{aligned}AA^H &#x3D; A^HA &#x3D; E\\end{aligned}$$ æ­£è§„çŸ©é˜µå®šä¹‰è‹¥$A$ä¸ºæ­£è§„çŸ©é˜µï¼Œåˆ™$$\\begin{aligned}AA^H &#x3D; A^HA\\end{aligned}$$å®å¯¹ç§°çŸ©é˜µã€å®åå¯¹ç§°çŸ©é˜µã€å„ç±³ç‰¹çŸ©é˜µã€åå„ç±³ç‰¹çŸ©é˜µã€æ­£äº¤çŸ©é˜µã€å¯¹è§’çŸ©é˜µã€é…‰çŸ©é˜µéƒ½æ˜¯æ­£è§„çŸ©é˜µï¼Œä½†æ­£è§„çŸ©é˜µè¿œä¸æ­¢è¿™äº› çŸ©é˜µçš„ç›¸ä¼¼å®šä¹‰è‹¥æ»¡è¶³$$\\begin{aligned}A &#x3D; B^{-1}CB\\end{aligned}$$åˆ™ACç›¸ä¼¼ æ€§è´¨ è‹¥ä¸¤ä¸ªçŸ©é˜µç›¸ä¼¼ï¼Œåˆ™ä»–ä»¬çš„ç‰¹å¾å€¼ç›¸åŒ","categories":[{"name":"Math","slug":"Math","permalink":"http://fightinggg.github.io/indigo/categories/Math/"},{"name":"Matrix","slug":"Math/Matrix","permalink":"http://fightinggg.github.io/indigo/categories/Math/Matrix/"}],"tags":[]},{"title":"æ™šæœŸ(è¿è¡ŒæœŸ)ä¼˜åŒ–","slug":"Language/Java/JVM/æ™šæœŸ(è¿è¡ŒæœŸ)ä¼˜åŒ–/index","date":"2020-02-18T10:46:13.000Z","updated":"2020-02-18T10:46:13.000Z","comments":true,"path":"Q5W8L1.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q5W8L1.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è§£é‡Šå™¨ä¸ç¼–è¯‘å™¨Javaåœ¨è¿è¡Œçš„æ—¶å€™ï¼Œä»–çš„è§£é‡Šå™¨å’Œç¼–è¯‘å™¨ä¼šåŒæ—¶å·¥ä½œï¼Œè§£é‡Šå™¨è§£é‡Šè¿è¡Œä»£ç ï¼Œç¼–è¯‘å™¨æœ‰é€‰æ‹©æ€§åœ°ç¼–è¯‘éƒ¨åˆ†ä»£ç ä¸ºæœºå™¨ä»£ç ï¼Œä»¥åŠ é€ŸJavaä»£ç çš„æ‰§è¡Œè¿‡ç¨‹ ç¼–è¯‘å™¨Javaç¼–è¯‘å™¨æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯å®¢æˆ·ç«¯ç¼–è¯‘å™¨ï¼Œä»–è¿›è¡Œç®€å•çš„å¯é çš„ä¼˜åŒ–ï¼Œå¹¶é€‚æ—¶åŠ å…¥æ€§èƒ½æ£€æµ‹çš„é€»è¾‘ï¼Œå¦ä¸€ç§æ˜¯æœåŠ¡å™¨ç¼–è¯‘å™¨ï¼Œä»–è¿›è¡Œè€—æ—¶è¾ƒé•¿çš„ä¼˜åŒ–ï¼Œç”šè‡³æ ¹æ®æ€§èƒ½æ£€æµ‹ä¿¡æ¯ï¼ŒåŠ å…¥ä¸€äº›ä¸å¯é çš„æ¿€è¿›çš„ä¼˜åŒ– ç¼–è¯‘å™¨ç¼–è¯‘çš„å¯¹è±¡ è¢«å¤šæ¬¡è°ƒç”¨çš„æ–¹æ³• è¢«å¤šæ¬¡æ‰§è¡Œçš„å¾ªç¯ä½“ æ–¹æ³• åŸºäºé‡‡æ ·çš„çƒ­ç‚¹æ¢æµ‹ï¼šè™šæ‹Ÿæœºå‘¨æœŸæ€§çš„æ£€æŸ¥å„ä¸ªçº¿ç¨‹çš„æ ˆé¡¶ï¼Œå¦‚æœå‘ç°æŸä¸ªæ–¹æ³•ç»å¸¸å‡ºç°åœ¨æ ˆé¡¶ï¼Œé‚£è¿™å°±æ˜¯ä¸€ä¸ªçƒ­ç‚¹æ–¹æ³•ï¼Œä¼˜ç‚¹æ˜¯ç®€å•é«˜æ•ˆï¼Œç¼ºç‚¹æ˜¯å®¹æ˜“å—åˆ°çº¿ç¨‹é˜»å¡ç­‰å…¶ä»–å› ç´ çš„å½±å“ã€‚ åŸºäºè®¡æ•°å™¨çš„çƒ­ç‚¹æ¢æµ‹ï¼šä¸ºæ¯ä¸€ä¸ªæ–¹æ³•æ·»åŠ ä¸€ä¸ªè®¡æ•°å™¨ï¼Œæ¯å½“æ–¹æ³•è¢«è°ƒç”¨ï¼Œåˆ™è®¡æ•°å™¨å¢å¤§1ï¼Œæ¯ç»è¿‡ä¸€å®šæ—¶é—´ï¼ˆå¯ä»¥ä¸gcç›¸å…³ï¼‰å°±è®©è®¡æ•°å™¨å˜ä¸ºåŸæ¥çš„ä¸€åŠï¼Œè¿™æ˜¯ä¸€ç§å’Œå¼å¢åŠ ï¼Œç§¯å¼å‡å°‘çš„ç­–ç•¥ï¼Œè¿™ä¸ªåœ¨è®¡ç®—æœºç½‘ç»œä¸­çš„æ»‘åŠ¨çª—å£å¤§å°æ§åˆ¶ä¹Ÿæœ‰åº”ç”¨ï¼Œå½“è®¡æ•°å™¨è¶…è¿‡æŸä¸ªé˜ˆå€¼çš„æ—¶å€™ï¼Œå°±è®©ç¼–è¯‘å™¨æ¥æŠŠè¿™ä¸ªæ–¹æ³•ç¼–è¯‘æˆæœºå™¨ç å³å¯ã€‚ å¾ªç¯ä½“å’Œä¸Šæ–‡çš„è®¡æ•°å™¨çƒ­ç‚¹æ¢æµ‹ç›¸ä¼¼ï¼Œä½†è®¡æ•°å™¨æ°¸è¿œä¸ä¼šå˜å°ã€‚è‹¥è¶…è¿‡ä¸€ä¸ªé˜ˆå€¼ï¼Œæ•´ä¸ªæ–¹æ³•éƒ½ä¼šè¢«ç¼–è¯‘æˆæœºå™¨ç  ç¼–è¯‘ä¼˜åŒ–å„è¯­è¨€é€šç”¨ä¼˜åŒ–å†…è”ã€å†—ä½™è®¿é—®æ¸…é™¤ã€å¤å†™ä¼ æ’­ã€æ— ç”¨ä»£ç æ¸…é™¤ã€å…¬å…±å­è¡¨è¾¾å¼æ¶ˆé™¤ Javaç¼–è¯‘å™¨ä¼˜åŒ– éšå¼å¼‚å¸¸ä¼˜åŒ–: ä½¿ç”¨Segment Faultä¿¡å·çš„å¼‚å¸¸å¤„ç†å™¨ä»£æ›¿æ•°ç»„è¶Šç•Œå¼‚å¸¸ã€ç©ºæŒ‡é’ˆå¼‚å¸¸ã€é™¤0å¼‚å¸¸ç­‰ æ–¹æ³•å†…è”: ç”±äºJavaåŸºæœ¬éƒ½æ˜¯è™šå‡½æ•°ï¼Œè¿™å¯¼è‡´æ–¹æ³•å†…è”ä¸å¤ªå®¹æ˜“å®ç°ï¼Œå¯¹äºéè™šå‡½æ•°ï¼Œç›´æ¥å†…è”ï¼Œå¯¹äºè™šå‡½æ•°ï¼ŒCHA(ç±»å‹ç»§æ‰¿å…³ç³»åˆ†æ)ä¼šæ£€æµ‹ï¼Œå½“å‰ç¨‹åºçš„è¿™ä¸ªæ–¹æ³•æ˜¯å¦å¯¹åº”äº†å¤šä¸ªç‰ˆæœ¬ï¼Œè‹¥æ²¡æœ‰ï¼Œåˆ™è¿›è¡Œæ¿€è¿›ä¼˜åŒ–ï¼Œå¼ºè¡Œå†…è”å¹¶é¢„ç•™ä¸€ä¸ªé€ƒç”Ÿé—¨ï¼Œä»¥ä¾¿åœ¨æ–°ç±»åŠ è½½çš„æ—¶å€™ï¼ŒæŠ›å¼ƒæ­¤ä»£ç ï¼Œä½¿ç”¨è§£é‡Šå™¨ï¼Œå¦‚æœCHAæŸ¥å‡ºæœ‰å¤šä¸ªç‰ˆæœ¬ï¼Œä¹Ÿä¼šä¸ºè¿›è¡Œä¸€ä¸ªç¼“å­˜å¤„ç†ï¼Œä¿ç•™ä¸Šä¸€æ¬¡çš„ä¿¡æ¯ï¼Œè‹¥ä¸‹ä¸€æ¬¡è¿›æ¥çš„ç‰ˆæœ¬ç›¸åŒï¼Œåˆ™å†…è”å¯ä»¥ç»§ç»­ä½¿ç”¨ï¼Œå¦åˆ™å°±åªèƒ½å›åˆ°è§£é‡Šå™¨äº†ã€‚ é€ƒé€¸åˆ†æé€ƒé€¸åˆ†ææ˜¯ä¸€ç§åˆ†ææŠ€æœ¯ï¼Œè€Œä¸æ˜¯ç›´æ¥ä¼˜åŒ–ä»£ç çš„æ‰‹æ®µã€‚ æ ˆä¸Šåˆ†é…å¦‚æœåˆ†æå‡ºä¸€ä¸ªå¯¹è±¡ä¸ä¼šè¢«ä»–è¢«å®šä¹‰çš„æ–¹æ³•ä»¥å¤–çš„æ–¹æ³•ç”¨åˆ°,é‚£ä¸ªè¿™ä¸ªå¯¹è±¡ä¼šè¢«åˆ†é…åˆ°æ ˆä¸Šã€‚ åŒæ­¥æ¶ˆé™¤å¦‚æœåˆ†æå‡ºä¸€ä¸ªå¯¹è±¡ä¸ä¼šè¢«ä»–è¢«å®šä¹‰çš„æ‰€åœ¨çº¿ç¨‹ä»¥å¤–çš„çº¿ç¨‹ç”¨åˆ°ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡çš„åŒæ­¥æŒ‡ä»¤ä¼šè¢«æ¸…é™¤ã€‚ æ ‡é‡æ›¿æ¢å¦‚æœåˆ†æå‡ºä¸€ä¸ªå¯¹è±¡ä¸ä¼šè¢«å¤–éƒ¨è®¿é—®ï¼Œä»–ç”šè‡³ä¼šè¢«æ‹†æˆå¤šä¸ªåŸºæœ¬æ•°æ®ç±»å‹ï¼Œåˆ†é…åˆ°æ ˆä¸Šï¼Œç”šè‡³è¢«è™šæ‹Ÿæœºç›´æ¥åˆ†é…åˆ°ç‰©ç†æœºçš„é«˜é€Ÿå¯„å­˜å™¨ä¸­","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"JVM","slug":"Language/Java/JVM","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/JVM/"}],"tags":[]},{"title":"LDA","slug":"Math/LDA/index","date":"2020-02-18T06:47:04.000Z","updated":"2020-02-18T06:47:04.000Z","comments":true,"path":"Q5VXIG.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q5VXIG.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial LDAç®—æ³•è¾“å…¥ä¸ç›®çš„æœ‰å¾ˆå¤šæœ‰æ ‡ç­¾çš„é«˜çº¬æ•°æ®,ä»–ä»¬çš„æ ¼å¼ä¸ºåˆ—å‘é‡ï¼š $$x &#x3D; [x_1,x_2,x_3â€¦]^T$$ æˆ‘ä»¬æƒ³è¦æ‰¾åˆ°ä¸€ä¸ªé«˜çº¬ç©ºé—´åˆ°ä¸€ç»´ç©ºé—´çš„æ˜ å°„,å…¶ä¸­$w$æ˜¯ä¸€ä¸ªåˆ—å‘é‡ $$y&#x3D;w^T x$$ ä½¿å¾—æˆ‘ä»¬åœ¨è¿™ä¸ªæ–°çš„ç»´åº¦ä¸Šï¼Œèƒ½å¤Ÿå®Œæˆåˆ†ç±»ï¼Œç±»å†…ç´§å‡‘ï¼Œç±»é—´æ¾æ•£ æ¨¡å‹å»ºç«‹å‡è®¾æ˜ å°„åç±»åˆ«içš„æ•°æ®é›†åˆä¸ºï¼š $$Y_i &#x3D; {y_1,y_2,y_3â€¦}$$ åˆ†åˆ«æ ¹æ®æ±‚æ˜ å°„åæ•°æ®é›†åˆçš„æœŸæœ› $$\\tilde{m_i}&#x3D;\\frac{1}{n_i}\\sum_{y\\in Y_i}y$$ å’Œæ–¹å·® $$\\tilde{S_i}^2 &#x3D; \\sum_{y \\in Y_i}(y-\\tilde{m_i})^2$$ æ¨¡å‹å»ºç«‹,æŠŠç±»ä¸­å¿ƒç‚¹é—´çš„æ–¹å·®ä½œä¸ºåˆ†å­ï¼ŒæŠŠç±»å†…æ–¹å·®å’Œä½œä¸ºåˆ†æ¯ï¼Œæˆ‘ä»¬çš„ç›®æ ‡å°±æ˜¯æœ€å¤§åŒ–æ•´ä¸ªåˆ†å¼ $$\\tilde{m}&#x3D;\\frac{1}{n}\\sum n_i*\\tilde{m_i}\\\\max\\quad J(w)&#x3D;\\frac{ \\sum n_i(\\tilde{m_i}-\\tilde{m})^2}{\\sum{\\tilde{s_i}^2}}$$ å˜å½¢å‡è®¾æ˜ å°„å‰ç±»åˆ«içš„æ•°æ®é›†åˆä¸ºï¼š $$D_i &#x3D; {x_1,x_2,x_3â€¦}$$ ä¸ºäº†èƒ½å¤ŸåŒæ—¶æè¿°ç±»å†…è·ç¦»å’Œç±»é—´è·ç¦»ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ˜ å°„åçš„å„ç±»é›†åˆæ±‚æœŸæœ›å’Œæ–¹å·®ä»¤ $$m_i&#x3D;\\frac{1}{n_i}\\sum_{x\\in D_i}x$$ åˆ™æ˜ å°„åçš„æœŸæœ›ä¸º $$\\tilde{m_i}&#x3D;\\frac{1}{n_i}\\sum_{y\\in Y_i}y&#x3D;\\frac{1}{n_i}\\sum_{x\\in D_i}w^Tx&#x3D;w^T\\frac{1}{n_i}\\sum_{x\\in D_i}x&#x3D;w^Tm_i$$ ä»¤ $$S_i &#x3D; \\sum_{x \\in D_i}(x-m_i)(x-m_i)^T$$ åˆ™æ˜ å°„åçš„æ–¹å·® $$\\begin{aligned}\\tilde{S_i}^2&amp;&#x3D; \\sum_{y \\in Y_i}(y-\\tilde{m_i})^2\\&amp;&#x3D; \\sum_{x \\in D_i}(w^Tx-w^Tm_i)^2\\&amp;&#x3D;\\sum_{x \\in D_i}(w^T(x-m_i))(w^T(x-m_i))\\&amp;&#x3D;\\sum_{x \\in D_i}(w^T(x-m_i))((x-m_i)^Tw)\\&amp;&#x3D;w^TS_iw\\end{aligned}$$ æ¨¡å‹ $$\\tilde{m}&#x3D;\\frac{1}{n}\\sum n_i\\tilde{m_i}&#x3D;w^T\\frac{1}{n}\\sum n_im_i&#x3D;w^Tm$$ æ¨¡å‹çš„åˆ†å­ $$\\begin{aligned}\\&amp;\\sum n_i(\\tilde{m_i}-\\tilde{m})^2\\&#x3D;&amp;\\sum n_i(w^Tm_i-w^Tm)^2\\&#x3D;&amp;w^T(\\sum n_i(m_i-m)(m_i-m)^T) w\\end{aligned}$$ æ¨¡å‹æ€»ç»“$$\\begin{aligned}&amp;S_B&#x3D;\\sum n_i(m_i-m)(m_i-m)^T\\&amp;S_W&#x3D;\\sum S_i\\&amp;\\max\\quad J(w)&#x3D;\\frac{ w^TS_Bw}{w^TS_ww}\\end{aligned}$$ æ‹‰æ ¼æœ—æ—¥ä¹˜å­æ³•æ±‚æå€¼J(w)çš„å€¼ä¸wçš„é•¿åº¦æ— å…³ï¼Œåªå’Œwçš„æ–¹å‘æœ‰å…³ï¼Œæˆ‘ä»¬ä¸å¦¨å›ºå®šåˆ†å­ä¸º1ï¼Œåˆ™å˜ä¸ºäº† $$\\max\\quad J_2(w)&#x3D;w^TS_Bw\\quad,\\quad w^TS_ww&#x3D;1$$ æ„å»ºæ‹‰æ ¼æœ—æ—¥å‡½æ•°,å¹¶ä½¿ç”¨æ ‡é‡å¯¹åˆ—å‘é‡æ±‚å¯¼æ³•åˆ™,æ±‚åå¯¼ $$L(w,\\lambda) &#x3D; w^TS_Bw+\\lambda(1-w^TS_ww)$$ ä¸€ä¸ªæ±‚å¯¼æ³•åˆ™:($x$æ˜¯åˆ—å‘é‡ï¼Œ$A$æ˜¯æ–¹é˜µ) $$\\begin{aligned}&amp;\\frac{\\partial x^TAx}{\\partial x} &#x3D; (A^T+A)x\\end{aligned}$$ å¼€å§‹æ±‚å¯¼ $$\\begin{aligned}&amp;\\frac{\\partial L}{\\partial w}&#x3D;(S_B+S_B^T)w-\\lambda(S_w+S_w^T)w&#x3D;0\\end{aligned}$$ å…¶ä¸­S_Bå’ŒS_wæ˜¯å¯¹ç§°çŸ©é˜µ $$\\begin{aligned}&amp;2S_Bw-2\\lambda S_ww&#x3D;0\\\\to&amp;S_Bw&#x3D;\\lambda S_ww\\\\to&amp;(S_w^{-1}S_B)w&#x3D;\\lambda w\\end{aligned}$$ å› æ­¤$w$å–çŸ©é˜µ$S_w^{-1}S_B$çš„ç‰¹å¾å‘é‡å³å¯","categories":[{"name":"Math","slug":"Math","permalink":"http://fightinggg.github.io/indigo/categories/Math/"}],"tags":[]},{"title":"æ—©æœŸ(ç¼–è¯‘æœŸ)ä¼˜åŒ–","slug":"Language/Java/JVM/æ—©æœŸ(ç¼–è¯‘æœŸ)ä¼˜åŒ–/index","date":"2020-02-17T05:09:29.000Z","updated":"2020-02-17T05:09:29.000Z","comments":true,"path":"Q5TYBT.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q5TYBT.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Java ç¼–è¯‘ è§£æä¸å¡«å……ç¬¦å·è¡¨è¿‡ç¨‹ æ’å…¥å¼æ³¨è§£å¤„ç†å™¨çš„æ³¨è§£å¤„ç†è¿‡ç¨‹ åˆ†æä¸å­—èŠ‚ç ç”Ÿæˆè¿‡ç¨‹ Java è¯­æ³•ç³– è‡ªåŠ¨æ‹†ç®±è£…ç®± éå†å¾ªç¯ æ¡ä»¶ç¼–è¯‘ : ç±»ä¼¼c++çš„å® èŒƒå‹ä¸ç±»å‹æ“¦é™¤ : Javaçš„èŒƒæ€§å’Œc++èŒƒå‹ä¸ä¸€æ ·ï¼ŒJavaæ˜¯ç”¨ç±»å‹æ“¦é™¤æ¥å®ç°çš„ï¼Œç„¶åä½¿ç”¨ç±»å‹å¼ºåˆ¶è½¬åŒ–ã€‚ æ‹†ç®±é™·é˜±å…ˆçœ‹ä»£ç 1234567891011121314151617class test&#123; public static void main(String[] args)&#123; Integer a = 1; Integer b = 2; Integer c = 3; Integer d = 3; Integer e = 321; Integer f = 321; Long g = 3L; System.out.println(c == d); System.out.println(e == f); System.out.println(c == (a + b)); System.out.println(c.equals(a + b)); System.out.println(g == (a + b)); System.out.println(g.equals(a + b)); &#125;&#125; è¾“å‡º123456truefalsetruetruetruefalse è§£é‡Š &#x3D; ä¼šå¯¼è‡´è‡ªåŠ¨æ‹†ç®±å’Œè£…ç®± +ï¼Œ-ï¼Œ*ï¼Œ&#x2F;æ··åˆè¿ç®—ä¼šæ‹†ç®± &gt;,&lt;,&#x3D;&#x3D;æ¯”è¾ƒè¿ç®—ä¼šæ‹†ç®± euqalsä¼šè£…ç®± å‘é›†åˆç±»æ·»åŠ æ•°æ®ä¼šè£…ç®± Integerç±»æœ‰ç¼“å­˜åŒºåŸŸ,å‚¨å­˜äº†[-128,127],æ‰€æœ‰è¿™äº›å€¼éƒ½å…±äº«ç¼“å­˜åŒºçš„å¯¹è±¡æŒ‡é’ˆ","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"JVM","slug":"Language/Java/JVM","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/JVM/"}],"tags":[]},{"title":"Javaçº¿ç¨‹å®‰å…¨ä¸é”ä¼˜åŒ–","slug":"Language/Java/JVM/Javaçº¿ç¨‹å®‰å…¨ä¸é”ä¼˜åŒ–/index","date":"2020-02-16T12:07:39.000Z","updated":"2020-02-16T12:07:39.000Z","comments":true,"path":"Q5SN0R.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q5SN0R.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Javaå…±äº«æ•°æ®çš„åˆ†ç±» ä¸å¯å˜: ä¸å¯å˜æ•°æ®æ˜¯ç»å¯¹çº¿ç¨‹å®‰å…¨çš„ ç»å¯¹çº¿ç¨‹å®‰å…¨: â€œä¸ç®¡è¿è¡Œæ—¶ç¯å¢ƒå¦‚ä½•ï¼Œè°ƒç”¨è€…éƒ½ä¸éœ€è¦ä»»ä½•é¢å¤–çš„åŒæ­¥æªæ–½â€ ç›¸å¯¹çº¿ç¨‹å®‰å…¨: å¯¹ä¸€ä¸ªå¯¹è±¡å•ç‹¬å¯¹æ“ä½œæ˜¯çº¿ç¨‹å®‰å…¨å¯¹ çº¿ç¨‹å…¼å®¹: æœ¬èº«å¹¶éçº¿ç¨‹å®‰å…¨ï¼Œä½†æˆ‘ä»¬å¯ä»¥åœ¨è°ƒç”¨ç«¯ä½¿ç”¨åŒæ­¥æ‰‹æ®µæ¥ç¡®ä¿åœ¨å¹¶å‘ç¯å¢ƒä¸­å¯ä»¥å®‰å…¨å¾—ä½¿ç”¨ çº¿ç¨‹å¯¹ç«‹: å¯¹è±¡åœ¨è°ƒç”¨ç«¯æ— è®ºä½¿ç”¨ä½•ç§åŒæ­¥æ‰‹æ®µï¼Œéƒ½æ— æ³•ç¡®ä¿å®‰å…¨ çº¿ç¨‹å®‰å…¨çš„å®ç°æ–¹æ³• äº’æ–¥åŒæ­¥: ä½¿ç”¨äº’æ–¥é‡ éé˜»å¡åŒæ­¥ : ä½¿ç”¨åŸå­æ“ä½œ é”ä¼˜åŒ– è‡ªæ—‹é”ä¸è‡ªé€‚åº”è‡ªæ—‹é”: ä½¿ç”¨å¤šä¸ªå¿™å¾ªç¯è€Œä¸æ˜¯æŒ‚èµ·ï¼Œå½“å¿™å¾ªç¯è¶…è¿‡æŸä¸ªå›ºå®šé˜ˆå€¼çš„æ—¶å€™æŒ‚èµ·ï¼Œè‡ªé€‚åº”æŒ‡å¾—æ˜¯åŠ¨æ€é€‰æ‹©é˜ˆå€¼ é”æ¸…é™¤: æ¶ˆé™¤ä¸å¿…è¦çš„é” é”ç²—åŒ–: æ‰©å¤§é”çš„èŒƒå›´ï¼Œé¿å…åœ¨å¾ªç¯ä¸­é¢‘ç¹åŠ é” è½»é‡çº§é”: ä½¿ç”¨CASæ“ä½œï¼Œé¿å…äº’æ–¥åŠ é”ï¼Œè‹¥CASæ“ä½œå¤±è´¥ï¼Œåˆ™ä½¿ç”¨äº’æ–¥åŠ é” åå‘é”: è®©ç¬¬ä¸€ä¸ªä½¿ç”¨å¯¹è±¡å¯¹çº¿ç¨‹æŒæœ‰ï¼Œåœ¨ç¬¬äºŒä¸ªçº¿ç¨‹åˆ°æ¥å‰,ä¸è¿›è¡Œä»»ä½•åŒæ­¥æ“ä½œã€‚","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"JVM","slug":"Language/Java/JVM","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/JVM/"}],"tags":[]},{"title":"Javaå†…å­˜æ¨¡å‹ä¸çº¿ç¨‹","slug":"Language/Java/JVM/Javaå†…å­˜æ¨¡å‹ä¸çº¿ç¨‹/index","date":"2020-02-15T11:09:56.000Z","updated":"2020-02-15T11:09:56.000Z","comments":true,"path":"Q5QPOK.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q5QPOK.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ç¡¬ä»¶é—´é€Ÿåº¦çš„å·®è·å› ä¸ºè®¡ç®—æœºå„ç§ç¡¬ä»¶ä¹‹é—´é€Ÿåº¦çš„å·®è·å®åœ¨æ˜¯å¤ªå¤§äº†ï¼Œè¿™ä¸¥é‡åœ°å½±å“äº†è®¡ç®—æœºçš„æ•´ä½“æ•ˆç‡ï¼Œå¾ˆå¤šæ—¶å€™è½¯ä»¶å¹¶ä¸èƒ½å¤Ÿå……åˆ†åœ°åˆ©ç”¨è®¡ç®—æœºçš„èµ„æºï¼Œè®©å¤„ç†å™¨å»ç­‰å¾…å†…å­˜ï¼Œä¸€ç§è§£å†³æ–¹æ¡ˆå°±æ˜¯åœ¨å†…å­˜å’Œå¤„ç†å™¨ä¹‹é—´å¼•å…¥ä¸€ä¸ªç¼“å­˜ï¼Œæ¥å°½é‡å‡è½»è¿™ä¸ªé€Ÿåº¦çš„å·®è·ã€‚åœ¨å¤šå¤„ç†å™¨ç³»ç»Ÿä¸­ï¼Œå¾€å¾€å¯¹åº”ç€å¤šä¸ªç¼“å­˜ã€‚ ç¼“å­˜ä¸€è‡´æ€§å¾€å¾€è¿™äº›ç¼“å­˜éƒ½å‚¨å­˜ç€å’Œå†…å­˜ä¸€æ ·çš„æ•°æ®ï¼Œä»–ä»¬äº’ä¸ºæ‹·è´ï¼Œæˆ‘ä»¬å¿…é¡»ä¿è¯ä»–ä»¬çš„æ•°æ®æ˜¯åŒæ­¥ä¿®æ”¹çš„ã€‚è¿™æœ‰å¾ˆå¤šç§åè®®æ¥ç»´æŠ¤ã€‚ ä¹±åºæ‰§è¡Œä¸ºäº†æ›´å¥½çš„åˆ©ç”¨å¤„ç†å™¨çš„è¿ç®—å•å…ƒï¼Œå¤„ç†å™¨å¯èƒ½ä¼šå¯¹è¾“å…¥çš„ä»£ç ç‰‡æ®µè¿›è¡Œä¹±åºæ‰§è¡Œä¼˜åŒ–ï¼ŒJavaè™šæ‹Ÿæœºä¹Ÿæ˜¯å¦‚æ­¤ã€‚ Javaå†…å­˜æ¨¡å‹Javaå†…å­˜æ¨¡å‹ä¸­æœ‰ä¸¤ç§å†…å­˜ï¼Œç¬¬ä¸€ç§æ˜¯ä¸€ä¸ªä¸»å†…å­˜ï¼Œç¬¬äºŒç§æ˜¯å¤šä¸ªçº¿ç¨‹å·¥ä½œå†…å­˜ï¼Œçº¿ç¨‹ç§æœ‰ã€‚ å†…å­˜é—´çš„äº’ç›¸æ“ä½œJavaå†…å­˜æ¨¡å‹æœ‰8ç§åŸå­æ“ä½œlock:ä½œç”¨ä¸ä¸»å†…å­˜ä¸­çš„å˜é‡ï¼Œè®©å…¶å˜ä¸ºçº¿ç¨‹ç‹¬å unlock:å’Œlockç›¸åread:æŠŠä¸»å†…å­˜ä¸­çš„å˜é‡ä¼ è¾“åˆ°å·¥ä½œå†…å­˜ï¼Œå‡†å¤‡loadload:æŠŠreadçš„å€¼æ”¾å…¥çº¿ç¨‹å·¥ä½œå†…å­˜çš„å˜é‡å‰¯æœ¬ä¸­use:æŠŠçº¿ç¨‹å·¥ä½œå†…å­˜ä¸­çš„å€¼æ‹¿åˆ°æ‰§è¡Œå¼•æ“ä¸­assign:ä»æ‰§è¡Œå¼•æ“ä¸­è·å¾—å€¼å†™å…¥å·¥ä½œå†…å­˜store:æŠŠå·¥ä½œå†…å­˜ä¸­çš„å˜é‡ä¼ è¾“åˆ°ä¸»å†…å­˜ï¼Œå‡†å¤‡writewrite:æŠŠstoreå¾—åˆ°çš„å€¼å†™å…¥ä¸»å†…å­˜ã€‚è¿™äº›æ“ä½œçš„ç›¸äº’æ‰§è¡Œå…³ç³»å¾ˆå¤æ‚ï¼Œä½†éƒ½èƒ½æ¨å¯¼å‡ºï¼Œè¿™é‡Œä¸èµ˜è¿°longå’Œdoubleæ˜¯64ä½æ•°æ®ï¼ŒJavaå†…å­˜æ¨¡å‹ä¸å¼ºåˆ¶ä½†æ¨èæŠŠä»–ä»¬ä¹Ÿå®ç°ä¸ºåŸå­æ“ä½œ volatileå‹å˜é‡volatileç±»å‹æœ‰ä¸¤ç§ç‰¹ç‚¹ï¼Œç¬¬ä¸€æ˜¯ä¿è¯å¯¹æ‰€æœ‰çº¿ç¨‹çš„å¯è§è¡Œï¼Œå³æ‰€æœ‰çº¿ç¨‹ä½¿ç”¨å…¶å‰éƒ½è¦åœ¨å·¥ä½œå†…å­˜ä¸­åˆ·æ–°ä»–çš„å€¼ï¼Œä½†æ˜¯è¿™äº›æ“ä½œå¹¶éåŸå­æ€§ï¼Œæ‰€ä»¥ä¸èƒ½ä¿è¯å¹¶å‘å®‰å…¨ã€‚ç¬¬äºŒæ˜¯ç¦æ­¢è¯­ä¹‰é‡æ’ã€‚ä»–å‰é¢çš„ä»£ç ä¸èƒ½æ’åˆ°ä»–åé¢å»ï¼Œä»–åé¢çš„ä»£ç ä¸èƒ½é‡æ’åˆ°ä»–å‰é¢ã€‚ Javaçº¿ç¨‹è°ƒåº¦Javaæœ‰10ç§ä¼˜å…ˆçº§ï¼Œä½†æ˜¯æ“ä½œç³»ç»Ÿå´ä¸ä¸€å®šæ˜¯10ç§ï¼Œè‹¥&lt;10åˆ™å¯¼è‡´Javaçº¿ç¨‹æŸäº›çº§åˆ«æ— å·®è·ï¼Œè‹¥&gt;10åˆ™å¯¼è‡´æœ‰äº›ç³»ç»Ÿçº¿ç¨‹ä¼˜å…ˆçº§æ— æ³•ä½¿ç”¨ã€‚ Javaçº¿ç¨‹çŠ¶æ€æ–°å»ºã€è¿è¡Œã€æ— é™æœŸç­‰å¾…(ä¸èƒ½ä¸»åŠ¨è‹é†’ï¼Œèƒ½è¢«å”¤é†’)ã€æœŸé™ç­‰å¾…ã€é˜»å¡ã€ç»“æŸ","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"JVM","slug":"Language/Java/JVM","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/JVM/"}],"tags":[]},{"title":"åƒåœ¾æ”¶é›†å™¨ä¸å†…å­˜åˆ†é…ç­–ç•¥","slug":"Language/Java/JVM/åƒåœ¾æ”¶é›†å™¨ä¸å†…å­˜åˆ†é…ç­–ç•¥/index","date":"2020-02-12T06:52:48.000Z","updated":"2021-03-30T13:47:31.000Z","comments":true,"path":"Q5KTS0.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q5KTS0.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å¦‚ä½•åˆ¤æ–­å¯¹è±¡å·²æ­»å¼•ç”¨è®¡æ•°ç®—æ³•ä¸ºå¯¹è±¡æ·»åŠ å¼•ç”¨è®¡æ•°å™¨ï¼Œæ¯å½“æœ‰ä¸€ä¸ªåœ°æ–¹å¼•ç”¨ä»–çš„æ—¶å€™è®¡æ•°å™¨çš„å€¼+1ï¼Œå½“å¼•ç”¨å¤±æ•ˆçš„æ—¶å€™è®¡æ•°å™¨çš„å€¼-1,å½“ä»»ä½•æ—¶åˆ»è®¡æ•°å™¨ä¸º0çš„å¯¹è±¡å°±æ˜¯ä¸å¯èƒ½å†è¢«ä½¿ç”¨äº†ã€‚æ­¤ç®—æ³•æ•ˆç‡é«˜ï¼Œä½†æ˜¯æ— æ³•è§£å†³ç›¸äº’å¼•ç”¨çš„é—®é¢˜ã€‚ å¯è¾¾æ€§åˆ†æç®—æ³•åˆ©ç”¨æœ‰å‘å›¾å¯è¾¾æ€§è¡¨ç¤ºå¯¹è±¡ç”Ÿæ­»ï¼Œä½œä¸ºGC Rootsçš„å¯¹è±¡æœ‰è™šæ‹Ÿæœºæ ˆï¼ˆæœ¬åœ°å˜é‡è¡¨ï¼‰ä¸­å¼•ç”¨çš„å¯¹è±¡ï¼Œæ–¹æ³•åŒºä¸­ç±»é™æ€å±æ€§å¼•ç”¨çš„å¯¹è±¡ï¼Œæ–¹æ³•åŒºä¸­å¸¸é‡å¼•ç”¨çš„å¯¹è±¡ï¼Œæœ¬åœ°æ–¹æ³•æ ˆä¸­JNIå¼•ç”¨çš„å¯¹è±¡ã€‚è‹¥ä¸èƒ½ä»æ ¹è¾¾åˆ°çš„å¯¹è±¡ï¼Œåˆ™å¯¹è±¡æ­»äº¡ã€‚ å¼•ç”¨åˆ†ç±»å¼ºå¼•ç”¨: ç±»ä¼¼â€œObject obj &#x3D; new Object()â€çš„å¼•ç”¨ è½¯å¼•ç”¨: æœ‰ç”¨ä½†å¹¶éå¿…éœ€çš„å¯¹è±¡ï¼Œåœ¨ç³»ç»Ÿå°†è¦å‘ç”Ÿå†…å­˜æº¢å‡ºå¼‚å¸¸å‰ï¼Œä¼šå¯¹è¿™äº›å¯¹è±¡è¿›è¡Œç¬¬äºŒæ¬¡å›æ”¶ã€‚ å¼±å¼•ç”¨: å¼±å¼•ç”¨åªèƒ½æ´»åˆ°ä¸‹ä¸€æ¬¡åƒåœ¾å›æ”¶ä¹‹å‰ã€‚ è™šå¼•ç”¨: å®Œå…¨ä¸ä¼šå½±å“è¯¥å¯¹è±¡æ˜¯å¦è¢«å›æ”¶ï¼Œç”¨äºåœ¨è¯¥å¯¹è±¡è¢«å›æ”¶æ—¶æ”¶åˆ°ä¸€ä¸ªç³»ç»Ÿæ¶ˆæ¯ã€‚ ç”Ÿå­˜è¿˜æ˜¯æ­»äº¡å½“å¯è¾¾æ€§åˆ†æç®—æ³•ä¸­æŸä¸ªå¯¹è±¡ä¸å¯è¾¾æ—¶ï¼Œä»–ä¼šè¿›å…¥ç¼“åˆ‘é˜¶æ®µï¼Œå¦‚æœä»–è¦†ç›–finalize()æ–¹æ³•ä¸”finalize()æ–¹æ³•æ²¡æœ‰è¢«è°ƒç”¨è¿‡ï¼Œä»–å°±ä¼šè¿›å…¥F-Queueé˜Ÿåˆ—ä¸­ï¼Œè™šæ‹Ÿæœºä¼šåœ¨ä¸€ä¸ªå¾ˆæ…¢çš„çº¿ç¨‹Finalizerä¸­æ‰§è¡Œä»–ã€‚åœ¨finalize()ä¸­å¯¹è±¡å¯ä»¥é€šè¿‡æŠŠè‡ªå·±èµ‹ç»™æŸä¸ªæ´»ç€çš„ç±»å˜é‡æˆ–å¯¹è±¡çš„æˆå‘˜å˜é‡æ¥æ‹¯æ•‘è‡ªå·±ï¼Œæ‹¯æ•‘äº†è‡ªå·±çš„å¯¹è±¡ä¸ä¼šè¢«å›æ”¶ï¼Œå…¶ä»–çš„å¯¹è±¡éƒ½ä¼šè¢«å›æ”¶æ‰ã€‚ å›æ”¶æ–¹æ³•åŒºJavaè™šæ‹Ÿæœºè§„èŒƒä¸­å¯ä»¥ä¸è¦æ±‚å®ç°è¯¥éƒ¨åˆ†ã€‚å›æ”¶å†…å®¹åŒ…æ‹¬ä¸¤éƒ¨åˆ†ï¼Œä¸€æ˜¯åºŸå¼ƒå¸¸é‡ï¼Œå³å½“å‰æ²¡æœ‰è¢«å¼•ç”¨çš„å¸¸é‡ï¼ŒäºŒæ˜¯æ— ç”¨çš„ç±»ï¼Œè¿™éœ€è¦æ»¡è¶³3ä¸ªæ¡ä»¶ï¼š 1.è¯¥ç±»çš„å®ä¾‹éƒ½è¢«å›æ”¶ï¼Œ2.åŠ è½½è¯¥ç±»çš„ClassLoaderè¢«å›æ”¶ï¼Œ3.è¯¥ç±»å¯¹åº”çš„java.lang.Classå¯¹è±¡æ²¡æœ‰è¢«å¼•ç”¨ï¼Œæ— æ³•åœ¨ä»»ä½•åœ°æ–¹é€šè¿‡åå°„è®¿é—®è¯¥ç±»çš„æ–¹æ³•ã€‚ åƒåœ¾æ”¶é›†ç®—æ³•æ ‡è®°-æ¸…é™¤ç®—æ³•ä»æ ¹ç»“ç‚¹å‡ºå‘éå†å¯¹è±¡ï¼Œå¯¹è®¿é—®è¿‡çš„å¯¹è±¡æ‰“ä¸Šæ ‡è®°ï¼Œè¡¨ç¤ºè¯¥å¯¹è±¡å¯è¾¾,ç»Ÿä¸€æ ‡è®°ç„¶åç»Ÿä¸€å›æ”¶ï¼Œè¿™æ ·æ•ˆç‡ä¸é«˜å¹¶äº§ç”Ÿäº†å¾ˆå¤šå†…å­˜ç¢ç‰‡ã€‚ å¤åˆ¶ç®—æ³•æŠŠå†…å­˜åˆ†ä¸ºç›¸åŒçš„ä¸¤å—ï¼Œä½¿ç”¨å…¶ä¸­ä¸€å—ï¼Œå½“ä½¿ç”¨å®Œåï¼Œå°†æœ‰ç”¨çš„å†…å­˜ç§»åˆ°å¦å¤–ä¸€å—ä¸Šï¼Œç„¶åå›æ”¶æ•´å—å†…å­˜ï¼Œè¿™æ ·æ•ˆç‡å¾ˆé«˜ï¼Œä½†æ˜¯å†…å­˜åˆ©ç”¨ç‡ä½ï¼Œä»–çš„ä¸€ç§æ”¹è¿›æ˜¯æŠŠå†…å­˜åˆ†ä¸‰å—ï¼Œä¸€å—å¤§ï¼Œä¸¤å—å°ï¼Œæ¯æ¬¡ä½¿ç”¨ä¸€å—å¤§+ä¸€å—å°ï¼Œæ•´ç†æ—¶æŠŠæœ‰ç”¨çš„éƒ¨åˆ†ç§»åŠ¨åˆ°å¦ä¸€å—å°çš„ï¼Œç„¶åæ¸…ç†ä¹‹å‰çš„ä¸¤å—ã€‚è¿™ä¸ªç®—æ³•åœ¨æ–°ç”Ÿä»£ä¸­è¡¨ç°éå¸¸å‡ºè‰²ã€‚ä½†æ˜¯æˆ‘ä»¬æ€»ä¼šç¢°åˆ°æ•´ç†çš„æ—¶å€™æ”¾ä¸ä¸‹çš„æƒ…å†µï¼Œè¿™æ—¶æˆ‘ä»¬é€šè¿‡å†…å­˜æ‹…ä¿æœºåˆ¶ï¼Œä¸ºå¤šä½™çš„å¯¹è±¡åˆ†é…å†…å­˜ï¼Œå¹¶ç›´æ¥è¿›å…¥è€å¹´ä»£ã€‚ æ ‡è®°-æ•´ç†ç®—æ³•åœ¨è€ç”Ÿä»£ä¸­ä¸€èˆ¬ä¸èƒ½ä½¿ç”¨å¤åˆ¶ç®—æ³•ï¼Œå› ä¸ºä»–ä»¬å­˜æ´»ç‡å¤ªé«˜äº†ã€‚æˆ‘ä»¬å¯ä»¥æ”¹è¿›æ ‡è®°-æ¸…é™¤ç®—æ³•ï¼Œå›æ”¶çš„æ—¶å€™é¡ºä¾¿å°†æœ‰ç”¨çš„å¯¹è±¡å‘å†…å­˜çš„ä¸€ç«¯ç§»åŠ¨ï¼Œè¿™æ ·å°±é¿å…äº†å†…å­˜ç¢ç‰‡çš„äº§ç”Ÿã€‚ åˆ†ä»£æ”¶é›†ç®—æ³•æŠŠJavaå †åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€ç”Ÿä»£ï¼Œæ ¹æ®ä¸ªä¸ªå¹´ä»£çš„ç‰¹ç‚¹é€‰æ‹©é€‚å½“çš„æ–¹æ³•ã€‚ HotSpotçš„GCæšä¸¾æ ¹èŠ‚ç‚¹æ ¹èŠ‚ç‚¹å¾ˆå¤šï¼Œæœ‰çš„åº”ç”¨ä»…æ–¹æ³•åŒºå°±æœ‰æ•°ç™¾å…†ï¼Œé€ä¸ªå¯»æ‰¾å¼•ç”¨ä¼šå¾ˆèŠ±è´¹æ—¶é—´ï¼Œè¿™é‡Œä½¿ç”¨OopMapæ¥ç›´æ¥è®°å½•ä¸‹ä¸€äº›å¼•ç”¨çš„ä½ç½®ã€‚å°±çœå»äº†å¯»æ‰¾çš„è¿‡ç¨‹ï¼Œå˜æˆäº†ç›´æ¥å®šä½ã€‚ å®‰å…¨ç‚¹GCçš„æ—¶å€™ï¼ŒJavaçš„å…¶ä»–çº¿ç¨‹å¿…é¡»å¤„äºå®‰å…¨çš„ä½ç½®ï¼Œä»¥ä¿è¯å¼•ç”¨é“¾ä¸å‘ç”Ÿå˜åŒ–ã€‚è™šæ‹Ÿæœºä¼šé€‚å½“æ ‡è®°æŸäº›å®‰å…¨ç‚¹ï¼ŒGCçš„æ—¶å€™å…¶ä»–çº¿ç¨‹å°±åœ¨è¿™äº›å®‰å…¨ç‚¹ä¸Šã€‚ä¸ºäº†ä¿è¯è¿™ä¸€ç‚¹ï¼Œæœ‰ä¸¤ç§ä¸­æ–­æ–¹å¼ï¼ŒæŠ¢å…ˆå¼ä¸­æ–­å’Œä¸»åŠ¨å¼ä¸­æ–­ï¼ŒæŠ¢å…ˆå¼ä¸­æ–­æŒ‡çš„æ˜¯é¦–å…ˆä¸­æ–­å…¨éƒ¨çº¿ç¨‹ï¼Œå¦‚æœå‘ç°æŸäº›çº¿ç¨‹ä¸åœ¨å®‰å…¨ç‚¹ï¼Œåˆ™è®©å…¶æ¢å¤ï¼Œè¿è¡Œåˆ°å®‰å…¨ç‚¹åœ¨åœä¸‹æ¥ã€‚ä¸»åŠ¨å¼ä¸­æ–­æ˜¯å½“GCéœ€è¦ä¸­æ–­æ—¶ï¼Œè®¾ç½®ä¸€ä¸ªæ ‡å¿—ï¼Œè®©å…¶ä»–çº¿ç¨‹ä¸»åŠ¨è½®æµè®¿é—®ï¼Œå‘ç°æ ‡å¿—ä¸ºçœŸçš„æ—¶å€™ï¼Œå°±ä¸»åŠ¨ä¸­æ–­ï¼Œè¿™é‡Œåªéœ€è¦ä¿è¯è¿›ç¨‹åœ¨å®‰å…¨ç‚¹è®¿é—®æ ‡å¿—å³å¯ã€‚ å®‰å…¨åŒºåŸŸæœ‰äº›Sleepæˆ–è€…BlockedçŠ¶æ€çš„è¿›ç¨‹æ— æ³•ä¸»åŠ¨å“åº”JVMçš„ä¸­æ–­è¯·æ±‚ï¼Œè¿è¡Œåˆ°å®‰å…¨çš„åœ°æ–¹ã€‚æˆ‘ä»¬å¼•å…¥å®‰å…¨åŒºåŸŸï¼Œåœ¨è¿™ä¸ªåŒºåŸŸå†…ï¼Œæ¯ä¸ªåœ°æ–¹éƒ½æ˜¯å®‰å…¨ç‚¹ï¼Œå½“çº¿ç¨‹æ‰§è¡Œåˆ°å®‰å…¨åŒºåŸŸæ—¶ï¼Œæ ‡è®°è‡ªå·±è¿›å…¥äº†å®‰å…¨åŒºåŸŸï¼Œè¿™æ®µæ—¶é—´JVMå¯ä»¥GCï¼Œä¸ç”¨ç®¡è¿™äº›çº¿ç¨‹ï¼Œå½“è¿™äº›çº¿ç¨‹ç¦»å¼€å®‰å…¨åŒºåŸŸçš„æ—¶å€™ï¼Œçº¿ç¨‹æ£€æŸ¥JVMæ˜¯å¦å®ŒæˆGCå³å¯ã€‚ åƒåœ¾æ”¶é›†å™¨serialæ”¶é›†å™¨å•çº¿ç¨‹æ”¶é›†ï¼ŒGCæ—¶æš‚åœæ‰€æœ‰ç”¨æˆ·è¿›ç¨‹,æ–°ç”Ÿä»£é‡‡å–å¤åˆ¶ç®—æ³•ï¼Œè€ç”Ÿä»£é‡‡å–æ ‡è®°-æ•´ç†ç®—æ³• ParNewæ”¶é›†å™¨GCæ—¶æš‚åœæ‰€æœ‰ç”¨æˆ·è¿›ç¨‹,æ–°ç”Ÿä»£é‡‡å–å¤šçº¿ç¨‹å¤åˆ¶ç®—æ³•ï¼Œè€ç”Ÿä»£é‡‡å–å•çº¿ç¨‹æ ‡è®°-æ•´ç†ç®—æ³• Parallel Scavengeæ”¶é›†å™¨è¿™ä¸ªæ”¶é›†å™¨å’ŒParNewæ”¶é›†å™¨å¾ˆåƒï¼Œä½†æ˜¯Parallel Scavengeæ”¶é›†å™¨æ›´åŠ å…³æ³¨ä¸¤ä¸ªä¿¡æ¯ï¼Œåœé¡¿æ—¶é—´å’Œååé‡ï¼Œåœé¡¿æ—¶é—´æŒ‡çš„æ˜¯GCé€ æˆçš„åœé¡¿æ—¶é—´ï¼Œååé‡æŒ‡çš„æ˜¯å•ä½æ—¶é—´å†…ä¸åœé¡¿çš„æ¯”ç‡ã€‚Parallel Scavengeè¿˜æ”¯æŒè‡ªåŠ¨è°ƒå‚ã€‚ CMSæ”¶é›†å™¨ è¿™ä¸ªæ”¶é›†å™¨å¼ºè°ƒæœåŠ¡çš„å“åº”é€Ÿåº¦ï¼Œå¸Œæœ›åœé¡¿æ—¶é—´æœ€çŸ­ã€‚ä»–çš„è¿‡ç¨‹åˆ†å››ä¸ªæ­¥éª¤: åˆå§‹æ ‡è®°ã€å¹¶å‘æ ‡è®°ã€é‡æ–°æ ‡è®°ã€å¹¶å‘æ¸…é™¤ã€‚åˆå§‹æ ‡è®°çš„æ—¶å€™è¦æš‚åœæ‰€æœ‰ç”¨æˆ·è¿›ç¨‹ï¼Œç„¶åæ ‡è®°GC ROOTç›´æ¥å…³è”çš„å¯¹è±¡ï¼Œè¿™ä¸ªæ­¥éª¤å¾ˆå¿«å°±èƒ½ç»“æŸï¼Œç„¶åå°±å¯ä»¥å¯åŠ¨ç”¨æˆ·è¿›ç¨‹å’ŒGC ROOT Tracingä¸€èµ·å¹¶å‘æ‰§è¡Œã€‚åœ¨å¹¶å‘æœŸé—´ä¼šå¯¼è‡´å¯è¾¾æ€§é“¾å‘ç”Ÿå˜åŒ–ï¼Œè¿™éœ€è¦ç¬¬ä¸‰ä¸ªæ­¥éª¤ï¼šé‡æ–°æ ‡è®°ï¼Œè¿™ä¹Ÿä¼šæš‚åœç”¨æˆ·è¿›ç¨‹ã€‚æœ€åå¹¶å‘æ¸…é™¤å³å¯ã€‚ CMSæ”¶é›†å™¨æ¸…ç†çš„æ—¶å€™é‡‡ç”¨çš„æ˜¯æ ‡è®°-æ¸…ç†ç®—æ³• å¡è¡¨ï¼ˆcard tableï¼‰YGCçš„æ—¶å€™ï¼Œè€å¹´ä»£ä¼šå¼•ç”¨æ–°ç”Ÿä»£ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦æ‰«æè€å¹´ä»£ç¡®ä¿ä»–ä»¬æ²¡æœ‰æŒ‡å‘æ–°ç”Ÿä»£çš„å¯¹è±¡ï¼Œè€å¹´ä»£å¾€å¾€å¾ˆå¤§ï¼Œæ‰«ææ•´ä¸ªè€å¹´ä»£ä¸ç°å®ï¼Œä¸ºäº†åŠ é€Ÿï¼Œæˆ‘ä»¬æŠŠè€å¹´ä»£åˆ†æˆ128ä¸ªå­—èŠ‚çš„cardï¼Œæ¯ä¸ªcardä¼šæœ‰ä¸€ä¸ªbitæ¥è®°å½•æ”¹cardæ˜¯å¦å¼•ç”¨äº†æ–°ç”Ÿä»£ã€‚cardå‚¨å­˜ä¸ºä¸€ä¸ªtableï¼Œæ‰€å è€ç”Ÿä»£ç©ºé—´ä¸º$\\frac{1}{128\\ast 8}$ CMSç¼ºç‚¹ï¼š cpuèµ„æºçš„å ç”¨ï¼Œå› ä¸ºå¹¶å‘ï¼ŒCMSè‡³å°‘å ç”¨ä¸€ä¸ªå¤„ç†å™¨çš„ä»½é¢ã€‚å¦‚æœæ˜¯é‡è®¡ç®—çš„åº”ç”¨ï¼Œååé‡å¯èƒ½ä¼šæœ‰ä¸å°‘çš„ä¸‹é™ã€‚ æµ®åŠ¨åƒåœ¾ï¼Œå¹¶å‘æ”¶é›†çš„è¿‡ç¨‹ä¸­ä¸ºäº†ä¿è¯GCçš„æ­£ç¡®æ€§(ä¿è¯å­˜æ´»çš„å¯¹è±¡ä¸è¢«å›æ”¶)ï¼Œä¸€äº›æœ¬åº”è¯¥å¯ä»¥å›æ”¶çš„å¯¹è±¡ä¼šè¢«æ ‡è®°æˆæ´»åŠ¨å¯¹è±¡ï¼Œé€ƒè¿‡GCã€‚ ååé‡çš„ä¸‹é™ã€‚å½±å“å› ç´ ä¸»è¦æœ‰ä¸¤ç‚¹ï¼š1ã€cpuçš„å ç”¨ 2ã€write barrierçš„é¢å¤–æ“ä½œã€‚s G1æ”¶é›†å™¨ G1æ”¶é›†å™¨æ˜¯ä¸€æ¬¾åœ¨serverç«¯è¿è¡Œçš„åƒåœ¾æ”¶é›†å™¨ï¼Œä¸“é—¨é’ˆå¯¹äºæ‹¥æœ‰å¤šæ ¸å¤„ç†å™¨å’Œå¤§å†…å­˜çš„æœºå™¨ï¼Œåœ¨JDK 7u4ç‰ˆæœ¬å‘è¡Œæ—¶è¢«æ­£å¼æ¨å‡ºï¼Œåœ¨JDK9ä¸­æ›´è¢«æŒ‡å®šä¸ºå®˜æ–¹GCæ”¶é›†å™¨ã€‚å®ƒæ»¡è¶³é«˜ååé‡çš„åŒæ—¶æ»¡è¶³GCåœé¡¿çš„æ—¶é—´å°½å¯èƒ½çŸ­ã€‚ G1æ”¶é›†å™¨è¦å…ˆæŠŠJavaå †åˆ†æˆå¤šä¸ªå¤§å°ç›¸ç­‰çš„ç‹¬ç«‹åŒºåŸŸï¼Œæ–°ç”Ÿä»£å’Œè€ç”Ÿä»£éƒ½æ˜¯ä¸€éƒ¨åˆ†ç‹¬ç«‹åŒºåŸŸï¼Œ G1ä¿ç•™äº†YGCï¼Œå¹¶å¼•å…¥äº†MIXGCæ”¶é›†è€å¹´ä»£ï¼ŒG1æ²¡æœ‰FULL GCï¼Œè€Œæ˜¯å¼•å…¥äº†ä¸€ç§æ–°çš„serial old Full GC YGCEdenè¢«å……æ»¡å°±ä¼šè§¦å‘YGCï¼ŒYGCä¼šè§¦å‘STW(stop the world),YGCçš„æ—¶å€™ä¸ä¼šæ”¶é›†è€å¹´ä»£ï¼Œæ‰€ä»¥ä¸ä¼šå»æ‰«ææ•´ä¸ªè€å¹´ä»£ï¼Œä¸ºäº†é¿å…å…¨ç›˜æ‰«æï¼Œå¯¹æ¯ä¸€ä¸ªregionéƒ½å¼•å…¥Remembered Setæ¥è®°å½•å¼•ç”¨å…³ç³»ï¼ˆè°å¼•ç”¨äº†æˆ‘ï¼‰ï¼Œæˆ‘ä»¬å›æ”¶è¿™ä¸ªregionçš„æ—¶å€™ï¼Œåªéœ€è¦æ‰«æRSetä¸­çš„è®°å½•ä»£è¡¨çš„regionå³å¯ã€‚G1æ­¥éª¤å’ŒCMSä¸€æ ·ï¼Œä½†æ˜¯Remembered Setçš„å­˜åœ¨ï¼Œè®©é‡æ–°æ ‡è®°å¯ä»¥å¹¶è¡Œå®Œæˆã€‚ MIXGCMIXGCé€‰æ‹©æ‰€æœ‰çš„æ–°ç”Ÿä»£+å…¨å±€å¹¶å‘æ ‡è®°ç»Ÿè®¡åˆ°çš„è€ç”Ÿä»£ã€‚ å…¨å±€å¹¶å‘æ ‡è®° åˆå§‹æ ‡è®°ï¼ŒSTW(stop the world),æ ‡è®°GC ROOTSç›´æ¥å¯è¾¾çš„å¯¹è±¡ï¼Œå¹¶å°†å…¶å‹å…¥æ‰«ææ ˆï¼Œç­‰å¾…åç»­æ‰«æã€‚ æ ¹åŒºåŸŸæ‰«æï¼Œæ ¹åŒºåŸŸæ‰«ææ˜¯ä»SurvioråŒºçš„å¯¹è±¡å‡ºå‘ï¼Œæ ‡è®°è¢«å¼•ç”¨åˆ°è€å¹´ä»£ä¸­çš„å¯¹è±¡ï¼Œå¹¶æŠŠå®ƒä»¬çš„å­—æ®µåœ¨å‹å…¥æ‰«ææ ˆï¼ˆmarking stackï¼‰ä¸­ç­‰åˆ°åç»­æ‰«æã€‚ä¸Initial Markä¸ä¸€æ ·çš„æ˜¯ï¼ŒRoot Region Scanningä¸éœ€è¦STWä¸åº”ç”¨ç¨‹åºæ˜¯å¹¶å‘è¿è¡Œã€‚Root Region Scanningå¿…é¡»åœ¨YGCå¼€å§‹å‰å®Œæˆã€‚ å¹¶å‘æ ‡è®°ï¼Œå¹¶å‘æ ‡è®°ä¹Ÿä¸éœ€è¦STWï¼Œä»æ‰«ææ ˆä¸­å–å‡ºå¯¹è±¡ï¼Œå¯¹å…¶æ ‡è®°ï¼Œå¹¶å°†å…¶å­—æ®µå‹å…¥æ ˆï¼Œåªåˆ°æ ˆä¸ºç©ºï¼Œæ‰«æè¿‡ç¨‹ä¸­è¿˜æ‰«æSATBè®°å½•çš„å¼•ç”¨ï¼ŒYGCå¯ä»¥ä¸­æ–­ä»–ã€‚ é‡æ–°æ ‡è®°ï¼Œåœ¨å¹¶å‘æ ‡è®°ä»¥åï¼Œè¿˜å‰©ä¸‹ä¸€äº›SATBå†™å±éšœè®°å½•çš„å¼•ç”¨ï¼Œè¿™ä¸ªæ—¶å€™éœ€è¦STWï¼Œè¿™éƒ¨åˆ†å¾ˆå¿« æ¸…é™¤ï¼ŒSTWï¼Œæ¸…ç‚¹æœ‰å­˜æ´»å¯¹è±¡çš„regionå’Œæ²¡æœ‰å­˜æ´»å¯¹è±¡çš„regionï¼Œæ›´æ–°resetï¼Œ ä¹‹åå°±æ˜¯å¹¶å‘æ“ä½œäº†ï¼Œç›´æ¥æŠŠæ²¡æœ‰å­˜æ´»å¯¹è±¡çš„regionåŠ å…¥åˆ°å¯åˆ†é…é˜Ÿåˆ—ä¸­è¿›è¡Œåˆ†é…ã€‚ YGCé€‰æ‹©å¹´è½»ä»£çš„regionï¼Œé€šè¿‡regionçš„ä¸ªæ•°æ¥æ§åˆ¶GCå¼€é”€ MIXGCé€‰æ‹©æ‰€æœ‰å¹´è½»ä»£regionå’Œå…¨å±€å¹¶å‘æ ‡è®°ä¸­è¯„åˆ†é«˜çš„è‹¥å¹²è€å¹´ä»£region YGCå’ŒMIXGCéƒ½ä¼šSTWï¼Œä½†æ˜¯ä»–çš„æ—¶é—´æ˜¯å¯æ§çš„ã€‚ STABsnapshot at the begin åŸå§‹å¿«ç…§ STABçš„åšæ³•åœ¨GCå¼€å§‹æ—¶å¯¹å†…å­˜è¿›è¡Œä¸€ä¸ªå¯¹è±¡å›¾çš„é€»è¾‘å¿«ç…§(snapshot)ï¼Œé€šè¿‡GC Roots tracing å‚ç…§å¹¶å‘æ ‡è®°çš„è¿‡ç¨‹ï¼Œåªè¦è¢«å¿«ç…§åˆ°å¯¹è±¡æ˜¯æ´»çš„ï¼Œé‚£åœ¨æ•´ä¸ªGCçš„è¿‡ç¨‹ä¸­å¯¹è±¡å°±è¢«è®¤å®šçš„æ˜¯æ´»çš„ï¼Œå³ä½¿è¯¥å¯¹è±¡çš„å¼•ç”¨ç¨åè¢«ä¿®æ”¹æˆ–è€…åˆ é™¤ã€‚åŒæ—¶æ–°åˆ†é…çš„å¯¹è±¡ä¹Ÿä¼šè¢«è®¤ä¸ºæ˜¯æ´»çš„ï¼Œé™¤æ­¤ä¹‹å¤–å…¶å®ƒä¸å¯è¾¾çš„å¯¹è±¡å°±è¢«è®¤ä¸ºæ˜¯æ­»æ‰äº†ã€‚è¿™æ ·STABå°±ä¿è¯äº†çœŸæ­£å­˜æ´»çš„å¯¹è±¡ä¸ä¼šè¢«GCè¯¯å›æ”¶ï¼Œä½†åŒæ—¶ä¹Ÿé€ æˆäº†æŸäº›å¯ä»¥è¢«å›æ”¶çš„å¯¹è±¡é€ƒè¿‡äº†GCï¼Œå¯¼è‡´äº†å†…å­˜é‡Œé¢å­˜åœ¨æµ®åŠ¨çš„åƒåœ¾(float garbage)ã€‚ å‚è€ƒ https://zhuanlan.zhihu.com/p/52841787 Shenandoahåƒåœ¾æ”¶é›†å™¨Shenandoah [ËŒÊƒÉ›nÉ™nËˆdoÊŠÉ™] Shenandoah ä¸ G1 å¯¹æ¯”ï¼š ç›¸åŒï¼š Shenandoahä¹Ÿæ˜¯ä½¿ç”¨åŸºäºRegionçš„å †å†…å­˜å¸ƒå±€ï¼ŒåŒæ ·æœ‰ç€ç”¨äºå­˜æ”¾å¤§å¯¹è±¡çš„Humongous Regionï¼Œé»˜è®¤çš„å›æ”¶ç­–ç•¥ä¹ŸåŒæ ·æ˜¯ä¼˜å…ˆå¤„ç†å›æ”¶ä»·å€¼æœ€å¤§çš„Region ä¸åŒï¼š ç®¡ç†å †å†…å­˜æ–¹é¢ï¼Œä¸G1è‡³å°‘æœ‰ä¸‰ä¸ªæ˜æ˜¾çš„ä¸åŒä¹‹å¤„ï¼š 1ã€Shenandoah æ”¯æŒå¹¶å‘çš„æ•´ç†ç®—æ³•;G1æ”¯æŒå¹¶è¡Œæ•´ç†ç®—æ³•ã€‚ 2ã€Shenandoahï¼ˆç›®å‰ï¼‰æ˜¯é»˜è®¤ä¸ä½¿ç”¨åˆ†ä»£æ”¶é›†çš„ï¼›G1 æœ‰ä¸“é—¨çš„æ–°ç”Ÿä»£Regionæˆ–è€…è€å¹´ä»£Regionçš„å­˜åœ¨; 3ã€Shenandoahæ‘’å¼ƒäº†åœ¨G1ä¸­è€—è´¹å¤§é‡å†…å­˜å’Œè®¡ç®—èµ„æºå»ç»´æŠ¤çš„è®°å¿†é›†ï¼Œæ”¹ç”¨åä¸ºâ€œè¿æ¥çŸ©é˜µâ€ï¼ˆConnection Matrixï¼‰çš„å…¨å±€æ•°æ®ç»“æ„æ¥è®°å½•è·¨Regionçš„å¼•ç”¨å…³ç³»ï¼Œé™ä½äº†å¤„ç†è·¨ä»£æŒ‡é’ˆæ—¶çš„è®°å¿†é›†ç»´æŠ¤æ¶ˆè€—ï¼Œä¹Ÿé™ä½äº†ä¼ªå…±äº«é—®é¢˜çš„å‘ç”Ÿæ¦‚ç‡ã€‚ å¯å‚è€ƒï¼šG1å›æ”¶å™¨æ¯ä¸€ä»½Regionéƒ½å¿…é¡»æœ‰ä¸€ä»½å¡è¡¨ï¼Œè¿™å¯¼è‡´G1çš„è®°å¿†é›†ï¼ˆå’Œå…¶ä»–å†…å­˜æ¶ˆè€—ï¼‰å¯èƒ½ä¼šå æ•´ä¸ªå †å®¹é‡çš„20%ä¹ƒè‡³æ›´å¤šçš„å†…å­˜ç©ºé—´å‚è€ƒã€Š è™šæ‹Ÿæœºåƒåœ¾æ”¶é›†å™¨åŸç†ã€‹ è¿æ¥çŸ©é˜µ è¿æ¥çŸ©é˜µå¯ä»¥ç®€å•ç†è§£ä¸ºä¸€å¼ äºŒç»´è¡¨æ ¼ï¼Œå¦‚æœRegion Næœ‰å¯¹è±¡æŒ‡å‘RegionMï¼Œå°±åœ¨è¡¨æ ¼çš„Nè¡ŒMåˆ—ä¸­æ‰“ä¸Šä¸€ä¸ªæ ‡è®°ï¼Œå¦‚å›¾3-15æ‰€ç¤ºï¼Œå¦‚æœRegion 5ä¸­çš„å¯¹è±¡Bazå¼•ç”¨äº†Region 3çš„Fooï¼ŒFooåˆå¼•ç”¨äº†Region 1çš„Barï¼Œé‚£è¿æ¥çŸ©é˜µä¸­çš„5è¡Œ3åˆ—ã€3è¡Œ1åˆ—å°±åº”è¯¥è¢«æ‰“ä¸Šæ ‡è®°ã€‚åœ¨å›æ”¶æ—¶é€šè¿‡è¿™å¼ è¡¨æ ¼å°±å¯ä»¥å¾—å‡ºå“ªäº›Regionä¹‹é—´äº§ç”Ÿäº†è·¨ä»£å¼•ç”¨ã€‚ å‚è€ƒï¼šhttps://blog.csdn.net/gaohaicheng123/article/details/106437504 Brooks PointerBrooksæå‡ºè½¬å‘æŒ‡é’ˆä»¥å‰ï¼Œåœ¨å¯¹è±¡çš„å†…å­˜ä¸Šæ”¾ç½®ä¿æŠ¤é™·é˜±ï¼Œä¸€æ—¦ç”¨æˆ·ç¨‹åºè¯»å–è¯¥å†…å­˜ï¼Œåˆ™ä¼šä¸­æ–­ï¼Œå¹¶é™·å…¥æ“ä½œç³»ç»Ÿçš„é™·é˜±ï¼Œæ­¤æ—¶ç”±è¿™éƒ¨åˆ†é™·é˜±ä»£ç æ¥å¼•å¯¼çœŸæ­£çš„è®¿é—®ã€‚ä½†æ˜¯é¢‘ç¹çš„ä¸­æ–­ä¼šå¯¼è‡´é¢‘ç¹çš„ç”¨æˆ·æ€åˆ‡æ¢ï¼Œå½±å“æ•ˆç‡ã€‚ Brooksæå‡ºï¼Œä¸éœ€è¦ä¸­æ–­ï¼Œæˆ‘ä»¬åªç”¨åœ¨å¯¹è±¡çš„å†…å­˜å¸ƒå±€å‰åŠ ä¸Šä¸€ä¸ªæŒ‡é’ˆï¼Œå¦‚æœå¯¹è±¡ä¸å¤„äºå¹¶å‘ç§»åŠ¨çŠ¶æ€ï¼Œåˆ™æŒ‡é’ˆæŒ‡å‘è‡ªå·±ï¼Œå¦åˆ™æŒ‡å‘ç§»åŠ¨åˆ°çš„åœ°æ–¹ã€‚å¦‚æœåªæ˜¯è¯»å–è¿˜å¥½ï¼Œå¦‚æœç”¨æˆ·éœ€è¦å†™å…¥å¯¹è±¡çš„å­—æ®µå°±æ¶‰åŠåˆ°äº†å¹¶å‘é—®é¢˜ã€‚ å®é™…ä¸ŠShenandoahæ”¶é›†å™¨æ˜¯é€šè¿‡æ¯”è¾ƒå¹¶äº¤æ¢ï¼ˆCompare And Swapï¼ŒCASï¼‰æ“ä½œæ¥ä¿è¯å¹¶å‘æ—¶å¯¹è±¡çš„è®¿é—®æ­£ç¡®æ€§çš„ã€‚ å‚è€ƒï¼šhttps://blog.csdn.net/gaohaicheng123/article/details/106437504 ä½†æ˜¯ï¼Œè¿™ä¸ªä»£ä»·æ˜¯å¤æ‚çš„è¯»å†™å±éšœé—®é¢˜ï¼Œè¯»å†™å±éšœä¸­å¦‚æœåŠ å…¥äº†è¿‡å¤šçš„é€»è¾‘ï¼Œåˆ™ä¼šå¯¼è‡´æ•´ä¸ªä»£ç çš„æ‰§è¡Œæ•ˆç‡é™ä½ ZGCZGCæ”¯æŒå„ç§å¤§å°çš„Region å°å‹Regionï¼ˆSmall Regionï¼‰ï¼šå®¹é‡å›ºå®šä¸º2MBï¼Œç”¨äºæ”¾ç½®å°äº256KBçš„å°å¯¹è±¡ã€‚ ä¸­å‹Regionï¼ˆMedium Regionï¼‰ï¼šå®¹é‡å›ºå®šä¸º32MBï¼Œç”¨äºæ”¾ç½®å¤§äºç­‰äº256KBä½†å°äº4MBçš„å¯¹è±¡ã€‚ å¤§å‹Regionï¼ˆLarge Regionï¼‰ï¼šå®¹é‡ä¸å›ºå®šï¼Œå¯ä»¥åŠ¨æ€å˜åŒ–ï¼Œä½†å¿…é¡»ä¸º2MBçš„æ•´æ•°å€ï¼Œç”¨äºæ”¾ç½®4MBæˆ–ä»¥ä¸Šçš„å¤§å¯¹è±¡ã€‚æ¯ä¸ªå¤§å‹Regionä¸­åªä¼šå­˜æ”¾ä¸€ä¸ªå¤§å¯¹è±¡ï¼Œè¿™ä¹Ÿé¢„ç¤ºç€è™½ç„¶åå­—å«ä½œâ€œå¤§å‹Regionâ€ï¼Œä½†å®ƒçš„å®é™…å®¹é‡å®Œå…¨æœ‰å¯èƒ½å°äºä¸­å‹Regionï¼Œæœ€å°å®¹é‡å¯ä½è‡³4MBã€‚å¤§å‹Regionåœ¨ZGCçš„å®ç°ä¸­æ˜¯ä¸ä¼šè¢«é‡åˆ†é…ï¼ˆé‡åˆ†é…æ˜¯ZGCçš„ä¸€ç§å¤„ç†åŠ¨ä½œï¼Œç”¨äºå¤åˆ¶å¯¹è±¡çš„æ”¶é›†å™¨é˜¶æ®µï¼Œç¨åä¼šä»‹ç»åˆ°ï¼‰çš„ï¼Œå› ä¸ºå¤åˆ¶ä¸€ä¸ªå¤§å¯¹è±¡çš„ä»£ä»·éå¸¸é«˜æ˜‚ã€‚ å‚è€ƒï¼šhttps://blog.csdn.net/gaohaicheng123/article/details/106437504 æŸ“è‰²æŒ‡é’ˆåœ¨64ä½linuxä¸­ï¼Œæ“ä½œç³»ç»Ÿåªæä¾›äº†46ä½çš„åœ°å€ç©ºé—´ï¼ŒZGCæŸ“è‰²æŒ‡é’ˆæŠ€æœ¯ä½¿ç”¨è¿™46ä½çš„æŒ‡é’ˆä¸­çš„é«˜å››ä½æ¥å‚¨å­˜é¢å¤–ä¿¡æ¯ï¼Œè¿™ä¹Ÿå¯¼è‡´äº†ZGCæ™ºèƒ½ç®¡ç†42ä½çš„å†…å­˜ç©ºé—´ï¼Œå³4TB Finalizableï¼šè¡¨ç¤ºæ˜¯å¦åªèƒ½é€šè¿‡finalize()æ–¹æ³•æ‰èƒ½è¢«è®¿é—®åˆ°ï¼Œå…¶ä»–é€”å¾„ä¸è¡Œï¼› Remappedï¼šè¡¨ç¤ºæ˜¯å¦è¿›å…¥äº†é‡åˆ†é…é›†ï¼ˆå³è¢«ç§»åŠ¨è¿‡ï¼‰ï¼› Marked1ã€Marked0ï¼šè¡¨ç¤ºå¯¹è±¡çš„ä¸‰è‰²æ ‡è®°çŠ¶æ€ï¼› ä¸‰è‰²æ ‡è®° é¢œè‰² æ„ä¹‰ ç™½è‰² è¡¨ç¤ºå¯¹è±¡å°šæœªè¢«åƒåœ¾æ”¶é›†å™¨è®¿é—®è¿‡ é»‘è‰² è¡¨ç¤ºå¯¹è±¡å·²ç»è¢«åƒåœ¾æ”¶é›†å™¨è®¿é—®è¿‡ï¼Œä¸”è¿™ä¸ªå¯¹è±¡çš„æ‰€æœ‰å¼•ç”¨éƒ½å·²ç»æ‰«æè¿‡ ç°è‰² è¡¨ç¤ºå¯¹è±¡å·²ç»è¢«åƒåœ¾æ”¶é›†å™¨è®¿é—®è¿‡ï¼Œä½†è¿™ä¸ªå¯¹è±¡ä¸Šè‡³å°‘å­˜åœ¨ä¸€ä¸ªå¼•ç”¨è¿˜æ²¡æœ‰è¢«æ‰«æè¿‡ã€‚ å¯è¾¾æ€§åˆ†æçš„æ‰«æè¿‡ç¨‹ï¼Œå…¶å®å°±æ˜¯ä¸€è‚¡ä»¥ç°è‰²ä¸ºæ³¢å³°çš„æ³¢çº¹ä»é»‘å‘ç™½æ¨è¿›çš„è¿‡ç¨‹ï¼Œä½†æ˜¯åœ¨å¹¶å‘çš„æ¨è¿›è¿‡ç¨‹ä¸­ä¼šäº§ç”Ÿâ€œå¯¹è±¡æ¶ˆå¤±â€çš„é—®é¢˜ï¼Œå¦‚å›¾ï¼š å¯¹è±¡æ¶ˆå¤±ç†è®ºï¼Œåªæœ‰åŒæ—¶æ»¡è¶³æ‰ä¼šå‘ç”Ÿå¯¹è±¡æ¶ˆå¤±ï¼š èµ‹å€¼å™¨æ’å…¥äº†ä¸€æ¡æˆ–å¤šæ¡ä»é»‘è‰²å¯¹è±¡åˆ°ç™½è‰²å¯¹è±¡çš„æ–°å¼•ç”¨ï¼› èµ‹å€¼å™¨åˆ é™¤äº†å…¨éƒ¨ä»ç°è‰²å¯¹è±¡åˆ°è¯¥ç™½è‰²å¯¹è±¡çš„ç›´æ¥æˆ–é—´æ¥å¼•ç”¨ï¼› è¦è§£å†³å¯¹è±¡æ¶ˆå¤±é—®é¢˜åªéœ€è¦ç ´åå…¶ä¸­ä¸€æ¡å°±è¡Œäº†ï¼Œç›®å‰å¸¸ç”¨æœ‰ä¸¤ç§æ–¹æ¡ˆï¼š å¢é‡æ›´æ–°ï¼ˆIncremental Updateï¼‰:å¢é‡æ›´æ–°è¦ç ´åçš„æ˜¯ç¬¬ä¸€ä¸ªæ¡ä»¶ï¼Œå½“é»‘è‰²å¯¹è±¡æ’å…¥æ–°çš„æŒ‡å‘ç™½è‰²å¯¹è±¡çš„å¼•ç”¨å…³ç³»æ—¶ï¼Œå°±å°†è¿™ä¸ªæ–°æ’å…¥çš„å¼•ç”¨è®°å½•ä¸‹æ¥ï¼Œç­‰å¹¶å‘æ‰«æç»“æŸä¹‹åï¼Œå†å°†è¿™äº›è®°å½•è¿‡çš„å¼•ç”¨å…³ç³»ä¸­çš„é»‘è‰²å¯¹è±¡ä¸ºæ ¹ï¼Œé‡æ–°æ‰«æä¸€æ¬¡ã€‚è¿™å¯ä»¥ç®€åŒ–ç†è§£ä¸ºï¼Œé»‘è‰²å¯¹è±¡ä¸€æ—¦æ–°æ’å…¥äº†æŒ‡å‘ç™½è‰²å¯¹è±¡çš„å¼•ç”¨ä¹‹åï¼Œå®ƒå°±å˜å›ç°è‰²å¯¹è±¡äº†ã€‚ åŸå§‹å¿«ç…§ï¼ˆSnapshot At TheBeginningï¼ŒSATBï¼‰:åŸå§‹å¿«ç…§è¦ç ´åçš„æ˜¯ç¬¬äºŒä¸ªæ¡ä»¶ï¼Œå½“ç°è‰²å¯¹è±¡è¦åˆ é™¤æŒ‡å‘ç™½è‰²å¯¹è±¡çš„å¼•ç”¨å…³ç³»æ—¶ï¼Œå°±å°†è¿™ä¸ªè¦åˆ é™¤çš„å¼•ç”¨è®°å½•ä¸‹æ¥ï¼Œåœ¨å¹¶å‘æ‰«æç»“æŸä¹‹åï¼Œå†å°†è¿™äº›è®°å½•è¿‡çš„å¼•ç”¨å…³ç³»ä¸­çš„ç°è‰²å¯¹è±¡ä¸ºæ ¹ï¼Œé‡æ–°æ‰«æä¸€æ¬¡ã€‚è¿™ä¹Ÿå¯ä»¥ç®€åŒ–ç†è§£ä¸ºï¼Œæ— è®ºå¼•ç”¨å…³ç³»åˆ é™¤ä¸å¦ï¼Œéƒ½ä¼šæŒ‰ç…§åˆšåˆšå¼€å§‹æ‰«æé‚£ä¸€åˆ»çš„å¯¹è±¡å›¾å¿«ç…§æ¥è¿›è¡Œæœç´¢ã€‚ å‚è€ƒï¼šhttps://blog.csdn.net/xiaolyuh123/article/details/103937164 å¹¶å‘æ ‡è®°ï¼ˆConcurrent Markï¼‰ï¼šä¸G1ã€Shenandoahä¸€æ ·ï¼Œå¹¶å‘æ ‡è®°æ˜¯éå†å¯¹è±¡å›¾åšå¯è¾¾æ€§åˆ†æçš„é˜¶æ®µï¼Œå®ƒçš„åˆå§‹æ ‡è®°å’Œæœ€ç»ˆæ ‡è®°ä¹Ÿä¼šå‡ºç°çŸ­æš‚çš„åœé¡¿ï¼Œæ•´ä¸ªæ ‡è®°é˜¶æ®µåªä¼šæ›´æ–°æŸ“è‰²æŒ‡é’ˆä¸­çš„Marked 0ã€Marked 1æ ‡å¿—ä½ã€‚ å¹¶å‘é¢„å¤‡é‡åˆ†é…ï¼ˆConcurrent Prepare for Relocateï¼‰ï¼šè¿™ä¸ªé˜¶æ®µéœ€è¦æ ¹æ®ç‰¹å®šçš„æŸ¥è¯¢æ¡ä»¶ç»Ÿè®¡å¾—å‡ºæœ¬æ¬¡æ”¶é›†è¿‡ç¨‹è¦æ¸…ç†å“ªäº›Regionï¼Œå°†è¿™äº›Regionç»„æˆé‡åˆ†é…é›†ï¼ˆRelocation Setï¼‰ã€‚ZGCæ¯æ¬¡å›æ”¶éƒ½ä¼šæ‰«ææ‰€æœ‰çš„Regionï¼Œç”¨èŒƒå›´æ›´å¤§çš„æ‰«ææˆæœ¬æ¢å–çœå»G1ä¸­è®°å¿†é›†çš„ç»´æŠ¤æˆæœ¬ã€‚ å¹¶å‘é‡åˆ†é…ï¼ˆConcurrent Relocateï¼‰ï¼šé‡åˆ†é…æ˜¯ZGCæ‰§è¡Œè¿‡ç¨‹ä¸­çš„æ ¸å¿ƒé˜¶æ®µï¼Œè¿™ä¸ªè¿‡ç¨‹è¦æŠŠé‡åˆ†é…é›†ä¸­çš„å­˜æ´»å¯¹è±¡å¤åˆ¶åˆ°æ–°çš„Regionä¸Šï¼Œå¹¶ä¸ºé‡åˆ†é…é›†ä¸­çš„æ¯ä¸ªRegionç»´æŠ¤ä¸€ä¸ªè½¬å‘è¡¨ï¼ˆForward Tableï¼‰ï¼Œè®°å½•ä»æ—§å¯¹è±¡åˆ°æ–°å¯¹è±¡çš„è½¬å‘å…³ç³»ã€‚ZGCæ”¶é›†å™¨èƒ½ä»…ä»å¼•ç”¨ä¸Šå°±æ˜ç¡®å¾—çŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å¤„äºé‡åˆ†é…é›†ä¹‹ä¸­ï¼Œå¦‚æœç”¨æˆ·çº¿ç¨‹æ­¤æ—¶å¹¶å‘è®¿é—®äº†ä½äºé‡åˆ†é…é›†ä¸­çš„å¯¹è±¡ï¼Œè¿™æ¬¡è®¿é—®å°†ä¼šè¢«é¢„ç½®çš„å†…å­˜å±éšœæ‰€æˆªè·ï¼Œç„¶åç«‹å³æ ¹æ®Regionä¸Šçš„è½¬å‘è¡¨è®°å½•å°†è®¿é—®è½¬å‘åˆ°æ–°å¤åˆ¶çš„å¯¹è±¡ä¸Šï¼Œå¹¶åŒæ—¶ä¿®æ­£æ›´æ–°è¯¥å¼•ç”¨çš„å€¼ï¼Œä½¿å…¶ç›´æ¥æŒ‡å‘æ–°å¯¹è±¡ï¼ŒZGCå°†è¿™ç§è¡Œä¸ºç§°ä¸ºæŒ‡é’ˆçš„â€œè‡ªæ„ˆâ€ï¼ˆSelf-Healingï¼‰èƒ½åŠ›ã€‚ ZGCçš„æŸ“è‰²æŒ‡é’ˆå› ä¸ºâ€œè‡ªæ„ˆâ€ï¼ˆSelf-Healingï¼‰èƒ½åŠ›ï¼Œæ‰€ä»¥åªæœ‰ç¬¬ä¸€æ¬¡è®¿é—®æ—§å¯¹è±¡ä¼šå˜æ…¢ï¼Œè€ŒShenandoahçš„Brooksè½¬å‘æŒ‡é’ˆæ˜¯æ¯æ¬¡éƒ½ä¼šå˜æ…¢ã€‚ ä¸€æ—¦é‡åˆ†é…é›†ä¸­æŸä¸ªRegionçš„å­˜æ´»å¯¹è±¡éƒ½å¤åˆ¶å®Œæ¯•åï¼Œè¿™ä¸ªRegionå°±å¯ä»¥ç«‹å³é‡Šæ”¾ç”¨äºæ–°å¯¹è±¡çš„åˆ†é…ï¼Œä½†æ˜¯è½¬å‘è¡¨è¿˜å¾—ç•™ç€ä¸èƒ½é‡Šæ”¾æ‰ï¼Œå› ä¸ºå¯èƒ½è¿˜æœ‰è®¿é—®åœ¨ä½¿ç”¨è¿™ä¸ªè½¬å‘è¡¨ã€‚ å¹¶å‘é‡æ˜ å°„ï¼ˆConcurrent Remapï¼‰ï¼šé‡æ˜ å°„æ‰€åšçš„å°±æ˜¯ä¿®æ­£æ•´ä¸ªå †ä¸­æŒ‡å‘é‡åˆ†é…é›†ä¸­æ—§å¯¹è±¡çš„æ‰€æœ‰å¼•ç”¨ï¼Œä½†æ˜¯ZGCä¸­å¯¹è±¡å¼•ç”¨å­˜åœ¨â€œè‡ªæ„ˆâ€åŠŸèƒ½ï¼Œæ‰€ä»¥è¿™ä¸ªé‡æ˜ å°„æ“ä½œå¹¶ä¸æ˜¯å¾ˆè¿«åˆ‡ã€‚ZGCå¾ˆå·§å¦™åœ°æŠŠå¹¶å‘é‡æ˜ å°„é˜¶æ®µè¦åšçš„å·¥ä½œï¼Œåˆå¹¶åˆ°äº†ä¸‹ä¸€æ¬¡åƒåœ¾æ”¶é›†å¾ªç¯ä¸­çš„å¹¶å‘æ ‡è®°é˜¶æ®µé‡Œå»å®Œæˆï¼Œåæ­£å®ƒä»¬éƒ½æ˜¯è¦éå†æ‰€æœ‰å¯¹è±¡çš„ï¼Œè¿™æ ·åˆå¹¶å°±èŠ‚çœäº†ä¸€æ¬¡éå†å¯¹è±¡å›¾çš„å¼€é”€ã€‚å‚è€ƒï¼šhttps://blog.csdn.net/xiaolyuh123/article/details/103937164 å†…å­˜åˆ†é…ä¸å›æ”¶ç­–ç•¥å¯¹è±¡ä¼˜å…ˆåˆ†é…åœ¨Edenä¸­ï¼ŒEdenå°±æ˜¯å †ä¸­çš„å¤§å—ï¼Œè‹¥ä¸èƒ½åˆ†ï¼Œåˆ™è¿›è¡Œæ–°ç”Ÿä»£éƒ½GC å¤§å¯¹è±¡ç›´æ¥è¿›å…¥è€å¹´ä»£ å¯¹è±¡æ¯å­˜æ´»äºä¸€æ¬¡æ–°ç”Ÿä»£GCï¼Œåˆ™å¹´é¾„å¢é•¿ä¸€å²ï¼Œè¾¾åˆ°15å²çš„æ—¶å€™ä¾¿è¿›å…¥äº†è€å¹´ä»£ã€‚ å¦‚æœæ‰€æœ‰å¹´é¾„ç›¸åŒçš„å¯¹è±¡æ‰€å ç©ºé—´è¶…è¿‡äº†ä¸€åŠï¼Œåˆ™æ­¤å¹´é¾„ä»¥ä¸Šçš„å¯¹è±¡å…¨éƒ¨è¿›å…¥è€å¹´ä»£ã€‚ åœ¨æ–°ç”Ÿä»£GCçš„æ—¶å€™ä¼šç¢°åˆ°ç©ºé—´ä¸å¤Ÿçš„æƒ…å†µï¼Œè¿™æ—¶éœ€è¦ç©ºé—´åˆ†é…æ‹…ä¿æœºåˆ¶ï¼Œæ ¹æ®æ¦‚ç‡è®ºè®¾ç½®é˜ˆå€¼ï¼Œåœ¨æ–°ç”Ÿä»£GCçš„æ—¶å€™æ ¹æ®ä»¥å¾€æ™‹å‡åˆ°è€å¹´ä»£çš„å¯¹è±¡å†…å­˜å¤§å°çš„å‡å€¼å’Œæ–¹å·®è®¡ç®—é˜ˆå€¼ï¼Œè‹¥è€å¹´ä»£å‰©ä½™ç©ºé—´å°äºé˜ˆå€¼ï¼Œåˆ™ä¼šå…ˆè¿›è¡Œè€å¹´ä»£GCè…¾å‡ºç©ºé—´ï¼Œè‹¥è€å¹´ä»£å‰©ä½™ç©ºé—´å¤§äºé˜ˆå€¼ï¼Œåˆ™ç›´æ¥è¿›è¡Œæ–°ç”Ÿä»£GCï¼Œè¿™æ—¶ä¼šæœ‰éå¸¸å°çš„æ¦‚ç‡ï¼ŒGCå¤±è´¥ï¼Œç„¶åå‡ºå‘è€å¹´ä»£GCã€‚è¿™é‡Œå’ŒTCPåè®®ä¸­åŠ¨æ€æ»‘åŠ¨çª—å£å¤§å°åè®®æœ‰ç‚¹ç±»ä¼¼ã€‚ å‚è€ƒã€Šæ·±å…¥ç†è§£Javaè™šæ‹ŸæœºJVMé«˜çº§ç‰¹æ€§ä¸æœ€ä½³å®è·µç¬¬2ç‰ˆã€‹ G1 æ”¶é›†å™¨åŸç†ç†è§£ä¸åˆ†æ æ·±å…¥ç†è§£JVM - Shenandoahåƒåœ¾æ”¶é›†å™¨ æ·±å…¥ç†è§£javaè™šæ‹Ÿæœºâ€”â€” è™šæ‹Ÿæœº æ–°å‹åƒåœ¾æ”¶é›†å™¨ Shenandoah GC, ZGC","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"JVM","slug":"Language/Java/JVM","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/JVM/"}],"tags":[]},{"title":"Javaå†…å­˜åŒºåŸŸäºå†…å­˜æº¢å‡ºå¼‚å¸¸","slug":"Language/Java/JVM/Javaå†…å­˜åŒºåŸŸäºå†…å­˜æº¢å‡ºå¼‚å¸¸/index","date":"2020-02-12T04:11:54.000Z","updated":"2020-02-12T04:11:54.000Z","comments":true,"path":"Q5KMBU.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q5KMBU.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Javaè¿è¡Œæ—¶çš„æ•°æ®åŒºåŸŸæ–¹æ³•åŒºã€è™šæ‹Ÿæœºæ ˆã€æœ¬åœ°æ–¹æ³•æ ˆã€å †ã€ç¨‹åºè®¡æ•°å™¨ ç¨‹åºè®¡æ•°å™¨çº¿ç¨‹ç§æœ‰ä¸ºäº†æ”¯æŒå¤šçº¿ç¨‹ï¼ŒJavaè™šæ‹Ÿæœºä¸ºæ¯ä¸ªçº¿ç¨‹è®¾ç½®ç‹¬ç«‹çš„ç¨‹åºè®¡æ•°å™¨ï¼Œå„æ¡çº¿ç¨‹ä¹‹é—´è®¡æ•°å™¨äº’ä¸å½±å“ï¼Œç‹¬ç«‹å‚¨å­˜ã€‚å¦‚æœçº¿ç¨‹æ‰§è¡Œçš„æ˜¯Javaæ–¹æ³•ï¼Œè®¡æ•°å™¨æŒ‡å‘æ­£åœ¨æ‰§è¡Œçš„å­—èŠ‚ç æŒ‡ä»¤åœ°å€ï¼Œå¦‚æœçº¿ç¨‹æ‰§è¡Œçš„æ˜¯Nativeæ–¹æ³•ï¼Œè¿™ä¸ªè®¡æ•°å™¨åˆ™ä¸ºç©ºç¨‹åºè®¡æ•°å™¨åŒºåŸŸæ˜¯å”¯ä¸€ä¸€ä¸ªæ²¡æœ‰ä»»ä½•OutOfMemoryErroræƒ…å†µçš„åŒºåŸŸã€‚ Javaè™šæ‹Ÿæœºæ ˆçº¿ç¨‹ç§æœ‰æ¯ä¸ªæ–¹æ³•åœ¨æ‰§è¡Œçš„åŒæ—¶éƒ½ä¼šå‘è™šæ‹Ÿæœºæ ˆç”³è¯·ä¸€ä¸ªæ ˆå¸§ç”¨äºå‚¨å­˜å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€åŠ¨æ€é“¾æ¥ã€æ–¹æ³•å‡ºå£ç­‰ä¿¡æ¯ï¼Œæ¯ä¸ªæ–¹æ³•çš„è°ƒç”¨ç›´åˆ°æ‰§è¡Œå®Œæˆï¼Œå¯¹åº”ä¸€ä¸ªæ ˆå¸§åœ¨è™šæ‹Ÿæœºæ ˆä¸­å…¥æ ˆåˆ°å‡ºæ ˆçš„è¿‡ç¨‹ï¼Œå±€éƒ¨å˜é‡è¡¨å­˜æ”¾äº†æ–¹æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­çš„æ‰€æœ‰å±€éƒ¨å˜é‡ï¼Œç¼–è¯‘æœŸé—´å°±ç¡®å®šäº†ã€‚æ‰€ä»¥ï¼Œè¿™ä¸ªæ ˆå¸§çš„å¤§å°æ˜¯å®Œå…¨å›ºå®šçš„ã€‚è™šæ‹Ÿæœºæ ˆä¼šæœ‰StackOverflowErrorå’ŒOutOfMemoryErrorï¼Œå‰è€…åœ¨å›ºå®šé•¿åº¦çš„è™šæ‹Ÿæœºæ ˆä¸­å‡ºç°ï¼Œåè€…åœ¨å˜é•¿è™šæ‹Ÿæœºæ ˆä¸­å‡ºç°ã€‚è¿™è¦çœ‹è™šæ‹Ÿæœºæ˜¯å“ªä¸€ç§è™šæ‹Ÿæœºã€‚ æœ¬åœ°æ–¹æ³•æ ˆç±»ä¼¼äºJavaæ–¹æ³•ä½¿ç”¨Javaè™šæ‹Ÿæœºçš„æ ˆ,è¿™ä¸€åŒºåŸŸæ˜¯æœ¬åœ°æ–¹æ³•ä½¿ç”¨çš„æ ˆã€‚æœ‰StackOverflowErrorå’ŒOutOfMemoryErrorã€‚ Javaå †çº¿ç¨‹å…±äº«æ­¤å†…å­˜å”¯ä¸€ç›®çš„æ˜¯å­˜æ”¾å¯¹è±¡å®ä¾‹ï¼ŒJavaè™šæ‹Ÿæœºè§„èŒƒä¸­æè¿°åˆ°:æ‰€æœ‰å¯¹è±¡å®ä¾‹ä»¥åŠæ•°ç»„éƒ½è¦åœ¨å †ä¸Šåˆ†é…ã€‚ä½†æ˜¯éšç€JITç¼–è¯‘å™¨ç­‰æŠ€æœ¯ç­‰å‘å±•ï¼Œæ‰€æœ‰å¯¹è±¡éƒ½åˆ†é…åœ¨å †ä¸Šä¹Ÿæ¸æ¸ä¸é‚£ä¹ˆç»å¯¹äº†ã€‚Javaå †å…è®¸ä¸è¿ç»­Javaå †æœ‰OutOfMemoryError æ–¹æ³•åŒºçº¿ç¨‹å…±äº«å‚¨å­˜è™šæ‹ŸæœºåŠ è½½çš„ç±»ä¿¡æ¯ï¼Œå¸¸é‡ï¼Œé™æ€å˜é‡ï¼Œå³æ—¶ç¼–è¯‘åçš„ä»£ç ç­‰æ•°æ®å¯ä»¥é€‰æ‹©ä¸è¿›è¡Œåƒåœ¾å›æ”¶ï¼Œä½†è¿™ä¸æ˜æ™ºæœ‰OutOfMemoryError è¿è¡Œæ—¶å¸¸é‡æ± æ˜¯æ–¹æ³•åŒºçš„ä¸€éƒ¨åˆ†å…è®¸åœ¨ç¨‹åºè¿è¡Œæ—¶åˆ›å»ºå¸¸é‡æœ‰OutOfMemoryError ç›´æ¥å†…å­˜ä¸æ˜¯è™šæ‹Ÿæœºçš„ä¸€éƒ¨åˆ†ï¼Œåœ¨NIOç±»ä¸­ï¼Œå…è®¸Nativeå‡½æ•°åº“å‘æ“ä½œç³»ç»Ÿç”³è¯·å†…å­˜ï¼Œæä¾›ä¸€äº›æ–¹å¼è®¿é—®ï¼Œä½¿å¾—åœ¨ä¸€äº›åœºæ™¯æé«˜æ€§èƒ½ï¼Œæœ‰OutOfMemoryError HotSpot VMå¯¹è±¡çš„åˆ›å»ºå½“è™šæ‹Ÿæœºç¢°åˆ°newçš„æ—¶å€™ï¼Œä¼šå…ˆæ£€æŸ¥ç±»æ˜¯å¦è¢«åŠ è½½ã€è§£æã€åˆå§‹åŒ–ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™å…ˆæ‰§è¡Œç›¸åº”çš„åŠ è½½è¿‡ç¨‹ï¼Œå½“ç±»æ£€æŸ¥é€šè¿‡ä»¥åï¼Œä¼šä¸ºå¯¹è±¡åˆ†é…å†…å­˜ï¼Œè¿™ä¸ªå†…å­˜å¤§å°æ˜¯å®Œå…¨ç¡®å®šçš„ï¼Œè™šæ‹Ÿæœºä¼šä»è™šæ‹Ÿæœºå †ä¸­åˆ†é…è¿™å—å†…å­˜å¹¶å°†è¿™å—å†…å­˜åˆå§‹åŒ–ä¸º0,ç„¶åæ‰§è¡Œinitæ–¹æ³•ã€‚å› ä¸ºJavaéœ€è¦æ”¯æŒå¤šçº¿ç¨‹ï¼Œæ‰€ä»¥è¿™é‡Œå®é™…éœ€è¦åŒæ­¥å¤„ç†ï¼Œè¿˜æœ‰ä¸€ç§è§£å†³æ–¹æ¡ˆå«åšTLABï¼ˆThread Local Allocation Bufferï¼‰é¢„å…ˆä¸ºæ¯ä¸ªçº¿ç¨‹åˆ†é…ä¸€å°å—å†…å­˜ï¼Œå°±ä¸ä¼šå—åˆ°å¤šçº¿ç¨‹å½±å“ï¼Œå½“TLABç”¨å®Œä»¥åï¼Œéœ€è¦åˆ†é…æ–°çš„TLABï¼Œè¿™æ—¶æ‰éœ€è¦åŒæ­¥é”å®šï¼Œåœ¨TLABåˆ†é…æ—¶å³å¯æå‰åˆå§‹åŒ–è¿™å—å†…å­˜ä¸º0,å½“ç„¶ä¹Ÿå¯ä»¥ä¸æå‰ã€‚ å¯¹è±¡çš„å†…å­˜å¸ƒå±€å†…å­˜ä¸­å‚¨å­˜çš„å¸ƒå±€å¯ä»¥åˆ†ä¸º3å—åŒºåŸŸ: å¯¹è±¡å¤´ã€å®ä¾‹æ•°æ®å’Œå¯¹é½å¡«å……ã€‚å¯¹è±¡å¤´åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œç¬¬ä¸€éƒ¨åˆ†å‚¨å­˜äº†å“ˆå¸Œç ã€GCåˆ†ä»£å¹´é¾„ã€é”çŠ¶æ€ã€çº¿ç¨‹æŒæœ‰é”ã€åå‘çº¿ç¨‹IDç­‰ç­‰è¿™éƒ¨åˆ†åœ¨32ä½æœºå™¨ä¸Šä¸º32bitï¼Œåœ¨64ä½æœºå™¨ä¸Šä¸º64bitï¼Œç¬¬äºŒéƒ¨åˆ†å¯æœ‰å¯æ— ï¼Œå‚¨å­˜ç±»å‹æŒ‡é’ˆï¼ŒæŒ‡å‘ç±»å…ƒæ•°æ®ã€‚å¦å¤–å¯¹äºJavaæ•°ç»„ï¼Œå°±è¿˜æœ‰ç¬¬ä¸‰éƒ¨åˆ†ç”¨äºè®°å½•æ•°ç»„é•¿åº¦ã€‚å¯¹é½å¡«å……å°±æ˜¯ä¸ºäº†è®©å¯¹è±¡å¤§å°å˜æˆ8å­—èŠ‚çš„æ•´æ•°å€ å¯¹è±¡çš„è®¿é—®å®šä½Javaç¨‹åºé€šè¿‡æ ˆä¸Šçš„referenceæ•°æ®æ¥æ“ä½œå †ä¸Šçš„å…·ä½“å¯¹è±¡ï¼Œä¸»æµçš„å¯¹è±¡è®¿é—®æ–¹å¼æœ‰ä¸¤ç§ï¼Œç¬¬ä¸€ç§æ˜¯å¥æŸ„è®¿é—®ï¼ŒJavaå †ä¼šåˆ’åˆ†å‡ºä¸€å—å†…å­˜ç”¨ä½œå¥æŸ„æ± ï¼Œreferenceå‚¨å­˜å¥æŸ„åœ°å€ï¼Œå¥æŸ„å‚¨å­˜å¯¹è±¡å®ä¾‹å’Œç±»å‹å„è‡ªçš„å…·ä½“åœ°å€ï¼›ç¬¬äºŒç§æ˜¯ç›´æ¥è®¿é—®ï¼Œè¿™ç§æƒ…å†µJavaå¯¹è±¡çš„å¸ƒå±€ä¸­å°±è¦è€ƒè™‘å‚¨å­˜ç±»å‹æ•°æ®ï¼Œreferenceå°±å‚¨å­˜å¯¹è±¡çš„ç›´æ¥åœ°å€ã€‚å‰è€…åœ¨åƒåœ¾æ”¶é›†æ—¶ç§»åŠ¨æ—¶å¿«ï¼Œåè€…è®¿é—®é€Ÿåº¦å¿«ã€‚","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"JVM","slug":"Language/Java/JVM","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/JVM/"}],"tags":[]},{"title":"èµ°è¿›Java","slug":"Language/Java/JVM/èµ°è¿›Java/index","date":"2020-02-12T01:38:37.000Z","updated":"2020-02-12T01:38:37.000Z","comments":true,"path":"Q5KF8D.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q5KF8D.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial whatâ€™s thatè¿™æ˜¯å­¦ä¹ ã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºã€‹å‘¨å¿—æ˜ è‘—. çš„ç¬”è®° Java çš„ä¼˜ç‚¹ç»“æ„ä¸¥è°¨ã€é¢å‘å¯¹è±¡ã€è„±å¹³å°ã€ç›¸å¯¹å®‰å…¨çš„å†…å­˜ç®¡ç†å’Œè®¿é—®æœºåˆ¶ã€çƒ­ç‚¹ä»£ç æ£€æµ‹å’Œè¿è¡Œæ—¶ç¼–è¯‘åŠä¼˜åŒ–ã€æ‹¥æœ‰å®Œå–„çš„åº”ç”¨ç¨‹åºæ¥å£åŠç¬¬ä¸‰æ–¹ç±»åº“â€¦â€¦ JDK,JRE,Java SE API çš„åŒºåˆ«å›¾ç‰‡æ¥æºäºã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºã€‹ Javaå¹³å°Java Card: æ”¯æŒä¸€äº›Javaå°ç¨‹åºè¿è¡Œåœ¨æ ¡å†…æ¬¡è®¾å¤‡ï¼ˆæ™ºèƒ½å¡ï¼‰ä¸Šçš„å¹³å°Java ME: æ”¯æŒJavaç¨‹åºè¿è¡Œåœ¨ç§»åŠ¨ç»ˆç«¯ä¸Šçš„å¹³å°,å¯¹Java APIæ‰€ç²¾ç®€Java SE: æ”¯æŒé¢å‘æ¡Œé¢çº§åº”ç”¨çš„å¹³å°ï¼Œæœ‰å®Œæ•´çš„Javaæ ¸å¿ƒAPIJava EE:æ”¯æŒå¤šå±‚æ¶æ„çš„ä¼ä¸šåº”ç”¨çš„å¹³å°ï¼Œå‡ºJavaæ ¸å¿ƒAPIå¤–è¿˜åšäº†å¤§é‡è¡¥å…… Sun HotSpot VMè¿™æ˜¯Sun JDKå’ŒOpenJDKä¸­æ‰€å¸¦çš„è™šæ‹Ÿæœº","categories":[{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"JVM","slug":"Language/Java/JVM","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/JVM/"}],"tags":[]},{"title":"EulerTourTree","slug":"ACM/å­¦ä¹ ç¬”è®°/æ ‘/EulerTourTree/index","date":"2019-12-15T11:00:56.000Z","updated":"2019-12-15T11:00:56.000Z","comments":true,"path":"Q2JVXK.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q2JVXK.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial Euler Tour Treeä»»ä½•ä¸€é¢—æ ‘éƒ½èƒ½å¤Ÿç”¨æ¬§æ‹‰æ—…è¡Œè·¯å¾„æ¥è¡¨ç¤ºï¼Œæ¬§æ‹‰æ—…è¡Œè·¯å¾„æ˜¯ä¸€ä¸ªåºåˆ—ï¼Œä»–è®°å½•äº†ä¸€é¢—æ ‘çš„dfsçš„æ—¶å€™çš„é¡ºåºï¼Œè®°å½•äº†è¿›å…¥æ¯ä¸ªèŠ‚ç‚¹çš„æ—¶é—´å’Œé€€å‡ºè¯¥èŠ‚ç‚¹çš„æ—¶é—´ï¼Œè¿™æ ·ä»¥åï¼Œå­æ ‘å°±æˆäº†ETTä¸Šè¿ç»­çš„åŒºé—´ï¼Œå½“æˆ‘ä»¬å¯¹å­æ ‘è¿›è¡Œäº¤æ¢çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°†è¿™ä¸ªåŒºé—´å¹³ç§»ã€‚è¿™é‡Œæˆ‘ä»¬ç”¨splayç»´æŠ¤å³å¯","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ ‘","slug":"ACM/å­¦ä¹ ç¬”è®°/æ ‘","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%A0%91/"}],"tags":[]},{"title":"kernelFunctions","slug":"Math/kernelFunctions/index","date":"2019-12-13T08:49:33.000Z","updated":"2019-12-13T08:49:33.000Z","comments":true,"path":"Q2G0IL.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q2G0IL.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial kernel functionsæ ¸å‡½æ•°æ˜¯ä¸€ä¸ªå‡½æ•°,ä»–èƒ½å¤ŸæŠŠä½çº¬ç©ºé—´æ˜ å°„åˆ°é«˜ç»´ç©ºé—´,ä»–çš„è¾“å…¥æ˜¯ä½ç»´ç©ºé—´çš„ä¸¤ä¸ªç‚¹ï¼Œä»–çš„è¾“å‡ºæ˜¯è¿™ä¸¤ä¸ªç‚¹åœ¨é«˜ç»´ç©ºé—´ä¸Šçš„å†…ç§¯ã€‚ why kernel functionsæŸäº›åœ¨ä½ç»´ç©ºé—´æ— æ³•ä½¿ç”¨è¶…å¹³é¢åˆ†å‰²çš„ç‚¹é›†ï¼Œä»–ä»¬è¢«æŸäº›å‡½æ•°æ˜ å°„åˆ°é«˜ç»´ç©ºé—´ä»¥åï¼Œèƒ½å¤Ÿè¢«è¶…å¹³é¢åˆ†å‰²ã€‚å¹¶ä¸”åœ¨é«˜ç»´ç©ºé—´ä¸­è®¡ç®—ä»–ä»¬çš„å†…ç§¯å¾ˆå®¹æ˜“(å°±æ˜¯æ ¸å‡½æ•°) åº”ç”¨ Simple Example: x &#x3D; (x1, x2, x3); y &#x3D; (y1, y2, y3). Then for the function f(x) &#x3D; (x1x1, x1x2, x1x3, x2x1, x2x2, x2x3, x3x1, x3x2, x3x3), the kernel is K(x, y ) &#x3D; (&lt;x, y&gt;)Â².Letâ€™s plug in some numbers to make this more intuitive: suppose x &#x3D; (1, 2, 3); y &#x3D; (4, 5, 6). Then:f(x) &#x3D; (1, 2, 3, 2, 4, 6, 3, 6, 9)f(y) &#x3D; (16, 20, 24, 20, 25, 30, 24, 30, 36)&lt;f(x), f(y)&gt; &#x3D; 16 + 40 + 72 + 40 + 100+ 180 + 72 + 180 + 324 &#x3D; 1024A lot of algebra, mainly because f is a mapping from 3-dimensional to 9 dimensional space.Now let us use the kernel instead:K(x, y) &#x3D; (4 + 10 + 18 ) ^2 &#x3D; 32Â² &#x3D; 1024Same result, but this calculation is so much easier.","categories":[{"name":"Math","slug":"Math","permalink":"http://fightinggg.github.io/indigo/categories/Math/"}],"tags":[]},{"title":"Lnorm","slug":"Math/Lnorm/index","date":"2019-12-13T02:12:41.000Z","updated":"2019-12-13T02:12:41.000Z","comments":true,"path":"Q2FI55.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q2FI55.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial LèŒƒæ•°å¸¸è§çš„LèŒƒæ•°æœ‰ä¸‰ç§$L_0 norm,L_1 norm,L_2 norm$ $L_0èŒƒæ•°$$L_0èŒƒæ•°$æŒ‡çš„æ˜¯å‘é‡ä¸­é0é¡¹çš„ä¸ªæ•° $L_1èŒƒæ•°$$L_1èŒƒæ•°$æ˜¯æ›¼å“ˆé¡¿è·ç¦» #L_2èŒƒæ•°#$L_2èŒƒæ•°$æ˜¯æ¬§å‡ é‡Œå¾—è·ç¦»","categories":[{"name":"Math","slug":"Math","permalink":"http://fightinggg.github.io/indigo/categories/Math/"}],"tags":[]},{"title":"metric_space","slug":"Math/metric_space/index","date":"2019-12-07T10:03:54.000Z","updated":"2019-12-07T10:03:54.000Z","comments":true,"path":"Q24ZYI.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q24ZYI.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial metric spaceåº¦é‡ç©ºé—´metric spaceæ˜¯ä¸€ä¸ªåº¦é‡metricçš„é›†åˆï¼Œé€šå¸¸åº¦é‡metricæ˜¯å®šä¹‰åœ¨æŸç‚¹é›†ä¸Šçš„å‡½æ•°ï¼Œ metricåº¦é‡å¿…é¡»æ»¡è¶³ä¸‹é¢å››ä¸ªæ¡ä»¶ the distance from a point to itself is zerothe distance between two distict point is positivethe distance from A to B is the same as the distance from B to Athe distance from A to B(directly) is less than or equal to the distance from A to B via any third point C è¡¨è¾¾é€šå¸¸æˆ‘ä»¬ä½¿ç”¨æœ‰åºå¯¹(M,d)æ¥è¡¨ç¤ºåº¦é‡ç©ºé—´ï¼ŒMæ˜¯é›†åˆï¼Œdæ˜¯é›†åˆMä¸Šçš„åº¦é‡ ä»£æ›´å‚è€ƒwikipedia","categories":[{"name":"Math","slug":"Math","permalink":"http://fightinggg.github.io/indigo/categories/Math/"}],"tags":[]},{"title":"è½¯ä»¶éœ€æ±‚å¤ä¹ ","slug":"Others/è½¯ä»¶éœ€æ±‚å¤ä¹ /index","date":"2019-11-09T06:01:16.000Z","updated":"2019-11-09T06:01:16.000Z","comments":true,"path":"Q0OU24.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q0OU24.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¯ä»¶å·¥ç¨‹ä¸è½¯ä»¶éœ€æ±‚ ä»€ä¹ˆæ˜¯è½¯ä»¶ è½¯ä»¶æ˜¯ä½¿ç¡¬ä»¶å……åˆ†ã€è‡ªåŠ¨ã€æ™ºèƒ½åŒ–åœ°å‘æŒ¥ä½œç”¨çš„çº½å¸¦ è½¯ä»¶æ˜¯ç”¨æˆ·å’Œè®¡ç®—æœºç¡¬ä»¶ä¹‹é—´çš„æ¥å£å’Œæ¡¥æ¢ è½¯ä»¶å¼€å‘çš„ç›®æ ‡æ˜¯ä»€ä¹ˆ ä¸ºç”¨æˆ·æä¾›æ»¡æ„çš„è½¯ä»¶äº§å“æˆ–æœåŠ¡ ä»€ä¹ˆæ˜¯éœ€æ±‚ éœ€æ±‚æ˜¯åœ¨ä¸€å®šçš„æ—¶æœŸ,åœ¨ä¸€æ—¢å®šçš„ä»·æ ¼æ°´å¹³ä¸‹ï¼Œæ¶ˆè´¹è€…æ„¿æ„å¹¶ä¸”èƒ½å¤Ÿè´­ä¹°çš„å•†å“æ•°é‡ è½¯ä»¶å¼€å‘ç€‘å¸ƒæ¨¡å‹ éœ€æ±‚åˆ†æã€è®¾è®¡ã€ç¼–ç ã€æµ‹è¯•ã€ç»´æŠ¤ è½¯ä»¶é¡¹ç›®æˆåŠŸçš„ä¸»è¦å› ç´  *ç”¨æˆ·çš„å‚ä¸ æ‰§è¡Œå±‚çš„æ”¯æŒ *æ¸…æ™°çš„éœ€æ±‚æè¿° åˆç†çš„è§„åˆ’ *ç°å®çš„å®¢æˆ·æœŸæœ› è½¯ä»¶é¡¹ç›®å¤±è´¥çš„ä¸»è¦å› ç´  *ä¸å®Œæ•´çš„éœ€æ±‚ *ç¼ºä¹ç”¨æˆ·å‚ä¸ èµ„æºä¸è¶³ *ä¸åˆ‡å®é™…çš„ç”¨æˆ·æœŸæœ› ç¼ºä¹æ‰§è¡Œå±‚çš„æ”¯æŒ *éœ€æ±‚å˜æ›´é¢‘ç¹ è§„åˆ’ä¸è¶³ *æä¾›äº†ä¸å†éœ€è¦çš„ ç¼ºä¹ITç®¡ç† æŠ€æœ¯èƒ½åŠ›ä¸è¶³ éœ€æ±‚å·¥ç¨‹åŒ…æ‹¬é‚£ä¸¤ä¸ªéƒ¨åˆ† éœ€æ±‚å¼€å‘å’Œéœ€æ±‚ç®¡ç† éœ€æ±‚å¼€å‘åŒ…æ‹¬å“ªäº›åŸºæœ¬è¿‡ç¨‹ ä¸šåŠ¡éœ€æ±‚å®šä¹‰ã€éœ€æ±‚è·å–ã€éœ€æ±‚åˆ†æä¸å»ºæ¨¡ã€éœ€æ±‚æè¿°ã€éœ€æ±‚éªŒè¯ éœ€æ±‚å®šä¹‰ ä»€ä¹ˆæ˜¯ä¸šåŠ¡éœ€æ±‚å®šä¹‰ æ˜ç¡®éœ€æ±‚ç›®æ ‡ ç•Œå®šéœ€æ±‚èŒƒå›´ ä¸šåŠ¡éœ€æ±‚å®šä¹‰ä¸é‚£ä¸ªå±‚æ¬¡çš„éœ€æ±‚ç›¸å…³ å®šä¹‰ä¸šåŠ¡éœ€æ±‚ SMARTåŸåˆ™ s=specific æ˜ç¡®çš„ m=measurable å¯è¡¡é‡çš„ a=attainable å¯è¾¾åˆ°çš„ r=relevant/realistic ç›¸å…³çš„/ç°å®çš„ t=timebased/timebound æœ‰æ—¶é—´æœŸé™çš„ é—®é¢˜åˆ†æäº”æ­¥æ³•æ˜¯å“ªäº”æ­¥ é—®é¢˜å®šä¹‰è¾¾æˆå…±è¯† åˆ†æé—®é¢˜ï¼Œç†è§£æ ¹æœ¬åŸå›  ç¡®å®šç›¸å…³äººå‘˜æˆ–ç”¨æˆ· å®šä¹‰è§£å†³æ–¹æ¡ˆçš„ç•Œé™ ç¡®å®šåŠ åœ¨è§£å†³æ–¹æ¡ˆä¸Šçš„çº¦æŸ å¦‚ä½•ç¡®å®šç›®æ ‡ æ‰¾åˆ°é—®é¢˜ -> åˆ©ç”¨é±¼éª¨å›¾å’ŒParetoå›¾åˆ†æ æ‰¾åˆ°ä¸»å›  å®šä¹‰éœ€æ±‚èŒƒå›´ä¸‰æ­¥æ³•æ˜¯å“ªä¸‰æ­¥ åˆ’åˆ†ä¸»é¢˜åŸŸ,[ä½¿ç”¨æ„ä»¶å›¾] ç¡®å®šä¸»é¢˜åŸŸèŒƒå›´,[ä½¿ç”¨ä¸Šä¸‹æ–‡å…³ç³»å›¾] æ ‡è¯†ä¸šåŠ¡äº‹ä»¶ä¸æŠ¥è¡¨,[event,report] SRS è½¯ä»¶éœ€æ±‚è§„æ ¼è¯´æ˜ä¹¦ éœ€æ±‚æ•è· æ¢å¥è¯è§£é‡Šä»€ä¹ˆæ˜¯éœ€æ±‚æ•è· éœ€æ±‚æ•è·å°±æ˜¯æ”¶é›†ç”¨æˆ·éœ€æ±‚ æ˜¯ç†Ÿæ‚‰ç”¨æˆ·çš„å·¥ä½œåœºæ™¯ï¼Œäº†è§£ä¸šåŠ¡äº‹ä»¶ã€æŠ¥è¡¨å’Œæµç¨‹ï¼Œè¿›è€Œç†è§£ç”¨æˆ·ç¢°åˆ°çš„çœŸæ­£çš„é—®é¢˜å’Œéšœç¢ éœ€æ±‚æ•è·æœ‰å“ªäº›ç­–ç•¥ ä¸»åŠ¨ã€èšç„¦ã€ç ´è§£éšè—éœ€æ±‚ã€ç ´è§£é˜»ç¢å¿ƒç†ã€ä¸å¿½è§†å˜æ›´ã€åå•† éœ€æ±‚æ•è·æœ‰å“ªäº›ä¸»è¦æ–¹æ³• ç”¨æˆ·è®¿è°ˆã€ç”¨æˆ·è°ƒæŸ¥ã€æ–‡æ¡£è€ƒå¤ã€æƒ…èŠ‚ä¸²è”ç‰ˆã€ç°åœºè§‚æ‘©ã€è”åˆå¼€å‘ éœ€æ±‚æ•è·çš„å¸¸ç”¨å·¥å…· ä¸‰è¡¨ä¸€å›¾ï¼ˆä¸šåŠ¡å±æ€§è¡¨ã€ä¸šåŠ¡æ´»åŠ¨è¡¨ã€ä¸šåŠ¡å²—ä½è§’è‰²è¡¨ã€ä¸šåŠ¡æµç¨‹å›¾ï¼‰ SERU (ä¸»é¢˜ã€äº‹ä»¶ã€æŠ¥è¡¨ã€ç”¨ä¾‹) ä»»åŠ¡å¡ç‰‡ åœºæ™¯è¯´æ˜ éœ€æ±‚åˆ†æä¸å»ºæ¨¡ éœ€æ±‚åˆ†æåšä»€ä¹ˆ æ˜¯ä¸šåŠ¡åˆ†æ æ˜¯å¯¹ä¸šåŠ¡ç›¸å…³äººå‘˜ã€æ•°æ®ã€äº‹ä»¶ã€æŠ¥è¡¨ç­‰ä½œå…¨é¢çš„åˆ†è§£å’Œç ”ç©¶ æ˜¯å¯¹ä¸šåŠ¡æ´»åŠ¨å’Œæµç¨‹çš„æ¢³ç†å’Œç†è§£ åœ¨ä¸Šè¯‰åŸºç¡€ä¸Šé€šè¿‡æµç¨‹å›¾ã€æ´»åŠ¨å›¾ã€æ•°æ®æµå›¾å¯¹ä¸šåŠ¡æµç¨‹è¿›è¡Œæè¿°ï¼Œé€šè¿‡ç±»å›¾ã€ERå›¾å¯¹ä¸šåŠ¡å®ä½“è¿›è¡Œæè¿°ã€é€šè¿‡ç”¨ä¾‹å›¾å¯¹éœ€æ±‚åœºæ™¯å’Œè§’è‰²è¿›è¡Œæè¿°ã€å¹¶å¯¹ä¸Šè¯‰ä¸šåŠ¡æµç¨‹å®ä½“åœºæ™¯å’Œè§’è‰²çš„ç›¸å…³å†…å®¹è¿›è¡Œç»†åŒ– éœ€æ±‚åˆ†æçš„ç¬¬ä¸€ä¸ªå‘¨æœŸæ˜¯ä»€ä¹ˆ ç†æ¸…æ¡†æ¶å’Œè„‰ç»œ éœ€æ±‚åˆ†æçš„ç¬¬ä¸€é˜¶æ®µåŒ…æ‹¬å“ªä¸‰ä¸ªæ–¹é¢çš„åˆ†æ ä¸šåŠ¡æµç¨‹åˆ†æï¼Œä¸šåŠ¡å®ä½“åˆ†æï¼Œåœºæ™¯å’Œè§’è‰²åˆ†æ æµç¨‹ä¸€èˆ¬åˆ†ä¸ºå“ªä¸‰ä¸ªå±‚æ¬¡ï¼Œä¸€èˆ¬æœ‰å“ªä¸‰ç§ç±»å‹ ä¸‰ä¸ªå±‚æ¬¡ï¼šç»„ç»‡çº§ã€éƒ¨é—¨çº§ã€å²—ä½çº§åˆ« ä¸‰ç§ç±»å‹ï¼šç”Ÿäº§æµç¨‹ã€ç®¡ç†æµç¨‹ã€æ”¯æŒæµç¨‹ ä¸šåŠ¡æµç¨‹åˆ†æçš„äº§ç‰©åŒ…æ‹¬å“ªä¸‰ç§å›¾ è·¨èŒè´£æµç¨‹å›¾ã€æ´»åŠ¨å›¾ã€æ•°æ®æµå›¾ ä»€ä¹ˆæ˜¯ä¸šåŠ¡å®ä½“åˆ†æ ä¸šåŠ¡å®ä½“åˆ†ææ˜¯æ‰¾å‡ºä¸šåŠ¡ç›¸å…³çš„æ•°æ®ã€æŠ¥è¡¨ã€æœ¯è¯­ï¼Œä»¥åŠä»–ä»¬ä¹‹é—´çš„å…³ç³»ã€‚ ä¸šåŠ¡å®ä½“åˆ†æä¸ä¸šåŠ¡æµç¨‹åˆ†ææœ‰ä»€ä¹ˆåŒºåˆ« æµç¨‹åˆ†ææ˜¯è¯†åˆ«å‡ºå„ç§æ´»åŠ¨çš„é¡ºåºæˆ–æ­¥éª¤ ä¸šåŠ¡å®ä½“åˆ†ææ˜¯è¯†åˆ«å‡ºå„ç§æ´»åŠ¨ç›¸å…³çš„æ•°æ®è¾“å…¥ã€è¾“å‡ºæˆ–å…¶ä»–ç›¸å…³è§’è‰²ã€æ¦‚å¿µç­‰ã€‚ ä¸šåŠ¡å®ä½“åˆ†æç­‰äº§ç‰©æ˜¯ä»€ä¹ˆ ç±»å›¾ã€E-Rå›¾ ä¸šåŠ¡å®ä½“åˆ†æè¿‡ç¨‹ä¸­è¿›è¡Œç±»å›¾ç»˜åˆ¶çš„ä¸»è¦æ­¥éª¤åŒ…æ‹¬å“ªå‡ æ­¥ï¼Ÿ æ ‡è¯†ç±»ã€ç¡®å®šç±»çš„å±æ€§åå’Œæ–¹æ³•åã€æ ‡è¯†ç±»é—´çš„å…³ç³»ã€æ ‡è¯†çº¦æŸå’Œè§„åˆ™ è§’è‰²ä¸ä½¿ç”¨åœºæ™¯åˆ†æä¸­ï¼Œå‚ä¸è€…å’Œç”¨ä¾‹æ˜¯ä»€ä¹ˆå…³ç³»ï¼Ÿ å‚ä¸è€…æ˜¯ç³»ç»Ÿçš„ä½¿ç”¨è€…ï¼Œæ˜¯ç³»ç»Ÿçš„ç›´æ¥å‚ä¸è€…ï¼Œåœ¨ç³»ç»Ÿå¤–ï¼Œæ˜¯ç”¨ä¾‹çš„è°ƒç”¨è€…ï¼›ç”¨ä¾‹æ˜¯ç³»ç»Ÿçš„ç»„æˆéƒ¨åˆ†ï¼Œåœ¨ç³»ç»Ÿå†…ã€‚ éœ€æ±‚åˆ†æçš„ç¬¬äºŒå‘¨æœŸä¸ç¬¬ä¸€å‘¨æœŸçš„åŒºåˆ«åœ¨å“ªé‡Œï¼Ÿè¯•ä¸¾ä¾‹è¯´æ˜åœ¨ç¬¬äºŒå‘¨æœŸä¸­éœ€æ˜ç¡®çš„éœ€æ±‚ç»†èŠ‚ã€‚ ç¬¬ä¸€å‘¨æœŸæ˜¯ç†æ¸…æ¡†æ¶å’Œè„‰ç»œï¼Œç¬¬äºŒå‘¨æœŸæ˜¯ç¡®å®šç»†èŠ‚ã€‚ åœ¨ç¬¬äºŒå‘¨æœŸä¸­éœ€æ˜ç¡®çš„éœ€æ±‚ç»†èŠ‚å¦‚ï¼šç±»æˆå‘˜å‡½æ•°çš„å‚æ•°ã€å±æ€§çš„ç±»å‹ã€å–å€¼èŒƒå›´ç­‰ã€‚ éœ€æ±‚åˆ†æçš„ç¬¬äºŒä¸ªå‘¨æœŸåšä»€ä¹ˆ å¡«å……ç»†èŠ‚ æµç¨‹åˆ†æçš„ç»†èŠ‚: å…¥å£æ¡ä»¶ã€è¾“å…¥ã€æ´»åŠ¨ã€è¾“å‡ºã€è¾“å‡ºæ¡ä»¶ã€æ´»åŠ¨é—´çš„ä¾èµ–å…³ç³»ã€‚æè¿°æ–¹æ³•ï¼šæµç¨‹è¡¨ã€è·¨èŒè´£æµç¨‹å›¾ã€æ´»åŠ¨å›¾ å®ä½“åˆ†æçš„ç»†èŠ‚: å¯¹ç¬¬ä¸€é˜¶æ®µå½¢æˆçš„æŠ¥è¡¨ã€ç±»å›¾ã€E-Rå›¾ç­‰çš„ç»†èŠ‚è¿›è¡Œå¡«å…… åœºæ™¯åˆ†æçš„ç»†èŠ‚: æ˜ç¡®äº‹ä»¶æµã€åŠŸèƒ½ç‚¹ã€ç•Œé¢åŸå‹ã€è§„åˆ™ä¸çº¦æŸç­‰ éœ€æ±‚éªŒè¯ éœ€æ±‚éªŒè¯çš„æ–¹æ³• å½¢å¼åŒ–æ–¹æ³•å’Œäººå·¥æŠ€æœ¯è¯„å®¡ éœ€æ±‚ç®¡ç† ä»€ä¹ˆæ˜¯SRSï¼Œä»€ä¹ˆæ˜¯éœ€æ±‚é¡¹ SRSæ˜¯è½¯ä»¶éœ€æ±‚è§„æ ¼è¯´æ˜ä¹¦ éœ€æ±‚é¡¹æ˜¯éœ€æ±‚æ–‡æ¡£ä¸­ç›¸å¯¹ç‹¬ç«‹çš„åŠŸèƒ½å’ŒéåŠŸèƒ½éœ€æ±‚æè¿°ï¼Œè¢«å”¯ä¸€çš„ç¼–å·ï¼Œä¸åŒçš„éœ€æ±‚é¡¹ä¹‹é—´æ²¡æœ‰çŸ›ç›¾æ²¡æœ‰é‡å  éœ€æ±‚é¡¹å¦‚ä½•åˆ’åˆ†ä¼˜å…ˆçº§ å…ˆåšWBS ä¸šåŠ¡ä¼˜å…ˆåˆ¤æ–­ï¼Œå†åšæŠ€æœ¯ä¾èµ–ï¼Œé¡¹ç›®é£é™©åˆ¤æ–­ ä»€ä¹ˆæ˜¯å¾·å°”è²(Delphi)æ³• ä¹Ÿå«ä¸“å®¶æ„è§æ³•ï¼Œå³åº”ç”¨èƒŒå¯¹èƒŒçš„é€šä¿¡æ–¹å¼å¾è¯¢ä¸“å®¶å°ç»„æˆå‘˜çš„æ„è§ éœ€æ±‚ç®¡ç†åŒ…æ‹¬å“ªäº› åŸºçº¿ç®¡ç†ã€å˜æ›´ç®¡ç†ã€è·Ÿè¸ªç®¡ç† ä»€ä¹ˆæ˜¯ç‰ˆæœ¬ï¼Œä»€ä¹ˆæ˜¯åŸºçº¿ åœ¨é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­ï¼Œç»å¤§éƒ¨åˆ†çš„é…ç½®é¡¹éƒ½è¦ç»è¿‡å¤šæ¬¡çš„ä¿®æ”¹æ‰èƒ½æœ€ç»ˆç¡®å®šä¸‹æ¥ã€‚å¯¹é…ç½®é¡¹çš„ä»»ä½•ä¿®æ”¹éƒ½å°†äº§ç”Ÿæ–°çš„ç‰ˆæœ¬ã€‚æ‰€ä»¥ç‰ˆæœ¬æ˜¯æŸä¸ªé…ç½®é¡¹çš„çŠ¶æ€æ ‡è¯†ã€‚åŸºçº¿åˆ™æ˜¯ç‰¹å®šçš„ç‰ˆæœ¬ï¼Œæ˜¯ä¸€ç»„é…ç½®é¡¹çš„é›†åˆã€‚ éœ€æ±‚ç®¡ç†çš„ç›®çš„æ˜¯ä»€ä¹ˆ ä¸ºäº†æœ‰æ•ˆåœ°æ§åˆ¶å’Œç®¡ç†éœ€æ±‚æ›´æ”¹ç­‰ ä¸ºä»€ä¹ˆéœ€æ±‚è·Ÿè¸ªè¦åŒå‘è·Ÿè¸ª éœ€æ±‚å˜æ›´å½±å“åˆ†æä»å“ªä¸‰ä¸ªæ–¹é¢è¿›è¡Œ ä¸šåŠ¡å½±å“åˆ†æã€æŠ€æœ¯å½±å“åˆ†æã€é¡¹ç›®å½±å“åˆ†æ éœ€æ±‚å˜æ›´çš„æŠ€æœ¯å½±å“åˆ†ææŒ‡çš„æ˜¯ä»€ä¹ˆï¼Ÿ æ˜¯æŒ‡å˜æ›´å¸¦æ¥å¤šå¤§å·¥ä½œé‡çš„å˜åŒ–çš„åˆ†æã€‚ éœ€æ±‚å˜æ›´çš„ä¸šåŠ¡å½±å“åˆ†ææŒ‡çš„æ˜¯ä»€ä¹ˆï¼Ÿ å½±å“çš„èŒƒå›´ã€å½±å“å“ªäº›äººã€å½±å“çš„ç»“æœè¿™ä¸‰ä¸ªæ–¹é¢ï¼Œæœ€åå¾—å‡ºå˜æ›´çš„åˆç†æ€§ã€å¿…è¦æ€§ã€å½±å“åº¦æ–¹é¢çš„è¯„ä»·ã€‚ éœ€æ±‚å˜æ›´çš„é¡¹ç›®å½±å“åˆ†æåˆæ˜¯æŒ‡ä»€ä¹ˆï¼Ÿ æ˜¯æŒ‡åŸºäºå·¥ä½œé‡åˆ†æï¼Œå¯¹æ•´ä¸ªé¡¹ç›®åœ¨æ—¶é—´ã€è¿›åº¦ã€æˆæœ¬æ–¹é¢çš„å½±å“ã€‚","categories":[{"name":"Others","slug":"Others","permalink":"http://fightinggg.github.io/indigo/categories/Others/"}],"tags":[]},{"title":"ç‚æœµè‰æ ‘","slug":"ACM/å­¦ä¹ ç¬”è®°/å¹³è¡¡æ ‘/ç‚æœµè‰æ ‘/index","date":"2019-11-08T19:09:37.000Z","updated":"2019-11-08T19:09:37.000Z","comments":true,"path":"Q0NZW1.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q0NZW1.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ç‚æœµè‰æ ‘ç‚æœµè‰æ ‘æ˜¯ä¸€é¢—æ ‘ï¼Œæˆ‘ä»¬ç”¨é›†åˆæ¥ç»´æŠ¤ï¼Œc++ä¸­é›†åˆæ˜¯çº¢é»‘æ ‘ï¼Œæ‰€ä»¥æˆ‘ä»¬å€ŸåŠ©æ­¤é›†åˆæ¥å®Œæˆç‚æœµè‰æ ‘ã€‚æˆ‘ä»¬å°†åŒºé—´åˆ†æ®µï¼Œé‚£ä¹ˆå„æ®µæœ‰å”¯ä¸€çš„å·¦ç«¯ç‚¹ï¼Œæˆ‘ä»¬å°†å·¦ç«¯ç‚¹æ”¾å…¥é›†åˆï¼Œå½“æˆ‘ä»¬éå†é›†åˆçš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†æˆ‘ä»¬è¦çš„åºåˆ—ï¼Œæ­¤æ—¶æˆ‘ä»¬ç»´æŠ¤äº†ç»“æ„ï¼Œä½†æœªç»´æŠ¤å€¼ï¼Œè¿›ä¸€æ­¥å‘ç°æˆ‘ä»¬å¯ä»¥ä½¿ç”¨map,ç”¨é”®å€¼å¯¹æ¥ç»´æŠ¤æ›´å¤šä¿¡æ¯ï¼Œé”®ç”¨æ¥ç»´æŠ¤æ ‘çš„ç»“æ„ï¼Œå€¼æ¥ç»´æŠ¤åºåˆ—çš„å€¼ã€‚ splitå› ä¸ºæˆ‘ä»¬è¦ç»´æŠ¤åŒºé—´ä¿¡æ¯ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ“ä½œsplitæ¥æå–åŒºé—´ï¼Œæœ¬è´¨ä¸Šæå–åŒºé—´ä¸ºæå–å•ç‚¹ï¼Œè¿™ä¸€ç‚¹åœ¨splayä¸­è¡¨ç°çš„å¾ˆå‡ºè‰²ï¼Œå½“æˆ‘ä»¬æå–å‡ºå·¦ç«¯ç‚¹å’Œå³ç«¯ç‚¹çš„æ—¶å€™ï¼ŒåŒºé—´ä¹Ÿå°±è¢«æå–å‡ºæ¥äº†ï¼Œå¦‚æœæå–ä½ç½®xï¼Œåœ¨çº¢é»‘æ ‘ä¸­æˆ‘ä»¬äºŒåˆ†åˆ°xçš„ä½ç½®ï¼Œè‹¥æ­¤å¤„æ˜¯ä¸€ä¸ªåŒºé—´[l,r]ï¼Œæˆ‘ä»¬å°†æ­¤åŒºé—´æ‹†åˆ†ä¸º[l,x-1][x,r]å³å¯ã€‚ assignæˆ‘ä»¬æå–å‡ºåŒºé—´ï¼Œåˆ æ‰è¿™äº›èŠ‚ç‚¹ç„¶åï¼Œæ’å…¥ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹å³å¯ addæˆ‘ä»¬æå–å‡ºåŒºé—´ï¼Œæš´åŠ›æ›´æ–°æ‰€æœ‰èŠ‚ç‚¹å³å¯ sumæˆ‘ä»¬æå–å‡ºåŒºé—´ï¼Œæš´åŠ›è®¡ç®—æ‰€æœ‰èŠ‚ç‚¹ï¼Œä½¿ç”¨å¿«é€Ÿå¹‚ kthæˆ‘ä»¬æå–å‡ºåŒºé—´ï¼Œè¿˜æ˜¯æš´åŠ› ä»€ä¹ˆæ—¶å€™é€‰æ‹©æ­¤æ•°æ®ç»“æ„æ•°æ®éšæœºä¸”å«æœ‰åŒºé—´èµ‹å€¼æ“ä½œï¼Œæ­¤æ•°æ®ç»“æ„çš„æ“ä½œå¯ä»¥åœ¨splayä¸Šå®ç°ï¼Œå¹¶ç»´æŠ¤æ›´å¤šä¿¡æ¯ï¼Œmapæ³•ä»…ä»…åªæ˜¯ç¼–ç ç®€å•äº†å¾ˆå¤šã€‚ ä¾‹é¢˜C. Willem, Chtholly and Seniorious odtä»£ç ","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"å¹³è¡¡æ ‘","slug":"ACM/å­¦ä¹ ç¬”è®°/å¹³è¡¡æ ‘","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%B9%B3%E8%A1%A1%E6%A0%91/"}],"tags":[]},{"title":"ç”Ÿæˆæ ‘æ€»ç»“","slug":"ACM/å­¦ä¹ ç¬”è®°/æ ‘/ç”Ÿæˆæ ‘æ€»ç»“/index","date":"2019-11-08T07:12:16.000Z","updated":"2019-11-08T07:12:16.000Z","comments":true,"path":"Q0N2OG.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q0N2OG.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ç”Ÿæˆæ ‘ä¸€ä¸ªæ— å‘å›¾çš„ç”Ÿæˆæ ‘æŒ‡çš„æ˜¯ä»å›¾ä¸­é€‰è‹¥å¹²è¾¹æ„æˆè¾¹é›†ï¼Œå…¨éƒ¨ç‚¹æ„æˆç‚¹é›†ï¼Œä½¿å¾—è¿™ä¸ªè¾¹é›†åŠ ä¸Šç‚¹é›†æ°å¥½æ˜¯ä¸€æ£µæ ‘ã€‚ ç”Ÿæˆæ ‘è®¡æ•°ä¸€ä¸ªæ— å‘æ— æƒå›¾(å…è®¸é‡è¾¹ä¸å…è®¸è‡ªç¯)çš„é‚»æ¥çŸ©é˜µä¸ºgï¼Œæ˜¾ç„¶è¿™æ˜¯ä¸€ä¸ªå¯¹ç§°çŸ©é˜µï¼Œg[u][v]ä»£è¡¨è¾¹(u,v)çš„é‡æ•°ï¼Œå³è‹¥å­˜åœ¨ä¸€æ¡è¾¹(u,v)åˆ™g[u][v]çš„å€¼ä¸º1ï¼Œè‹¥å­˜åœ¨kæ¡ï¼Œåˆ™g[u][v]çš„å€¼ä¸ºkã€‚ä¸€ä¸ªæ— å‘æ— æƒå›¾(å…è®¸é‡è¾¹ä¸å…è®¸è‡ªç¯)çš„åº¦æ•°çŸ©é˜µä¸ºdegï¼Œæ˜¾ç„¶è¿™æ˜¯ä¸€ä¸ªå¯¹è§’çŸ©é˜µï¼Œdeg[u][u]ä»£è¡¨ç‚¹uçš„åº¦æ•°ã€‚ä¸€ä¸ªæ— å‘æ— æƒå›¾(å…è®¸é‡è¾¹ä¸å…è®¸è‡ªç¯)çš„åŸºå°”éœå¤«çŸ©é˜µ(æ‹‰æ™®æ‹‰æ–¯çŸ©é˜µ)ä¸ºhoffï¼Œæ˜¯åº¦æ•°çŸ©é˜µå‡å»é‚»æ¥çŸ©é˜µã€‚çŸ©é˜µæ ‘å®šç†è¯´ä¸€ä¸ªæ— å‘å›¾çš„ç”Ÿæˆæ ‘çš„ä¸ªæ•°åˆšå¥½ç­‰äºåŸºå°”éœå¤«çŸ©é˜µçš„è¡Œåˆ—å¼çš„ä»»æ„n-1é˜¶ä¸»å­å¼(ä»£æ•°ä½™å­å¼)çš„è¡Œåˆ—å¼çš„ç»å¯¹å€¼ã€‚ç”Ÿæˆæ ‘è®¡æ•°å¤æ‚åº¦$O(V^3+E)&#x3D;O(V^3)$é»‘æš—å‰çš„å¹»æƒ³ä¹¡æˆ‘ä»¬åˆ©ç”¨çŸ©é˜µæ ‘å®šç†å°±èƒ½è½»æ¾è§£å†³ é»‘æš—å‰çš„å¹»æƒ³ä¹¡ä»£ç  æœ€å°ç”Ÿæˆæ ‘æœ‰ä¸€ä¸ªæ— å‘å¸¦æƒå›¾ï¼Œæ¯æ¡è¾¹æœ‰æƒ$x_i$ï¼Œéœ€è¦æ±‚å‡ºä¸€ä¸ªç”Ÿæˆæ ‘Tï¼Œå¹¶æœ€å°åŒ–$\\begin{aligned}\\sum_{i\\in T}x_i\\end{aligned}$kruskalç®—æ³•ï¼šè´ªå¿ƒä»å°åˆ°å¤§æšä¸¾è¾¹åˆå¹¶æ£®æ—å³å¯ã€‚è¿™é‡Œå°±ä¸è¯æ˜æ­¤ç®—æ³•äº†ã€‚æœ€å°ç”Ÿæˆæ ‘å¤æ‚åº¦$O(V+ElgE)&#x3D;O(ElgE)$æœ€å°ç”Ÿæˆæ ‘ æœ€å°ç”Ÿæˆæ ‘ä»£ç  æœ€å°ç”Ÿæˆæ ‘è®¡æ•°ç”±äºæœ€å°ç”Ÿæˆæ ‘å„è‡ªè¾¹æƒæ„æˆçš„å¤šé‡é›†åˆæ˜¯ä¸€æ ·çš„ï¼Œå¹¶ä¸”æ˜“è¯ä¸åŒçš„è¾¹æƒå¯¹æœ€å°ç”Ÿæˆæ ‘çš„å½±å“æ˜¯ç‹¬ç«‹çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡å°†è¾¹æŒ‰ç…§è¾¹æƒåˆ†ç±»ï¼Œåˆ†åˆ«æ±‚å‡ºæ¯ä¸€ç§è¾¹æƒå„è‡ªå¯¹è”é€šå—çš„è´¡çŒ®ï¼Œç„¶ååˆ©ç”¨è®¡æ•°çš„ä¹˜æ³•åŸç†åˆå¹¶å³å¯ã€‚æˆ‘ä»¬éœ€è¦å…ˆæ±‚å‡ºä»»æ„ä¸€ä¸ªæœ€å°ç”Ÿæˆæ ‘ï¼Œå½“æˆ‘ä»¬å¯¹æŸä¸€ç§è¾¹æƒè¿›è¡Œè®¨è®ºçš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å°†è¿™ä¸ªç”Ÿæˆæ ‘ä¸­è¿™ä¸€è¾¹æƒçš„è¾¹å…¨åˆ æ‰ï¼Œç„¶åå¯¹å‰©ä½™è”é€šå—è¿›è¡Œç¼©ç‚¹å¹¶é‡æ–°ç¼–å·ï¼Œå°†å¾…é€‰é›†åˆä¸­çš„è¾¹æ˜ å°„åˆ°è”é€šå—é—´çš„è¾¹ï¼Œå¹¶å»æ‰è‡ªç¯ã€‚è¿™æ ·ä»¥åå¾…é€‰é›†åˆä¸­çš„è¾¹çš„è¾¹æƒå°±ç›¸ç­‰äº†ã€‚è¿™æ—¶æˆ‘ä»¬å¯ä»¥å€ŸåŠ©çŸ©é˜µæ ‘å®šç†æ¥æ±‚è§£ã€‚æœ€å°ç”Ÿæˆæ ‘è®¡æ•°å¤æ‚åº¦$O(ElgE+V^3)&#x3D;O(V^3)$æœ€å°ç”Ÿæˆæ ‘è®¡æ•° æœ€å°ç”Ÿæˆæ ‘è®¡æ•°ä»£ç  ä¸¥æ ¼æ¬¡å°ç”Ÿæˆæ ‘ä¸¥æ ¼æ¬¡å°ç”Ÿæˆæ ‘å’Œæœ€å°ç”Ÿæˆæ ‘çš„è¾¹æƒå¤šé‡é›†åˆä¸­åªæœ‰ä¸€ä¸ªè¾¹æƒä¸ä¸€æ ·ï¼Œè¿™æ ·æˆ‘ä»¬å°±æœ‰äº†ä¸€ä¸ªç®€å•çš„ç®—æ³•ï¼Œå…ˆæ±‚å‡ºä»»æ„ä¸€ä¸ªæœ€å°ç”Ÿæˆæ ‘ï¼Œç„¶åæšä¸¾æ²¡æœ‰è¢«é€‰ä¸­ä¸ºæ„å»ºæœ€å°ç”Ÿæˆæ ‘çš„è¾¹ï¼Œå‡è®¾è¿™ä¸ªè¾¹ä¸º$(u,v,w_1)$ï¼Œæˆ‘ä»¬åœ¨æœ€å°ç”Ÿæˆæ ‘ä¸Šæ±‚å‡ºç‚¹$u$åˆ°ç‚¹$v$è¿™æ¡è·¯å¾„ä¸Šçš„æœ€å¤§è¾¹æƒ$w_2$å’Œä¸¥æ ¼æ¬¡å¤§è¾¹æƒ$w_3$ï¼Œè‹¥$w_1&#x3D;w_2$åˆ™æˆ‘ä»¬ç”¨æ­¤è¾¹æ¢æ‰æ¬¡å¤§è¾¹ï¼Œè‹¥$w_1&gt;w_2$åˆ™æˆ‘ä»¬ç”¨æ­¤è¾¹æ¢æ‰æœ€å¤§è¾¹ï¼Œè¿™æ ·æˆ‘ä»¬æœ€ç»ˆèƒ½å¾—åˆ°å¾ˆå¤šéæœ€å°ç”Ÿæˆæ ‘ï¼Œä»ä¸­é€‰å‡ºæœ€å°çš„é‚£ä¸ªï¼Œä»–å°±æ˜¯æ¬¡å°ç”Ÿæˆæ ‘,è¿™ä¸ªè¿‡ç¨‹éœ€è¦ç»´æŠ¤æ ‘ä¸Šçš„è·¯å¾„ä¿¡æ¯ï¼Œæœ‰ç®—æ³•éƒ½å¯ä»¥æ ‘å‰–ã€æ ‘ä¸Šå€å¢ã€lctç­‰ç­‰ï¼Œæˆ‘ä»¬è¿™é‡Œä½¿ç”¨æ ‘ä¸Šå€å¢çš„åŠæ³•æ¥è§£å†³ã€‚ä¸¥æ ¼æ¬¡å°ç”Ÿæˆæ ‘æ—¶é—´å¤æ‚åº¦$O(ElgE+ElnV)&#x3D;O(ElgE)$ä¸¥æ ¼æ¬¡å°ç”Ÿæˆæ ‘ ä¸¥æ ¼æ¬¡å°ç”Ÿæˆæ ‘ä»£ç  æœ€å°ä¹˜ç§¯ç”Ÿæˆæ ‘æœ‰ä¸€ä¸ªæ— å‘å¸¦æƒå›¾(æƒä¸ºæ­£æ•°)ï¼Œæ¯æ¡è¾¹æœ‰æƒ$x_i$å’Œæƒ$y_i$ï¼Œéœ€è¦æ±‚å‡ºä¸€ä¸ªç”Ÿæˆæ ‘Tï¼Œè®°$\\begin{aligned}X&#x3D;\\sum_{i\\in T}x_i,Y&#x3D;\\sum_{i\\in T}y_i\\end{aligned}$,è¦æ±‚æœ€å°åŒ–ä¹˜ç§¯$XY$æˆ‘ä»¬å‡è®¾å·²ç»æ±‚å‡ºäº†æ‰€æœ‰ç”Ÿæˆæ ‘ï¼Œä»–ä»¬çš„æƒä¸º$(X_i,Y_i)$æˆ‘ä»¬æŠŠè¿™ä¸ªäºŒå…ƒç»„çœ‹åšäºŒç»´å¹³é¢ä¸Šçš„ç‚¹ï¼Œåˆ™æœ€å°ä¹˜ç§¯ç”Ÿæˆæ ‘ä¸€å®šåœ¨å‡¸åŒ…ä¸Šã€‚è¿›ä¸€æ­¥åˆ†æï¼Œæ•´ä¸ªå‡¸åŒ…éƒ½åœ¨ç¬¬ä¸€è±¡é™ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥é”å®šå‡ºä¸¤ä¸ªç‚¹äº†ï¼Œä»–ä»¬ä¸€å®šåœ¨å‡¸åŒ…ä¸Šã€‚åˆ†åˆ«æ±‚å‡ºæœ€å°çš„$X_i$å¯¹æ˜ ç‚¹$A$ï¼Œå’Œæœ€å°çš„$Y_i$å¯¹æ˜ ç‚¹$B$ï¼Œé‚£ä¹ˆç­”æ¡ˆå°±åœ¨$AB$å·¦ä¸‹æ–¹ï¼Œæˆ‘ä»¬æ±‚å‡ºä¸€ä¸ªç‚¹$C$ï¼Œè‹¥èƒ½è®©å‰ç§¯$AC*AB$æœ€å¤§ä¸”ä¸ºæ­£æ•°ï¼Œåˆ™$C$ä¸€å®šä¹Ÿåœ¨å‡¸åŒ…ä¸Šã€‚æˆ‘ä»¬é€’å½’å¤„ç†$AC$å’Œ$CB$å³å¯ã€‚å‡¸åŒ…ä¸Šçš„ç‚¹æœŸæœ›ä¸ºlgçº§åˆ«ã€‚æœ€å°ä¹˜ç§¯ç”Ÿæˆæ ‘å¤æ‚åº¦$O(ElgElg(V!))&#x3D;O(ElgElgV)$æœ€å°ä¹˜ç§¯ç”Ÿæˆæ ‘ æœ€å°ä¹˜ç§¯ç”Ÿæˆæ ‘ä»£ç  æœ€å°å·®å€¼ç”Ÿæˆæ ‘æœ‰ä¸€ä¸ªæ— å‘å¸¦æƒå›¾ï¼Œæ¯æ¡è¾¹æœ‰æƒ$x_i$ï¼Œéœ€è¦æ±‚å‡ºä¸€ä¸ªç”Ÿæˆæ ‘Tï¼Œè®©Tçš„æœ€å¤§è¾¹æƒå’Œæœ€å°è¾¹æƒçš„å·®å€¼å°½å¯èƒ½å°ã€‚æˆ‘ä»¬å¯¹è¾¹é›†æ’åºåï¼Œç­‰ä»·äºæ±‚æœ€çŸ­çš„ä¸€æ®µåŒºé—´ï¼Œè¿™ä¸ªåŒºé—´å†…éƒ¨çš„è¾¹èƒ½å¤Ÿç”Ÿæˆä¸€æ£µæ ‘ï¼Œè¿™ç§è¿é€šæ€§ç»´æŠ¤çš„é—®é¢˜ï¼Œç›´æ¥ä½¿ç”¨lctå°±å¯ä»¥äº†ï¼Œæœ€å°å·®å€¼ç”Ÿæˆæ ‘æ—¶é—´å¤æ‚åº¦$O(ElgE+Elg(E+V))&#x3D;O(ElgE)$æœ€å°å·®å€¼ç”Ÿæˆæ ‘ æœ€å°å·®å€¼ç”Ÿæˆæ ‘ä»£ç  kåº¦é™åˆ¶æœ€å°ç”Ÿæˆæ ‘åœ¨æœ€å°ç”Ÿæˆæ ‘çš„è¦æ±‚ä¸‹ï¼Œå¤šä¸€ä¸ªæ¡ä»¶: æœ‰ä¸€ä¸ªå®šç‚¹çš„åº¦æ•°ä¸èƒ½è¶…è¿‡kã€‚kåº¦é™åˆ¶æœ€å°ç”Ÿæˆæ ‘ä¸k-1åº¦é™åˆ¶æœ€å°ç”Ÿæˆæ ‘æœ€å¤šæœ‰ä¸€æ¡è¾¹çš„åŒºåˆ«ã€‚æ—¶é—´å¤æ‚åº¦$O(ElgE+kV)$kåº¦é™åˆ¶æœ€å°ç”Ÿæˆæ ‘ kåº¦é™åˆ¶æœ€å°ç”Ÿæˆæ ‘ä»£ç  æœ€å°ç›´å¾„ç”Ÿæˆæ ‘ç»™æ— å‘è¿é€šå›¾ï¼Œæ±‚ä¸€ä¸ªç›´å¾„æœ€å°çš„ç”Ÿæˆæ ‘ã€‚ä»¥å›¾çš„ç»å¯¹ä¸­å¿ƒä¸ºæ ¹çš„æœ€çŸ­è·¯æ ‘ï¼Œæ˜¯ä¸€ä¸ªæœ€å°ç›´å¾„ç”Ÿæˆæ ‘ã€‚å…ˆç”¨floydæ±‚å¤šæºæœ€çŸ­è·¯ï¼Œç„¶åå¯¹æ¯ä¸€æ¡è¾¹ï¼Œå‡è®¾ç»å¯¹ä¸­å¿ƒåœ¨æ­¤è¾¹ä¸Šï¼Œæ±‚å‡ºè¯¥ç»å¯¹ä¸­å¿ƒçš„åå¿ƒç‡ï¼Œå¯ä»¥è€ƒè™‘ä»å¤§åˆ°å°æšä¸¾æœ€çŸ­è·¯é—­åŒ…æ¥å®ç°ï¼Œæ±‡æ€»å¾—åˆ°ç»å¯¹ä¸­å¿ƒï¼Œæœ€ç»ˆä»¥ç»å¯¹ä¸­å¿ƒä¸ºæ ¹ï¼Œæ±‚æœ€çŸ­è·¯æ ‘ã€‚æ—¶é—´å¤æ‚åº¦$O(n^3)$ æœ€å°ç›´å¾„ç”Ÿæˆæ ‘ä»£ç  æœ€å°æ¯”å€¼ç”Ÿæˆæ ‘æœ‰ä¸€ä¸ªæ— å‘å¸¦æƒå›¾(æƒä¸ºæ­£æ•°)ï¼Œæ¯æ¡è¾¹æœ‰æƒ$x_i$å’Œæƒ$y_i$ï¼Œéœ€è¦æ±‚å‡ºä¸€ä¸ªç”Ÿæˆæ ‘Tï¼Œè®°$\\begin{aligned}X&#x3D;\\sum_{i\\in T}x_i,Y&#x3D;\\sum_{i\\in T}y_i\\end{aligned}$,è¦æ±‚æœ€å°åŒ–æ¯”å€¼$\\frac{X}{Y}$.æˆ‘ä»¬è®¾$r&#x3D;\\frac{X}{Y}$åˆ™æœ‰$rY-X&#x3D;0$æˆ‘ä»¬å®šä¹‰å‡½æ•°$f(r)&#x3D;rY-X$ï¼Œä¸ºå½“ä»¥$ry_i-x_i$ä½œä¸ºæƒå€¼çš„æ—¶å€™çš„æœ€å¤§ç”Ÿæˆæ ‘çš„å€¼ï¼Œè¿™é‡Œæ˜¾ç„¶f(r)å…³äºrå•è°ƒå¢ï¼Œå½“æˆ‘ä»¬æ‰¾åˆ°ä¸€ä¸ªrä½¿å¾—f(r)ç­‰äº0çš„æ—¶å€™ï¼Œrå°±æ˜¯æˆ‘ä»¬åˆ†æ•°è§„åˆ’è¦çš„ç­”æ¡ˆã€‚æ—¶é—´å¤æ‚åº¦$O(lgn)*O(MST)$ æœ€å°æ¯”å€¼ç”Ÿæˆæ ‘ä»£ç ","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ ‘","slug":"ACM/å­¦ä¹ ç¬”è®°/æ ‘","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%A0%91/"}],"tags":[]},{"title":"hdu6607","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu/hdu6607/index","date":"2019-10-29T15:19:56.000Z","updated":"2019-10-29T15:19:56.000Z","comments":true,"path":"Q056L8.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q056L8.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial nameEasy Math Problem descirptionOne day, Touma Kazusa encountered a easy math problem. Given n and k, she need to calculate the following sum modulo $1e9+7$.$$âˆ‘_{i&#x3D;1}^nâˆ‘^n_{j&#x3D;1}gcd(i,j)^klcm(i,j)[gcd(i,j)âˆˆprime]%(1e9+7) $$However, as a poor student, Kazusa obviously did not, so Touma Kazusa went to ask Kitahara Haruki. But Kitahara Haruki is too busy, in order to prove that he is a skilled man, so he threw this problem to you. Can you answer this easy math problem quickly? inputThere are multiple test cases.$ï¼ˆT&#x3D;5ï¼‰$ The first line of the input contains an integer$T$, indicating the number of test cases. For each test case:There are only two positive integers n and k which are separated by spaces.$1â‰¤nâ‰¤1e10$$1â‰¤kâ‰¤100$ outputAn integer representing your answer. sample input110 2 sample output2829 toturial$$\\begin{aligned}&amp;\\sum_{i&#x3D;1}^n\\sum_{j&#x3D;1}^n ijgcd(i,j)^{k-1} gcd is prime\\&#x3D;&amp;\\sum_{d\\in prime} \\sum_{i&#x3D;1}^n\\sum_{j&#x3D;1}^nijd^{k-1}[gcd(i,j)&#x3D;d]\\&#x3D;&amp;\\sum_{d\\in prime} \\sum_{i&#x3D;1}^{\\lfloor\\frac{n}{d}\\rfloor}\\sum_{j&#x3D;1}^{\\lfloor\\frac{n}{d}\\rfloor}ijd^{k+1}[gcd(i,j)&#x3D;1]\\&#x3D;&amp;\\sum_{d\\in prime}d^{k+1} \\sum_{i&#x3D;1}^{\\lfloor\\frac{n}{d}\\rfloor}\\sum_{j&#x3D;1}^{\\lfloor\\frac{n}{d}\\rfloor}ij[gcd(i,j)&#x3D;1]\\&#x3D;&amp;\\sum_{d\\in prime}d^{k+1} \\sum_{j&#x3D;1}^{\\lfloor\\frac{n}{d}\\rfloor}j^2\\phi(j)\\end{aligned}$$æˆ‘ä»¬å¯ä»¥å¯¹nåˆ†å—äº†ï¼Œå‰é¢å¯ä»¥min25ç­›$\\begin{aligned}f(j)&#x3D;j^2\\phi(j)\\end{aligned}$$\\begin{aligned}g(j)&#x3D;j^2\\end{aligned}$$\\begin{aligned}f\\ast g(j)&#x3D;\\sum_{i|j}i^2\\phi(i)(\\frac{j}{i})^2&#x3D;j^2\\sum_{i|j}\\phi(i)&#x3D;j^2(\\phi\\ast 1)(j)&#x3D;j^3\\end{aligned}$äºæ˜¯åé¢å¯ä»¥æœæ•™ç­› code123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132#include&lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;// æ¨¡æ„ä¹‰const ll mod=1e9+7;ll qpow(ll a,ll b)&#123; assert(a&lt;mod); ll res=1; while(b)&#123; if(b&amp;1) res=res*a%mod; a=a*a%mod; b&gt;&gt;=1; &#125;return res;&#125;const ll inv2=qpow(2,mod-2),inv3=qpow(3,mod-2);inline ll reduce(ll x)&#123;return x&lt;0?x+mod:x;&#125;inline ll A(ll a,ll b)&#123;assert(a&lt;mod&amp;&amp;b&lt;mod); return reduce(a+b-mod);&#125;inline ll M(ll a,ll b)&#123;assert(a&lt;2*mod&amp;&amp;b&lt;2*mod); return a*b%mod;&#125;inline ll M(ll a,ll b,ll c)&#123;return M(M(a,b),c);&#125;//çº¿æ€§ç­›// 3e7 int = 120mbconst ll maxn=2.5e7;bitset&lt;maxn&gt;vis;int siiphi[maxn];ll p[1565927+100];void f_ini()&#123; siiphi[1]=1; for (ll i=2;i&lt;maxn;i++)&#123; if(!vis[i]) p[++p[0]]=i,siiphi[i]=i-1; for (ll j=1;i*p[j]&lt;maxn;j++)&#123; vis[i*p[j]]=true; if(i%p[j])siiphi[i*p[j]]=siiphi[i]*(p[j]-1);//ç”±ç§¯æ€§å‡½æ•°æ€§è´¨æ¨ else&#123;siiphi[i*p[j]]=siiphi[i]*p[j];break;&#125; &#125; &#125; for(ll i=1;i&lt;maxn;i++) siiphi[i]=A(siiphi[i-1],M(i,i,siiphi[i]));&#125;// åˆ†å—const ll sqr=3e5;ll id1[sqr],id2[sqr],w[sqr],idn,idm;// w[x] ç¬¬å‡ å¤§çš„åˆ†å—å€¼æ˜¯å¤šå°‘inline ll&amp; id(ll x)&#123;return x&lt;sqr?id1[x]:id2[idn/x];&#125;//è¿”å›xæ˜¯ç¬¬å‡ å¤§çš„æ•´é™¤åˆ†å—å€¼void ini(ll n)&#123; idn=n;idm=0; for(ll l=1,r;l&lt;=n;l=r+1)&#123; r=n/(n/l); id(n/l)=++idm; w[idm]=n/l; &#125;&#125;namespace min25shai&#123; ll g[sqr],sp[sqr]; ll getsum(ll x,ll n)&#123;// O(n) næ¬¡å¤šé¡¹å¼æœ‰n+1é¡¹ y[0]...y[n] -&gt; y[x] static ll prepre[1000],suf[1000],r[1000]=&#123;1,1&#125;,y[1000],*pre=prepre+1; if(y[999]!=++n) &#123;//è¿™é‡Œéå¸¸é‡è¦ y[999]=n; for(ll i=1;i&lt;=n;i++) y[i]=A(y[i-1],qpow(i,n-1)); for(ll i=2;i&lt;=n;i++) r[i]=M(mod-mod/i,r[mod%i]); for(ll i=2;i&lt;=n;i++) r[i]=M(r[i],r[i-1]); &#125; pre[-1]=suf[n+1]=1; for(ll i=0;i&lt;=n;++i) pre[i]=M(pre[i-1],x%mod-i+mod);//è¿™ä¸ªåœ°æ–¹çˆ†æ‰äº† for(ll i=n;i&gt;=0;i--) suf[i]=M(suf[i+1],i-x%mod+mod);//è¿™ä¸ªåœ°æ–¹çˆ†æ‰äº† ll b=0; for(ll i=0;i&lt;=n;++i) &#123; ll up=M(pre[i-1],suf[i+1]); ll down=M(r[i],r[n-i]); b=A(b,M(y[i],up,down)); &#125; return b; &#125; void min25(ll*g,ll n,ll k,ll(*f)(ll,ll),ll(*s)(ll,ll))&#123; for(ll i=1;i&lt;=idm;++i) g[i]=A(s(w[i],k),mod-1); for(ll j=1;p[j]*p[j]&lt;=n;j++)&#123; ll t=f(p[j],k); sp[j]=A(sp[j-1],t); for(ll i=1;w[i]&gt;=p[j]*p[j];++i) g[i]=A(g[i],M(sp[j-1]-g[id(w[i]/p[j])]+mod,t)); // w[i]ä»å¤§åˆ°å° å½“iç­‰äºmçš„æ—¶å€™ w[i]&gt;=p[j]*p[j]æ’ä¸æˆç«‹ &#125; &#125;&#125;namespace dujiaoshai&#123; // g(1)S(n)=(1â‰¤iâ‰¤n)h(i)+(2â‰¤dâ‰¤n)g(d)S(n/d) // f(n)=n*n*phi(n) // g(n)=n*n // h(n)=n*n*n ll s[sqr];// å‰ç¼€å’Œ inline ll s1(ll n)&#123;return M(n,n+1,inv2);&#125; inline ll s2(ll n)&#123;return M(s1(n),2*n+1,inv3);&#125; inline ll s3(ll n)&#123;return M(s1(n),s1(n));&#125; void ini()&#123;for(ll i=1;i&lt;=idm;i++)s[i]=0;&#125; ll dujiao(ll n)&#123; if(n&lt;maxn) return siiphi[n]; if(s[id(n)]!=0) return s[id(n)]; s[id(n)]=s3(n%mod); for(ll l=2,r;l&lt;=n;l=r+1)&#123; r=n/(n/l); s[id(n)]-=(s2(r%mod)-s2((l-1)%mod))*dujiao(n/l)%mod; &#125; return s[id(n)]=(s[id(n)]%mod+mod)%mod; &#125;&#125;ll solve(ll n,ll k)&#123; ini(n); dujiaoshai::ini(); #define F(M) [](ll n,ll k)&#123;return ll(M);&#125; min25shai::min25(min25shai::g,n,k+1,F(qpow(n%mod,k)),F(min25shai::getsum(n,k))); #undef F ll res=0; for(ll l=1,r;l&lt;=n;l=r+1)&#123; r=n/(n/l); ll t1=dujiaoshai::dujiao(n/l); ll t2=min25shai::g[id(r)]; if(l!=1) t2+=mod-min25shai::g[id(l-1)]; res+=M(t1,t2); &#125; return res%mod;&#125;inline ll read()&#123;ll x;cin&gt;&gt;x;return x;&#125;int main() &#123; f_ini(); for(ll t=read();t&gt;=1;t--)&#123; ll n=read(),k=read(); cout&lt;&lt;solve(n,k)&lt;&lt;endl; &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"hdu","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/hdu/"}],"tags":[]},{"title":"min25ç­›","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦/min25ç­›/index","date":"2019-10-28T11:06:42.000Z","updated":"2019-10-28T11:06:42.000Z","comments":true,"path":"Q03076.html","link":"","permalink":"http://fightinggg.github.io/indigo/Q03076.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial min25ç­›æ˜¯ä»€ä¹ˆmin25ç­›æ˜¯ä¸€ç§ç­›æ³•ï¼Œä»–èƒ½ä»¥äºšçº¿æ€§çš„æ—¶é—´å¤æ‚åº¦ç­›å‡ºä¸€ç±»å‡½æ•°çš„å‰ç¼€å’Œ å®šä¹‰ä¸€éƒ¨åˆ†ç¬¦å·$M(x) x\\gt1$ä»£è¡¨$x$çš„æœ€å°è´¨å› å­ æˆ‘ä»¬å†è®¾$P_j$ä¸ºç¬¬$j$å°çš„è´¨æ•°, $P_1&#x3D;2,P_2&#x3D;3,P_3&#x3D;5â€¦$ å…ˆçœ‹æœ€ç®€å•çš„ç¬¬ä¸€ç±»å‡½æ•°$$\\begin{aligned}f(x)&#x3D;\\left{\\begin{matrix}x^k&amp;x\\in primes\\0&amp;x \\notin primes\\end{matrix}\\right.\\end{aligned}$$å¯¹äºè¿™ä¸ªå‡½æ•°æˆ‘ä»¬å¯ä»¥åˆ©ç”¨min25ç­›æ¥è¾¾åˆ°$O(\\frac{n^\\frac{3}{4}}{lg(n)})$çš„æ—¶é—´å¤æ‚åº¦ï¼Œæˆ‘ä»¬æ²¡æœ‰åŠæ³•ç›´æ¥æ±‚è¿™ä¸ªå‡½æ•°çš„å‰ç¼€å’Œï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥å¦å¤–è®¾ä¸€ä¸ªç›¸å¯¹å¥½æ±‚çš„å‡½æ•°$h(x)&#x3D;x^k$ï¼Œé€šè¿‡hæ¥æ±‚fï¼Œå› ä¸º$\\begin{aligned}\\sum_{i&#x3D;2}^nh(i)[i\\in primes]&#x3D;\\sum_{i&#x3D;2}^nf(i)[i\\in primes]\\end{aligned}$ è®¾$\\begin{aligned}g(n,j)&#x3D;\\sum_{i&#x3D;2}^nh(i)[i \\in primesæˆ–M(i)\\gt P_j]\\end{aligned}$ å³ iè¦ä¹ˆæ˜¯è´¨æ•°ï¼Œè¦ä¹ˆiçš„æœ€å°è´¨å› å­å¤§äº$P_j$ã€‚å¯¹gå‡½æ•°çš„ç†è§£ï¼Œæˆ‘ä»¬ç”šè‡³å¯ä»¥å›å¿†åŸƒå¼ç­›,æ¯ä¸€è½®éƒ½ä¼šé€‰æ‹©ä¸€ä¸ªæœ€å°çš„è´¨æ•°ï¼Œç„¶åç­›æ‰ä»–çš„æ‰€æœ‰å€æ•°ï¼Œæœ€ç»ˆå”¯æœ‰æ‰€æœ‰çš„è´¨æ•°ä¸ä¼šè¢«ç­›æ‰ï¼Œæˆ‘ä»¬çš„è¿™ä¸ªå‡½æ•°å°±æ˜¯é‚£äº›æ²¡æœ‰è¢«ç­›æ‰çš„æ•°çš„å‡½æ•°å€¼çš„å’Œã€‚$$\\begin{aligned}g(n,j)&#x3D;\\left{\\begin{matrix}g(n,j-1)-x&amp;M(n)\\le P_j\\g(n,j-1)&amp; M(n)\\gt P_j\\end{matrix}\\right.\\end{aligned}$$xå¤„æ˜¯ä»€ä¹ˆå‘¢?ç¬¬j-1æ¬¡çš„ç»“æœå’Œç¬¬jæ¬¡çš„ç»“æœæœ‰ä»€ä¹ˆä¸åŒå‘¢ï¼Ÿç¬¬jæ¬¡åŸƒå¼ç­›ç­›æ‰äº†$P_j$çš„å€æ•°ï¼Œä»–ä»¬çš„æœ€å°è´¨å› å­éƒ½æ˜¯$P_j$,æ‰€ä»¥$$\\begin{aligned}x&amp;&#x3D;\\sum_{i&#x3D;2P_j}^nh(i)[M(i)&#x3D;P_j]\\&amp;&#x3D;\\sum_{i&#x3D;2}^{\\frac{n}{P_j}}h(iP_j)[M(iP_j)&#x3D;P_j]\\&amp;&#x3D;h(P_j)\\sum_{i&#x3D;2}^{\\frac{n}{P_j}}h(i)[M(i)\\ge P_j]\\&amp;&#x3D;h(P_j)\\sum_{i&#x3D;2}^{\\frac{n}{P_j}}h(i)[M(i)\\gt P_{j-1}]\\&amp;&#x3D;h(P_j)(\\sum_{i&#x3D;2}^{\\frac{n}{P_j}}h(i)[M(i)\\gt P_{j-1}æˆ–i \\in primes]-\\sum_{i&#x3D;1}^{j-1}h(P_i))\\&amp;&#x3D;h(P_j)(g(\\frac{n}{P_j},j-1)-\\sum_{i&#x3D;1}^{j-1}h(P_i))\\end{aligned}$$ æœ€åå°±æˆäº†è¿™ä¸ª$$\\begin{aligned}g(n,j)&#x3D;\\left{\\begin{matrix}g(n,j-1)-h(P_j)(g(\\frac{n}{P_j},j-1)-\\sum_{i&#x3D;1}^{j-1}h(P_i))&amp;M(n)\\le P_j\\g(n,j-1)&amp; M(n)\\gt P_j\\end{matrix}\\right.\\end{aligned}$$åˆ°è¿™é‡Œå°±å·²ç»å¯ä»¥è®°å¿†åŒ–é€’å½’è§£å†³äº†,ä½†æ˜¯é€’å½’æ¯”è¾ƒæ…¢,æˆ‘ä»¬è€ƒè™‘æŠŠå®ƒå˜æˆéé€’å½’,æˆ‘ä»¬è§‚å¯Ÿè¿™ä¸ªå¼å­ã€‚ æˆ‘ä»¬å‘ç°æˆ‘ä»¬å¯ä»¥å…ˆæšä¸¾jå› ä¸º$g(n,j)$æ˜¯ç”±$g(?,j-1)$æ¨å¯¼è¿‡æ¥çš„ï¼Œç„¶åä»å¤§åˆ°å°æšä¸¾nï¼Œæ¥æ›´æ–°æ•°ç»„ï¼Œåˆå› ä¸ºnçš„å‰ä¸€é¡¹å¯èƒ½ä¸$\\frac{n}{P_j}$æœ‰å…³ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠä»–ä»¬éƒ½ç”¨mapæ˜ å°„ä¸€ä¸‹ï¼Œå†è¿›ä¸€æ­¥åˆ†æï¼Œæ ¹æ®æ•´é™¤åˆ†å—çš„ä¼ é€’æ€§ï¼Œ$\\frac{\\frac{a}{b}}{c}&#x3D;\\frac{a}{bc}$æˆ‘ä»¬å¯ä»¥å¾—å‡ºæ‰€æœ‰$g(x,y)$ä¸­xæ„æˆçš„é›†åˆï¼Œæ°å¥½æ˜¯é›†åˆ${x|x&#x3D;\\frac{n}{t},t\\in [1,n]}$,æœ€åé¢„å¤„ç†ä¸€ä¸‹$\\sum^{j-1}_{i&#x3D;1}h(P_i)$å³å¯ï¼Œå¯¹äºæ•´é™¤åˆ†å—çš„æ˜ å°„ï¼Œæˆ‘ä»¬åˆå¯ä»¥åŠ é€Ÿåˆ°O(1)æ­¤å¤„ä¸åšè¿‡å¤šåˆ†æã€‚ æœ€åæˆ‘ä»¬å¾—åˆ°äº†è¿™ä¸ª$O(\\frac{n^{\\frac{3}{4}}}{lg(n)})$ç®—æ³• å†çœ‹å¤æ‚ä¸€äº›çš„ç¬¬äºŒç±»å‡½æ•°ç¬¬äºŒç±»å‡½æ•°æ˜¯æŠ½è±¡çš„ç§¯æ€§å‡½æ•°$f$ã€‚ å¦‚æœæˆ‘ä»¬èƒ½å¤Ÿé€šè¿‡ä¸€äº›æ–¹æ³•æ±‚å‡º$\\sum_{i&#x3D;1}^{n}f(P_i)$å’Œ$f(P_i^k)$,é‚£ä¹ˆæˆ‘ä»¬å°±èƒ½å¤Ÿå¾ˆç®€å•å¾—æ¨å‡ºfçš„å‰ç¼€å’Œã€‚ å¯¹äº$\\sum_{i&#x3D;1}^{n}f(P_i)$, æˆ‘ä»¬è¿™æ ·æ¥æ±‚ï¼Œæ¯”å¦‚è¯´f(x)åœ¨xæ˜¯ä¸€ä¸ªè´¨æ•°çš„æ—¶å€™èƒ½è¡¨ç¤ºä¸ºæŸä¸ªç®€å•å¤šé¡¹å¼ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡å°†å¤šé¡¹å¼å‡½æ•°çœ‹åšæŸäº›å¹‚å‡½æ•°çš„çº¿å½¢ç»„åˆï¼Œå…ˆæ±‚å‡ºå¹‚å‡½æ•°å„è‡ªçš„è´¨æ•°å‰ç¼€å’Œï¼Œç„¶åç›¸åŠ å°±å¯ä»¥å¾—åˆ°fçš„è´¨æ•°å‰ç¼€å’Œã€‚ è€Œå¯¹äºå¦å¤–ä¸€ä¸ª$f(P_i^k)$åˆ™éœ€è¦é€šè¿‡å‡½æ•°çš„å®šä¹‰æ¥æ±‚äº†ã€‚ ç°åœ¨å‡è®¾æˆ‘ä»¬å·²ç»é¢„å¤„ç†å‡ºäº†$\\sum_{i&#x3D;1}^xf(P_i)(x \\in nçš„æ•°è®ºåˆ†å—å³x&#x3D;\\frac{n}{?})å…¶å®å°±æ˜¯g(x,\\infty)$ã€‚ æˆ‘ä»¬è®¾$\\begin{aligned}S(n,j)&#x3D;\\sum_{i&#x3D;2}^nf(i)[M(i)\\ge P_j]\\end{aligned}$æ³¨æ„å’Œ$g(n,j)$å¯¹æ¯”ã€‚$$\\begin{aligned}&amp;S(n,j)\\&#x3D;&amp;\\sum_{i&#x3D;j}^{P_i\\le n}f(P_i)+f(P_i)S(\\frac{n}{P_j},j+1)+f(P_i^2)S(\\frac{n}{P_i^2},j+1)+f(P_i^3)S(\\frac{n}{P_i^3},j+1)+â€¦\\end{aligned}$$è¿™é‡Œå·²ç»å¯ä»¥äº†ï¼Œç¬¬ä¸€é¡¹å¯ä»¥é€šè¿‡ä¸¤ä¸ªå‰ç¼€å’Œç›¸å‡å¾—åˆ°ï¼Œåè¾¹çš„é€’å½’ã€‚è¿™å°±æ˜¯min25ç­›çš„çµé­‚æ‰€åœ¨ã€‚ æˆ‘ä»¬ç°åœ¨å¥½å¥½æ¥åˆ†æä¸€ä¸‹è¿™ä¸ªé€’å½’å¼å­ã€‚æˆ‘ä»¬å‘ç°ç¬¬ä¸€é¡¹æ˜¯æœ€å¥½æ±‚çš„ï¼Œå°±æ˜¯ç¬¬ä¸€ç±»å‡½æ•°ï¼Œä½†æ˜¯åè¾¹çš„å‡ é¡¹å¿…é¡»è¦æ±‚ç§¯æ€§å‡½æ•°ã€‚è¿™ä¹Ÿæ˜¯min25ç­›åªèƒ½å¯¹ç§¯æ€§å‡½æ•°èµ·ä½œç”¨çš„åœ°æ–¹ã€‚ min25ç­›èƒ½å¤„ç†æ›´å¤šçš„å‡½æ•°å—ï¼Ÿæˆ‘ä»¬æš‚å®šè¿™äº›å‡½æ•°ä¸ºfï¼Œæ˜¾ç„¶æˆ‘ä»¬å¿…é¡»è¦èƒ½å¤Ÿæ±‚å‡ºgå’Œsï¼Œè¿™å°±æ˜¯min25ç­›,å¯¹äºgï¼Œè¿™é‡Œä¸å¯¹æ­¤ä½œè¿‡å¤šåˆ†æï¼Œæ²¡æœ‰è¿™ä¸ªå¿…è¦ï¼Œæˆ‘ä»¬å‡å®šéƒ½æ˜¯ä¸€ç±»ä¸å¹‚å‡½æ•°çº¿å½¢ç»„åˆæœ‰å…³çš„å‡½æ•°ï¼ŒæŠ‘æˆ–æ˜¯æŸå‡ é¡¹ä¸å¹‚å‡½æ•°æœ‰å…³ï¼Œåæ­£åªè¦èƒ½å¤Ÿæ‰¾åˆ°å®Œå…¨ç§¯æ€§å‡½æ•°håœ¨è´¨æ•°è‡ªå˜é‡å’Œfå‡½æ•°å­˜åœ¨ç›¸ç­‰å…³ç³»å³å¯ã€‚sçš„è¯ï¼Œç¬¬ä¸€é¡¹ç®€å•å·®åˆ†ï¼Œåè¾¹çš„çœ‹ä¼¼è¦æ±‚fæ˜¯ç§¯æ€§å‡½æ•°ï¼Œå…¶å®ä¸ç„¶ï¼Œæˆ‘ä»¬ä»”ç»†åˆ†æï¼Œå…¶å®ä»–è¦æ±‚çš„æ˜¯è¿™æ ·çš„è¦æ±‚: å‡å®šyæ˜¯xçš„æœ€å°è´¨å› å­ï¼Œ$z&#x3D;y^kä¸”zï½œxä¸”kæœ€å¤§$ï¼Œæˆ‘ä»¬åªè¦èƒ½å¤Ÿé€šè¿‡$f(z)å’Œf(\\frac{x}{z})$è¿™ä¸¤é¡¹èƒ½å¤Ÿæ¨å‡ºf(x)å³å¯ï¼Œè¿™é‡Œå¹¶æ²¡æœ‰å¼ºåˆ¶è¦æ±‚$f(x)&#x3D;f(z)*f(\\frac{x}{z})å³f(x)&#x3D;f(M(x))$ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œè‹¥$f(x)&#x3D;f(z)&#x3D;f(y)&#x3D;y$ï¼Œæˆ‘ä»¬ä¹Ÿæ˜¯å¯ä»¥æ±‚çš„ã€‚ è´´ä¸€ä¸ªæ±‚$f(a^b)&#x3D;a \\bigotimes b$å’Œ$f(x)&#x3D;M(x)$çš„ä»£ç  12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879#include&lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;const ll sqr=2e5+10;// 2sqrt(n)ll p[sqr],np[sqr]=&#123;1,1&#125;;void prime_ini()&#123;// ç´ æ•°ä¸å¯èƒ½ç­›åˆ°longlongèŒƒå›´ for(int i=2; i&lt;sqr; i++)&#123; if(!np[i])p[++p[0]]=i;//æŠŠè´¨æ•°æ”¶å½• for(int j=1; 1ll*i*p[j]&lt;sqr; j++)&#123; np[i*p[j]]=1;//å¯¹æ¯ä¸€ä¸ªæ•°å­—æšä¸¾ä»–çš„æœ€å°å› å­ if(i%p[j]==0)break;//åœ¨å¾€åçš„è¯å°±ä¸æ˜¯æœ€å°å› å­äº† &#125; &#125;&#125;const ll mod=1e9+7;ll w[sqr],g[sqr][2],sp[sqr][2],id1[sqr],id2[sqr],mpn;inline ll&amp; mp(ll x)&#123;return x&lt;sqr?id1[x]:id2[mpn/x];&#125;void min25(ll n)&#123;// è®¡ç®—è´¨æ•°ä½ç½®ä¹‹å’Œçš„æ—¶å€™ åªç”¨åˆ°äº†f(x,1) å’Œ oddsum(x) mpn=n; ll m=0; for(ll l=1,r;l&lt;=n;l=r+1)&#123;// iä»å°åˆ°å¤§ n/iä»åˆ°å° r=n/(n/l); mp(n/l)=++m; w[m]=n/l; g[m][0]=(w[m]-1)%mod;// f(x)=1, s(x)=x g[m][1]=(__int128(w[m])*(w[m]+1)/2-1)%mod; // f(x)=x, s(x)=x(x+1)/2 è¿™é‡Œçš„int128éå¸¸å…³é”®ï¼Œå› ä¸ºnæ˜¯1e10çº§åˆ«çš„ &#125;//assert(w[m]==1); for(ll j=1;p[j]*p[j]&lt;=n;j++)&#123; sp[j][0]=sp[j-1][0]+1;// f(x)=1 sp[j][1]=(sp[j-1][1]+p[j])%mod;// f(x)=x for(ll i=1;w[i]&gt;=p[j]*p[j];++i)&#123;// w[i]ä»å¤§åˆ°å° å½“iç­‰äºmçš„æ—¶å€™ w[i]&gt;=p[j]*p[j]æ’ä¸æˆç«‹ g[i][0]-=(g[mp(w[i]/p[j])][0]-sp[j-1][0])*1;// f(x)=1 g[i][1]-=(g[mp(w[i]/p[j])][1]-sp[j-1][1])*p[j];// f(x)=x g[i][0]=(g[i][0]%mod+mod)%mod; g[i][1]=(g[i][1]%mod+mod)%mod; &#125; &#125;&#125;// f(pow(a,b))=a^b fä¸ºç§¯æ€§å‡½æ•°inline ll f(ll a,ll b)&#123;return a^b;&#125; // å½“ä¸”ä»…å½“aæ˜¯ä¸€ä¸ªç´ æ•°ll s(ll n,ll j)&#123;// sum of f(x) x&lt;=n minfac(x)&gt;=p[j] ll res=(g[mp(n)][1]-g[mp(n)][0])-(sp[j-1][1]-sp[j-1][0])+2*mod;// å‡æ‰p[j]å‰é¢çš„è´¨æ•° ï¼š [p[j],n]ä¸Šçš„è´¨æ•°çš„å‡½æ•°çš„å’Œ if(n&gt;=2&amp;&amp;j==1) res+=2; for(ll k=j;p[k]*p[k]&lt;=n;k++)&#123;// æšä¸¾çš„æœ€å°è´¨å› å­ for(ll x=p[k],e=1;x*p[k]&lt;=n;x*=p[k],e++)&#123;//æšä¸¾è¯¥å› å­å‡ºç°æ¬¡æ•° res+=s(n/x,k+1)*f(p[k],e)%mod+f(p[k],e+1);// æ¯æ¬¡å¢åŠ 2mod resä¸å¯èƒ½è¶…è¿‡ long long &#125; &#125; return res%mod;&#125;// f(x)=minfac(x) fä¸ä¸ºç§¯æ€§å‡½æ•° ä½†æˆ‘ä»¬ç”¨ç§¯æ€§å‡½æ•°æ¥åšä»–typedef pair&lt;ll,ll&gt; pll;pll s2(ll n,ll j)&#123;// ll res1=g[mp(n)][0]-sp[j-1][0]+2*mod; ll res2=g[mp(n)][1]-sp[j-1][1]+2*mod;// å‡æ‰p[j]å‰é¢çš„è´¨æ•° ï¼š [p[j],n]ä¸Šçš„è´¨æ•°çš„å‡½æ•°çš„å’Œ for(ll k=j;p[k]*p[k]&lt;=n;k++)&#123;// æšä¸¾çš„æœ€å°è´¨å› å­ for(ll x=p[k],e=1;x*p[k]&lt;=n;x*=p[k],e++)&#123;//æšä¸¾è¯¥å› å­å‡ºç°æ¬¡æ•° pll tmp=s2(n/x,k+1); res1+=tmp.first*1%mod+1; res2+=tmp.first*p[k]%mod+p[k];// æ¯æ¬¡å¢åŠ 2mod resä¸å¯èƒ½è¶…è¿‡ long long &#125; &#125; return pll(res1%mod,res2%mod);&#125;int main() &#123; prime_ini(); ll n; while(cin&gt;&gt;n)&#123; min25(n); if(n==1) cout&lt;&lt;1&lt;&lt;endl; else cout&lt;&lt;(s(n,1)+1)%mod&lt;&lt;endl; &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ•°å­¦","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%95%B0%E5%AD%A6/"}],"tags":[]},{"title":"ç‰›å®¢æŒ‘æˆ˜èµ›33D","slug":"ACM/åˆ·é¢˜å®æˆ˜/ç‰›å®¢/ç‰›å®¢æŒ‘æˆ˜èµ›33D/index","date":"2019-10-22T12:14:23.000Z","updated":"2019-10-22T12:14:23.000Z","comments":true,"path":"PZRZBZ.html","link":"","permalink":"http://fightinggg.github.io/indigo/PZRZBZ.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ###nameç§èŠ±å®¶çš„é›¶é£Ÿ ###descirptionåœ¨å¾ˆä¹…ä»¥å‰ï¼Œæœ‰ä¸€é¢—è“æ˜Ÿï¼Œè“æ˜Ÿä¸Šæœ‰ä¸€ä¸ªç§èŠ±å®¶ã€‚ç§èŠ±å®¶æœ‰1åˆ°nå…±nåŒ…é›¶é£Ÿï¼ŒåŒæ—¶ç§èŠ±å®¶çš„å…”å­åˆæœ‰1åˆ°nå…±nä¸ªæœ‹å‹(æ¯”å¦‚æ¯›ç†Šï¼Œé¹°é…±ï¼Œè„šç›†é¸¡ç­‰ï¼‰ã€‚æ˜¨å¤©ï¼Œå…”å­çš„nä¸ªæœ‹å‹éƒ½åˆ°ä»–å®¶æ¥ç©äº†ã€‚ä»–çš„nä¸ªæœ‹å‹ç“œåˆ†äº†ä»–çš„nåŒ…é›¶é£Ÿï¼Œæ¯ä¸ªäººéƒ½æ°å¥½åƒäº†ä¸€åŒ…é›¶é£Ÿï¼Œæ²¡æœ‰ä¸¤ä¸ªäººåƒäº†åŒä¸€åŒ…é›¶é£Ÿã€‚å…”å­å‘ç°ï¼Œç¬¬iä¸ªæœ‹å‹åƒç¬¬jåŒ…é›¶é£Ÿèƒ½è·å¾—çš„æ„‰æ‚¦å€¼æ˜¯$i\\mod j$ã€‚ä»Šå¤©ï¼Œå…”å­æƒ³å›å¿†èµ·æ¯ä¸ªæœ‹å‹åƒçš„æ˜¯å“ªåŒ…é›¶é£Ÿï¼Œä»–æƒ³ä¸èµ·æ¥äº†ï¼Œä½†æ˜¯ä»–å´è®°å¾—äº†æ‰€æœ‰äººçš„æ„‰æ‚¦å€¼ä¹‹å’Œsã€‚äºæ˜¯ï¼Œå…”å­æ‰¾ä¸Šäº†ä½ ï¼Œè¯·ä½ æ„é€ å‡ºä¸€ç§å¯èƒ½çš„æ–¹æ¡ˆã€‚ç”±äºå…”å­è®°å¿†åŠ›ä¸å¥½ï¼Œä»–æœ‰å¯èƒ½è®°é”™äº†sï¼Œæ‰€ä»¥å¯èƒ½ä¼šå­˜åœ¨æ— è§£çš„æƒ…å†µã€‚ ###inputä¸€è¡Œä¸¤ä¸ªæ•´æ•°$n(1\\leq n\\leq 10^6)$å’Œ$s(1\\leq s\\leq10^{18})$ ###outputå¦‚æœä¸å­˜åœ¨æ»¡è¶³æ¡ä»¶çš„æ–¹æ¡ˆï¼Œè¾“å‡ºä¸€è¡Œ-1ã€‚å¦åˆ™è¾“å‡ºnè¡Œï¼Œæ¯è¡Œä¸€ä¸ªæ•´æ•°ï¼Œç¬¬iè¡Œçš„æ•´æ•°è¡¨ç¤ºç¬¬iä¸ªæœ‹å‹åƒçš„æ˜¯å“ªåŒ…é›¶é£Ÿã€‚ ###sample input5 7 ###sample output14352 ###sample input5 100 ###sample output-1 ###toturialåˆ†æå‡ºä¸Šç•Œä¸º$\\frac{n(n-1)}{2}$åï¼Œåˆ†ç±»è®¨è®ºï¼Œç”¨æ•°å­¦å½’çº³æ³•è¯æ˜ç‰¹ä¾‹å³å¯ ###code 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879#include&lt;bits/stdc++.h&gt;#define rep(i,j,k) for(ll i=(j);i&lt;=(k);++i)using namespace std;typedef long long ll;const int maxn=1e6+10;ll ans[maxn];vector&lt;ll&gt;vec;void solve(ll n,ll s)&#123; if(n==1) &#123; vec.push_back(1); return; &#125; // choose n-1 s-=n-1; n--; if(s!=n*(n-1)/2-1&amp;&amp;s!=2&amp;&amp;s!=0&amp;&amp;s&gt;0)&#123; vec.push_back(n); solve(n,s); return; &#125; n++; s+=n-1; solve(n-1,s);&#125;int main() &#123; ll n,s; cin&gt;&gt;n&gt;&gt;s; if(s&gt;n*(n-1)/2) ans[0]=-1; else if(n==1)&#123; if(s==0) ans[1]=1; else ans[0]=-1; &#125; else if(n==2)&#123; if(s==0) ans[1]=1,ans[2]=2; else if(s==1) ans[1]=2,ans[2]=1; else ans[0]=-1; &#125; else if(s==0) rep(i,1,n) ans[i]=i; else if(s==2) &#123; ans[1]=3;; ans[2]=1; ans[3]=2; rep(i,4,n) ans[i]=i; &#125; else if(s==n*(n-1)/2-1)&#123; if(n%2==0)&#123; ans[1]=1; rep(i,2,n-1) ans[i]=i+1; ans[n]=2; &#125; else&#123; ans[1]=3; ans[2]=1; rep(i,3,n-1) ans[i]=i+1; ans[n]=2; &#125; &#125; else &#123; vec.push_back(n); solve(n,s); rep(i,1,n) ans[i]=i; int sz=vec.size(); // rep(i,0,sz-1) cout&lt;&lt;vec[i]&lt;&lt;endl; // cout&lt;&lt;endl; rep(i,0,sz-1)ans[vec[i]]=vec[(i-1+sz)%sz]; &#125; if(ans[0]==-1) printf(&quot;-1\\n&quot;); else &#123; ll ss=0; rep(i,1,n) ss+=i%ans[i],printf(&quot;%lld\\n&quot;,ans[i]); assert(ss==s); // cout&lt;&lt;s&lt;&lt;endl; &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"ç‰›å®¢","slug":"ACM/åˆ·é¢˜å®æˆ˜/ç‰›å®¢","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/%E7%89%9B%E5%AE%A2/"}],"tags":[]},{"title":"è‡ªå˜é‡äº’è´¨çš„å‰ç¼€å’Œå‡½æ•°åˆ†æ","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦/è‡ªå˜é‡äº’è´¨çš„å‰ç¼€å’Œå‡½æ•°åˆ†æ/index","date":"2019-10-20T07:56:54.000Z","updated":"2019-10-20T07:56:54.000Z","comments":true,"path":"PZNY2U.html","link":"","permalink":"http://fightinggg.github.io/indigo/PZNY2U.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æœ‰è¿™æ ·ä¸€ç±»é—®é¢˜ï¼Œä»–ä»¬çš„å½¢å¼å¸¸å¸¸æ˜¯è¿™ä¸ªæ ·å­$$\\begin{aligned}\\sum_{i&#x3D;1}^n{f(i)[gcd(i,j)&#x3D;1]}\\end{aligned}$$ æˆ‘ä»¬æ¥å¯¹ä»–è¿›è¡Œå˜å½¢$$\\begin{aligned}&amp;\\sum_{i&#x3D;1}^n{f(i)[gcd(i,j)&#x3D;1]}\\&#x3D;&amp;\\sum_{i&#x3D;1}^n{f(i)e(gcd(i,j))}\\&#x3D;&amp;\\sum_{i&#x3D;1}^n{f(i)(\\mu1)(gcd(i,j)}\\&#x3D;&amp;\\sum_{i&#x3D;1}^n{f(i)\\sum_{d|gcd(i,j)}\\mu(d)}\\&#x3D;&amp;\\sum_{i&#x3D;1}^n{f(i)\\sum_{d|i,d|j}\\mu(d)}\\&#x3D;&amp;\\sum_{d|j}{\\mu(d)\\sum_{d|i,1&lt;&#x3D;i&lt;&#x3D;n}f(i)}\\&#x3D;&amp;\\sum_{d|j}{\\mu(d)\\sum_{i&#x3D;1}^{\\lfloor\\frac{n}{d}\\rfloor}f(id)}\\\\end{aligned}$$ å¦‚æœ$f(i)&#x3D;1$ åˆ™$$\\begin{aligned}\\sum_{i&#x3D;1}^n{[gcd(i,j)&#x3D;1]}&#x3D;\\sum_{d|j}{\\mu(d)\\lfloor\\frac{n}{d}\\rfloor}\\\\end{aligned}$$ æ›´åŠ ç‰¹æ®Šçš„ å¦‚æœ$j&#x3D;n$ åˆ™$$\\begin{aligned}\\sum_{i&#x3D;1}^n{[gcd(i,n)&#x3D;1]}&#x3D;\\sum_{d|j}{\\mu(d)\\frac{n}{d}}&#x3D;(\\mu*id)(n)&#x3D;\\phi(n)\\\\end{aligned}$$ å¦‚æœ$f(i)&#x3D;i$ åˆ™$$\\begin{aligned}&amp;\\sum_{i&#x3D;1}^n{i[gcd(i,j)&#x3D;1]}\\&#x3D;&amp;\\sum_{d|j}{\\mu(d)\\sum_{i&#x3D;1}^{\\lfloor\\frac{n}{d}\\rfloor}i*d}\\&#x3D;&amp;\\sum_{d|j}{\\mu(d)d\\frac{\\lfloor\\frac{n}{d}\\rfloor(\\lfloor\\frac{n}{d}\\rfloor+1)}{2}}\\\\end{aligned}$$ æ›´åŠ ç‰¹æ®Šçš„ å¦‚æœ$j&#x3D;n$ åˆ™$$\\begin{aligned}&amp;\\sum_{i&#x3D;1}^n{i[gcd(i,n)&#x3D;1]}\\&#x3D;&amp;\\sum_{d|n}{\\mu(d)d\\frac{\\frac{n}{d}(\\frac{n}{d}+1)}{2}}\\&#x3D;&amp;\\frac{n}{2}\\sum_{d|n}{\\mu(d)(\\frac{n}{d}+1)}\\&#x3D;&amp;\\frac{n}{2}(\\sum_{d|n}{\\mu(d)\\frac{n}{d}}+\\sum_{d|n}{\\mu(d)})\\&#x3D;&amp;\\frac{n}{2}(\\phi(n)+e(n))\\\\end{aligned}$$ æ€»ç»“$\\begin{aligned}&amp;\\sum_{i&#x3D;1}^n{f(i)[gcd(i,j)&#x3D;1]}&#x3D;\\sum_{d|j}{\\mu(d)\\sum_{i&#x3D;1}^{\\lfloor\\frac{n}{d}\\rfloor}f(i*d)}\\&amp;\\sum_{i&#x3D;1}^n{[gcd(i,j)&#x3D;1]}&#x3D;\\sum_{d|j}{\\mu(d)\\lfloor\\frac{n}{d}\\rfloor}\\&amp;\\sum_{i&#x3D;1}^n{[gcd(i,n)&#x3D;1]}&#x3D;\\phi(n)\\&amp;\\sum_{i&#x3D;1}^n{i[gcd(i,j)&#x3D;1]}&#x3D;\\sum_{d|j}{\\mu(d)d\\frac{\\lfloor\\frac{n}{d}\\rfloor(\\lfloor\\frac{n}{d}\\rfloor+1)}{2}}\\&amp;\\sum_{i&#x3D;1}^n{i[gcd(i,n)&#x3D;1]}&#x3D;\\frac{n}{2}(\\phi(n)+e(n))\\\\end{aligned}$","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ•°å­¦","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%95%B0%E5%AD%A6/"}],"tags":[]},{"title":"hdu6703","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu/hdu6703/index","date":"2019-10-19T03:29:37.000Z","updated":"2019-10-19T03:29:37.000Z","comments":true,"path":"PZLR1D.html","link":"","permalink":"http://fightinggg.github.io/indigo/PZLR1D.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ###namearray ###descirptionYou are given an array $a_1,a_2,â€¦,a_n(âˆ€iâˆˆ[1,n],1â‰¤a_iâ‰¤n)$. Initially, each element of the array is unique. Moreover, there are m instructions. Each instruction is in one of the following two formats: (1,pos),indicating to change the value of $a_{pos}$ to $a_{pos}+10,000,000$; (2,r,k),indicating to ask the minimum value which is not equal to any $a_i$ ( 1â‰¤iâ‰¤r ) and not less than k. Please print all results of the instructions in format 2. ###inputThe first line of the input contains an integer T(1â‰¤Tâ‰¤10), denoting the number of test cases. In each test case, there are two integers n(1â‰¤nâ‰¤100,000),m(1â‰¤mâ‰¤100,000) in the first line, denoting the size of array a and the number of instructions. In the second line, there are n distinct integers $a_1,a_2,â€¦,a_n (âˆ€iâˆˆ[1,n],1â‰¤a_iâ‰¤n)$,denoting the array.For the following m lines, each line is of format $(1,t_1) or (2,t_2,t_3)$.The parameters of each instruction are generated by such way : For instructions in format 1 , we defined $pos&#x3D;t_1âŠ•LastAns$ . (It is promised that 1â‰¤posâ‰¤n) For instructions in format 2 , we defined $r&#x3D;t_2âŠ•LastAns,k&#x3D;t_3âŠ•LastAns$. (It is promised that 1â‰¤râ‰¤n,1â‰¤kâ‰¤n ) (Note that âŠ• means the bitwise XOR operator. ) Before the first instruction of each test case, LastAns is equal to 0 .After each instruction in format 2, LastAns will be changed to the result of that instruction. (âˆ‘nâ‰¤510,000,âˆ‘mâ‰¤510,000 ) ###outputFor each instruction in format 2, output the answer in one line. ###sample input35 94 3 1 2 52 1 12 2 22 6 72 1 32 6 32 0 41 52 3 72 4 310 61 2 4 6 3 5 9 10 7 82 7 21 22 0 52 11 101 32 3 210 109 7 5 3 4 10 6 2 1 81 102 8 91 122 15 151 122 1 31 91 122 2 21 9 ###sample output15225616731110114811 ###hintnote:After the generation procedure ,the instructions of the first test case are :2 1 1, in format 2 and r&#x3D;1 , k&#x3D;12 3 3, in format 2 and r&#x3D;3 , k&#x3D;32 3 2, in format 2 and r&#x3D;3 , k&#x3D;22 3 1, in format 2 and r&#x3D;3 , k&#x3D;12 4 1, in format 2 and r&#x3D;4 , k&#x3D;12 5 1, in format 2 and r&#x3D;5 , k&#x3D;11 3 , in format 1 and pos&#x3D;32 5 1, in format 2 and r&#x3D;5 , k&#x3D;12 5 2, in format 2 and r&#x3D;5 , k&#x3D;2 the instructions of the second test case are :2 7 2, in format 2 and r&#x3D;7 , k&#x3D;21 5 , in format 1 and pos&#x3D;52 7 2, in format 2 and r&#x3D;7 , k&#x3D;22 8 9, in format 2 and r&#x3D;8 , k&#x3D;91 8 , in format 1 and pos&#x3D;82 8 9, in format 2 and r&#x3D;8 , k&#x3D;9 the instructions of the third test case are :1 10 , in format 1 and pos&#x3D;102 8 9 , in format 2 and r&#x3D;8 , k&#x3D;91 7 , in format 1 and pos&#x3D;72 4 4 , in format 2 and r&#x3D;4 , k&#x3D;41 8 , in format 1 and pos&#x3D;82 5 7 , in format 2 and r&#x3D;5 , k&#x3D;71 1 , in format 1 and pos&#x3D;11 4 , in format 1 and pos&#x3D;42 10 10, in format 2 and r&#x3D;10 , k&#x3D;101 2 , in format 1 and pos&#x3D;2 ###toturial1å…ˆä¸è€ƒè™‘ä¿®æ”¹ï¼Œè‹¥åªæœ‰æŸ¥è¯¢ï¼Œæˆ‘ä»¬å‘ç°æ¯æ¬¡éƒ½æ˜¯å‰ç¼€çš„æŸ¥è¯¢ï¼Œè¿™é‡Œæ˜¾ç„¶æ˜¯å¯ä»¥ä½¿ç”¨ä¸»å¸­æ ‘ç”¨logçš„å¤æ‚åº¦å®Œæˆçš„ï¼Œç„¶åæˆ‘ä»¬è€ƒè™‘ä¿®æ”¹ï¼Œæˆ‘ä»¬å‘ç°ä¿®æ”¹ç­‰ä»·äºåˆ é™¤æ•°å­—ï¼Œé‚£ä¹ˆè¿™æ ·ä¸€æ¥ï¼Œåˆå› ä¸ºæ¯ä¸ªæ•°éƒ½æ˜¯ç‹¬ä¸€æ— äºŒçš„ï¼Œåˆ é™¤åªä¼šè®©ç­”æ¡ˆå˜å¾—æ›´å°ï¼Œä¸”æ°å¥½å˜æˆåˆ æ‰çš„æ•°å­—ï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•ç”¨ä¸€ä¸ªé›†åˆè®°å½•æ‰€æœ‰åˆ æ‰çš„æ•°å­—ï¼Œç„¶åç”¨lower_boundæ¥æŸ¥è¯¢ï¼Œå’Œä¸»å¸­æ ‘å¾—åˆ°çš„ç­”æ¡ˆå–å¾—æœ€å°å€¼ï¼Œå°±æ˜¯çœŸæ­£çš„ç­”æ¡ˆã€‚è¯æ˜è¿‡ç¨‹å¾ˆç®€å•ï¼Œåˆ†ç±»è¯æ˜å³å¯ã€‚ ###code1 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051// ä¸»å¸­æ ‘+set#include&lt;bits/stdc++.h&gt;using namespace std;#define rep(i,j,k) for(int i=j;i&lt;=int(k);++i)inline int read()&#123;int x;scanf(&quot;%d&quot;,&amp;x);return x;&#125;const int maxn = 1e5+5;int ls[maxn*20*1],rs[maxn*20*1],siz[maxn*20*1],tot,rt[maxn];//updateç”¨äº†å‡ æ¬¡ï¼Œå°±è¦ä¹˜ä»¥å¤šå°‘void update(int pre,int&amp;u,int l,int r,int pos,int val)&#123;//æŠŠuæŒ‰ç…§preå¤åˆ¶ï¼Œç„¶åæ›´æ–°pos u=++tot; ls[u]=ls[pre];rs[u]=rs[pre]; siz[u]=siz[pre]+val; if(l==r)return ; int mid=(l+r)&gt;&gt;1; if(pos&lt;=mid) update(ls[pre],ls[u],l,mid,pos,val); else update(rs[pre],rs[u],mid+1,r,pos,val);&#125;int query(int u,int l,int r,int ql,int qr)&#123; int mid=(l+r)&gt;&gt;1,res=1e9; if(ql&lt;=l&amp;&amp;r&lt;=qr)&#123; if(l==r)return siz[u]==0?l:1e9; if(siz[ls[u]]!=mid-l+1) return query(ls[u],l,mid,ql,qr); else return query(rs[u],mid+1,r,ql,qr); &#125; if(ql&lt;=mid)res=min(res,query(ls[u],l,mid,ql,qr)); if(res!=1e9)return res; if(qr&gt;=mid+1)res=min(res,query(rs[u],mid+1,r,ql,qr)); return res;&#125;int a[maxn];int main()&#123; int T=read(); rep(times,1,T)&#123; tot=0; set&lt;int&gt;se; se.insert(1e9); int n=read(),m=read(); rep(i,1,n) update(rt[i-1],rt[i],1,n+1,a[i]=read(),1); int lastans=0; rep(i,1,m)&#123; if(read()==1) se.insert(a[read()^lastans]); else&#123; int r=read()^lastans,k=read()^lastans; printf(&quot;%d\\n&quot;,lastans=min(*se.lower_bound(k),query(rt[r],1,n+1,k,n+1))); &#125; &#125; &#125;&#125; ###toturial2é€†å‘æ€ç»´ï¼Œåè½¬é”®å€¼ï¼Œé¢˜ç›®è®©æˆ‘ä»¬åœ¨é”®åŒºé—´[1,r]ä¸Šæ‰¾åˆ°æœ€å°çš„ä¸å°äºkçš„å€¼ï¼Œæˆ‘ä»¬åè½¬åå˜æˆäº†åœ¨å€¼åŒºé—´[k,n+1]ä¸Šæ‰¾åˆ°å€¼æœ€å°çš„é”®ï¼Œå…¶é”®ä¸å°äºkï¼Œä¿®æ”¹æ“ä½œå°±æˆäº†æŠŠå€¼æ‰€å¯¹çš„é”®ä¿®æ”¹ä¸ºæ— ç©·å¤§ï¼Œè¿™ä¸ªé—®é¢˜ç”¨æ™®é€šæœ€å€¼çº¿æ®µæ ‘å¾ˆè½»æ¾å°±èƒ½è§£å†³ ###code2 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364// é€†å‘æ€ç»´ é”®å€¼é¢ å€’#include&lt;bits/stdc++.h&gt;using namespace std;#define rep(i,j,k) for(int i=j;i&lt;=int(k);++i)inline int read()&#123;int x;scanf(&quot;%d&quot;,&amp;x);return x;&#125;#define ml ((l+r)&gt;&gt;1)#define mr (ml+1)const int maxn = 1e5+20;int ls[maxn*2],rs[maxn*2],mx[maxn*2],a[maxn],pos[maxn],tot;//updateç”¨äº†å‡ æ¬¡ï¼Œå°±è¦ä¹˜ä»¥å¤šå°‘void build(int&amp;u,int l,int r)&#123; u=++tot; if(l==r) &#123;mx[u]=pos[l];return;&#125; build(ls[u],l,ml); build(rs[u],mr,r); mx[u]=max(mx[ls[u]],mx[rs[u]]);&#125;void update(int&amp;u,int l,int r,int q,int d)&#123; if(l==r) &#123;mx[u]=d;return;&#125; if(q&lt;=ml) update(ls[u],l,ml,q,d); else update(rs[u],mr,r,q,d); mx[u]=max(mx[ls[u]],mx[rs[u]]);&#125;int query(int u,int l,int r,int ql,int qr,int x)&#123;// &gt;x int ans=1e9; if(ql&lt;=l&amp;&amp;r&lt;=qr)&#123; if(mx[u]&lt;=x) return 1e9; if(l==r) return l; ans=query(ls[u],l,ml,ql,qr,x); if(ans!=1e9) return ans; return query(rs[u],mr,r,ql,qr,x); &#125; if(ml&gt;=ql) ans=min(ans,query(ls[u],l,ml,ql,qr,x)); if(ans!=1e9) return ans; if(mr&lt;=qr) ans=min(ans,query(rs[u],mr,r,ql,qr,x)); return ans;&#125;int main()&#123; int T=read(); rep(times,1,T)&#123; tot=0; int n=read(),m=read(),rt; rep(i,1,n) a[i]=read(),pos[a[i]]=i; a[n+1]=n+1,pos[n+1]=n+1; build(rt,1,n+1); int lastans=0; rep(i,1,m)&#123; if(read()==1) &#123; int val=a[read()^lastans]; update(rt,1,n+1,val,n+1); // pos[val]=n+1; &#125; else&#123; int r=read()^lastans,k=read()^lastans; printf(&quot;%d\\n&quot;,lastans=query(rt,1,n+1,k,n+1,r)); // rep(i,k,n+1) if(pos[i]&gt;r) &#123;cout&lt;&lt;&quot; &quot;&lt;&lt;i&lt;&lt;endl;lastans=i;break;&#125; &#125; &#125; &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"hdu","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/hdu/"}],"tags":[]},{"title":"hdu6588","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu/hdu6588/index","date":"2019-09-04T03:24:31.000Z","updated":"2019-09-04T03:24:31.000Z","comments":true,"path":"PXAESV.html","link":"","permalink":"http://fightinggg.github.io/indigo/PXAESV.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ###name ###descirption ###input ###output ###sample input ###sample output ###toturialå…ˆæ¥çœ‹ä¸€ä¸ªç®€å•çš„å˜å½¢$$\\begin{aligned}&amp;\\sum_{i&#x3D;1}^{n}gcd(x,i)\\&#x3D;&amp;\\sum_{d|x}\\sum_{i&#x3D;1}^{n}[gcd(x,i)&#x3D;d]\\&#x3D;&amp;\\sum_{d|x}\\sum_{i&#x3D;1}^{\\lfloor\\frac{n}{d}\\rfloor}[gcd(\\frac{x}{d},i)&#x3D;1]\\&#x3D;&amp;\\sum_{d|x}\\sum_{i&#x3D;1}^{\\lfloor\\frac{n}{d}\\rfloor}\\sum_{y|\\frac{x}{d},y|i}\\mu(y)\\&#x3D;&amp;\\sum_{y|x}\\sum_{d|\\frac{x}{y}}\\sum_{y|i,i\\leq\\lfloor\\frac{n}{d}\\rfloor}\\mu(y)\\&#x3D;&amp;\\sum_{y|x}\\sum_{d|\\frac{x}{y}}\\frac{\\lfloor\\frac{n}{d}\\rfloor}{y}\\mu(y)\\&#x3D;&amp;\\sum{}\\\\end{aligned}$$ é¢˜ç›®è®©æˆ‘ä»¬æ±‚çš„ä¸œè¥¿æ˜¯è¿™ä¸ª$$\\begin{aligned}\\sum_{i&#x3D;1}^{n}gcd(\\lfloor\\sqrt[3]{i}\\rfloor,i)\\end{aligned}$$ ###code 12#include&lt;bits/stdc++.h&gt;using namespace std;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"hdu","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/hdu/"}],"tags":[]},{"title":"hdu6586","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu/hdu6586/index","date":"2019-09-04T02:32:30.000Z","updated":"2019-09-04T02:32:30.000Z","comments":true,"path":"PXACE6.html","link":"","permalink":"http://fightinggg.github.io/indigo/PXACE6.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ###nameString ###descirptionTom has a string containing only lowercase letters. He wants to choose a subsequence of the string whose length is k and lexicographical order is the smallest. Itâ€™s simple and he solved it with ease.But Jerry, who likes to play with Tom, tells him that if he is able to find a lexicographically smallest subsequence satisfying following 26 constraints, he will not cause Tom trouble any more.The constraints are: the number of occurrences of the ith letter from a to z (indexed from 1 to 26) must in $[L_i,R_i]$.Tom gets dizzy, so he asks you for help. ###inputThe input contains multiple test cases. Process until the end of file.Each test case starts with a single line containing a string $S(|S|â‰¤10^5)$and an integer k(1â‰¤kâ‰¤|S|).Then 26 lines follow, each line two numbers$ L_i,R_i(0â‰¤L_iâ‰¤R_iâ‰¤|S|)$.Itâ€™s guaranteed that S consists of only lowercase letters, and $âˆ‘|S|â‰¤3Ã—10^5$. ###outputOutput the answer string.If it doesnâ€™t exist, output âˆ’1. ###sample inputaaabbb 30 32 30 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0###sample outputabb ###toturialé‡åˆ°è¿™ç§é¢˜ä¸€èˆ¬è¦æƒ³åˆ°ä¸€ä½ä¸€ä½å»æ„é€ ï¼Œè´ªå¿ƒçš„é€‰æ‹©å°çš„å­—æ¯ï¼Œä»è€Œæ„é€ å‡ºæœ€å°å­—å…¸åºï¼Œè€Œè¿™ä¸€æ­¥æˆ‘ä»¬éœ€è¦çš„æ˜¯éªŒè¯æ­¤å­—æ¯æ˜¯å¦åˆæ³•ã€‚å› ä¸ºæ˜¯åœ¨é€‰å­åºåˆ—ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦ç»Ÿè®¡åç¼€æ˜¯å¦æ»¡è¶³è¦æ±‚å³å¯ï¼Œåç¼€ä¸­çš„å­—æ¯éƒ½æ»¡è¶³æ•°é‡è¶³å¤Ÿå³å¯ ###code 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556#include&lt;bits/stdc++.h&gt;using namespace std;#define rep(i,j,k) for(int i=(j);i&lt;=(k);++i)#define per(i,j,k) for(int i=(j);i&gt;=(k);--i)const int maxn=1e5+5;char s[maxn];int k;int l[maxn],r[maxn];int suf[maxn][26],ct[maxn][26];char ans[maxn];int main()&#123; while(~scanf(&quot;%s%d&quot;,s,&amp;k))&#123; rep(i,0,25) scanf(&quot;%d%d&quot;,l+i,r+i); int len=strlen(s); rep(j,0,25) suf[len][j]=-1,ct[len][j]=0; per(i,len-1,0)&#123; rep(j,0,25) suf[i][j]=suf[i+1][j],ct[i][j]=ct[i+1][j]; suf[i][s[i]-&#x27;a&#x27;]=i; ct[i][s[i]-&#x27;a&#x27;]++; &#125; int cur=0;// no choose rep(i,0,k-1)&#123; rep(j,0,25)&#123; if(suf[cur][j]!=-1) &#123; l[j]--,r[j]--; int nex=suf[cur][j]+1; int ok=1,nd=0; for(int t=0;t&lt;26;t++)&#123; if((nex==len?0:ct[nex][t])&lt;l[t]||r[t]&lt;0) ok=0; nd+=max(0,l[t]); &#125; if(ok==1&amp;&amp;i+1+nd&lt;=k)&#123; ans[i]=j+&#x27;a&#x27;; cur=nex; break; &#125; l[j]++,r[j]++; &#125; if(j==25)&#123; printf(&quot;-1\\n&quot;); goto failed; &#125; &#125; &#125; for(int i=0;i&lt;k;i++) printf(&quot;%c&quot;,ans[i]); printf(&quot;\\n&quot;); failed:; &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"hdu","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/hdu/"}],"tags":[]},{"title":"hdu6584","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu/hdu6584/index","date":"2019-09-03T09:02:44.000Z","updated":"2019-09-03T09:02:44.000Z","comments":true,"path":"PX8ZSK.html","link":"","permalink":"http://fightinggg.github.io/indigo/PX8ZSK.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ###nameMeteor ###descirptionhough time passes, there is always someone we will never forget.â€œThe probability of being hit by a meteor is one in a billion, but it is much more miraculous, to meet you in my life.â€ said Tom to Jerry with affection.â€œOne in a billion? I may not agree with you.â€ answered Jerry proudly, â€œLetâ€™s do the math.â€â€¦Thinking of the days they have happily spent together, Tom canâ€™t help bursting into tears. Though Jerry has been gone for a long time, Tom still misses him every day. He remembers it was a sunny afternoon when Jerry and him were lying in the yard, working on the probability of a man being hit by a meteor.Unlike Jerry, he was always slow. Jerry got the answer soon, but Tom was stuck as usual. In the end, Tom lost patience and asked Jerry to tell him the answer.â€œI canâ€™t be so straightforward,â€ snickered Jerry, â€œthe only thing I will tell you is that the answer is $\\frac{p}{q}$, where p,qâ‰¤n,gcd(p,q)&#x3D;1.â€â€œIs it $\\frac{1}{n}$?â€â€œIs it $\\frac{1}{n-1}$?â€â€¦If answered â€œNoâ€ , he would try the minimum larger number that satisfies the requirement.Tom only remembered n given by Jerry, and k, the times that he tried, but forgot what matters the most: Jerryâ€™s answer. Now, he wants you to help him find it. ###inputThe first line contains an integer $T(Tâ‰¤10^2)$, the number of test cases.The next T lines, each line contains two number$s, n,k(2â‰¤nâ‰¤10^6)$, indicating a query.The answer is guaranteed to be in (0,1]. ###outputT lines, each line contains a fraction in term of p&#x2F;q ,where gcd(p,q)&#x3D;1. ###sample input54 65 19 93 47 11 ###sample output1&#x2F;11&#x2F;51&#x2F;31&#x2F;13&#x2F;5 ###toturial$$\\begin{aligned}&amp;ç­”æ¡ˆè‚¯å®šæ˜¯æ‰¾åˆ°ä¸€ä¸ªåˆ†å­åˆ†æ¯å°äºnçš„åˆ†æ•°\\frac{p}{q}ä»–æ»¡è¶³ä¸‹é¢çš„ç‰¹å¾\\&amp;(\\sum_{i&#x3D;1}^n\\sum_{j&#x3D;1}^n[gcd(i,j)&#x3D;1][\\frac{i}{j} \\leq \\frac{p}{q}]) &#x3D; k\\&amp;æˆ‘ä»¬å¯¹å·¦å¼åŒ–ç®€\\&amp;&#x3D;\\sum_{i&#x3D;1}^n\\sum_{j&#x3D;1}^n[gcd(i,j)&#x3D;1][i \\leq \\frac{p}{q}j]\\&amp;&#x3D;\\sum_{i&#x3D;1}^{\\lfloor \\frac{p}{q}j\\rfloor}\\sum_{j&#x3D;1}^n[gcd(i,j)&#x3D;1]\\&amp;&#x3D;\\sum_{i&#x3D;1}^{\\lfloor \\frac{p}{q}j\\rfloor}\\sum_{j&#x3D;1}^ne(gcd(i,j))\\&amp;&#x3D;\\sum_{i&#x3D;1}^{\\lfloor \\frac{p}{q}j\\rfloor}\\sum_{j&#x3D;1}^n(u*1)(gcd(i,j))\\&amp;&#x3D;\\sum_{i&#x3D;1}^{\\lfloor \\frac{p}{q}j\\rfloor}\\sum_{j&#x3D;1}^n\\sum_{d|gcd(i,j)}u(d)*1(d)\\&amp;&#x3D;\\sum_{i&#x3D;1}^{\\lfloor \\frac{p}{q}j\\rfloor}\\sum_{j&#x3D;1}^n\\sum_{d|gcd(i,j)}u(d)\\&amp;&#x3D;\\sum_{i&#x3D;1}^{\\lfloor \\frac{p}{q}j\\rfloor}\\sum_{j&#x3D;1}^n\\sum_{d|i,d|j}u(d)\\&amp;&#x3D;\\sum_{d&#x3D;1}^{n}u(d)\\sum_{i&#x3D;1}^{\\lfloor \\frac{p}{q}j\\rfloor}\\sum_{j&#x3D;1}^n[d|i,d|j]\\&amp;&#x3D;\\sum_{d&#x3D;1}^{n}u(d)\\sum_{xd&#x3D;1}^{\\lfloor \\frac{p}{q}(yd)\\rfloor}\\sum_{yd&#x3D;1}^n[d|(xd),d|(yd)]\\&amp;&#x3D;\\sum_{d&#x3D;1}^{n}u(d)\\sum_{x&#x3D;1}^{\\lfloor\\frac{\\lfloor \\frac{p}{q}(yd)\\rfloor}{d}\\rfloor}\\sum_{y&#x3D;1}^{\\lfloor\\frac{n}{d}\\rfloor}1\\&amp;&#x3D;\\sum_{d&#x3D;1}^{n}u(d)\\sum_{y&#x3D;1}^{\\lfloor\\frac{n}{d}\\rfloor}\\lfloor\\frac{\\lfloor \\frac{p}{q}(yd)\\rfloor}{d}\\rfloor\\&amp;&#x3D;\\sum_{d&#x3D;1}^{n}u(d)\\sum_{y&#x3D;1}^{\\lfloor\\frac{n}{d}\\rfloor}{\\lfloor \\frac{p}{q}y\\rfloor}\\\\end{aligned}$$è¿™é‡Œæ˜¯å¯ä»¥æ±‚å‡ºç­”æ¡ˆçš„,å¯¹dåˆ†å—ï¼Œå³è¾¹çš„éƒ¨åˆ†é‡‡ç”¨ç±»æ¬§å‡ é‡Œå¾—ç®—æ³•æˆ‘ä»¬ä¸€ç›´å¾€ä¸‹äºŒåˆ†ï¼Œç›´åˆ°åŒºé—´è¶³å¤Ÿå°ï¼Œæœ€åç”¨ Stern-Brocot Tree æˆ– æ³•é›·åºåˆ—æ‰¾å‡ºç­”æ¡ˆ ###code 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133#include&lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;/**** * è¶…çº§ç§¯æ€§å‡½æ•°çº¿æ€§ç­› * ****/typedef long long ll;const ll maxn=2e6+10;ll no_pri[maxn]=&#123;0,1,0&#125;,pri[maxn],low[maxn];ll PHI[maxn],DDD[maxn],XDX[maxn],MUU[maxn],SIG[maxn];void f_ini()&#123; for(ll i=2;i&lt;maxn;i++)&#123; if(!no_pri[i]) low[i]=pri[++pri[0]]=i; for(ll j=1;pri[j]*i&lt;maxn;j++)&#123; no_pri[pri[j]*i]=1; if(i%pri[j]==0) &#123; low[pri[j]*i]=low[i]*pri[j]; break; &#125; else low[pri[j]*i]=pri[j]; &#125; &#125; DDD[1]=PHI[1]=MUU[1]=SIG[1]=1;// æ”¹è¿™é‡Œ for(ll i=1;i&lt;=pri[0];i++)&#123; for(ll mul=pri[i],ct=1;mul&lt;maxn;mul*=pri[i],ct++)&#123; DDD[mul]=ct+1;// æ”¹è¿™é‡Œ SIG[mul]=SIG[mul/pri[i]]+mul;// æ”¹è¿™é‡Œ MUU[mul]=ct==1?-1:0;// æ”¹è¿™é‡Œ PHI[mul]=mul/pri[i]*(pri[i]-1);// æ”¹è¿™é‡Œ &#125; &#125; for(ll i=2;i&lt;maxn;i++)&#123; for(ll j=1;pri[j]*i&lt;maxn;j++)&#123; ll x=low[i*pri[j]], y=i*pri[j]/x; DDD[x*y]=DDD[x]*DDD[y]; MUU[x*y]=MUU[x]*MUU[y]; PHI[x*y]=PHI[x]*PHI[y]; SIG[x*y]=SIG[x]*SIG[y]; if(i%pri[j]==0) break; &#125; &#125; for(ll i=1;i&lt;maxn;i++) &#123; DDD[i]+=DDD[i-1]; MUU[i]+=MUU[i-1]; PHI[i]+=PHI[i-1]; SIG[i]+=SIG[i-1]; XDX[i]=(DDD[i]-DDD[i-1])*i+XDX[i-1]; &#125;&#125;struct frac&#123; ll x,y; frac(ll x_=0,ll y_=1)&#123; ll gcd=__gcd(x_,y_); x=x_/gcd; y=y_/gcd; &#125; frac operator +(const frac&amp;rhs)&#123; ll lcm=y/__gcd(y,rhs.y)*rhs.y; return frac(x*(lcm/y)+rhs.x*(lcm/rhs.y),lcm); &#125; frac operator /(ll k)&#123; ll gcd=__gcd(k,x); return frac(x/gcd,y*(k/gcd)); &#125; bool operator &lt;=(const frac&amp;rhs)&#123; ll lcm=y/__gcd(y,rhs.y)*rhs.y; return x*(lcm/y)&lt;=rhs.x*(lcm/rhs.y); &#125;&#125;;// a&gt;=0 b&gt;=0 c&gt;0 n&gt;=0 -&gt; O(lg(a,c))void calfgh(ll a,ll b,ll c,ll n,ll&amp;f,ll&amp;g,ll&amp;h)&#123; ll A=a/c,B=b/c,s0=n+1,s1=n*(n+1)/2,s2=n*(n+1)*(2*n+1)/6; f=s1*A+s0*B; g=s2*A+s1*B; h=s2*A*A+s0*B*B+2*s1*A*B-2*B*f-2*A*g;// å…ˆå‡æ‰ a%=c,b%=c; ll m=(a*n+b)/c; if(m!=0) &#123; ll ff,gg,hh; calfgh(c,c-b-1,a,m-1,ff,gg,hh); f+=n*m-ff; g+=(n*m*(n+1)-hh-ff)/2; h+=n*m*m-2*gg-ff; &#125; h+=2*B*f+2*A*g;//å†åŠ ä¸Š&#125;ll count(frac k,int n)&#123; ll ret=0; for(int i=1,ed;i&lt;=n;i=ed+1)&#123; ed=n/(n/i); ll a[3]; calfgh(k.x,0,k.y,n/i,a[0],a[1],a[2]); ret+=1ll*(MUU[ed]-MUU[i-1])*a[0]; &#125; return ret;&#125;int main()&#123; f_ini(); ll t,n,k; scanf(&quot;%lld&quot;,&amp;t); while(t--)&#123; scanf(&quot;%lld%lld&quot;,&amp;n,&amp;k); frac l(0,1),r(1,1);// [l,r] for(int ijk=0;ijk&lt;40;ijk++)&#123; frac mid=(l+r)/2; ll ct=count(mid,n);//[0,mid] if(ct&gt;=k)r=mid; else l=mid; &#125; //[l,r] frac L(0,1),R(1,0); while(true)&#123; frac mid(L.x+R.x,L.y+R.y); if(mid.x&lt;=n&amp;&amp;mid.y&lt;=n&amp;&amp;l&lt;=mid&amp;&amp;mid&lt;=r)&#123; printf(&quot;%lld/%lld\\n&quot;,mid.x,mid.y); break; &#125; if(!(l&lt;=mid))&#123; L=mid; &#125; if(!(mid&lt;=r))&#123; R=mid; &#125; &#125; &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"hdu","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/hdu/"}],"tags":[]},{"title":"hdu6583","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu/hdu6583/index","date":"2019-09-03T08:23:37.000Z","updated":"2019-09-03T08:23:37.000Z","comments":true,"path":"PX8XZD.html","link":"","permalink":"http://fightinggg.github.io/indigo/PX8XZD.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ###nameTypewriter ###descirptionOne day, Jerry found a strange typewriter. This typewriter has 2 input modes: pay p coins to append an arbitrary single letter to the back, or q coins to copy a substring that has already been outputted and paste it in the back.Jerry now wants to write a letter to Tom. The letter is a string S which contains only lowercase Latin letters. But as Jerry is not very wealthy, he wants to know the minimum number of coins he needs to write this letter. ###inputThis problem contains multiple test cases. Process until the end of file.For each test case, the first line contains string S $(|S|â‰¤2Ã—10^5,âˆ‘|S|â‰¤5Ã—10^6)$, consisting of only lowercase Latin letters. And the second line contains 2 integers p and q $(1â‰¤p,q&lt;2^{31})$. ###outputFor each test case, output one line containing the minimum number of coins Jerry needs to pay. ###sample inputabc1 2aabaab2 1 ###sample output36 ###toturialè¿™ä¸ªé¢˜ç›®é¦–å…ˆdpè‚¯å®šè·‘ä¸æ‰çš„ï¼Œæˆ‘ä»¬è®¾dp[i]ä¸ºæ„é€ å‡ºå‰iä¸ªå­—æ¯çš„ä»£ä»·ï¼Œæˆ‘ä»¬å…ˆæ¥åˆ†ædpå‡½æ•°çš„ç‰¹ç‚¹ï¼Œä»–å…·æœ‰ä»¥ä¸‹è¿™äº›æ€§è´¨ï¼Œ* $1.$ dpå•è°ƒä¸å‡* $2.$ å¤åˆ¶æ–¹æ¡ˆçš„å†³ç­–ç‚¹é€’å¢ï¼Œè¿™ä¸¤ä¸ªæ€§è´¨éå¸¸å¥½è¯æ˜ æ®æ­¤æˆ‘ä»¬å°±å¯ä»¥ç›´æ¥æ¥dpäº†dp[i] &lt;- dp[i-1]dp[i] &lt;- dp[j] è¿™é‡Œè¦æ±‚jæ˜¯æœ€å°çš„å€¼ä½¿å¾—å‰ç¼€S[1..j]åŒ…å«å­ä¸²S[j+1..i] ç¬¬äºŒä¸ªè½¬ç§»æ–¹ç¨‹çš„å†³ç­–ç‚¹é€’å¢ï¼Œäºæ˜¯æˆ‘ä»¬å°±å¯ä»¥ç›´æ¥åˆ©ç”¨è¿™ä¸€ç‚¹ï¼Œæ¥ä½¿ç”¨åç¼€è‡ªåŠ¨æœºåŠ é€Ÿ###code 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111#include&lt;bits/stdc++.h&gt;using namespace std;struct SAM&#123;//ä¸‹æ ‡ä»1å¼€å§‹ï¼Œ0ä½œä¸ºä¿ç•™ä½ï¼Œç”¨äºåšå“¨å…µ //å¦‚æœæ²¡æœ‰ç‰¹æ®Šè¦æ±‚ï¼Œå°½é‡é€‰æ‹©åˆé€‚çš„è‡ªåŠ¨æœºï¼Œè¦ç®—å¥½å†…å­˜ //ç»è¿‡hdu1000æµ‹è¯•ï¼Œ10000ä¸ªmapå¤§æ¦‚æ˜¯10kb,å¯¹äº1e6çš„å­—ç¬¦ä¸²ï¼Œä¸å»ºè®®ä½¿ç”¨åç¼€è‡ªåŠ¨æœº typedef map&lt;int,int&gt;::iterator IT; static const int MAXN=2e5+10; int cnt,last,par[MAXN&lt;&lt;1],len[MAXN&lt;&lt;1];// map&lt;int,int&gt;trans[MAXN&lt;&lt;1];//mapç”¨äºå­—ç¬¦é›†ç‰¹åˆ«å¤§çš„æ—¶å€™ï¼Œæ³¨æ„è¿™é‡Œå å†…å­˜å¯èƒ½ä¼šç‰¹åˆ«å¤§ int trans[MAXN&lt;&lt;1][26]; inline int newnode(int parent,int length)&#123; par[++cnt]=parent; len[cnt]=length;// trans[cnt].clear(); for(int i=0;i&lt;26;i++) trans[cnt][i]=-1; return cnt; &#125; void ini()&#123; cnt=0; last=newnode(0,0); &#125; void extend(int c)&#123; int p=last; int np=newnode(1,len[last]+1);//æ–°å»ºçŠ¶æ€ï¼Œå…ˆè®©parentæŒ‡å‘æ ¹ï¼ˆ1ï¼‰ while(p!=0&amp;&amp;trans[p][c]==-1)&#123;//å¦‚æœæ²¡æœ‰è¾¹ï¼Œä¸”ä¸ä¸ºç©ºï¼Œæ ¹ä¹Ÿæ˜¯è¦è½¬ç§»çš„ trans[p][c]=np;//ä»–ä»¬éƒ½æ²¡æœ‰å‘npè½¬ç§»çš„è¾¹ï¼Œç›´æ¥è¿è¿‡å» p=par[p];//å¾€parentèµ° &#125; if(p!=0)&#123;//å¦‚æœp==0ï¼Œç›´æ¥å°±ç»“æŸäº†ï¼Œä»€ä¹ˆéƒ½ä¸ç”¨åšï¼Œå¦åˆ™èŠ‚ç‚¹pæ˜¯ç¬¬ä¸€ä¸ªæ‹¥æœ‰è½¬ç§»cçš„çŠ¶æ€ï¼Œä»–çš„ç¥–å…ˆéƒ½æœ‰è½¬ç§»c int q=trans[p][c];//qæ˜¯pè½¬ç§»åçš„çŠ¶æ€ if(len[q]==len[p]+1)par[np]=q;//len[q]æ˜¯ä»¥å‰çš„æœ€é•¿ä¸²ï¼Œlen[p]+1æ˜¯åˆå¹¶åçš„æœ€é•¿ä¸²ï¼Œç›¸ç­‰çš„è¯ï¼Œä¸ä¼šå½±å“ï¼Œç›´æ¥ç»“æŸäº†ï¼Œ else&#123; int nq=newnode(par[q],len[p]+1);// trans[nq]=trans[q];//copyå‡ºqæ¥ï¼Œ for(int i=0;i&lt;26;i++) trans[nq][i]=trans[q][i]; par[np]=par[q]=nq;//æ”¹å˜parentæ ‘çš„å½¢æ€ while(trans[p][c]==q)&#123;//ä¸€ç›´å¾€ä¸Šé¢èµ° trans[p][c]=nq;//æ‰€æœ‰å‘qè¿è¾¹çš„çŠ¶æ€éƒ½è¿å‘nq p=par[p]; &#125; &#125; &#125; last=np;//æœ€åçš„é‚£ä¸ªèŠ‚ç‚¹ &#125;//SAMåˆ°æ­¤ç»“æŸ&#125;sam;int main()&#123; // freopen(&quot;/Users/s/Desktop/02in.txt&quot;,&quot;r&quot;,stdin);// freopen(&quot;/Users/s/Desktop/02out.txt&quot;,&quot;w&quot;,stdout); ios::sync_with_stdio(false); cin.tie(0); cout.tie(0); string s; int a,b; while(cin&gt;&gt;s&gt;&gt;a&gt;&gt;b)&#123; vector&lt;int&gt;dp(s.size()); sam.ini(); sam.extend(s[0]-&#x27;a&#x27;); dp[0]=a; int last=1; //rt int j=0;// match s[j+1,i] for(int i=1;i&lt;s.size();i++)&#123; //assert(sam.len[sam.par[last]]&lt;=i-1-(j+1)+1); while(j&lt;i)&#123; if(sam.trans[last][s[i]-&#x27;a&#x27;]!=-1) &#123; last=sam.trans[last][s[i]-&#x27;a&#x27;]; break;// find it &#125; else&#123;//match s[j+1,i-1] and can&#x27;t match s[j+1,i] -&gt; match s[j+2,i-1] sam.extend(s[++j]-&#x27;a&#x27;); if(last!=1&amp;&amp;sam.len[sam.par[last]]&gt;=(i-1)-(j+1)+1) last=sam.par[last]; if(last!=1&amp;&amp;sam.len[sam.par[last]]&gt;=(i-1)-(j+1)+1) last=sam.par[last]; &#125;//åªè·³ä¸€æ­¥æ˜¯ä¸å¤Ÿçš„ï¼Œå› ä¸ºextendçš„æ—¶å€™å¯èƒ½ä¼šè®©åŸlastå¤šä¸€ä¸ªçˆ¶äº²,æ‰€ä»¥è¦è·³ä¸¤æ­¥ &#125; dp[i]=dp[i-1]+a; if(j!=i) dp[i]=min(dp[i],dp[j]+b); &#125; cout&lt;&lt;dp.back()&lt;&lt;endl; &#125;&#125;/* * * *baaabbabbbabbaa1 1 */","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"hdu","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/hdu/"}],"tags":[]},{"title":"hdu6582","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu/hdu6582/index","date":"2019-09-03T06:36:36.000Z","updated":"2019-09-03T06:36:36.000Z","comments":true,"path":"PX8T10.html","link":"","permalink":"http://fightinggg.github.io/indigo/PX8T10.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ###namePath ###descirptionYears later, Jerry fell in love with a girl, and he often walks for a long time to pay visits to her. But, because he spends too much time with his girlfriend, Tom feels neglected and wants to prevent him from visiting her.After doing some research on the neighbourhood, Tom found that the neighbourhood consists of exactly n houses, and some of them are connected with directed road. To visit his girlfriend, Jerry needs to start from his house indexed 1 and go along the shortest path to hers, indexed n.Now Tom wants to block some of the roads so that Jerry has to walk longer to reach his girlâ€™s home, and he found that the cost of blocking a road equals to its length. Now he wants to know the minimum total cost to make Jerry walk longer.Note, if Jerry canâ€™t reach his girlâ€™s house in the very beginning, the answer is obviously zero. And you donâ€™t need to guarantee that there still exists a way from Jerryâ€™s house to his girlâ€™s after blocking some edges. ###inputThe input begins with a line containing one integer T(1â‰¤Tâ‰¤10), the number of test cases.Each test case starts with a line containing two numbers n,m(1â‰¤n,mâ‰¤10000), the number of houses and the number of one-way roads in the neighbourhood.m lines follow, each of which consists of three integers $x,y,c(1â‰¤x,yâ‰¤n,1â‰¤câ‰¤10^9)$, denoting that there exists a one-way road from the house indexed x to y of length c. ###outputPrint T lines, each line containing a integer, the answer. ###sample input13 41 2 12 3 11 3 21 3 3 ###sample output3 ###toturialæ‰£æœ€çŸ­è·¯è·‘æœ€å¤§æµå³å¯ ###code 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889#include&lt;bits/stdc++.h&gt;using namespace std;#define rep(i,j,k) for(int i=j;i&lt;=(k);++i)#define per(i,j,k) for(int i=j;i&gt;=(k);--i)#define repe(i,u) for(int i=head[u];i;i=nex[i])// graphconst int V=5e4+5,E=5e4+5;int head[V];int to[E],nex[E],ew[E],tot=1;inline void addedge1(int u,int v,int w) &#123;to[++tot]=v,nex[tot]=head[u],ew[tot]=w,head[u]=tot;&#125;void del(int u)&#123;repe(i,u) head[u]=0,del(to[i]);&#125;// dijkstraç®—æ³•typedef long long ll;ll d[V];// è·ç¦»æ•°ç»„typedef pair&lt;ll,int&gt;pii;void dijkstra(int base,int n,int s,ll*dist)&#123; rep(i,base+1,base+n) dist[i]=1e18; priority_queue&lt;pii,vector&lt;pii&gt;,greater&lt;pii&gt;&gt;q;// dis and vertex q.emplace(dist[base+s]=0,base+s); while(!q.empty())&#123; int u=q.top().second; q.pop(); repe(i,u)&#123; int v=to[i],w=ew[i]; if(dist[u]+w&lt;dist[v])q.emplace(dist[v]=dist[u]+w,v); &#125; &#125;&#125;//æœ€å¤§æµæœ€å°å‰²ç®—æ³•int lv[V],current[V],src,dst;int *cap=ew;//å®¹é‡ç­‰äºè¾¹æƒbool maxflowbfs()&#123; queue&lt;int&gt;q; lv[src]=0, q.push(src); while(!q.empty())&#123; int u=q.front();q.pop(); repe(i,u)&#123; if(cap[i]==0||lv[to[i]]&gt;=0)continue; lv[to[i]]=lv[u]+1, q.push(to[i]); &#125; &#125; return lv[dst]&gt;=0;&#125;int maxflowdfs(int u,int f)&#123; if(u==dst)return f; for(int&amp;i=current[u];i;i=nex[i])&#123;//å½“å‰å¼§ä¼˜åŒ– if(cap[i]==0||lv[u]&gt;=lv[to[i]])continue; int flow=maxflowdfs(to[i],min(f,cap[i])); if(flow==0) continue; cap[i]-=flow,cap[i^1]+=flow; return flow; &#125; return 0;&#125;ll maxflow(int base,int n,int s,int t)&#123; src=base+s,dst=base+t; ll flow=0,f=0;// è®¡ç®—æœ€å¤§æµçš„è¿‡ç¨‹ä¸­ä¸å¯èƒ½çˆ†int å”¯ç‹¬åœ¨æœ€åå¯¹æµé‡æ±‚å’Œå¯¹æ—¶å€™å¯èƒ½ä¼šæ¯”è¾ƒå¤§ æ‰€ä»¥åªæœ‰è¿™é‡Œç”¨ll while(true)&#123; rep(i,base+1,base+n) current[i]=head[i],lv[i]=-1; if(!maxflowbfs())return flow; while(f=maxflowdfs(src,2e9)) flow+=f; &#125;&#125;int main()&#123; int T;scanf(&quot;%d&quot;,&amp;T); while(T--)&#123; int n,m;scanf(&quot;%d%d&quot;,&amp;n,&amp;m); struct edge&#123;int u,v,w;&#125;; vector&lt;edge&gt;e; rep(i,1,m) &#123; int u,v,w; scanf(&quot;%d%d%d&quot;,&amp;u,&amp;v,&amp;w); addedge1(u,v,w); e.push_back(edge&#123;u,v,w&#125;); &#125; dijkstra(0,n,1,d); tot=max(tot,tot^1); for(edge&amp;x:e) if(d[x.u]+x.w==d[x.v]) &#123; addedge1(n+x.u,n+x.v,x.w); addedge1(n+x.v,n+x.u,0); &#125; printf(&quot;%lld\\n&quot;,maxflow(n,n,1,n)); rep(i,1,2*n) head[i]=0; tot=1; &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"hdu","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/hdu/"}],"tags":[]},{"title":"hdu6581","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu/hdu6581/index","date":"2019-09-03T06:29:26.000Z","updated":"2019-09-03T06:29:26.000Z","comments":true,"path":"PX8SP2.html","link":"","permalink":"http://fightinggg.github.io/indigo/PX8SP2.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ###nameVacation ###descirptionTom and Jerry are going on a vacation. They are now driving on a one-way road and several cars are in front of them. To be more specific, there are n cars in front of them. The ith car has a length of $l_i$, the head of it is $s_i$ from the stop-line, and its maximum velocity is $v_i$. The car Tom and Jerry are driving is $l_0$ in length, and $s_0$ from the stop-line, with a maximum velocity of $v_0$.The traffic light has a very long cycle. You can assume that it is always green light. However, since the road is too narrow, no car can get ahead of other cars. Even if your speed can be greater than the car in front of you, you still can only drive at the same speed as the anterior car. But when not affected by the car ahead, the driver will drive at the maximum speed. You can assume that every driver here is very good at driving, so that the distance of adjacent cars can be kept to be 0.Though Tom and Jerry know that they can pass the stop-line during green light, they still want to know the minimum time they need to pass the stop-line. We say a car passes the stop-line once the head of the car passes it.Please notice that even after a car passes the stop-line, it still runs on the road, and cannot be overtaken. ###inputThis problem contains multiple test cases.For each test case, the first line contains an integer n $(1â‰¤nâ‰¤10^5,âˆ‘nâ‰¤2Ã—10^6)$, the number of cars.The next three lines each contains n+1 integers, $l_i,s_i,v_i (1â‰¤s_i,v_i,l_iâ‰¤10^9)$. Itâ€™s guaranteed that $s_iâ‰¥s_i+1+li+1,âˆ€iâˆˆ[0,nâˆ’1]$ ###outputFor each test case, output one line containing the answer. Your answer will be accepted if its absolute or relative error does not exceed $10^{âˆ’6}$.Formally, let your answer be a, and the juryâ€™s answer is b. Your answer is considered correct if $|aâˆ’b|max(1,|b|)â‰¤10^{âˆ’6}$.The answer is guaranteed to exist. ###sample input12 27 12 121 2 210 7 16 2 1 ###sample output3.50000000005.0000000000 ###toturialæˆ‘ä»¬å°è¯•æŠŠä½ç§»æ—¶é—´å›¾ç”»å‡ºæ¥ï¼Œå‘ç°è¿™æ˜¯ä¸€ä¸ªå‡¸å£³ï¼Œæˆ‘ä»¬ç›´æ¥æš´åŠ›ç»´æŠ¤å‡¸å£³å³å¯ ###code 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879#include&lt;bits/stdc++.h&gt;using namespace std;#define ll long longstruct frac&#123; ll x,y; frac(ll x_,ll y_)&#123; ll gcd=__gcd(abs(x_),abs(y_)); x=x_/gcd; y=y_/gcd; if(y&lt;0)&#123; x*=-1; y*=-1; &#125; &#125; bool operator&gt;=(const frac&amp;rhs)const&#123; ll lcm=y/__gcd(y,rhs.y)*rhs.y; return x*(lcm/y)&gt;=rhs.x*(lcm/rhs.y); &#125;&#125;;struct line&#123;ll k,b,h;&#125;;frac getx(line l1,line l2)&#123; return frac(-(l1.b-l2.b),l1.k-l2.k);&#125;double gety(line l1,line l2)&#123; frac t=getx(l1,l2); return double(l1.k)/t.y*t.x+l1.b;&#125;int stk[101010];int main()&#123; //freopen(&quot;/Users/s/Desktop/02.txt&quot;,&quot;r&quot;,stdin); //freopen(&quot;/Users/s/Desktop/02out.txt&quot;,&quot;w&quot;,stdout); int n; while(~scanf(&quot;%d&quot;,&amp;n))&#123; vector&lt;line&gt; l(n+1); for(int i=0;i&lt;=n;i++) scanf(&quot;%lld&quot;,&amp;l[i].h); for(int i=0;i&lt;=n;i++) scanf(&quot;%lld&quot;,&amp;l[i].b),l[i].b*=-1; for(int i=0;i&lt;=n;i++) scanf(&quot;%lld&quot;,&amp;l[i].k); stk[0]=0; ll d=0; for(int i=n;i&gt;=0;i--)&#123; l[i].b-=d; while(stk[0]&gt;=1&amp;&amp;l[stk[stk[0]]].k&gt;=l[i].k) stk[0]--; while(stk[0]&gt;=2&amp;&amp;l[stk[stk[0]]].k&lt;l[i].k&amp;&amp; \\ getx(l[i],l[stk[stk[0]]])&gt;=getx(l[stk[stk[0]]],l[stk[stk[0]-1]])) stk[0]--; stk[++stk[0]]=i; d-=l[i].h; &#125; d+=l[0].h;// cout&lt;&lt;d&lt;&lt;endl; for(int i=1;i&lt;=stk[0];i++) l[stk[i]].b+=d; while(stk[0]&gt;=2&amp;&amp;gety(l[stk[stk[0]]],l[stk[stk[0]-1]])&lt;=0)stk[0]--; line linex&#123;0ll,0ll,0ll&#125;; frac ans=getx(l[stk[stk[0]]],linex); printf(&quot;%.12f\\n&quot;,double(ans.x)/ans.y); &#125;&#125;/* 1 2 2 14 2 4 2 22 2 2100 14 21 4 2 * * * */","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"hdu","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/hdu/"}],"tags":[]},{"title":"hdu6579","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu/hdu6579/index","date":"2019-09-02T16:23:26.000Z","updated":"2019-09-02T16:23:26.000Z","comments":true,"path":"PX7PJ2.html","link":"","permalink":"http://fightinggg.github.io/indigo/PX7PJ2.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ###nameOperation ###descirptionThere is an integer sequence a of length n and there are two kinds of operations:0 l r: select some numbers from $a_lâ€¦a_r$ so that their xor sum is maximum, and print the maximum value. 1 x: append x to the end of the sequence and let n&#x3D;n+1. ###inputThere are multiple test cases. The first line of input contains an integer T(Tâ‰¤10), indicating the number of test cases.For each test case:The first line contains two integers n,m$(1â‰¤nâ‰¤5Ã—10^5,1â‰¤mâ‰¤5Ã—10^5)$, the number of integers initially in the sequence and the number of operations.The second line contains n integers a1,a2,â€¦,an$(0â‰¤a_i\\lt 2^{30})$, denoting the initial sequence.Each of the next m lines contains one of the operations given above.Itâ€™s guaranteed that $âˆ‘nâ‰¤10^6,âˆ‘mâ‰¤10^6,0â‰¤x\\lt 2^{30}$.And operations will be encrypted. You need to decode the operations as follows, where lastans denotes the answer to the last type 0 operation and is initially zero:For every type 0 operation, let $l&#x3D;(l xor lastans)mod n + 1$, $r&#x3D;(r xor lastans)mod n + 1$, and then swap(l, r) if $l&gt;r$.For every type 1 operation, let x&#x3D;x xor lastans. ###outputFor each type 0 operation, please output the maximum xor sum in a single line. ###sample input13 30 1 20 1 11 30 3 4 ###sample output13 ###toturialæˆ‘ä»¬ä½¿ç”¨çº¿æ€§åŸºï¼Œå¯¹æ¯ä¸€ä¸ªå‰ç¼€éƒ½å»ºç«‹ä¸€ä¸ªçº¿æ€§åŸºï¼Œè´ªå¿ƒçš„é€‰æ‹©è€ƒåçš„å‘é‡ä½œä¸ºåŸºå³å¯ï¼Œå¦‚æ­¤åˆ™æŸ¥è¯¢T(30)ï¼Œæ·»åŠ å€¼T(30)ï¼Œå…³é”®ç‚¹åœ¨äºå¦‚ä½•é€šè¿‡ä¸€ä¸ªå‰ç¼€æ„å»ºå¦ä¸€ä¸ªå‰ç¼€çš„çº¿å½¢åŸºï¼Œæˆ‘ä»¬åªè¦ä¿è¯çº¿å½¢åŸºä¸­çš„å…ƒç´ æœ‰é¡ºåºï¼Œå³æŸä¸ªå‰ç¼€çš„åŸºéƒ½æ˜¯ç›¸å¯¹äºè¿™ä¸ªå‰ç¼€çš„åç¼€æœ€ç®€å½¢å¼ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥åœ¨åé¢è¿›è¡Œæ¢åŸºï¼Œæ¥æ„å»ºå¦ä¸€ä¸ªå‰ç¼€çš„åŸº ###code 1234567891011121314151617181920212223242526272829303132333435363738394041#include&lt;bits/stdc++.h&gt;using namespace std;#define rep(i,j,k) for(int i=(j);i&lt;=(k);++i)#define per(i,j,k) for(int i=(j);i&gt;=(k);--i)const int maxn=1e6+6;int bs[maxn][30],ps[maxn][30];void add(int n,int x)&#123; rep(i,0,29) bs[n][i]=bs[n-1][i],ps[n][i]=ps[n-1][i]; int pos=n; per(i,29,0) if(1&lt;&lt;i&amp;x) &#123; if(bs[n][i]==0) &#123; bs[n][i]=x,ps[n][i]=pos; break; &#125; else &#123; if(ps[n][i]&lt;pos)swap(bs[n][i],x),swap(ps[n][i],pos); x^=bs[n][i]; &#125; &#125;&#125;inline int read()&#123;int x;scanf(&quot;%d&quot;,&amp;x);return x;&#125;int main() &#123; int t=read(); while(t--)&#123; int n=read(),m=read(); rep(i,1,n) add(i,read()); int lst=0; while(m--)&#123; if(read()==1) add(++n,read()^lst); else&#123; int l=(read()^lst)%n+1,r=(read()^lst)%n+1; if(l&gt;r)swap(l,r); lst=0; per(i,29,0) if(ps[r][i]&gt;=l) lst=max(lst,lst^bs[r][i]); printf(&quot;%d\\n&quot;,lst); &#125; &#125; &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"hdu","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/hdu/"}],"tags":[]},{"title":"hdu6578","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu/hdu6578/index","date":"2019-09-02T14:57:13.000Z","updated":"2019-09-02T14:57:13.000Z","comments":true,"path":"PX7LJD.html","link":"","permalink":"http://fightinggg.github.io/indigo/PX7LJD.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ###nameBlank ###descriptionThere are N blanks arranged in a row. The blanks are numbered 1,2,â€¦,N from left to right.Tom is filling each blank with one number in {0,1,2,3}. According to his thought, the following M conditions must all be satisfied. The ith condition is:There are exactly $x_i$ different numbers among blanks $âˆˆ[l_i,r_i]$.In how many ways can the blanks be filled to satisfy all the conditions? Find the answer modulo 998244353. ###inputThe first line of the input contains an integer T(1â‰¤Tâ‰¤15), denoting the number of test cases.In each test case, there are two integers n(1â‰¤nâ‰¤100) and m(0â‰¤mâ‰¤100) in the first line, denoting the number of blanks and the number of conditions.For the following m lines, each line contains three integers l,r and x, denoting a condition(1â‰¤lâ‰¤râ‰¤n, 1â‰¤xâ‰¤4). ###outputFor each testcase, output a single line containing an integer, denoting the number of ways to paint the blanks satisfying all the conditions modulo 998244353. ###sample input21 04 11 3 3 ###sample output496 ###toturialè®¾dp[a][b][c][d]ä¸ºå¡«å®Œå‰dä¸ªæ•°ä¹‹å0ï¼Œ1ï¼Œ2ï¼Œ3æœ€åå‡ºç°çš„ä½ç½®ä¸ºa,b,c,dä¸”å‰aä¸ªä½ç½®éƒ½æ»¡è¶³é¢˜æ„çš„æ–¹æ¡ˆæ•°ï¼Œäºæ˜¯æˆ‘ä»¬å°±å¯ä»¥è½¬ç§»äº†ï¼Œæ³¨æ„åˆ°0ï¼Œ1ï¼Œ2ï¼Œ3å…·æœ‰è½®æ¢å¯¹ç§°æ€§ï¼Œé‚£ä¹ˆdpä¸€å®šä¹Ÿæœ‰ä»–çš„è§„å¾‹ï¼Œä¸¾ä¸ªå¾ˆç®€å•çš„ä¾‹å­dp[9][3][5][7]å’Œdp[9][7][5][3]ä¸€å®šæ˜¯ç›¸ç­‰çš„ï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥å¯¹b,c,dæ’åºæ¥è¿›ä¸€æ­¥å‹ç¼©çŠ¶æ€ï¼Œå¯ä»¥æé«˜ç¨‹åºçš„é€Ÿåº¦,æ—¶é—´å¤æ‚åº¦$n^4$,ç©ºé—´ä¸Šæ»šåŠ¨å³å¯è¾¾åˆ°$n^3$çš„å¤æ‚åº¦ ###code 12345678910111213141516171819202122232425262728293031323334353637383940#include&lt;bits/stdc++.h&gt;using namespace std;#define rep(i,j,k) for(int i=(j);i&lt;=(k);++i)const int maxn=103;int dp[2][maxn][maxn][maxn];int mx[maxn][5],mi[maxn][5];const int mod=998244353;void add(int&amp;a,int&amp;b)&#123;a+=b;if(a&gt;=mod) a-=mod;&#125;int main()&#123; int T; scanf(&quot;%d&quot;,&amp;T); while(T--)&#123; int n,m; scanf(&quot;%d%d&quot;,&amp;n,&amp;m); rep(i,1,n) rep(j,1,4) mx[i][j]=-1e9,mi[i][j]=1e9; rep(i,1,m)&#123; int l,r,x; scanf(&quot;%d%d%d&quot;,&amp;l,&amp;r,&amp;x); mx[r][x]=max(mx[r][x],l); mi[r][x]=min(mi[r][x],l); &#125; rep(i,0,n)rep(j,0,i)rep(k,0,j)dp[1&amp;1][i][j][k]=0; dp[1&amp;1][0][0][0]=4;// å› ä¸ºç¬¬ä¸€ä¸ªä½ç½®å¯ä»¥å¡«å››ç§æ•°ï¼Œä¸å¦¨å‡è®¾ä½ç½®0å¡«äº†æ‰€æœ‰çš„æ•°å­— rep(t,1,n)&#123; rep(i,0,t) rep(j,0,i) rep(k,0,j)dp[(t+1)&amp;1][i][j][k]=0; rep(i,0,t-1) rep(j,0,i) rep(k,0,j)&#123; if(mi[t][1]&lt;=i||mi[t][2]&lt;=j||mi[t][3]&lt;=k||mx[t][2]&gt;i||mx[t][3]&gt;j||mx[t][4]&gt;k) dp[t&amp;1][i][j][k]=0; if(dp[t&amp;1][i][j][k]==0) continue; add(dp[(t+1)&amp;1][t][i][j],dp[t&amp;1][i][j][k]); add(dp[(t+1)&amp;1][t][i][k],dp[t&amp;1][i][j][k]); add(dp[(t+1)&amp;1][t][j][k],dp[t&amp;1][i][j][k]); add(dp[(t+1)&amp;1][i][j][k],dp[t&amp;1][i][j][k]); &#125; &#125; int ans=0; rep(i,0,n-1) rep(j,0,i) rep(k,0,j) add(ans,dp[n&amp;1][i][j][k]); printf(&quot;%d\\n&quot;,ans); &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"hdu","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/hdu/"}],"tags":[]},{"title":"æ”¯é…æ ‘","slug":"ACM/å­¦ä¹ ç¬”è®°/å›¾è®º/æ”¯é…æ ‘/index","date":"2019-08-31T15:51:40.000Z","updated":"2019-08-31T15:51:40.000Z","comments":true,"path":"PX3YQ4.html","link":"","permalink":"http://fightinggg.github.io/indigo/PX3YQ4.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111#include&lt;bits/stdc++.h&gt;using namespace std;#define rep(i,j,k) for(int i=j;i&lt;=(k);++i)#define per(i,j,k) for(int i=j;i&gt;=(k);--i)#define repe(i,u) for(int i=head[u];i;i=nex[i])// graphconst int V=3*1e5+5,E=3*2e5+5;int head[V],deg[V];int to[E],nex[E],edge=1;inline void addedge1(int u,int v) &#123;to[++edge]=v,nex[edge]=head[u],head[u]=edge,deg[v]++;&#125;void del(int u)&#123;repe(i,u) head[u]=0,deg[u]=0,del(to[i]);&#125;// dominator treeint dad[V],sdom[V],idom[V],dfn[V],rnk[V],step;void tarjan(int u,int father)&#123; //if(father==0) step=0; dfn[u]=++step,rnk[step]=u,dad[u]=father; repe(i,u)if(dfn[to[i]]==0)tarjan(to[i],u);&#125;int df[V],dw[V];//dsuint find(int x)&#123; if(x==df[x])return x; int tmp=find(df[x]); if(dfn[sdom[dw[df[x]]]]&lt;dfn[sdom[dw[x]]])dw[x]=dw[df[x]]; return df[x]=tmp;&#125;void Lengauer_Tarjan(int g1,int g2,int n,int s,int g3)&#123;// sæ˜¯èµ·ç‚¹ g1æ˜¯æ­£å‘å›¾,g2æ˜¯åå‘å›¾,g3æ˜¯æ”¯é…æ ‘ rep(i,g1+1,g1+n) dfn[i]=0; step=g1; tarjan(g1+s,0); rep(i,g1+1,g1+n) df[i]=i,dw[i]=sdom[i]=i;// init dsu per(i,g1+n,g1+2)&#123;//ä»¥g1ä¸ºä¸»ä½“ï¼Œæ˜ å°„å…¶ä»–å›¾ int u=rnk[i]; repe(j,u-g1+g2) &#123;// åœ¨g2ä¸­æšä¸¾åå‘è¾¹ int v=to[j]-g2+g1;// æ˜ å°„å›g1 find(v); if(dfn[sdom[dw[v]]]&lt;dfn[sdom[u]])sdom[u]=sdom[dw[v]]; &#125; df[u]=dad[u];// åªæœ‰åå‘è¾¹äº§ç”Ÿå½±å“ï¼Œå› ä¸ºåªæœ‰åå‘è¾¹çš„ç»ˆç‚¹æ»¡è¶³è¦æ±‚ addedge1(sdom[u]-g1+g3,u-g1+g3);// g1-&gt;g3 repe(j,dad[u]-g1+g3)&#123;//åœ¨g3ä¸­æšä¸¾è¾¹ int v=to[j]-g3+g1; // æ˜ å°„å›g1 find(v); idom[v]=sdom[dw[v]]==dad[u]?dad[u]:dw[v]; &#125; &#125; rep(i,g1+2,g1+n) &#123; int x=rnk[i]; if(idom[x]!=sdom[x]) idom[x]=idom[idom[x]]; &#125; del(g3+s); rep(i,g1+1,g1+n) addedge1(idom[i]-g1+g3,i-g1+g3); rep(i,g1+1,g1+n) cout&lt;&lt;idom[i]&lt;&lt;&quot; &quot;&lt;&lt;sdom[i]&lt;&lt;&quot; &quot;&lt;&lt;i&lt;&lt;endl;&#125;//lcaint dep[V],siz[V],son[V],chain[V];//,dad[V],dfn[V];//void dfs1(int u,int father)&#123;//dfs1(1,0) dep[u]=dep[father]+1;//ini because dep[0]=1 dad[u]=father, siz[u]=1, son[u]=-1; repe(i,u)&#123; int v=to[i]; dfs1(v,u); siz[u]+=siz[v]; if(son[u]==-1||siz[son[u]]&lt;siz[v]) son[u]=v; &#125;&#125;void dfs2(int u,int s)&#123; dfn[u]=++step; chain[u]=s; if(son[u]!=-1) dfs2(son[u],s); repe(i,u)&#123; int v=to[i]; if(v!=son[u]&amp;&amp;v!=dad[u]) dfs2(v,v); &#125;&#125;int querylca(int x,int y)&#123; while(chain[x]!=chain[y])&#123; if(dep[chain[x]]&lt;dep[chain[y]]) swap(x,y); //dep[chain[x]]&gt;dep[chain[y]] x=dad[chain[x]]; &#125; if(dep[x]&gt;dep[y]) swap(x,y);// dep[x]&lt;dep[y] return x;&#125;inline int read()&#123;int x;scanf(&quot;%d&quot;,&amp;x);return x;&#125;int main()&#123; freopen(&quot;/Users/s/Downloads/2019HDOJå¤šæ ¡3_UESTC/data/1002/1in.txt&quot;,&quot;r&quot;,stdin); int t=read(); while(t--)&#123; int n=read()+1,m=read(); int g1=0,g2=n,g3=2*n; // g1æ˜¯æ­£å‘å›¾,g2æ˜¯åå‘å›¾,g3æ˜¯æ”¯é…æ ‘ rep(i,0,3*n) head[i]=deg[i]=0; edge=1; while(m--)&#123; int u=read(),v=read(); addedge1(g1+v,g1+u); addedge1(g2+u,g2+v); &#125; rep(i,1,n-1) if(deg[i]==0) addedge1(g1+n,g1+i),addedge1(g2+i,g2+n); Lengauer_Tarjan(g1,g2,n,n,g3); dfs1(g3+n,0),dfs2(g3+n,g3+n); int q=read(); while(q--)&#123; int x=g3+read(),y=g3+read(); printf(&quot;%d\\n&quot;,dep[x]+dep[y]-dep[querylca(x,y)]-1); &#125; return 0; &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"å›¾è®º","slug":"ACM/å­¦ä¹ ç¬”è®°/å›¾è®º","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%9B%BE%E8%AE%BA/"}],"tags":[]},{"title":"hdu6705","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu/hdu6705/index","date":"2019-08-31T14:54:24.000Z","updated":"2019-08-31T14:54:24.000Z","comments":true,"path":"PX3W2O.html","link":"","permalink":"http://fightinggg.github.io/indigo/PX3W2O.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ###namepath ###descripptionYou have a directed weighted graph with n vertexes and m edges. The value of a path is the sum of the weight of the edges you passed. Note that you can pass any edge any times and every time you pass it you will gain the weight. Now there are q queries that you need to answer. Each of the queries is about the k-th minimum value of all the paths. ###inputThe input consists of multiple test cases, starting with an integer t (1â‰¤tâ‰¤100), denoting the number of the test cases.The first line of each test case contains three positive integers n,m,q. $(1â‰¤n,m,qâ‰¤5âˆ—10^4)$ Each of the next m lines contains three integers ui,vi,wi, indicating that the iâˆ’th edge is from ui to vi and weighted wi.$(1â‰¤u_i,v_iâ‰¤n,1â‰¤w_iâ‰¤10^9)$ Each of the next q lines contains one integer k as mentioned above.$(1â‰¤kâ‰¤5âˆ—10^4)$ Itâ€™s guaranteed that$ Î£n ,Î£m, Î£q,Î£max(k)â‰¤2.5âˆ—10^5$ and max(k) wonâ€™t exceed the number of paths in the graph. ###outputFor each query, print one integer indicates the answer in line. ###sample input12 2 21 2 12 1 234 ###sample output33 ###hint1-&gt;2 value :1 2-&gt;1 value: 2 1-&gt; 2-&gt; 1 value: 3 2-&gt; 1-&gt; 2 value: 3 ###toturialæ‹“å±•ä¸€æ¡è¾¹æœ‰ä¸¤ç§æ–¹å¼ï¼Œç¬¬ä¸€ç»ˆç‚¹å¾€å¤–èµ° ï¼Œ ç¬¬äºŒç›¸åŒèµ·ç‚¹çš„ä¸‹ä¸€æ¡è¾¹ï¼Œè¿™æ ·åšçš„å‰ææ˜¯è¾¹è¦æœ‰åºï¼Œä»å°åˆ°å¤§æ’å¥½ ###code 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253#include&lt;bits/stdc++.h&gt;using namespace std;#define rep(i,j,k) for(int i=j;i&lt;=(k);++i)#define per(i,j,k) for(int i=j;i&gt;=(k);--i)#define repe(i,u) for(int i=head[u];i;i=nex[i])// graphconst int V=5e4+5,E=5e4+5;int head[V];int to[E],nex[E],ew[E],tot=1;inline void addedge1(int u,int v,int w) &#123;to[++tot]=v,nex[tot]=head[u],ew[tot]=w,head[u]=tot;&#125;void del(int u)&#123;repe(i,u) head[u]=0,del(to[i]);&#125;// kthpathtypedef long long ll;struct path&#123; int u,id;ll d; bool operator&lt;(const path&amp;rhs)const&#123;return d&gt;rhs.d;&#125;&#125;;void kthpath(int l,int r,int k,vector&lt;ll&gt;&amp;dist)&#123; // assert(dist.empty()) priority_queue&lt;path&gt;q; rep(i,l,r) if(head[i]) q.push(path&#123;i,head[i],ew[head[i]]&#125;); while(k--&amp;&amp;!q.empty())&#123; int u=q.top().u,id=q.top().id; ll d=q.top().d; q.pop(); dist.push_back(d); if(head[to[id]]) q.push(path&#123;to[id],head[to[id]],d+ew[head[to[id]]]&#125;); if(nex[id]) q.push(path&#123;u,nex[id],d-ew[id]+ew[nex[id]]&#125;); &#125;&#125;struct edge&#123;ll u,v,w;&#125;;int main() &#123; ll T; scanf(&quot;%lld&quot;,&amp;T); while(T--)&#123; ll n,m,q; scanf(&quot;%lld%lld%lld&quot;,&amp;n,&amp;m,&amp;q); rep(i,1,n) head[i]=0; tot=1; vector&lt;edge&gt; vec; while(m--)&#123; ll u,v,w; scanf(&quot;%lld%lld%lld&quot;,&amp;u,&amp;v,&amp;w); vec.push_back(edge&#123;u,v,w&#125;); &#125; sort(vec.begin(),vec.end(),[](edge&amp;a,edge&amp;b)&#123;return a.w&gt;b.w;&#125;); for(edge e:vec) addedge1(e.u,e.v,e.w); vector&lt;ll&gt; ans; kthpath(1,n,5e4+5,ans); while(q--)&#123; ll k; scanf(&quot;%lld&quot;,&amp;k); printf(&quot;%lld\\n&quot;,ans[k-1]); &#125; &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"hdu","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/hdu/"}],"tags":[]},{"title":"æ ‘hash","slug":"ACM/å­¦ä¹ ç¬”è®°/æ ‘/æ ‘hash/index","date":"2019-08-17T13:51:43.000Z","updated":"2019-08-17T13:51:43.000Z","comments":true,"path":"PWDVU7.html","link":"","permalink":"http://fightinggg.github.io/indigo/PWDVU7.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475// tree èŠ‚ç‚¹0ä¸å‡†ä½¿ç”¨int head[maxn];// pointint to[maxn*2],nex[maxn*2],tot;// edgeinline void _addedge(int u,int v)&#123;to[++tot]=v,nex[tot]=head[u],head[u]=tot;&#125;inline void addedge(int u,int v)&#123;_addedge(u,v),_addedge(v,u);&#125;void deltree(int rt,int father)&#123;// deltree() and also don&#x27;t forget tot for(int i=head[rt];i;i=nex[i]) if(to[i]!=father) deltree(to[i],rt); head[rt]=0;&#125;// struct tree&#123;int rt,n;&#125;//tree hashint pw[maxn*2]=&#123;1&#125;,hshmod;//pwè¦ä¸¤å€int *hsh,siz[maxn]; //pointint *ehsh; //edgevoid dfs(int u,int father)&#123; siz[u]=1; for(int i=head[u];i;i=nex[i])&#123; if(to[i]==father)continue; dfs(to[i],u), siz[u]+=siz[to[i]]; &#125;&#125;void dfs1(int u,int father)&#123;// solve every edge from father-&gt;u for(int i=head[u];i;i=nex[i])&#123; if(to[i]==father) continue; dfs1(to[i],u); vector&lt;pii&gt;buf; for(int j=head[to[i]];j;j=nex[j])&#123; if(to[j]==u) continue; buf.emplace_back(ehsh[j],2*siz[to[j]]); &#125; sort(buf.begin(),buf.end()); ehsh[i]=1;// å·¦è¾¹æ”¾1 for(pii x:buf) ehsh[i]=(1ll*ehsh[i]*pw[x.second]+x.first)%hshmod; ehsh[i]=(1ll*ehsh[i]*pw[1]+2)%hshmod;// å³è¾¹æ”¾2 &#125;&#125;void dfs2(int u,int father,int rt)&#123; vector&lt;pii&gt;buf; for(int i=head[u];i;i=nex[i]) &#123; if(to[i]==father) buf.emplace_back(ehsh[i],2*(siz[rt]-siz[u])); else buf.emplace_back(ehsh[i],2*siz[to[i]]); &#125; sort(buf.begin(),buf.end()); hsh[u]=1;// å·¦è¾¹æ”¾1 for(pii x:buf) hsh[u]=(1ll*hsh[u]*pw[x.second]+x.first)%hshmod; hsh[u]=(1ll*hsh[u]*pw[1]+2)%hshmod;// å³è¾¹æ”¾2 vector&lt;pii&gt;pre(buf),suf(buf);// å¯¹åé¢è¿›è¡Œå¤„ç† int sz=suf.size(); for(int i=1,j=sz-2;i&lt;sz;i++,j--)&#123; pre[i].first=(1ll*pre[i-1].first*pw[pre[i].second]+pre[i].first)%hshmod;// merge i-1 and i suf[j].first=(1ll*suf[j].first*pw[suf[j+1].second]+suf[j+1].first)%hshmod;// merge j and j+1 pre[i].second+=pre[i-1].second; suf[j].second+=suf[j+1].second; &#125; for(int i=head[u];i;i=nex[i])&#123; if(father==to[i]) continue; ehsh[i^1]=1;//å·¦è¾¹æ”¾1 int idx=lower_bound(buf.begin(),buf.end(),pii(ehsh[i],2*siz[to[i]]))-buf.begin(); if(idx-1&gt;=0) ehsh[i^1]=(1ll*ehsh[i^1]*pw[pre[idx-1].second]+pre[idx-1].first)%hshmod;// å‰ç¼€ if(idx+1&lt;sz) ehsh[i^1]=(1ll*ehsh[i^1]*pw[suf[idx+1].second]+suf[idx+1].first)%hshmod;// åç¼€ ehsh[i^1]=(1ll*ehsh[i^1]*pw[1]+2)%hshmod;//å³è¾¹æ”¾2 dfs2(to[i],u,rt); &#125;&#125;void treehash(int u,int*hsh_,int*ehsh_,int base,int hshmod_)&#123;//hash all tree of tree u hsh=hsh_,ehsh=ehsh_,hshmod=hshmod_; dfs(u,0); for(int i=1;i&lt;=siz[u]*2;i++) pw[i]=1ll*pw[i-1]*base%hshmod; dfs1(u,0),dfs2(u,0,u);&#125;////// end","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ ‘","slug":"ACM/å­¦ä¹ ç¬”è®°/æ ‘","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%A0%91/"}],"tags":[]},{"title":"å¹¿ä¹‰æ–æ³¢é‚£å¥‘å¾ªç¯èŠ‚","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦/å¹¿ä¹‰æ–æ³¢é‚£å¥‘å¾ªç¯èŠ‚/index","date":"2019-08-16T11:10:09.000Z","updated":"2019-08-16T11:10:09.000Z","comments":true,"path":"PWBTOX.html","link":"","permalink":"http://fightinggg.github.io/indigo/PWBTOX.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å¹¿ä¹‰æ–æ³¢é‚£å¥‘æ•°é€’æ¨å…¬å¼$$f_i&#x3D;af_{i-1}+bf_{i-2}(\\mod p) (pæ˜¯å¥‡ç´ æ•°)$$ ä»–çš„è½¬ç§»çŸ©é˜µ$$ \\left[ \\begin{matrix} a &amp; b \\ 1 &amp; 0 \\end{matrix} \\right]^n \\left[ \\begin{matrix} f_{2} \\ f_{1} \\end{matrix} \\right]\\mod p&#x3D; \\left[ \\begin{matrix} f_{n+2} \\ f_{n+1} \\end{matrix} \\right]$$ å¦‚æœå­˜åœ¨å¾ªç¯èŠ‚åˆ™å­˜åœ¨nä½¿å¾—$$\\left[ \\begin{matrix} a &amp; b \\ 1 &amp; 0 \\end{matrix} \\right]^n&#x3D; \\left[ \\begin{matrix} k_1p+1 &amp; k_2p+0 \\ k_3p+0 &amp; k_4p+1 \\end{matrix} \\right]$$ æˆ‘ä»¬å°è¯•æŠŠå·¦è¾¹å˜æˆç›¸ä¼¼å¯¹è§’çŸ©é˜µå…ˆæ±‚ç‰¹å¾å€¼$$(\\lambda-a)\\lambda-b&#x3D;0 \\Leftrightarrow \\lambda&#x3D;\\frac{a\\pm\\sqrt{a^2+4b}}{2}$$ å½“ä¸”ä»…å½“$a^2+4b&#x3D;0$çš„æ—¶å€™ï¼Œ$\\lambda_1&#x3D;\\lambda_2$ï¼Œæ˜“è¯å°½ç®¡æ­¤æ—¶$\\lambda$æ˜¯äºŒé‡ç‰¹å¾å€¼ï¼Œä½†æ˜¯å®ƒå¯¹åº”çš„ç‰¹å¾å‘é‡åªæœ‰ä¸€ä¸ªï¼Œå³ä¸Šè¯‰çŸ©é˜µä¸å¯å¯¹è§’åŒ–ï¼Œæˆ‘ä»¬ä¸è€ƒè™‘è¿™ç§å¤æ‚çš„æƒ…å†µã€‚å½“$a^2+4b\\neq0$çš„æ—¶å€™ï¼Œä¸¤ä¸ªç‰¹å¾å‘é‡åˆ†åˆ«ä¸º$$\\left[ \\begin{matrix} \\lambda_1 \\ 1 \\end{matrix} \\right] å’Œ \\left[ \\begin{matrix} \\lambda_2 \\ 1 \\end{matrix} \\right]$$é‚£ä¹ˆå°±æœ‰äº†$$\\left[ \\begin{matrix} a &amp; b \\ 1 &amp; 0 \\end{matrix} \\right]&#x3D; \\left[ \\begin{matrix} \\lambda_1 &amp; \\lambda_2 \\ 1 &amp; 1 \\end{matrix} \\right] \\left[ \\begin{matrix} \\lambda_1 &amp; 0 \\ 0 &amp; \\lambda_2 \\end{matrix} \\right] \\left[ \\begin{matrix} \\frac{1}{\\lambda_1-\\lambda_2} &amp; \\frac{-\\lambda_2}{\\lambda_1-\\lambda_2} \\ \\frac{-1}{\\lambda_1-\\lambda_2} &amp; \\frac{\\lambda_1}{\\lambda_1-\\lambda_2} \\end{matrix} \\right]$$è¿›è€Œæœ‰äº†$$ \\left[ \\begin{matrix} \\lambda_1 &amp; \\lambda_2 \\ 1 &amp; 1 \\end{matrix} \\right] \\left[ \\begin{matrix} \\lambda_1^n &amp; 0 \\ 0 &amp; \\lambda_2^n \\end{matrix} \\right] \\left[ \\begin{matrix} \\frac{1}{\\lambda_1-\\lambda_2} &amp; \\frac{-\\lambda_2}{\\lambda_1-\\lambda_2} \\ \\frac{-1}{\\lambda_1-\\lambda_2} &amp; \\frac{\\lambda_1}{\\lambda_1-\\lambda_2} \\end{matrix} \\right]&#x3D; \\left[ \\begin{matrix} k_1p+1 &amp; k_2p+0 \\ k_3p+0 &amp; k_4p+1 \\end{matrix} \\right]$$å³ä¹˜$T$æ¶ˆæ‰é‚£ä¸ªä¸€å †åˆ†æ•°çš„çŸ©é˜µ$$ \\left[ \\begin{matrix} \\lambda_1 &amp; \\lambda_2 \\ 1 &amp; 1 \\end{matrix} \\right] \\left[ \\begin{matrix} \\lambda_1^n &amp; 0 \\ 0 &amp; \\lambda_2^n \\end{matrix} \\right]&#x3D; \\left[ \\begin{matrix} k_1p+1 &amp; k_2p+0 \\ k_3p+0 &amp; k_4p+1 \\end{matrix} \\right] \\left[ \\begin{matrix} \\lambda_1 &amp; \\lambda_2 \\ 1 &amp; 1 \\end{matrix} \\right] $$ ä¹˜å¼€ $$ \\left[ \\begin{matrix} \\lambda_1^{n+1} &amp; \\lambda_2^{n+1} \\ \\lambda_1^{n} &amp; \\lambda_1^{n} \\end{matrix} \\right]&#x3D; \\left[ \\begin{matrix} \\lambda_1(k_1p+1)+k_2p &amp; \\lambda_2(k_1p+1)+k_2p \\ \\lambda_1k_3p+k_4p+1 &amp; \\lambda_2k_3p+k_4p+1 \\end{matrix} \\right] $$###åœ¨è¿™ä¹‹åæˆ‘ä»¬åˆ†ä¸¤éƒ¨åˆ†è®¨è®º####$a^2+4bæ˜¯äºŒæ¬¡å‰©ä½™$å¦‚æœ$a^2+4b$æ˜¯äºŒæ¬¡å‰©ä½™ï¼Œé‚£ä¹ˆ$\\lambda_1$å’Œ$\\lambda_2$å¯ä»¥ç›´æ¥å†™æˆæ¨¡æ„ä¹‰ä¸‹å¯¹åº”çš„æ•´æ•°,åˆ™ä¸Šè¯‰çŸ©é˜µç­‰å¼åœ¨$n&#x3D;p-1$çš„æ—¶å€™æ ¹æ®è´¹é©¬å°å®šç†æ’æˆç«‹####$a^2+4bä¸æ˜¯äºŒæ¬¡å‰©ä½™$åœ¨è¿™é‡Œï¼Œæ˜¯ç»å¯¹ä¸èƒ½å¤Ÿç›´æ¥å–æ¨¡çš„ï¼Œå› ä¸º$\\lambda$ä¸­ä¸€æ—¦åŒ…å«äº†æ ¹å·ä¸‹éäºŒæ¬¡å‰©ä½™ï¼Œè¿™é‡Œå°±æ˜¯é”™çš„ï¼Œæˆ‘ä»¬ä¸å¯ä»¥å–æ¨¡ï¼Œç›´æ¥ç”¨æ ¹å¼è¡¨è¾¾å³å¯ã€‚#####ä¸¤çŸ©é˜µç›¸ç­‰æ¡ä»¶1: $$ \\lambda^n&#x3D;\\lambda k_3p+k_4p+1 $$ å…ˆçœ‹$\\lambda_1$$$\\lambda_1&#x3D;\\frac{a+\\sqrt{a^2+4b}}{2}&#x3D;\\frac{a}{2}+\\frac{1}{2}\\sqrt{a^2+4b}$$åˆ™$$(\\frac{a}{2}+\\frac{1}{2}\\sqrt{a^2+4b})^n&#x3D;(\\frac{a}{2}+\\frac{1}{2}\\sqrt{a^2+4b})k_3p+k_4p+1$$åˆ†æ¯æœ‰ç‚¹éš¾å—ï¼ŒæŠŠå®ƒç§»åˆ°å³è¾¹å»$$(a+\\sqrt{a^2+4b})^n&#x3D;2^n* ((\\frac{a}{2}+\\frac{1}{2}\\sqrt{a^2+4b})k_3p+k_4p+1)\\\\sum_{i&#x3D;0}^nC_n^ia^i\\sqrt{a^2+4b}^{n-i}&#x3D;2^n* (\\frac{a}{2}k_3p+k_4p+1)+2^n* (\\frac{1}{2}k_3p)\\sqrt{a^2+4b}$$æˆ‘ä»¬åœ¨è¿™é‡Œå¼•å…¥ä¸€äº›æ¦‚å¿µï¼Œæˆ‘ä»¬åœ¨å®æ•°é¢†åŸŸè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåœ¨å®æ•°é¢†åŸŸï¼Œæˆ‘ä»¬æŠŠæ•°åˆ†ä¸ºä¸¤éƒ¨åˆ†æ¥è¡¨ç¤ºï¼Œä¸€éƒ¨åˆ†æ˜¯æœ‰ç†æ•°éƒ¨åˆ†ï¼Œç§°ä¹‹ä¸ºæœ‰ç†éƒ¨ï¼Œå¦ä¸€éƒ¨åˆ†æ˜¯æ— ç†æ•°éƒ¨åˆ†ï¼Œç§°ä¹‹ä¸ºæ— ç†éƒ¨ï¼Œå³$1+2\\sqrt{16}$ä¸­ï¼Œæˆ‘ä»¬ç§°1ä¸ºæœ‰ç†éƒ¨ï¼Œ2ä½æ— ç†éƒ¨ã€‚ä¸Šå¼å·¦è¾¹æ˜¾ç„¶èƒ½å¤Ÿå”¯ä¸€è¡¨ç¤ºä¸º$x+y\\sqrt{a^2+4b}$,é‚£ä¹ˆä¸¤å¼ç›¸ç­‰çš„å……è¦æ¡ä»¶å°±æ˜¯$$å­˜åœ¨k_3,k_4ä½¿å¾—x&#x3D;2^n* (\\frac{a}{2}k_3p+k_4p+1), y&#x3D;2^n* \\frac{1}{2}k_3p$$ä¸Šé¢çš„å¼å­çš„æŸä¸ªå……åˆ†æ¡ä»¶ä¸º$$\\frac{x}{2^n} \\equiv1 \\mod p\\\\frac{y}{2^n} \\equiv0 \\mod p$$æ›´åŠ å…·ä½“ä¸€ç‚¹å¦‚æœnæ˜¯(p-1)çš„å€æ•°åˆ™ä¸‹é¢çš„å¼å­ä¹Ÿæ˜¯å……åˆ†æ¡ä»¶$$x \\equiv1 \\mod p\\y \\equiv0 \\mod p$$ä¸ºäº†åˆ©ç”¨è¿™ç‚¹ï¼Œæˆ‘ä»¬ä¿è¯åé¢nä¸€å®šæ˜¯p-1çš„å€æ•°ï¼Œè®©æˆ‘ä»¬å…ˆé—å¿˜æ‰è¿™äº›å……åˆ†æ¡ä»¶ ç„¶åæˆ‘ä»¬æ¥çœ‹çœ‹è¿™ä¸ªè§„å¾‹ï¼Œæ³¨æ„åˆ°$\\sum_{i&#x3D;0}^nC_n^ia^i\\sqrt{a^2+4b}^{n-i}$ä¸­ï¼Œå½“$n&#x3D;pä¸”i\\neq0ä¸”i\\neq n$çš„æ—¶å€™ï¼Œ$C_n^i|p$ï¼Œæ‰€ä»¥$$x\\equiv a^p \\equiv a\\y\\equiv \\sqrt{a^2+4b}^p$$å³$$\\begin{aligned}&amp;(a+\\sqrt{a^2+4b})^p\\&#x3D;&amp;ï¼ˆa+c_1p)+(\\sqrt{a^2+4b}^{p-1}+c_2p)\\sqrt{a^2+4b},c_1c_2æ˜¯æ•´æ•°\\&#x3D;&amp; (a+c_1p)+((a^2+4b)^{\\frac{p-1}{2}}+c_2p)\\sqrt{a^2+4b}\\&#x3D;&amp; a+(a^2+4b)^{\\frac{p-1}{2}}\\sqrt{a^2+4b}+c_1p+c_2p\\sqrt{a^2+4b}\\end{aligned}$$è¿™æ—¶å€™å› ä¸º$a^2+4b$æ˜¯ä¸€ä¸ªéäºŒæ¬¡å‰©ä½™,æ‰€ä»¥ä¸Šå¼å¯ä»¥è¡¨è¾¾ä¸º$$a-\\sqrt{a^2+4b}+c_1p+c_2p\\sqrt{a^2+4b}$$æˆ‘ä»¬è®©ä»–ä¹˜ä¸Š$\\frac{a+\\sqrt{a^2+4b}}{2}$,ä»–çš„æ— ç†éƒ¨å°±å½»åº•ä¸0åŒä½™äº†ï¼Œæ­¤æ—¶çš„$n&#x3D;(p+1)$,åœ¨è®©è¿™ä¸ªæ•°å¹‚ä¸Š$p-1$ï¼Œä»–çš„æœ‰ç†éƒ¨å°±ä¸1åŒä½™äº†ï¼Œå¹¶ä¸”æˆ‘ä»¬è¾¾åˆ°äº†ä¹‹å‰çš„çº¦å®šï¼Œnæ˜¯p-1çš„å€æ•°ï¼Œæ­¤æ—¶çš„$n&#x3D;(p+1)(p-1)$#####ä¸¤çŸ©é˜µç›¸ç­‰æ¡ä»¶2:$$\\begin{aligned}&amp;\\lambda^{n+1}&#x3D;\\lambda(k_1p+1)+k_2p\\\\Leftrightarrow&amp;\\lambda^{n+1}&#x3D;(\\frac{a}{2}+\\frac{1}{2}\\sqrt{a^2+4b})(k_1p+1)+k_2p\\\\Leftrightarrow&amp;\\lambda^{n+1}&#x3D;(\\frac{a}{2}+\\frac{1}{2}\\sqrt{a^2+4b})+\\frac{a}{2}k_1p+\\frac{1}{2}\\sqrt{a^2+4b}k_1pk_2p+k_2p\\end{aligned}$$ä¹‹å‰æˆ‘ä»¬è¯æ˜äº†$\\lambda^{(p+1)(p-1)}$çš„æœ‰ç†éƒ¨ä¸1åŒä½™ï¼Œæ— ç†éƒ¨ä¸0åŒä½™ï¼Œè¿™é‡Œæ˜¾ç„¶$\\lambda^{(p+1)(p-1)+1}$çš„æœ‰ç†éƒ¨ä¸$\\frac{a}{2}$åŒä½™ï¼Œæ— ç†éƒ¨ä¸$\\frac{1}{2}$åŒä½™,è‡³äº$\\lambda_2$æ˜¯åŒç†çš„ã€‚ è‡³æ­¤è¯æ˜äº†å½“$a^2+4b$æ˜¯äºŒæ¬¡å‰©ä½™çš„æ—¶å€™,å¾ªç¯èŠ‚è‡³å¤šä¸º$n-1$,å½“$a^2+4b$ä¸æ˜¯äºŒæ¬¡å‰©ä½™çš„æ—¶å€™ï¼Œå¾ªç¯èŠ‚è‡³å¤šä¸º$n^2-1$å½“$a^2+4b&#x3D;0$çš„æ—¶å€™è¿˜æœ‰å¾…æŒ–æ˜","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ•°å­¦","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%95%B0%E5%AD%A6/"}],"tags":[]},{"title":"2019ç‰›å®¢å¤šæ ¡9A","slug":"ACM/åˆ·é¢˜å®æˆ˜/ç‰›å®¢/2019ç‰›å®¢å¤šæ ¡9A/index","date":"2019-08-16T08:22:38.000Z","updated":"2019-08-16T08:22:38.000Z","comments":true,"path":"PWBLXQ.html","link":"","permalink":"http://fightinggg.github.io/indigo/PWBLXQ.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ###namethe power of Fibonacci ###descriptionAmy asks Mr. B problem A. Please help Mr. B to solve the following problem.Let Fi be fibonacci number.$F_0 &#x3D; 0, F_1 &#x3D; 1, F_i &#x3D; F_{i-1} + F_{i-2}$Given n and m, please calculate$\\sum^n_{i&#x3D;0}{F_i^m}$As the answer might be very large, output it module 1000000000. ###inputThe first and only line contains two integers n, m(1 &lt;&#x3D; n &lt;&#x3D; 1000000000, 1 &lt;&#x3D; m &lt;&#x3D; 1000). ###outputOutput a single integer, the answer module 1000000000. ###sample input 15 5 ###sample output 13402 ###sample input 210 10 ###sample output 2696237975 ###sample input 31000000000 1000 ###sample output 3641796875 ###toturialå¯¹$10^9$è¿›è¡Œåˆ†è§£ï¼Œ$10^9&#x3D;2^9*5^9$,ç„¶åæ‰“è¡¨ï¼Œåˆ†åˆ«æ‰¾åˆ°å¾ªç¯èŠ‚çš„é•¿åº¦ï¼Œæœ€åç”¨ä¸­å›½å‰©ä½™å®šç†åˆå¹¶ ###code 1234567891011121314151617181920212223242526272829303132333435363738394041424344#include&lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;#define rep(i,j,k) for(int i=(j);i&lt;=(k);++i)const int len5=7812500,len2=768;int fib5[len5+1],fib2[len2+1];int qpow(int a,int b,int mod)&#123; int res=1; for(;b;b&gt;&gt;=1,a=1ll*a*a%mod) if(b&amp;1)res=1ll*res*a%mod; return res;&#125;void Exeuclid(ll a, ll&amp; x, ll b, ll&amp; y, ll c)&#123; if (!b) &#123; x = c / a, y = 0; &#125; else &#123; Exeuclid(b, x, a % b, y, c); x -= a / b * y; swap(x, y); &#125;&#125;int merge(int x1,int p1,int x2,int p2)&#123; // u*p1+x1=v*p2+x2 // u*p1-v*p2=x2-x1 ll u,v; Exeuclid(p1,u,p2,v,x2-x1); ll p=p1*p2; return ((u*p1+x1)%p+p)%p;&#125;int main()&#123; // cout&lt;&lt;1ll*len5/__gcd(len5,len2)*len2&lt;&lt;endl; fib2[1]=fib2[2]=fib5[1]=fib5[2]=1; rep(i,3,len2) fib2[i]=(fib2[i-1]+fib2[i-2])%512; rep(i,3,len5) fib5[i]=(fib5[i-1]+fib5[i-2])%1953125; int n,m; scanf(&quot;%d%d&quot;,&amp;n,&amp;m); rep(i,1,len2) fib2[i]=(qpow(fib2[i],m,512)+fib2[i-1])%512; rep(i,1,len5) fib5[i]=(qpow(fib5[i],m,1953125)+fib5[i-1])%1953125; int ans2=(1ll*fib2[len2]*(n/len2)+fib2[n%len2])%512; int ans5=(1ll*fib5[len5]*(n/len5)+fib5[n%len5])%1953125; printf(&quot;%d\\n&quot;,merge(ans2,512,ans5,1953125));&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"ç‰›å®¢","slug":"ACM/åˆ·é¢˜å®æˆ˜/ç‰›å®¢","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/%E7%89%9B%E5%AE%A2/"}],"tags":[]},{"title":"ä¸­å›½å‰©ä½™å®šç†","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦/ä¸­å›½å‰©ä½™å®šç†/index","date":"2019-08-16T08:18:35.000Z","updated":"2019-08-16T08:18:35.000Z","comments":true,"path":"PWBLQZ.html","link":"","permalink":"http://fightinggg.github.io/indigo/PWBLQZ.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 1234567891011121314#define I __int128void exgcd(I a,I&amp;x,I b,I&amp;y,I c)&#123; // assert(__gcd(a,b)==c) if(b==0) x=c/a,y=0; else exgcd(b,y,a%b,x,c),y-=a/b*x;&#125;inline bool merge(I x1,I p1,I x2,I p2,I&amp;x,I&amp;p)&#123; I a,b,d=__gcd(p1,p2);// ap1+x1=bp2+x2 a+k(p2/gcd) if((x2-x1)%d!=0) return false; exgcd(p1,a,p2,b,x2-x1); p=p1/d*p2; //lcm x=((a*p1+x1)%p+p)%p;// return true;&#125; 12345678910111213141516public class Main &#123; static BigInteger[] exgcd(BigInteger a, BigInteger b, BigInteger c) &#123; // ax+by=c res[0]=x,res[1]=y if (b.compareTo(BigInteger.ZERO) == 0) return new BigInteger[]&#123;c.divide(a), BigInteger.ZERO&#125;; BigInteger[] r = exgcd(b, a.mod(b), c); return new BigInteger[]&#123;r[1], r[0].subtract(a.divide(b).multiply(r[1]))&#125;; &#125; static BigInteger[] merge(BigInteger x1, BigInteger p1, BigInteger x2, BigInteger p2) &#123; BigInteger d = p1.gcd(p2); if (x2.subtract(x1).mod(d).compareTo(BigInteger.ZERO) != 0) return null; BigInteger[] r = exgcd(p1, p2, x2.subtract(x1)); BigInteger p = p1.divide(d).multiply(p2); // p=p1/d*p2 BigInteger x=r[0].multiply(p1).add(x1).mod(p).add(p).mod(p); return new BigInteger[]&#123;x, p&#125;; &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ•°å­¦","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%95%B0%E5%AD%A6/"}],"tags":[]},{"title":"è™šæ ‘","slug":"ACM/å­¦ä¹ ç¬”è®°/æ ‘/è™šæ ‘/index","date":"2019-08-16T06:50:56.000Z","updated":"2019-08-16T06:50:56.000Z","comments":true,"path":"PWBHOW.html","link":"","permalink":"http://fightinggg.github.io/indigo/PWBHOW.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è™šæ ‘å°±æ˜¯æŠŠæ ‘ä¸Šä¸€äº›èŠ‚ç‚¹æ‹¿ä¸‹æ¥é‡æ–°å»ºæ ‘ï¼Œæ’å…¥ä¸€äº›lcaä¹‹ç±»çš„ç‚¹ï¼Œdeltreeä¼šåˆ é™¤ä¸€é¢—æ ‘ï¼Œä½†ä¸ä¼šåˆ æ‰ä»–çš„è¾¹,æ‰€ä»¥è¦æ³¨æ„è¾¹çš„æƒ…å†µ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556// tree èŠ‚ç‚¹0ä¸å‡†ä½¿ç”¨const int maxn=5e5+5;int head[maxn];// pointint to[maxn*2],ew[maxn*2],nex[maxn*2],tot;// edgeinline void _addedge(int u,int v,int w)&#123;to[++tot]=v,ew[tot]=w,nex[tot]=head[u],head[u]=tot;&#125;inline void addedge(int u,int v,int w)&#123;_addedge(u,v,w),_addedge(v,u,w);&#125;void deltree(int rt,int father)&#123;// deltree() and also don&#x27;t forget è¿˜åŸtot for(int i=head[rt];i;i=nex[i]) if(to[i]!=father) deltree(to[i],rt); head[rt]=0;&#125;// æ ‘å‰–lcaint dep[maxn],dad[maxn],siz[maxn],son[maxn],dfn[maxn],chain[maxn],step;void dfs1(int u,int father)&#123;// dfs(1,0) siz[u]=1; son[u]=0; dad[u]=father; dep[u]=dep[father]+1; for(int i=head[u];i;i=nex[i])&#123; if(to[i]==father) continue; dfs1(to[i],u); siz[u]+=siz[to[i]]; if(siz[to[i]]&gt;siz[son[u]]) son[u]=to[i]; // don&#x27;t care son=0 because siz[0]=0 &#125;&#125;void dfs2(int u,int s)&#123;// dfs(1,1) step=0 at begin dfn[u]=++step; chain[u]=s; if(son[u]) dfs2(son[u],s); for(int i=head[u];i;i=nex[i])&#123; if(to[i]==dad[u]||to[i]==son[u]) continue; dfs2(to[i],to[i]); &#125;&#125;int getlca(int x,int y)&#123; while(chain[x]!=chain[y]) &#123; if(dep[chain[x]]&lt;dep[chain[y]]) swap(x,y); x=dad[chain[x]]; &#125; return dep[x]&lt;dep[y]?x:y;&#125;// virtual treebool vt[maxn];// pointvoid buildvt(int*vert,int nums,int base)&#123;// vert -&gt; [1,nums] sort(vert+1,vert+nums+1,[](int x,int y)&#123;return dfn[x]&lt;dfn[y];&#125;); int top=0; stk[++top]=1,vt[base+1]=vert[1]==1; // root rep(i,vert[1]==1?2:1,nums)&#123; int lca=getlca(vert[i],stk[top]); if(lca==stk[top]) &#123;stk[++top]=vert[i],vt[base+vert[i]]=true;continue;&#125;//è¿˜åœ¨é“¾ä¸Š while(dfn[lca]&lt;=dfn[stk[top-1]]) addedge(base+stk[top],base+stk[top-1],0),top--; if(lca!=stk[top]) addedge(base+stk[top],base+lca,0),stk[top]=lca,vt[base+lca]=false; stk[++top]=vert[i],vt[base+vert[i]]=true; &#125; while(top&gt;=2)&#123; addedge(base+stk[top],base+stk[top-1],0); top--; &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ ‘","slug":"ACM/å­¦ä¹ ç¬”è®°/æ ‘","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%A0%91/"}],"tags":[]},{"title":"äºŒæ¬¡å‰©ä½™","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦/äºŒæ¬¡å‰©ä½™/index","date":"2019-08-15T13:29:52.000Z","updated":"2019-08-15T13:29:52.000Z","comments":true,"path":"PWA5HS.html","link":"","permalink":"http://fightinggg.github.io/indigo/PWA5HS.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 1234567891011121314151617181920212223242526272829typedef long long ll;struct cp&#123; static ll p,w; ll x,y;// x+y\\sqrt(w) cp(ll x,ll y):x(x),y(y)&#123;&#125; cp operator*(cp rhs)&#123; return cp((x*rhs.x+y*rhs.y%p*w)%p,(x*rhs.y+y*rhs.x)%p); &#125;&#125;;ll cp::p,cp::w;cp qpow(cp a,ll b)&#123; cp res(1,0); for(;b;b&gt;&gt;=1,a=a*a) if(b&amp;1)res=res*a; return res;&#125;ll qpow(ll a,ll b,ll p)&#123; ll res=1; for(;b;b&gt;&gt;=1,a=a*a%p) if(b&amp;1)res=res*a%p; return res;&#125;ll sqrt(ll x,ll p)&#123; // return sqrt(x)%p if(x==0) return 0; if(qpow(x,(p-1)/2,p)==p-1)return -1; ll a=1,w=(1-x+p)%p; while(qpow(w,(p-1)/2,p)!=p-1) ++a,w=(a*a-x+p)%p; cp::w=w,cp::p=p; return qpow(cp(a,1),(p+1)/2).x;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ•°å­¦","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%95%B0%E5%AD%A6/"}],"tags":[]},{"title":"c++å¿«è¯»","slug":"Others/c++å¿«è¯»/index","date":"2019-08-15T12:33:58.000Z","updated":"2019-08-15T12:33:58.000Z","comments":true,"path":"PWA2WM.html","link":"","permalink":"http://fightinggg.github.io/indigo/PWA2WM.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 1234567891011//ç©¶æè¯»å…¥æŒ‚inline char nc()&#123; static char buf[100000],*p1=buf,*p2=buf; return p1==p2&amp;&amp;(p2=(p1=buf)+fread(buf,1,100000,stdin),p1==p2)?EOF:*p1++;&#125;inline int read()&#123; char ch=nc();int sum=0; while(!(ch&gt;=&#x27;0&#x27;&amp;&amp;ch&lt;=&#x27;9&#x27;))ch=nc(); while(ch&gt;=&#x27;0&#x27;&amp;&amp;ch&lt;=&#x27;9&#x27;)sum=sum*10+ch-48,ch=nc(); return sum;&#125;","categories":[{"name":"Others","slug":"Others","permalink":"http://fightinggg.github.io/indigo/categories/Others/"}],"tags":[]},{"title":"lct","slug":"ACM/å­¦ä¹ ç¬”è®°/æ ‘/lct/index","date":"2019-08-15T12:13:01.000Z","updated":"2019-08-15T12:13:01.000Z","comments":true,"path":"PWA1XP.html","link":"","permalink":"http://fightinggg.github.io/indigo/PWA1XP.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 12345678910111213141516171819202122232425262728293031323334353637383940int top,c[N][2],f[N],tim[N],sta[N],rev[N],val[N];void ini()&#123; for(int i=0;i&lt;=n;i++)c[i][0]=c[i][1]=f[i]=rev[i]=0,tim[i]=i,val[i]=2e9; for(int i=n+1;i&lt;=n+m;i++)c[i][0]=c[i][1]=f[i]=rev[i]=0,tim[i]=i,val[i]=R[i-n];&#125;inline void pushup(int x)&#123; tim[x]=x; if(val[tim[c[x][0]]]&lt;val[tim[x]]) tim[x]=tim[c[x][0]]; if(val[tim[c[x][1]]]&lt;val[tim[x]]) tim[x]=tim[c[x][1]];&#125;inline void pushdown(int x)&#123; int l=c[x][0],r=c[x][1]; if(rev[x])&#123; rev[l]^=1;rev[r]^=1;rev[x]^=1; swap(c[x][0],c[x][1]); &#125;&#125;inline bool isroot(int x)&#123;return c[f[x]][0]!=x&amp;&amp;c[f[x]][1]!=x;&#125;inline void rotate(int x)&#123; int y=f[x],z=f[y],xis=c[y][1]==x,yis=c[z][1]==y;// if(!isroot(y)) c[z][yis]=x;//son f[x]=z;f[y]=x;f[c[x][xis^1]]=y;//father c[y][xis]=c[x][xis^1];c[x][xis^1]=y;//son pushup(y);&#125;inline void splay(int x)&#123; top=1;sta[top]=x;//init stack for(int i=x;!isroot(i);i=f[i])sta[++top]=f[i];//update stack for(int i=top;i;i--)pushdown(sta[i]);//pushroad while(!isroot(x))&#123; int y=f[x],z=f[y]; if(!isroot(y)) (c[y][0]==x)^(c[z][0]==y)?rotate(y):rotate(x); rotate(x); &#125;pushup(x);&#125;inline void access(int x)&#123;for(int t=0;x;t=x,x=f[x])splay(x),c[x][1]=t,pushup(x);&#125;inline int treeroot(int x)&#123;access(x);splay(x);while(c[x][0])x=c[x][0];return x;&#125;inline void makeroot(int x)&#123;access(x);splay(x);rev[x]^=1;&#125;// è®©xå˜æˆæ ¹inline void cut(int x,int y)&#123;makeroot(x);access(y);splay(y);f[x]=c[y][0]=0;pushup(y);&#125;inline void link(int x,int y)&#123;makeroot(x);f[x]=y;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ ‘","slug":"ACM/å­¦ä¹ ç¬”è®°/æ ‘","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%A0%91/"}],"tags":[]},{"title":"2019ç‰›å®¢å¤šæ ¡8E","slug":"ACM/åˆ·é¢˜å®æˆ˜/ç‰›å®¢/2019ç‰›å®¢å¤šæ ¡8E/index","date":"2019-08-15T11:11:11.000Z","updated":"2019-08-15T11:11:11.000Z","comments":true,"path":"PW9Z2N.html","link":"","permalink":"http://fightinggg.github.io/indigo/PW9Z2N.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ###nameexplorer ###descriptionGromah and LZR have entered the fifth level. Unlike the first four levels, they should do some moves in this level. There are nvertices and m bidirectional roads in this level, each road is in format (u,v,l,r) , which means that vertex u and v are connected by this road, but the sizes of passers should be in interval [l,r] . Since passers with small size are likely to be attacked by other animals and passers with large size may be blocked by some narrow roads. Moreover, vertex 1 is the starting point and vertex n is the destination. Gromah and LZR should go from vertex 1 to vertex n to enter the next level. At the beginning of their exploration, they may drink a magic potion to set their sizes to a fixed positive integer. They want to know the number of positive integer sizes that make it possible for them to go from 1 to n . Please help them to find the number of valid sizes. ###inputThe first line contains two positive integers n,m , denoting the number of vertices and roads.Following m lines each contains four positive integers u,v,l,r , denoting a bidirectional road (u,v,l,r) .$1â‰¤n,mâ‰¤10^5 ,1â‰¤u\\lt vâ‰¤n,1â‰¤lâ‰¤râ‰¤10^9$ ###outputPrint a non-negative integer in a single line, denoting the number of valid sizes. ###sample input5 51 2 1 42 3 1 23 5 2 42 4 1 34 5 3 4 ###sample output2 ###hintThere are 2 valid sizes : 2 and 3.For size 2, there exists a path 1â†’2â†’3â†’5.For size 3, there exists a path 1â†’2â†’4â†’5. ###toturialæŠŠl,rçœ‹ä½œé™åˆ¶ï¼Œä»å°åˆ°å¤§æšä¸¾åŒºé—´ï¼Œåˆ™è¡¨ç°ä¸ºåˆ è¾¹åŠ è¾¹ï¼Œç„¶åé—®å›¾çš„è”é€šæƒ…å†µã€‚è¿™å¯ä»¥ç”¨ç›´æ¥lctç»´æŠ¤ã€‚ ###code 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182#include&lt;bits/stdc++.h&gt;using namespace std;static const int N=4e5+555;int X[N],Y[N],L[N],R[N],sa[2][N];int n,m;int top,c[N][2],f[N],tim[N],sta[N],rev[N],val[N];void ini()&#123; for(int i=0;i&lt;=n;i++)c[i][0]=c[i][1]=f[i]=rev[i]=0,tim[i]=i,val[i]=2e9; for(int i=n+1;i&lt;=n+m;i++)c[i][0]=c[i][1]=f[i]=rev[i]=0,tim[i]=i,val[i]=R[i-n];&#125;inline void pushup(int x)&#123; tim[x]=x; if(val[tim[c[x][0]]]&lt;val[tim[x]]) tim[x]=tim[c[x][0]]; if(val[tim[c[x][1]]]&lt;val[tim[x]]) tim[x]=tim[c[x][1]];&#125;inline void pushdown(int x)&#123; int l=c[x][0],r=c[x][1]; if(rev[x])&#123; rev[l]^=1;rev[r]^=1;rev[x]^=1; swap(c[x][0],c[x][1]); &#125;&#125;inline bool isroot(int x)&#123;return c[f[x]][0]!=x&amp;&amp;c[f[x]][1]!=x;&#125;inline void rotate(int x)&#123; int y=f[x],z=f[y],xis=c[y][1]==x,yis=c[z][1]==y;// if(!isroot(y)) c[z][yis]=x;//son f[x]=z;f[y]=x;f[c[x][xis^1]]=y;//father c[y][xis]=c[x][xis^1];c[x][xis^1]=y;//son pushup(y);&#125;inline void splay(int x)&#123; top=1;sta[top]=x;//init stack for(int i=x;!isroot(i);i=f[i])sta[++top]=f[i];//update stack for(int i=top;i;i--)pushdown(sta[i]);//pushroad while(!isroot(x))&#123; int y=f[x],z=f[y]; if(!isroot(y)) (c[y][0]==x)^(c[z][0]==y)?rotate(y):rotate(x); rotate(x); &#125;pushup(x);&#125;inline void access(int x)&#123;for(int t=0;x;t=x,x=f[x])splay(x),c[x][1]=t,pushup(x);&#125;inline int treeroot(int x)&#123;access(x);splay(x);while(c[x][0])x=c[x][0];return x;&#125;inline void makeroot(int x)&#123;access(x);splay(x);rev[x]^=1;&#125;// è®©xå˜æˆæ ¹inline void cut(int x,int y)&#123;makeroot(x);access(y);splay(y);f[x]=c[y][0]=0;pushup(y);&#125;inline void link(int x,int y)&#123;makeroot(x);f[x]=y;&#125;inline void cut2(int i)&#123; makeroot(X[i]); if(treeroot(Y[i])!=X[i]) return; cut(X[i],n+i),cut(Y[i],n+i);&#125;inline void link2(int i)&#123; makeroot(X[i]); if(treeroot(Y[i])==X[i]) &#123;// access(y) splay(y) int p=tim[Y[i]]-n; if(R[p]&gt;=R[i]) return;// è¿™ä¸ªéå¸¸é‡è¦ cut(X[p],n+p),cut(Y[p],n+p); &#125; link(X[i],n+i),link(Y[i],n+i);&#125;int main()&#123; scanf(&quot;%d%d&quot;,&amp;n,&amp;m); for(int i=1;i&lt;=m;i++) scanf(&quot;%d%d%d%d&quot;,X+i,Y+i,L+i,R+i),sa[0][i]=sa[1][i]=i; ini(); sort(sa[0]+1,sa[0]+1+m,[](int a,int b)&#123;return L[a]&lt;L[b];&#125;); sort(sa[1]+1,sa[1]+1+m,[](int a,int b)&#123;return R[a]&lt;R[b];&#125;); vector&lt;int&gt;disc; for(int i=1;i&lt;=m;i++) disc.push_back(L[i]),disc.push_back(R[i]+1);// [) sort(disc.begin(),disc.end()); disc.erase(unique(disc.begin(),disc.end()),disc.end()); int ans=0; for(int t=0,i=1,j=1;t&lt;disc.size();t++)&#123;// [T,T+1) while(i&lt;=m&amp;&amp;L[sa[0][i]]==disc[t]) link2(sa[0][i++]); while(j&lt;=m&amp;&amp;R[sa[1][j]]+1==disc[t]) cut2(sa[1][j++]); makeroot(1);if(treeroot(n)==1) ans+=disc[t+1]-disc[t]; &#125; cout&lt;&lt;ans&lt;&lt;endl;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"ç‰›å®¢","slug":"ACM/åˆ·é¢˜å®æˆ˜/ç‰›å®¢","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/%E7%89%9B%E5%AE%A2/"}],"tags":[]},{"title":"æ ‘é“¾å‰–åˆ†","slug":"ACM/å­¦ä¹ ç¬”è®°/æ ‘/æ ‘é“¾å‰–åˆ†/index","date":"2019-08-14T14:31:33.000Z","updated":"2019-08-14T14:31:33.000Z","comments":true,"path":"PW8DOL.html","link":"","permalink":"http://fightinggg.github.io/indigo/PW8DOL.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 123456789101112131415161718192021222324252627282930313233343536const int maxn=1e5+5;int to[maxn&lt;&lt;1],nex[maxn&lt;&lt;1],head[maxn],w[maxn],cnt;void ini()&#123;cnt=-1;for(int i=0;i&lt;=n;i++) head[i]=-1;&#125;void add_edge(int u,int v)&#123;to[++cnt]=v;nex[cnt]=head[u];head[u]=cnt;&#125;int dep[maxn],dad[maxn],siz[maxn],son[maxn],chain[maxn],dfn[maxn];//void dfs1(int u,int father)&#123;//dfs1(1,0) dep[u]=dep[father]+1;//ini because dep[0]=1 dad[u]=father, siz[u]=1, son[u]=-1; for(int i=head[u];~i;i=nex[i])&#123; int v=to[i]; if(v==father)continue; dfs1(v,u); siz[u]+=siz[v]; if(son[u]==-1||siz[son[u]]&lt;siz[v]) son[u]=v; &#125;&#125;void dfs2(int u,int s,int&amp;step)&#123; dfn[u]=++step; chain[u]=s; if(son[u]!=-1) dfs2(son[u],s,step); for(int i=head[u];~i;i=nex[i])&#123; int v=to[i]; if(v!=son[u]&amp;&amp;v!=dad[u]) dfs2(v,v,step); &#125;&#125;int query(int x,int y,int k)&#123; int res=0; while(chain[x]!=chain[y])&#123; if(dep[chain[x]]&lt;dep[chain[y]]) swap(x,y); //dep[chain[x]]&gt;dep[chain[y]] res+=segtree::query(dfn[chain[x]],dfn[x],k);// [å·¦ï¼Œå³ï¼Œå€¼] x=dad[chain[x]]; &#125; if(dep[x]&gt;dep[y]) swap(x,y);// dep[x]&lt;dep[y] return res+segtree::query(dfn[x],dfn[y],k);// [å·¦,å³,å€¼]&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ ‘","slug":"ACM/å­¦ä¹ ç¬”è®°/æ ‘","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%A0%91/"}],"tags":[]},{"title":"éœå°”å®šç†","slug":"ACM/å­¦ä¹ ç¬”è®°/å›¾è®º/éœå°”å®šç†/index","date":"2019-08-14T12:05:07.000Z","updated":"2019-08-14T12:05:07.000Z","comments":true,"path":"PW86WJ.html","link":"","permalink":"http://fightinggg.github.io/indigo/PW86WJ.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial éœå°”å®šç†æ¨è®º: å¯¹äºä¸€ä¸ªäºŒåˆ†å›¾G&lt;V,E&gt;ï¼Œè‹¥ç‚¹å¯ä»¥åˆ†ä¸ºä¸¤éƒ¨åˆ†Nå’ŒM,Nå†…éƒ¨æ²¡æœ‰è¾¹ï¼ŒMåŒç†ï¼ŒSâ€™æ˜¯Nçš„æŸä¸ªå­é›†(å¯ä»¥ä¸ºç©º),f(Sâ€™)æ˜¯ä¸è¯¥å­é›†ç›¸é‚»çš„ç‚¹é›†,åˆ™ä»–çš„æœ€å¤§åŒ¹é…ä¸º|N|-max(|Sâ€™|-|f(Sâ€™)|),","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"å›¾è®º","slug":"ACM/å­¦ä¹ ç¬”è®°/å›¾è®º","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%9B%BE%E8%AE%BA/"}],"tags":[]},{"title":"hdu6667","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu/hdu6667/index","date":"2019-08-14T11:50:09.000Z","updated":"2019-08-14T11:50:09.000Z","comments":true,"path":"PW867L.html","link":"","permalink":"http://fightinggg.github.io/indigo/PW867L.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ###nameRoundgod and Milk Tea ###decriptionRoundgod is a famous milk tea lover at Nanjing University second to none. This year, he plans to conduct a milk tea festival. There will be n classes participating in this festival, where the ith class has ai students and will make bi cups of milk tea. Roundgod wants more students to savor milk tea, so he stipulates that every student can taste at most one cup of milk tea. Moreover, a student canâ€™t drink a cup of milk tea made by his class. The problem is, what is the maximum number of students who can drink milk tea? ###inputThe first line of input consists of a single integer T (1â‰¤Tâ‰¤25), denoting the number of test cases. Each test case starts with a line of a single integer n $(1â‰¤nâ‰¤10^6)$, the number of classes. For the next n lines, each containing two integers a,b (0â‰¤a,bâ‰¤109), denoting the number of students of the class and the number of cups of milk tea made by this class, respectively. It is guaranteed that the sum of n over all test cases does not exceed $6Ã—10^6$. ###outputFor each test case, print the answer as a single integer in one line. ###sample input123 42 1 ###sample output3 ###toturialéœå°”å®šç† ###code 123456789101112131415161718#include&lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;#define rep(i,j,k) for(ll i=(j);i&lt;=(k);i++)const int maxn=1e6+6;ll a[maxn],b[maxn];int main()&#123; ll t; scanf(&quot;%lld&quot;,&amp;t); while(t--)&#123; ll n; scanf(&quot;%lld&quot;,&amp;n); ll sa=0,sb=0,mx=0;// ç©ºé›† rep(i,1,n) scanf(&quot;%lld%lld&quot;,a+i,b+i),sa+=a[i],sb+=b[i]; rep(i,1,n) mx=max(mx,a[i]-(sb-b[i]));// å­é›†ä¸­ä¸€ä¸ªå…ƒç´  printf(&quot;%lld\\n&quot;,sa-max(mx,sa-sb));// å­é›†ä¸­å¤§äºä¸€ä¸ªå…ƒç´  &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"hdu","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/hdu/"}],"tags":[]},{"title":"hdu5634","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu/hdu5634/index","date":"2019-08-13T08:57:21.000Z","updated":"2019-08-13T08:57:21.000Z","comments":true,"path":"PW63JL.html","link":"","permalink":"http://fightinggg.github.io/indigo/PW63JL.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial nameRikka with Phi decriptionRikka and Yuta are interested in Phi function (which is known as Eulerâ€™s totient function).Yuta gives Rikka an array A[1..n] of positive integers, then Yuta makes m queries.There are three types of queries: 1lrChange A[i] into Ï†(A[i]), for all iâˆˆ[l,r]. 2lrxChange A[i] into x, for all iâˆˆ[l,r]. 3lrSum up A[i], for all iâˆˆ[l,r].Help Rikka by computing the results of queries of type 3. inputThe first line contains a number T(Tâ‰¤100) â€”â€”The number of the testcases. And there are no more than 2 testcases with $n&gt;10^5$For each testcase, the first line contains two numbers n,m($nâ‰¤3Ã—10^5,mâ‰¤3Ã—10^5$)ã€‚The second line contains n numbers A[i]Each of the next m lines contains the description of the query.It is guaranteed that $1â‰¤A[i]â‰¤10^7$ At any moment. outputFor each query of type 3, print one number which represents the answer. sample input110 1056 90 33 70 91 69 41 22 77 451 3 91 1 103 3 82 5 6 741 1 83 1 91 2 101 4 92 8 8 693 3 9 sample output8012286 toturialphiå‡½æ•°æ±‚ä¸äº†å‡ æ¬¡å°±ä¼šå˜æˆ1,åŒºé—´ä¿®æ”¹åªä¼šè®©åŒºé—´å€¼å˜åŒ–ä¸ºç›¸åŒï¼Œä¸¤ä¸ªä¿®æ”¹éƒ½é€æ¸è®©åŒºé—´å€¼å˜æˆç›¸åŒã€‚æ‰€ä»¥å¯ä»¥ç”¨çº¿æ®µæ ‘ç»´æŠ¤ä¸€ä¸ªåŒºé—´æœ€å¤§å€¼ï¼Œä¸€ä¸ªåŒºé—´æœ€å°å€¼ï¼Œå½“åŒºé—´æœ€å¤§å€¼ç­‰äºåŒºé—´æœ€å°å€¼çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ±‚phiæ“ä½œå¯¹æ•´ä¸ªåŒºé—´ä¸€èµ·åšäº†ã€‚ç¬¬äºŒç‚¹ï¼Œè¿™ä¸ªé—®é¢˜å¦‚æœç”¨splayå°†è¾¾åˆ°æ›´é«˜çš„æ•ˆç‡ï¼ŒåŒºé—´èµ‹å€¼çš„æ—¶å€™ï¼Œæˆ‘ä»¬ç›´æ¥åœ¨splayä¸Šåˆ é™¤åŸåŒºé—´ï¼Œç”¨ä¸€ä¸ªèŠ‚ç‚¹ä»£æ›¿ï¼Œæ±‚phiåŒç†ï¼Œè·‘èµ·æ¥é£å¿« code-çº¿æ®µæ ‘123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128#include&lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;namespace math&#123; const int maxn=1e7+7; bool no_pri[maxn]=&#123;0,1,0&#125;; int pri[664579+100],low[maxn],phi[maxn]; void f_ini()&#123; for(int i=2;i&lt;maxn;i++)&#123; if(!no_pri[i]) low[i]=pri[++pri[0]]=i; for(int j=1;1ll*pri[j]*i&lt;maxn;j++)&#123; no_pri[pri[j]*i]=1; if(i%pri[j]==0) &#123; low[pri[j]*i]=low[i]*pri[j]; break; &#125; else low[pri[j]*i]=pri[j]; &#125; &#125; phi[1]=1; for(int i=1;i&lt;=pri[0];i++)&#123; for(ll mul=pri[i],ct=1;mul&lt;maxn;mul*=pri[i],ct++)&#123; phi[mul]=mul/pri[i]*(pri[i]-1);// æ”¹è¿™é‡Œ &#125; &#125; for(int i=2;i&lt;maxn;i++)&#123; for(int j=1;1ll*pri[j]*i&lt;maxn;j++)&#123; int x=low[i*pri[j]], y=i*pri[j]/x; phi[x*y]=phi[x]*phi[y]; if(i%pri[j]==0) break; &#125; &#125; &#125;&#125;#define ml ((l+r)&gt;&gt;1)#define mr (ml+1)const int maxn=3e5+5;int a[maxn];int ls[maxn*2],rs[maxn*2],tot;// æ ‘ç»“æ„int cov[maxn*2];// æ‡’æƒ°æ ‡è®°ç»“æ„ll sum[maxn*2];int mi[maxn*2],mx[maxn*2];// åŒºé—´ç»“æ„inline void modify(int&amp;u,int l,int r,int cov_)&#123;// è¿™ä¸ªå‡½æ•°è¦æ³¨æ„é‡å†™ if(cov_!=-1)&#123; cov[u]=cov_; sum[u]=1ll*cov_*(r-l+1); mi[u]=mx[u]=cov_; &#125;&#125;inline void push_down(int u,int l,int r)&#123; modify(ls[u],l,ml,cov[u]);// è¿™è¡Œè¦æ³¨æ„é‡å†™ modify(rs[u],mr,r,cov[u]);// è¿™è¡Œè¦æ³¨æ„é‡å†™ cov[u]=-1;// è¿™è¡Œè¦æ³¨æ„é‡å†™&#125;inline void pushup(int u,int l,int r)&#123; mi[u]=min(mi[ls[u]],mi[rs[u]]);// è¿™è¡Œè¦æ³¨æ„é‡å†™ mx[u]=max(mx[ls[u]],mx[rs[u]]);// è¿™è¡Œè¦æ³¨æ„é‡å†™ sum[u]=sum[ls[u]]+sum[rs[u]];// è¿™è¡Œè¦æ³¨æ„é‡å†™&#125;void updatecov(int u,int l,int r,int ql,int qr,int d)&#123;// if(ql&lt;=l&amp;&amp;r&lt;=qr)&#123; modify(u,l,r,d);// è¿™è¡Œè¦æ³¨æ„é‡å†™ return; &#125; push_down(u,l,r); if(ml&gt;=ql) updatecov(ls[u],l,ml,ql,qr,d); if(mr&lt;=qr) updatecov(rs[u],mr,r,ql,qr,d); pushup(u,l,r);&#125;void updatephi(int u,int l,int r,int ql,int qr)&#123; if(ql&lt;=l&amp;&amp;r&lt;=qr&amp;&amp;mi[u]==mx[u])&#123; modify(u,l,r,math::phi[mi[u]]);// è¿™è¡Œè¦æ³¨æ„é‡å†™ return; &#125; push_down(u,l,r); if(ml&gt;=ql) updatephi(ls[u],l,ml,ql,qr); if(mr&lt;=qr) updatephi(rs[u],mr,r,ql,qr); pushup(u,l,r);&#125;ll query(int u,int l,int r,int ql,int qr)&#123; if(ql&lt;=l&amp;&amp;r&lt;=qr) return sum[u];// è¿™è¡Œè¦æ³¨æ„é‡å†™ push_down(u,l,r); ll ret=0;// è¿™è¡Œè¦æ³¨æ„é‡å†™ if(ml&gt;=ql) ret+=query(ls[u],l,ml,ql,qr);// è¿™è¡Œè¦æ³¨æ„é‡å†™ if(mr&lt;=qr) ret+=query(rs[u],mr,r,ql,qr);// è¿™è¡Œè¦æ³¨æ„é‡å†™ return ret;&#125;void build(int&amp;u,int l,int r)&#123; u=++tot; cov[u]=-1; if(l==r) sum[u]=mi[u]=mx[u]=a[l]; else&#123; build(ls[u],l,ml); build(rs[u],mr,r); pushup(u,l,r); &#125;&#125;int read()&#123;int x;scanf(&quot;%d&quot;,&amp;x);return x;&#125;int main()&#123; math::f_ini(); int t=read(); while(t--)&#123; int n=read(),m=read(); for(int i=1;i&lt;=n;i++) a[i]=read(); tot=0; int rt; build(rt,1,n); for(int i=1;i&lt;=m;i++)&#123; int op=read(),l=read(),r=read(); switch(op)&#123; case 1:updatephi(rt,1,n,l,r);break; case 2:updatecov(rt,1,n,l,r,read());break; default:printf(&quot;%lld\\n&quot;,query(rt,1,n,l,r)); &#125; &#125; &#125;&#125; code-splay123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153#include&lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;namespace math&#123; const int maxn=1e7+7; bool no_pri[maxn]=&#123;0,1,0&#125;; int pri[664579+100],low[maxn],phi[maxn]; void f_ini()&#123; for(int i=2;i&lt;maxn;i++)&#123; if(!no_pri[i]) low[i]=pri[++pri[0]]=i; for(int j=1;1ll*pri[j]*i&lt;maxn;j++)&#123; no_pri[pri[j]*i]=1; if(i%pri[j]==0) &#123; low[pri[j]*i]=low[i]*pri[j]; break; &#125; else low[pri[j]*i]=pri[j]; &#125; &#125; phi[1]=1; for(int i=1;i&lt;=pri[0];i++)&#123; for(ll mul=pri[i],ct=1;mul&lt;maxn;mul*=pri[i],ct++)&#123; phi[mul]=mul/pri[i]*(pri[i]-1);// æ”¹è¿™é‡Œ &#125; &#125; for(int i=2;i&lt;maxn;i++)&#123; for(int j=1;1ll*pri[j]*i&lt;maxn;j++)&#123; int x=low[i*pri[j]], y=i*pri[j]/x; phi[x*y]=phi[x]*phi[y]; if(i%pri[j]==0) break; &#125; &#125; &#125;&#125;const int N=3e5+3;int c[N][2],f[N],stk[N],nie=N-1,tot;//æ ‘ç»“æ„,å‡ ä¹ä¸ç”¨åˆå§‹åŒ–int nu[N],w[N],cov[N];//å€¼å’Œæ‡’æƒ°æ ‡è®°ç»“æ„,ä¸€å®šè¦èµ‹åˆå€¼ï¼Œint sz[N],mx[N],mi[N]; long long s[N];//åŒºé—´ç»“æ„ï¼Œä¸ç”¨èµ‹äºˆåˆå€¼ï¼Œinline void pushfrom(int u,int son)&#123;// assert(son!=nie) sz[u]+=sz[son],mx[u]=max(mx[u],mx[son]),mi[u]=min(mi[u],mi[son]),s[u]+=s[son];&#125;inline void pushup(int u)&#123;// assert(u!=nie) sz[u]=nu[u],mi[u]=mx[u]=w[u],s[u]=1ll*w[u]*nu[u]; if(c[u][0]!=nie) pushfrom(u,c[u][0]); if(c[u][1]!=nie) pushfrom(u,c[u][1]);&#125;inline void modify(int u,int _cov)&#123;// assert(u!=nie) if(_cov!=-1) &#123; w[u]=mx[u]=mi[u]=_cov; s[u]=1ll*sz[u]*_cov; &#125;&#125;inline void pushdown(int u)&#123; if(u==nie||cov[u]==-1) return; if(c[u][0]!=nie) modify(c[u][0],cov[u]); if(c[u][1]!=nie) modify(c[u][1],cov[u]); cov[u]=-1;&#125;inline void rotate(int x)&#123;// rotateåxçš„åŒºé—´å€¼æ˜¯é”™è¯¯çš„ï¼Œéœ€è¦pushup(x) int y=f[x],z=f[y],xis=c[y][1]==x,yis=c[z][1]==y; f[x]=z,f[y]=x,f[c[x][xis^1]]=y;//father c[z][yis]=x,c[y][xis]=c[x][xis^1],c[x][xis^1]=y;//son pushup(y);&#125;inline void splay(int x,int aim)&#123;//ç”±äºrotateåxçš„åŒºé—´å€¼ä¸å¯¹ï¼Œæ‰€ä»¥splayåxçš„åŒºé—´å€¼ä¾æ—§ä¸å¯¹ï¼Œéœ€è¦pushup(x) while(f[x]!=aim)&#123; int y=f[x],z=f[y]; if(z!=aim) (c[y][0]==x)^(c[z][0]==y)?rotate(x):rotate(y);// åŒä¸€ä¸ªå„¿å­å…ˆæ—‹è½¬y rotate(x); &#125;&#125;void del(int u)&#123;// del compress newnode decompress æ˜¯ä¸€å¥—ç‹¬ç«‹çš„å‡½æ•°ï¼Œå¯ä»¥ç›´æ¥åˆ é™¤ï¼Œä¹Ÿå¯ä»¥ä¸ä¸Šé¢çš„ä»£ç å…±å­˜ stk[++stk[0]]=u; if(c[u][0]!=nie) del(c[u][0]); if(c[u][1]!=nie) del(c[u][1]);&#125;inline void compress(int u)&#123; // å‹ç¼©åŒºé—´ï¼Œå°†èŠ‚ç‚¹ä¸¢è¿›æ ˆ assert(u!=nie) if(c[u][0]!=nie) del(c[u][0]); if(c[u][1]!=nie) del(c[u][1]); c[u][0]=c[u][1]=nie,nu[u]=sz[u];&#125;inline int newnode(int father,int val,int siz)&#123;// int u=stk[0]==0?(++tot):stk[stk[0]--]; f[u]=father,c[u][0]=c[u][1]=nie; //æ ‘ç»“æ„ w[u]=val,nu[u]=siz,cov[u]=-1; //å€¼å’Œæ‡’æƒ°æ ‡è®°ç»“æ„, sz[u]=siz,mi[u]=mx[u]=val,s[u]=1ll*val*siz;//åŒºé—´ç»“æ„ return u;&#125;inline void decompress(int x,int u)&#123;// è§£å‹åŒºé—´å¹¶æå–ç¬¬xä¸ªå€¼ assert(u!=nie) int ls=c[u][0],rs=c[u][1]; if(x&gt;1) c[u][0]=newnode(u,w[u],x-1),c[c[u][0]][0]=ls; if(x&lt;nu[u]) c[u][1]=newnode(u,w[u],nu[u]-x),c[c[u][1]][1]=rs; nu[u]=1;&#125;inline int id(int x,int u=c[nie][0])&#123; // æŸ¥è¯¢æ’åä¸ºxçš„æ•°çš„èŠ‚ç‚¹ä¸‹æ ‡ nä¸ªæ•° [1,n] while(true)&#123; pushdown(u); if(sz[c[u][0]]&gt;=x) u=c[u][0]; else if(sz[c[u][0]]+nu[u]&lt;x) x-=sz[c[u][0]]+nu[u],u=c[u][1]; else&#123; if(nu[u]!=1) decompress(x,u); return u; &#125; &#125;&#125;int build(int father,int l,int r)&#123;// æŠŠåŒºé—´l,rå»ºæ ‘ï¼Œè¿”å›æ ¹(l+r)&gt;&gt;1 int u=(l+r)&gt;&gt;1; f[u]=father; c[u][0]=l&lt;=u-1?build(u,l,u-1):nie; c[u][1]=r&gt;=u+1?build(u,u+1,r):nie; pushup(u); return u;&#125;void updatephi(int u)&#123; pushdown(u); if(c[u][0]!=nie) updatephi(c[u][0]); if(c[u][1]!=nie) updatephi(c[u][1]); w[u]=math::phi[w[u]]; pushup(u); if(nu[u]!=1&amp;&amp;mi[u]==mx[u]) compress(u);&#125;int read()&#123;int x;scanf(&quot;%d&quot;,&amp;x);return x;&#125;int main()&#123; math::f_ini(); int t=read(); while(t--)&#123; int n=read(),m=read(); for(int i=0;i&lt;=n+1;i++) nu[i]=1,cov[i]=-1; for(int i=1;i&lt;=n;i++) w[i]=read(); c[nie][1]=f[nie]=nie;c[nie][0]=build(nie,0,n+1);// å·¦è¾¹æ”¾ä¸€ä¸ª å³è¾¹æ”¾ä¸€ä¸ª åˆšåˆšå¥½ tot=n+1;stk[0]=0;// init rubbish for(int i=1;i&lt;=m;i++)&#123; int op=read(),l=read(),r=read();// [1,n]-&gt;[2,n+1] int x=id(1+l-1),y=id(1+r+1); splay(x,nie);splay(y,x); switch(op)&#123; case 1:updatephi(c[y][0]);break; case 2:modify(c[y][0],read()),compress(c[y][0]);break; default:printf(&quot;%lld\\n&quot;,s[c[y][0]]); &#125; pushup(y),pushup(x); &#125; &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"hdu","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/hdu/"}],"tags":[]},{"title":"splay","slug":"ACM/å­¦ä¹ ç¬”è®°/å¹³è¡¡æ ‘/splay/index","date":"2019-08-13T07:00:35.000Z","updated":"2019-08-13T07:00:35.000Z","comments":true,"path":"PW5Y4Z.html","link":"","permalink":"http://fightinggg.github.io/indigo/PW5Y4Z.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990//åˆå§‹åŒ–æ—¶è¦åˆå§‹åŒ–totå’Œstk[0]const int N=3e5+3;int c[N][2],f[N],stk[N],nie=N-1,tot;//æ ‘ç»“æ„,å‡ ä¹ä¸ç”¨åˆå§‹åŒ–int nu[N],w[N],cov[N];//å€¼å’Œæ‡’æƒ°æ ‡è®°ç»“æ„,ä¸€å®šè¦èµ‹åˆå€¼ï¼Œint sz[N],mx[N],mi[N]; long long s[N];//åŒºé—´ç»“æ„ï¼Œä¸ç”¨èµ‹äºˆåˆå€¼ï¼Œinline void pushfrom(int u,int son)&#123;// assert(son!=nie) sz[u]+=sz[son],mx[u]=max(mx[u],mx[son]),mi[u]=min(mi[u],mi[son]),s[u]+=s[son];&#125;inline void pushup(int u)&#123;// assert(u!=nie) sz[u]=nu[u],mi[u]=mx[u]=w[u],s[u]=1ll*w[u]*nu[u]; if(c[u][0]!=nie) pushfrom(u,c[u][0]); if(c[u][1]!=nie) pushfrom(u,c[u][1]);&#125;inline void modify(int u,int _cov)&#123;// assert(u!=nie) if(_cov!=-1) &#123; w[u]=mx[u]=mi[u]=_cov; s[u]=1ll*sz[u]*_cov; &#125;&#125;inline void pushdown(int u)&#123; if(u==nie||cov[u]==-1) return; if(c[u][0]!=nie) modify(c[u][0],cov[u]); if(c[u][1]!=nie) modify(c[u][1],cov[u]); cov[u]=-1;&#125;inline void rotate(int x)&#123;// rotateåxçš„åŒºé—´å€¼æ˜¯é”™è¯¯çš„ï¼Œéœ€è¦pushup(x) int y=f[x],z=f[y],xis=c[y][1]==x,yis=c[z][1]==y; f[x]=z,f[y]=x,f[c[x][xis^1]]=y;//father c[z][yis]=x,c[y][xis]=c[x][xis^1],c[x][xis^1]=y;//son pushup(y);&#125;inline void splay(int x,int aim)&#123;//ç”±äºrotateåxçš„åŒºé—´å€¼ä¸å¯¹ï¼Œæ‰€ä»¥splayåxçš„åŒºé—´å€¼ä¾æ—§ä¸å¯¹ï¼Œéœ€è¦pushup(x) while(f[x]!=aim)&#123; int y=f[x],z=f[y]; if(z!=aim) (c[y][0]==x)^(c[z][0]==y)?rotate(x):rotate(y);// åŒä¸€ä¸ªå„¿å­å…ˆæ—‹è½¬y rotate(x); &#125;&#125;void del(int u)&#123;// del compress newnode decompress æ˜¯ä¸€å¥—ç‹¬ç«‹çš„å‡½æ•°ï¼Œå¯ä»¥ç›´æ¥åˆ é™¤ï¼Œä¹Ÿå¯ä»¥ä¸ä¸Šé¢çš„ä»£ç å…±å­˜ stk[++stk[0]]=u; if(c[u][0]!=nie) del(c[u][0]); if(c[u][1]!=nie) del(c[u][1]);&#125;inline void compress(int u)&#123; // å‹ç¼©åŒºé—´ï¼Œå°†èŠ‚ç‚¹ä¸¢è¿›æ ˆ assert(u!=nie) if(c[u][0]!=nie) del(c[u][0]); if(c[u][1]!=nie) del(c[u][1]); c[u][0]=c[u][1]=nie,nu[u]=sz[u];&#125;inline int newnode(int father,int val,int siz)&#123;// int u=stk[0]==0?(++tot):stk[stk[0]--]; f[u]=father,c[u][0]=c[u][1]=nie; //æ ‘ç»“æ„ w[u]=val,nu[u]=siz,cov[u]=-1; //å€¼å’Œæ‡’æƒ°æ ‡è®°ç»“æ„, sz[u]=siz,mi[u]=mx[u]=val,s[u]=1ll*val*siz;//åŒºé—´ç»“æ„ return u;&#125;inline void decompress(int x,int u)&#123;// è§£å‹åŒºé—´å¹¶æå–ç¬¬xä¸ªå€¼ assert(u!=nie) int ls=c[u][0],rs=c[u][1]; if(x&gt;1) c[u][0]=newnode(u,w[u],x-1),c[c[u][0]][0]=ls; if(x&lt;nu[u]) c[u][1]=newnode(u,w[u],nu[u]-x),c[c[u][1]][1]=rs; nu[u]=1;&#125;inline int id(int x,int u=c[nie][0])&#123; // æŸ¥è¯¢æ’åä¸ºxçš„æ•°çš„èŠ‚ç‚¹ä¸‹æ ‡ nä¸ªæ•° [1,n] while(true)&#123; pushdown(u); if(sz[c[u][0]]&gt;=x) u=c[u][0]; else if(sz[c[u][0]]+nu[u]&lt;x) x-=sz[c[u][0]]+nu[u],u=c[u][1]; else&#123; if(nu[u]!=1) decompress(x,u); return u; &#125; &#125;&#125;int build(int father,int l,int r)&#123;// æŠŠåŒºé—´l,rå»ºæ ‘ï¼Œè¿”å›æ ¹(l+r)&gt;&gt;1 int u=(l+r)&gt;&gt;1; f[u]=father; c[u][0]=l&lt;=u-1?build(u,l,u-1):nie; c[u][1]=r&gt;=u+1?build(u,u+1,r):nie; pushup(u); return u;&#125;void updatephi(int u)&#123; pushdown(u); if(c[u][0]!=nie) updatephi(c[u][0]); if(c[u][1]!=nie) updatephi(c[u][1]); w[u]=math::phi[w[u]]; pushup(u); if(nu[u]!=1&amp;&amp;mi[u]==mx[u]) compress(u);&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"å¹³è¡¡æ ‘","slug":"ACM/å­¦ä¹ ç¬”è®°/å¹³è¡¡æ ‘","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%B9%B3%E8%A1%A1%E6%A0%91/"}],"tags":[]},{"title":"çº¿æ®µæ ‘","slug":"ACM/å­¦ä¹ ç¬”è®°/å¹³è¡¡æ ‘/çº¿æ®µæ ‘/index","date":"2019-08-13T06:53:49.000Z","updated":"2019-08-13T06:53:49.000Z","comments":true,"path":"PW5XTP.html","link":"","permalink":"http://fightinggg.github.io/indigo/PW5XTP.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869#define ml ((l+r)&gt;&gt;1)#define mr (ml+1)const int maxn=3e5+5;int a[maxn];int ls[maxn*2],rs[maxn*2],tot;// æ ‘ç»“æ„int cov[maxn*2];// æ‡’æƒ°æ ‡è®°ç»“æ„ll sum[maxn*2];int mi[maxn*2],mx[maxn*2];// åŒºé—´ç»“æ„inline void modify(int&amp;u,int l,int r,int cov_)&#123;// è¿™ä¸ªå‡½æ•°è¦æ³¨æ„é‡å†™ if(cov_!=-1)&#123;// è¿™è¡Œè¦æ³¨æ„é‡å†™ cov[u]=cov_;// è¿™è¡Œè¦æ³¨æ„é‡å†™ sum[u]=1ll*cov_*(r-l+1);// è¿™è¡Œè¦æ³¨æ„é‡å†™ mi[u]=mx[u]=cov_;// è¿™è¡Œè¦æ³¨æ„é‡å†™ &#125;&#125;inline void push_down(int u,int l,int r)&#123; modify(ls[u],l,ml,cov[u]);// è¿™è¡Œè¦æ³¨æ„é‡å†™ modify(rs[u],mr,r,cov[u]);// è¿™è¡Œè¦æ³¨æ„é‡å†™ cov[u]=-1;// è¿™è¡Œè¦æ³¨æ„é‡å†™&#125;inline void pushup(int u,int l,int r)&#123; mi[u]=min(mi[ls[u]],mi[rs[u]]);// è¿™è¡Œè¦æ³¨æ„é‡å†™ mx[u]=max(mx[ls[u]],mx[rs[u]]);// è¿™è¡Œè¦æ³¨æ„é‡å†™ sum[u]=sum[ls[u]]+sum[rs[u]];// è¿™è¡Œè¦æ³¨æ„é‡å†™&#125;void updatecov(int u,int l,int r,int ql,int qr,int d)&#123;// if(ql&lt;=l&amp;&amp;r&lt;=qr)&#123;// ä¸è¦æ”¹å†™ä¸º if(mi[u]==mx[u]) å³ä½¿æƒ³å†™ä¹Ÿè¦è¿™æ · if(ql&lt;=l&amp;&amp;r&lt;=qr&amp;&amp;mi[u]==mx[u]) modify(u,l,r,d);// è¿™è¡Œè¦æ³¨æ„é‡å†™ return; &#125; push_down(u,l,r); if(ml&gt;=ql) updatecov(ls[u],l,ml,ql,qr,d); if(mr&lt;=qr) updatecov(rs[u],mr,r,ql,qr,d); pushup(u,l,r);&#125;void updatephi(int u,int l,int r,int ql,int qr)&#123; if(ql&lt;=l&amp;&amp;r&lt;=qr&amp;&amp;mi[u]==mx[u])&#123;// è¿™è¡Œè¦æ³¨æ„é‡å†™ modify(u,l,r,math::phi[mi[u]]);// è¿™è¡Œè¦æ³¨æ„é‡å†™ return; &#125; push_down(u,l,r); if(ml&gt;=ql) updatephi(ls[u],l,ml,ql,qr); if(mr&lt;=qr) updatephi(rs[u],mr,r,ql,qr); pushup(u,l,r);&#125;ll query(int u,int l,int r,int ql,int qr)&#123; if(ql&lt;=l&amp;&amp;r&lt;=qr) return sum[u];// è¿™è¡Œè¦æ³¨æ„é‡å†™ push_down(u,l,r); ll ret=0;// è¿™è¡Œè¦æ³¨æ„é‡å†™ if(ml&gt;=ql) ret+=query(ls[u],l,ml,ql,qr);// è¿™è¡Œè¦æ³¨æ„é‡å†™ if(mr&lt;=qr) ret+=query(rs[u],mr,r,ql,qr);// è¿™è¡Œè¦æ³¨æ„é‡å†™ return ret;&#125;void build(int&amp;u,int l,int r)&#123; u=++tot; cov[u]=-1; if(l==r) sum[u]=mi[u]=mx[u]=a[l]; else&#123; build(ls[u],l,ml); build(rs[u],mr,r); pushup(u,l,r); &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"å¹³è¡¡æ ‘","slug":"ACM/å­¦ä¹ ç¬”è®°/å¹³è¡¡æ ‘","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%B9%B3%E8%A1%A1%E6%A0%91/"}],"tags":[]},{"title":"hdu6647","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu/hdu6647/index","date":"2019-08-12T15:09:04.000Z","updated":"2019-08-12T15:09:04.000Z","comments":true,"path":"PW4Q34.html","link":"","permalink":"http://fightinggg.github.io/indigo/PW4Q34.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ###nameBracket Sequences on Tree ###decriptionCuber QQ knows about DFS on an undirected tree, heâ€™s sure that you are familiar with it too. In case you are not, Cuber QQ is delighted to share with you a snippet of pseudo code: function dfs(int cur, int parent): print(â€˜(â€˜) for all nxt that cur is adjacent to: dfs(nxt, cur) print(â€˜)â€™) You might notice that Cuber QQ print a â€œ(â€œ when entering a node, and a â€œ)â€ when leaving a node. So when he finishes this DFS, in his console, he will see a bracket sequence of length 2n, where n is the number of vertices in the tree. Obviously, if the tree is undirected and the nodes are unlabelled (meaning that all the nodes are treated equally), you can get a lot of different bracket sequences when you do the DFS. There are two reasons accounting for this. Firstly, when you are at cur, you can follow any permutation of the nodes that cur is adjacent to when you visit nxt. Secondly, the entrance to the tree, that is the root, is undeterministic when you start your DFS. So Cuber QQ couldnâ€™t help wondering how many distinct bracket sequences he can get possibly. As the answer can be very large, output it modulo 998 244 353. ###inputThe first line of the input consists of one integer t $(1â‰¤tâ‰¤10^5)$, which is the number of the test cases. For each test case, the tree is given in a standard format, which you might be very familiar with: first line n $(1â‰¤nâ‰¤10^5)$, the size of tree; then nâˆ’1 lines, each consisting of two space-separated integers u, v (1â‰¤u,vâ‰¤n, uâ‰ v), denoting an edge. The sum of n from all test cases does not exceed $3.2Ã—10^6$. ###outputFor each test case, output the answer in one line. ###sample input341 32 34 351 22 33 44 551 22 33 43 5 ###sample output248 ###toturialå…¶å®å¾ˆç®€å•ï¼Œå°±ä¸€ä¸ªæ ‘hashç„¶åæ ‘dpå°±ç§’æ‰äº†ï¼Œä½†æ˜¯ç”±äºä¹‹å‰å­¦æŸåšå®¢çš„æ ‘hashï¼Œç»“æœå†²çªæ‰äº†ï¼Œæœ€åçœ‹äº†æ¨å¼‹çš„è®ºæ–‡æ‰æ‡‚äº†æ€ä¹ˆä¸€å›äº‹ ###code 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177#include&lt;bits/stdc++.h&gt;using namespace std;#define get64(a,b) ((a)*2000000000ll+(b))typedef pair&lt;int,int&gt; pii;#define __int64 long longconst int maxn=2e5+5;// tree èŠ‚ç‚¹0ä¸å‡†ä½¿ç”¨int head[maxn];// pointint to[maxn*2],nex[maxn*2],tot;// edgeinline void _addedge(int u,int v)&#123;to[++tot]=v,nex[tot]=head[u],head[u]=tot;&#125;inline void addedge(int u,int v)&#123;_addedge(u,v),_addedge(v,u);&#125;void deltree(int rt,int father)&#123;// deltree() and also don&#x27;t forget tot for(int i=head[rt];i;i=nex[i]) if(to[i]!=father) deltree(to[i],rt); head[rt]=0;&#125;// struct tree&#123;int rt,n;&#125;//tree hashint pw[maxn*2]=&#123;1&#125;,hshmod;//pwè¦ä¸¤å€int *hsh,siz[maxn]; //pointint *ehsh; //edgevoid dfs(int u,int father)&#123; siz[u]=1; for(int i=head[u];i;i=nex[i])&#123; if(to[i]==father)continue; dfs(to[i],u), siz[u]+=siz[to[i]]; &#125;&#125;void dfs1(int u,int father)&#123;// solve every edge from father-&gt;u for(int i=head[u];i;i=nex[i])&#123; if(to[i]==father) continue; dfs1(to[i],u); vector&lt;pii&gt;buf; for(int j=head[to[i]];j;j=nex[j])&#123; if(to[j]==u) continue; buf.emplace_back(ehsh[j],2*siz[to[j]]); &#125; sort(buf.begin(),buf.end()); ehsh[i]=1;// å·¦è¾¹æ”¾1 for(pii x:buf) ehsh[i]=(1ll*ehsh[i]*pw[x.second]+x.first)%hshmod; ehsh[i]=(1ll*ehsh[i]*pw[1]+2)%hshmod;// å³è¾¹æ”¾2 &#125;&#125;void dfs2(int u,int father,int rt)&#123; vector&lt;pii&gt;buf; for(int i=head[u];i;i=nex[i]) &#123; if(to[i]==father) buf.emplace_back(ehsh[i],2*(siz[rt]-siz[u])); else buf.emplace_back(ehsh[i],2*siz[to[i]]); &#125; sort(buf.begin(),buf.end()); hsh[u]=1;// å·¦è¾¹æ”¾1 for(pii x:buf) hsh[u]=(1ll*hsh[u]*pw[x.second]+x.first)%hshmod; hsh[u]=(1ll*hsh[u]*pw[1]+2)%hshmod;// å³è¾¹æ”¾2 vector&lt;pii&gt;pre(buf),suf(buf);// å¯¹åé¢è¿›è¡Œå¤„ç† int sz=suf.size(); for(int i=1,j=sz-2;i&lt;sz;i++,j--)&#123; pre[i].first=(1ll*pre[i-1].first*pw[pre[i].second]+pre[i].first)%hshmod;// merge i-1 and i suf[j].first=(1ll*suf[j].first*pw[suf[j+1].second]+suf[j+1].first)%hshmod;// merge j and j+1 pre[i].second+=pre[i-1].second; suf[j].second+=suf[j+1].second; &#125; for(int i=head[u];i;i=nex[i])&#123; if(father==to[i]) continue; ehsh[i^1]=1;//å·¦è¾¹æ”¾1 int idx=lower_bound(buf.begin(),buf.end(),pii(ehsh[i],2*siz[to[i]]))-buf.begin(); if(idx-1&gt;=0) ehsh[i^1]=(1ll*ehsh[i^1]*pw[pre[idx-1].second]+pre[idx-1].first)%hshmod;// å‰ç¼€ if(idx+1&lt;sz) ehsh[i^1]=(1ll*ehsh[i^1]*pw[suf[idx+1].second]+suf[idx+1].first)%hshmod;// åç¼€ ehsh[i^1]=(1ll*ehsh[i^1]*pw[1]+2)%hshmod;//å³è¾¹æ”¾2 dfs2(to[i],u,rt); &#125;&#125;void treehash(int u,int*hsh_,int*ehsh_,int base,int hshmod_)&#123;//hash all tree of tree u hsh=hsh_,ehsh=ehsh_,hshmod=hshmod_; dfs(u,0); for(int i=1;i&lt;=siz[u]*2;i++) pw[i]=1ll*pw[i-1]*base%hshmod; dfs1(u,0),dfs2(u,0,u);&#125;////// endconst int mod=998244353;int qpow(int a,int b)&#123; int res=1; while(b)&#123; if(b&amp;1) res=1ll*res*a%mod; a=1ll*a*a%mod; b&gt;&gt;=1; &#125; return res;&#125;int fac[maxn]=&#123;1&#125;,rev[maxn]=&#123;1&#125;;void ini()&#123; for(int i=1;i&lt;maxn;i++) fac[i]=1ll*fac[i-1]*i%mod; rev[maxn-1]=qpow(fac[maxn-1],mod-2); for(int i=maxn-2;i&gt;=0;i--) rev[i]=1ll*rev[i+1]*(i+1)%mod;&#125;int myhsh[4][maxn],ans[maxn]; // pointint myehsh[4][maxn*2],eans[maxn*2]; // edgevoid dfs3(int u,int father)&#123;// solve edge from father-&gt;u for(int i=head[u];i;i=nex[i])&#123; if(to[i]==father) continue; dfs3(to[i],u); map&lt;__int64,pii&gt;mp; int son=0; for(int j=head[to[i]];j;j=nex[j])&#123; if(to[j]==u) continue; __int64 key=get64(myehsh[0][j],myehsh[1][j]); if(mp.find(key)!=mp.end()) mp[key].first++; else mp[key]=pii(1,eans[j]);// æ•°é‡+æ–¹æ¡ˆ son++; &#125; eans[i]=fac[son];//å…¨æ’åˆ— for(auto it:mp)&#123; eans[i]=1ll*eans[i]*rev[it.second.first]%mod;//å»å…¨æ’ eans[i]=1ll*eans[i]*qpow(it.second.second,it.second.first)%mod;//è‡ªæ’ &#125; &#125;&#125;void dfs4(int u,int father)&#123; map&lt;__int64,pii&gt;mp; int son=0; for(int i=head[u];i;i=nex[i]) &#123; __int64 key=get64(myehsh[0][i],myehsh[1][i]); if(mp.find(key)!=mp.end()) mp[key].first++; else mp[key]=pii(1,eans[i]);// æ•°é‡+æ–¹æ¡ˆ son++; &#125; ans[u]=fac[son]; for(auto it:mp)&#123; ans[u]=1ll*ans[u]*rev[it.second.first]%mod;//å»å…¨æ’ ans[u]=1ll*ans[u]*qpow(it.second.second,it.second.first)%mod;//è‡ªæ’ &#125; for(int i=head[u];i;i=nex[i])&#123; if(to[i]==father) continue; __int64 key=get64(myehsh[0][i],myehsh[1][i]); int a=mp[key].first, x=eans[i];// a^x eans[i^1]=1ll*ans[u]*a%mod*qpow(1ll*x*son%mod,mod-2)%mod; dfs4(to[i],u); &#125;&#125;int main()&#123; ini(); int times;scanf(&quot;%d&quot;,&amp;times); while(times--)&#123; tot=1; int n;scanf(&quot;%d&quot;,&amp;n); for(int i=0;i&lt;n-1;i++)&#123; int u,v;scanf(&quot;%d%d&quot;,&amp;u,&amp;v); addedge(u,v); &#125; int b[]=&#123;3,5&#125;,p[]=&#123;1000000009,1000000009&#125;; for(int i=0;i&lt;2;i++) treehash(1,myhsh[i],myehsh[i],b[i],p[i]); dfs3(1,0),dfs4(1,0); map&lt;__int64,int&gt;mp; long long res=0; for(int i=1;i&lt;=n;i++) &#123; __int64 key=get64(myhsh[0][i],myhsh[1][i]); if(mp[key]==0) res+=ans[i];// ans&lt;1e14 mp[key]=1; &#125; printf(&quot;%d\\n&quot;,int(res%mod)); deltree(1,0),tot=1; &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"hdu","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/hdu/"}],"tags":[]},{"title":"bzoj4999","slug":"ACM/åˆ·é¢˜å®æˆ˜/bzoj/bzoj4999/index","date":"2019-08-12T12:40:28.000Z","updated":"2019-08-12T12:40:28.000Z","comments":true,"path":"PW4J7G.html","link":"","permalink":"http://fightinggg.github.io/indigo/PW4J7G.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial nameThis Problem Is Too Simpleï¼ descriptionç»™æ‚¨ä¸€é¢—æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸ªåˆå§‹å€¼ã€‚ç°åœ¨æ”¯æŒä»¥ä¸‹ä¸¤ç§æ“ä½œï¼š C i x(0&lt;&#x3D;x&lt;2^31) è¡¨ç¤ºå°†ièŠ‚ç‚¹çš„å€¼æ”¹ä¸ºxã€‚ Q i j x(0&lt;&#x3D;x&lt;2^31) è¡¨ç¤ºè¯¢é—®ièŠ‚ç‚¹åˆ°jèŠ‚ç‚¹çš„è·¯å¾„ä¸Šæœ‰å¤šå°‘ä¸ªå€¼ä¸ºxçš„èŠ‚ç‚¹ã€‚ inputç¬¬ä¸€è¡Œæœ‰ä¸¤ä¸ªæ•´æ•°N,Qï¼ˆ1 â‰¤Nâ‰¤ 100,000ï¼›1 â‰¤Qâ‰¤ 200,000ï¼‰ï¼Œåˆ†åˆ«è¡¨ç¤ºèŠ‚ç‚¹ä¸ªæ•°å’Œæ“ä½œä¸ªæ•°ã€‚ä¸‹é¢ä¸€è¡ŒNä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºåˆå§‹æ—¶æ¯ä¸ªèŠ‚ç‚¹çš„åˆå§‹å€¼ã€‚æ¥ä¸‹æ¥N-1è¡Œï¼Œæ¯è¡Œä¸¤ä¸ªæ•´æ•°x,yï¼Œè¡¨ç¤ºxèŠ‚ç‚¹ä¸yèŠ‚ç‚¹ä¹‹é—´æœ‰è¾¹ç›´æ¥ç›¸è¿ï¼ˆæè¿°ä¸€é¢—æ ‘ï¼‰ã€‚æ¥ä¸‹æ¥Qè¡Œï¼Œæ¯è¡Œè¡¨ç¤ºä¸€ä¸ªæ“ä½œï¼Œæ“ä½œçš„æè¿°å·²ç»åœ¨é¢˜ç›®æè¿°ä¸­ç»™å‡ºã€‚ outputå¯¹äºæ¯ä¸ªQè¾“å‡ºå•ç‹¬ä¸€è¡Œè¡¨ç¤ºæ‰€æ±‚çš„ç­”æ¡ˆã€‚ sample input5 610 20 30 40 501 21 33 43 5Q 2 3 40C 1 40Q 2 3 40Q 4 5 30C 3 10Q 4 5 30 sample output0110 toturialæ ‘å‰–åç›´æ¥å¯¹æ¯ä¸€ä¸ªæ•°å€¼éƒ½ç»´æŠ¤ä¸€é¢—æƒåˆ¶çº¿æ®µæ ‘ï¼ŒåŠ¨æ€å¼€ç‚¹å³å¯ code123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105#include&lt;bits/stdc++.h&gt;using namespace std;int n;namespace segtree&#123; const int maxn=4e5+5; int ls[maxn*20],rs[maxn*20],siz[maxn*20]; int rt[maxn],a[maxn],tot,vis[maxn]; void update2(int&amp;u,int l,int r,int pos,int val)&#123; if(u==0) u=++tot,assert(u&lt;maxn*20),ls[u]=rs[u]=siz[u]=0; siz[u]+=val; if(l==r) return; int mid=(l+r)&gt;&gt;1; if(pos&lt;=mid) update2(ls[u],l,mid,pos,val); else update2(rs[u],mid+1,r,pos,val); &#125; void update(int x,int w)&#123;// a[x]=w if(vis[x]==1) update2(rt[a[x]],1,n,x,-1); a[x]=w; vis[x]=1; update2(rt[w],1,n,x,1); &#125; int query2(int u,int l,int r,int ql,int qr)&#123; if(ql&lt;=l&amp;&amp;r&lt;=qr) return siz[u]; int res=0,mid=(l+r)&gt;&gt;1; if(ql&lt;=mid) res+=query2(ls[u],l,mid,ql,qr); if(mid+1&lt;=qr) res+=query2(rs[u],mid+1,r,ql,qr); return res; &#125; int query(int l,int r,int w)&#123;// a[?]=w return query2(rt[w],1,n,l,r); &#125;&#125;const int maxn=1e5+5;int to[maxn&lt;&lt;1],nex[maxn&lt;&lt;1],head[maxn],w[maxn],cnt;void ini()&#123;cnt=-1;for(int i=0;i&lt;=n;i++) head[i]=-1;&#125;void add_edge(int u,int v)&#123;to[++cnt]=v;nex[cnt]=head[u];head[u]=cnt;&#125;int dep[maxn],dad[maxn],siz[maxn],son[maxn],chain[maxn],dfn[maxn];//void dfs1(int u,int father)&#123;//dfs1(1,0) dep[u]=dep[father]+1;//ini because dep[0]=1 dad[u]=father, siz[u]=1, son[u]=-1; for(int i=head[u];~i;i=nex[i])&#123; int v=to[i]; if(v==father)continue; dfs1(v,u); siz[u]+=siz[v]; if(son[u]==-1||siz[son[u]]&lt;siz[v]) son[u]=v; &#125;&#125;void dfs2(int u,int s,int&amp;step)&#123; dfn[u]=++step; chain[u]=s; if(son[u]!=-1) dfs2(son[u],s,step); for(int i=head[u];~i;i=nex[i])&#123; int v=to[i]; if(v!=son[u]&amp;&amp;v!=dad[u]) dfs2(v,v,step); &#125;&#125;int query(int x,int y,int k)&#123; int res=0; while(chain[x]!=chain[y])&#123; if(dep[chain[x]]&lt;dep[chain[y]]) swap(x,y); //dep[chain[x]]&gt;dep[chain[y]] res+=segtree::query(dfn[chain[x]],dfn[x],k);// [å·¦ï¼Œå³ï¼Œå€¼] x=dad[chain[x]]; &#125; if(dep[x]&gt;dep[y]) swap(x,y);// dep[x]&lt;dep[y] return res+segtree::query(dfn[x],dfn[y],k);// [å·¦,å³,å€¼]&#125;vector&lt;int&gt;disc;int getid(int x)&#123;return lower_bound(disc.begin(),disc.end(),x)-disc.begin()+1;&#125;char op[maxn*2];int x[maxn*2],y[maxn*2],z[maxn*2];int main()&#123; int q;scanf(&quot;%d%d&quot;,&amp;n,&amp;q); ini(); for(int i=1;i&lt;=n;i++) scanf(&quot;%d&quot;,&amp;w[i]),disc.push_back(w[i]); for(int i=2;i&lt;=n;i++) &#123; int u,v; scanf(&quot;%d%d&quot;,&amp;u,&amp;v); add_edge(u,v);add_edge(v,u); &#125; for(int i=1;i&lt;=q;i++)&#123; scanf(&quot; %c%d%d&quot;,op+i,x+i,y+i); if(op[i]==&#x27;Q&#x27;) scanf(&quot;%d&quot;,z+i),disc.push_back(z[i]); else disc.push_back(y[i]); &#125; sort(disc.begin(),disc.end()); disc.erase(unique(disc.begin(),disc.end()),disc.end()); int step=0; dfs1(1,0),dfs2(1,0,step); for(int i=1;i&lt;=n;i++) segtree::update(dfn[i],getid(w[i])); for(int i=1;i&lt;=q;i++)&#123; if(op[i]==&#x27;Q&#x27;) &#123; int id=getid(z[i]); printf(&quot;%d\\n&quot;,disc[id-1]==z[i]?query(x[i],y[i],id):0); &#125; else segtree::update(dfn[x[i]],getid(y[i])); &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"bzoj","slug":"ACM/åˆ·é¢˜å®æˆ˜/bzoj","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/bzoj/"}],"tags":[]},{"title":"hdu4578","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu/hdu4578/index","date":"2019-08-11T03:40:09.000Z","updated":"2019-08-11T03:40:09.000Z","comments":true,"path":"PW1ZIX.html","link":"","permalink":"http://fightinggg.github.io/indigo/PW1ZIX.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ###nameTransformation ###descriptionYuanfang is puzzled with the question below:There are n integers, $a_1, a_2, â€¦, a_n$. The initial values of them are 0. There are four kinds of operations.Operation 1: Add c to each number between ax and ay inclusive. In other words, do transformation $a_k&#x3D;a_k+c$, k &#x3D; x,x+1,â€¦,y.Operation 2: Multiply c to each number between ax and ay inclusive. In other words, do transformation $a_k&#x3D;a_kÃ—c$, k &#x3D; x,x+1,â€¦,y.Operation 3: Change the numbers between ax and ay to c, inclusive. In other words, do transformation $a_k&#x3D;c$, k &#x3D; x,x+1,â€¦,y.Operation 4: Get the sum of p power among the numbers between ax and ay inclusive. In other words, get the result of $a_x^p+a_{x+1}^p+â€¦+a_y^p$.Yuanfang has no idea of how to do it. So he wants to ask you to help him. ###inputThere are no more than 10 test cases.For each case, the first line contains two numbers n and m, meaning that there are n integers and m operations. 1 &lt;&#x3D; n, m &lt;&#x3D; 100,000.Each the following m lines contains an operation. Operation 1 to 3 is in this format: â€œ1 x y câ€ or â€œ2 x y câ€ or â€œ3 x y câ€. Operation 4 is in this format: â€œ4 x y pâ€. (1 &lt;&#x3D; x &lt;&#x3D; y &lt;&#x3D; n, 1 &lt;&#x3D; c &lt;&#x3D; 10,000, 1 &lt;&#x3D; p &lt;&#x3D; 3)The input ends with 0 0. ###outputFor each operation 4, output a single integer in one line representing the result. The answer may be quite large. You just need to calculate the remainder of the answer when divided by 10007. ###sample input5 53 3 5 71 2 4 44 1 5 22 2 5 84 3 5 30 0 ###sample output3077489 ###tutorialç»ƒä¹ splayä»£æ›¿çº¿æ®µæ ‘ ###cdoe 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113#include&lt;bits/stdc++.h&gt;using namespace std;const int mod=10007;inline int M(int a,int b)&#123;return 1ll*a*b%mod;&#125;inline int M(int a,int b,int c)&#123;return M(M(a,b),c);&#125;inline int p2(int a)&#123;return M(a,a);&#125;inline int p3(int a)&#123;return M(a,a,a);&#125;inline int A(int a,int b)&#123;a+=b;return a&gt;=mod?a-mod:a;&#125;inline int A(int a,int b,int c)&#123;return A(A(a,b),c);&#125;inline int A(int a,int b,int c,int d)&#123;return A(A(a,b,c),d);&#125;const int N=8e5+3;int c[N][2],f[N],nie=N-1,tot;//æ ‘ç»“æ„,å‡ ä¹ä¸ç”¨åˆå§‹åŒ–int nu[N],w[N],add[N],cov[N],mul[N];//å€¼å’Œæ‡’æƒ°æ ‡è®°ç»“æ„,ä¸€å®šè¦èµ‹åˆå€¼ï¼Œint sz[N],s[N][3];//åŒºé—´ç»“æ„ï¼Œä¸ç”¨èµ‹äºˆåˆå€¼ï¼Œinline void pushup(int u)&#123; sz[u]=sz[c[u][0]]+sz[c[u][1]]+nu[u];// assert(sz[nie]==0); s[u][0]=A(s[c[u][0]][0],s[c[u][1]][0],w[u]); s[u][1]=A(s[c[u][0]][1],s[c[u][1]][1],p2(w[u])); s[u][2]=A(s[c[u][0]][2],s[c[u][1]][2],p3(w[u]));&#125;inline void modify(int u,int _cov,int _mul,int _add)&#123; if(u==nie) return; if(_cov!=-1)&#123; s[u][0]=M(sz[u],_cov); s[u][1]=M(s[u][0],_cov); s[u][2]=M(s[u][1],_cov); cov[u]=_cov,mul[u]=1,add[u]=0;w[u]=_cov; &#125; if(_mul!=1)&#123; s[u][0]=M(s[u][0],_mul); s[u][1]=M(s[u][1],p2(_mul)); s[u][2]=M(s[u][2],p3(_mul)); mul[u]=M(mul[u],_mul); add[u]=M(add[u],_mul); w[u]=M(w[u],_mul); &#125; if(_add!=0)&#123; s[u][2]=A(s[u][2],M(sz[u],p3(_add)),M(3,s[u][0],p2(_add)),M(3,s[u][1],_add)); s[u][1]=A(s[u][1],M(sz[u],p2(_add)),M(2,s[u][0],_add)); s[u][0]=A(s[u][0],M(sz[u],_add)); add[u]=A(add[u],_add); w[u]=A(w[u],_add); &#125;&#125;inline void pushdown(int u)&#123; if(u==nie) return; modify(c[u][0],cov[u],mul[u],add[u]); modify(c[u][1],cov[u],mul[u],add[u]); cov[u]=-1,mul[u]=1,add[u]=0;&#125;inline void rotate(int x)&#123;// rotateåxçš„åŒºé—´å€¼æ˜¯é”™è¯¯çš„ï¼Œéœ€è¦pushup(x) int y=f[x],z=f[y],xis=c[y][1]==x,yis=c[z][1]==y; f[x]=z,f[y]=x,f[c[x][xis^1]]=y;//father c[z][yis]=x,c[y][xis]=c[x][xis^1],c[x][xis^1]=y;//son pushup(y);&#125;inline void splay(int x,int aim)&#123;//ç”±äºrotateåxçš„åŒºé—´å€¼ä¸å¯¹ï¼Œæ‰€ä»¥splayåxçš„åŒºé—´å€¼ä¾æ—§ä¸å¯¹ï¼Œéœ€è¦pushup(x) while(f[x]!=aim)&#123; int y=f[x],z=f[y]; if(z!=aim) (c[y][0]==x)^(c[z][0]==y)?rotate(x):rotate(y);// åŒä¸€ä¸ªå„¿å­å…ˆæ—‹è½¬y rotate(x); &#125;&#125;inline int id(int x,int u=c[nie][0])&#123; // æŸ¥è¯¢æ’åä¸ºxçš„æ•°çš„èŠ‚ç‚¹ä¸‹æ ‡ nä¸ªæ•° [1,n] while(true)&#123; pushdown(u); if(sz[c[u][0]]&gt;=x) u=c[u][0]; else if(sz[c[u][0]]+nu[u]&lt;x) x-=sz[c[u][0]]+nu[u],u=c[u][1]; else return u; &#125;&#125;int build(int father,int l,int r)&#123;// æŠŠåŒºé—´l,rå»ºæ ‘ï¼Œè¿”å›æ ¹(l+r)&gt;&gt;1 int u=(l+r)&gt;&gt;1; f[u]=father; c[u][0]=l&lt;=u-1?build(u,l,u-1):nie; c[u][1]=r&gt;=u+1?build(u,u+1,r):nie; pushup(u); return u;&#125;//ç©¶æè¯»å…¥æŒ‚inline char nc()&#123; static char buf[100000],*p1=buf,*p2=buf; return p1==p2&amp;&amp;(p2=(p1=buf)+fread(buf,1,100000,stdin),p1==p2)?EOF:*p1++;&#125;inline int read()&#123; char ch=nc();int sum=0; while(!(ch&gt;=&#x27;0&#x27;&amp;&amp;ch&lt;=&#x27;9&#x27;))ch=nc(); while(ch&gt;=&#x27;0&#x27;&amp;&amp;ch&lt;=&#x27;9&#x27;)sum=sum*10+ch-48,ch=nc(); return sum;&#125;int main()&#123; while(true)&#123; int n=read(),m=read(); for(int i=0;i&lt;=n+1;i++) w[i]=0,nu[i]=1,cov[i]=-1,mul[i]=1,add[i]=0;// åˆå§‹åŒ–èŠ‚ç‚¹ä¿¡æ¯ ,æˆ‘ä»¬ç»´æŠ¤é¢å¤–ä¸¤ä¸ªç‚¹çš„ä¿¡æ¯ c[nie][1]=f[nie]=nie,c[nie][0]=build(nie,0,n+1); if(n==0&amp;&amp;m==0) break; for(int i=0;i&lt;m;i++)&#123; int op=read(),x=id(1+read()-1),y=id(1+read()+1),p=read(); splay(x,nie), splay(y,x); switch(op)&#123; case 1:modify(c[y][0],-1,1,p);break;// add case 2:modify(c[y][0],-1,p,0);break;// mulity case 3:modify(c[y][0],p,1,0);break;// cover case 4:printf(&quot;%d\\n&quot;,s[c[y][0]][p-1]);break; &#125; pushup(y), pushup(x); &#125; &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"hdu","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/hdu/"}],"tags":[]},{"title":"uoj119","slug":"ACM/åˆ·é¢˜å®æˆ˜/uoj/uoj119/index","date":"2019-08-09T14:34:28.000Z","updated":"2019-08-09T14:34:28.000Z","comments":true,"path":"PVZ4HG.html","link":"","permalink":"http://fightinggg.github.io/indigo/PVZ4HG.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ###nameå†³æˆ˜åœ†é”¥æ›²çº¿ ###descirptionæ•°å­¦è€ƒè¯•ï¼Œä¸€é“åœ†é”¥æ›²çº¿çš„é¢˜éš¾ä½äº†ä½ ï¼Œä½ å¼€å§‹ç–¯ç‹‚åœ°ç¬”ç®—ã€‚ä½†æ˜¯ï¼Œè¿™é¢˜å®åœ¨å¤ªéš¾ï¼Œäºæ˜¯ä½ å†³å®šæ¯ç§æ€è·¯å¤šå°è¯•å°è¯•ã€‚ ä½ çš„æ€ç»´è¿‡ç¨‹å¯ä»¥è½¬åŒ–ä¸ºå¦‚ä¸‹è¿‡ç¨‹ï¼šæœ‰ä¸€ä¸ªéšæœºæ•°äº§ç”Ÿå™¨ï¼Œæœ‰ä¸ªå†…éƒ¨å˜é‡ x åˆå§‹æ—¶ä¸º x0ï¼Œæ¯æ¬¡äº§ç”Ÿéšæœºæ•°æ—¶å®ƒä¼šå°† x å˜ä¸º (100000005x+20150609)mod998244353ï¼Œç„¶åè¿”å› âŒŠx100âŒ‹ã€‚ï¼ˆamodb è¡¨ç¤º a é™¤ä»¥ bçš„ä½™æ•°ï¼Œè¯¥è¿ç®—çš„ä¼˜å…ˆçº§é«˜äºåŠ å‡æ³•ã€‚âŒŠÎ±âŒ‹è¡¨ç¤º Î±å‘ä¸‹å–æ•´åçš„ç»“æœã€‚ï¼‰åˆå§‹æ—¶æœ‰ nä¸ªç‚¹ï¼Œåˆ†åˆ«ç¼–å·ä¸º 1,â€¦,nï¼ŒæŒ‰ç¼–å·ä»å°åˆ°å¤§é¡ºåºç”Ÿæˆç¬¬ iä¸ªç‚¹çš„åæ ‡ï¼šæŠŠæ¨ªåæ ‡èµ‹ä¸º iã€‚äº§ç”Ÿä¸€ä¸ªéšæœºæ•° y^ï¼ŒæŠŠçºµåæ ‡èµ‹ä¸º y^mod100001ã€‚æœ‰ mä¸ªæ“ä½œï¼Œè¡¨ç¤ºä½ çš„æ€è·¯è¿‡ç¨‹ã€‚æ“ä½œå…±æœ‰ä¸‰ç§ï¼šCï¼šæŒ‰é¡ºåºäº§ç”Ÿéšæœºæ•° p^,y^ï¼Œä»¤ p&#x3D;p^modn+1,y&#x3D;y^mod100001ï¼Œç„¶åæŠŠç¬¬ p ä¸ªç‚¹çš„çºµåæ ‡ä¿®æ”¹ä¸º yã€‚Rï¼šæŒ‰é¡ºåºäº§ç”Ÿéšæœºæ•° p^,q^ï¼Œä»¤ p&#x3D;min{p^modn+1,q^modn+1},q&#x3D;max{p^modn+1,q^modn+1}ï¼ŒæŠŠç¼–å·å¤§äºç­‰äº p å°äºç­‰äº qçš„ç‚¹çš„çºµåæ ‡ yæ”¹ä¸º 100000âˆ’yã€‚Q a b cï¼šæŸ¥è¯¢æ“ä½œã€‚æŒ‰é¡ºåºäº§ç”Ÿéšæœºæ•° p^,q^ï¼Œä»¤ p&#x3D;min{p^modn+1,q^modn+1},q&#x3D;max{p^modn+1,q^modn+1}ï¼Œæ±‚æœ€å°çš„æ•´æ•° tä½¿å¾—ï¼šå¯¹äºæ‰€æœ‰ç¼–å·å¤§äºç­‰äº på°äºç­‰äº qçš„ç‚¹ (x,y)éƒ½æ»¡è¶³ ax+by+cxyâ‰¤tã€‚ï¼ˆa,b,cå‡ä¸ºéè´Ÿæ•´æ•°ï¼‰ ###inputç¬¬ä¸€è¡Œä¸‰ä¸ªæ•´æ•° n,m,x0ã€‚ä¿è¯ n,mâ‰¥1ï¼Œ0â‰¤x0&lt;998244353 ä¸” x0â‰ 340787122ã€‚æ¥ä¸‹æ¥ mè¡Œï¼Œæ¯è¡Œè¡¨ç¤ºä¸€ä¸ªæ“ä½œï¼Œæ ¼å¼å¦‚å‰æ‰€è¿°ã€‚ ###outputå¯¹äºæ¯ä¸ªæŸ¥è¯¢æ“ä½œè¾“å‡ºä¸€ä¸ªæ•´æ•°è¡¨ç¤ºæœ€å°çš„ tã€‚ ###sample input3 3 2705443CRQ 872784 195599 7 ###sample output13035048532 ###hintæœ€å¼€å§‹ä¸‰ä¸ªç‚¹çš„åæ ‡åˆ†åˆ«æ˜¯ (1,91263),(2,33372),(3,10601)ã€‚ç¬¬ä¸€ä¸ªæ“ä½œæŠŠç¬¬ä¸‰ä¸ªç‚¹çš„åæ ‡æ”¹æˆäº† (3,94317)ã€‚ç¬¬äºŒä¸ªæ“ä½œä¿®æ”¹äº†åŒºé—´ [2,3]ï¼Œç¬¬äºŒä¸ªç‚¹å˜æˆäº† (2,66628)ï¼Œç¬¬ä¸‰ä¸ªç‚¹å˜æˆäº† (3,5683)ã€‚æœ€åä¸€ä¸ªæ“ä½œè¯¢é—®åŒºé—´ [2,3]ï¼Œå¯ä»¥å‘ç°æœ€å°çš„ t æ˜¯ 13035048532ã€‚ ###totuirialå¯¹äº$x_i&lt;x_j$ä¸”$y_i&lt;y_j$æ˜¾ç„¶iä¸å¯èƒ½æ˜¯ç­”æ¡ˆï¼Œæ®æ­¤åˆ†æï¼Œæ¯æ¬¡å–å‡ºyæœ€å¤§çš„ç‚¹ï¼Œç„¶åå°±ä¸ç”¨è€ƒè™‘å·¦è¾¹çš„åŒºé—´äº†ï¼Œé€’å½’ä¸‹å»ï¼Œå¤æ‚åº¦$nlogn^2$ åœ¨çº¿æ®µæ ‘ä¸Šå¯å‘å¼æŸ¥è¯¢å³å¯ ###code 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111#include&lt;bits/stdc++.h&gt;using namespace std;#define ml ((l+r)&gt;&gt;1)#define mr (ml+1)const int maxn=1e5+5;int ls[maxn&lt;&lt;1],rs[maxn&lt;&lt;1],rev[maxn&lt;&lt;1],mx[maxn&lt;&lt;1],mi[maxn&lt;&lt;1],a[maxn],tot;void pushup(int&amp;u)&#123; mx[u]=max(mx[ls[u]],mx[rs[u]]); mi[u]=min(mi[ls[u]],mi[rs[u]]);&#125;void pushdown(int&amp;u)&#123; if(rev[u])&#123; swap(mx[ls[u]],mi[ls[u]]); mx[ls[u]]=1e5-mx[ls[u]]; mi[ls[u]]=1e5-mi[ls[u]]; rev[ls[u]]^=1; swap(mx[rs[u]],mi[rs[u]]); mx[rs[u]]=1e5-mx[rs[u]]; mi[rs[u]]=1e5-mi[rs[u]]; rev[rs[u]]^=1; rev[u]=0; &#125;&#125;void build(int&amp;u,int l,int r)&#123; u=++tot; rev[u]=0; if(l==r)&#123;mx[u]=mi[u]=a[l];return;&#125; build(ls[u],l,ml); build(rs[u],mr,r); pushup(u);&#125;void update1(int&amp;u,int l,int r,int q,int d)&#123; if(l==r)&#123;mx[u]=mi[u]=d;return;&#125; pushdown(u); if(q&lt;=ml)update1(ls[u],l,ml,q,d); if(q&gt;=mr)update1(rs[u],mr,r,q,d); pushup(u);&#125;void update2(int&amp;u,int l,int r,int ql,int qr)&#123; if(ql&lt;=l&amp;&amp;r&lt;=qr)&#123; rev[u]^=1; swap(mx[u],mi[u]); mx[u]=1e5-mx[u]; mi[u]=1e5-mi[u]; return; &#125; pushdown(u); if(ql&lt;=ml) update2(ls[u],l,ml,ql,qr); if(mr&lt;=qr) update2(rs[u],mr,r,ql,qr); pushup(u);&#125;int A,B,C;long long f(int x,int y)&#123;return 1ll*x*A+1ll*y*B+1ll*x*y*C;&#125;long long query(int&amp;u,int l,int r,int ql,int qr)&#123; if(mx[u]==mi[u]) return f(r,mx[u]); pushdown(u); if(qr&lt;=ml) return query(ls[u],l,ml,ql,qr); else if(ql&gt;=mr) return query(rs[u],mr,r,ql,qr); else &#123; long long f1=f(ml,mx[ls[u]]),f2=f(r,mx[rs[u]]); long long res=0; if(f1&gt;f2)&#123; res=query(ls[u],l,ml,ql,qr); if(f2&gt;res) res=max(res,query(rs[u],mr,r,ql,qr)); &#125; else&#123; res=query(rs[u],mr,r,ql,qr); if(f1&gt;res) res=max(res,query(ls[u],l,ml,ql,qr)); &#125; return res; &#125;&#125;int x;int read()&#123; x=(100000005ll*x+20150609)%998244353; return x/100;&#125;int main()&#123; int n,m; scanf(&quot;%d%d%d&quot;,&amp;n,&amp;m,&amp;x); for(int i=1;i&lt;=n;i++) a[i]=read()%100001; char s[10]; int rt; build(rt,1,n); while(m--)&#123; scanf(&quot;%s&quot;,s); if(s[0]==&#x27;C&#x27;)&#123; int p=read()%n+1; int y=read()%100001; update1(rt,1,n,p,y); &#125; else if(s[0]==&#x27;R&#x27;)&#123; int p=read()%n+1; int q=read()%n+1; if(p&gt;q) swap(p,q); update2(rt,1,n,p,q); &#125; else&#123; scanf(&quot;%d%d%d&quot;,&amp;A,&amp;B,&amp;C); int p=read()%n+1; int q=read()%n+1; if(p&gt;q) swap(p,q); printf(&quot;%lld\\n&quot;,query(rt,1,n,p,q)); &#125; &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"uoj","slug":"ACM/åˆ·é¢˜å®æˆ˜/uoj","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/uoj/"}],"tags":[]},{"title":"P4121[wc2005]","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ´›è°·/P4121[wc2005]/index","date":"2019-08-09T11:23:22.000Z","updated":"2019-08-09T11:23:22.000Z","comments":true,"path":"PVYVMY.html","link":"","permalink":"http://fightinggg.github.io/indigo/PVYVMY.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ###nameåŒé¢æ£‹ç›˜ ###descirptionä½³ä½³æœ‰ä¸€ä¸ª n è¡Œ n åˆ—çš„é»‘ç™½æ£‹ç›˜ï¼Œæ¯ä¸ªæ ¼å­éƒ½æœ‰ä¸¤é¢ï¼Œä¸€é¢ç™½è‰²ï¼Œä¸€é¢é»‘è‰²ã€‚ä½³ä½³æŠŠæ£‹ç›˜å¹³æ”¾åœ¨æ¡Œå­ä¸Šï¼Œå› æ­¤æ¯ä¸ªæ ¼å­æ°å¥½ä¸€é¢æœä¸Šï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼šæˆ‘ä»¬æŠŠæ¯è¡Œä»ä¸Šåˆ°ä¸‹ç¼–å·ä¸º 1ï¼Œ2ï¼Œ3ï¼Œâ€¦â€¦ï¼Œnï¼Œå„åˆ—ä»å·¦åˆ°å³ç¼–å·ä¸º 1ï¼Œ2ï¼Œ3ï¼Œâ€¦â€¦ï¼Œnï¼Œåˆ™æ¯ä¸ªæ ¼å­å¯ä»¥ç”¨æ£‹ç›˜åæ ‡(x,y)è¡¨ç¤ºã€‚åœ¨ä¸Šå›¾ä¸­ï¼Œæœ‰8ä¸ªæ ¼å­é»‘è‰²æœä¸Šï¼Œå¦å¤–17 ä¸ªæ ¼å­ç™½è‰²æœä¸Šã€‚å¦‚æœä¸¤ä¸ªåŒè‰²æ ¼å­æœ‰ä¸€æ¡å…¬å…±è¾¹ï¼Œæˆ‘ä»¬ç§°è¿™ä¸¤ä¸ªåŒè‰²æ ¼å­å±äºåŒä¸€ä¸ªè¿é€šå—ã€‚ä¸Šå›¾å…±æœ‰ 5 ä¸ªé»‘è‰²è¿é€šå—å’Œ 3 ä¸ªç™½è‰²è¿é€šå—ã€‚ä½³ä½³å¯ä»¥æ¯åˆ†é’Ÿå°†ä¸€ä¸ªæ ¼å­ç¿»è½¬ï¼ˆå³ç™½è‰²å˜æˆé»‘è‰²ï¼Œé»‘è‰²å˜æˆç™½è‰²ï¼‰ï¼Œç„¶åè®¡ç®—å½“å‰æœ‰å¤šå°‘ä¸ªé»‘è‰²è¿é€šå—å’Œç™½è‰²è¿é€šå—ï¼Œä½ èƒ½ç®—å¾—æ›´å¿«å—ï¼Ÿ ###inputè¾“å…¥æ–‡ä»¶çš„ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ­£æ•´æ•° nï¼Œä¸ºæ ¼å­çš„è¾¹é•¿ã€‚ä»¥ä¸‹ n è¡Œæ¯è¡Œ n ä¸ªæ•´æ•°ï¼Œé 0 å³ 1ï¼Œè¡¨ç¤ºåˆå§‹çŠ¶æ€ã€‚0 è¡¨ç¤ºç™½è‰²ï¼Œ1 è¡¨ç¤ºé»‘è‰²ã€‚ä¸‹ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•° mï¼Œè¡¨ç¤ºæ“ä½œçš„æ•°ç›®ã€‚ä»¥ä¸‹ m è¡Œæ¯è¡Œä¸¤ä¸ªæ•´æ•° x, y (1 â‰¤ x, y â‰¤ n)ï¼Œè¡¨ç¤ºæŠŠåæ ‡ä¸º(x,y)çš„æ ¼å­ç¿»è½¬ã€‚ ###outputè¾“å‡ºæ–‡ä»¶åŒ…å« m è¡Œï¼Œæ¯è¡Œå¯¹åº”ä¸€ä¸ªæ“ä½œã€‚è¯¥è¡ŒåŒ…æ‹¬ä¸¤ä¸ªæ•´æ•° b, wï¼Œè¡¨ç¤ºé»‘è‰²åŒºåŸŸå’Œç™½è‰²åŒºåŸŸæ•°ç›®ã€‚ ###sample input50 1 0 0 00 1 1 1 01 0 0 0 10 0 1 0 01 0 0 0 023 22 3 ###sample out4 35 2 ###hintâ—‹1 â‰¤ n â‰¤ 200â—‹1 â‰¤ m â‰¤ 10,000 ###toturialç”¨çº¿æ®µæ ‘ç»´æŠ¤å¹¶æŸ¥é›†ï¼Œæ¯ä¸ªèŠ‚ç‚¹ç»´æŠ¤ä¸¤ä¸ªå¹¶æŸ¥é›†ï¼Œæœ€ä¸Šé¢çš„ä¸€è¡Œå’Œæœ€ä¸‹é¢çš„ä¸€è¡Œï¼Œåˆå¹¶çš„æ—¶å€™æ ¹æ®å››ä¸ªå¹¶æŸ¥é›†æ¥ç»´æŠ¤å³å¯ï¼Œæ³¨æ„å¹¶æŸ¥é›†çš„åˆå¹¶æ“ä½œè¦ä»”ç»†å³å¯ã€‚ ###code 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182#include&lt;bits/stdc++.h&gt;using namespace std;#define rep(i,j,k) for(int i=(j);i&lt;=(k);i++)struct DSU&#123; int f[810]; inline void ini(int n)&#123;rep(i,1,n)f[i]=i;&#125; inline int find(int x)&#123;return x==f[x]?x:f[x]=find(f[x]);&#125; inline void join(int x,int y)&#123;f[find(x)]=find(y);&#125;&#125;;int mp[222][222];#define ml ((l+r)&gt;&gt;1)#define mr (ml+1)int ls[210*2],rs[210*2],tot,n;struct treenode&#123; DSU d; int sz[2];&#125;tr[210*2];void build(treenode&amp;res,int*a)&#123; res.d.ini(n+n); rep(i,2,n) if(a[i]==a[i-1]) res.d.join(i,i-1),res.d.join(n+i,n+i-1); rep(i,1,n) res.d.join(i+n,i); res.sz[0]=res.sz[1]=0; static int vis[220]; rep(i,1,n) vis[i]=0; rep(i,1,n) if(!vis[res.d.find(i)]) res.sz[a[i]]++,vis[res.d.find(i)]=1;&#125;void merge(treenode&amp;a,treenode&amp;b,int c1,int c2)&#123; a.sz[0]=a.sz[0]+b.sz[0]; a.sz[1]=a.sz[1]+b.sz[1]; rep(i,1,2*n) a.d.f[i+2*n]=b.d.f[i]+2*n; DSU&amp;dsu=a.d; rep(i,1,n) if(mp[c1][i]==mp[c2][i])&#123; if(dsu.find(i+n)!=dsu.find(i+2*n))&#123; dsu.join(i+n,i+2*n); a.sz[mp[c1][i]]--; &#125; &#125; rep(i,1,n) if(dsu.find(i)&gt;n&amp;&amp;dsu.find(i)&lt;=3*n) dsu.f[dsu.find(i)]=i,dsu.f[i]=i; rep(i,3*n+1,4*n) if(dsu.find(i)&gt;n&amp;&amp;dsu.find(i)&lt;=3*n) dsu.f[dsu.find(i)]=i,dsu.f[i]=i; rep(i,3*n+1,4*n) dsu.f[i-2*n]=dsu.f[i]&gt;n?dsu.f[i]-2*n:dsu.f[i];&#125;void build(int&amp;u,int l,int r)&#123; u=++tot; if(l==r)&#123; build(tr[u],mp[l]); return; &#125; build(ls[u],l,ml); build(rs[u],mr,r); tr[u]=tr[ls[u]]; merge(tr[u],tr[rs[u]],ml,mr);&#125;void update(int&amp;u,int l,int r,int q)&#123; if(l==r)&#123; build(tr[u],mp[l]); return; &#125; if(q&lt;=ml) update(ls[u],l,ml,q); else update(rs[u],mr,r,q); tr[u]=tr[ls[u]]; merge(tr[u],tr[rs[u]],ml,mr);&#125;int main()&#123; scanf(&quot;%d&quot;,&amp;n); rep(i,1,n)rep(j,1,n) scanf(&quot;%d&quot;,&amp;mp[i][j]); int rt; build(rt,1,n); int m;scanf(&quot;%d&quot;,&amp;m); while(m--)&#123; int x,y;scanf(&quot;%d%d&quot;,&amp;x,&amp;y); mp[x][y]^=1; update(rt,1,n,x); printf(&quot;%d %d\\n&quot;,tr[1].sz[1],tr[1].sz[0]); &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"æ´›è°·","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ´›è°·","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/%E6%B4%9B%E8%B0%B7/"}],"tags":[]},{"title":"Codeforces Round #172 (Div. 1) - D","slug":"ACM/åˆ·é¢˜å®æˆ˜/CodeForces/Codeforces Round #172 (Div. 1) - D/index","date":"2019-08-09T09:15:19.000Z","updated":"2019-08-09T09:15:19.000Z","comments":true,"path":"PVYPPJ.html","link":"","permalink":"http://fightinggg.github.io/indigo/PVYPPJ.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial namek-Maximum Subsequence Sum descirptiontime limit per test 4 secondsmemory limit per test 256 megabytesConsider integer sequence $a_1, a_2, â€¦, a_n$. You should run queries of two types:The query format is â€œ0 i valâ€. In reply to this query you should make the following assignment: $a_i$ &#x3D; val.The query format is â€œ1 l r kâ€. In reply to this query you should print the maximum sum of at most k non-intersecting subsegments of sequence $a_l, a_{l + 1}, â€¦, a_r$. Formally, you should choose at most k pairs of integers $(x_1, y_1), (x_2, y_2), â€¦, (x_t, y_t) (l â‰¤ x_1 â‰¤ y_1 &lt; x_2 â‰¤ y_2 &lt; â€¦ &lt; x_t â‰¤ y_t â‰¤ r; t â‰¤ k)$ such that the sum $a_{x_1} + a_{x_1 + 1} + â€¦ + a_{y_1} + a_{x_2} + a_{x_2 + 1} + â€¦ + a_{y_2} + â€¦ + a_{x_t} + a_{x_t + 1} + â€¦ + a_{y_t}$ is as large as possible. Note that you should choose at most k subsegments. Particularly, you can choose 0 subsegments. In this case the described sum considered equal to zero inputThe first line contains integer $n (1 â‰¤ n â‰¤ 10^5)$, showing how many numbers the sequence has. The next line contains n integers a1, a2, â€¦, an (|ai| â‰¤ 500).The third line contains integer $m (1 â‰¤ m â‰¤ 10^5)$ â€” the number of queries. The next m lines contain the queries in the format, given in the statement.All changing queries fit into limits: 1 â‰¤ i â‰¤ n, |val| â‰¤ 500.All queries to count the maximum sum of at most k non-intersecting subsegments fit into limits: 1 â‰¤ l â‰¤ r â‰¤ n, 1 â‰¤ k â‰¤ 20. It is guaranteed that the number of the queries to count the maximum sum of at most k non-intersecting subsegments doesnâ€™t exceed 10000. outputFor each query to count the maximum sum of at most k non-intersecting subsegments print the reply â€” the maximum sum. Print the answers to the queries in the order, in which the queries follow in the input. sample input12345699 -8 9 -1 -1 -1 9 -8 931 1 9 11 1 9 21 4 6 3 sample output12317250 sample input12345678910111213141516171815-4 8 -3 -10 10 4 -7 -7 0 -6 3 8 -10 7 2151 3 9 21 6 12 10 6 50 10 -71 4 9 11 7 9 10 10 -31 4 10 21 3 13 21 4 11 20 15 -90 13 -90 11 -101 5 14 21 6 12 1 sample output1234567891411150152618238 hintIn the first query of the first example you can select a single pair (1, 9). So the described sum will be 17. Look at the second query of the first example. How to choose two subsegments? (1, 3) and (7, 9)? Definitely not, the sum we could get from (1, 3) and (7, 9) is 20, against the optimal configuration (1, 7) and (9, 9) with 25. The answer to the third query is 0, we prefer select nothing if all of the numbers in the given interval are negative. toturialå…ˆè€ƒè™‘k&#x3D;1çš„æƒ…å†µ, æˆ‘ä¹ˆä½ å¯ä»¥ç›´æ¥ç”¨çº¿æ®µæ ‘æ¥ç»´æŠ¤ï¼Œè¿™æ˜¯ä¸€ä¸ªç»å…¸é—®é¢˜ï¼Œä½†æ˜¯å½“k&gt;1çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·æ¥åšï¼Œæˆ‘ä»¬åškæ¬¡ä¸‹è¯‰æ“ä½œï¼Œå–å‡ºæœ€å¤§å­—æ®µå’Œï¼Œç„¶åå°†è¿™ä¸€æ®µæ•°ä¹˜ä»¥-1ï¼Œç›´åˆ°æœ€å¤§å­—æ®µå’Œä¸ºè´Ÿæˆ–è€…æ‰§è¡Œäº†kæ¬¡æ“ä½œï¼Œå¦‚æ­¤æˆ‘ä»¬å°±èƒ½å¾—åˆ°æœ€å¤§kå­—æ®µå’Œã€‚æ­£ç¡®æ€§å¯ä»¥ç”¨è´¹ç”¨æµæ¥è¯æ˜ã€‚ code123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161#include&lt;bits/stdc++.h&gt;using namespace std;#define rep(i,j,k) for(int i=(j);i&lt;=(k);i++)#define ml ((l+r)&gt;&gt;1)#define mr (ml+1)inline void swap2(int&amp;a,int&amp;b)&#123;a*=-1;b*=-1;swap(a,b);&#125;struct sub&#123; int maxl,maxlat; int minl,minlat; int maxr,maxrat; int minr,minrat; int maxv,maxvlat,maxvrat; int minv,minvlat,minvrat; int sum,l,r; void mul(int val)&#123; if(val==-1)&#123; swap2(maxl,minl); swap2(maxr,minr); swap2(maxv,minv); swap(maxlat,minlat); swap(maxrat,minrat); swap(maxvlat,minvlat); swap(maxvrat,minvrat); sum*=-1; &#125; &#125; void cov(int val)&#123; if(val&gt;0)&#123; maxl=maxr=maxv=sum=val*(r-l+1); maxlat=maxvrat=r; maxrat=maxvlat=l; minl=minr=minv=0; &#125; else&#123; minl=minr=minv=sum=val*(r-l+1); minlat=minvrat=r; minrat=minvlat=l; maxl=maxr=maxv=0; &#125; &#125;&#125;;inline sub merge(const sub&amp;a,const sub&amp;b)&#123; if(a.l&gt;a.r) return b; sub res=a; res.maxr=b.maxr; res.minr=b.minr; res.maxrat=b.maxrat; res.minrat=b.minrat; if(res.maxl&lt;a.sum+b.maxl) res.maxl=a.sum+b.maxl,res.maxlat=b.maxlat; if(res.minl&gt;a.sum+b.minl) res.minl=a.sum+b.minl,res.minlat=b.minlat; if(res.maxr&lt;b.sum+a.maxr) res.maxr=b.sum+a.maxr,res.maxrat=a.maxrat; if(res.minr&gt;b.sum+a.minr) res.minr=b.sum+a.minr,res.minrat=a.minrat; if(res.maxv&lt;b.maxv) res.maxv=b.maxv,res.maxvlat=b.maxvlat,res.maxvrat=b.maxvrat; if(res.maxv&lt;a.maxr+b.maxl) res.maxv=a.maxr+b.maxl,res.maxvlat=a.maxrat,res.maxvrat=b.maxlat; if(res.minv&gt;b.minv) res.minv=b.minv,res.minvlat=b.minvlat,res.minvrat=b.minvrat; if(res.minv&gt;a.minr+b.minl) res.minv=a.minr+b.minl,res.minvlat=a.minrat,res.minvrat=b.minlat; res.sum=a.sum+b.sum, res.l=a.l, res.r=b.r; return res;&#125;const int maxn=1e5+5;int ls[maxn*2],rs[maxn*2],cov[maxn*2],mul[maxn*2],a[maxn],tot;sub s[maxn*2];void pushup(int&amp;u)&#123;s[u]=merge(s[ls[u]],s[rs[u]]);&#125;void pushdown(int&amp;u,int l,int r)&#123; if(cov[u]&lt;2e9)&#123; cov[ls[u]]=cov[rs[u]]=cov[u]; mul[ls[u]]=mul[rs[u]]=1; s[ls[u]].cov(cov[u]); s[rs[u]].cov(cov[u]); cov[u]=2e9; &#125; if(mul[u]==-1) &#123; mul[ls[u]]*=mul[u]; mul[rs[u]]*=mul[u]; s[ls[u]].mul(mul[u]); s[rs[u]].mul(mul[u]); mul[u]=1; &#125;&#125;void build(int&amp;u,int l,int r)&#123; u=++tot; cov[u]=2e9; mul[u]=1; s[u].l=l; s[u].r=r; if(l==r)&#123; s[u].cov(a[l]); return; &#125; build(ls[u],l,ml);// ls[u] build(rs[u],mr,r);// rs[u] pushup(u);// s[u]&#125;void update(int&amp;u,int l,int r,int ql,int qr,int d,int flag)&#123; if(ql&lt;=l&amp;&amp;r&lt;=qr)&#123; if(flag==0) &#123;//cover cov[u]=d; mul[u]=1; s[u].cov(d); &#125; else&#123;// multi mul[u]*=d; s[u].mul(d); &#125; return; &#125; pushdown(u,l,r); if(ql&lt;=ml) update(ls[u],l,ml,ql,qr,d,flag); if(mr&lt;=qr) update(rs[u],mr,r,ql,qr,d,flag); pushup(u);&#125;sub query(int&amp;u,int l,int r,int ql,int qr)&#123; if(ql&lt;=l&amp;&amp;r&lt;=qr) return s[u]; pushdown(u,l,r); sub res; res.l=res.r+1; if(ql&lt;=ml) res=merge(res,query(ls[u],l,ml,ql,qr)); if(mr&lt;=qr) res=merge(res,query(rs[u],mr,r,ql,qr)); return res;&#125;int main()&#123; int n;scanf(&quot;%d&quot;,&amp;n); rep(i,1,n) scanf(&quot;%d&quot;,&amp;a[i]); tot=0; int rt; build(rt,1,n); int m;scanf(&quot;%d&quot;,&amp;m); int op,i,val,l,r,k; while(m--)&#123; scanf(&quot;%d&quot;,&amp;op); if(op==0)&#123; scanf(&quot;%d%d&quot;,&amp;i,&amp;val); update(rt,1,n,i,i,val,0); &#125; if(op==1)&#123; scanf(&quot;%d%d%d&quot;,&amp;l,&amp;r,&amp;k); int ans=0; vector&lt;int&gt;L,R; while(k--)&#123; sub res=query(rt,1,n,l,r); if(res.maxv&lt;=0) break; ans+=res.maxv; L.push_back(res.maxvlat); R.push_back(res.maxvrat); update(rt,1,n,L.back(),R.back(),-1,1); &#125; while(!L.empty())&#123; update(rt,1,n,L.back(),R.back(),-1,1); L.pop_back();R.pop_back(); &#125; printf(&quot;%d\\n&quot;,ans); &#125; &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"CodeForces","slug":"ACM/åˆ·é¢˜å®æˆ˜/CodeForces","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/CodeForces/"}],"tags":[]},{"title":"Codeforces Round ##FF (Div. 1) - C","slug":"ACM/åˆ·é¢˜å®æˆ˜/CodeForces/Codeforces Round ##FF (Div. 1) - C/index","date":"2019-08-09T05:34:52.000Z","updated":"2019-08-09T05:34:52.000Z","comments":true,"path":"PVYFI4.html","link":"","permalink":"http://fightinggg.github.io/indigo/PVYFI4.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial nameDZY Loves Fibonacci Numbers discriptiontime limit per test:4 secondsmemory limit per test:256 megabytesIn mathematical terms, the sequence $F_n$ of Fibonacci numbers is defined by the recurrence relation $F_1 &#x3D; 1; F_2 &#x3D; 1; F_n &#x3D; F_{n - 1} + F_{n - 2} (n &gt; 2)$.DZY loves Fibonacci numbers very much. Today DZY gives you an array consisting of n integers: $a_1, a_2, â€¦, a_n$. Moreover, there are m queries, each query has one of the two types: Format of the query â€œ1 l râ€. In reply to the query, you need to add $F_{i - l + 1}$ to each element ai, where l â‰¤ i â‰¤ r.Format of the query â€œ2 l râ€. In reply to the query you should output the value of modulo 1000000009 (10^9 + 9).Help DZY reply to all the queries. inputThe first line of the input contains two integers n and m (1 â‰¤ n, m â‰¤ 300000). The second line contains n integers $a_1, a_2, â€¦, a_n (1 â‰¤ a_i â‰¤ 10^9)$ â€” initial array a. Then, m lines follow. A single line describes a single query in the format given in the statement. It is guaranteed that for each query inequality 1 â‰¤ l â‰¤ r â‰¤ n holds. outputFor each query of the second type, print the value of the sum on a single line. sample input4 41 2 3 41 1 42 1 41 2 42 1 3 sample output1712 hintAfter the first query, a &#x3D; [2, 3, 5, 7].For the second query, sum &#x3D; 2 + 3 + 5 + 7 &#x3D; 17.After the third query, a &#x3D; [2, 4, 6, 9].For the fourth query, sum &#x3D; 2 + 4 + 6 &#x3D; 12. toturialæ–æ³¢é‚£å¥‘æ•°åˆ—åœ¨æ¨¡$10^9+7$çš„æ—¶å€™,å¯ä»¥å†™æˆè¿™æ ·çš„å½¢å¼ $F_n&#x3D;276601605(691504013^n âˆ’ 308495997^n)$å› ä¸º5æ˜¯ä¸€ä¸ªäºŒæ¬¡å‰©ä½™ï¼Œäºæ˜¯é¢˜ç›®å°±è½¬åŒ–ä¸ºäº†åŒºé—´åŠ ä¸Šç­‰æ¯”æ•°åˆ—ï¼ŒåŒºé—´å’ŒæŸ¥è¯¢äº†ï¼ŒåŠ ç­‰æ¯”æ•°åˆ—æˆ‘ä»¬å¯ä»¥ç›´æ¥è®°å½•é¦–é¡¹ç„¶ååˆå¹¶æ‡’æƒ°æ ‡è®°,æ³¨æ„é¢„å¤„ç†å¿«é€Ÿå¹‚å°±èƒ½è¿‡äº†ã€‚ code123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104#include&lt;bits/stdc++.h&gt;using namespace std;#define rep(i,j,k) for(int i=(j);i&lt;=(k);i++)const int mod=1e9+9,mul=276601605,b0=691504013,b1=308495997;const int maxn=3e5+55;int qp[2][maxn];void qpowini()&#123; qp[0][0]=qp[1][0]=1; int b[2]=&#123;b0,b1&#125;; rep(i,0,1)rep(j,1,maxn-1) qp[i][j]=1ll*qp[i][j-1]*b[i]%mod;&#125;int qpow(int a,int b)&#123; if(b&gt;=maxn)&#123; int res=1; while(b)&#123; if(b&amp;1) res=1ll*res*a%mod; a=1ll*a*a%mod; b&gt;&gt;=1; &#125; return res; &#125; if(a==b0) return qp[0][b]; if(a==b1) return qp[1][b]; assert(false);&#125;int fenmu0=qpow((1-b0+mod)%mod,mod-2);int fenmu1=qpow((1-b1+mod)%mod,mod-2);int f0(int a1,int n)&#123; int fenzi=1ll*a1*(1-qpow(b0,n)+mod)%mod; return 1ll*fenzi*fenmu0%mod;&#125;int f1(int a1,int n)&#123; int fenzi=1ll*a1*(1-qpow(b1,n)+mod)%mod; return 1ll*fenzi*fenmu1%mod;&#125;#define ml ((l+r)&gt;&gt;1)#define mr (ml+1)int ls[maxn*2],rs[maxn*2],fst[2][maxn*2],sum[maxn*2],a[maxn],tot;void pushup(int&amp;u)&#123;sum[u]=(sum[ls[u]]+sum[rs[u]])%mod;&#125;void pushson(int&amp;u,int l,int r,int d0,int d1)&#123; sum[u]=(0ll+sum[u]+f0(d0,r-l+1)+f1(d1,r-l+1))%mod; fst[0][u]=(fst[0][u]+d0)%mod; fst[1][u]=(fst[1][u]+d1)%mod;&#125;void pushdown(int&amp;u,int l,int r)&#123; pushson(ls[u],l,ml,fst[0][u],fst[1][u]); pushson(rs[u],mr,r,1ll*fst[0][u]*qpow(b0,ml-l+1)%mod,1ll*fst[1][u]*qpow(b1,ml-l+1)%mod); fst[0][u]=fst[1][u]=0;&#125;void build(int&amp;u,int l,int r)&#123; u=++tot; fst[0][u]=fst[1][u]=0; if(l==r)&#123; sum[u]=a[l]; return; &#125; build(ls[u],l,ml); build(rs[u],mr,r); pushup(u);&#125;void update(int&amp;u,int l,int r,int ql,int qr,int d0,int d1)&#123; if(ql&lt;=l&amp;&amp;r&lt;=qr)&#123; pushson(u,l,r,1ll*d0*qpow(b0,l-ql)%mod,1ll*d1*qpow(b1,l-ql)%mod); return; &#125; pushdown(u,l,r); if(ql&lt;=ml) update(ls[u],l,ml,ql,qr,d0,d1); if(mr&lt;=qr) update(rs[u],mr,r,ql,qr,d0,d1); pushup(u);&#125;int query(int&amp;u,int l,int r,int ql,int qr)&#123; if(ql&lt;=l&amp;&amp;r&lt;=qr) return sum[u]; int res=0; pushdown(u,l,r); if(ql&lt;=ml) res+=query(ls[u],l,ml,ql,qr); if(mr&lt;=qr) res+=query(rs[u],mr,r,ql,qr); return res%mod;&#125;int main()&#123; qpowini(); int n,m; scanf(&quot;%d%d&quot;,&amp;n,&amp;m); rep(i,1,n) scanf(&quot;%d&quot;,&amp;a[i]); tot=0; int rt; build(rt,1,n); rep(i,1,m)&#123; int u,l,r; scanf(&quot;%d%d%d&quot;,&amp;u,&amp;l,&amp;r); if(u==1) update(rt,1,n,l,r,1ll*mul*b0%mod,1ll*(mod-mul)*b1%mod); else printf(&quot;%d\\n&quot;,query(rt,1,n,l,r)); &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"CodeForces","slug":"ACM/åˆ·é¢˜å®æˆ˜/CodeForces","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/CodeForces/"}],"tags":[]},{"title":"hdu6635","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu/hdu6635/index","date":"2019-08-08T14:11:55.000Z","updated":"2019-08-08T14:11:55.000Z","comments":true,"path":"PVX8RV.html","link":"","permalink":"http://fightinggg.github.io/indigo/PVX8RV.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ###nameNonsense Time ###descriptionYou a given a permutation $p_1,p_2,â€¦,p_n$ of size n. Initially, all elements in p are frozen. There will be n stages that these elements will become available one by one. On stage i, the element $p_{k_i}$ will become available. For each i, find the longest increasing subsequence among available elements after the first i stages. ###inputThe first line of the input contains an integer T(1â‰¤Tâ‰¤3), denoting the number of test cases. In each test case, there is one integer n(1â‰¤nâ‰¤50000) in the first line, denoting the size of permutation. In the second line, there are n distinct integers $p_1,p_2,â€¦,p_n(1â‰¤p_iâ‰¤n)$, denoting the permutation. In the third line, there are n distinct integers $k_1,k_2,â€¦,k_n(1â‰¤k_iâ‰¤n)$, describing each stage. It is guaranteed that $p_1,p_2,â€¦,p_n$ and $k_1,k_2,â€¦,k_n$ are generated randomly. ###outputFor each test case, print a single line containing n integers, where the i-th integer denotes the length of the longest increasing subsequence among available elements after the first i stages. ###sample input152 5 3 1 41 4 5 3 2 ###sample output1 1 2 3 3 ###toturialliså•è°ƒä¸å‡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥é‡‡å–å€å¢çš„æ€è·¯ï¼Œå»å°è¯•è®¡ç®—ï¼Œå³è‹¥å­˜åœ¨ans[i]&#x3D;ans[j]åˆ™æ‰€æœ‰ijä¹‹é—´çš„æ•°ï¼Œans[k]&#x3D;ans[i]&#x3D;ans[j]ä»–ä»¬éƒ½ç›¸ç­‰ã€‚å¯æƒœç”¨æ ‘çŠ¶æ•°ç»„å†™å¸¸æ•°å¤ªå¤§ç‚¸äº†ï¼Œæ”¹æ­£å¸¸å†™æ³•æ‰è¿‡ ###code 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576#include&lt;bits/stdc++.h&gt;using namespace std;const int maxn=5e4+55;int p[maxn],k[maxn],ans[maxn],a[maxn],dp[maxn];int N;int getlis(int*a,int n)&#123; static int v[maxn]; int tot=0; for(int i=1;i&lt;=n;i++)&#123; int*it=lower_bound(v+1,v+tot+1,a[i]); if(it==v+tot+1) v[++tot]=a[i]; else *it=a[i]; &#125; return tot;&#125;int vis[maxn];inline void solve(int n)&#123; if(n&lt;5e3)&#123; for(int i=1;i&lt;=n;i++) dp[i]=k[i]; sort(dp+1,dp+1+n); for(int i=1;i&lt;=n;i++) a[i]=p[dp[i]]; &#125; else&#123; for(int i=1;i&lt;=N;i++) vis[i]=0; for(int i=1;i&lt;=n;i++) vis[k[i]]=1; int tot=0; for(int i=1;i&lt;=N;i++)&#123; if(vis[i]==0) continue; a[++tot]=p[i]; &#125; &#125; ans[n]=getlis(a,n); //a[1,n]&#125;//ç©¶æè¯»å…¥æŒ‚inline char nc()&#123; static char buf[100000],*p1=buf,*p2=buf; return p1==p2&amp;&amp;(p2=(p1=buf)+fread(buf,1,100000,stdin),p1==p2)?EOF:*p1++;&#125;inline int read()&#123; char ch=nc();int sum=0; while(!(ch&gt;=&#x27;0&#x27;&amp;&amp;ch&lt;=&#x27;9&#x27;))ch=nc(); while(ch&gt;=&#x27;0&#x27;&amp;&amp;ch&lt;=&#x27;9&#x27;)sum=sum*10+ch-48,ch=nc(); return sum;&#125;int main()&#123; int t=read(); while(t--)&#123; int n=read(); N=n; for(int i=1;i&lt;=n;i++) p[i]=read(); for(int i=1;i&lt;=n;i++) k[i]=read(); solve(1); solve(n); set&lt;int&gt;se; se.insert(n); int cur=1; while(cur&lt;n)&#123; int begin=*se.begin(); if(cur+1==begin)&#123; cur=begin; se.erase(begin); &#125; else if(ans[begin]==ans[cur])&#123; while(cur&lt;begin) ans[++cur]=ans[begin]; se.erase(begin); &#125; else&#123; int x=(cur+begin)&gt;&gt;1; solve(x); se.insert(x); &#125; &#125; for(int i=1;i&lt;=n;i++) printf(&quot;%d%c&quot;,ans[i],i==n?&#x27;\\n&#x27;:&#x27; &#x27;); &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"hdu","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/hdu/"}],"tags":[]},{"title":"2019ç‰›å®¢å¤šæ ¡7H","slug":"ACM/åˆ·é¢˜å®æˆ˜/ç‰›å®¢/2019ç‰›å®¢å¤šæ ¡7H/index","date":"2019-08-08T12:51:13.000Z","updated":"2019-08-08T12:51:13.000Z","comments":true,"path":"PVX51D.html","link":"","permalink":"http://fightinggg.github.io/indigo/PVX51D.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ###namePair ###descirptionGiven three integers A, B, C. Count the number of pairs &lt;x,y&gt; (with1â‰¤xâ‰¤A and 1â‰¤yâ‰¤B)such that at least one of the following is true: (x and y) &gt; C (x xor y) &lt; C(â€œandâ€, â€œxorâ€ are bit operators) ###inputThe first line of the input gives the number of test cases, T (Tâ‰¤100). T test cases follow. For each test case, the only line contains three integers A, B and C.$1â‰¤A,B,Câ‰¤10^9$ ###outputFor each test case, the only line contains an integer that is the number of pairs satisfying the condition given in the problem statement. ###sample input33 4 24 5 27 8 5 ###sample output5731 ###toturialå¯ä»¥ç›´æ¥dfsæœç´¢ï¼Œç„¶åè®°å¿†åŒ–åŠ é€Ÿï¼Œå†™èµ·æ¥å¾ˆå¤æ‚ï¼Œä½†æ˜¯èƒ½è¿‡ ###code 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122#include&lt;bits/stdc++.h&gt;using namespace std; typedef long long ll; typedef pair&lt;pair&lt;int,int&gt;,pair&lt;int,int&gt;&gt; pair4;inline pair4 mp(int a,int b,int c,int d)&#123;return make_pair(make_pair(a,b),make_pair(c,d));&#125; map&lt;pair4,ll&gt; hashxor,hashand;ll gxor(ll a,ll b,ll hi,ll c)&#123;// ^&lt;c if(a==-1||b==-1)return 0; if(hi&lt;=1) &#123; ll ct=0; for(ll i=0;i&lt;=a;i++)&#123; for(ll j=0;j&lt;=b;j++)&#123; if((i^j)&lt;c) ct++; &#125; &#125; return ct; &#125; if(hashxor.find(mp(a,b,hi,c))!=hashxor.end()) return hashxor[mp(a,b,hi,c)]; ll a0=a&gt;=hi-1?hi-1:a;// bg with 0 ll b0=b&gt;=hi-1?hi-1:b;// bg with 1 ll a1=a&gt;=hi?(a&amp;(hi-1)):-1; ll b1=b&gt;=hi?(b&amp;(hi-1)):-1; if(c&amp;hi) return hashxor[mp(a,b,hi,c)]=(a0+1)*(b0+1)+(a1+1)*(b1+1)+gxor(a0,b1,hi&gt;&gt;1,c&amp;(hi-1))+gxor(a1,b0,hi&gt;&gt;1,c&amp;(hi-1)); else return hashxor[mp(a,b,hi,c)]=gxor(a0,b0,hi&gt;&gt;1,c&amp;(hi-1))+gxor(a1,b1,hi&gt;&gt;1,c&amp;(hi-1));&#125; ll gand(ll a,ll b,ll hi,ll c)&#123;// &amp;&gt;c if(a==-1||b==-1)return 0; if(hi&lt;=1) &#123; ll ct=0; for(ll i=0;i&lt;=a;i++)&#123; for(ll j=0;j&lt;=b;j++)&#123; if((i&amp;j)&gt;c) ct++; &#125; &#125; return ct; &#125; if(hashand.find(mp(a,b,hi,c))!=hashand.end()) return hashand[mp(a,b,hi,c)]; ll a0=a&gt;=hi-1?hi-1:a;// bg with 0 ll b0=b&gt;=hi-1?hi-1:b;// bg with 1 ll a1=a&gt;=hi?(a&amp;(hi-1)):-1; ll b1=b&gt;=hi?(b&amp;(hi-1)):-1; if(c&amp;hi) return hashand[mp(a,b,hi,c)]=gand(a1,b1,hi&gt;&gt;1,c&amp;(hi-1)); else return hashand[mp(a,b,hi,c)]=(a1+1)*(b1+1)+gand(a0,b1,hi&gt;&gt;1,c&amp;(hi-1))+gand(a1,b0,hi&gt;&gt;1,c&amp;(hi-1))+gand(a0,b0,hi&gt;&gt;1,c&amp;(hi-1));&#125; ll f(ll a,ll b,ll hi,ll c)&#123;// &amp;&gt;c ^&lt;c if(hi&lt;=1)&#123; ll ct=0; for(ll i=0;i&lt;=a;i++)&#123; for(ll j=0;j&lt;=b;j++)&#123; if((i&amp;j)&gt;c||(i^j)&lt;c) ct++; &#125; &#125; return ct; &#125; ll a0=a&gt;=hi-1?hi-1:a;// bg with 0 ll b0=b&gt;=hi-1?hi-1:b;// bg with 1 ll a1=a&gt;=hi?(a&amp;(hi-1)):-1; ll b1=b&gt;=hi?(b&amp;(hi-1)):-1; if(c&amp;hi) return (a0+1)*(b0+1)+(a1+1)*(b1+1)+gxor(a0,b1,hi&gt;&gt;1,c&amp;(hi-1))+gxor(a1,b0,hi&gt;&gt;1,c&amp;(hi-1));// ^ ^ &amp; &amp; else return (a1+1)*(b1+1)+gand(a0,b1,hi&gt;&gt;1,c&amp;(hi-1))+gand(a1,b0,hi&gt;&gt;1,c&amp;(hi-1))+f(a0,b0,hi&gt;&gt;1,c&amp;(hi-1));&#125; ll debug(ll a,ll b,ll c)&#123; hashxor.clear(); hashand.clear(); ll hi=max(&#123;a,b,c&#125;); while(hi&amp;(hi-1)) hi&amp;=hi-1; return f(a,b,hi,c)+1-min(a+1,c)-min(b+1,c);&#125; ll baoli(ll a,ll b,ll c)&#123; ll ct=0; for(ll i=1;i&lt;=a;i++)&#123; for(ll j=1;j&lt;=b;j++)&#123; if((i&amp;j)&gt;c||(i^j)&lt;c) ct++; &#125; &#125; return ct;&#125; int main()&#123;// srand(time(NULL));// int up=300;// while(true)&#123;// int i=rand()%20000+1;// int j=rand()%20000+1;// int k=rand()%20000+1;// int fuck1=baoli(i,j,k);// int fuck2=debug(i,j,k);// cout&lt;&lt;i&lt;&lt;&quot; &quot;&lt;&lt;j&lt;&lt;&quot; &quot;&lt;&lt;k&lt;&lt;&quot; &quot;&lt;&lt;&quot; &quot;&lt;&lt;fuck1&lt;&lt;&quot; &quot;&lt;&lt;fuck2&lt;&lt;endl;// if(fuck1!=fuck2)&#123;// cout&lt;&lt;baoli(i,j,k)&lt;&lt;endl;// cout&lt;&lt;debug(i,j,k)&lt;&lt;endl;// cout&lt;&lt;i&lt;&lt;j&lt;&lt;k&lt;&lt;endl;// getchar();// &#125;////// &#125; ll a,b,c,t; scanf(&quot;%lld&quot;,&amp;t); while(t--)&#123; hashxor.clear(); hashand.clear(); scanf(&quot;%lld%lld%lld&quot;,&amp;a,&amp;b,&amp;c); ll hi=max(&#123;a,b,c&#125;); while(hi&amp;(hi-1)) hi&amp;=hi-1; printf(&quot;%lld\\n&quot;,f(a,b,hi,c)+1-min(a+1,c)-min(b+1,c)); &#125;&#125; ###toturial2è€ƒè™‘æ•°ä½dp ###code 123456789101112131415161718192021222324252627282930313233#include&lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;#define REP(i,j,k) for(int i=(j);i&lt;=(k);i++)ll dp[33][2][2][3][3],A[33],B[33],C[33];ll cmp(ll a,ll b)&#123; if(a&lt;b) return -1; if(a==b) return 0; return 1;&#125;ll dfs(ll bit,ll la,ll lb,ll ad,ll xr)&#123; if(bit==-1) return ad==1||xr==-1; ll&amp;res=dp[bit][la][lb][ad+1][xr+1]; if(res!=-1) return res; res=0; REP(i,0,la?A[bit]:1) REP(j,0,lb?B[bit]:1) res+=dfs(bit-1,la&amp;&amp;i==A[bit],lb&amp;&amp;j==B[bit],ad?ad:cmp(i&amp;j,C[bit]),xr?xr:cmp(i^j,C[bit])); return res;&#125;int main()&#123; int t; scanf(&quot;%d&quot;,&amp;t); while(t--)&#123; memset(dp,-1,sizeof(dp)); ll a,b,c; scanf(&quot;%lld%lld%lld&quot;,&amp;a,&amp;b,&amp;c); REP(i,0,30) A[i]=bool(1&lt;&lt;i&amp;a),B[i]=bool(1&lt;&lt;i&amp;b),C[i]=bool(1&lt;&lt;i&amp;c); printf(&quot;%lld\\n&quot;,dfs(30,1,1,0,0)+1-min(a+1,c)-min(b+1,c)); &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"ç‰›å®¢","slug":"ACM/åˆ·é¢˜å®æˆ˜/ç‰›å®¢","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/%E7%89%9B%E5%AE%A2/"}],"tags":[]},{"title":"2019ç‰›å®¢å¤šæ ¡7E","slug":"ACM/åˆ·é¢˜å®æˆ˜/ç‰›å®¢/2019ç‰›å®¢å¤šæ ¡7E/index","date":"2019-08-08T12:29:37.000Z","updated":"2019-08-08T12:29:37.000Z","comments":true,"path":"PVX41D.html","link":"","permalink":"http://fightinggg.github.io/indigo/PVX41D.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ###nameFind the median ###descirptionLet median of some array be the number which would stand in the middle of this array if it was sorted beforehand. If the array has even length let median be smallest of of two middle elements. For example, median of the array [10,3,2,3,2] is 3 Median of the array [1,5,8,1] is 1 At first, youâ€™re given an empty sequence. There are N operations. The i-th operation contains two integers$L_i$and$R_i$.This means that adding $R_i-L_i+1$ integers $L_i,L_i+1,â€¦,R_i$into the sequence. After each operation, you need to find the median of the sequence. ###inputThe first line of the input contains an integer N(1â‰¤Nâ‰¤400000)as described above. The next two lines each contains six integers in the following format, respectively: $X_1X_2A_1B_1C_1M_1$ $Y_1Y_2A_2B_2C_2M_2$ These values are used to generate $L_i,R_i$as follows: We define: $X_i&#x3D;(A_1X_{i-1}+B_1X_{i-2}+C_1)module\\quad M_1,for\\quad i&#x3D;3\\quad to\\quad N$ $Y_i&#x3D;(A_2Y_{i-1}+B_2Y_{i-2}+C_2)module\\quad M_1,for\\quad i&#x3D;3\\quad to\\quad N$ We also define: $L_i&#x3D;min(X_i,Y_i)+1,for\\quad i&#x3D;1\\quad to\\quad N$ $R_i&#x3D;max(x_i,Y_i)+1,for\\quad i&#x3D;1\\quad to\\quad N$ Limits:$1â‰¤Nâ‰¤400000$$0â‰¤A_1,B_1,C_1,X_1,X_2&lt;M_1$$0â‰¤A_2,B_2,C_2,Y_1,Y_2&lt;M_2$$1â‰¤M1,M2â‰¤10^9$ ###outputYou should output N lines. Each line contains an integer means the median. ###sample input53 1 4 1 5 92 7 1 8 2 9 ###sample output34545 ###hintL &#x3D; [3, 2 ,4, 1, 7]R &#x3D; [4, 8, 8, 3, 9] ###toturialç¦»æ•£åŒ–åŒºé—´åç”¨æƒå€¼çº¿æ®µæ ‘ç»´æŠ¤åŒºé—´å’Œ,ç›´æ¥åœ¨æ ‘ä¸ŠäºŒåˆ†ç­”æ¡ˆ ###code 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576#include&lt;bits/stdc++.h&gt;using namespace std;vector&lt;int&gt;disc;int getid(int x)&#123;return lower_bound(disc.begin(),disc.end(),x)-disc.begin();&#125;#define ml ((l+r)&gt;&gt;1)#define mr (ml+1)const int maxn = 8e5+55;int ls[maxn*2],rs[maxn*2],add[maxn*2],tot;//updateç”¨äº†å‡ æ¬¡ï¼Œå°±è¦ä¹˜ä»¥å¤šå°‘long long siz[maxn*2];void maketrue(int&amp;u)&#123;if(u==0) u=++tot,ls[u]=rs[u]=siz[u]=add[u]=0;&#125;void pushup(int u,int l,int r)&#123;siz[u]=siz[ls[u]]+siz[rs[u]];&#125;void pushdown(int u,int l,int r)&#123; maketrue(ls[u]); maketrue(rs[u]); add[ls[u]]+=add[u]; add[rs[u]]+=add[u]; siz[ls[u]]+=add[u]*(disc[ml+1]-disc[l]); siz[rs[u]]+=add[u]*(disc[r+1]-disc[mr]); add[u]=0;&#125;void update(int&amp;u,int l,int r,int ql,int qr)&#123;//æŠŠuæŒ‰ç…§preå¤åˆ¶ï¼Œç„¶åæ›´æ–°pos maketrue(u); if(ql&lt;=l&amp;&amp;r&lt;=qr)&#123; siz[u]+=disc[r+1]-disc[l]; add[u]++; return; &#125; pushdown(u,l,r); if(ml&gt;=ql)update(ls[u],l,ml,ql,qr); if(mr&lt;=qr)update(rs[u],mr,r,ql,qr); pushup(u,l,r);&#125;int query(int&amp;u,int l,int r,long long k)&#123; maketrue(u); if(l==r) &#123; int ct=siz[u]/(disc[l+1]-disc[l]); return disc[l]-1+(k+ct-1)/ct; &#125; pushdown(u,l,r); if(siz[ls[u]]&gt;=k) return query(ls[u],l,ml,k); else return query(rs[u],mr,r,k-siz[ls[u]]);&#125;int main()&#123; long long n,x1,x2,a1,b1,c1,m1,y1,y2,a2,b2,c2,m2; scanf(&quot;%lld%lld%lld%lld%lld%lld%lld%lld%lld%lld%lld%lld%lld&quot;,&amp;n,&amp;x1,&amp;x2,&amp;a1,&amp;b1,&amp;c1,&amp;m1,&amp;y1,&amp;y2,&amp;a2,&amp;b2,&amp;c2,&amp;m2); vector&lt;int&gt; x(n+1),y(n+1); x[1]=x1; x[2]=x2; y[1]=y1; y[2]=y2; for(int i=3;i&lt;=n;i++)&#123; x[i]=(1ll*a1*x[i-1]+1ll*b1*x[i-2]+c1)%m1; y[i]=(1ll*a2*y[i-1]+1ll*b2*y[i-2]+c2)%m2; &#125; for(int i=1;i&lt;=n;i++) &#123; x[i]++,y[i]++; if(x[i]&gt;y[i]) swap(x[i],y[i]); &#125; for(int i=1;i&lt;=n;i++) disc.push_back(x[i]),disc.push_back(y[i]+1); disc.push_back(-2e9),disc.push_back(2e9); sort(disc.begin(),disc.end()); disc.erase(unique(disc.begin(),disc.end()),disc.end()); tot=0; long long sum=0; int rt=0; for(int i=1;i&lt;=n;i++)&#123; sum+=y[i]-x[i]+1; update(rt,1,disc.size(),getid(x[i]),getid(y[i]+1)-1); printf(&quot;%d\\n&quot;,query(rt,1,disc.size(),(sum+1)/2)); &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"ç‰›å®¢","slug":"ACM/åˆ·é¢˜å®æˆ˜/ç‰›å®¢","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/%E7%89%9B%E5%AE%A2/"}],"tags":[]},{"title":"ä¸¤åˆ†æ•°é—´åˆ†æ¯æœ€å°çš„åˆ†æ•°","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦/ä¸¤åˆ†æ•°é—´åˆ†æ¯æœ€å°çš„åˆ†æ•°/index","date":"2019-08-08T11:40:51.000Z","updated":"2019-08-08T11:40:51.000Z","comments":true,"path":"PVX1S3.html","link":"","permalink":"http://fightinggg.github.io/indigo/PVX1S3.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ç»™ä½ ä¸¤ä¸ªåˆ†æ•°,è®©ä½ æ‰¾ä¸€ä¸ªåˆ†æ•°åœ¨ä»–ä»¬ä¿©ä¹‹é—´,è¦æ±‚åˆ†æ¯æœ€å°, è¿™ä¸ªé—®é¢˜å¾ˆæ˜¾ç„¶ï¼Œæˆ‘ä»¬åº”è¯¥è½¬ç§»åˆ°Stern Brocot Treeä¸Šé¢å»åš,å¯¹äºç»™å®šçš„ä¸¤ä¸ªåˆ†æ•°ï¼Œæˆ‘ä»¬æŠŠä»–ä»¬åœ¨æ ‘ä¸Šæ ‡è®°å‡ºæ¥ï¼Œå¯èƒ½ä»–ä»¬ä¸åœ¨æ ‘çš„åŒä¸€å±‚ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥æ‰¾åˆ°ä¸€ä¸ªåˆé€‚çš„å±‚æ•°ï¼Œå¹¶ä¸”æŠŠä»–ä»¬æ ‡è®°åœ¨è¿™ä¸€å±‚ï¼Œå¯èƒ½æ ‡è®°åï¼Œä»–ä»¬ä¹‹é—´æ²¡æœ‰å…¶ä»–åˆ†æ•°ï¼Œé‚£æˆ‘ä»¬å°±é€‰æ‹©æ›´æ·±çš„ä¸€å±‚ï¼Œç›´åˆ°ä»–ä»¬åœ¨åŒä¸€å±‚ï¼Œä¸”ä¸­é—´æœ‰å…¶ä»–æ•°å­—ã€‚ è¿™æ—¶æˆ‘ä»¬æ¥åˆ†æç­”æ¡ˆåœ¨å“ªï¼Œé¦–å…ˆå¾ˆå®¹æ˜“è¯æ˜ç­”æ¡ˆå°±åœ¨ä»–ä»¬ä¿©ä¹‹é—´çš„é‚£äº›åˆ†æ•°ä¹‹é—´ï¼Œå› ä¸ºè¿™äº›åˆ†æ•°å·²ç»æ»¡è¶³äº†å€¼åœ¨ä»–ä»¬ä¿©ä¹‹é—´ï¼Œå¯¹äºå¦ä¸€ä¸ªè¦æ±‚-åˆ†æ¯æœ€å°ï¼Œè¿™å°±è¦æ±‚æˆ‘ä»¬åœ¨è¿™äº›åˆ†æ•°ä¸­å–å‡ºä¸€ä¸ªåˆ†æ¯æœ€å°çš„ã€‚ æœ‰ä¸€ä¸ªå¾ˆç®€å•çš„åšæ³•å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ‰¾åˆ°ç­”æ¡ˆï¼Œé‚£å°±æ˜¯ï¼ŒæŠŠè¿™äº›å¯èƒ½çš„ç­”æ¡ˆå…¨éƒ¨æ ‡è®°ä¸ºçº¢è‰²ï¼ŒçœŸæ­£çš„ç­”æ¡ˆå°±æ˜¯è¿™äº›æ ‡è®°çš„lcaã€‚ å½“æˆ‘ä»¬å‘ç°ç­”æ¡ˆæ˜¯lcaçš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¹Ÿå‘ç°äº†å¦ä¸€ä¸ªç°è±¡ï¼Œåˆ†å­åˆ†æ¯å…·æœ‰è½®æ¢å¯¹ç§°æ€§å½“åˆ†æ¯å–åˆ°æœ€å°å€¼çš„æ—¶å€™ï¼Œåˆ†å­å¯èƒ½æœ‰å¤šä¸ªè§£ï¼Œå¦‚æœæˆ‘ä»¬é€‰æ‹©äº†æœ€å°çš„åˆ†å­ï¼Œæˆ‘ä»¬å°†å¾—åˆ°ä¸€ä¸ªåˆ†æ•° $\\frac{a1}{b1}$ æˆ‘ä»¬å‘ç°å¦‚æœä¸è€ƒè™‘åˆ†æ¯æœ€å°ï¼Œæ­¤æ—¶çš„åˆ†å­ä¹Ÿæ˜¯æ‰€æœ‰è§£ä¸­æœ€å°çš„åˆ†å­ã€‚ æ¢å¥è¯è¯´ï¼Œåœ¨$(\\frac{u}{v},\\frac{x}{y})$ä¸­æ‰€æœ‰åˆ†æ¯æœ€å°çš„åˆ†æ•°ä¸­é€‰æ‹©ä¸€ä¸ªåˆ†å­æœ€å°çš„åˆ†æ•°å’Œ$(\\frac{u}{v},\\frac{x}{y})$ä¸­æ‰€æœ‰åˆ†å­æœ€å°çš„åˆ†æ•°ä¸­é€‰æ‹©ä¸€ä¸ªåˆ†æ¯æœ€å°çš„åˆ†æ•°ï¼Œé€‰å‡ºçš„ç»“æœä¸€å®šæ˜¯ç›¸åŒçš„ã€‚ äºæ˜¯æˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨æ­¤ç‰¹å¾æ¥è§£å†³ä¸Šè¯‰é—®é¢˜äº†ï¼Œä»£ç å¦‚ä¸‹ï¼Œè‹¥åŒºé—´åŒ…å«äº†ä¸€ä¸ªæ•´æ•°zï¼Œé‚£ä¹ˆç­”æ¡ˆä¸€å®šæ˜¯$\\frac{z}{1}$,å¦åˆ™æˆ‘ä»¬å¯ä»¥å°†åŒºé—´å‘å·¦ç§»åŠ¨ï¼Œç†ç”±æ˜¯ï¼Œå°½ç®¡åˆ†å­å˜äº†ï¼Œä½†æ˜¯åŒºé—´ç§»åŠ¨ä¸å½±å“åˆ†æ¯çš„å¤§å°ï¼Œå†æ ¹æ®åˆ†æ¯æœ€å°æ—¶çš„åˆ†å­æœ€å°çš„ç­”æ¡ˆ ç­‰äº åˆ†å­æœ€å°æ—¶åˆ†æ¯æœ€å°çš„ç­”æ¡ˆ å³åˆ†æ¯èƒ½å”¯ä¸€ç¡®å®šåˆ†å­ï¼Œé€šè¿‡åŒºé—´ç§»åŠ¨åçš„åˆ†æ¯çš„æœ€å°å€¼æ¨å‡ºåŒºé—´ç§»åŠ¨å‰çš„åˆ†æ¯æœ€å°å€¼ï¼Œè¿›è€Œæ¨å‡ºåŒºé—´ç§»åŠ¨å‰çš„åˆ†å­çš„æœ€å°å€¼ï¼Œæˆ‘ä»¬å°±èƒ½è§£å†³è¿™ä¸ªé—®é¢˜äº†ã€‚ç”¨è¾—è½¬ç›¸é™¤åŠ é€Ÿã€‚ 12345678void solve(ll u1,ll u2,ll&amp;r1,ll&amp;r2,ll v1,ll v2)&#123; // u1/u2&lt;r1/r2&lt;v1/v2 if((u1+u2-1)/u2&lt;=v1/v2) r1=(u1+u2-1)/u2,r2=1; else&#123; ll d=u1/u2; //u1/u2-d&lt;r1/r2-d&lt;v1/v2-d solve(v2,v1-v2*d,r2,r1,u2,u1-u2*d); r1+=d*r2; &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ•°å­¦","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%95%B0%E5%AD%A6/"}],"tags":[]},{"title":"hdu6624","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu/hdu6624/index","date":"2019-08-07T14:42:08.000Z","updated":"2019-08-07T14:42:08.000Z","comments":true,"path":"PVVFI8.html","link":"","permalink":"http://fightinggg.github.io/indigo/PVVFI8.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ###namefraction ###descirptionMany problems require printing the probability of something. Moreover, it is common that if the answer is $\\frac{a}{b}$, you should output $aÃ—b^{âˆ’1}(modp)$ (p is a prime number). In these problems, you cannot know the exact value of the probability. Itâ€™s so confusing!!! Now, we want to reverse engineer the exact probability from such calculated output value x. We do so by guessing the probability is the one with the minimum b such that $aÃ—b^{âˆ’1}&#x3D;x(modp)$. Now we invite you to solve this problem with us!You are given two positive integers p and x, where p is a prime number.Please find the smallest positive integer b such that there exist some positive integer a satisfying $a\\lt b$ and aâ‰¡bx(modp). ###inputThe first line contains an integer T indicating there are T tests. Each test consists of a single line containing two integers: p,x. $1â‰¤Tâ‰¤2Ã—10^5$ $3â‰¤pâ‰¤10^{15}$ p is a prime $1\\lt x\\lt p$ ###outputFor each test, output a line containing a string represents the fraction $\\frac{a}{b}$ using the format â€œa&#x2F;bâ€ (without quotes). ###sample input311 7998244353 554580197998244353 998244352 ###sample output2&#x2F;58&#x2F;9499122176&#x2F;499122177 ###toturial$$aâ‰¡bx(modp)\\\\Leftrightarrow bx-pk&#x3D;a\\\\Leftrightarrow 0\\lt bx-pk\\lt b\\\\Leftrightarrow \\frac{p}{x}\\lt \\frac{b}{k}\\lt \\frac{p}{x-1}$$ç­‰ä»·äºæ±‚ä¸€ä¸ªåˆ†å­æœ€å°çš„åˆ†æ•°ï¼Œå…¶å€¼åœ¨$(\\frac{p}{x},\\frac{p}{x-1})$,æ¬§å‡ é‡Œå¾—è¾—è½¬ç›¸é™¤å³å¯ ###code 1234567891011121314151617181920212223#include&lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;void solve(ll u1,ll u2,ll&amp;r1,ll&amp;r2,ll v1,ll v2)&#123; // u1/u2&lt;r1/r2&lt;v1/v2 if((u1+u2-1)/u2&lt;=v1/v2) r1=(u1+u2-1)/u2,r2=1; else&#123; ll d=u1/u2; //u1/u2-d&lt;r1/r2-d&lt;v1/v2-d solve(v2,v1-v2*d,r2,r1,u2,u1-u2*d); r1+=d*r2; &#125;&#125;int main()&#123; int t; scanf(&quot;%d&quot;,&amp;t); while(t--)&#123; ll p,x; scanf(&quot;%lld%lld&quot;,&amp;p,&amp;x); ll b,k; solve(p,x,b,k,p,x-1); printf(&quot;%lld/%lld\\n&quot;,b*x-p*k,b); &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"hdu","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/hdu/"}],"tags":[]},{"title":"P2444","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ´›è°·/P2444/index","date":"2019-08-06T07:43:59.000Z","updated":"2019-08-06T07:43:59.000Z","comments":true,"path":"PVT1HB.html","link":"","permalink":"http://fightinggg.github.io/indigo/PVT1HB.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ###nameç—…æ¯’ ###descirptionäºŒè¿›åˆ¶ç—…æ¯’å®¡æŸ¥å§”å‘˜ä¼šæœ€è¿‘å‘ç°äº†å¦‚ä¸‹çš„è§„å¾‹ï¼šæŸäº›ç¡®å®šçš„äºŒè¿›åˆ¶ä¸²æ˜¯ç—…æ¯’çš„ä»£ç ã€‚å¦‚æœæŸæ®µä»£ç ä¸­ä¸å­˜åœ¨ä»»ä½•ä¸€æ®µç—…æ¯’ä»£ç ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ç§°è¿™æ®µä»£ç æ˜¯å®‰å…¨çš„ã€‚ç°åœ¨å§”å‘˜ä¼šå·²ç»æ‰¾å‡ºäº†æ‰€æœ‰çš„ç—…æ¯’ä»£ç æ®µï¼Œè¯•é—®ï¼Œæ˜¯å¦å­˜åœ¨ä¸€ä¸ªæ— é™é•¿çš„å®‰å…¨çš„äºŒè¿›åˆ¶ä»£ç ã€‚ ç¤ºä¾‹ï¼šä¾‹å¦‚å¦‚æœ{011, 11, 00000}ä¸ºç—…æ¯’ä»£ç æ®µï¼Œé‚£ä¹ˆä¸€ä¸ªå¯èƒ½çš„æ— é™é•¿å®‰å…¨ä»£ç å°±æ˜¯010101â€¦ã€‚å¦‚æœ{01, 11, 000000}ä¸ºç—…æ¯’ä»£ç æ®µï¼Œé‚£ä¹ˆå°±ä¸å­˜åœ¨ä¸€ä¸ªæ— é™é•¿çš„å®‰å…¨ä»£ç ã€‚ ä»»åŠ¡ï¼šè¯·å†™ä¸€ä¸ªç¨‹åºï¼š1.åœ¨æ–‡æœ¬æ–‡ä»¶WIR.INä¸­è¯»å…¥ç—…æ¯’ä»£ç ï¼›2.åˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸€ä¸ªæ— é™é•¿çš„å®‰å…¨ä»£ç ï¼›3.å°†ç»“æœè¾“å‡ºåˆ°æ–‡ä»¶WIR.OUTä¸­ã€‚ ###inputåœ¨æ–‡æœ¬æ–‡ä»¶WIR.INçš„ç¬¬ä¸€è¡ŒåŒ…æ‹¬ä¸€ä¸ªæ•´æ•°n(nâ‰¤2000)ï¼Œè¡¨ç¤ºç—…æ¯’ä»£ç æ®µçš„æ•°ç›®ã€‚ä»¥ä¸‹çš„nè¡Œæ¯ä¸€è¡Œéƒ½åŒ…æ‹¬ä¸€ä¸ªéç©ºçš„01å­—ç¬¦ä¸²â€”â€”å°±æ˜¯ä¸€ä¸ªç—…æ¯’ä»£ç æ®µã€‚æ‰€æœ‰ç—…æ¯’ä»£ç æ®µçš„æ€»é•¿åº¦ä¸è¶…è¿‡30000ã€‚ ###outputåœ¨æ–‡æœ¬æ–‡ä»¶WIR.OUTçš„ç¬¬ä¸€è¡Œè¾“å‡ºä¸€ä¸ªå•è¯ï¼šTAKâ€”â€”å‡å¦‚å­˜åœ¨è¿™æ ·çš„ä»£ç ï¼›NIEâ€”â€”å¦‚æœä¸å­˜åœ¨ã€‚ ###sample input3011100000 ###sample outputNIE ###toturial&amp;emsp;&amp;emsp;å»ºç«‹acè‡ªåŠ¨æœºåï¼Œåˆ¤æ–­transæ˜¯å¦æ„æˆç¯å³å¯ ###code 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576#include&lt;bits/stdc++.h&gt;using namespace std;const int maxn=1e6+5;int trans[maxn][2],fail[maxn],ed[maxn],ban[maxn];int root,cnt;inline int new_node()&#123; //failæŒ‡é’ˆä¸éœ€è¦åˆå§‹åŒ–,å› ä¸ºåœ¨bfsçš„æ—¶å€™ä»–è¢«æ›´æ–° for(int i=0;i&lt;2;i++)trans[cnt][i]=0; ed[cnt]=0; ban[cnt]=0; return cnt++;&#125;void ini()&#123; cnt=0; root=new_node();&#125;void extend(char*buf)&#123; int len=(int)strlen(buf+1); int u=root; for(int i=1;i&lt;=len;i++)&#123; if(trans[u][buf[i]-&#x27;0&#x27;]==0) trans[u][buf[i]-&#x27;0&#x27;]=new_node(); u=trans[u][buf[i]-&#x27;0&#x27;]; &#125; ed[u]++;&#125;void get_fail()&#123; queue&lt;int&gt;q; q.push(root); while(!q.empty())&#123; int u=q.front();q.pop(); for(int i=0;i&lt;2;i++)&#123; if(trans[u][i]==0)&#123; trans[u][i]=-abs(trans[fail[u]][i]);//é‡‡ç”¨è´Ÿæ•°æ¥è¡¨ç¤ºéæ ‘è¾¹ã€‚ã€‚ &#125; else&#123; q.push(trans[u][i]); fail[trans[u][i]]=abs(trans[fail[u]][i]); if(u==root)fail[trans[u][i]]=root; &#125; &#125; if(ban[fail[u]]==1) ban[u]=1; if(ed[u]!=0) ban[u]=1; &#125;&#125;int ins[maxn];bool dfs(int u=root)&#123;// return ture if have huan ins[u]=1; for(int i=0;i&lt;2;i++)&#123; if(ban[abs(trans[u][i])]) continue; if(ins[abs(trans[u][i])]) return true; if(dfs(abs(trans[u][i]))) return true; &#125; ins[u]=0; return false;&#125;char s[maxn];int main()&#123; int n; scanf(&quot;%d&quot;,&amp;n); ini(); while(n--)&#123; scanf(&quot;%s&quot;,s+1); extend(s); &#125; get_fail(); if(dfs()) puts(&quot;TAK&quot;); else puts(&quot;NIE&quot;);&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"æ´›è°·","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ´›è°·","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/%E6%B4%9B%E8%B0%B7/"}],"tags":[]},{"title":"hdu6625","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu/hdu6625/index","date":"2019-08-06T06:20:31.000Z","updated":"2019-08-06T06:20:31.000Z","comments":true,"path":"PVSXM7.html","link":"","permalink":"http://fightinggg.github.io/indigo/PVSXM7.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ###namethree arrays ###descirptionThere are three integer arrays a,b,c. The lengths of them are all N. You are given the full contents of a and b. And the elements in c is produced by following equation: c[i]&#x3D;a[i] XOR b[i] where XOR is the bitwise exclusive or operation. Now you can rearrange the order of elements in arrays a and b independently before generating the array c. We ask you to produce the lexicographically smallest possible array c after reordering a and b. Please output the resulting array c. ###inputThe first line contains an integer T indicating there are T tests. Each test consists of three lines. The first line contains one positive integer N denoting the length of arrays a,b,c. The second line describes the array a. The third line describes the array b. Tâ‰¤1000 $1â‰¤Nâ‰¤10^5$ integers in arrays a and b are in the range of [0,230). at most 6 tests with N&gt;100 ###outputFor each test, output a line containing N integers, representing the lexicographically smallest resulting array c. ###sample input133 2 14 5 6 ###sample output4 4 7 ###toturial&amp;emsp;&amp;emsp;å¯¹äºæ¯ä¸€ä¸ªæ•°æ¥è¯´ï¼Œèƒ½å¤Ÿä¸ä»–åŒ¹é…æœ€ä¼˜çš„æ•°ä¸ªæ•°å¯èƒ½å¾ˆå¤šï¼Œä½†æ˜¯å€¼è‚¯å®šåªæœ‰ä¸€ä¸ªï¼Œæˆ‘ä»¬ä»¥è¿™ç§å…³ç³»å»ºå›¾ï¼ŒæŠŠæ•°ç»„açš„æ•°æ”¾åœ¨å·¦è¾¹ï¼Œæ•°ç»„bçš„æ•°æ”¾åœ¨å³è¾¹ï¼Œå»ºç«‹å‡ºæ¥çš„å›¾ä¸€å®šæ˜¯äºŒåˆ†å›¾ã€‚&amp;emsp;&amp;emsp;æ˜“è¯æ­¤äºŒåˆ†å›¾ä¸­å¯èƒ½å­˜åœ¨ç¯ï¼Œè‹¥æœ‰ç¯ï¼Œå¯èƒ½æœ‰å¤šä¸ªæ•°ï¼Œä½†å¿…å®šåªæœ‰ä¸¤ä¸ªå€¼ï¼Œä¸”è¿™ä¸¤ä¸ªå€¼ä¸€å®šæ˜¯æœ€ä½³åŒ¹é…ï¼Œæˆ‘ä»¬å°†æ‰€æœ‰çš„æœ€ä½³åŒ¹é…å»æ‰ä»¥åï¼Œå‰©ä¸‹çš„æ˜¯dagå›¾ï¼Œæˆ‘ä»¬å¯¹æ­¤å›¾é€†æ‹“æ‰‘æ’åºï¼Œå¾—åˆ°çš„ç»“æœå³ä¸ºç­”æ¡ˆï¼Œç”¨æ ˆæ¨¡æ‹Ÿï¼Œå­—å…¸æ ‘åŠ é€Ÿå³å¯ ###code 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596#include&lt;bits/stdc++.h&gt;using namespace std;int read()&#123;int x;scanf(&quot;%d&quot;,&amp;x);return x;&#125;const int maxn=1e5+5;int trans[maxn*61][2],s[maxn*61],tot;inline int newnode()&#123; tot++; trans[tot][0]=trans[tot][1]=s[tot]=0; return tot;&#125;inline void insert(int rt,int x)&#123; int cur=rt; s[cur]++; for(int j=29;j&gt;=0;j--)&#123; int nex=(1&lt;&lt;j&amp;x)&gt;&gt;j; if(trans[cur][nex]==0) trans[cur][nex]=newnode(); cur=trans[cur][nex]; s[cur]++; &#125;&#125;inline void erase(int rt,int x)&#123; int cur=rt; s[cur]--; for(int j=29;j&gt;=0;j--)&#123; int nex=(1&lt;&lt;j&amp;x)&gt;&gt;j; cur=trans[cur][nex]; s[cur]--; &#125;&#125;inline int find(int rt,int x)&#123; int cur=rt,res=0; for(int j=29;j&gt;=0;j--)&#123; int nex=(1&lt;&lt;j&amp;x)&gt;&gt;j; if(s[trans[cur][nex]]==0) nex^=1; cur=trans[cur][nex]; res|=nex&lt;&lt;j; &#125; return res;&#125;int a[maxn],b[maxn];int main()&#123; int ti=read(); while(ti--)&#123; int n=read(); tot=0; int rta=newnode(),rtb=newnode(); for(int i=0;i&lt;n;i++) insert(rta,a[i]=read()); for(int i=0;i&lt;n;i++) insert(rtb,b[i]=read()); vector&lt;int&gt; ans; stack&lt;int&gt; stk; while(ans.size()!=n)&#123; // getchar(); if(stk.empty()) stk.push(find(rta,214340)); int top=stk.top(); stk.pop(); if((stk.size()&amp;1)==0)&#123;// in a int priority=find(rtb,top); //cout&lt;&lt;top&lt;&lt;&quot; &quot;&lt;&lt;priority&lt;&lt;endl; if(!stk.empty()&amp;&amp;stk.top()==priority)&#123; ans.push_back(priority^top); // cout&lt;&lt;ans.back()&lt;&lt;endl; stk.pop(); erase(rta,top); erase(rtb,priority); &#125; else&#123; stk.push(top); stk.push(priority); &#125; &#125; else&#123;// in b int priority=find(rta,top); // cout&lt;&lt;top&lt;&lt;&quot; &quot;&lt;&lt;priority&lt;&lt;endl; if(!stk.empty()&amp;&amp;stk.top()==priority)&#123; ans.push_back(priority^top); // cout&lt;&lt;ans.back()&lt;&lt;endl; stk.pop(); erase(rtb,top); erase(rta,priority); &#125; else&#123; stk.push(top); stk.push(priority); &#125; &#125; &#125; sort(ans.begin(),ans.end()); for(int i=0;i+1&lt;ans.size();i++)&#123; printf(&quot;%d &quot;,ans[i]); &#125; printf(&quot;%d\\n&quot;,ans.back()); &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"hdu","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/hdu/"}],"tags":[]},{"title":"51NOD1009","slug":"ACM/è€Blogè¿ç§»/reading_problem/51NOD1009","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"51NOD1009.html","link":"","permalink":"http://fightinggg.github.io/indigo/51NOD1009.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog 51NOD1009 é“¾æ¥ https://www.51nod.com/Challenge/Problem.html#!#problemId=1009 é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é¢˜æ„å°±æ˜¯æ±‚1-nä¹‹å†…å‡ºç°è¿‡å¤šå°‘ä¸ª1ï¼Œæ¯”å¦‚11å‡ºç°ä¸¤æ¬¡ï¼Œ112å‡ºç°ä¸¤æ¬¡ã€‚ é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ¨¡ç‰ˆé¢˜ã€‚","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"51NOD1055","slug":"ACM/è€Blogè¿ç§»/reading_problem/51NOD1055","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"51NOD1055.html","link":"","permalink":"http://fightinggg.github.io/indigo/51NOD1055.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog 51NOD1055 é“¾æ¥ https://www.51nod.com/Challenge/Problem.html#!#problemId=1055 é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nä¸ªä¸åŒçš„æ­£æ•´æ•°A[i]ï¼Œæ‰¾å‡ºç”±è¿™äº›æ•°ç»„æˆçš„æœ€é•¿çš„ç­‰å·®æ•°åˆ—ã€‚N&lt;=1e4,A[i]&lt;=1e9 é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i][j]ä»£è¡¨æœ€åä¸¤é¡¹çš„ä¸‹æ ‡ä¸ºiå’Œj,i&lt;j,&nbsp;dp[i][j]&nbsp;&lt;---&nbsp;dp[k][i]&nbsp;if(a[k]+a[j]==2*a[i]) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä»å¤§åˆ°å°æšä¸¾j,åˆ™kå•è°ƒï¼Œæ•…å¤æ‚åº¦O(n)ã€‚","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"51NOD1084","slug":"ACM/è€Blogè¿ç§»/reading_problem/51NOD1084","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"51NOD1084.html","link":"","permalink":"http://fightinggg.github.io/indigo/51NOD1084.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog 51NOD1084 é“¾æ¥ https://www.51nod.com/Challenge/Problem.html#!#problemId=1084 é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸€ä¸ªM*NçŸ©é˜µä¸­æœ‰ä¸åŒçš„æ­£æ•´æ•°ï¼Œç»è¿‡è¿™ä¸ªæ ¼å­ï¼Œå°±èƒ½è·å¾—ç›¸åº”ä»·å€¼çš„å¥–åŠ±ï¼Œå…ˆä»å·¦ä¸Šèµ°åˆ°å³ä¸‹ï¼Œå†ä»å³ä¸‹èµ°åˆ°å·¦ä¸Šã€‚ç¬¬1éæ—¶åªèƒ½å‘ä¸‹å’Œå‘å³èµ°ï¼Œç¬¬2éæ—¶åªèƒ½å‘ä¸Šå’Œå‘å·¦èµ°ã€‚ä¸¤æ¬¡å¦‚æœç»è¿‡åŒä¸€ä¸ªæ ¼å­ï¼Œåˆ™è¯¥æ ¼å­çš„å¥–åŠ±åªè®¡ç®—ä¸€æ¬¡ï¼Œæ±‚èƒ½å¤Ÿè·å¾—çš„æœ€å¤§ä»·å€¼ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(2&nbsp;&lt;=&nbsp;M,&nbsp;N&nbsp;&lt;=&nbsp;200) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(1&nbsp;&lt;=&nbsp;A[i,j]&nbsp;&lt;=&nbsp;10000) é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å°†ä¸¤æ¡è·¯éƒ½çœ‹åšä»å·¦ä¸Šè§’å‡ºå‘ï¼Œdp[i][j][k][l]ä»£è¡¨ç¬¬ä¸€æ¬¡èµ°åˆ°(i,j)ç¬¬äºŒæ¬¡èµ°åˆ°ï¼ˆk,lï¼‰çš„æœ€å¤§ä»·å€¼ï¼Œ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è½¬ç§»æ–¹ç¨‹å¾ˆå¥½å†™ï¼Œçœ‹ä¼¼n^4ä¸ªçŠ¶æ€ï¼Œä½†æ˜¯èƒ½å¤Ÿæ³¨æ„åˆ°i+j=k+læ‰æ˜¯åˆæ³•çŠ¶æ€ï¼Œäºæ˜¯çŠ¶æ€å˜ä¸ºn^3","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"51NOD1405","slug":"ACM/è€Blogè¿ç§»/reading_problem/51NOD1405","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"51NOD1405.html","link":"","permalink":"http://fightinggg.github.io/indigo/51NOD1405.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog 51NOD1405 é“¾æ¥ https://www.51nod.com/Challenge/Problem.html#!#problemId=1405 é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»™nä¸ªèŠ‚ç‚¹çš„æ— æ ¹æ ‘ï¼Œè¾¹æƒä¸º1ï¼Œæ±‚æ ‘ä¸Šæ‰€æœ‰è·¯å¾„é•¿åº¦çš„å’Œã€‚ é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;éšä¾¿æ‰¾ä¸ªç‚¹ä½œä¸ºæ ¹ï¼Œæ ‘å½¢dpå‡ºson[i]ï¼šå­æ ‘içš„èŠ‚ç‚¹çš„ä¸ªæ•°ï¼Œå†æ¥ä¸€éæ ‘å½¢dpå°±å¯ä»¥æ±‚å‡ºä»¥iä¸ºèµ·ç‚¹çš„æ‰€æœ‰è·¯å¾„é•¿åº¦çš„å’Œã€‚","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"CCFæœ‰è¶£çš„æ•°","slug":"ACM/è€Blogè¿ç§»/reading_problem/CCFæœ‰è¶£çš„æ•°","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"CCFæœ‰è¶£çš„æ•°.html","link":"","permalink":"http://fightinggg.github.io/indigo/CCF%E6%9C%89%E8%B6%A3%E7%9A%84%E6%95%B0.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog CCFæœ‰è¶£çš„æ•° é“¾æ¥ ???? é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬æŠŠä¸€ä¸ªæ•°ç§°ä¸ºæœ‰è¶£çš„ï¼Œå½“ä¸”ä»…å½“ï¼š &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;å®ƒçš„æ•°å­—åªåŒ…å«0,&nbsp;1,&nbsp;2,&nbsp;3ï¼Œä¸”è¿™å››ä¸ªæ•°å­—éƒ½å‡ºç°è¿‡è‡³å°‘ä¸€æ¬¡ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;æ‰€æœ‰çš„0éƒ½å‡ºç°åœ¨æ‰€æœ‰çš„1ä¹‹å‰ï¼Œè€Œæ‰€æœ‰çš„2éƒ½å‡ºç°åœ¨æ‰€æœ‰çš„3ä¹‹å‰ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3.&nbsp;æœ€é«˜ä½æ•°å­—ä¸ä¸º0ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å› æ­¤ï¼Œç¬¦åˆæˆ‘ä»¬å®šä¹‰çš„æœ€å°çš„æœ‰è¶£çš„æ•°æ˜¯2013ã€‚é™¤æ­¤ä»¥å¤–ï¼Œ4ä½çš„æœ‰è¶£çš„æ•°è¿˜æœ‰ä¸¤ä¸ªï¼š2031å’Œ2301ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¯·è®¡ç®—æ°å¥½æœ‰nä½çš„æœ‰è¶£çš„æ•°çš„ä¸ªæ•°ã€‚ç”±äºç­”æ¡ˆå¯èƒ½éå¸¸å¤§ï¼Œåªéœ€è¦è¾“å‡ºç­”æ¡ˆé™¤ä»¥1000000007çš„ä½™æ•°ã€‚ é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ¨è½¬ç§»ï¼Œå¾—åˆ°ä¸€ä¸ªçŠ¶æ€æœºï¼Œç”¨çŸ©é˜µå¿«é€Ÿå¹‚åŠ é€Ÿ","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"bzoj2006","slug":"ACM/è€Blogè¿ç§»/reading_problem/bzoj2006","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"bzoj2006.html","link":"","permalink":"http://fightinggg.github.io/indigo/bzoj2006.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog bzoj2006 é“¾æ¥ https://acm.taifua.com/bzoj/p/2006.html é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»™ä¸€ä¸ªé•¿ä¸ºnçš„åºåˆ—ï¼Œè¾“å…¥ä¸€ä¸ªè¯¢é—®k,l,r,ä»ä¸­é€‰å‡ºkä¸ªé•¿åº¦ä»‹äº[l,r]ä¸­çš„ä¸åŒçš„åŒºé—´ï¼Œæœ€å¤§åŒ–&nbsp;kä¸ªå­æ®µå’Œ&nbsp;çš„å’Œï¼Œ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n&lt;5e5&nbsp;&nbsp;20s&nbsp; é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å…ˆæƒ³ä¸€ä¸ªæš´åŠ›ç®—æ³•ï¼Œæˆ‘ä»¬æŠŠæ‰€æœ‰é•¿åº¦ä»‹äº[l,r]çš„å­æ®µçš„å’Œéƒ½æ±‚å‡ºæ¥ï¼Œæ”¾è¿›ä¸€ä¸ªå †ï¼Œç„¶åå–å‡ºå‰kå¤§ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç„¶åæ¥ä¼˜åŒ–å®ƒï¼Œæˆ‘ä»¬è§‚å¯Ÿå–å‡ºå‰kå¤§çš„æ–¹æ³•ï¼Œæ˜¯ä¸€ä¸ªä¸€ä¸ªå–å‡ºæ¥çš„ï¼Œè¿™å°±è¯´æ˜äº†ï¼Œä¸€æ¬¡åªå–å‡ºäº†ä¸€ä¸ªï¼Œè¿™å°±æ˜¯çªç ´ç‚¹äºæ˜¯æˆ‘ä»¬è¿™æ ·æ¥åšï¼Œæˆ‘ä»¬å¯¹æ¯ä¸€ç§åŒºé—´æŒ‰ç»ˆç‚¹åˆ†ç±»ï¼Œæ˜¾ç„¶å¯èƒ½å–å‡ºæ¥çš„ï¼Œä¸€å®šæ˜¯ä»¥å½“å‰ç»ˆç‚¹ä¸ºç»ˆç‚¹çš„æ‰€æœ‰åŒºé—´ä¸­æœ€å¤§çš„é‚£ä¸€ä¸ªï¼Œé‚£æˆ‘ä»¬å°±ç»´æŠ¤æ•°åˆ—f[] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f[i]ä»£è¡¨ä»¥iä¸ºç»ˆç‚¹çš„æ‰€æœ‰å¯å–ä¸”æœªå–åŒºé—´ä¸­åŒºé—´å’Œæœ€å¤§çš„é‚£ä¸€ä¸ªï¼Œäºæ˜¯æˆ‘ä»¬è¿™æ ·æ¥æŸ¥è¯¢ï¼Œæ¯æ¬¡å–å‡ºfæ•°ç»„çš„æœ€å¤§å€¼ï¼Œç„¶åæ›´æ–°fæ•°ç»„ï¼Œå¦‚ä½•æ›´æ–°å‘¢ï¼Ÿæˆ‘ä»¬å†å¤šè®°å½•ä¸€ä¸ªä¿¡æ¯ï¼Œè®°å½•å½“å‰çš„f[i]æ˜¯åŸå…ˆæ‰€æœ‰ä»¥iä¸ºç»ˆç‚¹çš„æ‰€æœ‰é€‰æ‹©ä¸­çš„ç¬¬å‡ å¤§ï¼Œå‡è®¾ç°åœ¨è¿™ä¸ªæ˜¯ç¬¬kå¤§ï¼Œå½“æˆ‘ä»¬å–å‡ºæ¥ä¹‹åï¼Œåªè¦æ›´æ–°f[i]å³å¯ï¼Œæ›´æ–°å¯é€‰æ‹©çš„ç¬¬k+1å¤§ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬æ¥åŠ é€Ÿè¿™ä¸ªè¿‡ç¨‹ï¼Œå‘ç°få¯ä»¥ç”¨å †æ¥ç»´æŠ¤,ç”¨ä¸€ä¸ªä¸‰å…ƒç»„:&nbsp;&lt;EndAt,val,kth&gt;åˆ†åˆ«ä»£è¡¨è¯¥åŒºé—´ä»¥EndAtä¸ºç»“å°¾ï¼ŒåŒºé—´å’Œä¸ºvalï¼Œæ­¤åŒºé—´æ˜¯æ‰€æœ‰ä»¥EndAtä¸ºç»ˆç‚¹çš„å¯é€‰åŒºé—´çš„ç¬¬kthå¤§ï¼Œæ­¤ä¸‰å…ƒç¥–æŒ‰ç…§valå»ºå †å³å¯ã€‚","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"bzoj3123","slug":"ACM/è€Blogè¿ç§»/reading_problem/bzoj3123","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"bzoj3123.html","link":"","permalink":"http://fightinggg.github.io/indigo/bzoj3123.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog bzoj3123 é“¾æ¥ https://acm.taifua.com/bzoj/p/3123.html é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.æ±‚æ£®æ—ä»»æ„è·¯å¾„ç¬¬kå¤§ï¼Œ2.æ£®æ—åˆå¹¶ï¼Œæ£®æ—ç‚¹ä¸ªæ•°1e5 é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨ä¸»å¸­æ ‘ä¸ŠåŠ ä¸Šå¯å‘å¼åˆå¹¶å³å¯ï¼Œåˆå¹¶çš„æ—¶å€™æ›´æ–°lcaçš„å€å¢æ•°ç»„ï¼Œå¯å‘å¼ç”Ÿæˆæ–°çš„ä¸»å¸­æ ‘ï¼Œå¯ä»¥è¯æ˜åˆå¹¶çš„å‡æ‘Šæ—¶é—´å¤æ‚åº¦ä¸ºlgçº§åˆ«","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"bzoj3160","slug":"ACM/è€Blogè¿ç§»/reading_problem/bzoj3160","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"bzoj3160.html","link":"","permalink":"http://fightinggg.github.io/indigo/bzoj3160.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog bzoj3160 é“¾æ¥ https://acm.taifua.com/bzoj/p/3160.html é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨ä¸€ä¸ªåªå«æœ‰a,bçš„å­—ç¬¦ä¸²ä¸­é€‰ä¸€ä¸ªå­åºåˆ—ï¼Œ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.ä¸èƒ½æ˜¯å­ä¸² &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.ä½ç½®å’Œå­—ç¬¦éƒ½å…³äºæŸæ¡å¯¹ç§°è½´å¯¹ç§° é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æšä¸¾å¯¹ç§°è½´åœ¨ä¸‹æ ‡iå¤„ï¼Œå¤§è‡´æ¨å¯¼å¦‚ä¸‹ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\\sum_{x}{[a[i+x]==a[i-x]]}\\\\ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C-\\sum_{x}{(a[i+x]-a[i-x])^2}\\\\ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C-\\sum{(a[I+x]^2+a[i-x]^2-2a[I+x]a[I-x]}\\\\ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C+2\\sum{a[I+x]a[i-x]} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fft","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"bzoj3295","slug":"ACM/è€Blogè¿ç§»/reading_problem/bzoj3295","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"bzoj3295.html","link":"","permalink":"http://fightinggg.github.io/indigo/bzoj3295.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog bzoj3295 é“¾æ¥ https://acm.taifua.com/bzoj/p/3295.html é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»™ä¸€ä¸ªåºåˆ—ï¼Œé•¿åº¦ä¸ºnï¼ˆ&lt;1e5)ï¼Œmä¸ªæ“ä½œï¼Œæ¯æ¬¡åˆ é™¤ä¸€ä¸ªæ•°ï¼Œåˆ é™¤æ•°åè¦æ±‚ä½ è¾“å‡ºåˆ é™¤å‰æ•´ä¸ªåºåˆ—çš„é€†åºå¯¹çš„ä¸ªæ•° é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç”¨æ ‘çŠ¶æ•°ç»„å¥—ä¸»å¸­æ ‘,ç»´æŠ¤æƒå€¼çº¿æ®µæ ‘ï¼Œè¢«åˆ é™¤çš„æ•°çš„å‰é¢çš„åŒºé—´ä¸Šæœ‰å¤šå°‘ä¸ªæ•°å¤§äºè¢«åˆ é™¤æ•°ï¼Œè¢«åˆ é™¤çš„æ•°çš„åé¢çš„åŒºé—´æœ‰å¤šå°‘ä¸ªæ•°å°äºè¢«åˆ é™¤æ•°ï¼Œ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™ä¸ªå¾ˆå®¹æ˜“åœ¨çº¿æ®µæ ‘ä¸Šå®ç°ï¼Œæ›´æ–°çš„è¯ï¼Œæ˜¯ä¸»å¸­æ ‘çš„å¥—è·¯æ›´æ–°ã€‚","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"bzoj3527","slug":"ACM/è€Blogè¿ç§»/reading_problem/bzoj3527","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"bzoj3527.html","link":"","permalink":"http://fightinggg.github.io/indigo/bzoj3527.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog bzoj3527 é“¾æ¥ https://acm.taifua.com/bzoj/p/3527.html é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é‚£æ˜¯ä¸€å¼ å›¾ç‰‡ é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;E_j=\\sum_{i=0}^{j-1}{\\frac{q_i}{(i-j)^2}}-\\sum_{i=j+1}^{n}{\\frac{q_i}{(i-j)^2}}\\\\ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;f[I]=\\frac{1}{i*i}\\\\ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;E_j=\\sum_{I=0}^{j-1}{q_i*f(j-i)}-\\sum_{I=j+1}^{n}{q_i*f(i-j)}\\\\ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å‰é¢ä¸€é¡¹ä¸‹æ ‡å’Œä¸ºå®šå€¼ï¼Œåé¢ä¸€é¡¹ä¸‹æ ‡å·®ä¸ºå®šå€¼ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fft","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"bzoj3932","slug":"ACM/è€Blogè¿ç§»/reading_problem/bzoj3932","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"bzoj3932.html","link":"","permalink":"http://fightinggg.github.io/indigo/bzoj3932.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog bzoj3923 é“¾æ¥ https://acm.taifua.com/bzoj/p/3932.html é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»™ä½ å¾ˆnä¸ªæ—¶é—´æ®µä»¥åŠè¿™ä¸€æ®µçš„æƒå€¼ï¼ˆn&lt;1e5ï¼‰ï¼Œmä¸ªè¯¢é—®ï¼ˆm&lt;1e5ï¼‰è¯¢é—®ä»»æ„æ—¶é—´ç‚¹ä¸Šï¼Œå‰kå°çš„æƒå€¼çš„å’Œ é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç¦»çº¿æ—¶é—´æ®µåï¼Œç»´æŠ¤æ¯ä¸€ä¸ªæ—¶é—´ç‚¹ç‚¹æƒå€¼çº¿æ®µæ ‘ï¼Œåœ¨ç»´æŠ¤æƒå€¼çº¿æ®µæ ‘çš„æ—¶å€™å¤šç»´æŠ¤ä¸€ä¸ªä¿¡æ¯-&gt;æƒå€¼å’Œ","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"bzoj3992","slug":"ACM/è€Blogè¿ç§»/reading_problem/bzoj3992","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"bzoj3992.html","link":"","permalink":"http://fightinggg.github.io/indigo/bzoj3992.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog bzoj3992 é“¾æ¥ https://acm.taifua.com/bzoj/p/3992.html é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å°Cæœ‰ä¸€ä¸ªé›†åˆSï¼Œé‡Œé¢çš„å…ƒç´ éƒ½æ˜¯å°äºMçš„éè´Ÿæ•´æ•°ã€‚ä»–ç”¨ç¨‹åºç¼–å†™äº†ä¸€ä¸ªæ•°åˆ—ç”Ÿæˆå™¨ï¼Œå¯ä»¥ç”Ÿæˆä¸€ä¸ªé•¿åº¦ä¸ºNçš„æ•°åˆ—ï¼Œæ•°åˆ—ä¸­çš„æ¯ä¸ªæ•°éƒ½å±äºé›†åˆSã€‚å°Cç”¨è¿™ä¸ªç”Ÿæˆå™¨ç”Ÿæˆäº†è®¸å¤šè¿™æ ·çš„æ•°åˆ—ã€‚ä½†æ˜¯å°Cæœ‰ä¸€ä¸ªé—®é¢˜éœ€è¦ä½ çš„å¸®åŠ©ï¼šç»™å®šæ•´æ•°xï¼Œæ±‚æ‰€æœ‰å¯ä»¥ç”Ÿæˆå‡ºçš„ï¼Œä¸”æ»¡è¶³æ•°åˆ—ä¸­æ‰€æœ‰æ•°çš„ä¹˜ç§¯mod&nbsp;Mçš„å€¼ç­‰äºxçš„ä¸åŒçš„æ•°åˆ—çš„æœ‰å¤šå°‘ä¸ªã€‚å°Cè®¤ä¸ºï¼Œä¸¤ä¸ªæ•°åˆ—{Ai}å’Œ{Bi}ä¸åŒï¼Œå½“ä¸”ä»…å½“è‡³å°‘å­˜åœ¨ä¸€ä¸ªæ•´æ•°iï¼Œæ»¡è¶³Aiâ‰ Biã€‚å¦å¤–ï¼Œå°Cè®¤ä¸ºè¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œå› æ­¤ä»–åªéœ€è¦ä½ å¸®åŠ©ä»–æ±‚å‡ºç­”æ¡ˆmod&nbsp;1004535809çš„å€¼å°±å¯ä»¥äº†ã€‚ é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i][j]å‰iä¸ªæ•°ç§¯ä¸ºjçš„æ–¹æ¡ˆæ•°ï¼Œç­”æ¡ˆåœ¨dp[N][X] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i][j]=dp[i-1][j/S[1]]+dp[i-1][j/S[2]]... &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ¢æˆåŸæ ¹å°±æˆäº†å‡æ³•ï¼Œç„¶åæ„é€ ä¸€ä¸ªå¤šé¡¹å¼ï¼Œå‘ç°dp[i]=dp[i-1]*u &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æœ€ådp[i]=dp[1]*u^(n-1) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç”¨å¿«é€Ÿå¹‚åŠ é€ŸNTT","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"bzoj4827","slug":"ACM/è€Blogè¿ç§»/reading_problem/bzoj4827","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"bzoj4827.html","link":"","permalink":"http://fightinggg.github.io/indigo/bzoj4827.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog bzoj4827 é“¾æ¥ https://acm.taifua.com/bzoj/p/4827.html é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»™ä¸¤ä¸ªé•¿åº¦ä¸ºnçš„é¦–å°¾ç›¸è¿çš„åºåˆ—a,b,ä½ å¯ä»¥æ—‹è½¬ä»–ä»¬ï¼Œå¯ä»¥è®©æ•´ä¸ªåºåˆ—åŠ ä¸Šä¸€ä¸ªå®šå€¼ï¼Œæœ€åè¦æœ€å°åŒ–sigma((ai-bi)^2) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n&lt;5e4, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ai, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bi&lt;100&nbsp; é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ±‚sigma((a[i]-b[i+k]+C)^2)çš„æœ€å€¼-&gt;æ±‚sigma(a[i]*b[i+k])çš„æœ€å€¼-&gt;ç¿»è½¬ä¸€ä¸ªä¸²-&gt;sigma(a[n-i]*b[i+k])-&gt;fft","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"cf1036D","slug":"ACM/è€Blogè¿ç§»/reading_problem/cf1036D","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"cf1036D.html","link":"","permalink":"http://fightinggg.github.io/indigo/cf1036D.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog cf1036D é“¾æ¥ https://codeforc.es/problemset/problem/1036/D é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»™ä½ ä¸¤ä¸ªä¸²s,t&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|s|&lt;3e5&nbsp;|t|&lt;3e5 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å…è®¸å¯¹ä¸¤ä¸ªä¸²è¿›è¡Œä»»æ„æ¬¡å¦‚ä¸‹æ“ä½œï¼š &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é€‰ä¸€ä¸ªåŒºé—´ï¼Œç”¨åŒºé—´å’Œä»£æ›¿æ•´ä¸ªåŒºé—´çš„å…ƒç´  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æœ€ç»ˆè¦æ±‚è¾¾åˆ°s==t &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¦æ±‚æœ€å¤§åŒ–s==tæ—¶å€™çš„|s| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è‹¥ä¸å¯èƒ½ï¼Œè¾“å‡º-1 é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è´ªå¿ƒåšæ³•: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä»–ä»¬ä¿©å„è‡ªä¸€ä¸ªæŒ‡é’ˆï¼Œå¾€åèµ°ï¼Œè°å°è°å…ˆèµ°ï¼Œä¸ç­‰çš„è¯ï¼Œå†æ¥è°å°è°å…ˆèµ°...&nbsp;ç›¸ç­‰æ—¶è®©è®¡æ•°å™¨åŠ 1ï¼Œç„¶åä¸€èµ·èµ°,æœ‰è§£çš„è¯è¾“å‡ºè®¡æ•°å™¨å°±æ˜¯ç­”æ¡ˆäº† &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å…¶å®ä¹Ÿæ˜¯å°ºå–æ³• &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å†ç»†ç»†åˆ†æ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬å‘ç°å¯ä»¥dpè¯æ˜ï¼Œdp[i]ä»£è¡¨sä¸²çš„å‰ié¡¹èƒ½å¦åŒ¹é…tä¸²çš„å‰jé¡¹ï¼Œè‹¥èƒ½åŒ¹é…ï¼Œä¸ºdp[i]èµ‹å€¼jï¼Œå¦åˆ™å®šä¹‰æ­¤dpæ²¡æœ‰æ„ä¹‰ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬å‘ç°æœ‰æ„ä¹‰çš„dp,å…¶å€¼å…³äºiå•è°ƒï¼Œæ— æ„ä¹‰çš„dpï¼Œå…¶åˆ¤æ–­ä¾æ®ï¼Œä¹Ÿå…³äºiå•è°ƒ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;äºæ˜¯å¯ä»¥Oï¼ˆn)å®Œæˆdp &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æœ‰æ„ä¹‰çš„dpå€¼çš„ä¸ªæ•°å°±æ˜¯ç­”æ¡ˆ","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"cf165C","slug":"ACM/è€Blogè¿ç§»/reading_problem/cf165C","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"cf165C.html","link":"","permalink":"http://fightinggg.github.io/indigo/cf165C.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog cf165C é“¾æ¥ https://codeforc.es/problemset/problem/165/C é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»™ä½ ä¸€ä¸ª01ä¸²s,|s|&lt;1e6 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»™ä½ ä¸€ä¸ªk,&nbsp;k&lt;|s| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è®©ä½ æ±‚sçš„å­ä¸²ä¸­æœ‰å¤šå°‘ä¸ªåŒ…å«äº†æ°å¥½kä¸ª1 é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp1[i]ä»£è¡¨ä»¥iç»“å°¾ï¼Œæ°å¥½åŒ…å«äº†kä¸ª1çš„æœ€å°èµ·ç‚¹ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp2[i]ä»£è¡¨ä»¥iç»“å°¾ï¼Œæ°å¥½åŒ…å«äº†kä¸ª1çš„æœ€å¤§èµ·ç‚¹ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ˜¾ç„¶ä¸¤ä¸ªdpéƒ½å…³äºiå•è°ƒä¸å‡ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ–è€…è¿™æ · &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pre[i]ç»Ÿè®¡å‰iä¸ªæ•°é‡Œé¢æœ‰å¤šå°‘ä¸ª1 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç„¶ålower_bound&nbsp;+&nbsp;upper_bound&nbsp;æpreæ•°ç»„","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"cf446A","slug":"ACM/è€Blogè¿ç§»/reading_problem/cf446A","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"cf446A.html","link":"","permalink":"http://fightinggg.github.io/indigo/cf446A.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog cf446A é“¾æ¥ http://codeforces.com/problemset/problem/446/A é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»™ä½ ä¸€ä¸ªé•¿ä¸ºnçš„æ•°ç»„ï¼Œå…è®¸ä½ ä¿®æ”¹ä¸€ä¸ªå…ƒç´ ï¼Œè¦æ±‚ä½ æœ€å¤§åŒ–ä¿®æ”¹å®Œåçš„æœ€é•¿ä¸¥æ ¼å•è°ƒå¢å­ä¸² é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è®°å½•f(i)&nbsp;ä¸ºä»¥ç¬¬iä¸ªå…ƒç´ ä¸ºç»ˆç‚¹çš„ä¸¥æ ¼å•è°ƒå¢å­ä¸²çš„é•¿åº¦ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è®°å½•g(i)&nbsp;ä¸ºä»¥ç¬¬iä¸ªå…ƒç´ ä¸ºèµ·ç‚¹çš„ä¸¥æ ¼å•è°ƒå¢å­ä¸²çš„é•¿åº¦ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æšä¸¾ä¿®æ”¹å…ƒç´ ï¼Œé€šè¿‡få’Œgå¯ä»¥å¿«é€Ÿæ±‚å‡ºç­”æ¡ˆ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ³¨æ„ç‰¹åˆ¤è¾¹ç•Œ","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"cf466","slug":"ACM/è€Blogè¿ç§»/reading_problem/cf466","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"cf466.html","link":"","permalink":"http://fightinggg.github.io/indigo/cf466.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog cf466C é“¾æ¥ http://codeforces.com/problemset/problem/466/C é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»™ä½ ä¸€ä¸ªé•¿ä¸ºnçš„æ•°ç»„ï¼Œæ•°ç»„å…ƒç´ æœ‰æ­£æœ‰è´Ÿï¼Œè®©ä½ åˆ’åˆ†æ•°ç»„ä¸ºä¸‰éƒ¨åˆ† é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»Ÿè®¡å‰ç¼€å’Œä¸ºsum/3çš„ä½ç½®ï¼Œåç¼€å’Œsum/3çš„ä½ç½®ï¼Œ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å€Ÿæ­¤ç»Ÿè®¡åç¼€ä¸­æœ‰å¤šå°‘ä¸ªåç¼€å’Œä¸ºsum/3çš„ä½ç½®,è®¡ä½œg(i) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è½¬æ¢é¢˜æ„ä¸ºæ±‚å¯¹äºæ¯ä¸€ä¸ªå‰ç¼€å’Œä¸ºsum/3çš„ä½ç½®ï¼Œæ±‚å’Œg(i+1) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å°±æ˜¯ç­”æ¡ˆ","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"cf511D","slug":"ACM/è€Blogè¿ç§»/reading_problem/cf511D","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"cf511D.html","link":"","permalink":"http://fightinggg.github.io/indigo/cf511D.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog cf511D é“¾æ¥ https://codeforces.com/contest/1153/problem/D é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»™ä½ ä¸€æ£µæ ‘ï¼Œæ¯ä¸ªç‚¹ä¸Šæœ‰ä¸€ä¸ªflag,å¦‚æœflag=0ï¼Œè¡¨ç¤ºè¿™ä¸ªç‚¹çš„æƒå€¼æ˜¯æ‰€æœ‰å­èŠ‚ç‚¹æƒå€¼ä¸­çš„æœ€å°å€¼ã€‚å¦‚æœflag=1ï¼Œè¡¨ç¤ºè¿™ä¸ªç‚¹çš„æƒå€¼æ˜¯æ‰€æœ‰å­èŠ‚ç‚¹æƒå€¼ä¸­çš„æœ€å¤§å€¼ã€‚å¦‚æœä¸€å…±æœ‰kä¸ªå¶å­èŠ‚ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ç»™æ¯ä¸€ä¸ªå¶å­èŠ‚ç‚¹å®‰æ’ä¸€ä¸ª1-kä¸­çš„æƒå€¼ï¼Œä½†æ˜¯æ¯ä¸ªæƒå€¼åªèƒ½ä½¿ç”¨ä¸€æ¬¡ï¼Œç°åœ¨æƒ³çŸ¥é“æ ¹èŠ‚ç‚¹æƒå€¼çš„æœ€å¤§å€¼ã€‚ é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i]ä»£è¡¨åœ¨ä»¥iä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘ä¸­ï¼Œiçš„æœ€å¤§æ’å &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;flag=1&nbsp;dp[rt]=max(ct[rt]-ct[son]+dp[son]); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;flag=0&nbsp;dp[rt]=1&nbsp;,&nbsp;dp[rt]+=dp[son]-1;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"cf515B","slug":"ACM/è€Blogè¿ç§»/reading_problem/cf515B","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"cf515B.html","link":"","permalink":"http://fightinggg.github.io/indigo/cf515B.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog cf515B é“¾æ¥ http://codeforces.com/contest/1066/problem/B é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æœ‰nä¸ªæ ¼å­ï¼Œæ¯ä¸ªæ ¼å­æœ‰01æƒå€¼ï¼Œ1ä»£è¡¨è¿™ä¸ªæ ¼å­å¯ä»¥å®‰è£…æš–æ°”ï¼Œæ¯ä¸ªæš–æ°”å¯ä»¥æ¸©æš–è·ç¦»è‡ªå·±å°äºrçš„æ ¼å­ï¼Œé—®æœ€å°‘å®‰è£…å‡ ä¸ªæš–æ°”èƒ½æ¸©æš–nä¸ªæ ¼å­ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&lt;=n&lt;=1e3 é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i]ä»£è¡¨åœ¨ç¬¬iä¸ªä½ç½®æ”¾ä¸€ä¸ªæš–æ°”ï¼Œèƒ½æ¸©æš–å‰iä¸ªæ ¼å­çš„æœ€å°‘å®‰è£…çš„æš–æ°”æ•°ï¼Œ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i]&nbsp;&lt;---&nbsp;dp[j]&nbsp;(i-j&lt;r) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç­”æ¡ˆåœ¨dp[n-r+1,n]ä¸Š &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ˜æ˜¾dpå¯ä»¥ç”¨å•è°ƒé˜Ÿåˆ—ä¼˜åŒ–ï¼Œç»´æŠ¤ä¸€ä¸ªiå•è°ƒå¢ï¼Œdpå€¼å•è°ƒå‡çš„å•è°ƒé˜Ÿåˆ—å³å¯ã€‚","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"cf517B","slug":"ACM/è€Blogè¿ç§»/reading_problem/cf517B","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"cf517B.html","link":"","permalink":"http://fightinggg.github.io/indigo/cf517B.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog cf517B é“¾æ¥ http://codeforces.com/contest/1072/problem/B é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é¢˜æ„å°±æ˜¯ç»™ä½ ä¸€ä¸ªAåºåˆ—å’Œä¸€ä¸ªBåºåˆ— &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è®©ä½ æ„é€ ä¸€ä¸ªtåºåˆ—ï¼Œtåºåˆ—æ»¡è¶³ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ğ‘ğ‘–=ğ‘¡ğ‘–|ğ‘¡ğ‘–+1 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ğ‘ğ‘–=ğ‘¡ğ‘–&ampğ‘¡ğ‘–+1 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(0â‰¤ğ‘ğ‘–â‰¤3) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(0â‰¤ğ‘ğ‘–â‰¤3) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(2â‰¤ğ‘›â‰¤1e5)&nbsp; é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æœ€åä¸¤ä¸ªæ•°åªæœ‰å››ä¸ªæƒ…å†µï¼Œåå‘æš´åŠ›é€’æ¨","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"cf517D","slug":"ACM/è€Blogè¿ç§»/reading_problem/cf517D","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"cf517D.html","link":"","permalink":"http://fightinggg.github.io/indigo/cf517D.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog cf517D é“¾æ¥ http://codeforces.com/contest/1072/problem/D é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»™ä½ ä¸€ä¸ªå­—ç¬¦çŸ©é˜µï¼Œèµ·ç‚¹åœ¨å·¦ä¸Šè§’ï¼Œç»ˆç‚¹åœ¨å³ä¸‹è§’ï¼Œæ¯æ¬¡å¯ä»¥å‘å³æˆ–è€…å‘ä¸‹èµ°ï¼Œæœ€å¤šå¯ä»¥æ”¹å˜è¿™ä¸ªå­—ç¬¦çŸ©é˜µä¸­çš„kä¸ªå­—ç¬¦ï¼Œä½¿å¾—è¿™ä¸ªè·¯å¾„æ„æˆçš„å­—ç¬¦ä¸²å­—å…¸åºæœ€å°ã€‚çŸ©é˜µn*n,1â‰¤nâ‰¤2000,0â‰¤kâ‰¤n^2 é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è´ªå¿ƒï¼Œæ”¹å®Œä¹‹åè‚¯å®šæ˜¯è‡³å°‘å‰kä¸ªéƒ½ä¸º'a',ç„¶åæˆ‘ä»¬dp[i][j]ï¼Œå¤„ç†å‡ºæ¯ä¸€ä¸ªèµ·ç‚¹èµ°åˆ°æ¯ä¸€ä¸ªï¼ˆi,jï¼‰çš„è·¯çº¿ä¸Šæœ€å¤šä¼šç»è¿‡å¤šå°‘ä¸ª'a'ï¼Œç„¶åï¼Œå¯¹äºæ¯ä¸ªæ»¡è¶³dp[i][j]+k&gt;=i+j-1çš„ç‚¹(i,j)ï¼Œæ„å»ºå‡½æ•°f(i,j)=min(i+j-1,dp[i][j]+k),è¡¨ç¤ºåˆ°è¾¾ç‚¹(i,j)æœ€é•¿ä¼šç»è¿‡çš„å…¨éƒ¨éƒ½æ˜¯'a'çš„å‰ç¼€çš„é•¿åº¦ï¼Œå–å‡ºæœ€å¤§çš„å‡ ä¸ªç‚¹ï¼Œç„¶åbfså†å¤„ç†è¿™äº›ç‚¹åˆ°ç»ˆç‚¹çš„çš„è·¯å¾„ï¼Œå–å‡ºå­—å…¸åºæœ€å°çš„ï¼Œå’Œå‰é¢çš„å‰ç¼€ç»„åˆå°±æ˜¯ç­”æ¡ˆçš„æ–¹æ¡ˆäº†ã€‚","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"cf518D","slug":"ACM/è€Blogè¿ç§»/reading_problem/cf518D","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"cf518D.html","link":"","permalink":"http://fightinggg.github.io/indigo/cf518D.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog cf518D é“¾æ¥ https://codeforces.com/contest/1068/problem/D é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é•¿åº¦ä¸ºn(1e5)çš„æ•°ç»„ï¼Œå€¼åŸŸä¸º1åˆ°200ï¼Œä¸”æ¯ä¸ªæ•°çš„æ—è¾¹å¿…æœ‰ä¸€ä¸ªå¤§äºç­‰äºå®ƒçš„æ•°ã€‚æœ‰äº›æ•°å­—è¢«æ“¦æ‰äº†ï¼Œé—®å…±æœ‰å‡ ç§å¡«å……çš„æ–¹æ¡ˆæ»¡è¶³ä¸Šè¿°è¦æ±‚ã€‚ é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i][j][0]&nbsp;å¡«å®Œäº†å‰iä½ä¸”ç¬¬iä½å¡«j,ä¸”ç¬¬iä½å°äºi-1ä½ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i][j][1]&nbsp;å¡«å®Œäº†å‰iä½ä¸”ç¬¬iä½å¡«j,ä¸”ç¬¬iä½ç­‰äºi-1ä½ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i][j][2]&nbsp;å¡«å®Œäº†å‰iä½ä¸”ç¬¬iä½å¡«j,ä¸”ç¬¬iä½å¤§äºi-1ä½ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i][j][0]&nbsp;&lt;---&nbsp;dp[i-1][k][0],dp[i-1][k][1],&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j&lt;k &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i][j][1]&nbsp;&lt;---&nbsp;dp[i-1][k][0],dp[i-1][k][1],dp[i-1][k][2]&nbsp;j=k &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i][j][2]&nbsp;&lt;---&nbsp;dp[i-1][k][0],dp[i-1][k][1],dp[i-1][k][2]&nbsp;j&gt;k","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"cf521F1","slug":"ACM/è€Blogè¿ç§»/reading_problem/cf521F1","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"cf521F1.html","link":"","permalink":"http://fightinggg.github.io/indigo/cf521F1.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog cf521F1 é“¾æ¥ http://codeforces.com/contest/1077/problem/F1 é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»™ä½ nä¸ªç‚¹ï¼Œæ¯ä¸ªç‚¹æœ‰ä¸ªæƒå€¼a[i]ï¼Œå¯ä»¥åœ¨nä¸ªç‚¹ä¸­é€‰xä¸ªç‰¹æ®Šç‚¹ï¼Œè¦ä¿è¯æœ€åçš„åºåˆ—ä¸­æ¯è¿ç»­kä¸ªç‚¹éƒ½è‡³å°‘æœ‰ä¸€ä¸ªç‰¹æ®Šç‚¹ï¼Œé—®xä¸ªç‰¹æ®Šç‚¹çš„æƒå€¼å’Œæœ€å¤§å¯ä»¥æ˜¯å¤šå°‘ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&lt;=k,x&lt;=n&lt;=200 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&lt;=k,x&lt;=n&lt;=200 é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i][j]å‰iä¸ªç‚¹é€‰jä¸ªç‰¹æ®Šç‚¹ï¼Œä¸”ç¬¬jä¸ªç‚¹åœ¨ä½ç½®i &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i][j]=max(dp[ii][j-1])&nbsp;i-ii-1&lt;=k","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"cf521F2","slug":"ACM/è€Blogè¿ç§»/reading_problem/cf521F2","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"cf521F2.html","link":"","permalink":"http://fightinggg.github.io/indigo/cf521F2.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog cf521F2 é“¾æ¥ http://codeforces.com/contest/1077/problem/F2 é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»™ä½ nä¸ªç‚¹ï¼Œæ¯ä¸ªç‚¹æœ‰ä¸ªæƒå€¼a[i]ï¼Œå¯ä»¥åœ¨nä¸ªç‚¹ä¸­é€‰xä¸ªç‰¹æ®Šç‚¹ï¼Œè¦ä¿è¯æœ€åçš„åºåˆ—ä¸­æ¯è¿ç»­kä¸ªç‚¹éƒ½è‡³å°‘æœ‰ä¸€ä¸ªç‰¹æ®Šç‚¹ï¼Œé—®xä¸ªç‰¹æ®Šç‚¹çš„æƒå€¼å’Œæœ€å¤§å¯ä»¥æ˜¯å¤šå°‘ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&lt;=k,x&lt;=n&lt;=5000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&lt;=k,x&lt;=n&lt;=5000 é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i][j]å‰iä¸ªç‚¹é€‰jä¸ªç‰¹æ®Šç‚¹ï¼Œä¸”ç¬¬jä¸ªç‚¹åœ¨ä½ç½®i &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i][j]=max(dp[ii][j-1])&nbsp;i-ii-1&lt;=k &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å…ˆä¸ç®¡jï¼Œç»´æŠ¤ä¸€ä¸ªiå•è°ƒå¢ï¼Œdpå€¼å•è°ƒå‡çš„é˜Ÿåˆ—å³å¯ã€‚","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"cf522C","slug":"ACM/è€Blogè¿ç§»/reading_problem/cf522C","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"cf522C.html","link":"","permalink":"http://fightinggg.github.io/indigo/cf522C.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog cf522C é“¾æ¥ http://codeforces.com/contest/1079/problem/C é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»™ä¸€ä¸ªåºåˆ—ï¼Œè®©ä½ æ„é€ ä¸€ä¸ªç›¸ç­‰é•¿åº¦çš„åºåˆ—ï¼Œæ„é€ çš„åºåˆ—ä¸­æ¯ä¸ªå…ƒç´ çš„å–å€¼èŒƒå›´éƒ½ä¸º[1,5]ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ„é€ è¦æ±‚ï¼š &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1.&nbsp;è‹¥åŸåºåˆ—a[i]==a[i+1]ï¼Œé‚£ä¹ˆæ„é€ çš„åºåˆ—b[i]!=b[i+1]ï¼› &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;è‹¥åŸåºåˆ—a[i]&gt;a[i+1]ï¼Œé‚£ä¹ˆæ„é€ çš„åºåˆ—b[i]&gt;b[i+1]ï¼› &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3.&nbsp;è‹¥åŸåºåˆ—a[i]&lt;a[i+1]ï¼Œé‚£ä¹ˆæ„é€ çš„åºåˆ—b[i]&lt;b[i+1]ï¼› &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è‹¥ç­”æ¡ˆå­˜åœ¨ï¼Œè¾“å‡ºä»»æ„ä¸€ä¸ªï¼Œå¦åˆ™è¾“å‡º-1ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(1â‰¤ğ‘›â‰¤105) é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¼€ä¸€ä¸ªdp[N][5]ï¼Œå¡«å®Œäº†å‰iä½ä¸”ç¬¬iä½æ˜¯kçš„æ–¹æ¡ˆæ˜¯å¦å¯è¡Œ","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"cf523C","slug":"ACM/è€Blogè¿ç§»/reading_problem/cf523C","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"cf523C.html","link":"","permalink":"http://fightinggg.github.io/indigo/cf523C.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog cf523C é“¾æ¥ https://codeforc.es/contest/1061/problem/C é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»™ä½ ä¸€ä¸ªn(&nbsp;(1â‰¤ğ‘›â‰¤100000)ä¸ªæ•°çš„æ•°åˆ—ï¼Œè®©ä½ æ„é€ ä¸€ä¸ªåºåˆ—ï¼Œä¿è¯æ¯ä¸ªä½ç½®çš„æ•°å­—èƒ½æ•´é™¤è¿™ä¸ªä½ç½®çš„ä¸‹æ ‡ã€‚é—®æœ‰å¤šå°‘ä¸ªå­åºåˆ—æ»¡è¶³è¿™ç§åšæ³•ã€‚ é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i][j]ä»£è¡¨å‰iä¸ªæ•°ï¼Œæ„æˆé•¿åº¦ä¸ºjçš„æ•°åˆ—çš„æ–¹æ¡ˆæ•° &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i][j]&nbsp;&lt;---&nbsp;dp[i-1][j-1]&nbsp;&nbsp;j|a[i]&nbsp;é¢„å¤„ç†æ¯ä¸ªæ•°çš„å› å­å³å¯ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç„¶åå‘ç°è‹¥ä»å¤§åˆ°å°æšä¸¾å› å­åˆ™ç¬¬ä¸€ç»´å¯ä»¥ä¼˜åŒ–æ‰ï¼Œ","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"cf526D","slug":"ACM/è€Blogè¿ç§»/reading_problem/cf526D","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"cf526D.html","link":"","permalink":"http://fightinggg.github.io/indigo/cf526D.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog cf526D é“¾æ¥ https://codeforces.com/contest/1084/problem/D é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»™ä½ ä¸€æ£µæ ‘ï¼Œåœ¨æ ‘ä¸­æ‰¾å‡ºä¸€æ¡è·¯å¾„ï¼ˆä¹Ÿå¯ä»¥åªæœ‰ä¸€ä¸ªç‚¹ï¼‰ï¼Œè®©è¿™æ¡è·¯å¾„(ç‚¹æƒå’Œ-è¾¹æƒå’Œ)æœ€å¤§ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ ‘çš„èŠ‚ç‚¹æœ€å¤š3e5ï¼Œæƒå€¼æœ€å¤§1e9 é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;éšä¾¿æ‰¾ä¸ªèŠ‚ç‚¹å½“æ ¹ï¼Œdp1[i]ä»£è¡¨ä»¥iä¸ºæ ¹çš„å­æ ‘ä¸Šï¼Œç»è¿‡iç‚¹ï¼Œèµ°å‘å­æ ‘çš„è·¯å¾„çš„æœ€å¤§æƒå€¼ï¼Œdp2[i]ä¸ºæ¬¡å¤§ã€‚å¾—åˆ°æ­¤æ•°ç»„ä¹‹åï¼Œå®šä¹‰è·¯å¾„çš„æ·±åº¦èŠ‚ç‚¹ä¸ºè·¯å¾„ä¸Šçš„æ‰€æœ‰èŠ‚ç‚¹ä¸­ï¼Œæ·±åº¦æœ€å°çš„é‚£ä¸ªèŠ‚ç‚¹ï¼Œæšä¸¾æ¯ä¸ªèŠ‚ç‚¹ä½œä¸ºæ·±åº¦èŠ‚ç‚¹çš„æ—¶å€™çš„æœ€å¤§æƒå€¼è·¯å¾„ï¼Œå¦‚æœdp2&lt;0åˆ™å–dp1,å¦åˆ™å–dp1+dp2è½¬ç§»","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"cf531F","slug":"ACM/è€Blogè¿ç§»/reading_problem/cf531F","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"cf531F.html","link":"","permalink":"http://fightinggg.github.io/indigo/cf531F.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog cf531F é“¾æ¥ https://codeforces.com/contest/1102/problem/F é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»™ä½ ä¸€ä¸ªæœ€å¤š16è¡Œ1e4åˆ—çš„çŸ©é˜µAï¼Œå¯¹çŸ©é˜µæŒ‰åˆ—ä¼˜å…ˆéå†ï¼Œå¾—åˆ°ä¸€ç»´æ•°ç»„Bï¼Œå½“ç„¶ï¼Œæ­¤æ—¶ä¹Ÿå¯ä»¥è¾“Aæ˜¯BæŒ‰åˆ—ä¼˜å…ˆè®¿é—®å¾—åˆ°çš„äºŒç»´æ•°ç»„ï¼Œå®šä¹‰ä¸€ç»´æ•°ç»„çš„æƒä¸ºä»»æ„ç›¸é‚»ä¸¤ä¸ªæ•°çš„å·®çš„ç»å¯¹å€¼çš„å€¼å°å€¼ï¼Œä½ å¯ä»¥å¯¹Aè¿›è¡Œè¡Œäº’æ¢ï¼Œä½†ä¸å¯åˆ—äº’æ¢ï¼Œé—®æ¢å®Œä¹‹åï¼Œå¯¹çŸ©é˜µæŒ‰åˆ—ä¼˜å…ˆéå†ä¹‹åçš„Bçš„æƒçš„æœ€å¤§å€¼æ˜¯å¤šå°‘ã€‚ é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åˆ†æå‘ç°ä¸åˆ—æ•°é‡æ— å…³ï¼Œå†åˆ†æï¼Œå‘ç°è¡Œäº’æ¢ï¼Œç›¸å½“äºåœ¨å¯¹è¡Œé‡æ’åˆ—ï¼Œå†åˆ†æå‘ç°è¿™å…¶å®æ˜¯ä¸€ä¸ªHamiltonpathã€‚æšä¸¾èµ·ç‚¹å’Œç»ˆç‚¹å³å¯ã€‚","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"cf544E","slug":"ACM/è€Blogè¿ç§»/reading_problem/cf544E","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"cf544E.html","link":"","permalink":"http://fightinggg.github.io/indigo/cf544E.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog cf544E é“¾æ¥ https://codeforces.com/contest/1133/problem/E é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»™ä½ nä¸ªæ•°ï¼Œåˆ†æˆkç»„ï¼Œå…è®¸æŸäº›æ•°ä¸æ”¾ï¼Œè¦æ±‚æ¯ç»„å†…æœ€å¤§å€¼ä¸æœ€å°å€¼çš„å·®å€¼ä¸è¶…è¿‡5ã€‚æ±‚kç»„æœ€å¤šå¯ä»¥æ”¾å¤šå°‘ä¸ªæ•°ã€‚ é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ’åºåé¢„å¤„ç†æ¯ä¸ªæ•°å‘å·¦å»¶ä¼¸çš„æœ€è¿œä½ç½®,l[i] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è®¾ï¼š &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i][j]&nbsp;å‰iä¸ªæ•°åˆ†jç»„æœ€å¤šèƒ½æ”¾å¤šå°‘ä¸ªæ•°&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i][j]=max(dp[iâˆ’1][j],dp[i][jâˆ’1],dp[l[i]âˆ’1][jâˆ’1]+iâˆ’l[i]+1)","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"cf660C","slug":"ACM/è€Blogè¿ç§»/reading_problem/cf660C","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"cf660C.html","link":"","permalink":"http://fightinggg.github.io/indigo/cf660C.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog cf660C é“¾æ¥ http://codeforces.com/problemset/problem/660/C é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»™ä½ é•¿åº¦ä¸ºnçš„01ä¸²,æœ€å¤šæŠŠkä¸ª0å˜æˆ1,å˜å®Œåè¿ç»­çš„æœ€é•¿çš„å…¨æ˜¯1çš„ä¸²çš„é•¿åº¦æ˜¯å¤šå°‘,å¹¶ä¸”è¾“å‡ºæœ€åå¾—ä¸²; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k&lt;n&lt;3e5 é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æš´åŠ›: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i][j]ä»£è¡¨å‰iä¸ªæ•°æŠŠjä¸ª0å˜æˆ1å,ä»¥ä½ç½®iç»“å°¾çš„å…¨ä¸º1çš„ä¸²é•¿åº¦æœ€å¤§æ˜¯å¤šå°‘ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸å¦¨è®¾ä¸²ä¸ºs[1:n] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;s[i]&nbsp;=&nbsp;0 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i][j]&nbsp;&nbsp;&nbsp;&lt;----&nbsp;&nbsp;dp[i-1][j-1]+1 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;s[i]&nbsp;=&nbsp;1 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i][j]&nbsp;&nbsp;&nbsp;&lt;----&nbsp;&nbsp;dp[i-1][j]+1 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è§£æ³•1: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¥—è·¯ï¼Œç»Ÿè®¡å‰ç¼€0çš„ä¸ªæ•°ï¼Œç„¶åæšä¸¾æ¯ä¸€ä¸ªä½ç½®ä½œä¸ºå˜å®Œåçš„å…¨ä¸º1çš„ä¸²çš„ç»“å°¾ï¼Œäºæ˜¯èµ·ç‚¹å°±å¯ä»¥äºŒåˆ†äº†ï¼Œ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æšä¸¾ç»ˆç‚¹iï¼Œåˆ™sum[i]-sum[j]&lt;=k,sumå…·æœ‰å•è°ƒæ€§ï¼Œäºæ˜¯äºŒåˆ† &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è§£æ³•2(ä¼˜åŒ–): &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å®šä¹‰ç»ˆç‚¹iå¯¹åº”çš„èµ·ç‚¹jä¸º:&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j=f(i) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;få•è°ƒ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¯ä»¥ç”¨åŒæŒ‡é’ˆæ‰«æè¾¾åˆ°çº¿æ€§å¤æ‚åº¦","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"cf734C","slug":"ACM/è€Blogè¿ç§»/reading_problem/cf734C","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"cf734C.html","link":"","permalink":"http://fightinggg.github.io/indigo/cf734C.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog cf734C é“¾æ¥ http://codeforces.com/problemset/problem/734/C é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¦nç‚¹è¯æ°´,ç›®å‰æ¯ç§’é’Ÿå¢åŠ xç‚¹è¯æ°´,æ‹¥æœ‰kç‚¹é­”æ³•çš„ä½ æœ‰ä¸¤ç§æ–¹æ¡ˆæå‰å¢åŠ æ•ˆç‡ï¼š &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸€ï¼šæŠŠæ¯ç§’äº§ç”Ÿçš„è¯æ°´æ•°é‡å˜ä¸ºaiï¼Œæ¶ˆè€—é­”æ³•å€¼&nbsp;biï¼› &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;äºŒï¼šç¬é—´äº§ç”Ÿciç‚¹è¯æ°´ï¼Œä¸æ¶ˆè€—æ—¶é—´ï¼Œä½†æ˜¯éœ€è¦é­”æ³•å€¼diã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¾“å…¥çš„ciï¼Œdi&nbsp;éå‡ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç¬¬ä¸€ç§é­”æ³•ä½ æœ€å¤šåªèƒ½ç”¨ä¸€æ¬¡ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç¬¬äºŒç§é­”æ³•ä½ æœ€å¤šä¹Ÿåªèƒ½ç”¨ä¸€æ¬¡ é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æšä¸¾ç¬¬ä¸€ç§é­”æ³•ï¼ŒäºŒåˆ†ç¬¬äºŒç§é­”æ³•","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"cf749C","slug":"ACM/è€Blogè¿ç§»/reading_problem/cf749C","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"cf749C.html","link":"","permalink":"http://fightinggg.github.io/indigo/cf749C.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog cf749C é“¾æ¥ http://codeforces.com/problemset/problem/749/C é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å…±æœ‰nä¸ªäººï¼Œç¼–å·ä¸º1~nã€‚ä»–ä»¬æ¯ä¸ªäººå±äºä¸”ä»…å±äºRé˜µè¥æˆ–Né˜µè¥ä¸­çš„ä¸€ä¸ªã€‚ç°åœ¨ä»–ä»¬è¦è¿›è¡Œä¸€åœºæŠ•ç¥¨ã€‚æŠ•ç¥¨å¯èƒ½è¿›è¡Œå¤šè½®ï¼Œæ¯ä¸€è½®æŠ•ç¥¨éƒ½æ˜¯æŒ‰ç…§ä»1~nçš„é¡ºåºï¼Œå½“è½®åˆ°æŸä¸€äººæŠ•ç¥¨çš„æ—¶å€™ï¼Œä»–å¯ä»¥ä»€ä¹ˆéƒ½ä¸åšï¼Œä¹Ÿå¯ä»¥éšä¾¿æŒ‘é€‰ä¸€äººä½¿ä»–ä¸§å¤±æŠ•ç¥¨çš„æƒåˆ©ã€‚æ¯ä¸ªäººéƒ½ä¼šä»£è¡¨è‡ªå·±é˜µè¥çš„åˆ©ç›Šã€‚ä¸€ä¸ªäººå¦‚æœä¸§å¤±äº†æŠ•ç¥¨æƒåˆ©ï¼Œåˆ™ä»–ç›´åˆ°è¿™åœºæŠ•ç¥¨ç»“æŸéƒ½ä¸èƒ½å†æŠ•ç¥¨ã€‚æŠ•ç¥¨ç›´åˆ°æŸä¸€é˜µè¥ä¸€ä¸ªäººéƒ½æ²¡æœ‰çš„æ—¶å€™å°±ä¼šç»“æŸï¼Œæ­¤æ—¶ä¸€ä¸ªäººéƒ½æ²¡æœ‰çš„é˜µè¥å¤±è´¥ï¼Œå¦ä¸€ä¸ªé˜µè¥è·èƒœã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç°åœ¨ç»™å®šæ¯ä¸ªäººæ‰€å±çš„é˜µè¥ï¼Œé—®æœ€åå“ªä¸ªé˜µè¥ä¼šè·èƒœã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¦æ±‚çº¿æ€§æ—¶é—´è§£å†³ é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è´ªå¿ƒåšæ³•: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ¯ä¸ªäººå¹²æ‰ä»–åé¢çš„ç¬¬ä¸€ä¸ªéæœ¬é˜µè¥çš„äººå³å¯ï¼Œæ¨¡æ‹Ÿä¸€ä¸‹","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"cf777C","slug":"ACM/è€Blogè¿ç§»/reading_problem/cf777C","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"cf777C.html","link":"","permalink":"http://fightinggg.github.io/indigo/cf777C.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog cf777C é“¾æ¥ http://codeforces.com/problemset/problem/777/C é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»™ä½ ä¸€ä¸ªçŸ©é˜µ,å¤šç»„è¯¢é—®ï¼Œé—®åªä¿ç•™ç¬¬iè¡Œåˆ°ç¬¬jè¡Œåˆ é™¤å…¶ä»–è¡Œåå¾—åˆ°çš„çŸ©é˜µï¼Œæ˜¯å¦å­˜æŸåˆ—å•è°ƒä¸å‡ï¼Œ é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é¢„å¤„ç†æ¯ä¸€è¡Œèƒ½ä¿è¯å­˜åœ¨ä¸€åˆ—å•è°ƒä¸å‡èƒ½åˆ°è¾¾çš„æœ€è¿œå…¶ä»–è¡Œå³å¯","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"cf80D","slug":"ACM/è€Blogè¿ç§»/reading_problem/cf80D","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"cf80D.html","link":"","permalink":"http://fightinggg.github.io/indigo/cf80D.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog cf80D é“¾æ¥ http://codeforces.com/contest/103/problem/D é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»™å‡ºä¸€ä¸ªé•¿åº¦ä¸ºN(&lt;3e5)çš„æ•°åˆ—ï¼Œå†ç»™å‡ºM(&lt;3e5)ä¸ªè¯¢é—®ï¼Œè¯¢é—®è¾“å…¥xå’Œyï¼Œä½ éœ€è¦è¾“å‡ºsum(a[x+ky])&nbsp;x+ky=N &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4S é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¯¹y&lt;sqrt(n)æ‰“è¡¨ï¼Œå…¶ä»–çš„æš´åŠ›è®¡ç®—ã€‚","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"cf924B","slug":"ACM/è€Blogè¿ç§»/reading_problem/cf924B","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"cf924B.html","link":"","permalink":"http://fightinggg.github.io/indigo/cf924B.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog cf924B é“¾æ¥ http://codeforces.com/problemset/problem/924/B é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»™ä½ é•¿åº¦ä¸ºnçš„å•è°ƒå¢æ•°ç»„a[]ï¼Œä»¥åŠä¸€ä¸ªu &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è®©ä½ æ‰¾ä¸€ä¸ªä¸‰å…ƒç»„&nbsp;i&lt;j&lt;kä¸”a[k]-a[i]&lt;u &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æœ€å¤§åŒ–(a[k]-a[j])/(a[k]-a[i]) é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬è€ƒè™‘æšä¸¾iï¼Œj &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ˜¾ç„¶å½“iï¼Œjå›ºå®šåè¿™ä¸ªå€¼æ•´ä½“ä¸Šæ˜¯å°äº1çš„ï¼Œ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ‰€ä»¥kè¶Šå¤§è¶Šå¥½ï¼Œæ•´ä½“å€¼è¶Šå¤§ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç„¶åæˆ‘ä»¬å‘ç°ï¼Œå½“i,jå›ºå®šå,kçš„å€¼åªä¸iæœ‰å…³ï¼Œå› ä¸ºa[k]-a[i]&lt;u &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¹Ÿå°±æ˜¯è¯´ä¸ç®¡æˆ‘ä»¬æšä¸¾çš„iå’Œjå¦‚ä½•ï¼Œkåªä¸iæœ‰å…³ï¼Œä¸å¦¨è®¾k=f(i) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬ç°åœ¨è€ƒè™‘æšä¸¾iï¼Œäºæ˜¯kçš„å€¼ä¹Ÿç¡®å®šäº†ï¼Œä¸ºf(i) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™æ—¶å€™ï¼Œjæ˜¾ç„¶è¶Šå°è¶Šå¥½ï¼Œäºæ˜¯j=i+1æœ€ä¼˜ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç¬¬ä¸€ä¸ªåšæ³•å‡ºæ¥äº†ï¼š &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æšä¸¾iï¼Œåˆ™j=i+1ï¼Œæ ¹æ®a[k]&lt;a[i]+uï¼Œå¯ä»¥äºŒåˆ†å‡ºk &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç¬¬äºŒä¸ªåšæ³•ï¼š &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æšä¸¾iï¼Œåˆ™j=i+1ï¼Œå®¹æ˜“è¯æ˜f(i)å…³äºiå•è°ƒé€’å¢ï¼Œäºæ˜¯ç”¨åŒæŒ‡é’ˆæ‰«æå³å¯","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"cfedu57D","slug":"ACM/è€Blogè¿ç§»/reading_problem/cfedu57D","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"cfedu57D.html","link":"","permalink":"http://fightinggg.github.io/indigo/cfedu57D.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog cfedu57D é“¾æ¥ http://codeforces.com/contest/1096/problem/D é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸ºnçš„å­—ç¬¦ä¸²ï¼Œæ¯ä¸ªç‚¹æœ‰ä¸€ä¸ªåˆ é™¤çš„ä»£ä»·ï¼Œé—®è®©å­—ç¬¦ä¸²ä¸­ä¸å­˜åœ¨å­åºåˆ—hardçš„æœ€å°åˆ é™¤ä»£ä»·ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&lt;=n&lt;=1e5 é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è®¾: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i][0]&nbsp;å‰ç¼€iä¸åŒ…å«å­åºåˆ—hçš„æœ€å°ä»£ä»· &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i][1]&nbsp;å‰ç¼€iä¸åŒ…å«å­åºåˆ—haçš„æœ€å°ä»£ä»· &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i][2]&nbsp;å‰ç¼€iä¸åŒ…å«å­åºåˆ—harçš„æœ€å°ä»£ä»· &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i][3]&nbsp;å‰ç¼€iä¸åŒ…å«å­åºåˆ—hardçš„æœ€å°ä»£ä»· &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å½“ç¢°åˆ°hçš„æ—¶å€™ï¼Œä¼šå½±å“dp[i-1][0]&nbsp;&nbsp;&nbsp;è‹¥åˆ é™¤&nbsp;&nbsp;&nbsp;è½¬ç§»åˆ°dp[i][0]&nbsp;&nbsp;&nbsp;è‹¥ä¸åˆ é™¤&nbsp;&nbsp;&nbsp;è½¬ç§»åˆ°dp[i][1] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å½“ç¢°åˆ°açš„æ—¶å€™ï¼Œä¼šå½±å“dp[i-1][1]&nbsp;&nbsp;&nbsp;è‹¥åˆ é™¤&nbsp;&nbsp;&nbsp;è½¬ç§»åˆ°dp[i][1]&nbsp;&nbsp;&nbsp;è‹¥ä¸åˆ é™¤&nbsp;&nbsp;&nbsp;è½¬ç§»åˆ°dp[i][2] &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"cfedu60D","slug":"ACM/è€Blogè¿ç§»/reading_problem/cfedu60D","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"cfedu60D.html","link":"","permalink":"http://fightinggg.github.io/indigo/cfedu60D.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog cfedu60D é“¾æ¥ http://codeforces.com/contest/1117/problem/D é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æœ‰é­”æ³•çŸ³ï¼Œä¸€ä¸ªé­”æ³•çŸ³å¯ä»¥åˆ†è§£ä¸ºmä¸ªæ™®é€šçŸ³ï¼Œä¸€ä¸ªé­”æ³•å¸ˆï¼ˆæ™®é€šçŸ³ï¼‰å çš„ç©ºé—´ä¸º1ï¼Œå¦‚æœä¸€ä¸ªé­”æ³•çŸ³ä¸€ä¸ªé­”æ³•çŸ³å¾€å®¹å™¨é‡Œé¢è£…ï¼Œè£…çš„æ—¶å€™å¯ä»¥é€‰æ‹©åˆ†è§£é­”æ³•çŸ³ä¸ºæ™®é€šçŸ³æˆ–ä¸åˆ†è§£ï¼Œè¯¢é—®æœ‰å¤šå°‘ç§æ–¹æ³•æ°å¥½å æ»¡ç©ºé—´ä¸ºnçš„å®¹å™¨ï¼Ÿåˆ†è§£é¡ºåºä¸åŒè§†ä¸ºæ–¹æ³•ä¸åŒã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n&lt;1e18 é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è®¾: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i]ä¸ºæ”¾æ»¡ä½“ç§¯içš„æ–¹æ¡ˆæ•° &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[n]=dp[n-1]+dp[n-m],å¯ä»¥ç”¨çŸ©é˜µå¿«é€Ÿå¹‚åŠ é€Ÿ","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"cfedu61F","slug":"ACM/è€Blogè¿ç§»/reading_problem/cfedu61F","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"cfedu61F.html","link":"","permalink":"http://fightinggg.github.io/indigo/cfedu61F.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog cfedu61F é“¾æ¥ http://codeforces.com/contest/1132/problem/F é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸ºnçš„å­—ç¬¦ä¸²ï¼Œæ¯æ¬¡å¯ä»¥æŠŠä¸€ä¸ªå…¨æ˜¯åŒä¸€ä¸ªå­—ç¬¦çš„å­ä¸²åˆ é™¤ï¼Œ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ±‚è®©å­—ç¬¦ä¸²ä¸ºç©ºçš„æœ€å°åˆ é™¤æ¬¡æ•°ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n&lt;500 é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è®¾: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i][j]ä¸ºåˆ æ‰åŒºé—´[i,j]çš„æœ€å°ä»£ä»· &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åŒºé—´dpå¥—è·¯","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"cfedu63D","slug":"ACM/è€Blogè¿ç§»/reading_problem/cfedu63D","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"cfedu63D.html","link":"","permalink":"http://fightinggg.github.io/indigo/cfedu63D.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog cfedu63D é“¾æ¥ https://codeforc.es/contest/1155/problem/D é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•°ç»„å’Œä¸€ä¸ªxï¼Œç°åœ¨å¯ä»¥é€‰æ‹©è‡³å¤šä¸€æ®µå­åŒºé—´ï¼Œè®©è¿™ä¸ªåŒºé—´åŒæ—¶ä¹˜ä»¥xï¼Œä¹‹åè®©æ•´ä¸ªæ•°ç»„çš„æœ€å¤§å­æ®µå’Œæœ€å¤§ã€‚ é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp1[i]&nbsp;å‰iä¸ªæ•°ä»¥iç»“å°¾æœ€å¤§çš„è¿ç»­å­ä¸²&nbsp;ä¸”ä¸ä¿®æ”¹&nbsp;çš„å’Œ&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp2[i]&nbsp;å‰iä¸ªæ•°ä»¥iç»“å°¾æœ€å¤§çš„è¿ç»­å­ä¸²ï¼Œä¸”ä¿®æ”¹åŒºé—´ä»¥iç»“å°¾&nbsp;çš„å’Œ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp3[i]&nbsp;å‰iä¸ªæ•°ä»¥iç»“å°¾æœ€å¤§çš„è¿ç»­å­ä¸²ï¼Œä¸”ä¿®æ”¹åŒºé—´ä»¥1~iç»“å°¾&nbsp;çš„å’Œ","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"hdu1517","slug":"ACM/è€Blogè¿ç§»/reading_problem/hdu1517","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"hdu1517.html","link":"","permalink":"http://fightinggg.github.io/indigo/hdu1517.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog hdu1517 é“¾æ¥ http://acm.hdu.edu.cn/showproblem.php?pid=1517 é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä»1å‡ºå‘ï¼Œæ¯ä¸ªäººå¯ä»¥é€‰æ‹©è®©è¿™ä¸ªæ•°ä¹˜ä»¥2ï½9ä¸­çš„ä¸€ä¸ªæ•°å­—ï¼Œç¬¬ä¸€ä¸ªå¾—åˆ°å¤§äºnçš„äººèƒœ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ï¼ˆ1&nbsp;&lt;=&nbsp;n&nbsp;&lt;=&nbsp;10000)&nbsp; é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sg[&nbsp;&nbsp;&nbsp;2]&nbsp;change&nbsp;1 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sg[&nbsp;&nbsp;10]&nbsp;change&nbsp;0 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sg[&nbsp;&nbsp;19]&nbsp;change&nbsp;1 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sg[&nbsp;163]&nbsp;change&nbsp;0 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sg[&nbsp;325]&nbsp;change&nbsp;1 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sg[2917]&nbsp;change&nbsp;0 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sg[5833]&nbsp;change&nbsp;1 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;win[2:9]=1 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;win[10:18]=0 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;win[19:162]=1 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;win[163:324]=0 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;win[325:2916]=1 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;win[2917:5832]=0 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;win[5833:??]=1 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;162*2 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;324 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;2916*2 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5832 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp;324*9 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2916 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&gt;&gt;&gt;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sgæ‰“è¡¨&nbsp;çŒœæµ‹åŒºé—´ç«¯ç‚¹&nbsp;*2&nbsp;ä¸&nbsp;*9&nbsp;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"hdu1564","slug":"ACM/è€Blogè¿ç§»/reading_problem/hdu1564","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"hdu1564.html","link":"","permalink":"http://fightinggg.github.io/indigo/hdu1564.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog hdu1564 é“¾æ¥ http://acm.hdu.edu.cn/showproblem.php?pid=1564 é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä»ä¸€ä¸ªn*nçš„è§’è½å‡ºå‘ï¼Œæ¯æ¬¡ç§»åŠ¨åˆ°ç›¸é‚»çš„ï¼Œè€Œä¸”æ²¡æœ‰ç»è¿‡çš„æ ¼å­ä¸Šã€‚è°ä¸èƒ½æ“ä½œäº†è°è¾“ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ï¼ˆ1&nbsp;&lt;=&nbsp;n&nbsp;&lt;=&nbsp;10000)&nbsp; é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœnä¸ºå¶æ•°ï¼Œé‚£ä¹ˆæ•´ä¸ªçŸ©é˜µå¯ä»¥åˆ†ä¸ºè‹¥å¹²ä¸ª1*2ä»¥åŠ2*1çš„å°çŸ©å½¢çš„ç»„åˆï¼Œäºæ˜¯åæ‰‹å¿…èƒœ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœnä¸ºå¥‡æ•°ï¼Œåˆ†å‡ºçš„çŸ©é˜µä¼šå¤šä¸€ä¸ªæ ¼å­ï¼Œäºæ˜¯å…ˆæ‰‹å˜æˆäº†å¿…è´¥","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"hdu1847","slug":"ACM/è€Blogè¿ç§»/reading_problem/hdu1847","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"hdu1847.html","link":"","permalink":"http://fightinggg.github.io/indigo/hdu1847.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog hdu1847 é“¾æ¥ http://acm.hdu.edu.cn/showproblem.php?pid=1847 é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1ã€&nbsp;&nbsp;æ€»å…±nå¼ ç‰Œ; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2ã€&nbsp;&nbsp;åŒæ–¹è½®æµæŠ“ç‰Œï¼› &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3ã€&nbsp;&nbsp;æ¯äººæ¯æ¬¡æŠ“ç‰Œçš„ä¸ªæ•°åªèƒ½æ˜¯2çš„å¹‚æ¬¡ï¼ˆå³ï¼š1ï¼Œ2ï¼Œ4ï¼Œ8ï¼Œ16â€¦ï¼‰ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4ã€&nbsp;&nbsp;æŠ“å®Œç‰Œï¼Œèƒœè´Ÿç»“æœä¹Ÿå‡ºæ¥äº†ï¼šæœ€åæŠ“å®Œç‰Œçš„äººä¸ºèƒœè€…ï¼› &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ï¼ˆ1&lt;=n&lt;=1000ï¼‰ é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sgå‡½æ•°è¡¨æ˜å¯¹3å–æ¨¡","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"hdu1850","slug":"ACM/è€Blogè¿ç§»/reading_problem/hdu1850","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"hdu1850.html","link":"","permalink":"http://fightinggg.github.io/indigo/hdu1850.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog hdu1850 é“¾æ¥ http://acm.hdu.edu.cn/showproblem.php?pid=1850 é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ¡Œå­ä¸Šæœ‰Må †æ‰‘å…‹ç‰Œ;æ¯å †ç‰Œçš„æ•°é‡åˆ†åˆ«ä¸ºNi(i=1â€¦M);ä¸¤äººè½®æµè¿›è¡Œ;æ¯èµ°ä¸€æ­¥å¯ä»¥ä»»æ„é€‰æ‹©ä¸€å †å¹¶å–èµ°å…¶ä¸­çš„ä»»æ„å¼ ç‰Œï¼›æ¡Œå­ä¸Šçš„æ‰‘å…‹å…¨éƒ¨å–å…‰ï¼Œåˆ™æ¸¸æˆç»“æŸï¼›æœ€åä¸€æ¬¡å–ç‰Œçš„äººä¸ºèƒœè€…ã€‚ç°åœ¨æˆ‘ä»¬ä¸æƒ³ç ”ç©¶åˆ°åº•å…ˆæ‰‹ä¸ºèƒœè¿˜æ˜¯ä¸ºè´Ÿï¼Œæˆ‘åªæƒ³é—®å¤§å®¶ï¼šâ€”â€”â€œå…ˆæ‰‹çš„äººå¦‚æœæƒ³èµ¢ï¼Œç¬¬ä¸€æ­¥æœ‰å‡ ç§é€‰æ‹©å‘¢ï¼Ÿâ€ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;M&lt;100&nbsp;Ni&lt;1000000 é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t=xorsum{Ni} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ni&nbsp;-&gt;&nbsp;Ni'&nbsp;åt=0 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åˆ™t^Ni^Ni'=0 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å³t^Ni=Ni'&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ˜¾ç„¶Ni'å”¯ä¸€å­˜åœ¨ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åˆNi'&lt;Ni&nbsp;ç­‰ä»·äºt^Ni&lt;Ni &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sum{[t^Ni&lt;Ni]}å°±æ˜¯ç­”æ¡ˆ&nbsp;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"hdu2516","slug":"ACM/è€Blogè¿ç§»/reading_problem/hdu2516","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"hdu2516.html","link":"","permalink":"http://fightinggg.github.io/indigo/hdu2516.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog hdu2516 é“¾æ¥ http://acm.hdu.edu.cn/showproblem.php?pid=2516 é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1å †çŸ³å­æœ‰nä¸ª,ä¸¤äººè½®æµå–.å…ˆå–è€…ç¬¬1æ¬¡å¯ä»¥å–ä»»æ„å¤šä¸ªï¼Œä½†ä¸èƒ½å…¨éƒ¨å–å®Œ.ä»¥åæ¯æ¬¡å–çš„çŸ³å­æ•°ä¸èƒ½è¶…è¿‡ä¸Šæ¬¡å–å­æ•°çš„2å€ã€‚å–å®Œè€…èƒœ.å…ˆå–è€…è´Ÿè¾“å‡º&quot;Second&nbsp;win&quot;.å…ˆå–è€…èƒœè¾“å‡º&quot;First&nbsp;win&quot;. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&lt;=n&lt;2^31 é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nä¸ºæ–æ³¢æ‹‰å¥‘æ•°çš„æ—¶å€™ï¼Œå…ˆæ‰‹è´¥ï¼Œå¦åˆ™å…ˆæ‰‹èƒœã€‚","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"hdu3208","slug":"ACM/è€Blogè¿ç§»/reading_problem/hdu3208","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"hdu3208.html","link":"","permalink":"http://fightinggg.github.io/indigo/hdu3208.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog hdu3208 é“¾æ¥ http://acm.hdu.edu.cn/showproblem.php?pid=3208 é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ¯ä¸ªæ•°wéƒ½èƒ½è‡³å°‘å†™æˆä¸€ç§å¦‚w=pow(x,y)çš„å½¢å¼ï¼Œä½†å¤šç§å½¢å¼ä¸­ï¼Œyçš„æœ€å¤§å€¼æ˜¯å”¯ä¸€çš„ï¼Œå®šä¹‰è¿™ä¸ªyä¸ºf(w),&nbsp;æ±‚å¯¹a&lt;=i&lt;=b,æ±‚å’Œf(i)ã€‚(2&lt;=a&lt;=b&lt;=1e18) é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ ¹æ®åŒºé—´å‡æ³•åŒ–ç®€ï¼Œåˆ™a=1,&nbsp;å®šä¹‰g(i)ä¸º[1,b]ä¸­èƒ½å†™æˆpow(x,i)çš„æ•°çš„ä¸ªæ•°ï¼Œå¤„ç†å‡ºgï¼Œç„¶åå®¹æ–¥","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"hdu3951","slug":"ACM/è€Blogè¿ç§»/reading_problem/hdu3951","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"hdu3951.html","link":"","permalink":"http://fightinggg.github.io/indigo/hdu3951.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog hdu3951 é“¾æ¥ http://acm.hdu.edu.cn/showproblem.php?pid=3951 é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;næšé“¶å¸æ„æˆä¸€ä¸ªç¯ï¼Œæ¯æ¬¡å¯ä»¥å»1~kä¹‹é—´ä»»æ„ä¸ªè¿ç»­çš„ç¡¬å¸(å–å®Œä¸åˆå¹¶-&nbsp;-); &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ•°æ®èŒƒå›´ä¸é‡è¦ é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å½“1&lt;k&lt;nçš„æ—¶å€™ï¼Œåˆ°åæ‰‹æ—¶è‹¥å‰©ä½™1æˆ–2ï¼Œåæ‰‹å…¨æ‹¿èµ°ï¼Œå¤§äº2åˆ™å¯ä»¥ç©å¯¹ç§°åšå¼ˆ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å½“1&lt;k&nbsp;n&lt;=kçš„æ—¶å€™å…ˆæ‰‹å…¨æ‹¿èµ° &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å½“1=k&nbsp;åˆ¤å¥‡å¶&nbsp;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"hdu6485","slug":"ACM/è€Blogè¿ç§»/reading_problem/hdu6485","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"hdu6485.html","link":"","permalink":"http://fightinggg.github.io/indigo/hdu6485.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog hdu6485 é“¾æ¥ http://acm.hdu.edu.cn/showproblem.php?pid=6485 é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»™ä¸¤ä¸ªä¸²s,té•¿åº¦éƒ½å°äº4000,å†ç»™ä¸€ä¸ªk&lt;4000ï¼Œæ±‚så’Œtå„è‡ªçš„æœ€é•¿å­ä¸²ï¼Œä½¿è¿™ä¸¤ä¸ªå­ä¸²é—´æœ€å¤škä¸ªä¸åŒçš„å­—ç¬¦ï¼Œ é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i][j]ä»£è¡¨ä¸²sä»¥iç»“æŸï¼Œtä»¥jç»“æŸï¼Œæœ€å¤škä¸ªå­—ç¬¦ä¸åŒçš„æœ€å°èµ·ç‚¹åœ¨å“ªï¼Œ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ˜¾ç„¶dp[i+x][j+x]çš„å€¼å…³äºxå•è°ƒ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;äºæ˜¯æˆ‘ä»¬å°±å¯ä»¥O(n^2)å®Œæˆäº† &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç„¶åä¼˜åŒ–ç©ºé—´å°±è¡Œäº†ã€‚","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"hdu6492","slug":"ACM/è€Blogè¿ç§»/reading_problem/hdu6492","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"hdu6492.html","link":"","permalink":"http://fightinggg.github.io/indigo/hdu6492.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog hdu6492 é“¾æ¥ http://acm.hdu.edu.cn/showproblem.php?pid=6492 é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å°ä¼™ä»¬æ‰“ç®—ç»„å›¢å»å‚åŠ ã€‚ä»–ä»¬ä¸€å…±æœ‰&nbsp;n+m+2k&nbsp;ä¸ªäººï¼ŒåŒ…æ‹¬&nbsp;n+k&nbsp;ä¸ªç”·ç”Ÿï¼Œm+k&nbsp;ä¸ªå¥³ç”Ÿï¼Œå…¶ä¸­&nbsp;k&nbsp;å¯¹ç”·å¥³ç”Ÿä¸ºå¼‚æ€§æƒ…ä¾£ï¼Œç°åœ¨ä»–ä»¬è¦æ‰¾æˆ¿é—´ä½ã€‚æˆ¿é—´æœ‰ä¸‰ç§ç±»å‹ï¼ŒåŒäººé—´&nbsp;a&nbsp;å…ƒä¸€é—´ï¼Œä¸‰äººé—´&nbsp;b&nbsp;å…ƒä¸€é—´ï¼Œè¿™ä¸¤ç§åªèƒ½åŒæ€§ä¸€èµ·ä½ã€‚æƒ…ä¾£é—´èƒ½ä½ä¸€å¯¹å¼‚æ€§æƒ…ä¾£ï¼Œä¸€é—´&nbsp;c&nbsp;å…ƒã€‚é™¤äº†æƒ…ä¾£é—´ä»¥å¤–ï¼Œå…¶ä»–æˆ¿é—´éƒ½å¯ä»¥ä¸ä½æ»¡ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ±‚æœ€å°‘èŠ±å¤šå°‘é’±ï¼Œèƒ½è®©å°ä¼™ä¼´ä»¬éƒ½æœ‰åœ°æ–¹ä½ã€‚ é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i]ä»£è¡¨iä¸ªåŒæ€§è¦èŠ±å¤šå°‘é’±æ‰èƒ½ä½ä¸‹ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i]&nbsp;&lt;-----&nbsp;&nbsp;&nbsp;dp[i-2]+a&nbsp;&nbsp;dp[i-3]+b &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç„¶åæšä¸¾æƒ…ä¾£æˆ¿é—´å³å¯","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"poj2100","slug":"ACM/è€Blogè¿ç§»/reading_problem/poj2100","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"poj2100.html","link":"","permalink":"http://fightinggg.github.io/indigo/poj2100.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog poj2100 é“¾æ¥ http://poj.org/problem?id=2100 é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ‰¾åˆ°æŸä¸€ä¸²è¿ç»­çš„è‡ªç„¶æ•°ä½¿å¾—æ•°çš„å¹³æ–¹å’Œç­‰äºæŸä¸€ç»™å®šå€¼kã€‚ é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i]ä»£è¡¨ä»¥iç»“å°¾çš„è¿ç»­çš„è‡ªç„¶æ•°,å…¶å¹³æ–¹å’Œå°äºç­‰äºkæ—¶ï¼Œæœ€å¤§çš„èµ·ç‚¹åœ¨å“ª &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i]å…³äºiå…·æœ‰å•è°ƒæ€§ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¯ä»¥å°ºå–","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"poj2566","slug":"ACM/è€Blogè¿ç§»/reading_problem/poj2566","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"poj2566.html","link":"","permalink":"http://fightinggg.github.io/indigo/poj2566.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog poj2566 é“¾æ¥ http://poj.org/problem?id=2566 é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»™å®šä¸€ä¸ªæ•°ç»„å’Œä¸€ä¸ªå€¼tï¼Œæ±‚ä¸€ä¸ªå­åŒºé—´ä½¿å¾—å…¶å’Œçš„ç»å¯¹å€¼ä¸tçš„å·®å€¼æœ€å°ï¼Œå¦‚æœå­˜åœ¨å¤šä¸ªï¼Œä»»æ„è§£éƒ½å¯è¡Œã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n&lt;1e5 é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å­åŒºé—´å’Œçš„ç»å¯¹å€¼ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;é‚£å°±å¯ä»¥å¯¹å‰ç¼€å’Œæ’åºäº†ï¼Œå› ä¸ºabs(presum[i]-presum[j])=abs(presum[j]-presum[i])&nbsp;æ ¹ijå¤§å°æ— å…³ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;äºæ˜¯å¯ä»¥å¯¹å‰ç¼€å’Œæ’åºï¼Œ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åŒ–ç®€é¢˜ç›®ä¸ºï¼š &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ±‚ä¸¤ä¸ªå‰ç¼€å’Œa,bï¼Œä½¿å¾—abs(a-b)äºtç›¸å·®æœ€è¿‘ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬å¯¹å‰ç¼€å’Œæ’åº &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i]å–abs(abs(presum[i]-presum[dp[i]])-t)æœ€å°çš„é‚£ä¸ª &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ˜¾ç„¶dp[i]å…·æœ‰å…³äºiå…·æœ‰å•è°ƒæ€§ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;äºæ˜¯å¯ä»¥ä¼˜åŒ–ä¸ºO(n)","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"poj2739","slug":"ACM/è€Blogè¿ç§»/reading_problem/poj2739","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"poj2739.html","link":"","permalink":"http://fightinggg.github.io/indigo/poj2739.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog poj2739 é“¾æ¥ http://poj.org/problem?id=2739 é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»™ä¸ªæ­£æ•°åŒºé—´(ä»å°åˆ°å¤§çš„ç´ æ•°),æ‰¾åˆ°æŸä¸€ä¸ªå­åŒºé—´,ä½¿å¾—åŒºé—´å†…çš„æ•°çš„å’Œç­‰äºæŸä¸€ç»™å®šå€¼kã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nå¾ˆå°ï¼Œå•¥åšæ³•éƒ½æ— æ‰€è°“äº† é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i]ä»£è¡¨ä»¥ç¬¬iä¸ªæ•°ç»“å°¾çš„åŒºé—´,å’Œå°äºç­‰äºkæ—¶ï¼Œæœ€å¤§çš„èµ·ç‚¹åœ¨å“ª &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i]å…³äºiå…·æœ‰å•è°ƒæ€§","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"poj3061","slug":"ACM/è€Blogè¿ç§»/reading_problem/poj3061","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"poj3061.html","link":"","permalink":"http://fightinggg.github.io/indigo/poj3061.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog poj3061 é“¾æ¥ http://poj.org/problem?id=3061 é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»™å®šä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ­£æ•°åºåˆ—,æ±‚å’Œå¤§äºç­‰äºSçš„æœ€çŸ­çš„å­ä¸²é•¿åº¦ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n&lt;1e5&nbsp;s&lt;1e9 é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å…ˆè€ƒè™‘ä¸€ä¸ªæš´åŠ›åšæ³•,æšä¸¾æ‰€æœ‰çš„å­ä¸²,æ­¤åšæ³•å¤æ‚åº¦,n^2 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç„¶åæˆ‘ä»¬å°è¯•dp, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i]ä»£è¡¨ä¸²S[0:i]ä¸­ä»¥iç»“å°¾çš„å’Œå¤§äºç­‰äºSçš„æœ€å¤§èµ·ç‚¹ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å®¹æ˜“è¯æ˜:dp[i]å…³äºiå•è°ƒä¸å‡ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;äºæ˜¯æˆ‘ä»¬çš„åšæ³•å‡ºæ¥äº†,æšä¸¾i,å¯¹äºjæˆ‘ä»¬é€šè¿‡è®°å½•å†³ç­–ç‚¹ï¼Œæ¥ä¼˜åŒ–æˆO(1) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç„¶åæˆ‘æƒŠè®¶çš„å‘ç°æ­¤åšæ³•ç«Ÿç„¶å°±æ˜¯å°ºå–æ³•ã€‚","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"poj3320","slug":"ACM/è€Blogè¿ç§»/reading_problem/poj3320","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"poj3320.html","link":"","permalink":"http://fightinggg.github.io/indigo/poj3320.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog poj3320 é“¾æ¥ http://poj.org/problem?id=3320 é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸€æœ¬ä¹¦æœ‰Pé¡µï¼Œæ¯ä¸€é¡µéƒ½ä¸€ä¸ªçŸ¥è¯†ç‚¹ï¼Œæ±‚å»æœ€å°‘çš„è¿ç»­é¡µæ•°è¦†ç›–æ‰€æœ‰çš„çŸ¥è¯†ç‚¹ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p&lt;1e6&nbsp; é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å…ˆè€ƒè™‘ä¸€ä¸ªæš´åŠ›åšæ³•,æšä¸¾æ‰€æœ‰çš„æ–¹æ¡ˆ,æ­¤åšæ³•å¤æ‚åº¦,n^2 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç„¶åæˆ‘ä»¬å°è¯•dp, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i]ä»£è¡¨é¡µæ•°[0:i]ä¸­ä»¥iç»“å°¾çš„ï¼Œè¦†ç›–äº†æ‰€æœ‰çš„çŸ¥è¯†ç‚¹çš„æœ€å¤§çš„é¡µæ•°èµ·ç‚¹ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ˜¾ç„¶&nbsp;èµ·ç‚¹j&nbsp;---&gt;&nbsp;&nbsp;dp[i]&nbsp;j&lt;i&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å®¹æ˜“è¯æ˜:dp[i]å…³äºiå•è°ƒä¸å‡ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åŠ é€Ÿåˆ¤æ–­è¿‡ç¨‹ï¼Œå¯ä»¥mapè®°å½•ï¼Œä¹Ÿå¯ä»¥hashæ˜ å°„, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç„¶åæˆ‘æƒŠè®¶çš„å‘ç°æ­¤åšæ³•ç«Ÿç„¶å°±æ˜¯å°ºå–æ³•ã€‚","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"ç‰›å®¢ç»ƒä¹ èµ›41B","slug":"ACM/è€Blogè¿ç§»/reading_problem/ç‰›å®¢ç»ƒä¹ èµ›41B","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"ç‰›å®¢ç»ƒä¹ èµ›41B.html","link":"","permalink":"http://fightinggg.github.io/indigo/%E7%89%9B%E5%AE%A2%E7%BB%83%E4%B9%A0%E8%B5%9B41B.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog ç‰›å®¢ç»ƒä¹ èµ›41B é“¾æ¥ https://ac.nowcoder.com/acm/contest/373/B é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æœ‰ä¸€ä¸ªæ•°å­—åˆå€¼ä¸º0ï¼Œnå›åˆæ“ä½œï¼Œæ¯å›åˆæ“ä½œæœ‰ä¸¤ç§ï¼Œç¬¬ä¸€ç§æ“ä½œå°†åˆ†æ•°åŠ ä¸Šai,ç¬¬äºŒç§æ“ä½œæ˜¯å°†åˆ†æ•°ä¹˜ä¸Š-1.é—®æœ‰å¤šå°‘ç§æ“ä½œæ–¹å¼åœ¨ç¬¬nå›åˆä¹‹åæ•°å­—å˜ä¸º-666,è€Œä¸”ä¸­é—´æ¯ä¸€ä¸ªå›åˆä¹‹ååˆ†æ•°éƒ½ä¸æ˜¯666ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n&lt;300 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-666&lt;ai&lt;666 é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è®¾: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp[i][j]ä¸ºç¬¬iå›åˆå–å¾—æ•°å­—j,ä¸”ä¸ç»è¿‡666ï¼Œçš„æ–¹æ¡ˆæ•° &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i&lt;300 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;300*-666&lt;j&lt;300*666 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¯ä»¥æ»šåŠ¨","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"è®¡è’œå®¢A2000","slug":"ACM/è€Blogè¿ç§»/reading_problem/è®¡è’œå®¢A2000","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"è®¡è’œå®¢A2000.html","link":"","permalink":"http://fightinggg.github.io/indigo/%E8%AE%A1%E8%92%9C%E5%AE%A2A2000.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog è®¡è’œå®¢A2000 é“¾æ¥ https://nanti.jisuanke.com/t/A2000 é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸€ä¸ªåœ†ç¯ï¼Œæ¯ä¸ªä½ç½®å¯ä»¥é€‰æ‹©2^kä¸­ä»»æ„ä¸€ä¸ªæ•°ï¼Œè¦æ±‚ç›¸é‚»ä½ç½®å¼‚æˆ–ä¸ç­‰äºpow(2,kâˆ’1)ï¼Œ é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a[i]è¡¨ç¤ºåˆ°iä½ç½®é¦–å°¾å®Œå…¨ç›¸åŒçš„åˆæ³•é“¾çš„æ–¹æ¡ˆæ•° &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b[i]è¡¨ç¤ºåˆ°iä½ç½®é¦–å°¾å®Œå…¨ç›¸åçš„æ–¹æ¡ˆæ•°ï¼Œ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c[i]è¡¨ç¤ºåˆ°iä½ç½®é¦–å°¾æ—¢ä¸å®Œå…¨ç›¸åŒä¹Ÿä¸å®Œå…¨ç›¸åçš„æ–¹æ¡ˆæ•°","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"è®¡è’œå®¢A2012","slug":"ACM/è€Blogè¿ç§»/reading_problem/è®¡è’œå®¢A2012","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"è®¡è’œå®¢A2012.html","link":"","permalink":"http://fightinggg.github.io/indigo/%E8%AE%A1%E8%92%9C%E5%AE%A2A2012.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog è®¡è’œå®¢A2012 é“¾æ¥ https://nanti.jisuanke.com/t/A2012 é¢˜æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»™ä½ ä¸€ä¸²è¿ç®—ç¬¦å’Œä¸€ä¸ªåˆå§‹å€¼ï¼Œä½ è¦æŒ‰é¡ºåºä½¿ç”¨è¿™äº›è¿ç®—ç¬¦ä¸ä¸€ä¸ªåºåˆ—ä¸­çš„æ•°è¿›è¡Œè¿ç®—ï¼Œåºåˆ—ä¸­æ•°çš„ä¸ªæ•°å¤§äºè¿ç®—ç¬¦çš„ä¸ªæ•°ï¼Œè¦æŒ‰å…ˆåé¡ºåºä½¿ç”¨è¿™äº›æ•°è€Œè¿ç®—ç¬¦ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥é€‰æ‹©ä¸ç”¨æŸä¸ªæ•°ï¼Œä½†æœ€åä¸€å®šè¦æŠŠæ‰€æœ‰è¿ç®—ç¬¦ç”¨å…‰ã€‚&nbsp; é¢˜è§£ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mx[i][j]å‰iä¸ªè¿ç®—ç¬¦å‰jä¸ªæ•°èƒ½å¾—åˆ°çš„æœ€å¤§å€¼ï¼Œmi[i][j]å‰iä¸ªè¿ç®—ç¬¦å‰jä¸ªæ•°èƒ½å¾—åˆ°çš„æœ€å°å€¼ï¼Œ","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"}],"tags":[]},{"title":"acm_head_file","slug":"ACM/è€Blogè¿ç§»/stencil/acm_head_file","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"acm_head_file.html","link":"","permalink":"http://fightinggg.github.io/indigo/acm_head_file.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog å¿«é€Ÿè¯»å…¥å¤´ #include&lt;bits/stdc++.h&gt; #define ll long long using namespace std; void read(ll&amp; x) { int f = 1; x = 0; char ch = getchar(); while (ch &lt; &#39;0&#39; || ch &gt; &#39;9&#39;) { if (ch == &#39;-&#39;) f = -1; ch = getchar(); } while (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) { x = x * 10 + ch - &#39;0&#39;; ch = getchar(); } x *= f; } void read(int&amp; x) { int f = 1; x = 0; char ch = getchar(); while (ch &lt; &#39;0&#39; || ch &gt; &#39;9&#39;) { if (ch == &#39;-&#39;) f = -1; ch = getchar(); } while (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;) { x = x * 10 + ch - &#39;0&#39;; ch = getchar(); } x *= f; } ///--------------head-----------------------------------------------------------------------------/// ///--------------head-----------------------------------------------------------------------------/// ///--------------head-----------------------------------------------------------------------------/// ///--------------head-----------------------------------------------------------------------------/// ///--------------head-----------------------------------------------------------------------------/// ///--------------head-----------------------------------------------------------------------------/// ///--------------head-----------------------------------------------------------------------------/// ///--------------head-----------------------------------------------------åˆšå¥½äº”åè¡Œ----------------/// //ç©¶æè¯»å…¥æŒ‚ inline char nc(){ static char buf[100000],*p1=buf,*p2=buf; return p1==p2&amp;&amp;(p2=(p1=buf)+fread(buf,1,100000,stdin),p1==p2)?EOF:*p1++; } inline int _read(){ char ch=nc();int sum=0; while(!(ch&gt;=&#39;0&#39;&amp;&amp;ch&lt;=&#39;9&#39;))ch=nc(); while(ch&gt;=&#39;0&#39;&amp;&amp;ch&lt;=&#39;9&#39;)sum=sum*10+ch-48,ch=nc(); return sum; }","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"stencil","slug":"ACM/è€Blogè¿ç§»/stencil","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/"}],"tags":[]},{"title":"2018ç„¦ä½œç«™","slug":"ACM/è€Blogè¿ç§»/æ€»ç»“/2018ç„¦ä½œç«™","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"2018ç„¦ä½œç«™.html","link":"","permalink":"http://fightinggg.github.io/indigo/2018%E7%84%A6%E4%BD%9C%E7%AB%99.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog 2018ç„¦ä½œç«™ &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp ç„¦ä½œç«™ï¼Œæˆ‘ä»¬é˜Ÿæ‹¿åˆ°äº†ç¬¬ä¸€ä¸ªé“œç‰Œï¼Œå¯æƒœæ¯”èµ›è¿›è¡Œçš„ä¸æ˜¯é‚£ä¹ˆé¡ºåˆ©ã€‚ &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp ç¬¬ä¸€é¢˜ç­¾åˆ°é¢˜ç›´æ¥Aäº†ï¼Œç¬¬äºŒé¢˜å°±æ¯”è¾ƒéš¾å—äº†ï¼Œæ®è¯´åœ¨é‚£æ—¶æˆ‘ä»¬é˜Ÿæ’åæœ€ä½æ‰åˆ°äº†ä¸¤ç™¾å››äº”ååï¼Œç¬¬äºŒé¢˜æ¥è¿‘ä¸¤ä¸ªå°æ—¶æ‰åšå‡ºæ¥ï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„é—æ†¾ï¼Œä»¥è‡³äºåé¢çš„é¢˜ç›®æ¥ä¸åŠåšäº†ï¼Œå…¶å®é‚£é¢˜å°±æ˜¯ä¸€ä¸ªç®€å•çš„é€’æ¨å…³ç³»ï¼Œç»´æŠ¤äº†ä¸€äº›é¢å¤–çš„ä¿¡æ¯å°±è¡Œäº†ã€‚é‚£é¢˜è¿˜æ˜¯é€’æ¨å…³ç³»æ²¡æœ‰ç®—ä»”ç»†ï¼Œé‚£ä¸€ç±»çš„é¢˜ç›®å…¶å®æˆ‘ä¹Ÿå°±åšè¿‡ä¸€ä¸¤é“ï¼Œæ‰€ä»¥ä¸ç†Ÿç»ƒã€‚ç¬¬ä¸‰é¢˜æ˜¯ä¸€ä¸ªå·ç§¯ï¼Œç§¯æ€§å‡½æ•°å·æ’ç­‰å‡½æ•°ï¼Œå·å‡ºæ¥è¿˜æ˜¯ç§¯æ€§å‡½æ•°ï¼Œå¾ˆæ˜æ˜¾çš„å·æ’ç­‰å‡½æ•°çš„é¢˜ç›®ï¼Œå› ä¸ºä¸ç†Ÿï¼ˆå˜²è®½çš„æ˜¯æˆ‘ä»¬æ€»ç»“çš„é¢˜ç›®é‡Œé¢æœ‰è¿™ä¸€ç±»é¢˜ç›®çš„åšæ³•ï¼‰æ‰€ä»¥ç›´æ¥å¿˜äº†æ€ä¹ˆåšäº†ï¼Œç»“æœå°¹æ¸¯çˆ†å‘ç¬é—´æ‰¾åˆ°äº†è§„å¾‹ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚æˆ‘æ•²äº†ä¸ªæš´åŠ›éªŒè¯äº†ä»–çš„ç»“è®ºç„¶åå°±Aäº†ï¼Œç¬¬å››é¢˜è®¡ç®—å‡ ä½•ï¼Œå…¶å®æ˜¯ä¸ªç­¾åˆ°é¢˜ã€‚ç¬¬äº”é¢˜å›¾è®ºæœç´¢ï¼Œbfsï¼Œè£¸çš„ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆtleï¼Œåæ¥å‘ç°memsetå¤æ‚åº¦é«˜ï¼Œä¼˜åŒ–äº†ä¹‹åè¿˜æ˜¯tleï¼Œç„¶åæ¥ä¸åŠæ”¹äº†ï¼Œéƒ½æ€ªç¬¬äºŒé¢˜æµªè´¹äº†å¤ªå¤šçš„æ—¶é—´ï¼Œç¬¬äºŒé¢˜æ˜æ˜¾æœ€å¤šæœ€å¤š40åˆ†é’Ÿå¯ä»¥Açš„ï¼Œæµªè´¹äº†è¿‘ä¸€ä¸ªå°æ—¶ï¼Œå¯¼è‡´ç¬¬äº”é¢˜æ¥ä¸åŠäº†ã€‚ &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp æ€»çš„æ¥è¯´ï¼Œç°åœ¨é“œç‰Œé“¶ç‰Œé¢˜ç›®éƒ½ä¼šåšäº†ï¼Œå¯æƒœä¸ç†Ÿç»ƒï¼Œæœ‰ç‚¹æ…¢ã€‚ä¼°è®¡ä»¥åå¾—ç»ƒç†Ÿç»ƒåº¦äº†ã€‚","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"æ€»ç»“","slug":"ACM/è€Blogè¿ç§»/æ€»ç»“","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/%E6%80%BB%E7%BB%93/"}],"tags":[]},{"title":"2018ç‰›å®¢æ€»ç»“","slug":"ACM/è€Blogè¿ç§»/æ€»ç»“/2018ç‰›å®¢æ€»ç»“","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"2018ç‰›å®¢æ€»ç»“.html","link":"","permalink":"http://fightinggg.github.io/indigo/2018%E7%89%9B%E5%AE%A2%E6%80%BB%E7%BB%93.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog #h { position: absolute; right: 10px; } ä¸»é¡µ 2018ç‰›å®¢æ€»ç»“ h1 { text-align: center } ç¬¬ä¸€åœº é€šè¿‡å››é¢˜ ä¸¤ç­¾åˆ° ä¸¤ä¸­ç­‰ ç›®å‰èµ›åè¡¥ä¸‰é¢˜ 1.æ±‚è§£ä¸å®šæ–¹ç¨‹ax+by=cä½¿å¾—p2*x2+p1*x+q2*y2+q1*yæœ€å° æ‹“å±•æ¬§å‡ é‡Œå¾—ç®—æ³• äºŒæ¬¡å‡½æ•°çš„æå€¼æš´ç®— 2.æœ‰ä¸ªäººè¦ä»ä¸€æ¡ç›´çº¿èµ°åˆ°å¦ä¸€æ¡å¹³è¡Œçº¿ï¼Œä¸­é—´æœ‰å‡ ä¸ªåœ†ï¼Œåœ¨ç›´çº¿å’Œåœ†ä¸Šèµ°ä¸æ¶ˆè€—ä½“åŠ›ï¼Œå…¶ä»–æ¶ˆè€—ä½“åŠ›çš„ä¸è·¯ç¨‹æ­£æ¯” è®¡ç®—å‡ ä½•åŠæœ€çŸ­è·¯æ¨¡å‹è½¬åŒ– 3.æ‹¬å·åŒ¹é…ï¼Œä¸€ä¸ªåºåˆ—æœ‰å¾ˆå¤šå¾ˆå¤šä¸åŒæ‹¬å·ï¼Œé—®ä½ ä»»æ„åŒºé—´æ‹¬å·æ˜¯å¦åŒ¹é… æœ‰ä¸¤ç§åšæ³•ï¼Œç¬¬ä¸€æ˜¯è®°å½•æ‹¬å·å…¥æ ˆåæ ˆé¡¶å…ƒç´  ç¬¬äºŒæ˜¯æ ¹æ®æ‹¬å·å”¯ä¸€åŒ¹é…ï¼Œç»´æŠ¤æ¯ä¸ªåŒºé—´æ˜¯å¦å°é—­åŒ¹é…ï¼Œå³ç»´æŠ¤åŒºé—´åŒ¹é…å¯¹è±¡çš„æœ€å€¼ 4.æ„é€ ä¸€ä¸ªçŸ©é˜µä½¿å¾—æ¯ä¸€è¡Œæ¯ä¸€åˆ—éƒ½åŒ…å«äº†æ‰€æœ‰çš„æ•°å­—ï¼ˆ1-Nï¼‰ä¸”å¯¹äºæ‰€æœ‰çš„ 1 â‰¤ i &lt; j â‰¤ n, æœ‰ Ai,j â‰  Aj,iã€‚ é€šè¿‡å·²æœ‰çŸ©é˜µæ¥æ„é€ æœªçŸ¥çŸ©é˜µ 5.ç°æœ‰Nä¸ªæ•°a1,a2,...,aNã€‚å¯¹äºæ¯ä¸€ä¸ªakï¼Œæ±‚æœ‰å¤šå°‘ä¸ªæœ‰åºäºŒå…ƒç»„(i,j)æ»¡è¶³ï¼Œå…¶ä¸­Pä¸ºä¸€ç»™å®šè´¨æ•°ã€‚ æ ¹æ®åŸæ ¹æ€§è´¨å°†ä¹˜æ³•è½¬åŒ–ä¸ºåŠ æ³•ï¼Œå†è½¬åŒ–ä¸ºfft ç¬¬äºŒåœº é€šè¿‡ä¸‰é¢˜ ç­¾åˆ°ä¸¤é¢˜ ä¸­ç­‰ä¸€é¢˜ ç›®å‰èµ›åæœªè¡¥ 1.è®¡ç®—ä¸€ä¸ªçŸ©é˜µä¸å¦ä¸€ä¸ª01çŸ©é˜µçš„ç§¯çš„æ‰€æœ‰å…ƒç´ çš„å¼‚æˆ–å’Œ çŸ©é˜µåˆ†å—åŠ é€Ÿä¹˜æ³•ï¼Œæ¯å…«ä¸ªå…ƒç´ é¢„å¤„ç†ä¸€æ¬¡ï¼Œä¹˜æ—¶O1æŸ¥è¯¢ï¼Œå…±è®¡åŠ é€Ÿå…«å€ ç¬¬ä¸‰åœº é€šè¿‡ä¸¤é¢˜ ç­¾åˆ°ä¸¤é¢˜ èµ›åè¡¥å››é¢˜ 1.é©¬èµ°æ—¥ æ—¥äº†ç‹—äº† 2.æ ‘ä¸ŠåŒ…å«æ¯ä¸ªç‚¹çš„è¿é€šç‚¹é›†çš„æ•°é‡ æ ‘ä¸Šdpï¼Œä¸¤æ¬¡dfsï¼Œç¬¬ä¸€æ¬¡ç»´æŠ¤èŠ‚ç‚¹å­å­™æ•°ï¼Œç¬¬äºŒæ¬¡ç»´æŠ¤å…¶ä»–æ–¹å‘å­å­™æ•° ç¬¬äºŒæ¬¡ç»´æŠ¤æ³¨æ„å‘çˆ¹çš„é€†å…ƒä¸å­˜åœ¨æƒ…å†µ 3.ä¿®ä¿®å’Œæ ‹æ ‹è½®æµå–çŸ³å­ï¼Œæ¯äººæ¯æ¬¡éœ€è¦ä»ä»»æ„ä¸€å †çŸ³å­ä¸­å–èµ°ä¸ªï¼Œä¿®ä¿®å…ˆæ‰‹ã€‚æ— æ³•æ“ä½œçš„äººå¤±è´¥ã€‚æ­¤å¤–ï¼Œå¦‚æœä¸€ä¸ªäººå–å®Œäº†ä¸€å †çŸ³å­ï¼Œä»–ä¼šç«‹å³è·èƒœã€‚ sgå‡½æ•°ï¼Œè®¾å®ša-bæ˜¯ä¸å¯åˆ°è¾¾çš„çŠ¶æ€ï¼Œå¹¶å‘ç°å¾ªç¯èŠ‚ä¸”ç‰¹åˆ¤a=1å³å¯ 4.äºŒåˆ†å›¾æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨æ‰¾å¥‡ç¯ ä¸€æ¬¡dfsï¼Œæˆ–è€…é•œåƒå¹¶æŸ¥é›†+dfs ç¬¬å››åœº é€šè¿‡äº”é¢˜ äº”ä¸ªç­¾åˆ°é¢˜ ç¬¬äº”åœº é€šè¿‡ä¸€é¢˜ ä¸€ä¸ªä¸­ç­‰é¢˜ èµ›åè¡¥ä¸€é¢˜ 1.ä¸­æœ‰å¤šå°‘ä¸åŒçš„æ•°ï¼Œè¿™äº›ä¸åŒçš„æ•°å­—é‡Œé¢ç¬¬kå¤§çš„æ˜¯å¤šå°‘ã€‚ è¯æ˜ä¸€ä¸‹ä»€ä¹ˆæ—¶å€™æ˜¯2*sqrtï¼ˆnï¼‰ä»€ä¹ˆæ—¶å€™æ˜¯2*sqrtï¼ˆnï¼‰-1å°±è¡Œ 2.an=m0an-1+m1an-2+c è’™å“¥é©¬åˆ©å¿«é€Ÿæ¨¡ä¹˜ æˆ–è€…è¿æ°”å¥½çš„O1å¿«é€Ÿä¹˜æ³• ç¬¬å…­åœº é€šè¿‡ä¸‰é¢˜ ä¸‰ä¸ªæ‰¾è§„å¾‹çš„é¢˜æäº†åŠå¤© è¿˜ç”¨ä¸Šäº†rmqäºŒåˆ†ã€‚ã€‚ã€‚ ç¬¬ä¸ƒåœº é€šè¿‡ä¸‰é¢˜ ä¸€ç­¾åˆ° ä¸€ä¸­ç­‰æ‰¾è§„å¾‹ ä¸€ä¸ªæ¨¡æ‹Ÿ 1.è®°ä½log2çš„å€¼ï¼Œå°±å¯ä»¥åšäº† 2.é­”æ–¹å±•å¼€","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"æ€»ç»“","slug":"ACM/è€Blogè¿ç§»/æ€»ç»“","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/%E6%80%BB%E7%BB%93/"}],"tags":[]},{"title":"bzoj2655","slug":"ACM/è€Blogè¿ç§»/blog/span/bzoj2655","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"bzoj2655.html","link":"","permalink":"http://fightinggg.github.io/indigo/bzoj2655.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog bzoj2655 æ­¤æ–‡æ›´æ–°äº2019.6.5 ä¸€ä¸ªåºåˆ—a1,...,anæ˜¯åˆæ³•çš„ï¼Œå½“ä¸”ä»…å½“ï¼š é•¿åº¦ä¸ºç»™å®šçš„nã€‚ a1,...,anéƒ½æ˜¯[1,A]ä¸­çš„æ•´æ•°ã€‚ a1,...,anäº’ä¸ç›¸ç­‰ã€‚ ä¸€ä¸ªåºåˆ—çš„å€¼å®šä¹‰ä¸ºå®ƒé‡Œé¢æ‰€æœ‰æ•°çš„ä¹˜ç§¯ï¼Œå³a1a2...anã€‚ æ±‚æ‰€æœ‰ä¸åŒåˆæ³•åºåˆ—çš„å€¼çš„å’Œã€‚ ä¸¤ä¸ªåºåˆ—ä¸åŒå½“ä¸”ä»…å½“ä»–ä»¬ä»»æ„ä¸€ä½ä¸ä¸€æ ·ã€‚ è¾“å‡ºç­”æ¡ˆå¯¹ä¸€ä¸ªæ•°modå–ä½™çš„ç»“æœã€‚ f(i,j)-> å‰iä¸ªå…ƒç´ ä¸­æœ€å¤§å€¼ä¸ºjçš„æ–¹æ¡ˆçš„æƒçš„å’Œ f(i,j)=f(i-1,j-1)*i*j+f(i,j-1) ç”¨æ•°å­¦å½’çº³æ³•è¯æ˜f(i,j)å…³äºjæ˜¯ä¸€ä¸ªæœ€é«˜æ¬¡ä¸º2*içš„å¤šé¡¹å¼ #include&nbsp;&lt;bits/stdc++.h&gt; using&nbsp;namespace&nbsp;std;\u0000 typedef&nbsp;long&nbsp;long&nbsp;ll;\u0000 ll&nbsp;mod;\u0000 ll&nbsp;qpow(ll&nbsp;a,ll&nbsp;b,ll&nbsp;mod){ &nbsp;&nbsp;&nbsp;&nbsp;ll&nbsp;ret=1;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;while(b){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(b&1)&nbsp;ret=ret*a%mod;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a=a*a%mod;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b&gt;&gt;=1;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;ret;\u0000 } // (mod%i)=== -mod/i*i const&nbsp;int&nbsp;maxn=1200;\u0000 ll&nbsp;fac_inv[maxn]={1,1};\u0000 void&nbsp;inv_ini(){ &nbsp;&nbsp;&nbsp;&nbsp;for(ll&nbsp;i=0,fac=1;i&lt;maxn;i++,fac=fac*i%mod)&nbsp;{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fac_inv[i]=qpow(fac,mod-2,mod);\u0000 &nbsp;&nbsp;&nbsp;&nbsp;} } ll&nbsp;prepre[maxn],suf[maxn],*pre=prepre+1;\u0000 ll&nbsp;getval(ll&nbsp;*y,ll&nbsp;n,ll&nbsp;x){// O(n) næ¬¡å¤šé¡¹å¼æœ‰n+1é¡¹ y[0]...y[n] -> y[x] &nbsp;&nbsp;&nbsp;&nbsp;pre[-1]=suf[n+1]=1;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;for(int&nbsp;i=0;i&lt;=n;i++)&nbsp;pre[i]=pre[i-1]*(x-i+mod)%mod;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;for(int&nbsp;i=n;i&gt;=0;i--)&nbsp;suf[i]=suf[i+1]*(i-x+mod)%mod;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;ll&nbsp;ret=0;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;for(int&nbsp;i=0;i&lt;=n;i++)&nbsp;{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ll&nbsp;up=pre[i-1]*suf[i+1]%mod;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ll&nbsp;down=fac_inv[i]*fac_inv[n-i]%mod;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ret=(ret+y[i]*up%mod*down)%mod;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;ret;\u0000 } // f(i,j)-> å‰iä¸ªå…ƒç´ ä¸­æœ€å¤§å€¼ä¸ºjçš„æ–¹æ¡ˆçš„æƒçš„å’Œ // f(i,j)=f(i-1,j-1)*i*j+f(i,j-1) // ç”¨æ•°å­¦å½’çº³æ³•è¯æ˜f(i,j)å…³äºjæ˜¯ä¸€ä¸ªæœ€é«˜æ¬¡ä¸º2*içš„å¤šé¡¹å¼ ll&nbsp;f[maxn][maxn*3];\u0000 int&nbsp;main(){ &nbsp;&nbsp;&nbsp;&nbsp;ll&nbsp;n,a;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;while(~scanf(\"%lld%lld%lld\",&a,&n,&mod)){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inv_ini();\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(ll&nbsp;j=1;j&lt;=3*n;j++)&nbsp;f[1][j]=(f[1][j-1]+j)%mod;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(ll&nbsp;i=2;i&lt;=n;i++){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(ll&nbsp;j=i;j&lt;=3*n;j++){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f[i][j]=(i*j*f[i-1][j-1]+f[i][j-1])%mod;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//we know f(n) f(n+1) ... f(3n) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//if g(i)=f(i+n) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// than f(a)=g(a-n) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;printf(\"%lld\\n\",getval(f[n]+n,2*n,(a-n+mod)%mod));\u0000 &nbsp;&nbsp;&nbsp;&nbsp;} } æ­¤æ–‡æ ‡ç­¾ æ‹‰æ ¼æœ—æ—¥æ’å€¼æ³•","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"blog","slug":"ACM/è€Blogè¿ç§»/blog","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/blog/"},{"name":"span","slug":"ACM/è€Blogè¿ç§»/blog/span","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/blog/span/"}],"tags":[]},{"title":"cf_566_div2_E","slug":"ACM/è€Blogè¿ç§»/blog/span/cf_566_div2_E","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"cf_566_div2_E.html","link":"","permalink":"http://fightinggg.github.io/indigo/cf_566_div2_E.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog cf_566_div2_E æ­¤æ–‡æ›´æ–°äº2019.6.13 é¢˜æ„ï¼š &nbsp;&nbsp;&nbsp;&nbsp;f(x)=c^(2x-6)f(x-1)f(x-2)f(x-3) &nbsp;&nbsp;&nbsp;&nbsp;è¾“å…¥f(1)&nbsp;f(2)&nbsp;f(3)&nbsp;n&nbsp;c &nbsp;&nbsp;&nbsp;&nbsp;è¾“å‡ºf(n) æ•°æ®èŒƒå›´ï¼š &nbsp;&nbsp;&nbsp;&nbsp;f(1)&lt;1e9 &nbsp;&nbsp;&nbsp;&nbsp;f(2)&lt;1e9 &nbsp;&nbsp;&nbsp;&nbsp;f(3)&lt;1e9 &nbsp;&nbsp;&nbsp;&nbsp;c&lt;1e9 &nbsp;&nbsp;&nbsp;&nbsp;n&lt;1e18 æ³•1ï¼š ä»¤g(x)=f(x)*c^x åˆ™g(x)=g(x-1)g(x-2)g(x-3) ä»¤h(x)=lg(5,g(x)) åˆ™h(x)=h(x-1)+h(x-2)+g(x-3) äºæ˜¯æˆäº†bsgsç®—æ³•+çŸ©é˜µå¿«é€Ÿå¹‚ #include&lt;bits/stdc++.h&gt; using&nbsp;namespace&nbsp;std;\u0000 typedef&nbsp;long&nbsp;long&nbsp;ll;\u0000 const&nbsp;ll&nbsp;mod=1e9+7;\u0000 struct&nbsp;Sarray{ &nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;const&nbsp;ll&nbsp;mod=1e9+6;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;const&nbsp;ll&nbsp;LEN=3;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;ll&nbsp;len,data[LEN][LEN];\u0000 &nbsp;&nbsp;&nbsp;&nbsp;Sarray(ll&nbsp;len,ll&nbsp;flag):len(len){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(ll&nbsp;i=0;i&lt;len;i++){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(ll&nbsp;j=0;j&lt;len;j++)data[i][j]=0;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data[i][i]=flag;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;Sarray&nbsp;operator&nbsp;*(const&nbsp;Sarray&a){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sarray&nbsp;tem(a.len,0);\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(ll&nbsp;i=0;i&lt;len;i++){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(ll&nbsp;j=0;j&lt;len;j++){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(ll&nbsp;k=0;k&lt;len;k++){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tem.data[i][j]=(tem.data[i][j]+data[i][k]*a.data[k][j])%mod;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;tem;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;Sarray&nbsp;operator&nbsp;+(const&nbsp;Sarray&a){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sarray&nbsp;tem(a.len,0);\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(ll&nbsp;i=0;i&lt;len;i++){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(ll&nbsp;j=0;j&lt;len;j++){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tem.data[i][j]=(data[i][j]+a.data[i][j])%mod;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;tem;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;} };\u0000 Sarray&nbsp;qpow(Sarray&nbsp;a,ll&nbsp;b){//ä¼šæ›´æ”¹aï¼Œä¸èƒ½æŒ‰å¼•ç”¨ä¼ é€’ &nbsp;&nbsp;&nbsp;&nbsp;Sarray&nbsp;tem(a.len,1);\u0000 &nbsp;&nbsp;&nbsp;&nbsp;while(b){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(b&1)tem=a*tem;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a=a*a;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b&gt;&gt;=1;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;tem;\u0000 } ll&nbsp;qpow(ll&nbsp;a,ll&nbsp;b){ &nbsp;&nbsp;&nbsp;&nbsp;ll&nbsp;ret=1;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;while(b){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(b&1)&nbsp;ret=ret*a%mod;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a=a*a%mod;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b&gt;&gt;=1;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;ret;\u0000 } ll&nbsp;oria[3][3]={ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0,0,0,\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0,0,0,\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,0,0\u0000 };\u0000 ll&nbsp;orib[3][3]={ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0,0,0,\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,0,0,\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0,0,0\u0000 };\u0000 ll&nbsp;oric[3][3]={ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,0,0,\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0,0,0,\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0,0,0\u0000 };\u0000 ll&nbsp;transs[3][3]={ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,1,1,\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,0,0,\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0,1,0\u0000 };\u0000 ll&nbsp;get(ll&nbsp;n,ll&nbsp;beg[3][3]){ &nbsp;&nbsp;&nbsp;&nbsp;Sarray&nbsp;orn(3,1),trans(3,1);\u0000 &nbsp;&nbsp;&nbsp;&nbsp;memcpy(orn.data,beg,sizeof(orn.data));\u0000 &nbsp;&nbsp;&nbsp;&nbsp;memcpy(trans.data,transs,sizeof(trans.data));\u0000 &nbsp;&nbsp;&nbsp;&nbsp;if(n==1)&nbsp;return&nbsp;beg[2][0];\u0000 &nbsp;&nbsp;&nbsp;&nbsp;if(n==2)&nbsp;return&nbsp;beg[1][0];\u0000 &nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(qpow(trans,n-3)*orn).data[0][0];\u0000 } int&nbsp;&nbsp;main(){ &nbsp;&nbsp;&nbsp;&nbsp;ll&nbsp;n,f1,f2,f3,c;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;cin&gt;&gt;n&gt;&gt;f1&gt;&gt;f2&gt;&gt;f3&gt;&gt;c;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;ll&nbsp;g1=f1*c%mod;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;ll&nbsp;g2=f2*c%mod*c%mod;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;ll&nbsp;g3=f3*c%mod*c%mod*c%mod;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;ll&nbsp;A=get(n,oria);\u0000 &nbsp;&nbsp;&nbsp;&nbsp;ll&nbsp;B=get(n,orib);\u0000 &nbsp;&nbsp;&nbsp;&nbsp;ll&nbsp;C=get(n,oric);\u0000 &nbsp;&nbsp;&nbsp;&nbsp;ll&nbsp;gn=qpow(g1,A)*qpow(g2,B)%mod*qpow(g3,C)%mod;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;ll&nbsp;t=qpow(c,n);\u0000 &nbsp;&nbsp;&nbsp;&nbsp;cout&lt;&lt;gn*qpow(t,mod-2)%mod&lt;&lt;endl;\u0000 } æ³•2ï¼š ä»¤g(x)=f(x)*c^x åˆ™g(x)=g(x-1)g(x-2)g(x-3) å¯ä»¥è‚¯å®šå‡ºg(x)=g(1)^a*g(2)^b*g(3)*c äºæ˜¯a,b,céƒ½æ˜¯xçš„å‡½æ•° ä¸”a(x)=a(x-1)+a(x-2)+a(x-3) bcåŒç† #include&lt;bits/stdc++.h&gt; using&nbsp;namespace&nbsp;std;\u0000 typedef&nbsp;long&nbsp;long&nbsp;ll;\u0000 const&nbsp;int&nbsp;LEN=3;\u0000 void&nbsp;sarray_cpy(int&nbsp;a[][LEN],int&nbsp;b[][LEN],int&nbsp;n){ &nbsp;&nbsp;&nbsp;&nbsp;for(int&nbsp;i=0;i&lt;n;i++){// a/bå¯ä»¥ä¸ºåŒä¸€ä¸ªæ•°ç»„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(int&nbsp;j=0;j&lt;n;j++)&nbsp;b[i][j]=a[i][j];\u0000 &nbsp;&nbsp;&nbsp;&nbsp;} } void&nbsp;sarray_mul(int&nbsp;a[][LEN],int&nbsp;b[][LEN],int&nbsp;ret[][LEN],int&nbsp;n,int&nbsp;mod){ &nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;int&nbsp;c[LEN][LEN];// a/b/retå¯ä»¥ä¸ºåŒä¸€ä¸ªæ•°ç»„ &nbsp;&nbsp;&nbsp;&nbsp;for(int&nbsp;i=0;i&lt;n;i++)&nbsp;{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(int&nbsp;j=0;j&lt;n;j++){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c[i][j]=0;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(int&nbsp;k=0;k&lt;n;k++){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c[i][j]=(c[i][j]+1ll*a[i][k]*b[k][j])%mod;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;sarray_cpy(c,ret,n);\u0000 } void&nbsp;sarray_qpow(int&nbsp;aa[][LEN],ll&nbsp;b,int&nbsp;ret[][LEN],int&nbsp;n,int&nbsp;mod){ &nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;int&nbsp;a[LEN][LEN];// aa retå¯ä»¥ä¸ºåŒä¸€ä¸ªæ•°ç»„ &nbsp;&nbsp;&nbsp;&nbsp;sarray_cpy(aa,a,n);\u0000 &nbsp;&nbsp;&nbsp;&nbsp;for(int&nbsp;i=0;i&lt;n;i++){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(int&nbsp;j=0;j&lt;n;j++)&nbsp;ret[i][j]=0;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ret[i][i]=1;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;while(b){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(b&1)&nbsp;sarray_mul(ret,a,ret,n,mod);\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sarray_mul(a,a,a,n,mod);\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b&gt;&gt;=1;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;} } void&nbsp;sarray_add(int&nbsp;a[][LEN],int&nbsp;b[][LEN],int&nbsp;c[][LEN],int&nbsp;n,int&nbsp;mod){ &nbsp;&nbsp;&nbsp;&nbsp;for(int&nbsp;i=0;i&lt;n;i++){// a,b,cå¯ä»¥ä¸ºåŒä¸€ä¸ªæ•°ç»„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(int&nbsp;j=0;j&lt;n;j++){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c[i][j]=(a[i][j]+b[i][j])%mod;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;} } // a^0 a^1 a^2 a^3 ... a^b void&nbsp;sarray_sum(int&nbsp;a[][LEN],ll&nbsp;b,int&nbsp;ret[][LEN],int&nbsp;n,int&nbsp;mod){ &nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;int&nbsp;tmp[LEN][LEN];\u0000 &nbsp;&nbsp;&nbsp;&nbsp;if(b==0)&nbsp;sarray_qpow(a,b,ret,n,mod);\u0000 &nbsp;&nbsp;&nbsp;&nbsp;else{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ll&nbsp;mid=(b-1)&gt;&gt;1;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sarray_sum(a,mid,ret,n,mod);\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sarray_qpow(a,mid+1,tmp,n,mod);\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(int&nbsp;i=0;i&lt;n;i++)&nbsp;tmp[i][i]=(tmp[i][i]+1)%mod;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sarray_mul(ret,tmp,ret,n,mod);\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if((b&1)==0)&nbsp;{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sarray_mul(ret,a,ret,n,mod);\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(int&nbsp;i=0;i&lt;n;i++)&nbsp;ret[i][i]=(ret[i][i]+1)%mod;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;} } int&nbsp;qpow(int&nbsp;a,int&nbsp;b,int&nbsp;mod){ &nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;ret=1;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;while(b){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(b&1)ret=1ll*ret*a%mod;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a=1ll*a*a%mod;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b&gt;&gt;=1;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;ret;\u0000 } // a^x === b x=lg(a,b) int&nbsp;bsgs_lg(int&nbsp;a,int&nbsp;b,int&nbsp;mod){ &nbsp;&nbsp;&nbsp;&nbsp;map&lt;int,int&gt;mp;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;sqr=sqrt(mod-1)+1;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;for(int&nbsp;i=0;i&lt;sqr;i++)&nbsp;mp[qpow(a,i,mod)]=i;&nbsp;// baby step &nbsp;&nbsp;&nbsp;&nbsp;for(int&nbsp;i=0;i&lt;mod-1;i+=sqr){&nbsp;// giant step &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;tp=1ll*b*qpow(a,mod-1-i,mod)%mod;&nbsp;// a^(-i) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(mp.find(tp)!=mp.end())&nbsp;return&nbsp;i+mp[tp];\u0000 &nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;-1;// error } int&nbsp;main(){ &nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;int&nbsp;mod=1e9+7;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;ll&nbsp;n;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;f1,f2,f3,c;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;cin&gt;&gt;n&gt;&gt;f1&gt;&gt;f2&gt;&gt;f3&gt;&gt;c;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;g1=1ll*f1*c%mod;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;g2=1ll*f2*c%mod*c%mod;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;int&nbsp;g3=1ll*f3*c%mod*c%mod*c%mod;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;g1=bsgs_lg(5,g1,mod);\u0000 &nbsp;&nbsp;&nbsp;&nbsp;g2=bsgs_lg(5,g2,mod);\u0000 &nbsp;&nbsp;&nbsp;&nbsp;g3=bsgs_lg(5,g3,mod);\u0000 &nbsp;&nbsp;&nbsp;&nbsp;// cout","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"blog","slug":"ACM/è€Blogè¿ç§»/blog","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/blog/"},{"name":"span","slug":"ACM/è€Blogè¿ç§»/blog/span","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/blog/span/"}],"tags":[]},{"title":"cf_566_div2_F","slug":"ACM/è€Blogè¿ç§»/blog/span/cf_566_div2_F","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"cf_566_div2_F.html","link":"","permalink":"http://fightinggg.github.io/indigo/cf_566_div2_F.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog cf_566_div2_F æ­¤æ–‡æ›´æ–°äº2019.6.13 é¢˜æ„ï¼š &nbsp;&nbsp;&nbsp;&nbsp;f(x)=abs(sin((p/q)*PI*x))&nbsp;a&lt;=x&lt;=b &nbsp;&nbsp;&nbsp;&nbsp;è¾“å…¥&nbsp;p&nbsp;q&nbsp;a&nbsp;b &nbsp;&nbsp;&nbsp;&nbsp;è¾“å‡ºf(x)å–æœ€å¤§å€¼æ—¶å€™çš„x æ•°æ®èŒƒå›´ï¼š &nbsp;&nbsp;&nbsp;&nbsp;0&lt;=a&lt;=b&lt;=1e9 &nbsp;&nbsp;&nbsp;&nbsp;1&lt;=p,q&lt;=1e9 æœ€åç­‰ä»·äºæ±‚[a,b]é—´çš„xä½¿å¾—(2px)%(2q) å’Œqæœ€æ¥è¿‘ è®©x=m+kn , k=sqrt(b-a) æšä¸¾näºŒåˆ†må³å¯ #include&lt;bits/stdc++.h&gt; using&nbsp;namespace&nbsp;std;\u0000 // // | sin(px/qpi) | // // (px/q)%1 -> 1/2 // // (2px)%(2q) -> q typedef&nbsp;long&nbsp;long&nbsp;ll;\u0000 const&nbsp;ll&nbsp;maxn=3e4+55;\u0000 struct&nbsp;node{ &nbsp;&nbsp;&nbsp;&nbsp;ll&nbsp;x,gx;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;operator&lt;(const&nbsp;node&rhs)&nbsp;const&nbsp;{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(gx!=rhs.gx)&nbsp;return&nbsp;gx&lt;rhs.gx;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;return&nbsp;x&lt;gx;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;} }g[maxn];\u0000 ll&nbsp;get(ll&nbsp;p,ll&nbsp;q,ll&nbsp;x){ &nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;2*p*x%(2*q);\u0000 } ll&nbsp;dis(ll&nbsp;p,ll&nbsp;q,ll&nbsp;x){ &nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;abs(get(p,q,x)-q);\u0000 } void&nbsp;update(ll&ans,ll&nbsp;cur,ll&nbsp;p,ll&nbsp;q){ &nbsp;&nbsp;&nbsp;&nbsp;if(ans==-1)&nbsp;ans=cur;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if(dis(p,q,cur)&lt;dis(p,q,ans))&nbsp;ans=cur;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;if(dis(p,q,cur)==dis(p,q,ans))&nbsp;ans=min(ans,cur);\u0000 } int&nbsp;main(){ &nbsp;&nbsp;&nbsp;&nbsp;ll&nbsp;n;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;cin&gt;&gt;n;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;while(n--){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ll&nbsp;a,b,p,q;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cin&gt;&gt;a&gt;&gt;b&gt;&gt;p&gt;&gt;q;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ll&nbsp;k=10000;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;map&lt;int,int&gt;&nbsp;mp;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(ll&nbsp;i=k-1;i&gt;=0;i--)&nbsp;mp[get(p,q,i)]=i;//g[i]=node{i,get(p,q,i)}; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ll&nbsp;sz=0;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(auto&nbsp;x:mp)&nbsp;g[sz++]=node{x.second,x.first};\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ll&nbsp;bg=a,ans=-1;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while(bg+k-1&lt;=b){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ll&nbsp;base=get(p,q,bg),&nbsp;idx;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(base&lt;=q)&nbsp;idx=lower_bound(g,g+sz,node{-1,q-base})-g;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;idx=lower_bound(g,g+sz,node{-1,3*q-base})-g;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;update(ans,bg+g[idx%sz].x,p,q);\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;update(ans,bg+g[(idx-1+sz)%sz].x,p,q);\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bg+=k;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(bg&lt;=b){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(ll&nbsp;i=bg;i&lt;=b;i++)&nbsp;update(ans,i,p,q);\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout&lt;&lt;ans&lt;&lt;endl;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;} } æ­¤æ–‡æ ‡ç­¾ bsgs","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"blog","slug":"ACM/è€Blogè¿ç§»/blog","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/blog/"},{"name":"span","slug":"ACM/è€Blogè¿ç§»/blog/span","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/blog/span/"}],"tags":[]},{"title":"cf_710_E","slug":"ACM/è€Blogè¿ç§»/blog/span/cf_710_E","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"cf_710_E.html","link":"","permalink":"http://fightinggg.github.io/indigo/cf_710_E.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog cf_710_E æ­¤æ–‡æ›´æ–°äº2019.6.22 ä½ æœ€å¼€å§‹æœ‰ä¸€ä¸ª0ï¼Œè¦æ„é€ å‡ºn ä½ æœ‰ä¸¤ç§æ“ä½œï¼Œ &nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;åŠ ä¸Šæˆ–å‡å»ä¸€&nbsp;ä»£ä»·ä¸ºx &nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;ä¹˜ä»¥2&nbsp;ä»£ä»·ä¸ºy æ•°æ®èŒƒå›´ &nbsp;&nbsp;&nbsp;&nbsp;n&lt;1e18 &nbsp;&nbsp;&nbsp;&nbsp;x&lt;1e9 &nbsp;&nbsp;&nbsp;&nbsp;y&lt;1e9 dp[i] -> æ„é€ å‡ºnçš„æœ€å°ä»£ä»· iä¸ºå¶æ•° dp[i]","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"blog","slug":"ACM/è€Blogè¿ç§»/blog","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/blog/"},{"name":"span","slug":"ACM/è€Blogè¿ç§»/blog/span","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/blog/span/"}],"tags":[]},{"title":"ç‰›å®¢18å¤šæ ¡ç¬¬ä¸€åœºH","slug":"ACM/è€Blogè¿ç§»/blog/span/ç‰›å®¢18å¤šæ ¡ç¬¬ä¸€åœºH","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"ç‰›å®¢18å¤šæ ¡ç¬¬ä¸€åœºH.html","link":"","permalink":"http://fightinggg.github.io/indigo/%E7%89%9B%E5%AE%A218%E5%A4%9A%E6%A0%A1%E7%AC%AC%E4%B8%80%E5%9C%BAH.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog ç‰›å®¢18å¤šæ ¡ç¬¬ä¸€åœºH æ­¤æ–‡æ›´æ–°äº2019.7.12 ç»™ä¸€é¢—è¾¹å¸¦æƒç‚¹ä¸å¸¦æƒç‚¹æ ‘ å®šä¹‰ä¸¤ç‚¹é—´çš„è·ç¦»ä¸ºï¼š &nbsp;&nbsp;&nbsp;&nbsp;è‹¥è·¯å¾„ä¸Šçš„è¾¹æƒæ„æˆæ•°åˆ—a[0...n] &nbsp;&nbsp;&nbsp;&nbsp;åˆ™è·ç¦»d=&nbsp;å¯¹æ‰€æœ‰i&gt;=1æ±‚å’Œ&nbsp;(a[i-1]-a[i])*(a[i-1]-a[i]) ç°åœ¨è¦æ±‚è·ç¦»æ¯ä¸ªç‚¹æœ€è¿œçš„é‚£ä¸ªç‚¹çš„è·ç¦»ä¸ºå¤šå°‘ æ ‘dpæ±‚downå¾ˆç®€å• å…³äºup , ä»”ç»†åˆ†æï¼ŒæŠ½è±¡å‡ºæ¥ä¸ºæ­¤ï¼š ç»™ä½ w[]å’Œd[] å¯¹æ¯ä¸€ä¸ªiï¼Œè¦æ±‚å‡ºæœ€å¤§åŒ–j!=iæ—¶çš„d[j]+(w[i]-w[j]) åŒ–ç®€åå‘ç°ä¸º d[j]+w[i]*w[i]+w[j]*w[j]-2*w[i]*w[j] = w[i]*w[i] + (-2*w[i])*w[j] + (d[j]+w[j]*w[j]) æ˜¾ç„¶æ–œç‡ä¼˜åŒ–ï¼Œæˆ‘ä»¬æ’åºåå¯¹å‰ç¼€å’Œåç¼€åšä¸¤éæ–œç‡ä¼˜åŒ–å³å¯ #include&lt;bits/stdc++.h&gt; using&nbsp;namespace&nbsp;std;\u0000 typedef&nbsp;long&nbsp;long&nbsp;ll;\u0000 #define&nbsp;pwx2(x)&nbsp;((x)*(x)) const&nbsp;ll&nbsp;maxn=1e5+5;\u0000 struct&nbsp;star{ll&nbsp;v,w,nex;}edge[maxn&lt;&lt;1];\u0000 ll&nbsp;head[maxn],cnt,n;\u0000 ll&nbsp;down[maxn],up[maxn],ans[maxn];\u0000 struct&nbsp;line{ll&nbsp;k,b,id;};// y=kx+b double&nbsp;cross(line&nbsp;l1,line&nbsp;l2){// k1x+b1=k2x+b2 -> k1x-k2x=b2-b1 &nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;-double(l1.b-l2.b)/(l1.k-l2.k);\u0000 } ll&nbsp;val_at(line&nbsp;l1,ll&nbsp;x){ &nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;x*l1.k+l1.b;\u0000 } void&nbsp;ini(ll&nbsp;_n){ &nbsp;&nbsp;&nbsp;&nbsp;n=_n;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;cnt=-1;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;for(ll&nbsp;i=0;i&lt;=n;i++)&nbsp;head[i]=-1,down[i]=up[i]=ans[i]=0;\u0000 } void&nbsp;add_edge(ll&nbsp;u,ll&nbsp;v,ll&nbsp;w){ &nbsp;&nbsp;&nbsp;&nbsp;edge[++cnt]=star{v,w,head[u]};&nbsp;head[u]=cnt;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;edge[++cnt]=star{u,w,head[v]};&nbsp;head[v]=cnt;\u0000 } void&nbsp;dfs1(ll&nbsp;u,ll&nbsp;father=0,ll&nbsp;w=0){ &nbsp;&nbsp;&nbsp;&nbsp;for(ll&nbsp;i=head[u];~i;i=edge[i].nex){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(edge[i].v==father)&nbsp;continue;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dfs1(edge[i].v,u,edge[i].w);\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(father)&nbsp;{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;down[u]=max(down[u],down[edge[i].v]+pwx2(w-edge[i].w));\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ans[father]=max(ans[father],down[u]);\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;} } void&nbsp;dfs2(ll&nbsp;u,ll&nbsp;father=0){ &nbsp;&nbsp;&nbsp;&nbsp;vector&lt;line&gt;&nbsp;vec;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;for(ll&nbsp;i=head[u];~i;i=edge[i].nex){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ll&nbsp;v=edge[i].v,w=edge[i].w;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(v==father)&nbsp;vec.push_back(line{-2*w,up[u]+w*w,i});\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;vec.push_back(line{-2*w,down[v]+w*w,i});\u0000 &nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;sort(vec.begin(),vec.end(),[](line&nbsp;l,line&nbsp;r){return&nbsp;l.k&lt;r.k;});\u0000 &nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;line&nbsp;stk[maxn];\u0000 &nbsp;&nbsp;&nbsp;&nbsp;ll&nbsp;tot=0;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;for(ll&nbsp;i=0;i&lt;vec.size();i++){// k++ x-- &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;star&e=edge[vec[i].id];\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while(tot&gt;=2&&cross(stk[tot],stk[tot-1])&gt;e.w)tot--;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(e.v!=father&&tot&gt;=1)&nbsp;{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;star&e2=edge[stk[tot].id];\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;up[e.v]=max(up[e.v],val_at(stk[tot],e.w)+e.w*e.w);\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ans[e.v]=max(ans[e.v],up[e.v]);\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(tot&gt;=1&&vec[i].k==stk[tot].k){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(vec[i].b&gt;stk[tot].b)tot--;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;continue;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while(tot&gt;=2&&cross(vec[i],stk[tot])&lt;cross(stk[tot],stk[tot-1]))tot--;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stk[++tot]=vec[i];\u0000 &nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;tot=0;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;for(ll&nbsp;i=int(vec.size())-1;i&gt;=0;i--){// k-- &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;star&e=edge[vec[i].id];\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while(tot&gt;=2&&cross(stk[tot],stk[tot-1])&lt;e.w)tot--;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(e.v!=father&&tot&gt;=1)&nbsp;{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;star&e2=edge[stk[tot].id];\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;up[e.v]=max(up[e.v],val_at(stk[tot],e.w)+e.w*e.w);\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ans[e.v]=max(ans[e.v],up[e.v]);\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(tot&gt;=1&&vec[i].k==stk[tot].k){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(vec[i].b&gt;stk[tot].b)tot--;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;continue;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while(tot&gt;=2&&cross(vec[i],stk[tot])&gt;cross(stk[tot],stk[tot-1]))tot--;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stk[++tot]=vec[i];\u0000 &nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;for(ll&nbsp;i=head[u];~i;i=edge[i].nex){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(edge[i].v==father)&nbsp;continue;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dfs2(edge[i].v,u);\u0000 &nbsp;&nbsp;&nbsp;&nbsp;} } int&nbsp;main(){ &nbsp;&nbsp;&nbsp;&nbsp;ll&nbsp;n;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;while(~scanf(\"%lld\",&n)){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ini(n);\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(ll&nbsp;i=0;i&lt;n-1;i++){ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ll&nbsp;u,v,w;\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scanf(\"%lld%lld%lld\",&u,&v,&w);\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge(u,v,w);\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dfs1(1);\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dfs2(1);\u0000 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for(ll&nbsp;i=1;i&lt;=n;i++)&nbsp;printf(\"%lld\\n\",ans[i]);\u0000 &nbsp;&nbsp;&nbsp;&nbsp;} } æ­¤æ–‡æ ‡ç­¾ æ ‘å½¢dp æ–œç‡ä¼˜åŒ–dp","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"blog","slug":"ACM/è€Blogè¿ç§»/blog","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/blog/"},{"name":"span","slug":"ACM/è€Blogè¿ç§»/blog/span","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/blog/span/"}],"tags":[]},{"title":"about_sqrt_and_acos","slug":"ACM/è€Blogè¿ç§»/problem/computational_geonetry/about_sqrt_and_acos","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"about_sqrt_and_acos.html","link":"","permalink":"http://fightinggg.github.io/indigo/about_sqrt_and_acos.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog å…³äºsqrtå¯¹è´Ÿæ•°å¼€æ ¹å·acoså¯¹å¤§äº1çš„æ•°è®¡ç®—åä¸‰è§’å‡½æ•°å€¼çš„é—®é¢˜ ç©ºé—´é‡Œé¢æœ‰ä¸€ä¸ªå®å¿ƒçƒï¼Œä¸¤ä¸ªç‚¹ï¼Œé—®ä¸¤ç‚¹ä¸ç»è¿‡å®å¿ƒçƒçš„è·¯å¾„çš„æœ€å°å€¼. é¢˜ç›®æ„æ€å¾ˆç®€å•ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šç”¨åˆ°ä½™å¼¦å®šç†ï¼Œä½†æ˜¯ï¼Œä½™å¼¦å®šç†æœ‰è¯¯å·®ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå¾—åˆ°ä¸€äº›å¥‡æ€ªçš„æ•°å­—ï¼Œæµ®ç‚¹æ•°çš„è¯¯å·®å¯¼è‡´ ä½™å¼¦å®šç†è®¡ç®—å‡ºæ¥äº†å°äº-1æˆ–è€…å¤§äº1çš„å…¶ä»–æ•°å­—ï¼Œå½“æˆ‘ä»¬å¯¹è¿™æ ·çš„æ•°å­—è¿›è¡Œåä¸‰è§’å‡½æ•°è¿ç®—æ—¶ï¼Œä¼šå¾—åˆ°nanï¼Œå½“ç„¶sqrt æœ‰æ—¶å€™ä¹Ÿä¼šç¢°åˆ°å¯¹è´Ÿæ•°å¼€æ–¹ï¼Œäºæ˜¯æˆ‘ä»¬è¦é‡å†™è¿™ä¸¤ä¸ªå‡½æ•° #include&lt;bits/stdc++.h&gt; using namespace std; const double eps = 1e-12; const double INF = 1e18; const double PI = acos(-1.0); double ACOS(double x) { if(x&gt;1) x=1.0; if(x&lt;-1) x=-1.0; return acos(x); } double SQRT(double x) { if(x&lt;0) return 0; return sqrt(x); } struct Point3D { double x, y, z; Point3D() {}; Point3D(double xx, double yy,double zz) { x = xx; y = yy; z = zz; } }; typedef struct Point2D { Point2D() {}; double x; double y; Point2D(double xx, double yy) { x = xx; y = yy; } } Point; struct Circle3D { Point3D o; double r; }; struct Circle { Point2D o; double r; }; struct Line { Point s, e; Line() {}; Line(Point a, Point b) { s = a; e = b; }; }; double dis(Point a, Point b) { return SQRT(pow(a.x - b.x, 2) + pow(a.y - b.y, 2)); } double dis(Point3D a, Point3D b) { return SQRT(pow(a.x - b.x, 2) + pow(a.y - b.y, 2) + pow(a.z - b.z, 2)); } double solve(Point3D s, Point3D t, Circle3D o) { double so=dis(s,o.o); double to=dis(t,o.o); double st=dis(s,t); double sita_sot=ACOS((so*so+to*to-st*st)/2/so/to); double sita_sto=ACOS((st*st+to*to-so*so)/2/st/to); double sita_tso=ACOS((st*st+so*so-to*to)/2/st/so); double p=(so+to+st)/2; double d=SQRT(p*(p-so)*(p-to)*(p-st))*2/st; if(sita_sto&lt;PI/2&amp;&amp;sita_tso&lt;PI/2&amp;&amp;d&lt;o.r) { double sita_soa1=ACOS(o.r/so); double sita_toa2=ACOS(o.r/to); double sita=sita_sot-sita_soa1-sita_toa2; return sita*o.r + so*sin(sita_soa1) + to*sin(sita_toa2); } else { return dis(s, t); } } double solve(Point s, Point t, Circle o) { double so=dis(s,o.o); double to=dis(t,o.o); double st=dis(s,t); double sita_sot=ACOS((so*so+to*to-st*st)/2/so/to); double sita_sto=ACOS((st*st+to*to-so*so)/2/st/to); double sita_tso=ACOS((st*st+so*so-to*to)/2/st/so); double p=(so+to+st)/2; double d=SQRT(p*(p-so)*(p-to)*(p-st))*2/st; if(sita_sto&lt;PI/2&amp;&amp;sita_tso&lt;PI/2&amp;&amp;d&lt;o.r) { double sita_soa1=ACOS(o.r/so); double sita_toa2=ACOS(o.r/to); double sita=sita_sot-sita_soa1-sita_toa2; return sita*o.r + so*sin(sita_soa1) + to*sin(sita_toa2); } else { return dis(s, t); } } double solve(double a,double b,double c,double r) { Point s, t; Circle o; double arcsita = (pow(b, 2) + pow(c, 2) - pow(a, 2)) / 2 / b / c; double sita = ACOS(arcsita); t.x = c * cos(sita); t.y = c * sin(sita); o.o.x = 0; o.o.y = 0; o.r = r; s.x = b; s.y = 0; return solve(s, t, o); } int main() { int T; scanf(&quot;%d&quot;, &amp;T); while (T--) { Circle3D o; Point3D s, t; scanf(&quot;%lf%lf%lf%lf&quot;, &amp;o.o.x, &amp;o.o.y, &amp;o.o.z,&amp;o.r); scanf(&quot;%lf%lf%lf&quot;, &amp;s.x, &amp;s.y, &amp;s.z); scanf(&quot;%lf%lf%lf&quot;, &amp;t.x, &amp;t.y, &amp;t.z); double a = dis(s, t); double b = dis(s, o.o); double c = dis(t, o.o); if(fabs(a)&lt;eps) { printf(&quot;0.0000000000\\n&quot;); } else { printf(&quot;%.8lf\\n&quot;, solve(a,b,c,o.r)); } } }","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"problem","slug":"ACM/è€Blogè¿ç§»/problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/"},{"name":"computational_geonetry","slug":"ACM/è€Blogè¿ç§»/problem/computational-geonetry","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/computational-geonetry/"}],"tags":[]},{"title":"ACM-ICPC 2018 å¾å·èµ›åŒºç½‘ç»œé¢„èµ› G Trace","slug":"ACM/è€Blogè¿ç§»/problem/data_struct/ACM-ICPC 2018 å¾å·èµ›åŒºç½‘ç»œé¢„èµ› G Trace","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"ACM-ICPC 2018 å¾å·èµ›åŒºç½‘ç»œé¢„èµ› G Trace.html","link":"","permalink":"http://fightinggg.github.io/indigo/ACM-ICPC%202018%20%E5%BE%90%E5%B7%9E%E8%B5%9B%E5%8C%BA%E7%BD%91%E7%BB%9C%E9%A2%84%E8%B5%9B%20G%20Trace.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog ACM-ICPC 2018 å¾å·èµ›åŒºç½‘ç»œé¢„èµ› G. Trace é¢˜ç›®å¤§æ„ : &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æœ‰næ³¢æµ·æµªï¼Œæ¯ä¸ªæµ·æµªæ˜¯ä¸€ä¸ªä»¥(0,0)ä¸ºå·¦ä¸‹è§’(x,y)ä¸ºå³ä¸Šè§’çš„é•¿æ–¹å½¢ï¼Œæ¯ä¸€æ³¢æµ·æµªä¼šç•™ä¸‹è‡ªå·± çš„é•¿æ–¹å½¢è¾¹ç•Œä¸ºæµ·æµªæ®‹ç•™ï¼ŒåŒæ—¶ä¼šå†²åˆ·æ‰é•¿æ–¹å½¢å†…éƒ¨çš„å…¶ä»–æµ·æµªæ®‹ç•™ï¼Œé—®næ³¢ä¹‹åï¼Œç•™ä¸‹æ¥çš„æµ·æµªè¾¹ç•Œæ€»é•¿åº¦ä¸ºå¤šå°‘n ç”¨çº¿æ®µæ ‘ç»´æŠ¤å³å¯ #include&lt;bits/stdc++.h&gt; using namespace std; #define ml ((l+r)&gt;&gt;1) #define mr (ml+1) struct seg_tree{// 5e4*50*4=5e4*200=1e7 static const int maxn=5e4+5; int mxx[maxn*2*25],lz[maxn*2*25],ls[maxn*2*25],rs[maxn*2*25],tot; void push_son(int&amp;son,int l,int r,int lzrt){ if(son==0) { son=++tot; mxx[son]=0; lz[son]=-1; ls[son]=0; rs[son]=0; } if(lzrt!=-1){ mxx[son]=max(mxx[son],lzrt); lz[son]=max(lz[son],lzrt); } } void push_down(int rt,int l,int r){ push_son(ls[rt],l,ml,lz[rt]); push_son(rs[rt],mr,r,lz[rt]); lz[rt]=-1; } void push_up(int rt,int l,int r){ // nothing } void build(int rt,int l,int r){//1 1 n rt=tot=0; push_son(rt,l,r,0); } void update(int rt,int l,int r,int ql,int qr,int d){ if(ql&lt;=l&amp;&amp;r&lt;=qr){ push_son(rt,l,r,d); } else{ push_down(rt,l,r); if(ml&gt;=ql) update(ls[rt],l,ml,ql,qr,d); if(mr&lt;=qr) update(rs[rt],mr,r,ql,qr,d); push_up(rt,l,r); } } int query(int rt,int l,int r,int q){ if(l==r){ return mxx[rt]; } else{ push_down(rt,l,r); if(ml&gt;=q) return query(ls[rt],l,ml,q); else return query(rs[rt],mr,r,q); } } }row,col; //2e7*32bit=2e7*4b=2e4*4kb=20*4mb=80mb ok const int maxn=5e4+5; int x[maxn],y[maxn]; int main(){ int n; scanf(&quot;%d&quot;,&amp;n); row.build(1,1,1e7+5); col.build(1,1,1e7+5); for(int i=1;i&lt;=n;i++) scanf(&quot;%d%d&quot;,x+i,y+i); long long ans=0; for(int i=n;i&gt;=1;i--){ int rowlimit=row.query(1,1,1e7+5,y[i]); int collimit=col.query(1,1,1e7+5,x[i]); if(x[i]&gt;rowlimit) ans+=x[i]-rowlimit; if(y[i]&gt;collimit) ans+=y[i]-collimit; row.update(1,1,1e7+5,1,y[i],x[i]); col.update(1,1,1e7+5,1,x[i],y[i]); } cout&lt;&lt;ans&lt;&lt;endl; }","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"problem","slug":"ACM/è€Blogè¿ç§»/problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/"},{"name":"data_struct","slug":"ACM/è€Blogè¿ç§»/problem/data-struct","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/data-struct/"}],"tags":[]},{"title":"bzoj2124","slug":"ACM/è€Blogè¿ç§»/problem/data_struct/bzoj2124","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"bzoj2124.html","link":"","permalink":"http://fightinggg.github.io/indigo/bzoj2124.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog bzoj2124 é¢˜ç›®å¤§æ„ : &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨ä¸€ä¸ªå¾ˆé•¿(1e5)çš„ä¸²é‡Œé¢æ‰¾ä¸€ä¸ªé•¿åº¦ä¸ºä¸‰çš„ç­‰æ¯”å­åºåˆ— &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; è€ƒè™‘æšä¸¾ä¸­é—´å€¼ï¼Œæƒ³åŠæ³•åœ¨lgçš„å¤æ‚åº¦ä¸‹è§£å†³å•æ¬¡æšä¸¾ï¼Œåˆæ¬¡è€ƒè™‘ä¸ºä¾æ¬¡æ¯”è¾ƒä¸­é—´å€¼+då’Œä¸­é—´å€¼-dæ˜¯å¦å‡ºç°åœ¨è¿™ä¸ªå€¼çš„å‰é¢å’Œåé¢ è¿™é‡Œå¯ä»¥é€šè¿‡æ˜ å°„Onå®Œæˆï¼Œä½†æ˜¯å¤æ‚åº¦ä»ç„¶è¾¾ä¸åˆ°è¦æ±‚ï¼Œç„¶åæˆ‘ä»¬è€ƒè™‘åˆ°è¿™æ˜¯ä¸€ä¸ªæ’åˆ—ï¼Œä¹Ÿå°±æ˜¯è¯´é‚£äº›æ•°å­—å‡ºç°ä¸”ä»…å‡ºç°ä¸€æ¬¡ï¼Œé‚£æˆ‘ ä»¬ç”¨ä¸€ä¸ª01æ•°åˆ—æ¥ç»´æŠ¤æŸä¸ªå€¼æ˜¯å¦å‡ºç°åœ¨æšä¸¾å€¼çš„å‰é¢å’Œåé¢ï¼Œè¿™é‡Œå‡è®¾å‡ºç°åœ¨å‰é¢ä¸º0ï¼Œåé¢ä¸º1ï¼Œé‚£ä»€ä¹ˆæ—¶å€™æœ€ç»ˆç­”æ¡ˆæ˜¯yeså‘¢ï¼Œå½“ ä¸”ä»…å½“å…³äºæŸä¸ªä¸­é—´å€¼+då’Œè¿™ä¸ªä¸­é—´å€¼-dåœ¨01æ•°åˆ—ä¸­æ°å¥½ä¸€ä¸ªä¸º0ä¸€ä¸ªä¸º1ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸ç›¸åŒï¼Œè¿™é‡Œè¿˜æ˜¯å¾ˆå¤æ‚ï¼Œæˆ‘ä»¬è€ƒè™‘æŠŠ01æ•°åˆ—å½“ä½œ ä¸€ä¸ªå¤§æ•°ï¼Œé‚£ç­”æ¡ˆæ˜¯yeså°±æ„å‘³ç€è¿™ä¸ªå¤§æ•°å…³äºä¸­é—´å€¼æ²¡æœ‰å±€éƒ¨å›æ–‡ï¼Œå¥½ï¼ç°åœ¨æˆ‘ä»¬æš‚åœæ·±å…¥åˆ†æï¼Œæ€»ç»“ä¸€ä¸‹ï¼Œé¦–å…ˆæˆ‘ä»¬åœ¨æšä¸¾ä¸­é—´å€¼ æ„å»º01æ•°åˆ—ï¼Œç„¶åæˆ‘ä»¬åœ¨01æ•°åˆ—ä¸­å¯»æ‰¾å…³äºä¸­å¿ƒå€¼çš„å±€éƒ¨å›æ–‡æ˜¯å¦ä¸å­˜åœ¨ã€‚å†è¿›ä¸€æ­¥åˆ†æï¼šæšä¸¾ä¸­é—´å€¼çš„è¿‡ç¨‹ä¸­ï¼Œ01æ•°åˆ—åœ¨åšå•ç‚¹ä¿®æ”¹ æŸ¥è¯¢å±€éƒ¨å›æ–‡æ˜¯å¦ä¸æˆç«‹çš„è¿‡ç¨‹å¯ä»¥ç›´æ¥ç”¨å­—ç¬¦ä¸²hashè§£å†³ï¼Œé¢˜ç›®åˆ°æ­¤å·²ç»è§£å†³ã€‚è§£æ³•ï¼šçº¿æ®µæ ‘ç»´æŠ¤01æ•°åˆ—æ­£åhashå€¼ï¼Œå¦‚ä½•æ­£åï¼Ÿæ„ é€ ä¸€ä¸ªåå‘01æ•°åˆ—ï¼Œç”¨ä¿©çº¿æ®µæ ‘å°±è¡Œäº†ã€‚ #include&lt;bits/stdc++.h&gt; using namespace std; typedef long long ll; #define ls (u&lt;&lt;1) #define rs (u&lt;&lt;1|1) #define ml ((l+r)&gt;&gt;1) #define mr (ml+1) struct segment_tree{ const static ll maxn=2.1e4; const static ll MOD=1e9+7; static ll pow_2[maxn]; ll n; ll tree[maxn&lt;&lt;2]; static void pow_ini(){ pow_2[0]=1; for(int i=1;i&lt;maxn;i++){ pow_2[i]=pow_2[i-1]*2; if(pow_2[i]&gt;MOD)pow_2[i]-=MOD; } } void pushup(ll l ,ll r,ll u){ tree[u]=(tree[ls]*pow_2[r-((l+r)&gt;&gt;1)]+tree[rs])%MOD; } void build(ll nn){ n=nn; build(1,n,1); } void build(ll l,ll r,ll u){ if(l==r){ tree[u]=0; return ; } build(l,ml,ls); build(mr,r,rs); pushup(l,r,u); } void update(ll q,ll d){ update(q,d,1,1,n); } void update(ll q,ll d,ll u,ll l,ll r){ if(q&lt;=l&amp;&amp;r&lt;=q){ tree[u]=(tree[u]+d*pow_2[r-q])%MOD; return ; } if(q&lt;=ml)update(q,d,ls,l,ml); if(q&gt;=mr)update(q,d,rs,mr,r); pushup(l,r,u); } ll query(ll ql,ll qr){ return query(ql,qr,1,1,n)%MOD; } ll query(ll ql,ll qr,ll u,ll l,ll r){ if(ql&lt;=l&amp;&amp;r&lt;=qr)return tree[u]*pow_2[qr-r]%MOD; ll ret=0; if(ql&lt;=ml)ret=ret+query(ql,qr,ls,l,ml); if(qr&gt;=mr)ret=ret+query(ql,qr,rs,mr,r); return ret; } }t1,t2; ll segment_tree::pow_2[maxn]; const int maxn=segment_tree::maxn; int per[maxn]; int main(){ segment_tree::pow_ini(); int T; scanf(&quot;%d&quot;,&amp;T); while(T--){ int n; scanf(&quot;%d&quot;,&amp;n); for(int i=0;i&lt;n;i++)scanf(&quot;%d&quot;,per+i); t1.build(n); t2.build(n); string ans=&quot;N&quot;; for(int mid=1;mid&lt;n-1;mid++){ t1.update(per[mid-1],1); t2.update(n+1-per[mid-1],1); int len=min(per[mid]-1,n-per[mid]); if(len==0)continue; if(t1.query(per[mid]-len,per[mid]-1)!=t2.query( n+1-(per[mid]+len) , n+1-(per[mid]+1) )){ ans=&quot;Y&quot;; break; } } cout&lt;&lt;ans&lt;&lt;endl; } }","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"problem","slug":"ACM/è€Blogè¿ç§»/problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/"},{"name":"data_struct","slug":"ACM/è€Blogè¿ç§»/problem/data-struct","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/data-struct/"}],"tags":[]},{"title":"hdu5726","slug":"ACM/è€Blogè¿ç§»/problem/data_struct/hdu5726","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"hdu5726.html","link":"","permalink":"http://fightinggg.github.io/indigo/hdu5726.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog hdu5726 é¢˜ç›®éš¾ç‚¹ : &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»™ä½ ä¸€ä¸ªä¸å˜çš„åºåˆ—ï¼Œè¾“å…¥å¾ˆå¤škï¼Œè¾“å‡ºåŒºé—´gcdç­‰äºkçš„åŒºé—´çš„æ•°é‡ã€‚ å¯¹æ‰€æœ‰åŒºé—´è®¡æ•°ï¼Œæšä¸¾å·¦ç«¯ç‚¹ï¼ŒäºŒåˆ†å³ç«¯ç‚¹å³å¯ã€‚ ç†è®ºä¾æ®: ä»¥ä»»æ„å·¦ç«¯ç‚¹ä¸ºèµ·ç‚¹çš„æ‰€æœ‰åŒºé—´çš„gcdçš„ç§ç±»ä¸ä¼šè¶…è¿‡è¿™ä¸ªç‚¹çš„å€¼çš„å› å­çš„ä¸ªæ•°ã€‚ ç»†èŠ‚: åŒºé—´è¯¢é—®ä½¿ç”¨STè¡¨. #include&lt;bits/stdc++.h&gt; using namespace std; #define ll long long const ll maxn=1e5+5; map&lt;ll,ll&gt;mp; ll t,n,q; ll a[maxn]; ll mm[maxn],rmq[maxn][20]; void st(ll l,ll r){ mm[0]=-1; for(ll i=1;i&lt;maxn;i++){ mm[i]=((i&amp;i-1)==0)?mm[i-1]+1:mm[i-1]; }//å¦‚æœå¡å¸¸ï¼Œå¯ä»¥æ”¾å¤–é¢ for(ll i=l;i&lt;=r;i++)rmq[i][0]=a[i]; for(ll j=1;j&lt;=mm[r-l+1];j++) for(ll i=l;i+(1&lt;&lt;j)-1&lt;=r;i++) rmq[i][j]=__gcd(rmq[i][j-1],rmq[i+(1&lt;&lt;(j-1))][j-1]); } ll query(ll l,ll r){ ll k=mm[r-l+1]; return __gcd(rmq[l][k],rmq[r-(1&lt;&lt;k)+1][k]); } void ini() { for(ll i=1; i&lt;=n; i++) { ll l,r=i-1; // cout&lt;&lt;i&lt;&lt;&quot;:&quot;; ///100 while(r&lt;n){// r : gcd[i..r]!=gcd[i,r+1] // cout&lt;&lt;r&lt;&lt;&quot; &quot;; ll pre_r=r; l=r+2,r=n+1; ll gcd=query(i,l-1); ///lg while(l&lt;r){ ll mid=(l+r)&gt;&gt;1; ///lg if(mid&gt;n||gcd!=query(i,mid)){ r=mid;// query(i,r)!=gcd } else l=mid+1;//query(i,l-1)=gcd }// query(i,l-1)=gcd&amp;&amp;query(i,l)!=gcd mp[gcd]+=(l-1)-(pre_r+1)+1; r=l-1; } // cout&lt;&lt;endl; } } int main() { scanf(&quot;%lld&quot;,&amp;t); for(ll time=1; time&lt;=t; time++) { mp.clear(); scanf(&quot;%lld&quot;,&amp;n); for(ll i=1;i&lt;=n;i++)scanf(&quot;%lld&quot;,a+i); st(1,n); ini(); scanf(&quot;%lld&quot;,&amp;q); printf(&quot;Case #%lld:\\n&quot;,time); for(ll i=1; i&lt;=q; i++) { ll l,r; scanf(&quot;%lld %lld&quot;,&amp;l,&amp;r); ll ans=query(l,r); printf(&quot;%lld &quot;,ans); printf(&quot;%lld\\n&quot;,mp[ans]); } } }","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"problem","slug":"ACM/è€Blogè¿ç§»/problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/"},{"name":"data_struct","slug":"ACM/è€Blogè¿ç§»/problem/data-struct","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/data-struct/"}],"tags":[]},{"title":"hdu6183","slug":"ACM/è€Blogè¿ç§»/problem/data_struct/hdu6183","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"hdu6183.html","link":"","permalink":"http://fightinggg.github.io/indigo/hdu6183.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog hdu6183 &nbsp; Color &nbsp; it é¢˜ç›®å¤§æ„ : &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Då–œæ¬¢ç”»ç”»ï¼Œä¸ºäº†é˜²æ­¢ä»–ç”»å¤ªä¹±çš„ç”»ï¼ŒDè¦ä½ å¸®ä»–ç»´æŠ¤ä¸€äº›æ“ä½œï¼Œ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0:æ¸…é™¤æ‰€æœ‰çš„é¢œè‰² &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;x&nbsp;y&nbsp;c:åœ¨ç‚¹(x,y)æ·»åŠ é¢œè‰²c &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 &nbsp;x &nbsp;y1 &nbsp;y2:é—®çŸ©å½¢(1,y1)->(x,y2)ä¸­æœ‰å¤šå°‘ç§é¢œè‰² å› ä¸ºè¯¢é—®ä¸­xæ–¹å‘ä¸Šçš„èµ·ç‚¹éƒ½æ˜¯1ï¼Œä¸”åªè¯¢é—®æ˜¯å­˜åœ¨æ€§è¯¢é—®,æ‰€ä»¥æˆ‘ä»¬è´ªå¿ƒåœ°ç»´æŠ¤æ¯ä¸€è¡Œ(yi)çš„æ¯ä¸€ç§é¢œè‰²å‡ºç°çš„æœ€å°æ¨ªåæ ‡ã€‚ è¿™æ ·åšæ—¶ç©ºå¤æ‚åº¦éƒ½ä¸º50*n*logn æ—¶ç©ºéƒ½ä¸ç¬¦åˆè¦æ±‚ å¯¹äºæ—¶é—´ï¼š å‰ªæ1ï¼šæˆ‘ä»¬åœ¨å·¦å³é€’å½’çš„æ—¶å€™ï¼Œå¦‚æœå‘ç°å·¦å­æ ‘å­˜åœ¨è§£ï¼Œåˆ™ç»“æŸé€’å½’ï¼Œä¸å»æœç´¢å³å­æ ‘ã€‚ å‰ªæ2ï¼šç»´æŠ¤åŒºé—´æœ€å°å€¼ï¼Œå½“åŒºé—´æœ€å°å€¼å¤§äºè¯¢é—®å€¼æ—¶ï¼Œç»“æŸé€’å½’(æ­¤æ“ä½œåŒæ—¶ä¼˜åŒ–äº†ç©ºé—´)ã€‚ #include&lt;bits/stdc++.h&gt; using namespace std; #define ml ((l+r)&gt;&gt;1) #define mr (ml+1) const int maxn=15e4+5; int mii[maxn*2*25],rs[maxn*2*25],ls[maxn*2*25],tot; // 90mb void ini(){ tot=0; } void push_son(int&amp;son,int l,int r){ if(son==0){ son=++tot; ls[son]=0; rs[son]=0; mii[son]=0x7fffffff; } } void push_down(int rt,int l,int r){ push_son(ls[rt],l,ml); push_son(rs[rt],mr,r); } void push_up(int rt,int l,int r){ mii[rt]=min(mii[ls[rt]],mii[rs[rt]]); } void build(int&amp;rt,int l,int r){//1 1 n rt=0; push_son(rt,l,r); } void update(int rt,int l,int r,int q,int d){ if(l==r){ mii[rt]=min(mii[rt],d); } else{ push_down(rt,l,r); if(ml&gt;=q) update(ls[rt],l,ml,q,d); else update(rs[rt],mr,r,q,d); push_up(rt,l,r); } } int query(int rt,int l,int r,int ql,int qr,int x){ if(mii[rt]&gt;x) return 0; if(ql&lt;=l&amp;&amp;r&lt;=qr){ return 1; } else{ push_down(rt,l,r); if(ml&gt;=ql) if(query(ls[rt],l,ml,ql,qr,x)) return 1; if(mr&lt;=qr) if(query(rs[rt],mr,r,ql,qr,x)) return 1; return 0; } } inline int read(){ int ret=0; char ch=getchar(); while(ch&lt;&#39;0&#39;||ch&gt;&#39;9&#39;) ch=getchar(); while(&#39;0&#39;&lt;=ch&amp;&amp;ch&lt;=&#39;9&#39;) ret=(ret&lt;&lt;1)+(ret&lt;&lt;3)+(ch^48),ch=getchar(); return ret; } int rt[55]; int main(){ while(true){ int op=read(); if(op==0){ ini(); for(int i=0;i&lt;=50;i++) build(rt[i],1,1e6+5); } else if(op==1){ int x,y,c; x=read();y=read();c=read(); update(rt[c],1,1e6+5,y,x); } else if(op==2){ int x,y1,y2; x=read();y1=read();y2=read(); int ans=0; for(int i=0;i&lt;=50;i++) ans+=query(rt[i],1,1e6+5,y1,y2,x); printf(&quot;%d\\n&quot;,ans); } else break; } }","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"problem","slug":"ACM/è€Blogè¿ç§»/problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/"},{"name":"data_struct","slug":"ACM/è€Blogè¿ç§»/problem/data-struct","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/data-struct/"}],"tags":[]},{"title":"hdu5745","slug":"ACM/è€Blogè¿ç§»/problem/dp/hdu5745","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"hdu5745.html","link":"","permalink":"http://fightinggg.github.io/indigo/hdu5745.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog hdu5726 é¢˜ç›®å¤§æ„ : &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; åœ¨æ¯ä¸²é‡Œé¢æ‰¾å­ä¸²ï¼Œå­—ä¸²å¯ä»¥å˜åŒ–ï¼Œè¯¢é—®æ‰€æœ‰åŒ¹é…ä½ç½® &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å…¶å®æ˜¯ä¸€ä¸ªdpï¼Œè®¾çŠ¶æ€dp[i][j][0]è¡¨ç¤ºæ¯ä¸²åŒ¹é…åˆ°iå­ä¸²åŒ¹é…åˆ° jï¼Œä¸”å­ä¸²æœ€åä¸€ä¸ªå­—ç¬¦ä¸å‰é¢çš„å­—ç¬¦äº¤æ¢ï¼Œ dp[i][j][1]ä¸äº¤æ¢ï¼Œdp[i][j][2]äº¤æ¢ï¼Œ äºæ˜¯å°±æœ‰äº†è½¬ç§»å¼å­ï¼š &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dp[j][0][i] = dp[j-1][2][i-1]&amp;&amp;s[i]==p[j-1]; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dp[j][1][i] = (dp[j-1][1][i-1]||dp[j-1][0][i-1]) &amp;&amp; s[i]==p[j]; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dp[j][2][i] = (dp[j-1][1][i-1]||dp[j-1][0][i-1]) &amp;&amp; s[i]==p[j+1]; ç„¶åbitsetæš´åŠ›å‹ç¼©æ‰ä¸€ç»´ï¼Œæ»šåŠ¨æ•°ç»„åˆå‹ç¼©æ‰ä¸€ä¸ªç»´åº¦ã€‚ è¦æ³¨æ„bisetå‹ç¼©æ‰å¤§çš„é‚£ä¸€ç»´åº¦ï¼Œæ»šåŠ¨æ•°ç»„å‹ç¼©æ‰ç¬¬äºŒå¤§çš„ç»´åº¦æ‰èƒ½è¿‡ï¼Œå‹åäº†å°±tleäº†ã€‚ #include&lt;bits/stdc++.h&gt; using namespace std; const int MAXS=1e5+5,MAXP=5e3+5; char s[MAXS],p[MAXP]; bitset&lt;MAXS&gt; dp[2][3]; bitset&lt;MAXS&gt; s_char[26]; int main(){ int n,m,T; scanf(&quot;%d&quot;,&amp;T); while(T--){ scanf(&quot;%d %d %s %s&quot;,&amp;n,&amp;m,s,p); for(int i=0;i&lt;26;i++)s_char[i].reset(); for(int i=0;i&lt;n;i++)s_char[s[i]-&#39;a&#39;][i]=1; int t=1; dp[t][0][0]=0; dp[t][1][0]=s[0]==p[0]; dp[t][2][0]=s[0]==p[1]; for(int i=1;i&lt;n;i++){ dp[t][0][i]=0; dp[t][1][i]=s[i]==p[0]; dp[t][2][i]=s[i]==p[1]; } t^=1; for(int j=1;j&lt;m;j++){ dp[t][0] = (dp[t^1][2]&lt;&lt;1) &amp; s_char[p[j-1]-&#39;a&#39;]; dp[t][1] = ( (dp[t^1][1]|dp[t^1][0]) &lt;&lt; 1 ) &amp; s_char[p[j]-&#39;a&#39;]; if(j+1&lt;m)dp[t][2] = ((dp[t^1][1]|dp[t^1][0])&lt;&lt;1) &amp; s_char[p[j+1]-&#39;a&#39;]; else dp[t][2].reset(); dp[t][0][0] = 0; dp[t][1][0] = 0; dp[t][2][0] = 0; t^=1; } for(int i=m-1;i&lt;n;i++){ printf(&quot;%d&quot;,(dp[t^1][0][i]|dp[t^1][1][i])); } for(int i=0;i&lt;m-1;i++){ printf(&quot;0&quot;); } cout&lt;&lt;endl; } } //000001 //0000011 <","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"problem","slug":"ACM/è€Blogè¿ç§»/problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/"},{"name":"dp","slug":"ACM/è€Blogè¿ç§»/problem/dp","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/dp/"}],"tags":[]},{"title":"hdu6161","slug":"ACM/è€Blogè¿ç§»/problem/dp/hdu6161","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"hdu6161.html","link":"","permalink":"http://fightinggg.github.io/indigo/hdu6161.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog hdu6161 é¢˜ç›®å¤§æ„ : &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ç»™ä½ ä¸€é¢—å¾ˆå¤§çš„å®Œå…¨äºŒå‰æ ‘ï¼ŒèŠ‚ç‚¹ç¼–å·ä»1åˆ°nï¼Œå¯¹äºé™¤äº†1å·èŠ‚ç‚¹ä»¥å¤–çš„å…¶ä»–èŠ‚ç‚¹xï¼Œä»–çš„çˆ¶äº²æ˜¯x>>1,1å·èŠ‚ç‚¹ä¸ºæ ¹ï¼ŒèŠ‚ç‚¹xçš„åˆå§‹æƒå€¼ä¸ºx ç»™å‡ºä¸¤ç§æ“ä½œï¼š 1.update u x æ„å‘³ç€æ›´æ–°èŠ‚ç‚¹uçš„æƒå€¼ä¸ºx 2.query u è¯¢é—®ç»è¿‡èŠ‚ç‚¹uçš„è·¯å¾„ä¸­ï¼Œæƒå€¼æœ€å¤§çš„æ¡è·¯å¾„çš„æƒï¼Œï¼ˆå®šä¹‰è·¯å¾„çš„æƒä¸ºè·¯å¾„ä¸ŠèŠ‚ç‚¹çš„æƒçš„å’Œï¼‰ æ“ä½œä¸€å…±æœ‰mæ¬¡ æ•°æ®èŒƒå›´ï¼šn","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"problem","slug":"ACM/è€Blogè¿ç§»/problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/"},{"name":"dp","slug":"ACM/è€Blogè¿ç§»/problem/dp","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/dp/"}],"tags":[]},{"title":"hdu6170","slug":"ACM/è€Blogè¿ç§»/problem/dp/hdu6170","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"hdu6170.html","link":"","permalink":"http://fightinggg.github.io/indigo/hdu6170.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog hdu6170 é¢˜ç›®å¤§æ„ : &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ç±»ä¼¼æ­£åˆ™åŒ¹é… &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; è¿™ä¸ªé¢˜å¼€å§‹çš„æ—¶å€™æ²¡æœ‰å†™å‡ºæ¥ï¼Œæƒ³åˆ°äº†çŠ¶æ€çš„è®¾æ³•ï¼Œå¦‚æœè®¾dp[i][j]ä»£è¡¨ç¬¬ä¸€ä¸ªä¸²çš„å‰ié¡¹èƒ½å¦åŒ¹é…ç¬¬äºŒä¸ªä¸²çš„å‰jé¡¹ï¼ŒçŠ¶æ€ä¸ªæ•°å¾ˆæ˜æ˜¾æ˜¯n2çš„ï¼Œç„¶è€Œä¸€ç›´è‹¦äº*ç¬¦å·çš„åŒ¹é…ï¼Œæ‰¾ä¸åˆ°å¥½çš„è½¬ç§»æ–¹ç¨‹ï¼Œä¸ç®¡æ€ä¹ˆæƒ³éƒ½æ˜¯n3çš„è½¬ç§»å¤æ‚åº¦ï¼Œå½“s2[j]æ˜¯*çš„æ—¶å€™ï¼Œdp[i][j]","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"problem","slug":"ACM/è€Blogè¿ç§»/problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/"},{"name":"dp","slug":"ACM/è€Blogè¿ç§»/problem/dp","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/dp/"}],"tags":[]},{"title":"bzoj1924","slug":"ACM/è€Blogè¿ç§»/problem/graph_theory/bzoj1924","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"bzoj1924.html","link":"","permalink":"http://fightinggg.github.io/indigo/bzoj1924.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog bzoj1924 é¢˜æ„ï¼š &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨å®½å¹¿çš„éæ´²è’æ¼ ä¸­ï¼Œç”Ÿæ´»ç€ä¸€ç¾¤å‹¤åŠ³å‹‡æ•¢çš„ç¾Šé©¼å®¶æ—ã€‚è¢«æ—äººæ­ç§°ä¸ºâ€œå…ˆçŸ¥â€çš„Alpaca L. Sotomonæ˜¯è¿™ä¸ªå®¶æ—çš„é¢†è¢–ï¼Œå¤–äººä¹Ÿç§°å…¶ä¸ºâ€œæ‰€é©¼é—¨ç‹â€ã€‚æ‰€é©¼é—¨ç‹æ¯•ç”Ÿè‡´åŠ›äºç»´æŠ¤å®¶æ—çš„å®‰å®šä¸å’Œè°ï¼Œä»–æ›¾äº²è‡ªç‡å†›ç²‰ç¢æ²³èŸ¹å¸å›½ä¸»ä¹‰çš„é‡è›®ä¾µç•¥ï¼Œä¸ºæ—äººç«‹ä¸‹èµ«èµ«æˆ˜åŠŸã€‚æ‰€é©¼é—¨ç‹ä¸€ç”Ÿè´¢å®æ— æ•°ï¼Œä½†å› å…¶ç”Ÿæ€§èŠ‚ä¿­ä½è°ƒï¼Œä»–å°†è´¢å®åŸ‹è—åœ¨è‡ªå·±è®¾è®¡çš„åœ°ä¸‹å®«æ®¿é‡Œï¼Œè¿™ä¹Ÿæ˜¯ä»Šå¤©Henry Curtisæ•…äº‹çš„èµ·ç‚¹ã€‚Henryæ˜¯ä¸€ä¸ªçˆ±è´¢å¦‚å‘½çš„è´ªå©ªå®¶ä¼™ï¼Œè€Œåˆéå¸¸èªæ˜ï¼Œä»–è´¹å°½å¿ƒæœºè°‹åˆ’äº†è¿™æ¬¡ç›—çªƒè¡ŒåŠ¨ï¼Œç ´è§£é‡é‡æœºå…³åæ¥åˆ°è¿™åº§åœ°ä¸‹å®«æ®¿å‰ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ•´åº§å®«æ®¿å‘ˆçŸ©é˜µçŠ¶ï¼Œç”±RÃ—Cé—´çŸ©å½¢å®«å®¤ç»„æˆï¼Œå…¶ä¸­æœ‰Né—´å®«å®¤é‡ŒåŸ‹è—ç€å®è—ï¼Œç§°ä½œè—å®å®«å®¤ã€‚å®«æ®¿é‡Œå¤–ã€ç›¸é‚»å®«å®¤é—´éƒ½ç”±åšç¡¬çš„å®ä½“å¢™é˜»éš”ï¼Œç”±ä¸€é—´å®«å®¤åˆ°è¾¾å¦ä¸€é—´åªèƒ½é€šè¿‡æ‰€é©¼é—¨ç‹ç‹¬åˆ›çš„ç§»åŠ¨æ–¹å¼â€”â€”ä¼ é€é—¨ã€‚æ‰€é©¼é—¨ç‹ä¸ºè¿™Né—´è—å®å®«å®¤æ¯é—´éƒ½æ¶è®¾äº†ä¸€æ‰‡ä¼ é€é—¨ï¼Œæ²¡æœ‰å®è—çš„å®«å®¤ä¸è®¾ä¼ é€é—¨ï¼Œæ‰€æœ‰çš„å®«å®¤ä¼ é€é—¨åˆ†ä¸ºä¸‰ç§ï¼š &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â€œæ¨ªå¤©é—¨â€ï¼šç”±è¯¥é—¨å¯ä»¥ä¼ é€åˆ°åŒè¡Œçš„ä»»ä¸€å®«å®¤ï¼› &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â€œçºµå¯°é—¨â€ï¼šç”±è¯¥é—¨å¯ä»¥ä¼ é€åˆ°åŒåˆ—çš„ä»»ä¸€å®«å®¤ï¼› &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â€œè‡ª*æ²³èŸ¹*ç”±*æ²³èŸ¹*é—¨â€ï¼šç”±è¯¥é—¨å¯ä»¥ä¼ é€åˆ°ä»¥è¯¥é—¨æ‰€åœ¨å®«å®¤ä¸ºä¸­å¿ƒå‘¨å›´8æ ¼ä¸­ä»»ä¸€å®«å®¤ï¼ˆå¦‚æœç›®æ ‡å®«å®¤å­˜åœ¨çš„è¯ï¼‰ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ·±è°‹è¿œè™‘çš„Henryå½“ç„¶äº‹å…ˆå°±æåˆ°äº†æ‰€é©¼é—¨ç‹å½“å¹´çš„å®«æ®¿æ‹›æ ‡å†Œï¼Œä¹¦å†Œä¸Šè¯¦ç»†è®°å½•äº†æ¯æ‰‡ä¼ é€é—¨æ‰€å±å®«å®¤åŠç±»å‹ã€‚è€Œä¸”ï¼Œè™½ç„¶å®«æ®¿å†…å¤–ç›¸éš”ï¼Œä½†ä»–è‡ªè¡Œå‡†å¤‡äº†ä¸€ç§ä¾¿æºå¼ä¼ é€é—¨ï¼Œå¯å°†è‡ªå·±ä¼ é€åˆ°æ®¿å†…ä»»æ„ä¸€é—´å®«å®¤å¼€å§‹å¯»å®ï¼Œå¹¶åœ¨ä»»æ„ä¸€é—´å®«å®¤ç»“æŸåä¼ é€å‡ºå®«ã€‚æ•´åº§å®«æ®¿åªè®¸è¿›å‡ºä¸€æ¬¡ï¼Œä¸”ä¾¿æºé—¨æ— æ³•è¿›è¡Œå®«å®¤ä¹‹é—´çš„ä¼ é€ã€‚ä¸è¿‡å¥½åœ¨å®«å®¤å†…ä¼ é€é—¨çš„ä½¿ç”¨æ²¡æœ‰æ¬¡æ•°é™åˆ¶ï¼Œæ¯é—´å®«å®¤ä¹Ÿå¯ä»¥å¤šæ¬¡å‡ºå…¥ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç°åœ¨Henryå·²ç»æ‰“å¼€äº†ä¾¿æºé—¨ï¼Œå³å°†é€‰æ‹©ä¸€é—´å®«å®¤è¿›å…¥ã€‚ä¸ºå¾—åˆ°å°½å¤šå®è—ï¼Œä»–å¸Œæœ›å®‰æ’ä¸€æ¡è·¯çº¿ï¼Œä½¿èµ°è¿‡çš„ä¸åŒè—å®å®«å®¤å°½å¯èƒ½å¤šã€‚è¯·ä½ å‘Šè¯‰Henryè¿™æ¡è·¯çº¿æœ€å¤šè¡Œç»ä¸åŒè—å®å®«å®¤çš„æ•°ç›®ã€‚ è¾“å…¥ï¼š &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç¬¬ä¸€è¡Œç»™å‡ºä¸‰ä¸ªæ­£æ•´æ•° N, R, Cã€‚ ä»¥ä¸‹ N è¡Œï¼Œæ¯è¡Œç»™å‡ºä¸€æ‰‡ä¼ é€é—¨çš„ä¿¡æ¯ï¼ŒåŒ…å«ä¸‰ä¸ªæ­£æ•´æ•°xi, yi, Tiï¼Œè¡¨ç¤ºè¯¥ä¼ é€é—¨è®¾åœ¨ä½äºç¬¬ xiè¡Œç¬¬yiåˆ—çš„è—å®å®«å®¤ï¼Œç±»å‹ä¸º Tiã€‚Tiæ˜¯ä¸€ä¸ª1~3é—´çš„æ•´æ•°ï¼Œ 1è¡¨ç¤ºå¯ä»¥ä¼ é€åˆ°ç¬¬ xiè¡Œä»»æ„ä¸€åˆ—çš„â€œæ¨ªå¤©é—¨â€ï¼Œ2è¡¨ç¤ºå¯ä»¥ä¼ é€åˆ°ä»»æ„ä¸€è¡Œç¬¬ yiåˆ—çš„â€œçºµå¯°é—¨â€ï¼Œ3è¡¨ç¤ºå¯ä»¥ä¼ é€åˆ°å‘¨å›´ 8æ ¼å®«å®¤çš„â€œè‡ªç”±é—¨â€ã€‚ ä¿è¯ 1â‰¤xiâ‰¤Rï¼Œ1â‰¤yiâ‰¤Cï¼Œæ‰€æœ‰çš„ä¼ é€é—¨ä½ç½®äº’ä¸ç›¸åŒã€‚ æµ‹è¯•ç‚¹ç¼–å·ï¼š &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;N&nbsp; R&nbsp; C&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp; 16&nbsp; 20&nbsp; 20&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp; 300&nbsp; 1,000&nbsp; 1,000&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3&nbsp; 500&nbsp; 100,000&nbsp; 100,000 &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4&nbsp; 2,500&nbsp; 5,000&nbsp; 5,000 &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5&nbsp; 50,000&nbsp; 5,000&nbsp; 5,000 &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6&nbsp; 50,000&nbsp; 1,000,000&nbsp; 1,000,000 &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;7&nbsp; 80,000&nbsp; 1,000,000&nbsp; 1,000,000 &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8&nbsp; 100,000&nbsp; 1,000,000&nbsp; 1,000,000 &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;9&nbsp; 100,000&nbsp; 1,000,000&nbsp; 1,000,000 &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10&nbsp; 100,000&nbsp; 1,000,000&nbsp; 1,000,000 &nbsp; å¼ºè¿é€šç¼©ç‚¹åè·‘spfaæœ€é•¿è·¯å³å¯ ä½†æ˜¯å¦‚ä½•å»ºå›¾å¾ˆé‡è¦ï¼Œæˆ‘ä»¬æš´åŠ›å»ºå›¾ï¼Œå¤æ‚åº¦ä¼šè¾¾åˆ°n^2 ä½†æ˜¯å‘ç°å¯ä»¥è¿™æ ·åšï¼Œå¯¹äºæ¨ªå¤©é—¨ï¼Œæ¯è¡Œæ‰¾å‡ºä¸€ä¸ªæ¨ªå¤©é—¨ï¼Œä¸è¯¥è¡Œå…¶ä»–æ¨ªå¤©é—¨è¿åŒå‘è¾¹ï¼Œå³è¡¨ç¤ºäº†è¿™ä¸€å †å¼ºè”é€šï¼Œå¯¹äºè¯¥è¡Œçš„å…¶ä»–é—¨ï¼Œè¿å•å‘è¾¹ï¼Œ å¯¹äºçºµå¯°é—¨åŒç† å¯¹äºæ²³èŸ¹é—¨ï¼Œæš´åŠ›è¿è¾¹å¤æ‚åº¦ä¸ä¼šè¿‡é«˜ #include&lt;iostream&gt; #include&lt;cstdio&gt; #include&lt;queue&gt; #include&lt;algorithm&gt; #include&lt;set&gt; #include&lt;map&gt; using namespace std; struct Graph{ static const int maxn=1e5+5,maxm=maxn*8+maxn*2+maxn*2+maxn*8;// 3å·èŠ‚ç‚¹æœ€å¤š n*8 ï¼› 1/2å·èŠ‚ç‚¹ æœ€å¤šåŒå‘è¾¹n*2 struct star{int v,w,nex;} edge[maxm]; int head[maxn],cnt,n; void ini(int n){ this-&gt;n=n; cnt=-1; for(int i=0;i&lt;=n;i++) head[i]=-1; } void add_edge(int u,int v,int w){ edge[++cnt]=star{v,w,head[u]}; head[u]=cnt; } }; struct Tarjan:Graph{//å¼ºè¿é€šåˆ†é‡ç¼©ç‚¹ int low[maxn],dfn[maxn],belong[maxn],stk[maxn],instk[maxn],block[maxn]; int step,color; void tarjan(){ step=color=0; for(int i=0;i&lt;=n;i++) dfn[i]=0; for(int i=1;i&lt;=n;i++) if(dfn[i]==0) tarjan(i,0);//å¤šä¸ªè”é€šå¿« } void tarjan(int u,int father=0){//æ­¤å‡½æ•°ä¸å¼€æ”¾ low[u]=dfn[u]=++step; stk[++stk[0]]=u;instk[u]=1; for(int i=head[u];~i;i=edge[i].nex){ int v=edge[i].v; if(dfn[v]) { if(instk[v]) low[u]=min(low[u],dfn[v]); } else{ tarjan(v,u); low[u]=min(low[u],low[v]); } } if(low[u]==dfn[u]){ block[color+1]=1; while(stk[stk[0]]!=u) { belong[stk[stk[0]]]=color+1; instk[stk[stk[0]--]]=0; block[color+1]++; } belong[stk[stk[0]]]=++color; instk[stk[stk[0]--]]=0; } } }graph; struct Spfa:Graph{ int d[maxn],inq[maxn]; void short_path(int s,int*dist){ for(int i=0;i&lt;=n;i++) dist[i]=1e9; dist[s]=0; deque&lt;int&gt;q; q.push_back(s); inq[s]=1; long long sum=0; while(!q.empty()){ int u=q.front(); q.pop_front(); sum-=dist[u];inq[u]=0; if(1ll*dist[u]*q.size()&gt;sum){//large label last sum+=dist[u]; q.push_back(u); inq[u]=1; } else{ for(int i=head[u];~i;i=edge[i].nex){ int v=edge[i].v, w=edge[i].w; if(dist[v]&gt;dist[u]+w){ if(inq[v]){ sum-=dist[v]; dist[v]=dist[u]+w; sum+=dist[v]; } else{ dist[v]=dist[u]+w; inq[v]=1; sum+=dist[v]; if(dist[v]&lt;dist[q.front()]) q.push_front(v);//small lable first else q.push_back(v); } } } } } } }g; inline int read(){ int x=0,f=1; char ch=getchar(); while(ch&lt;&#39;0&#39;||ch&gt;&#39;9&#39;){ if(ch==&#39;-&#39;) f=-1; ch=getchar(); } while(ch&gt;=&#39;0&#39;&amp;&amp;ch&lt;=&#39;9&#39;){ x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48); ch=getchar(); } return x*f; } const int maxn=1e6+100; vector&lt;int&gt;row[maxn],col[maxn]; vector&lt;int&gt;Row[maxn],Col[maxn]; struct node{int x,y;}; vector&lt;node&gt;block; map&lt;long long,int&gt;mp; int getid(int x,int y){ static int cnt=0; long long t=x*1e6+y; if(mp[t]!=0) return mp[t]; else return mp[t]=++cnt; } bool have(int x,int y){ long long t=x*1e6+y; return mp.find(t)!=mp.end(); } int bound[8][2]={-1,-1, -1,0, -1,1, 0,-1, 0,1, 1,-1, 1,0, 1,1}; int main(){ int n=read(); int r=read(); int c=read(); graph.ini(n); for(int i=0;i&lt;n;i++){ int u=read(); int v=read(); int t=read(); getid(u,v); if(t==1) { col[v].push_back(u); Row[u].push_back(v); } else if(t==2) { row[u].push_back(v); Col[v].push_back(u); } else{ row[u].push_back(v); col[v].push_back(u); block.push_back(node{u,v}); } } //1 for(int i=0;i&lt;=r;i++){ if(!Row[i].empty()){ int quick=getid(i,Row[i][0]); for(int t=1;t&lt;Row[i].size();t++){ int quickkk=getid(i,Row[i][t]); graph.add_edge(quick,quickkk,1); graph.add_edge(quickkk,quick,1); } for(int t=0;t&lt;row[i].size();t++){ graph.add_edge(quick,getid(i,row[i][t]),1); } } } //2 for(int i=0;i&lt;=c;i++){ if(!Col[i].empty()){ int quick=getid(Col[i][0],i); for(int t=1;t&lt;Col[i].size();t++){ int quickkk=getid(Col[i][t],i); graph.add_edge(quick,quickkk,1); graph.add_edge(quickkk,quick,1); } for(int t=0;t&lt;col[i].size();t++){ graph.add_edge(quick,getid(col[i][t],i),1); } } } //3 for(int i=0;i&lt;block.size();i++){ int u=block[i].x; int v=block[i].y; int quick=getid(u,v); for(int j=0;j&lt;8;j++){ int uu=u+bound[j][0]; int vv=v+bound[j][1]; if(have(uu,vv)){ graph.add_edge(quick,getid(uu,vv),1); } } } graph.tarjan(); g.ini(graph.color+1); set&lt;long long&gt;se; for(int u=1;u&lt;=graph.n;u++){ for(int i=graph.head[u];~i;i=graph.edge[i].nex){ int v=graph.edge[i].v; int uu=graph.belong[u]; int vv=graph.belong[v]; if(uu==vv) continue; long long hash=uu*1e6+vv; if(se.find(hash)!=se.end()) continue; se.insert(hash); g.add_edge(uu,vv,-graph.block[vv]); } } int s=graph.color+1; for(int i=1;i&lt;=graph.color;i++) g.add_edge(s,i,-graph.block[i]); g.short_path(s,g.d); int ans=0; for(int i=1;i&lt;=graph.color;i++) ans=min(ans,g.d[i]); cout&lt;&lt;abs(ans)&lt;&lt;endl; }","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"problem","slug":"ACM/è€Blogè¿ç§»/problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/"},{"name":"graph_theory","slug":"ACM/è€Blogè¿ç§»/problem/graph-theory","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/graph-theory/"}],"tags":[]},{"title":"bzoj2118","slug":"ACM/è€Blogè¿ç§»/problem/graph_theory/bzoj2118","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"bzoj2118.html","link":"","permalink":"http://fightinggg.github.io/indigo/bzoj2118.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog bzoj2118 Dedivion å¢¨å¢¨çªç„¶å¯¹ç­‰å¼å¾ˆæ„Ÿå…´è¶£ï¼Œä»–æ­£åœ¨ç ”ç©¶a1x1+a2y2+â€¦+anxn=Bå­˜åœ¨éè´Ÿæ•´æ•°è§£çš„æ¡ä»¶ï¼Œä»–è¦æ±‚ä½ ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œç»™å®šNã€{an}ã€ä»¥ åŠBçš„å–å€¼èŒƒå›´ï¼Œæ±‚å‡ºæœ‰å¤šå°‘Bå¯ä»¥ä½¿ç­‰å¼å­˜åœ¨éè´Ÿæ•´æ•°è§£ã€‚ Input è¾“å…¥çš„ç¬¬ä¸€è¡ŒåŒ…å«3ä¸ªæ­£æ•´æ•°ï¼Œåˆ†åˆ«è¡¨ç¤ºNã€BMinã€BMaxåˆ†åˆ«è¡¨ç¤ºæ•°åˆ—çš„é•¿åº¦ã€Bçš„ä¸‹ç•Œã€Bçš„ä¸Šç•Œã€‚è¾“å…¥çš„ç¬¬äºŒè¡ŒåŒ…å«Nä¸ªæ•´æ•°ï¼Œå³ æ•°åˆ—{an}çš„å€¼ã€‚ Output è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ‰å¤šå°‘bå¯ä»¥ä½¿ç­‰å¼å­˜åœ¨éè´Ÿæ•´æ•°è§£ã€‚ Sample Input 2 5 10 3 5 Sample Output 5 HINT å¯¹äº100%çš„æ•°æ®ï¼ŒNâ‰¤12ï¼Œ0â‰¤aiâ‰¤5*10^5ï¼Œ1â‰¤BMinâ‰¤BMaxâ‰¤10^12ã€‚ f[i]è¡¨ç¤ºæ¨¡xæ„ä¹‰ä¸‹ç­‰äºiæ—¶çš„æœ€å°èƒŒåŒ…å®¹é‡ å¦‚æœæˆ‘ä»¬å–x=min(ai), åˆ™å¯¹äºæ‰€æœ‰çš„f[i],f[i]+k*aiä¸€å®šèƒ½å¤Ÿå–å¾—åˆ° fç”¨æœ€çŸ­è·¯æ¥æ±‚å³å¯ #include&lt;bits/stdc++.h&gt; using namespace std; typedef long long ll; int main(){ ll n,l,r; scanf(&quot;%lld%lld%lld&quot;,&amp;n,&amp;l,&amp;r); ll mi=1&lt;&lt;30; ll a[12]; for(ll i=0;i&lt;n;i++) { scanf(&quot;%lld&quot;,a+i); mi=min(mi,a[i]); } vector&lt;ll&gt; dis(mi,1e18); priority_queue&lt;ll,vector&lt;ll&gt;,greater&lt;ll&gt; &gt; q; q.push(0); dis[0]=0; while(!q.empty()){ ll u=q.top();q.pop(); for(ll i=0;i&lt;n;i++){ ll v=u+a[i]; if(dis[v%mi]&gt;dis[u%mi]+a[i]) { dis[v%mi]=dis[u%mi]+a[i]; q.push(v); } } } l--; long long ans=0; for(ll i=0;i&lt;mi;i++){ if(dis[i]&lt;=l) ans-=(l-dis[i])/mi+1; if(dis[i]&lt;=r) ans+=(r-dis[i])/mi+1; } cout&lt;&lt;ans&lt;&lt;endl; } // 5 6 8 9 10 // 2 0 2 1 1","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"problem","slug":"ACM/è€Blogè¿ç§»/problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/"},{"name":"graph_theory","slug":"ACM/è€Blogè¿ç§»/problem/graph-theory","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/graph-theory/"}],"tags":[]},{"title":"bzoj2730","slug":"ACM/è€Blogè¿ç§»/problem/graph_theory/bzoj2730","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"bzoj2730.html","link":"","permalink":"http://fightinggg.github.io/indigo/bzoj2730.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog bzoj2730 é¢˜æ„ï¼š &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç…¤çŸ¿å·¥åœ°å¯ä»¥çœ‹æˆæ˜¯ç”±éš§é“è¿æ¥æŒ–ç…¤ç‚¹ç»„æˆçš„æ— å‘å›¾ã€‚ä¸ºå®‰å…¨èµ·è§ï¼Œå¸Œæœ›åœ¨å·¥åœ°å‘ç”Ÿäº‹æ•…æ—¶æ‰€æœ‰æŒ–ç…¤ç‚¹çš„å·¥äººéƒ½èƒ½æœ‰ä¸€æ¡å‡ºè·¯é€ƒåˆ°æ•‘æ´å‡ºå£å¤„ã€‚äºæ˜¯çŸ¿ä¸»å†³å®šåœ¨æŸäº›æŒ–ç…¤ç‚¹è®¾ç«‹æ•‘æ´å‡ºå£ï¼Œä½¿å¾—æ— è®ºå“ªä¸€ä¸ªæŒ–ç…¤ç‚¹åå¡Œä¹‹åï¼Œå…¶ä»–æŒ–ç…¤ç‚¹çš„å·¥äººéƒ½æœ‰ä¸€æ¡é“è·¯é€šå‘æ•‘æ´å‡ºå£ã€‚è¯·å†™ä¸€ä¸ªç¨‹åºï¼Œç”¨æ¥è®¡ç®—è‡³å°‘éœ€è¦è®¾ç½®å‡ ä¸ªæ•‘æ´å‡ºå£ï¼Œä»¥åŠä¸åŒæœ€å°‘æ•‘æ´å‡ºå£çš„è®¾ç½®æ–¹æ¡ˆæ€»æ•°ã€‚ è¾“å…¥ï¼š &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¾“å…¥æ–‡ä»¶æœ‰è‹¥å¹²ç»„æ•°æ®ï¼Œæ¯ç»„æ•°æ®çš„ç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªæ­£æ•´æ•° Nï¼ˆNâ‰¤500ï¼‰ï¼Œè¡¨ç¤ºå·¥åœ°çš„éš§é“æ•°ï¼Œæ¥ä¸‹æ¥çš„ N è¡Œæ¯è¡Œæ˜¯ç”¨ç©ºæ ¼éš”å¼€çš„ä¸¤ä¸ªæ•´æ•° S å’Œ Tï¼Œè¡¨ç¤ºæŒ– S ä¸æŒ–ç…¤ç‚¹ T ç”±éš§é“ç›´æ¥è¿æ¥ã€‚è¾“å…¥æ•°æ®ä»¥ 0 ç»“å°¾ã€‚ å¯¹ç‚¹åŒè”é€šåˆ†æ”¯å‰²ç‚¹ä¸ªæ•°åˆ†ç±»è®¨è®º, åˆ†æä¸Šå…±è®¡ä¸€ä¸ªç‚¹ï¼šå¿½ç•¥ æ²¡æœ‰å‰²ç‚¹ï¼šå»ºç«‹ä¸¤ä¸ªå‡ºå£ ä¸€ä¸ªå‰²ç‚¹ï¼šå»ºç«‹ä¸€ä¸ªå‡ºå£ å…¶ä½™ï¼šä¸å»ºå‡ºå£ #include&lt;iostream&gt; #include&lt;cstdio&gt; using namespace std; struct Graph{ static const int maxn=1e5+5, maxm=3e5+5; struct star{int v,nex;}edge[maxm&lt;&lt;1]; int head[maxn],cnt,n; void ini(int n){ this-&gt;n=n; cnt=-1; for(int i=0;i&lt;=n;i++) head[i]=-1; } void add_edge(int u,int v){ edge[++cnt]=star{v,head[u]}; head[u]=cnt; edge[++cnt]=star{u,head[v]}; head[v]=cnt; } }tree; struct Tarjan:Graph{//å‰²ç‚¹ int low[maxn],dfn[maxn],stk[maxn],cut[maxn]; int step; void tarjan(){ step=0; for(int i=0;i&lt;=n;i++) dfn[i]=cut[i]=0; for(int i=1;i&lt;=n;i++) if(dfn[i]==0) tarjan(i,0);//å¤šä¸ªè”é€šå¿« } void tarjan(int u,int father=0){//æ­¤å‡½æ•°ä¸å¼€æ”¾ low[u]=dfn[u]=++step; stk[++stk[0]]=u; int first=1, son=0; for(int i=head[u];~i;i=edge[i].nex){ int v=edge[i].v; if(v==father&amp;&amp;!first) first=false; else if(dfn[v]) low[u]=min(low[u],dfn[v]); else{ son++; tarjan(v,u); low[u]=min(low[u],low[v]); //ä¸€ä¸ªé¡¶ç‚¹uæ˜¯å‰²ç‚¹,å½“ä¸”ä»…å½“1æˆ–2 //1.uä¸ºæ ‘æ ¹ä¸”uæœ‰å¤šä¸ä¸€ä¸ªå­æ ‘ //2.uä¸ä¸ºæ ‘æ ¹ä¸”å­˜åœ¨è¾¹(u,v)ä¸ºæ ‘è¾¹ï¼Œä½¿å¾—dfn[u]&lt;=low[v] if(father!=0&amp;&amp;dfn[u]&lt;=low[v]) cut[u]=1; if(father==0&amp;&amp;son&gt;1) cut[u]=1; } } stk[0]--; } long long nums,cutnums,ans1,ans2; void solve(int Case){ tarjan(); ans1=0,ans2=1; for(int i=1;i&lt;=n;i++) dfn[i]=0; for(int i=1;i&lt;=n;i++) { if(!cut[i]&amp;&amp;dfn[i]==0) { nums=cutnums=0; dfs(i,i); if(nums==1);//do nothing else{ if(cutnums&gt;=2) ;//do nothing else if(cutnums==1){ ans1++; ans2*=nums-1; } else{ ans1+=2; ans2*=(nums-1)*nums/2; } } } } cout&lt;&lt;&quot;Case &quot;&lt;&lt;Case&lt;&lt;&quot;: &quot;&lt;&lt;ans1&lt;&lt;&quot; &quot;&lt;&lt;ans2&lt;&lt;endl;//è¾“å‡ºç»“æœ } void dfs(int u,int color){ nums++; cutnums+=cut[u]; dfn[u]=color; if(cut[u]) return; for(int i=head[u];~i;i=edge[i].nex){ int v=edge[i].v; if(dfn[v]!=color) dfs(v,color); } } }graph; inline int read(){ int x=0,f=1; char ch=getchar(); while(ch&lt;&#39;0&#39;||ch&gt;&#39;9&#39;){ if(ch==&#39;-&#39;) f=-1; ch=getchar(); } while(ch&gt;=&#39;0&#39;&amp;&amp;ch&lt;=&#39;9&#39;){ x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48); ch=getchar(); } return x*f; } int main(){ int t=0; while(true){ int m=read(),n=0; if(m==0) break; graph.ini(1000); for(int i=0;i&lt;m;i++) { int u=read(),v=read(); graph.add_edge(u,v); n=max(u,n); n=max(v,n); } graph.n=n; graph.solve(++t); } }","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"problem","slug":"ACM/è€Blogè¿ç§»/problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/"},{"name":"graph_theory","slug":"ACM/è€Blogè¿ç§»/problem/graph-theory","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/graph-theory/"}],"tags":[]},{"title":"hdu5727","slug":"ACM/è€Blogè¿ç§»/problem/graph_theory/hdu5727","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"hdu5727.html","link":"","permalink":"http://fightinggg.github.io/indigo/hdu5727.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog hdu5727 é¢˜æ„: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»™ä½ æœ€nä¸ªé˜³ç å­å’Œnä¸ªé˜´ç å­ï¼ˆn&le;9ï¼‰ï¼Œè¦ä½ ä¸²æˆé˜´é˜³ç›¸éš”çš„ç é“¾,æœ‰ä¸€äº›é˜³ç å­ä¸èƒ½å’ŒæŸäº›é˜´ç å­æ”¾ä¸€èµ·,å¦åˆ™ä¼šå¤±å»å…‰èŠ’,è¯¢é—®è‡³å°‘æœ‰å‡ ä¸ªé˜³ç å­å¤±å»å…‰èŠ’. å› ä¸ºé˜´é˜³ç›¸éš”ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è€ƒè™‘æšä¸¾é˜´ç å­çš„å…¨æ’åˆ—ï¼Œåœ¨é˜´ç å­ä¹‹é—´æ’å…¥é˜³ç å­å®Œæˆï¼Œæ’å…¥ä½¿ç”¨äºŒåˆ†å›¾åŒ¹é…å®Œæˆã€‚ ä¼˜åŒ–: &nbsp;&nbsp;1.è€ƒè™‘æ—‹è½¬ï¼Œé”å®šå…¨æ’åˆ—ä¸­ç¬¬ä¸€ä¸ªæ•°å­—å³å¯ &nbsp;&nbsp;2.è€ƒè™‘ç¿»è½¬ï¼Œhashç¯æ’åˆ—ä»¥åŠä»–çš„ç¿»è½¬æ’åˆ—å³å¯ #include&lt;bits/stdc++.h&gt; using namespace std; const double eps=1e-12; struct dinic{ static const int maxn=30; static const int maxm=900; static const int inf=1e9; struct edge{ int v,nex; double c; } g[2*maxm]; int lv[maxn],current[maxn],head[maxn],cnt; void add_edge(int u,int v,double c){ //cout&lt;&lt;u&lt;&lt;&quot; &quot;&lt;&lt;v&lt;&lt;endl; g[cnt].v=v; g[cnt].c=c; g[cnt].nex=head[u]; head[u]=cnt++; g[cnt].v=u; g[cnt].c=0; g[cnt].nex=head[v]; head[v]=cnt++; } void ini(){ memset(head,-1,sizeof(head)); cnt=0; } void bfs(int s){ memset(lv,-1,sizeof(lv)); lv[s]=0; queue&lt;int&gt;q; q.push(s); while(!q.empty()){ int u=q.front();q.pop(); for(int i=head[u]; ~i; i=g[i].nex){ edge&amp;e=g[i]; //if(e.c&lt;=0||lv[e.v]&gt;=0)continue; if(e.c&lt;2*eps||lv[e.v]&gt;=0)continue; lv[e.v]=lv[u]+1; q.push(e.v); } } } double dfs(int u,int t,double f){ if(u==t)return f; for(int&amp;i=current[u]; ~i; i=g[i].nex){ edge&amp;e=g[i],&amp;rev=g[i^1]; //if(e.c&lt;=0||lv[u]&gt;=lv[e.v])continue; if(e.c&lt;eps||lv[u]&gt;=lv[e.v])continue; double d=dfs(e.v,t,min(f,e.c)); //if(d&lt;=0)continue; if(d&lt;eps)continue; e.c -=d; rev.c+=d; return d; } return 0; } double maxflow(int s,int t){ double flow=0; while(true){ memmove(current,head,sizeof(head)); bfs(s); if(lv[t]&lt;0)return flow; double f; //while((f=dfs(s,t,inf))&gt;0)flow+=f; while((f=dfs(s,t,inf))&gt;eps)flow+=f;//æ³¨æ„æ‹¬å· } } } g; bool limit[20][20]; int a[20]; int gethash(int*a,int n){// [1,n] int ret=a[1]; for(int i=2;i&lt;=n;i++){ ret*=10; ret+=a[i]; } return ret; } int gethashrev(int*a,int n){// [1,n] int ret=a[1]; for(int i=n;i&gt;=2;i--){ ret*=10; ret+=a[i]; } return ret; } map&lt;int,bool&gt;mp; int solve(int *a,int n){ g.ini(); int s=2*n+1; int t=2*n+2; for(int i=1;i&lt;=n;i++){ g.add_edge(s, i, 1); g.add_edge(i+n,t,1); for(int j=1;j&lt;=n;j++){ if((!limit[a[i]][j])&amp;&amp;(!limit[a[i+1]][j])){ g.add_edge(i, j+n, 1); } } } return g.maxflow(s,t)+0.5; } int main(){ int n,m; while(~scanf(&quot;%d%d&quot;,&amp;n,&amp;m)){ if(n==0){ cout&lt;&lt;0&lt;&lt;endl; continue; } //init for(int i=1;i&lt;=n;i++)a[i]=i; a[n+1]=1; //a[i]..a[i+1] 1&lt;=i&lt;=n memset(limit,0,sizeof(limit)); mp.clear(); while(m--){ int u,v; scanf(&quot;%d%d&quot;,&amp;u,&amp;v); limit[v][u]=true; } int ans=1000; do{ int hash=gethash(a,n); if(mp[hash]==true)continue; mp[hash]=true; mp[gethashrev(a,n)]=true; ans=min(ans,n-solve(a,n)); }while(next_permutation(a+2,a+1+n)); cout&lt;&lt;ans&lt;&lt;endl; } }","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"problem","slug":"ACM/è€Blogè¿ç§»/problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/"},{"name":"graph_theory","slug":"ACM/è€Blogè¿ç§»/problem/graph-theory","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/graph-theory/"}],"tags":[]},{"title":"hdu5729","slug":"ACM/è€Blogè¿ç§»/problem/graph_theory/hdu5729","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"hdu5729.html","link":"","permalink":"http://fightinggg.github.io/indigo/hdu5729.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog hdu5729 é¢˜æ„ï¼š &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»™ä½ nè¡Œmåˆ—çš„ç½‘æ ¼å›¾ï¼Œå¯¹äºä¸€ä¸ªç½‘æ ¼å›¾ï¼Œä»–æ˜¯ä¸ç¨³å®šçš„ï¼Œå› ä¸ºä»–æ˜¯å››è¾¹å½¢ï¼Œå…è®¸ä½ åœ¨å››è¾¹å½¢é‡Œé¢åŠ è¾¹æ–œè¾¹ï¼Œæ–œè¾¹æœ‰ä¸¤ç§ï¼ŒåŠ æ–œè¾¹ä¹‹åå½“å‰æ ¼å­å˜æˆä¸¤ä¸ªä¸‰è§’å½¢å…·æœ‰ç¨³å®šæ€§ï¼Œå½“æ‰€æœ‰æ ¼å­ç¨³å®šæ—¶ï¼Œç§°æ•´ä¸ªç½‘æ ¼ç¨³å®šã€‚è¯¢é—®ä½ æœ‰å¤šå°‘ç§åŠ è¾¹çš„æ–¹æ³•ä½¿å¾—ç½‘æ ¼å›¾ç¨³å®šã€‚ ä¸€æ–¹é¢ï¼š å…ˆè€ƒè™‘ç½‘æ ¼ä¸ç¨³å®šçš„è¡¨ç°ï¼Œå‘ç°æœ‰ä¸€äº›å½“å‰å‚ç›´çš„æ¨ªè¾¹ä¸ç«–è¾¹ï¼Œä¸å…·æœ‰ç¨³å®šæ€§ï¼Œæœ‰å˜å¾—ä¸å‚ç›´çš„å¯èƒ½ã€‚ å†è€ƒè™‘ç½‘æ ¼ç¨³å®šçš„è¡¨ç°ï¼Œå¦‚æœæ‰€æœ‰çš„æ¨ªè¾¹ä¸ç«–è¾¹æ°¸è¿œä¿æŒå‚ç›´ï¼Œé‚£ä¹ˆç½‘æ ¼ç¨³å®šã€‚ -------ï¼ˆ1ï¼‰ å¦ä¸€ä¸ªæ–¹é¢ï¼š å…ˆè€ƒè™‘ç½‘æ ¼ä¸ç¨³å®šçš„è¡¨ç°ï¼Œå‘ç°æœ‰ä¸€äº›å½“å‰å¹³è¡Œçš„æ¨ªè¾¹é—´æˆ–ç«–è¾¹é—´ï¼Œä¸å…·æœ‰ç¨³å®šæ€§ï¼Œæœ‰å˜å¾—ä¸å¹³è¡Œçš„å¯èƒ½ã€‚ å†è€ƒè™‘ç½‘æ ¼ç¨³å®šçš„è¡¨ç°ï¼Œå¦‚æœæ‰€æœ‰çš„æ¨ªè¾¹é—´æ°¸è¿œå¹³è¡Œä¸”ç«–è¾¹é—´æ°¸è¿œå¹³è¡Œä¸”å­˜åœ¨ä¸€æ¡æ¨ªè¾¹ä¸ç«–è¾¹å‚ç›´ï¼Œé‚£ä¹ˆç½‘æ ¼ç¨³å®šã€‚ -------ï¼ˆ2ï¼‰ æ€»ç»“ï¼š å½“æ‰€æœ‰çš„æ¨ªè¾¹é—´ã€ç«–è¾¹é—´æ°¸è¿œå¹³è¡Œï¼Œæ‰€æœ‰çš„æ¨ªè¾¹ä¸ç«–è¾¹æ°¸è¿œå‚ç›´æ—¶ï¼Œç½‘æ ¼ç¨³å®šã€‚ -------ï¼ˆ3ï¼‰ ä¸çŸ¥é“ä»€ä¹ˆå®šç†ï¼š å¦‚æœçº¿æ®µaå¹³è¡Œäºçº¿æ®µbï¼Œçº¿æ®µaå‚ç›´äºçº¿æ®µcï¼Œé‚£ä¹ˆçº¿æ®µbå‚ç›´äºçº¿æ®µcã€‚ -------ï¼ˆ4ï¼‰ å¦‚æœçº¿æ®µaå‚ç›´ä¸çº¿æ®µcï¼Œçº¿æ®µbå‚ç›´ä¸çº¿æ®µcï¼Œé‚£ä¹ˆçº¿æ®µaå¹³è¡Œäºçº¿æ®µbã€‚ -------ï¼ˆ5ï¼‰ è§‚å¯Ÿå‘ç°ï¼š å¯¹äºåˆ—ä½ç½®ç›¸åŒçš„æ¨ªè¾¹é›†ï¼Œæ°¸è¿œå¹³è¡Œï¼Œå¯¹äºè¡Œä½ç½®ç›¸åŒçš„ç«–è¾¹é›†ï¼Œæ°¸è¿œå¹³è¡Œã€‚ -------ï¼ˆ6ï¼‰ å¯¹æ ¹æ®ä¸Šè¯‰ç°è±¡åŠåˆ†æï¼Œå¯¹è¾¹æŒ‰ç…§åˆ†ç±»ï¼Œåˆ—ä½ç½®ç›¸åŒçš„è¾¹å±äºç›¸åŒçš„é›†åˆï¼Œè¡Œä½ç½®ç›¸åŒçš„è¾¹å±äºç›¸åŒé›†åˆã€‚ ç„¶åè€ƒè™‘åŠ æ–œè¾¹çš„å½±å“ï¼š æ¯åŠ å…¥ä¸€æ¡æ–œè¾¹ï¼Œä½¿å¾—å½“å‰æ ¼å­ç¨³å®šã€‚è¡¨ç°ä¸ºä½¿å¾—å½“å‰æ ¼å­çš„æ¨ªè¾¹ä¸ç«–è¾¹æ°¸è¿œå‚ç›´ã€‚ç”±ï¼ˆ4ï¼‰å’Œï¼ˆ6ï¼‰æˆ‘ä»¬å¾—åˆ°: è‹¥å‘½åï¼šå½“å‰æ ¼å­æ‰€åœ¨æ¨ªè¾¹æ‰€å±ä¸çš„é›†åˆä¸ºaï¼Œå½“å‰æ ¼å­æ‰€åœ¨ç«–è¾¹æ‰€å±äºçš„é›†åˆä¸ºbã€‚ åˆ™é›†åˆaä¸­æ‰€æœ‰è¾¹ä¸é›†åˆbä¸­æ‰€æœ‰è¾¹å‚ç›´ã€‚ å¦‚æœæˆ‘ä»¬ç”¨å›¾ï¼ˆä¸ä¸€å®šæ˜¯äºŒåˆ†å›¾ï¼‰æ¥è¡¨ç¤ºè¿™äº›é›†åˆä¹‹é—´çš„å…³ç³»ï¼Œå°†æ‰€æœ‰æ¨ªè¾¹é›†ç»„æˆé›†åˆAï¼Œå°†æ‰€æœ‰ç«–è¾¹é›†ç»„æˆé›†åˆBï¼Œç”¨å›¾çš„è¾¹æ¥è¡¨ç¤ºå‚ç›´æˆ–å¹³è¡Œå…³ç³»ï¼Œè‹¥è¾¹çš„é¡¶ç‚¹åœ¨é›†åˆå†…éƒ¨ï¼Œåˆ™è¾¹ä»£è¡¨å¹³è¡Œï¼Œå¦åˆ™ä»£è¡¨å‚ç›´ã€‚ç”¨ç”±ï¼ˆ4ï¼‰å’Œï¼ˆ5ï¼‰å¾—å‡ºæ­¤æ— å‘å›¾å…·æœ‰ä¼ é€’æ€§ã€‚ å½“æ­¤å›¾çš„ä¼ é€’é—­åŒ…ä¸ºå®Œå…¨å›¾æ—¶ï¼Œç”±ï¼ˆ3ï¼‰å¾—å‡ºç½‘æ ¼ç¨³å®šã€‚æ­¤å‘½é¢˜ç­‰ä»·äºï¼šè‹¥åŸå›¾è”é€šï¼Œåˆ™ç½‘æ ¼ç¨³å®šã€‚ äºæ˜¯åŸé—®é¢˜ç­‰ä»·äºï¼š ç»™ä½ é›†åˆAæœ‰nä¸ªç‚¹ï¼Œé›†åˆBæœ‰mä¸ªç‚¹ï¼Œæœ‰ä¸¤ç§æƒå€¼çš„æ— å‘è¾¹ï¼Œå¯ä»¥æ·»åŠ åˆ°å±äºä¸åŒé›†åˆçš„ç‚¹ä¹‹é—´ï¼Œé—®ä½ æœ‰å¤šå°‘ç§åŠ è¾¹æ–¹æ³•å¯ä»¥è®©æ­¤å›¾è”é€šï¼Œ è¿™æ—¶å€™æˆ‘ä»¬æ‰å‘ç°ï¼Œå…¶å®ä¸å…è®¸åœ¨é›†åˆå†…éƒ¨åŠ è¾¹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ­¤å›¾çš„åŸå‹å®é™…ä¸Šä¸ºäºŒåˆ†å›¾ äºæ˜¯åŸé—®é¢˜ç­‰ä»·äºï¼š ç»™ä½ ä¸€ä¸ªäºŒåˆ†å›¾ï¼ŒåŒ…å«ä¸¤ä¸ªé›†åˆï¼Œé›†åˆAæœ‰nä¸ªç‚¹ï¼Œé›†åˆBæœ‰mä¸ªç‚¹ï¼Œå…è®¸æ·»åŠ ä¸¤ç§æƒå€¼çš„æ— å‘è¾¹ï¼Œé—®ä½ æœ‰å¤šå°‘ç§åŠ è¾¹æ–¹æ³•å¯ä»¥è®©æ­¤äºŒåˆ†å›¾è”é€šã€‚ å¯¹äºæ–°çš„é—®é¢˜ï¼Œæˆ‘ä»¬é‡‡å–dpè§£å†³ï¼š dp[i][j]ä»£è¡¨å·¦è¾¹iä¸ªç‚¹å³è¾¹jä¸ªç‚¹çš„ç­”æ¡ˆï¼› æ­£é¢éš¾ä»¥è§£å†³ï¼Œè€ƒè™‘åé¢ï¼› i+jä¸ªç‚¹çš„æ­¤äºŒåˆ†å›¾ä¸€å…±æœ‰ç§ï¼Œä»å·¦è¾¹æ‹¿ä¸€ä¸ªç‚¹å‡ºæ¥è€ƒè™‘ï¼› å¯¹äºæ­¤ç‚¹ï¼Œåˆ†ç±»è®¨è®º ï¼Œè€ƒè™‘ä¸å®ƒè”é€šçš„æ‰€æœ‰å…¶ä»–ç‚¹çš„æ•°é‡ï¼Œè®¾å·¦è¾¹æœ‰xä¸ªå³è¾¹æœ‰yä¸ªï¼Œå‰©ä¸‹çš„å…¶ä»–ç‚¹è‡ªç”±ç»„åˆï¼Œ äºæ˜¯ xçš„èŒƒå›´[0,i-1] yçš„èŒƒå›´[0,j]; è¿™äº›ç±»åˆ«å…¨éƒ¨åŠ èµ·æ¥åº”è¯¥æ˜¯å…¨é›† äºæ˜¯å¾—åˆ° å¾—åˆ°dpå¼å­ï¼š å½“xç­‰äºi-1æ—¶yä¸å–åˆ°j #include &lt;bits/stdc++.h&gt; using namespace std; #define ll long long const ll mod = 1e9 + 7; ll C[20][20], dp[20][20], pow3[200]; int main() { pow3[0] = 1; for (int i = 1; i &lt; 200; i++) pow3[i] = pow3[i - 1] * 3 % mod; C[0][0] = 1; for (int i = 1; i &lt; 20; i++) { C[i][0] = 1; for (int j = 1; j &lt;= i; j++) { C[i][j] = (C[i - 1][j - 1] + C[i - 1][j]) % mod; } } for (int i = 0; i &lt;= 10; i++) { for (int j = 0; j &lt;= 10; j++) { dp[i][j] = 1000*mod+pow3[i*j]; for (int x = 0; x &lt;= i - 1; x++) { for (int y = 0; y &lt;= j; y++) { if (x == i - 1 &amp;&amp; y == j)continue; dp[i][j] -= C[i - 1][x] * C[j][y] % mod*dp[x + 1][y] % mod*pow3[(i - 1 - x)*(j - y)] % mod; } } dp[i][j] %= mod; } } int n, m; while (~scanf(&quot;%d%d&quot;, &amp;n, &amp;m))printf(&quot;%lld\\n&quot;, dp[n][m]); }","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"problem","slug":"ACM/è€Blogè¿ç§»/problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/"},{"name":"graph_theory","slug":"ACM/è€Blogè¿ç§»/problem/graph-theory","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/graph-theory/"}],"tags":[]},{"title":"hdu6445","slug":"ACM/è€Blogè¿ç§»/problem/graph_theory/hdu6445","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"hdu6445.html","link":"","permalink":"http://fightinggg.github.io/indigo/hdu6445.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog hdu6445 é¢˜æ„ï¼š &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Given a tournament, you need to determine the direction of the remaining sides to maximize the answer. The answer is calculated in the following way. The vertices are labeled from 0 to nâˆ’1, and the matrix s is used to represent the edges. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»™ä½ ä¸€ä¸ªç«èµ›å›¾ï¼Œä½ éœ€è¦ç¡®å®šæŸäº›å‰©ä½™çš„è¾¹çš„æ–¹å‘ï¼Œæ¥æœ€å¤§åŒ–ç­”æ¡ˆï¼Œç­”æ¡ˆé€šè¿‡ä¸‹é¢çš„ç®—æ³•å¾—åˆ°ï¼Œç‚¹ä»0åˆ°n-1,s[i][j]æ˜¯è¾¹ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¾“å…¥æ–‡ä»¶s[i][j]=1ä»£è¡¨i->j,s[i][j]=0ä»£è¡¨j->i,s[i][j]=2ä»£è¡¨æ–¹å‘æœªçŸ¥ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åŒ–ç®€åˆ†æ,å…ˆåŠ ä¸€ä¸ªA(n,4) ç„¶åå‡å»å¯¹ç­”æ¡ˆæ²¡æœ‰è´¡çŒ®ä»¥åŠè´Ÿè´¡çŒ®ï¼Œè€ƒè™‘å¯¹ç­”æ¡ˆæ²¡æœ‰è´¡çŒ®çš„å››å…ƒç»„,æ­¤å››å…ƒç»„ä¸­å­˜åœ¨ä¸”åªå­˜åœ¨ä¸€ä¸ªç‚¹æœ‰ä¸¤æ¡è¾¹ ä»ä»–å‡ºå‘ï¼Œå¯¹ç­”æ¡ˆè´¡çŒ®-1çš„ç‚¹ï¼Œå­˜åœ¨æ°å¥½ä¸¤ä¸ªç‚¹ï¼Œåˆ†åˆ«æœ‰ä¸¤æ¡è¾¹ä»ä»–ä»¬å‡ºå‘ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åŒ–æœ€åå‘ç°åªå’Œç‚¹çš„å‡ºåº¦çš„å¹³æ–¹æˆ–è€…è¯´(C(deg[i],2)) å› ä¸ºsum(deg[i])ä¸ºå®šå€¼æœ‰å…³ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åŒ–æœ€åå¯ä»¥ç”¨è´¹ç”¨æµåš #include&lt;bits/stdc++.h&gt; using namespace std; struct MCMF{ static const int maxn=200+2+200*200,maxm=maxn*5; struct star{int v,nex;int c,w;} edge[maxm&lt;&lt;1]; int head[maxn],cnt,n; int inq[maxn],pre[maxn]; int dist[maxn]; void ini(int n){ cnt=-1;this-&gt;n=n; for(int i=0;i&lt;=n;i++) head[i]=-1; } void add_edge(int u, int v, int c, int w){ // cout&lt;&lt;&quot; &quot;&lt;&lt;u&lt;&lt;&quot; &quot;&lt;&lt;v&lt;&lt;&quot; &quot;&lt;&lt;c&lt;&lt;&quot; &quot;&lt;&lt;w&lt;&lt;endl; edge[++cnt]=star{v,head[u],c, w}; head[u]=cnt; edge[++cnt]=star{u,head[v],0,-w}; head[v]=cnt; } void minCostMaxFlow(int s, int t,int&amp;flow,int&amp;cost){ flow=cost=0; while(true){ for(int i=0;i&lt;=n;i++) dist[i]=1e9; queue&lt;int&gt;que; que.push(s); inq[s]=1; dist[s]=0; while(!que.empty()){ int u=que.front(); que.pop(); inq[u]=0; for(int i=head[u];~i;i=edge[i].nex){ int v=edge[i].v; int c=edge[i].c,w=edge[i].w; // if(c&gt;eps&amp;&amp;dist[v]&gt;dist[u]+w+eps){ if(c&gt;0&amp;&amp;dist[v]&gt;dist[u]+w){ dist[v]=dist[u]+w; pre[v]=i; if(!inq[v]) que.push(v); inq[v]=1; } } } if(dist[t]==1e9) return ; int addf=1e9; for(int x=t;x!=s;x=edge[pre[x]^1].v) addf=min(addf,edge[pre[x]].c); for(int x=t;x!=s;x=edge[pre[x]^1].v){ edge[pre[x]].c-=addf; edge[pre[x]^1].c+=addf; } flow+=addf; cost+=dist[t]*addf; } } } g; /* ans=A(n,4)-sum( C(2,deg[i]) )*8*(n-3) */ char graph[205][205]; int deg[205]; int main(){ int T; scanf(&quot;%d&quot;,&amp;T); while(T--){ int n; scanf(&quot;%d&quot;,&amp;n); for(int i=1;i&lt;=n;i++) deg[i]=0; for(int i=1;i&lt;=n;i++) scanf(&quot;%s&quot;,graph[i]+1); int tot=n; int s=++tot; int t=++tot; for(int i=1;i&lt;=n;i++) { for(int j=i+1;j&lt;=n;j++){ if(graph[i][j]==&#39;1&#39;) deg[i]++; else if(graph[i][j]==&#39;0&#39;) deg[j]++; } } int ans=0; for(int i=1;i&lt;=n;i++) ans+=deg[i]*(deg[i]-1)/2; g.ini(n+2+n*(n-1)/2); for(int i=1;i&lt;=n;i++) { for(int j=i+1;j&lt;=n;j++){ if(graph[i][j]==&#39;2&#39;){ g.add_edge(s,++tot,1,0); g.add_edge(tot,i,1,0); g.add_edge(tot,j,1,0); g.add_edge(i,t,1,deg[i]);//C(n+1,2)-C(n,2)=n g.add_edge(j,t,1,deg[j]); deg[i]++; deg[j]++; } } } int cost,flow; g.minCostMaxFlow(s,t,cost,flow); printf(&quot;%d\\n&quot;, n*(n-1)*(n-2)*(n-3)-(ans+flow)*8*(n-3)); } }","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"problem","slug":"ACM/è€Blogè¿ç§»/problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/"},{"name":"graph_theory","slug":"ACM/è€Blogè¿ç§»/problem/graph-theory","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/graph-theory/"}],"tags":[]},{"title":"hdu6611","slug":"ACM/è€Blogè¿ç§»/problem/graph_theory/hdu6611","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"hdu6611.html","link":"","permalink":"http://fightinggg.github.io/indigo/hdu6611.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog hdu6611 æ±‚kä¸ªä¸ç›¸äº¤å­åºåˆ—ï¼Œè®©å…¶å’Œæœ€å¤§ã€‚ ä½¿ç”¨dijè´¹ç”¨æµå³å¯ åšæ³•ä¸€: ç”¨ä¸»å¸­æ ‘ä¼˜åŒ–å»ºå›¾ï¼Œç”¨dpä¼˜åŒ–ç¬¬ä¸€æ¬¡dijç®—æ³• #include&lt;bits/stdc++.h&gt; using namespace std; typedef pair&lt;int,int&gt; pii; struct MCMF{ static const int maxn=2005*20*2,maxm=2+3*2005+2005*20*4; struct star{int v,nex,c,w;} edge[maxm&lt;&lt;1]; int head[maxn],cnt,n; int pre[maxn],dist[maxn],h[maxn];// h -&gt; åŠ¿èƒ½å‡½æ•° void ini(int point){ cnt=-1;n=point; for(int i=0;i&lt;=n;i++) head[i]=-1,h[i]=0; } void add_edge(int u, int v, int c, int w){ // cout&lt;&lt;&quot; &quot;&lt;&lt;u&lt;&lt;&quot; &quot;&lt;&lt;v&lt;&lt;&quot; &quot;&lt;&lt;c&lt;&lt;&quot; &quot;&lt;&lt;w&lt;&lt;endl; edge[++cnt]=star{v,head[u],c, w}; head[u]=cnt; edge[++cnt]=star{u,head[v],0,-w}; head[v]=cnt; } void minCostMaxFlow(int s, int t,int&amp;flow,int&amp;cost){//dij flow=cost=0; while(true){ for(int i=0;i&lt;=n;i++) dist[i]=2e9; dist[s]=0; priority_queue&lt;pii,vector&lt;pii&gt;,greater&lt;pii&gt;&gt;que; que.push(pii(dist[s],s)); while(!que.empty()){ int u=que.top().second,dis=que.top().first; que.pop(); if (dist[u]!=dis) continue; for(int i=head[u];~i;i=edge[i].nex){ int v=edge[i].v,c=edge[i].c,w=edge[i].w; if(c&gt;0&amp;&amp;dist[v]&gt;dist[u]+w+h[u]-h[v]){ dist[v]=dist[u]+w+h[u]-h[v]; // assert(dist[v]&gt;=0); pre[v]=i; que.push(pii(dist[v],v)); } } } if(dist[t]==2e9) break; for(int i=0;i&lt;=n;i++) h[i]+=dist[i];// d[i]=dist[i]+h[i]-h[s]=dist[i]+h[i] int addf=2e9; for(int x=t;x!=s;x=edge[pre[x]^1].v) addf=min(addf,edge[pre[x]].c); for(int x=t;x!=s;x=edge[pre[x]^1].v) { edge[pre[x]].c-=addf; edge[pre[x]^1].c+=addf; } flow+=addf; cost+=h[t]*addf; } } }g; int a[2005],n,k,s,t; //ä¸»å¸­æ ‘ä¼˜åŒ–å»ºå›¾ dpä¼˜åŒ–dij #define ml ((l+r)&gt;&gt;1) #define mr (ml+1) const int maxn = 2005; int ls[maxn*20],rs[maxn*20],tot,rt[maxn];//updateç”¨äº†å‡ æ¬¡ï¼Œå°±è¦ä¹˜ä»¥å¤šå°‘ void update(int pre,int&amp;u,int l,int r,int pos,int dst){//æŠŠuæŒ‰ç…§preå¤åˆ¶ï¼Œç„¶åæ›´æ–°pos u=++tot; ls[u]=ls[pre];rs[u]=rs[pre]; if(pre!=0) { g.add_edge((pre+n+2)&lt;&lt;1|1,(u+n+2)&lt;&lt;1,k,0); // k flow g.h[(u+n+2)&lt;&lt;1]=g.h[(u+n+2)&lt;&lt;1|1]=min(g.h[(pre+n+2)&lt;&lt;1],g.h[dst&lt;&lt;1|1]); } else g.h[(u+n+2)&lt;&lt;1]=g.h[(u+n+2)&lt;&lt;1|1]=g.h[dst&lt;&lt;1|1]; g.add_edge(dst&lt;&lt;1|1,(u+n+2)&lt;&lt;1,k,0);// k flow g.add_edge((u+n+2)&lt;&lt;1,(u+n+2)&lt;&lt;1|1,k,0);// k flow if(l==r)return; if(pos&lt;=ml) update(ls[pre],ls[u],l,ml,pos,dst); else update(rs[pre],rs[u],mr,r,pos,dst); } void query(int u,int l,int r,int pos,int dst){ if(r&lt;=pos){ if(u!=0) { g.add_edge((u+n+2)&lt;&lt;1|1,dst&lt;&lt;1,k,0);// k flow g.h[dst&lt;&lt;1]=min(g.h[dst&lt;&lt;1],g.h[(u+n+2)&lt;&lt;1]); } g.h[dst&lt;&lt;1|1]=g.h[dst&lt;&lt;1]-pos; return; } if(l&gt;pos) return; query(ls[u],l,ml,pos,dst); query(rs[u],mr,r,pos,dst); } void build_graph(){ tot=0; g.ini(n*20*2); s=n+1,t=n+2; g.add_edge(s&lt;&lt;1,s&lt;&lt;1|1,k,0);// k flow g.h[s&lt;&lt;1]=g.h[s&lt;&lt;1|1]=0; int mim=0; for(int i=1;i&lt;=n;i++) mim=max(mim,a[i]); for(int i=1;i&lt;=n;i++) { g.add_edge(s&lt;&lt;1|1,i&lt;&lt;1,k,0);// k flow g.add_edge(i&lt;&lt;1,i&lt;&lt;1|1,1,-a[i]);// 1 flow g.add_edge(i&lt;&lt;1|1,t&lt;&lt;1,k,0);// k flow query(rt[i-1],1,mim,a[i],i); update(rt[i-1],rt[i],1,mim,a[i],i); } g.add_edge(t&lt;&lt;1,t&lt;&lt;1|1,k,0);// k flow g.h[t&lt;&lt;1]=g.h[t&lt;&lt;1|1]=g.h[(rt[n]+n+2)&lt;&lt;1]; } /////////////////////////// //ç©¶æè¯»å…¥æŒ‚ inline char nc(){ static char buf[100000],*p1=buf,*p2=buf; return p1==p2&amp;&amp;(p2=(p1=buf)+fread(buf,1,100000,stdin),p1==p2)?EOF:*p1++; } inline int read(){ char ch=nc();int sum=0; while(!(ch&gt;=&#39;0&#39;&amp;&amp;ch&lt;=&#39;9&#39;))ch=nc(); while(ch&gt;=&#39;0&#39;&amp;&amp;ch&lt;=&#39;9&#39;)sum=sum*10+ch-48,ch=nc(); return sum; } int main(){ // freopen(&quot;/Users/s/Downloads/2019HDOJå¤šæ ¡3_UESTC/data/1009/multi.in&quot;,&quot;r&quot;,stdin); int ti=read(); while(ti--){ n=read();k=read(); for(int i=1;i&lt;=n;i++) a[i]=read(); build_graph(); int flow,cost; g.minCostMaxFlow(s&lt;&lt;1,t&lt;&lt;1|1,flow,cost); printf(&quot;%d\\n&quot;,-cost); //cout&lt;&lt;-cost&lt;&lt;endl; } } åšæ³•äºŒï¼šç”¨ä¸»å¸­æ ‘ä¼˜åŒ–å»ºå›¾ï¼Œç”¨spfaä¼˜åŒ–ç¬¬ä¸€æ¬¡dijç®—æ³• #include&lt;bits/stdc++.h&gt; using namespace std; typedef pair&lt;int,int&gt; pii; struct MCMF{ static const int maxn=2005*20*2,maxm=2+3*2005+2005*20*4; struct star{int v,nex,c,w;} edge[maxm&lt;&lt;1]; int head[maxn],cnt,n; int pre[maxn],dist[maxn],h[maxn];// h -&gt; åŠ¿èƒ½å‡½æ•° void ini(int point){ cnt=-1;n=point; for(int i=0;i&lt;=n;++i) head[i]=-1,h[i]=0; } void add_edge(int u, int v, int c, int w){ // cout&lt;&lt;&quot; &quot;&lt;&lt;u&lt;&lt;&quot; &quot;&lt;&lt;v&lt;&lt;&quot; &quot;&lt;&lt;c&lt;&lt;&quot; &quot;&lt;&lt;w&lt;&lt;endl; edge[++cnt]=star{v,head[u],c, w}; head[u]=cnt; edge[++cnt]=star{u,head[v],0,-w}; head[v]=cnt; } void minCostMaxFlow_dij(int s, int t,int&amp;flow,int&amp;cost){//dij flow=cost=0; while(true){ for(int i=0;i&lt;=n;++i) dist[i]=2e9; dist[s]=0; priority_queue&lt;pii,vector&lt;pii&gt;,greater&lt;pii&gt;&gt;que; que.push(pii(dist[s],s)); while(!que.empty()){ int u=que.top().second,dis=que.top().first; que.pop(); if (dist[u]!=dis) continue; for(int i=head[u];~i;i=edge[i].nex){ int v=edge[i].v,c=edge[i].c,w=edge[i].w; if(c&gt;0&amp;&amp;dist[v]&gt;dist[u]+w+h[u]-h[v]){ dist[v]=dist[u]+w+h[u]-h[v]; // assert(dist[v]&gt;=0); pre[v]=i; que.push(pii(dist[v],v)); } } } if(dist[t]==2e9) break; for(int i=0;i&lt;=n;++i) h[i]+=dist[i];// d[i]=dist[i]+h[i]-h[s]=dist[i]+h[i] int addf=2e9; for(int x=t;x!=s;x=edge[pre[x]^1].v) addf=min(addf,edge[pre[x]].c); for(int x=t;x!=s;x=edge[pre[x]^1].v) { edge[pre[x]].c-=addf; edge[pre[x]^1].c+=addf; } flow+=addf; cost+=h[t]*addf; } } void minCostMaxFlow(int s, int t,int&amp;flow,int&amp;cost){//spfa ç”¨æ¥å…ˆè´Ÿæƒå›¾å¤„ç† for(int i=0;i&lt;=n;++i) dist[i]=2e9; dist[s]=0; queue&lt;pii&gt;que; que.push(pii(dist[s],s)); while(!que.empty()){ int u=que.front().second,dis=que.front().first; que.pop(); if (dist[u]!=dis) continue; for(int i=head[u];~i;i=edge[i].nex){ int v=edge[i].v,c=edge[i].c,w=edge[i].w; if(c&gt;0&amp;&amp;dist[v]&gt;dist[u]+w){ dist[v]=dist[u]+w; pre[v]=i; que.push(pii(dist[v],v)); } } } if(dist[t]==2e9) return; for(int i=0;i&lt;=n;++i) h[i]=dist[i];// d[i]=dist[i]+h[i]-h[s]=dist[i]+h[i] int addf=2e9; for(int x=t;x!=s;x=edge[pre[x]^1].v) addf=min(addf,edge[pre[x]].c); for(int x=t;x!=s;x=edge[pre[x]^1].v) { edge[pre[x]].c-=addf; edge[pre[x]^1].c+=addf; } int oldh=h[t]; minCostMaxFlow_dij(s,t,flow,cost); flow+=addf; cost+=oldh*addf; } }g; int a[2005],n,k,s,t; //ä¸»å¸­æ ‘ä¼˜åŒ–å»ºå›¾ dpä¼˜åŒ–dij #define ml ((l+r)&gt;&gt;1) #define mr (ml+1) const int maxn = 2005; int ls[maxn*20],rs[maxn*20],tot,rt[maxn];//updateç”¨äº†å‡ æ¬¡ï¼Œå°±è¦ä¹˜ä»¥å¤šå°‘ void update(int pre,int&amp;u,int l,int r,int pos,int dst){//æŠŠuæŒ‰ç…§preå¤åˆ¶ï¼Œç„¶åæ›´æ–°pos u=++tot; ls[u]=ls[pre];rs[u]=rs[pre]; if(pre!=0) g.add_edge((pre+n+2)&lt;&lt;1|1,(u+n+2)&lt;&lt;1,k,0); // k flow g.add_edge(dst&lt;&lt;1|1,(u+n+2)&lt;&lt;1,k,0);// k flow g.add_edge((u+n+2)&lt;&lt;1,(u+n+2)&lt;&lt;1|1,k,0);// k flow if(l==r)return; if(pos&lt;=ml) update(ls[pre],ls[u],l,ml,pos,dst); else update(rs[pre],rs[u],mr,r,pos,dst); } void query(int u,int l,int r,int pos,int dst){ if(r&lt;=pos){ if(u!=0)g.add_edge((u+n+2)&lt;&lt;1|1,dst&lt;&lt;1,k,0);// k flow return; } if(l&gt;pos) return; query(ls[u],l,ml,pos,dst); query(rs[u],mr,r,pos,dst); } void build_graph(){ tot=0; g.ini(n*20*2); s=n+1,t=n+2; g.add_edge(s&lt;&lt;1,s&lt;&lt;1|1,k,0);// k flow int mim=0; for(int i=1;i&lt;=n;++i) mim=max(mim,a[i]); for(int i=1;i&lt;=n;++i) { g.add_edge(s&lt;&lt;1|1,i&lt;&lt;1,k,0);// k flow g.add_edge(i&lt;&lt;1,i&lt;&lt;1|1,1,-a[i]);// 1 flow g.add_edge(i&lt;&lt;1|1,t&lt;&lt;1,k,0);// k flow query(rt[i-1],1,mim,a[i],i); update(rt[i-1],rt[i],1,mim,a[i],i); } g.add_edge(t&lt;&lt;1,t&lt;&lt;1|1,k,0);// k flow } /////////////////////////// //ç©¶æè¯»å…¥æŒ‚ inline char nc(){ static char buf[100000],*p1=buf,*p2=buf; return p1==p2&amp;&amp;(p2=(p1=buf)+fread(buf,1,100000,stdin),p1==p2)?EOF:*p1++; } inline int read(){ char ch=nc();int sum=0; while(!(ch&gt;=&#39;0&#39;&amp;&amp;ch&lt;=&#39;9&#39;))ch=nc(); while(ch&gt;=&#39;0&#39;&amp;&amp;ch&lt;=&#39;9&#39;)sum=sum*10+ch-48,ch=nc(); return sum; } int main(){ // freopen(&quot;/Users/s/Downloads/2019HDOJå¤šæ ¡3_UESTC/data/1009/multi.in&quot;,&quot;r&quot;,stdin); int ti=read(); while(ti--){ n=read();k=read(); for(int i=1;i&lt;=n;++i) a[i]=read(); build_graph(); int flow,cost; g.minCostMaxFlow(s&lt;&lt;1,t&lt;&lt;1|1,flow,cost); printf(&quot;%d\\n&quot;,-cost); } }","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"problem","slug":"ACM/è€Blogè¿ç§»/problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/"},{"name":"graph_theory","slug":"ACM/è€Blogè¿ç§»/problem/graph-theory","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/graph-theory/"}],"tags":[]},{"title":"poj3177","slug":"ACM/è€Blogè¿ç§»/problem/graph_theory/poj3177","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"poj3177.html","link":"","permalink":"http://fightinggg.github.io/indigo/poj3177.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog zoj4097 é¢˜æ„ï¼š æ¨¡ç‰ˆé¢˜ï¼Œç»™ä½ ä¸€å¹…å›¾ï¼Œé—®ä½ æœ€å°‘åŠ å‡ æ¡è¾¹ï¼Œä½¿å¾—å›¾å˜æˆä¸€ä¸ªåŒè”é€šåˆ†é‡ã€‚ æ¨¡ç‰ˆ // #include&lt;bits/stdc++.h&gt; #include&lt;iostream&gt; #include&lt;cstdio&gt; using namespace std; struct Graph{ static const int maxn=1e5+5, maxm=3e5+5; struct star{int v,nex;}edge[maxm&lt;&lt;1]; int head[maxn],d[maxn],cnt; void ini(int n){ for(int i=0;i&lt;=n;i++) head[i]=-1; for(int i=0;i&lt;=n;i++) d[i]=0; cnt=-1; } void add_edge(int u,int v){ edge[++cnt]=star{v,head[u]}; head[u]=cnt; edge[++cnt]=star{u,head[v]}; head[v]=cnt; d[u]++; d[v]++; } }tree; struct Tarjan:Graph{//åŒè”é€šåˆ†é‡, å‰²è¾¹, æ¡¥, è¾¹åŒè”é€šç¼©ç‚¹ struct Bridge{int u,v;}bridge[maxn]; int dfn[maxn],low[maxn],belong[maxn],vis[maxn],sta[maxn],sta_,nums,bridge_; void ini(int n){ for(int i=0;i&lt;=n;i++) vis[i]=0; bridge_=0; nums=0; Graph::ini(n); } void tarjan(int u,int father,int&amp;step){ low[u]=dfn[u]=++step; sta[++sta_]=u; vis[u]=1; bool firsttimes=true;//ç”¨äºåˆ¤é‡è¾¹ for(int i=head[u];~i;i=edge[i].nex){ int v=edge[i].v; if(v==father&amp;&amp;firsttimes) { firsttimes=false; continue; }//çˆ¶è¾¹ if(vis[v]==1) low[u]=min(low[u],dfn[v]);//å›è¾¹,ç»ˆç‚¹åœ¨æ ˆä¸­ else {//æ ‘è¾¹ tarjan(v,u,step); low[u]=min(low[u],low[v]); if(low[v]&gt;dfn[u]) bridge[++bridge_]=Bridge{u,v}; } } if(low[u]==dfn[u]){ while(sta[sta_]!=u) belong[sta[sta_--]]=nums+1; belong[sta[sta_--]]=++nums; } } }graph; inline int read(){ int x=0,f=1; char ch=getchar(); while(ch&lt;&#39;0&#39;||ch&gt;&#39;9&#39;){ if(ch==&#39;-&#39;) f=-1; ch=getchar(); } while(ch&gt;=&#39;0&#39;&amp;&amp;ch&lt;=&#39;9&#39;){ x=(x&lt;&lt;1)+(x&lt;&lt;3)+(ch^48); ch=getchar(); } return x*f; } int main(){ int n=read(),m=read(); graph.ini(n); for(int i=0;i&lt;m;i++) graph.add_edge(read(),read()); int step=0; graph.tarjan(1,0,step); tree.ini(graph.nums); for(int i=1;i&lt;=graph.bridge_;i++){ int u=graph.bridge[i].u,v=graph.bridge[i].v; tree.add_edge(graph.belong[u],graph.belong[v]); } int ans=0; for(int i=1;i&lt;=graph.nums;i++){ if(tree.d[i]==1) { ans++; } } cout&lt;&lt;(ans+1)/2&lt;&lt;endl; }","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"problem","slug":"ACM/è€Blogè¿ç§»/problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/"},{"name":"graph_theory","slug":"ACM/è€Blogè¿ç§»/problem/graph-theory","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/graph-theory/"}],"tags":[]},{"title":"uoj111","slug":"ACM/è€Blogè¿ç§»/problem/graph_theory/uoj111","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"uoj111.html","link":"","permalink":"http://fightinggg.github.io/indigo/uoj111.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog uoj111 ä¼˜åŒ–å»ºå›¾å³å¯ï¼Œå¯¹å›¾åˆ†å—ï¼Œä½†æ˜¯è¿™æ ·è¿˜æ˜¯è¿‡ä¸äº†ï¼Œå› ä¸ºå¸¸æ•°è¿‡å¤§ï¼Œä¸å»ºå›¾è·‘dijè¿˜æ˜¯ä¼štleï¼Œè¦ç”¨spfaæ‰èƒ½è¿‡ #include&lt;bits/stdc++.h&gt; #include&lt;bits/extc++.h&gt; using namespace std; typedef pair&lt;int,int&gt; pii; int main(){ int n,m; scanf(&quot;%d%d&quot;,&amp;n,&amp;m); int sqr=200; vector&lt;vector&lt;int&gt; &gt;dog(n),havedog(n,vector&lt;int&gt;(sqr,0)); int src=0,dst=1; for(int i=0;i&lt;m;i++) { int x,y; scanf(&quot;%d%d&quot;,&amp;x,&amp;y); if(i==0) src=x; if(i==1) dst=x; dog[x].push_back(y);// a dog at x can jump y step if(y&lt;sqr)havedog[x][y]=1; } for(int i=0;i&lt;n;i++) { sort(dog[i].begin(),dog[i].end()); dog[i].erase(unique(dog[i].begin(),dog[i].end()),dog[i].end()); } // dij vector&lt;int&gt;dist(n,2e9); __gnu_pbds::priority_queue&lt;pii,greater&lt;pii&gt;,__gnu_pbds::thin_heap_tag&gt; q; dist[src]=0; q.push(pii(dist[src],src)); while(!q.empty()){ int u=q.top().second,dis=q.top().first; q.pop(); if(dist[u]!=dis)continue; for(int jump:dog[u]){ for(int d=1;u+d*jump&lt;n;d++){ if(dist[u+d*jump]&gt;dist[u]+d){ dist[u+d*jump]=dist[u]+d; q.push(pii(dist[u+d*jump],u+d*jump)); } if(jump&lt;sqr&amp;&amp;havedog[u+d*jump][jump]) break; } for(int d=1;u-d*jump&gt;=0;d++){ if(dist[u-d*jump]&gt;dist[u]+d){ dist[u-d*jump]=dist[u]+d; q.push(pii(dist[u-d*jump],u-d*jump)); } if(jump&lt;sqr&amp;&amp;havedog[u-d*jump][jump]) break; } } } if(dist[dst]==2e9) cout&lt;&lt;-1&lt;&lt;endl; else cout&lt;&lt;dist[dst]&lt;&lt;endl; }","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"problem","slug":"ACM/è€Blogè¿ç§»/problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/"},{"name":"graph_theory","slug":"ACM/è€Blogè¿ç§»/problem/graph-theory","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/graph-theory/"}],"tags":[]},{"title":"uoj67","slug":"ACM/è€Blogè¿ç§»/problem/graph_theory/uoj67","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"uoj67.html","link":"","permalink":"http://fightinggg.github.io/indigo/uoj67.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog uoj67 é¢˜æ„ï¼š &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¾æ—§è¿æ–°ä¹‹é™…ï¼Œå–œç¾Šç¾Šæ­£åœ¨æ‰“ç†ç¾Šæ‘çš„ç»¿åŒ–å¸¦ï¼Œç„¶åä»–å‘ç°äº†ä¸€æ£µé•¿ç€æ¯’ç˜¤çš„æ ‘ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™ä¸ªé•¿ç€æ¯’ç˜¤çš„æ ‘å¯ä»¥ç”¨ n ä¸ªç»“ç‚¹ m æ¡æ— å‘è¾¹çš„æ— å‘å›¾è¡¨ç¤ºã€‚è¿™ä¸ªå›¾ä¸­æœ‰ä¸€äº›ç»“ç‚¹è¢«ç§°ä½œæ˜¯æ¯’ç˜¤ç»“ç‚¹ï¼Œå³åˆ æ‰è¿™ä¸ªç»“ç‚¹å’Œä¸ä¹‹ç›¸é‚»çš„è¾¹ä¹‹åï¼Œè¿™ä¸ªå›¾ä¼šå˜ä¸ºä¸€æ£µæ ‘ã€‚æ ‘ä¹Ÿå³æ— ç®€å•ç¯çš„æ— å‘è¿é€šå›¾ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç°åœ¨ç»™ä½ è¿™ä¸ªæ— å‘å›¾ï¼Œå–œç¾Šç¾Šè¯·ä½ å¸®ä»–æ±‚å‡ºæ‰€æœ‰æ¯’ç˜¤ç»“ç‚¹ã€‚ è¾“å…¥ï¼š &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç¬¬ä¸€è¡Œä¸¤ä¸ªæ­£æ•´æ•° n,m ï¼Œè¡¨ç¤ºæœ‰ n ä¸ªç‚¹ m æ¡è¾¹ã€‚ä¿è¯ nâ‰¥2 ã€‚ æ¥ä¸‹æ¥ m è¡Œï¼Œæ¯è¡Œä¸¤ä¸ªæ•´æ•° v,u ï¼Œè¡¨ç¤º v å’Œ u ä¹‹é—´æœ‰ä¸€æ¡æ— å‘è¾¹ã€‚1â‰¤v,uâ‰¤n ã€‚ä¿è¯æ²¡æœ‰é‡è¾¹å’Œè‡ªç¯ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åˆ æ‰ä¸€ä¸ªç‚¹åï¼Œä¹Ÿå°±åˆ æ‰äº†ä¸ä»–ç›¸è¿çš„æ‰€æœ‰è¾¹ï¼Œè®°å½•è¿™äº›è¾¹ç‚¹æ¡æ•°ï¼ˆç‚¹çš„åº¦æ•°ï¼‰ï¼Œåˆ æ‰åæˆä¸ºæ ‘çš„å……è¦æ¡ä»¶ï¼Œå‰©ä¸‹n-2æ¡è¾¹ ä¸”åˆ é™¤çš„ç‚¹ä¸æ˜¯å‰²ç‚¹ã€‚ #include&lt;bits/stdc++.h&gt; using namespace std; struct Graph{ static const int maxn=1e5+5, maxm=3e5+5; struct star{int v,nex;}edge[maxm&lt;&lt;1]; int head[maxn],cnt,n; int d[maxn]; void ini(int n){ this-&gt;n=n; cnt=-1; for(int i=0;i&lt;=n;i++) head[i]=-1; } void add_edge(int u,int v){ edge[++cnt]=star{v,head[u]}; head[u]=cnt; edge[++cnt]=star{u,head[v]}; head[v]=cnt; d[u]++; d[v]++; } }; struct Tarjan:Graph{//å‰²ç‚¹ int low[maxn],dfn[maxn],cut[maxn]; int step; void tarjan(){ step=0; for(int i=0;i&lt;=n;i++) dfn[i]=cut[i]=0; for(int i=1;i&lt;=n;i++) if(dfn[i]==0) tarjan(i,0);//å¤šä¸ªè”é€šå¿« } void tarjan(int u,int father=0){//æ­¤å‡½æ•°ä¸å¼€æ”¾ low[u]=dfn[u]=++step; int first=1, son=0; for(int i=head[u];~i;i=edge[i].nex){ int v=edge[i].v; if(v==father&amp;&amp;!first) first=false; else if(dfn[v]) low[u]=min(low[u],dfn[v]); else{ son++; tarjan(v,u); low[u]=min(low[u],low[v]); //ä¸€ä¸ªé¡¶ç‚¹uæ˜¯å‰²ç‚¹,å½“ä¸”ä»…å½“1æˆ–2 //1.uä¸ºæ ‘æ ¹ä¸”uæœ‰å¤šä¸ä¸€ä¸ªå­æ ‘ //2.uä¸ä¸ºæ ‘æ ¹ä¸”å­˜åœ¨è¾¹(u,v)ä¸ºæ ‘è¾¹ï¼Œä½¿å¾—dfn[u]&lt;=low[v] if(father!=0&amp;&amp;dfn[u]&lt;=low[v]) cut[u]=1; if(father==0&amp;&amp;son&gt;1) cut[u]=1; } } } }graph; inline int read(){ int ret=0,f=1; char ch=getchar(); while(&#39;0&#39;&gt;ch||ch&gt;&#39;9&#39;){ if(ch==&#39;-&#39;) f=-1; ch=getchar(); } while(&#39;0&#39;&lt;=ch&amp;&amp;ch&lt;=&#39;9&#39;){ ret=(ret&lt;&lt;1)+(ret&lt;&lt;3)+(ch^48); ch=getchar(); } return ret; } int main(){ int n=read(); int m=read(); graph.ini(n); for(int i=0;i&lt;m;i++) graph.add_edge(read(),read()); graph.tarjan(); vector&lt;int&gt;ans; for(int i=1;i&lt;=n;i++) { if(!graph.cut[i]&amp;&amp;(m-graph.d[i])==n-2){ ans.push_back(i); } } cout&lt;&lt;ans.size()&lt;&lt;endl; for(int i=0;i&lt;ans.size();i++) { printf(&quot;%d&quot;, ans[i]); if(i+1==ans.size()) printf(&quot;\\n&quot;); else printf(&quot; &quot;); } }","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"problem","slug":"ACM/è€Blogè¿ç§»/problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/"},{"name":"graph_theory","slug":"ACM/è€Blogè¿ç§»/problem/graph-theory","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/graph-theory/"}],"tags":[]},{"title":"zoj4097","slug":"ACM/è€Blogè¿ç§»/problem/graph_theory/zoj4097","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"zoj4097.html","link":"","permalink":"http://fightinggg.github.io/indigo/zoj4097.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog zoj4097 é¢˜æ„ï¼š ç»™ä½ ä¸€å¹…å›¾(vert","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"problem","slug":"ACM/è€Blogè¿ç§»/problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/"},{"name":"graph_theory","slug":"ACM/è€Blogè¿ç§»/problem/graph-theory","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/graph-theory/"}],"tags":[]},{"title":"2019ç‰›å®¢D","slug":"ACM/è€Blogè¿ç§»/problem/math/2019ç‰›å®¢D","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"2019ç‰›å®¢D.html","link":"","permalink":"http://fightinggg.github.io/indigo/2019%E7%89%9B%E5%AE%A2D.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog 2019ç‰›å®¢D ç®€å•åŒ–ç®€ä¸€ä¸‹è¦æˆ‘ä»¬æ±‚çš„ä¸œè¥¿ å…¶å®è¿™ä¸ªå°±æ˜¯å¼‚æˆ–å·ç§¯fwtçš„å®šä¹‰ï¼ŒæŠŠå‰ä¸¤ä¸ªæ±‚å’Œåˆæˆä¸€ä¸ªæ±‚å’Œï¼Œç”¨-1çš„|S|æ¬¡æ–¹æ„é€ åŸæ•°åˆ—ï¼Œè·‘ä¸€æ¬¡fwtå°±æ˜¯ç­”æ¡ˆ #include&lt;bits/stdc++.h&gt; using namespace std; int sum[1&lt;&lt;10],cnt[1&lt;&lt;20]; int mod=1e9+7; int qpow(int a,int b){ int ret=1; while(b){ if(b&amp;1) ret=1ll*ret*a%mod; a=1ll*a*a%mod; b&gt;&gt;=1; } return ret; } //æ±‚å·ç§¯a[]=&gt;fwt(n,0)=&gt;fwt[]=&gt;fwt(n,1)=&gt;a[] //fwt(x$y)=fwt(x)*fwt(y);$ä»£è¡¨|ï¼Œ&amp;ï¼Œ^ void fwt(int *a, int n, int f) { for (int k = 1; k &lt; n; k &lt;&lt;= 1) for (int i = 0; i &lt; n; i += (k &lt;&lt; 1)) for (int j = 0; j &lt; k; j++) if (f == 1) { int x = a[i + j], y = a[i + j + k]; //&amp;:a[i+j]+=a[i+j+k]; //|:a[i+j+k]+=a[i+j]; a[i + j] = x + y; a[i + j + k] = x - y; } else { int x = a[i + j], y = a[i + j + k]; //&amp;:a[i+j]-=a[i+j+k]; //|:a[i+j+k]-=a[i+j]; a[i + j] = (x + y) / 2; a[i + j + k] = (x - y) / 2; } } int main(){ ios::sync_with_stdio(false); int n,m,k; while(cin&gt;&gt;n&gt;&gt;m&gt;&gt;k){ for(int i=0;i&lt;1&lt;&lt;k;i++) cnt[i]=0; for(int i=0;i&lt;n;i++){ int a[10]; for(int j=0;j&lt;m;j++) cin&gt;&gt;a[j]; for(int s=0;s&lt;1&lt;&lt;m;s++){ if(s!=0) sum[s]=sum[s&amp;(s-1)]^a[__builtin_ffs(s)-1]; if(__builtin_parity(s)) cnt[sum[s]]--; else cnt[sum[s]]++; } } fwt(cnt,1&lt;&lt;k,1); int ans=0, rev=qpow(1&lt;&lt;m,mod-2),mul=1; for(int i=0;i&lt;1&lt;&lt;k;i++){ ans^=1ll*mul*cnt[i]%mod*rev%mod; mul=3ll*mul%mod; } cout&lt;&lt;ans&lt;&lt;endl; } }","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"problem","slug":"ACM/è€Blogè¿ç§»/problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/"},{"name":"math","slug":"ACM/è€Blogè¿ç§»/problem/math","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/math/"}],"tags":[]},{"title":"bzoj-2655","slug":"ACM/è€Blogè¿ç§»/problem/math/bzoj-2655","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"bzoj-2655.html","link":"","permalink":"http://fightinggg.github.io/indigo/bzoj-2655.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog bzoj2655 é¢˜æ„ï¼š ä¸€ä¸ªåºåˆ—a1,...,anæ˜¯åˆæ³•çš„ï¼Œå½“ä¸”ä»…å½“ï¼š é•¿åº¦ä¸ºç»™å®šçš„nã€‚ a1,...,anéƒ½æ˜¯[1,A]ä¸­çš„æ•´æ•°ã€‚ a1,...,anäº’ä¸ç›¸ç­‰ã€‚ ä¸€ä¸ªåºåˆ—çš„å€¼å®šä¹‰ä¸ºå®ƒé‡Œé¢æ‰€æœ‰æ•°çš„ä¹˜ç§¯ï¼Œå³a1a2...anã€‚ æ±‚æ‰€æœ‰ä¸åŒåˆæ³•åºåˆ—çš„å€¼çš„å’Œã€‚ ä¸¤ä¸ªåºåˆ—ä¸åŒå½“ä¸”ä»…å½“ä»–ä»¬ä»»æ„ä¸€ä½ä¸ä¸€æ ·ã€‚ è¾“å‡ºç­”æ¡ˆå¯¹ä¸€ä¸ªæ•°modå–ä½™çš„ç»“æœã€‚ // f(i,j)-> å‰iä¸ªå…ƒç´ ä¸­æœ€å¤§å€¼ä¸ºjçš„æ–¹æ¡ˆçš„æƒçš„å’Œ // f(i,j)=f(i-1,j-1)*i*j+f(i,j-1) // ç”¨æ•°å­¦å½’çº³æ³•è¯æ˜f(i,j)å…³äºjæ˜¯ä¸€ä¸ªæœ€é«˜æ¬¡ä¸º2*içš„å¤šé¡¹å¼ #include &lt;bits/stdc++.h&gt; using namespace std; typedef long long ll; ll mod; ll qpow(ll a,ll b,ll mod){ ll ret=1; while(b){ if(b&amp;1) ret=ret*a%mod; a=a*a%mod; b&gt;&gt;=1; } return ret; } // (mod%i)=== -mod/i*i const int maxn=1200; ll fac_inv[maxn]={1,1}; void inv_ini(){ for(ll i=0,fac=1;i&lt;maxn;i++,fac=fac*i%mod) { fac_inv[i]=qpow(fac,mod-2,mod); } } ll prepre[maxn],suf[maxn],*pre=prepre+1; ll getval(ll *y,ll n,ll x){// O(n) næ¬¡å¤šé¡¹å¼æœ‰n+1é¡¹ y[0]...y[n] -&gt; y[x] pre[-1]=suf[n+1]=1; for(int i=0;i&lt;=n;i++) pre[i]=pre[i-1]*(x-i+mod)%mod; for(int i=n;i&gt;=0;i--) suf[i]=suf[i+1]*(i-x+mod)%mod; ll ret=0; for(int i=0;i&lt;=n;i++) { ll up=pre[i-1]*suf[i+1]%mod; ll down=fac_inv[i]*fac_inv[n-i]%mod; ret=(ret+y[i]*up%mod*down)%mod; } return ret; } // f(i,j)-&gt; å‰iä¸ªå…ƒç´ ä¸­æœ€å¤§å€¼ä¸ºjçš„æ–¹æ¡ˆçš„æƒçš„å’Œ // f(i,j)=f(i-1,j-1)*i*j+f(i,j-1) // ç”¨æ•°å­¦å½’çº³æ³•è¯æ˜f(i,j)å…³äºjæ˜¯ä¸€ä¸ªæœ€é«˜æ¬¡ä¸º2*içš„å¤šé¡¹å¼ ll f[maxn][maxn*3]; int main(){ ll n,a; while(~scanf(&quot;%lld%lld%lld&quot;,&amp;a,&amp;n,&amp;mod)){ inv_ini(); for(ll j=1;j&lt;=3*n;j++) f[1][j]=(f[1][j-1]+j)%mod; for(ll i=2;i&lt;=n;i++){ for(ll j=i;j&lt;=3*n;j++){ f[i][j]=(i*j*f[i-1][j-1]+f[i][j-1])%mod; } } //we know f(n) f(n+1) ... f(3n) //if g(i)=f(i+n) // than f(a)=g(a-n) printf(&quot;%lld\\n&quot;,getval(f[n]+n,2*n,(a-n+mod)%mod)); } }","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"problem","slug":"ACM/è€Blogè¿ç§»/problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/"},{"name":"math","slug":"ACM/è€Blogè¿ç§»/problem/math","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/math/"}],"tags":[]},{"title":"cf995f","slug":"ACM/è€Blogè¿ç§»/problem/math/cf995f","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"cf995f.html","link":"","permalink":"http://fightinggg.github.io/indigo/cf995f.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog cf995f é¢˜æ„ï¼š ç»™ä½ æœ€å¤šn=3000ä¸ªèŠ‚ç‚¹çš„æ ‘ï¼Œè®©ä½ ç”¨1-dï¼ˆd iå­æ ‘ä¸­æœ€å¤§å€¼ä¸ºjçš„æ–¹æ¡ˆæ•° i","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"problem","slug":"ACM/è€Blogè¿ç§»/problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/"},{"name":"math","slug":"ACM/è€Blogè¿ç§»/problem/math","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/math/"}],"tags":[]},{"title":"hdu6584","slug":"ACM/è€Blogè¿ç§»/problem/math/hdu6584","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"hdu6584.html","link":"","permalink":"http://fightinggg.github.io/indigo/hdu6584.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog hdu6584 é¢˜ç›®æœ¬è´¨ä¸Šæ˜¯ æ‰¾åˆ†å­åˆ†æ¯å°äºnçš„ç¬¬kå°çš„çœŸåˆ†æ•°,æˆ‘ä»¬ç›´æ¥å¯¹ç­”æ¡ˆäºŒåˆ†å³å¯ï¼Œé‡‡å–åˆ†æ•°äºŒåˆ†çš„æ–¹å¼ï¼Œæ‰¾åˆ°ä¸€ä¸ªåŒºé—´ï¼Œå®ƒåŒ…å«æœ€å¤šä¸€ä¸ªè§£ $$ \\begin{aligned} &ç­”æ¡ˆè‚¯å®šæ˜¯æ‰¾åˆ°ä¸€ä¸ªåˆ†å­åˆ†æ¯å°äºnçš„åˆ†æ•°\\frac{p}{q}ä»–æ»¡è¶³ä¸‹é¢çš„ç‰¹å¾\\\\ &(\\sum_{i=1}^n\\sum_{j=1}^n[gcd(i,j)=1][\\frac{i}{j} \\leq \\frac{p}{q}]) = k\\\\ &æˆ‘ä»¬å¯¹å·¦å¼åŒ–ç®€\\\\ &=\\sum_{i=1}^n\\sum_{j=1}^n[gcd(i,j)=1][i \\leq \\frac{p}{q}j]\\\\ &=\\sum_{i=1}^{\\lfloor \\frac{p}{q}j\\rfloor}\\sum_{j=1}^n[gcd(i,j)=1]\\\\ &=\\sum_{i=1}^{\\lfloor \\frac{p}{q}j\\rfloor}\\sum_{j=1}^ne(gcd(i,j))\\\\ &=\\sum_{i=1}^{\\lfloor \\frac{p}{q}j\\rfloor}\\sum_{j=1}^n(u*1)(gcd(i,j))\\\\ &=\\sum_{i=1}^{\\lfloor \\frac{p}{q}j\\rfloor}\\sum_{j=1}^n\\sum_{d|gcd(i,j)}u(d)*1(d)\\\\ &=\\sum_{i=1}^{\\lfloor \\frac{p}{q}j\\rfloor}\\sum_{j=1}^n\\sum_{d|gcd(i,j)}u(d)\\\\ &=\\sum_{i=1}^{\\lfloor \\frac{p}{q}j\\rfloor}\\sum_{j=1}^n\\sum_{d|i,d|j}u(d)\\\\ &=\\sum_{d=1}^{n}u(d)\\sum_{i=1}^{\\lfloor \\frac{p}{q}j\\rfloor}\\sum_{j=1}^n[d|i,d|j]\\\\ &=\\sum_{d=1}^{n}u(d)\\sum_{xd=1}^{\\lfloor \\frac{p}{q}(yd)\\rfloor}\\sum_{yd=1}^n[d|(xd),d|(yd)]\\\\ &=\\sum_{d=1}^{n}u(d)\\sum_{x=1}^{\\lfloor\\frac{\\lfloor \\frac{p}{q}(yd)\\rfloor}{d}\\rfloor}\\sum_{y=1}^{\\lfloor\\frac{n}{d}\\rfloor}1\\\\ &=\\sum_{d=1}^{n}u(d)\\sum_{y=1}^{\\lfloor\\frac{n}{d}\\rfloor}\\lfloor\\frac{\\lfloor \\frac{p}{q}(yd)\\rfloor}{d}\\rfloor\\\\ &=\\sum_{d=1}^{n}u(d)\\sum_{y=1}^{\\lfloor\\frac{n}{d}\\rfloor}{\\lfloor \\frac{p}{q}y\\rfloor}\\\\ \\end{aligned} $$ è¿™é‡Œæ˜¯å¯ä»¥æ±‚å‡ºç­”æ¡ˆçš„,å¯¹dåˆ†å—ï¼Œå³è¾¹çš„éƒ¨åˆ†é‡‡ç”¨ç±»æ¬§å‡ é‡Œå¾—ç®—æ³• æˆ‘ä»¬ä¸€ç›´å¾€ä¸‹äºŒåˆ†ï¼Œç›´åˆ°åŒºé—´è¶³å¤Ÿå°ï¼Œæœ€åç”¨ Stern-Brocot Tree æˆ– æ³•é›·åºåˆ—æ‰¾å‡ºç­”æ¡ˆ #include&lt;bits/stdc++.h&gt; using namespace std; typedef long long ll; /**** * è¶…çº§ç§¯æ€§å‡½æ•°çº¿æ€§ç­› * ****/ typedef long long ll; const ll maxn=2e6+10; ll no_pri[maxn]={0,1,0},pri[maxn],low[maxn]; ll PHI[maxn],DDD[maxn],XDX[maxn],MUU[maxn],SIG[maxn]; void f_ini(){ for(ll i=2;i&lt;maxn;i++){ if(!no_pri[i]) low[i]=pri[++pri[0]]=i; for(ll j=1;pri[j]*i&lt;maxn;j++){ no_pri[pri[j]*i]=1; if(i%pri[j]==0) { low[pri[j]*i]=low[i]*pri[j]; break; } else low[pri[j]*i]=pri[j]; } } DDD[1]=PHI[1]=MUU[1]=SIG[1]=1;// æ”¹è¿™é‡Œ for(ll i=1;i&lt;=pri[0];i++){ for(ll mul=pri[i],ct=1;mul&lt;maxn;mul*=pri[i],ct++){ DDD[mul]=ct+1;// æ”¹è¿™é‡Œ SIG[mul]=SIG[mul/pri[i]]+mul;// æ”¹è¿™é‡Œ MUU[mul]=ct==1?-1:0;// æ”¹è¿™é‡Œ PHI[mul]=mul/pri[i]*(pri[i]-1);// æ”¹è¿™é‡Œ } } for(ll i=2;i&lt;maxn;i++){ for(ll j=1;pri[j]*i&lt;maxn;j++){ ll x=low[i*pri[j]], y=i*pri[j]/x; DDD[x*y]=DDD[x]*DDD[y]; MUU[x*y]=MUU[x]*MUU[y]; PHI[x*y]=PHI[x]*PHI[y]; SIG[x*y]=SIG[x]*SIG[y]; if(i%pri[j]==0) break; } } for(ll i=1;i&lt;maxn;i++) { DDD[i]+=DDD[i-1]; MUU[i]+=MUU[i-1]; PHI[i]+=PHI[i-1]; SIG[i]+=SIG[i-1]; XDX[i]=(DDD[i]-DDD[i-1])*i+XDX[i-1]; } } struct frac{ ll x,y; frac(ll x_=0,ll y_=1){ ll gcd=__gcd(x_,y_); x=x_/gcd; y=y_/gcd; } frac operator +(const frac&amp;rhs){ ll lcm=y/__gcd(y,rhs.y)*rhs.y; return frac(x*(lcm/y)+rhs.x*(lcm/rhs.y),lcm); } frac operator /(ll k){ ll gcd=__gcd(k,x); return frac(x/gcd,y*(k/gcd)); } bool operator &lt;=(const frac&amp;rhs){ ll lcm=y/__gcd(y,rhs.y)*rhs.y; return x*(lcm/y)&lt;=rhs.x*(lcm/rhs.y); } }; // a&gt;=0 b&gt;=0 c&gt;0 n&gt;=0 -&gt; O(lg(a,c)) void calfgh(ll a,ll b,ll c,ll n,ll&amp;f,ll&amp;g,ll&amp;h){ ll A=a/c,B=b/c,s0=n+1,s1=n*(n+1)/2,s2=n*(n+1)*(2*n+1)/6; f=s1*A+s0*B; g=s2*A+s1*B; h=s2*A*A+s0*B*B+2*s1*A*B-2*B*f-2*A*g;// å…ˆå‡æ‰ a%=c,b%=c; ll m=(a*n+b)/c; if(m!=0) { ll ff,gg,hh; calfgh(c,c-b-1,a,m-1,ff,gg,hh); f+=n*m-ff; g+=(n*m*(n+1)-hh-ff)/2; h+=n*m*m-2*gg-ff; } h+=2*B*f+2*A*g;//å†åŠ ä¸Š } ll count(frac k,int n){ ll ret=0; for(int i=1,ed;i&lt;=n;i=ed+1){ ed=n/(n/i); ll a[3]; calfgh(k.x,0,k.y,n/i,a[0],a[1],a[2]); ret+=1ll*(MUU[ed]-MUU[i-1])*a[0]; } return ret; } int main(){ f_ini(); ll t,n,k; scanf(&quot;%lld&quot;,&amp;t); while(t--){ scanf(&quot;%lld%lld&quot;,&amp;n,&amp;k); frac l(0,1),r(1,1);// [l,r] for(int ijk=0;ijk&lt;40;ijk++){ frac mid=(l+r)/2; ll ct=count(mid,n);//[0,mid] if(ct&gt;=k)r=mid; else l=mid; } //[l,r] frac L(0,1),R(1,0); while(true){ frac mid(L.x+R.x,L.y+R.y); if(mid.x&lt;=n&amp;&amp;mid.y&lt;=n&amp;&amp;l&lt;=mid&amp;&amp;mid&lt;=r){ printf(&quot;%lld/%lld\\n&quot;,mid.x,mid.y); break; } if(!(l&lt;=mid)){ L=mid; } if(!(mid&lt;=r)){ R=mid; } } } }","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"problem","slug":"ACM/è€Blogè¿ç§»/problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/"},{"name":"math","slug":"ACM/è€Blogè¿ç§»/problem/math","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/math/"}],"tags":[]},{"title":"ACM-ICPCåŒ—äº¬èµ›åŒº2018-D-Frog and Portal","slug":"ACM/è€Blogè¿ç§»/problem/thinging/ACM-ICPCåŒ—äº¬èµ›åŒº2018-D-Frog and Portal","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"ACM-ICPCåŒ—äº¬èµ›åŒº2018-D-Frog and Portal.html","link":"","permalink":"http://fightinggg.github.io/indigo/ACM-ICPC%E5%8C%97%E4%BA%AC%E8%B5%9B%E5%8C%BA2018-D-Frog%20and%20Portal.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog ACM-ICPCåŒ—äº¬èµ›åŒº2018-D-Frog and Portal é¢˜ç›®å¤§æ„ : &nbsp; &nbsp; &nbsp; &nbsp;æœ‰ä¸€åªé’è›™ç«™åœ¨ä½ç½®0ï¼Œä»–å¯ä»¥é€‰æ‹©å¾€å‰è·³ä¸€æ­¥æˆ–è€…ä¸¤æ­¥ï¼Œä»–å¸Œæœ›è·³åˆ°ä½ç½®200ä¸Šï¼Œä»–æœ‰å¤šå°‘ç§è·³æ³•å‘¢? è¿™å…¶å®æ˜¯ä¸ªæ–æ³¢æ‹‰å¥‘æ•°ï¼Œå¦‚æœæˆ‘ä»¬åŠ å¼ºéš¾åº¦ï¼Œå‡è®¾æ¯ä¸ªä½ç½®ä¸Šå¯ä»¥åˆ›å»ºæœ€å¤šä¸€ä¸ªä¼ é€é—¨ï¼Œå¯ä»¥ä¼ é€åˆ°ä»»ä½•åœ°æ–¹ï¼Œä¼ é€çš„è§„åˆ™æ˜¯ä¼ é€åˆ°ä¸èƒ½ä¼ é€ä¸ºæ­¢ æ¯”æ–¹è¯´ï¼Œä½ç½®1ä¸Šæœ‰ä¸ªä¼ é€é—¨ï¼Œä¼ é€åˆ°2ï¼Œ2ä¸Šæœ‰é—¨ä¼ é€åˆ°3ï¼Œ3åˆä¼ é€åˆ°4ï¼Œ4ä¸Šæ²¡æœ‰ä¼ é€é—¨ï¼Œäºæ˜¯å½“é’è›™è·‘åˆ°1ä¸Šçš„æ—¶å€™ï¼Œä»–ä¼šè¢«ç«‹åˆ»ä¼ é€åˆ°4ä¸Šï¼Œå½“ç„¶ä»–å¯ä»¥ é€‰æ‹©ä»0è·³è¿‡1ï¼Œä¸€æ¬¡æ€§è·³åˆ°2ï¼Œä»–å°±ä¸ä¼šè¿›å…¥1çš„ä¼ é€é—¨ï¼Œå¾ˆå¯æƒœï¼Œ2ä¸Šé¢çš„ä¼ é€é—¨å°†å®ƒæœ€ç»ˆé€åˆ°äº†4 ï¼Œå½“ç„¶å¦‚æœä¼ é€é—¨æ„æˆæ­»å¾ªç¯ï¼Œé’è›™å°±æ°¸è¿œæ— æ³•å‡ºæ¥äº†ã€‚ &nbsp; &nbsp; &nbsp; &nbsp;ç°åœ¨è¦ä½ æ„é€ ä¼ é€é—¨ï¼Œä½¿å¾—é’è›™æœ‰æ°å¥½kç§åŠæ³•è·³åˆ°ä½ç½®200ï¼Œkåœ¨intå†… &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ç°é¦–å…ˆè€ƒè™‘åˆ°ä¸¤æ®µè¿ç»­çš„ä¸å«æœ‰ä¼ é€é—¨çš„ä½ç½®ï¼Œä¸­é—´è‹¥åªéš”ç€ä¸€ä¸ªiåˆ°iåˆ°ä¼ é€é—¨ï¼Œé‚£ä¹ˆåˆ°ç»ˆç‚¹åˆ°æ–¹æ¡ˆæ•° ä¸€å®šæ˜¯å‡ ä¸ªæ–æ³¢æ‹‰å¥‘æ•°çš„ç§¯ï¼Œå¾ˆé—æ†¾ï¼Œæ–æ³¢æ‹‰å¥‘æ•°ä¸æ˜¯è´¨æ•°ï¼Œå®ƒä¸å…·æœ‰åƒè´¨æ•°é›†åˆå¯ä»¥ç”¨å‡ ä¸ªå…ƒç´ çš„ç§¯æ¥æ„é€ æ•´æ•°é›†åˆä¸€æ ·çš„æ€§è´¨ï¼Œè¿™ä¸ªåŠæ³•å¤±æ•ˆ &nbsp; &nbsp; &nbsp; &nbsp;ç„¶åæˆ‘ä»¬ä»”ç»†æ€è€ƒï¼Œå‘ç°å¦‚æœä½ç½®içš„ä¼ é€é—¨ä¼ é€åˆ°i-1ï¼Œi-2ï¼Œi-3ã€‚ã€‚ã€‚è¿™äº›æ•°çš„è¯ï¼Œæ–¹æ¡ˆæ•°æ˜¯æ— ç©·å¤§ï¼Œ &nbsp; &nbsp; &nbsp; &nbsp;ç¬¬ä¸€æ®µè¡¨æ˜åªåŒi->içš„ä¼ é€é—¨ä¸å¯èƒ½å®Œæˆï¼Œç¬¬äºŒæ®µè¡¨ç¤ºä¸èƒ½ä½¿ç”¨æˆ–è€…è¯´ä¸ä½¿ç”¨ä¼ é€é—¨i->i-kï¼ˆk>0ï¼‰æ¯”ä½¿ç”¨ æ›´åŠ ä¼˜ï¼Œäºæ˜¯æˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ªç®€å•çš„æ¨è®º:ç­”æ¡ˆå¯ä»¥ç”±i->i ä¸i->i+kä¸¤è€…ç»“åˆå¾—åˆ° &nbsp; &nbsp; &nbsp; &nbsp;ç´§æ¥ç€æˆ‘ä»¬å¼€å§‹åˆ†æå‰å‡ ä¸ªæ ¼å­çš„è·³è·ƒæ–¹æ¡ˆæ•°ï¼š æ–¹æ¡ˆ 1 1 2 3 5 ä½ç½® 0 1 2 3 4 &nbsp; &nbsp; &nbsp; &nbsp;è€ƒè™‘åœ¨ä½ç½®3æ”¾ä¸€ä¸ªä¼ é€é—¨ä¼ é€åˆ°i: æ–¹æ¡ˆ 1 1 2 3 2 2 4 ä½ç½® 0 1 2 3 4 5 6 &nbsp; &nbsp; &nbsp; &nbsp;è¿™ä¸ªæ—¶å€™æˆ‘ä»¬åº”è¯¥è­¦è§‰åˆ°äº†,æ–¹æ¡ˆæ•°å‡ºç°äº†4ï¼Œå‡ºç°äº†4ï¼Œ4ä¸æ˜¯æ–æ³¢æ‹‰å¥‘æ•°ã€‚å†ç»§ç»­è§‚å¯Ÿï¼Œä½ç½®3åˆ°åº•æ€ä¹ˆå›äº‹ï¼Ÿä»–å¯¹è°æœ‰è´¡çŒ®ï¼Ÿ &nbsp; &nbsp; &nbsp; &nbsp;å¦‚æœæˆ‘ä»¬å‡è®¾è®©ä½ç½®3è·³åˆ°è‡ªå·±ï¼Œä»–ä¼šå¯¹ç­”æ¡ˆè´¡çŒ®0ï¼Œå¦‚æœæˆ‘ä»¬è®©ä½ç½®3è·³åˆ°200ï¼Œä»–ä¼šå¯¹ç­”æ¡ˆè´¡çŒ®3 &nbsp; &nbsp; &nbsp; &nbsp;é€‰æˆ–ä¸é€‰+1 2 4çš„å‡ºç°ï¼Œè®©æˆ‘ä»¬è”æƒ³åˆ°äº†åˆ©ç”¨äºŒè¿›åˆ¶ï¼Œ &nbsp; &nbsp; &nbsp; &nbsp;ç„¶åæˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªå‘¨æœŸä¸º6çš„è‡ªåŠ¨åŒ¹é…çš„ä¸œè¥¿ï¼Œ æ–¹æ¡ˆ 1 1 1 1 2 3 ... ä½ç½® 0 1 2 3 4 5 ... &nbsp; &nbsp; &nbsp; &nbsp;ç»¿è‰²ä»£è¡¨i->iæ­»å¾ªç¯,çº¢è‰²éƒ¨åˆ†å¯é€‰æ­»å¾ªç¯æˆ–è€…è·³åˆ°ç»ˆç‚¹ï¼Œè¡¨ç¤ºé€‰æˆ–ä¸é€‰ï¼Œ6*32=192ï¼Œæˆ‘ä»¬åœ¨æœ€åçš„åœ°æ–¹è¿ç»­å¼„ä¸¤ä¸ª i->iå°±å¯ä»¥ä¿è¯åˆ°è¾¾ç»ˆç‚¹çš„ä¸€å®šæ˜¯å‘¨æœŸå†…éƒ¨çš„æ–¹æ¡ˆã€‚äºæ˜¯èŒƒå›´è·¨åº¦194ï¼Œä¼ é€é—¨ç¨³å®š66ä¸ªï¼Œå°±å¯ä»¥æ ¹æ®è¾“å…¥çš„kçš„äºŒè¿›åˆ¶ è¡¨ç¤ºæ¥è°ƒæ•´çº¢è‰²éƒ¨åˆ†çš„ä¼ é€é—¨å³å¯ã€‚äºæ˜¯é¢˜ç›®è¢«è§£å†³äº†ã€‚ #include &lt;bits/stdc++.h&gt; using namespace std; void choose(int i){ printf(&quot;%d %d\\n&quot;,i+1,199); printf(&quot;%d %d\\n&quot;,i+5,i+5); } void no_choose(int i){ printf(&quot;%d %d\\n&quot;,i+1,i+1); printf(&quot;%d %d\\n&quot;,i+5,i+5); } int main(){ int n; while(~scanf(&quot;%d&quot;,&amp;n)){ printf(&quot;66\\n&quot;); for(int i=0;i&lt;32;i++){ if(n&amp;(1&lt;&lt;i)){ choose(6*i); } else { no_choose(6*i); } } printf(&quot;197 197\\n&quot;); printf(&quot;198 198\\n&quot;); } }","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"problem","slug":"ACM/è€Blogè¿ç§»/problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/"},{"name":"thinging","slug":"ACM/è€Blogè¿ç§»/problem/thinging","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/thinging/"}],"tags":[]},{"title":"hdu6428","slug":"ACM/è€Blogè¿ç§»/problem/math/hdu6428","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"hdu6428.html","link":"","permalink":"http://fightinggg.github.io/indigo/hdu6428.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog bzoj1924 é¢˜æ„ï¼š &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨å®½å¹¿çš„éæ´²è’æ¼ ä¸­ï¼Œç”Ÿæ´»ç€ä¸€ç¾¤å‹¤åŠ³å‹‡æ•¢çš„ç¾Šé©¼å®¶æ—ã€‚è¢«æ—äººæ­ç§°ä¸ºâ€œå…ˆçŸ¥â€çš„Alpaca L. Sotomonæ˜¯è¿™ä¸ªå®¶æ—çš„é¢†è¢–ï¼Œå¤–äººä¹Ÿç§°å…¶ä¸ºâ€œæ‰€é©¼é—¨ç‹â€ã€‚æ‰€é©¼é—¨ç‹æ¯•ç”Ÿè‡´åŠ›äºç»´æŠ¤å®¶æ—çš„å®‰å®šä¸å’Œè°ï¼Œä»–æ›¾äº²è‡ªç‡å†›ç²‰ç¢æ²³èŸ¹å¸å›½ä¸»ä¹‰çš„é‡è›®ä¾µç•¥ï¼Œä¸ºæ—äººç«‹ä¸‹èµ«èµ«æˆ˜åŠŸã€‚æ‰€é©¼é—¨ç‹ä¸€ç”Ÿè´¢å®æ— æ•°ï¼Œä½†å› å…¶ç”Ÿæ€§èŠ‚ä¿­ä½è°ƒï¼Œä»–å°†è´¢å®åŸ‹è—åœ¨è‡ªå·±è®¾è®¡çš„åœ°ä¸‹å®«æ®¿é‡Œï¼Œè¿™ä¹Ÿæ˜¯ä»Šå¤©Henry Curtisæ•…äº‹çš„èµ·ç‚¹ã€‚Henryæ˜¯ä¸€ä¸ªçˆ±è´¢å¦‚å‘½çš„è´ªå©ªå®¶ä¼™ï¼Œè€Œåˆéå¸¸èªæ˜ï¼Œä»–è´¹å°½å¿ƒæœºè°‹åˆ’äº†è¿™æ¬¡ç›—çªƒè¡ŒåŠ¨ï¼Œç ´è§£é‡é‡æœºå…³åæ¥åˆ°è¿™åº§åœ°ä¸‹å®«æ®¿å‰ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ•´åº§å®«æ®¿å‘ˆçŸ©é˜µçŠ¶ï¼Œç”±RÃ—Cé—´çŸ©å½¢å®«å®¤ç»„æˆï¼Œå…¶ä¸­æœ‰Né—´å®«å®¤é‡ŒåŸ‹è—ç€å®è—ï¼Œç§°ä½œè—å®å®«å®¤ã€‚å®«æ®¿é‡Œå¤–ã€ç›¸é‚»å®«å®¤é—´éƒ½ç”±åšç¡¬çš„å®ä½“å¢™é˜»éš”ï¼Œç”±ä¸€é—´å®«å®¤åˆ°è¾¾å¦ä¸€é—´åªèƒ½é€šè¿‡æ‰€é©¼é—¨ç‹ç‹¬åˆ›çš„ç§»åŠ¨æ–¹å¼â€”â€”ä¼ é€é—¨ã€‚æ‰€é©¼é—¨ç‹ä¸ºè¿™Né—´è—å®å®«å®¤æ¯é—´éƒ½æ¶è®¾äº†ä¸€æ‰‡ä¼ é€é—¨ï¼Œæ²¡æœ‰å®è—çš„å®«å®¤ä¸è®¾ä¼ é€é—¨ï¼Œæ‰€æœ‰çš„å®«å®¤ä¼ é€é—¨åˆ†ä¸ºä¸‰ç§ï¼š &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â€œæ¨ªå¤©é—¨â€ï¼šç”±è¯¥é—¨å¯ä»¥ä¼ é€åˆ°åŒè¡Œçš„ä»»ä¸€å®«å®¤ï¼› &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â€œçºµå¯°é—¨â€ï¼šç”±è¯¥é—¨å¯ä»¥ä¼ é€åˆ°åŒåˆ—çš„ä»»ä¸€å®«å®¤ï¼› &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;â€œè‡ª*æ²³èŸ¹*ç”±*æ²³èŸ¹*é—¨â€ï¼šç”±è¯¥é—¨å¯ä»¥ä¼ é€åˆ°ä»¥è¯¥é—¨æ‰€åœ¨å®«å®¤ä¸ºä¸­å¿ƒå‘¨å›´8æ ¼ä¸­ä»»ä¸€å®«å®¤ï¼ˆå¦‚æœç›®æ ‡å®«å®¤å­˜åœ¨çš„è¯ï¼‰ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ·±è°‹è¿œè™‘çš„Henryå½“ç„¶äº‹å…ˆå°±æåˆ°äº†æ‰€é©¼é—¨ç‹å½“å¹´çš„å®«æ®¿æ‹›æ ‡å†Œï¼Œä¹¦å†Œä¸Šè¯¦ç»†è®°å½•äº†æ¯æ‰‡ä¼ é€é—¨æ‰€å±å®«å®¤åŠç±»å‹ã€‚è€Œä¸”ï¼Œè™½ç„¶å®«æ®¿å†…å¤–ç›¸éš”ï¼Œä½†ä»–è‡ªè¡Œå‡†å¤‡äº†ä¸€ç§ä¾¿æºå¼ä¼ é€é—¨ï¼Œå¯å°†è‡ªå·±ä¼ é€åˆ°æ®¿å†…ä»»æ„ä¸€é—´å®«å®¤å¼€å§‹å¯»å®ï¼Œå¹¶åœ¨ä»»æ„ä¸€é—´å®«å®¤ç»“æŸåä¼ é€å‡ºå®«ã€‚æ•´åº§å®«æ®¿åªè®¸è¿›å‡ºä¸€æ¬¡ï¼Œä¸”ä¾¿æºé—¨æ— æ³•è¿›è¡Œå®«å®¤ä¹‹é—´çš„ä¼ é€ã€‚ä¸è¿‡å¥½åœ¨å®«å®¤å†…ä¼ é€é—¨çš„ä½¿ç”¨æ²¡æœ‰æ¬¡æ•°é™åˆ¶ï¼Œæ¯é—´å®«å®¤ä¹Ÿå¯ä»¥å¤šæ¬¡å‡ºå…¥ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç°åœ¨Henryå·²ç»æ‰“å¼€äº†ä¾¿æºé—¨ï¼Œå³å°†é€‰æ‹©ä¸€é—´å®«å®¤è¿›å…¥ã€‚ä¸ºå¾—åˆ°å°½å¤šå®è—ï¼Œä»–å¸Œæœ›å®‰æ’ä¸€æ¡è·¯çº¿ï¼Œä½¿èµ°è¿‡çš„ä¸åŒè—å®å®«å®¤å°½å¯èƒ½å¤šã€‚è¯·ä½ å‘Šè¯‰Henryè¿™æ¡è·¯çº¿æœ€å¤šè¡Œç»ä¸åŒè—å®å®«å®¤çš„æ•°ç›®ã€‚ è¾“å…¥ï¼š &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç¬¬ä¸€è¡Œç»™å‡ºä¸‰ä¸ªæ­£æ•´æ•° N, R, Cã€‚ ä»¥ä¸‹ N è¡Œï¼Œæ¯è¡Œç»™å‡ºä¸€æ‰‡ä¼ é€é—¨çš„ä¿¡æ¯ï¼ŒåŒ…å«ä¸‰ä¸ªæ­£æ•´æ•°xi, yi, Tiï¼Œè¡¨ç¤ºè¯¥ä¼ é€é—¨è®¾åœ¨ä½äºç¬¬ xiè¡Œç¬¬yiåˆ—çš„è—å®å®«å®¤ï¼Œç±»å‹ä¸º Tiã€‚Tiæ˜¯ä¸€ä¸ª1~3é—´çš„æ•´æ•°ï¼Œ 1è¡¨ç¤ºå¯ä»¥ä¼ é€åˆ°ç¬¬ xiè¡Œä»»æ„ä¸€åˆ—çš„â€œæ¨ªå¤©é—¨â€ï¼Œ2è¡¨ç¤ºå¯ä»¥ä¼ é€åˆ°ä»»æ„ä¸€è¡Œç¬¬ yiåˆ—çš„â€œçºµå¯°é—¨â€ï¼Œ3è¡¨ç¤ºå¯ä»¥ä¼ é€åˆ°å‘¨å›´ 8æ ¼å®«å®¤çš„â€œè‡ªç”±é—¨â€ã€‚ ä¿è¯ 1â‰¤xiâ‰¤Rï¼Œ1â‰¤yiâ‰¤Cï¼Œæ‰€æœ‰çš„ä¼ é€é—¨ä½ç½®äº’ä¸ç›¸åŒã€‚ æµ‹è¯•ç‚¹ç¼–å·ï¼š &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;N&nbsp; R&nbsp; C&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp; 16&nbsp; 20&nbsp; 20&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp; 300&nbsp; 1,000&nbsp; 1,000&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3&nbsp; 500&nbsp; 100,000&nbsp; 100,000 &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4&nbsp; 2,500&nbsp; 5,000&nbsp; 5,000 &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5&nbsp; 50,000&nbsp; 5,000&nbsp; 5,000 &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;6&nbsp; 50,000&nbsp; 1,000,000&nbsp; 1,000,000 &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;7&nbsp; 80,000&nbsp; 1,000,000&nbsp; 1,000,000 &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8&nbsp; 100,000&nbsp; 1,000,000&nbsp; 1,000,000 &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;9&nbsp; 100,000&nbsp; 1,000,000&nbsp; 1,000,000 &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10&nbsp; 100,000&nbsp; 1,000,000&nbsp; 1,000,000 &nbsp; å…ˆç®€å•åŒ–ç®€ä¸€ä¸‹ è§‚å¯Ÿå‘ç° ä»£å›å» è¿™äº›éƒ½æ˜¯ç§¯æ€§å‡½æ•°ï¼Œç›´æ¥ç­›å°±è¡Œäº† #include&lt;bits/stdc++.h&gt; using namespace std; /**** * è¶…çº§ç§¯æ€§å‡½æ•°çº¿æ€§ç­› * ****/ typedef unsigned int uint; typedef unsigned long long ull; const uint maxn=1e7+100; uint no_pri[maxn]={0,1,0},pri[maxn],low[maxn]; uint PHI[maxn],phu[maxn],f2[maxn],f3[maxn]; void f_ini(){ for(uint i=2;i&lt;maxn;i++){ if(!no_pri[i]) low[i]=pri[++pri[0]]=i; for(uint j=1;1ll*pri[j]*i&lt;maxn;j++){ no_pri[pri[j]*i]=1; if(i%pri[j]==0) { low[pri[j]*i]=low[i]*pri[j]; break; } else low[pri[j]*i]=pri[j]; } } PHI[1]=phu[1]=f2[1]=f3[1]=1;// æ”¹è¿™é‡Œ for(uint i=1;i&lt;=pri[0];i++){ for(ull mul=pri[i],ct=1;mul&lt;maxn;mul*=pri[i],ct++){ uint pre=mul/pri[i]; PHI[mul]=mul/pri[i]*(pri[i]-1);// æ”¹è¿™é‡Œ phu[mul]=PHI[mul]-PHI[pre]; f2[mul]=ct%2==1?(f2[pre]*pri[i]):f2[pre]; f3[mul]=ct%3==1?(f3[pre]*pri[i]):f3[pre]; } } for(uint i=2;i&lt;maxn;i++){ for(uint j=1;1ll*pri[j]*i&lt;maxn;j++){ uint x=low[i*pri[j]], y=i*pri[j]/x; phu[x*y]=phu[x]*phu[y]; f2[x*y]=f2[x]*f2[y]; f3[x*y]=f3[x]*f3[y]; if(i%pri[j]==0) break; } } } int main(){ f_ini(); uint t; cin&gt;&gt;t; while(t--) { uint a,b,c; cin&gt;&gt;a&gt;&gt;b&gt;&gt;c; uint ans=0; uint n=min(min(1.0*a,1.0*b*b),1.0*c*c*c)+0.5; for(uint i=1;i&lt;=n;i++){ ans+=phu[i]*(a/i)*(b/f2[i])*(c/f3[i]); } ans&amp;=0x3fffffff; cout&lt;&lt;ans&lt;&lt;endl; } return 0; } /* 4 96 93 95 970 906 893 92460 95043 54245 9760979 8053227 7156842 */","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"problem","slug":"ACM/è€Blogè¿ç§»/problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/"},{"name":"math","slug":"ACM/è€Blogè¿ç§»/problem/math","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/math/"}],"tags":[]},{"title":"dfs_enumeration_partition","slug":"ACM/è€Blogè¿ç§»/problem/thinging/dfs_enumeration_partition","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"dfs_enumeration_partition.html","link":"","permalink":"http://fightinggg.github.io/indigo/dfs_enumeration_partition.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog CCPC-Wannafly Winter Camp Day2 (Div1, online mirror) Sticks é¢˜ç›®å¤§æ„ : &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç»™ä½ 12æ ¹æ£å­ï¼Œè®©ä½ å¯¹æ£å­åˆ†å››å †ï¼Œæ¯å †ä¸‰æ ¹ï¼Œ è¦æ±‚è¿™å››å †æ£å­å°½å¯èƒ½ç»„æˆå¤šçš„ä¸‰è§’å½¢ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; è§£æ³•1:è€ƒè™‘åˆ°åˆ’åˆ†åªæœ‰3ä¸‡ä¸ªå·¦å³ï¼Œå®é™…ä¸Šdfsæšä¸¾åˆ’åˆ†å°±å¯ä»¥acã€‚è¯¦è§ä»£ç  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; è§£æ³•2:è€ƒè™‘åˆ†å—ï¼Œå…ˆåˆ†æˆ6+6ï¼Œæœ‰æ¥è¿‘1000ç§åˆ†æ³•ï¼Œç„¶å6=3+3ï¼Œ6=3+3ï¼Œä½†æ˜¯æˆ‘ä»¬æœ‰å¿…è¦ç”¨ä¸€è¾¹çš„6=3+3 çš„æ‰€æœ‰åˆ’åˆ†å»åŒ¹é…å¦ä¸€è¾¹çš„6=3+3çš„åˆ’åˆ†å—ï¼Ÿå…¶å®ä¸éœ€è¦ï¼Œæˆ‘ä»¬åªéœ€è¦å•ç‹¬è€ƒè™‘ä¸¤è¾¹çš„6=3+3ï¼Œå–æœ€ä¼˜åˆ†æ³• ç„¶åç»„åˆåœ¨ä¸€èµ·ï¼Œå› ä¸ºäº’ä¸å½±å“ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥æœ€ä¼˜å¯¹æœ€ä¼˜ï¼Œçœæ‰äº†å¾ˆå¤§ä¸€éƒ¨åˆ†çš„è®¨è®ºï¼Œå¤æ‚åº¦ä¸º12=6+6çš„ åˆ’åˆ†çš„ç§ç±»æ•°ä¹˜ä»¥2å†ä¹˜ä»¥6=3+3çš„åˆ’åˆ†çš„ç§ç±»æ•°å¤§æ¦‚ä¸º2ä¸‡ï¼Œç›¸æ¯”è§£æ³•1ä¼˜åŒ–äº†ä¸€éƒ¨åˆ†å¸¸æ•°ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä½¿ç”¨è§£æ³•2çš„ä»£ç å¾ˆè ¢å¾ˆé•¿ï¼Œå°±ä¸æ‹¿å‡ºæ¥äº†ã€‚ #include&lt;bits/stdc++.h&gt; using namespace std; int dfs(int*a,int n){ if(n==3)return a[0]+a[1]&gt;a[2]; int ret=0,ret_array[12]{}; int b[12],b_=0; for(int i=1;i&lt;n;i++){ for(int j=i+1;j&lt;n;j++){ b_=0; for(int k=1;k&lt;n;k++){ if(k==i||k==j)continue; b[b_++]=a[k]; } int tmp=dfs(b,n-3); if(tmp+(a[0]+a[i]&gt;a[j])&gt;ret){ ret=tmp+(a[0]+a[i]&gt;a[j]); memcpy(ret_array,b,sizeof(int)*(n-3)); ret_array[n-3]=a[0]; ret_array[n-2]=a[i]; ret_array[n-1]=a[j]; } } } memcpy(a,ret_array,sizeof(int)*n); return ret; } int main(){ int a[12],T; scanf(&quot;%d&quot;,&amp;T); for(int times=1;times&lt;=T;times++){ for(int i=0;i&lt;12;i++)scanf(&quot;%d&quot;,a+i); sort(a,a+12); int ans=dfs(a,12); printf(&quot;Case #%d: %d\\n&quot;,times,ans); for(int i=0;i&lt;12;i+=3){ if(a[i]+a[i+1]&gt;a[i+2]){ printf(&quot;%d %d %d\\n&quot;,a[i],a[i+1],a[i+2]); } } } }","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"problem","slug":"ACM/è€Blogè¿ç§»/problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/"},{"name":"thinging","slug":"ACM/è€Blogè¿ç§»/problem/thinging","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/thinging/"}],"tags":[]},{"title":"hdu5738","slug":"ACM/è€Blogè¿ç§»/problem/thinging/hdu5738","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"hdu5738.html","link":"","permalink":"http://fightinggg.github.io/indigo/hdu5738.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog hdu5738 é¢˜ç›®æ ¸å¿ƒ :å¯¹äºŒç»´å¹³é¢çš„ç‚¹æŒ‰ç…§ç›´çº¿è®¡æ•°ï¼Œç­‰ä»·äºè®¡ç®—å‡ºæ¯ä¸€æ¡ç›´çº¿ä¸Šçš„ç‚¹çš„ä¸ªæ•° &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; æšä¸¾èµ·ç‚¹ï¼Œå†æšä¸¾ç»ˆç‚¹ï¼Œå¯¹æ–œç‡ç”¨mapè®¡æ•°ï¼Œå¯ä»¥ä¼˜åŒ–å¸¸æ•°ï¼Œä¸è¦ç”¨doubleï¼Œä¼šä¸¢å¤±ç²¾åº¦ï¼Œè€ƒè™‘åˆ°æ–œç‡ä¸å‚ä¸åŠ å‡è¿ç®—ï¼Œå¯ä»¥ç”¨åˆ†æ•°å½¢å¼å‚¨å­˜ã€‚ #include&lt;bits/stdc++.h&gt; using namespace std; typedef long long ll; typedef pair&lt;ll, ll&gt; pll; const int MOD=1e9+7; ll qpow2[2000]; void initpow(){ qpow2[0]=1; for(int i=1;i&lt;2000;i++){ qpow2[i]=2*qpow2[i-1]%MOD; } } map&lt;pll,int&gt;mp; ll x[2000],y[2000]; ll __gcd(ll a,ll b){ return a==0?b:__gcd(b%a,a); } int main(){ initpow(); int T; scanf(&quot;%d&quot;,&amp;T); while(T--){ int n; scanf(&quot;%d&quot;,&amp;n); for(int i=0;i&lt;n;i++){ scanf(&quot;%lld%lld&quot;,x+i,y+i); } ll ans=0; for(int i=0;i&lt;n;i++){ mp.clear(); ll tem=0; for(int j=i+1;j&lt;n;j++){ if(x[i]==x[j]&amp;&amp;y[i]==y[j]){ tem++; } else{ ll gcd=__gcd(y[i]-y[j],x[i]-x[j]); mp[pll((y[i]-y[j])/gcd,(x[i]-x[j])/gcd)]++; } } ans+=qpow2[tem]-1+MOD; ans%=MOD; for(auto x:mp){ ans+=(qpow2[x.second]-1+MOD)*qpow2[tem]; ans%=MOD; } } printf(&quot;%lld\\n&quot;,ans); } }","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"problem","slug":"ACM/è€Blogè¿ç§»/problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/"},{"name":"thinging","slug":"ACM/è€Blogè¿ç§»/problem/thinging","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/thinging/"}],"tags":[]},{"title":"01æ ‘","slug":"ACM/è€Blogè¿ç§»/stencil/data_struct/01æ ‘","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"01æ ‘.html","link":"","permalink":"http://fightinggg.github.io/indigo/01%E6%A0%91.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog 01æ ‘ /*******01å­—å…¸æ ‘éƒ¨åˆ†********/ int ch[maxn*100][2];int tot=0;int root[maxn]; //æ–°å»ºNä¸ªå­—å…¸æ ‘ //å‘æ ¹ä¸ºuçš„å­—å…¸æ ‘æ’å…¥x void insert(int u,int x){ for(int i=18;i&gt;=0;i--){ int id=(x&gt;&gt;i)&amp;1; if(!ch[u][id]) ch[u][id]=++tot; u=ch[u][id]; } } //æŸ¥è¯¢æ ¹ä¸ºuçš„å­—å…¸æ ‘ä¸xçš„å¼‚æˆ–æœ€å¤§å€¼ int query(int u,int x){ int res=0; for(int i=18;i&gt;=0;i--){ int id=(x&gt;&gt;i)&amp;1; if(ch[u][id^1]){ u=ch[u][id^1]; res|=(1&lt;&lt;i); } else u=ch[u][id]; } return res; } /*****01å­—å…¸æ ‘éƒ¨åˆ†ç»“æŸ**********/","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"stencil","slug":"ACM/è€Blogè¿ç§»/stencil","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/"},{"name":"data_struct","slug":"ACM/è€Blogè¿ç§»/stencil/data-struct","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/data-struct/"}],"tags":[]},{"title":"cdq","slug":"ACM/è€Blogè¿ç§»/stencil/data_struct/cdq","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"cdq.html","link":"","permalink":"http://fightinggg.github.io/indigo/cdq.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog cdq ä¸‰ç»´ååº #include&lt;bits/stdc++.h&gt; using namespace std; const int maxn= 2e5+5; struct node{int x,y,z,w,ct;}a[maxn],b[maxn]; int ans[maxn],BIT[maxn],B; bool cmp(node a,node b){ if(a.x!=b.x)return a.x&lt;b.x; if(a.y!=b.y)return a.y&lt;b.y; return a.z&lt;b.z; } bool equal(node a,node b){ return a.x==b.x&amp;&amp;a.y==b.y&amp;&amp;a.z==b.z; } void add(int i,int d){ for(;i&lt;=B;i+=i&amp;-i) BIT[i]+=d; } int sum(int i){ int ret=0; for(;i&gt;=1;i-=i&amp;-i) ret+=BIT[i]; return ret; } void cdq(int l,int r){ if(l==r) return; int mid=l+r&gt;&gt;1; cdq(l,mid), cdq(mid+1,r); int u=l,v=mid+1; for(int i=l;i&lt;=r;i++) { if(v&gt;r||(u&lt;=mid&amp;&amp;a[u].y&lt;=a[v].y)){ b[i]=a[u++]; add(b[i].z,b[i].ct); } else{ b[i]=a[v++]; b[i].w+=sum(b[i].z); } } for(int i=l;i&lt;=mid;i++) add(a[i].z,-a[i].ct); for(int i=l;i&lt;=r;i++) a[i]=b[i]; } int main(){ int n,k; scanf(&quot;%d%d&quot;,&amp;n,&amp;k); B=k; for(int i=1;i&lt;=n;i++) scanf(&quot;%d%d%d&quot;,&amp;a[i].x,&amp;a[i].y,&amp;a[i].z); sort(a+1,a+1+n,cmp); int ed=0; a[ed].x=-1; for(int i=1;i&lt;=n;i++){ if(!equal(a[i],a[ed])) a[++ed]=a[i]; a[ed].ct++; } cdq(1,ed); for(int i=1;i&lt;=ed;i++) ans[a[i].w+a[i].ct]+=a[i].ct; for(int i=1;i&lt;=n;i++) printf(&quot;%d\\n&quot;,ans[i]); } å››ç»´ååº- cdqåˆ†æ²»é™ä½ä¸‰ç»´+æ’åºä¸€ç»´ hdu5126 #include&lt;bits/stdc++.h&gt; using namespace std; const int maxq=5e4+5; struct node{ int w[3],id,ct,type; node()= default; node(int x,int y,int z,int id,int ct,int type):id(id),ct(ct),type(type){ w[0]=x; w[1]=y; w[2]=z; } }; int cmpd; bool sleqt(node a,node b){ for(int i=3-cmpd;i&lt;3;i++) { if(a.w[i]!=b.w[i]) return a.w[i]&lt;b.w[i]; } return a.type&lt;=b.type; } node a[maxq&lt;&lt;3]; int ans[maxq&lt;&lt;3]; int merge(node*a,int n,node*b,int d,int flag){ //assert(b!=a) cmpd=d; int tot=0,mid=n&gt;&gt;1,u=0,v=mid; for(int i=0;i&lt;n;i++){ if(v&gt;=n||(u&lt;mid&amp;&amp;sleqt(a[u],a[v]))){ if(flag||a[u].type==0) b[tot++]=a[u]; u++; } else{ if(flag||a[v].type==1) b[tot++]=a[v]; v++; } } return tot; } //cdqåˆ†æ²»ä¸‰ç»´ void cdq(int d,node*a,int n){//d=3 static node buf[4][maxq&lt;&lt;3]; node*b=buf[d]; if(d==0){ int sum=0; for(int i=0;i&lt;n;i++){ if(a[i].type==0) sum+=a[i].ct; // add else ans[a[i].id]+=sum; // query } }// n==0 n==1 return else if(n&gt;=2){ int mid=n&gt;&gt;1; cdq(d,a,mid),cdq(d,a+mid,n-mid); int tot=merge(a,n,b,d,0); cdq(d-1,b,tot); merge(a,n,b,d,1); for(int i=0;i&lt;n;i++) a[i]=b[i]; } } int qy[maxq][7]; int main(){ int times; scanf(&quot;%d&quot;,&amp;times); while(times--){ int q; scanf(&quot;%d&quot;,&amp;q); int w[6]; for(int i=0;i&lt;q;i++){ scanf(&quot;%d&quot;,qy[i]+0); if(qy[i][0]==1) scanf(&quot;%d%d%d&quot;,qy[i]+1,qy[i]+2,qy[i]+3); else scanf(&quot;%d%d%d%d%d%d&quot;,qy[i]+1,qy[i]+2,qy[i]+3,qy[i]+4,qy[i]+5,qy[i]+6); } int tot=0; for(int i=0;i&lt;q;i++){ if(qy[i][0]==1) a[tot]=node(qy[i][1],qy[i][2],qy[i][3],tot,1,0),tot++; else { qy[i][1]--,qy[i][2]--,qy[i][3]--; a[tot]=node{qy[i][1],qy[i][2],qy[i][3],tot,1,1},tot++;//0 - a[tot]=node{qy[i][1],qy[i][2],qy[i][6],tot,1,1},tot++;//1 + a[tot]=node{qy[i][1],qy[i][5],qy[i][3],tot,1,1},tot++;//2 + a[tot]=node{qy[i][1],qy[i][5],qy[i][6],tot,1,1},tot++;//3 - a[tot]=node{qy[i][4],qy[i][2],qy[i][3],tot,1,1},tot++;//4 + a[tot]=node{qy[i][4],qy[i][2],qy[i][6],tot,1,1},tot++;//5 - a[tot]=node{qy[i][4],qy[i][5],qy[i][3],tot,1,1},tot++;//6 - a[tot]=node{qy[i][4],qy[i][5],qy[i][6],tot,1,1},tot++;//7 + } } for(int i=0;i&lt;tot;i++) ans[i]=0; cdq(3,a,tot); tot=0; for(int i=0;i&lt;q;i++){ if(qy[i][0]==1) tot++; else{ int*old=ans+tot; printf(&quot;%d\\n&quot;,old[1]+old[2]+old[4]+old[7]-old[0]-old[3]-old[5]-old[6]); tot+=8; } } } } å››ç»´ååº- cdqåˆ†æ²»é™ä½ä¸¤ç»´+æ’åºä¸€ç»´+æ ‘çŠ¶æ•°ç»„ä¸€ç»´ #include&lt;bits/stdc++.h&gt; using namespace std; const int maxq=5e4+5; struct node{ int w[3],id,ct,type; node()= default; node(int x,int y,int z,int id,int ct,int type):id(id),ct(ct),type(type){ w[0]=x; w[1]=y; w[2]=z; } }; int cmpd; bool sleqt(node a,node b){ for(int i=3-cmpd;i&lt;3;i++) { if(a.w[i]!=b.w[i]) return a.w[i]&lt;b.w[i]; } return a.type&lt;=b.type; } node a[maxq&lt;&lt;3]; int ans[maxq&lt;&lt;3]; int merge(node*a,int n,node*b,int d,int flag){ //assert(b!=a) cmpd=d; int tot=0,mid=n&gt;&gt;1,u=0,v=mid; for(int i=0;i&lt;n;i++){ if(v&gt;=n||(u&lt;mid&amp;&amp;sleqt(a[u],a[v]))){ if(flag||a[u].type==0) b[tot++]=a[u]; u++; } else{ if(flag||a[v].type==1) b[tot++]=a[v]; v++; } } return tot; } const int B=maxq*6+2; int BIT[B]; //cdqåˆ†æ²»ä¸¤ç»´ void cdq(int d,node*a,int n){//d=3 static node buf[4][maxq&lt;&lt;3]; node*b=buf[d]; if(d==1){ for(int i=0;i&lt;n;i++){ if(a[i].type==0) for(int j=a[i].w[2];j&lt;B;j+=j&amp;-j)BIT[j]+=a[i].ct; // add else for(int j=a[i].w[2];j&gt;0;j-=j&amp;-j)ans[a[i].id]+=BIT[j]; // query } for(int i=0;i&lt;n;i++){ if(a[i].type==0) for(int j=a[i].w[2];j&lt;B;j+=j&amp;-j)BIT[j]-=a[i].ct; // add } }// n==0 n==1 return else if(n&gt;=2){ int mid=n&gt;&gt;1; cdq(d,a,mid),cdq(d,a+mid,n-mid); int tot=merge(a,n,b,d,0); cdq(d-1,b,tot); merge(a,n,b,d,1); for(int i=0;i&lt;n;i++) a[i]=b[i]; } } int qy[maxq][7]; int main(){ int times; scanf(&quot;%d&quot;,&amp;times); while(times--){ vector&lt;int&gt;disc; int q; scanf(&quot;%d&quot;,&amp;q); int w[6]; for(int i=0;i&lt;q;i++){ scanf(&quot;%d&quot;,qy[i]+0); if(qy[i][0]==1) { scanf(&quot;%d%d%d&quot;,qy[i]+1,qy[i]+2,qy[i]+3); for(int j=1;j&lt;=3;j++) disc.push_back(qy[i][j]); } else { scanf(&quot;%d%d%d%d%d%d&quot;,qy[i]+1,qy[i]+2,qy[i]+3,qy[i]+4,qy[i]+5,qy[i]+6); for(int j=1;j&lt;=6;j++) disc.push_back(qy[i][j]); } } sort(disc.begin(),disc.end()); disc.erase(unique(disc.begin(),disc.end()),disc.end()); int tot=0; for(int i=0;i&lt;q;i++){ if(qy[i][0]==1) { for(int j=1;j&lt;=3;j++) qy[i][j]=lower_bound(disc.begin(),disc.end(),qy[i][j])-disc.begin()+2; a[tot]=node(qy[i][1],qy[i][2],qy[i][3],tot,1,0),tot++; } else { for(int j=1;j&lt;=6;j++) qy[i][j]=lower_bound(disc.begin(),disc.end(),qy[i][j])-disc.begin()+2; qy[i][1]--,qy[i][2]--,qy[i][3]--; a[tot]=node{qy[i][1],qy[i][2],qy[i][3],tot,1,1},tot++;//0 - a[tot]=node{qy[i][1],qy[i][2],qy[i][6],tot,1,1},tot++;//1 + a[tot]=node{qy[i][1],qy[i][5],qy[i][3],tot,1,1},tot++;//2 + a[tot]=node{qy[i][1],qy[i][5],qy[i][6],tot,1,1},tot++;//3 - a[tot]=node{qy[i][4],qy[i][2],qy[i][3],tot,1,1},tot++;//4 + a[tot]=node{qy[i][4],qy[i][2],qy[i][6],tot,1,1},tot++;//5 - a[tot]=node{qy[i][4],qy[i][5],qy[i][3],tot,1,1},tot++;//6 - a[tot]=node{qy[i][4],qy[i][5],qy[i][6],tot,1,1},tot++;//7 + } } for(int i=0;i&lt;tot;i++) ans[i]=0; cdq(3,a,tot); tot=0; for(int i=0;i&lt;q;i++){ if(qy[i][0]==1) tot++; else{ int*old=ans+tot; printf(&quot;%d\\n&quot;,old[1]+old[2]+old[4]+old[7]-old[0]-old[3]-old[5]-old[6]); tot+=8; } } } }","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"stencil","slug":"ACM/è€Blogè¿ç§»/stencil","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/"},{"name":"data_struct","slug":"ACM/è€Blogè¿ç§»/stencil/data-struct","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/data-struct/"}],"tags":[]},{"title":"kdæ ‘","slug":"ACM/è€Blogè¿ç§»/stencil/data_struct/kdæ ‘","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"kdæ ‘.html","link":"","permalink":"http://fightinggg.github.io/indigo/kd%E6%A0%91.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog kdTree &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp kdæ ‘æ˜¯å¹³è¡¡æ ‘çš„å¤šç»´æ‹“å±•ï¼Œè¯´ç™½äº†å°±æ˜¯å¤šç»´å¹³è¡¡æ ‘ï¼Œå®ƒ å’Œæ™®é€šçš„çš„åŒºåˆ«å°±åœ¨äºï¼Œå®ƒæ˜¯æŒ‰ç…§æ·±åº¦å†³å®šä»¥å“ªä¸ªç»´åº¦ ä½œä¸ºå»ºæ ‘åˆ’åˆ†æ ‡å‡†çš„ã€‚ï¼ˆä¼˜åŒ–ç®—æ³•å¦å½“åˆ«è®ºï¼‰ &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp ç®—æ³•åœ¨æ³¨é‡Šé‡Œé¢å·²ç»å¾ˆæ¸…æ¥šäº†ã€‚ #define pow2(x) ((x)*(x)) struct kdtree{ static const int maxn=1e5,maxkd=5; static int kd,idx; int sz[maxn&lt;&lt;2],spile[maxn&lt;&lt;2]; struct node{ int w[maxkd]; bool operator&lt;(const node&amp;rhs)const{return w[idx]&lt;rhs.w[idx];} }t[maxn&lt;&lt;2],in[maxn]; priority_queue&lt;pair&lt;double,node&gt; &gt; que; int maxvar(int l,int r){ int ret=0; double val=-1; for(int i=0;i&lt;kd;i++){ double average=0; for(int j=l;j&lt;=r;j++)average+=in[j].w[i]; average/=r-l+1; double variance=0; for(int j=l;j&lt;=r;j++)variance+=pow2(average-in[j].w[i]); if(variance&gt;val)ret=i,val=variance; } return ret; } void build(int u,int l,int r){//ç”¨å‰åˆå§‹åŒ–kd if(l&gt;r){sz[u]=0; return;} int mid=(l+r)&gt;&gt;1; spile[u]=idx=maxvar(l,r); sz[u]=r-l+1; nth_element(in+l,in+mid,in+r+1); t[u]=in[mid]; build(u&lt;&lt;1|0,l,mid-1); build(u&lt;&lt;1|1,mid+1,r); } void query(int u,int m,node&amp;q){//ç”¨å‰æ¸…ç©ºque if(sz[u]==0)return ; pair&lt;double,node&gt; tmp(0,t[u]); for(int i=0;i&lt;kd;i++)tmp.first+=pow2(q.w[i]-t[u].w[i]);//dist int dim=spile[u]; int closed=u&lt;&lt;1|(t[u].w[dim]&lt;=q.w[dim]);//ç¦»qè¿‘çš„å„¿å­ query(closed,m,q); if(que.size()&lt;m){//not full que.push(tmp); query(closed^1,m,q);//å› ä¸ºæ²¡æ»¡ï¼Œæ‰€ä»¥è¦æœ } else{// it is full if(tmp.first&lt;que.top().first) que.pop(),que.push(tmp);//replace if(pow2(q.w[dim]-t[u].w[dim])&lt;que.top().first)query(closed^1,m,q);//than maybe beter ,else it is imposable } } }KDT; int kdtree::idx=0,kdtree::kd=0;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"stencil","slug":"ACM/è€Blogè¿ç§»/stencil","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/"},{"name":"data_struct","slug":"ACM/è€Blogè¿ç§»/stencil/data-struct","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/data-struct/"}],"tags":[]},{"title":"lct","slug":"ACM/è€Blogè¿ç§»/stencil/data_struct/lct","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"lct.html","link":"","permalink":"http://fightinggg.github.io/indigo/lct.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog link cut tree link&nbsp;cut&nbsp;treeæ˜¯ä»€ä¹ˆ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;link&nbsp;cut&nbsp;treeæ˜¯ä¸€ç§ç»´æŠ¤åŠ¨æ€æ£®æ—çš„æ•°æ®ç»“æ„,ä½†æˆ‘ä»¬å¸¸å¸¸ç”¨å®ƒæ¥ç»´æŠ¤ ä¸€é¢—åŠ¨æ€çš„æ ‘ï¼Œç»´æŠ¤è¿™äº›åŠ¨æ€æ ‘ä¸Šè·¯å¾„çš„ä¿¡æ¯ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨æœ¬è´¨ä¸Šä»–å±äºä¸€ç§æ ‘å‰–åˆ†ï¼Œå°†æ ‘å‰–æˆé“¾ï¼Œä½†æ˜¯ç”±äºæ ‘æ˜¯åŠ¨æ€çš„ï¼Œæ‰€ä»¥æ— æ³•ä½¿ç”¨è½»é‡å‰–åˆ† ï¼Œå› ä¸ºé‡å„¿å­å¯èƒ½ä¼šå˜åŒ–ä¸ºè½»å„¿å­ï¼Œè½»å„¿å­ä¹Ÿå¯èƒ½å˜æˆé‡å„¿å­ï¼Œè¿™é‡Œé‡‡å–è™šå®å‰–åˆ†ï¼ŒæŒ‰ç…§è™šé“¾å®é“¾å‰–æˆé“¾ã€‚ æ ‘çš„è™šå®å‰–åˆ† &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸€ä¸ªèŠ‚ç‚¹æœ€å¤šæœ‰ä¸€ä¸ªå®å„¿å­ï¼Œå½“ç„¶ä»–ä¹Ÿå¯ä»¥ä¸æ‹¥æœ‰å®å„¿å­ï¼Œé™¤å®å„¿å­ä»¥å¤–ï¼Œå…¶ä»–å„¿å­ è¢«ç§°ä½œè½»å„¿å­ã€‚äºæ˜¯æˆ‘ä»¬å°±åƒè½»é‡å‰–åˆ†ä¸€æ ·ï¼ŒæŠŠè¿™æ£µæ ‘ç»™å‰–æ‰äº†ã€‚è¿™æ ·å‰–ï¼Œç‰¹åˆ«æ­¦æ–­ï¼Œçœ‹ä¼¼æ— æ³•ä¿è¯æ—¶é—´å¤æ‚åº¦ï¼Œç„¶è€Œå¹¶éå¦‚æ­¤ã€‚è¯æ˜è¿‡ç¨‹è¾ƒéš¾ï¼Œæ­¤å¤„ä¸åš æè¿°ã€‚ä¸‹é¢ä¸‰å¼ å›¾éƒ½æ˜¯äºŒå‰å †çš„è™šå®å‰–åˆ†ï¼Œé»‘è‰²è¾¹ä¸ºå®é“¾ï¼Œç»¿è‰²ä¸ºè™šé“¾ å¦‚ä½•è®©è¢«è™šå®å‰–åˆ†æ ‘å…·æœ‰åŠ¨æ€ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å› ä¸ºå®å„¿å­çš„é€‰å–é™ åˆ¶å°‘ï¼Œæ‰€ä»¥ä»»ä½•èŠ‚ç‚¹éƒ½æœ‰å¯èƒ½æˆä¸ºå®å„¿å­ï¼Œå½“ä¸€æ£µæ ‘çš„å½¢æ€å‘ç”Ÿäº†å˜åŒ–ï¼Œ è¿™å¹¶ä¸å½±å“æˆ‘ä»¬çš„å‰–åˆ†ï¼Œæ˜¾ç„¶æ–­è¾¹ä¸ä¼šè®©æˆ‘ä»¬çš„å‰–åˆ†å‡ºç°ä»»ä½•é—®é¢˜ï¼Œæ•…è€Œæˆ‘ä»¬ä»€ä¹ˆéƒ½ä¸éœ€è¦åšï¼Œè¿è¾¹çš„è¯ï¼Œæ— è„‘å¦æ­¤è¾¹ä¸ºè™šè¾¹å³å¯ã€‚äºæ˜¯æ ‘çš„åŠ¨æ€æ€§ä¸ä¼šå½±å“ å‰–åˆ† å¦‚ä½•ç»´æŠ¤è·¯å¾„ä¿¡æ¯ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ­¤é—®é¢˜è¾ƒå¤æ‚ï¼Œæˆ‘ä»¬å…ˆè€ƒè™‘æ ¹åˆ°æŸä¸ªèŠ‚ç‚¹çš„è·¯å¾„ï¼Œæˆ‘ä»¬æ˜¯è¿™æ ·åšçš„ï¼Œå˜æ¢è™šå®è¾¹ï¼Œä½¿å¾— ç»è¿‡æ ¹çš„å®é“¾çš„ä¸¤ä¸ªç«¯ç‚¹åˆ†åˆ«æ˜¯æ ¹å’Œé‚£ä¸ªèŠ‚ç‚¹ã€‚å¯ä»¥è¯æ˜ï¼Œè¿™æ ·çš„å‰–åˆ†å­˜åœ¨ã€‚å˜æ¢è™šå®è¾¹ä¹‹åï¼Œé‚£æ¡è·¯å¾„å°±è¢«æˆ‘ä»¬å‰–äº†å‡ºæ¥ï¼Œé“¾æ˜¯ç”±æ•°æ®ç»“æ„æ¥ç»´æŠ¤çš„ï¼Œ äºæ˜¯æˆ‘ä»¬å°±å¯ä»¥è§£å†³è¯¥è·¯å¾„é—®é¢˜äº†ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¯¹äºä¸€èˆ¬è·¯å¾„è€Œè¨€,æˆ‘ä»¬ç›´æ¥å¼ºåˆ¶æ¢æ ¹æ¥è§£å†³ æˆ‘ä»¬è¯¥é€‰å–ä½•ç§æ•°æ®ç»“æ„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å…ˆæ¥æ€»ç»“ä¸€ä¸‹æ“ä½œ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ“ä½œ1:æŠŠå®è¾¹å˜ä¸ºè™šè¾¹,å¯¹åº”åˆ°é“¾ä¸Š å°±æ˜¯æŠŠä¸€æ¡é“¾åˆ‡æ–­ï¼Œåœ¨æ•°æ®ç»“æ„ä¸­ä½“ç°ä¸ºåˆ†è£‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ“ä½œ2:æŠŠå®è¾¹å˜ä¸ºè™šè¾¹,å¯¹åº”åˆ°é“¾ä¸Š å°±æ˜¯æŠŠä¸¤æ¡é“¾åˆå¹¶ï¼Œåœ¨æ•°æ®ç»“æ„ä¸­ä½“ç°ä¸ºåˆå¹¶ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ“ä½œ3:æ¢æ ¹ï¼Ÿè¿™ä¸ªè¾ƒå¤æ‚ï¼Œæš‚æ—¶ä¸è€ƒè™‘ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ“ä½œ4:è·¯å¾„è¯¢é—®ï¼Œåœ¨æ•°æ®ç»“æ„ä¸­ä½“ç°ä¸º æ•´ä¸ªæ•°æ®ç»“æ„ç»´æŠ¤çš„åºåˆ—çš„æ€§è´¨ï¼Œä¹Ÿå³å…¨æ®µåŒºé—´è¯¢é—®ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ“ä½œ5:è·¯å¾„ä¿®æ”¹ï¼Œåœ¨æ•°æ®ç»“æ„ä¸­ä½“ç°ä¸º æ•´ä¸ªæ•°æ®ç»“æ„ç»´æŠ¤çš„åºåˆ—çš„æ€§è´¨ï¼Œä¹Ÿå³å…¨æ®µåŒºé—´ä¿®æ”¹ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;splayå¯ä»¥èƒœä»»ï¼Œå®ƒæ”¯æŒåˆ†è£‚åˆå¹¶ä»¥åŠåŒºé—´è¯¢é—®ã€ä¿®æ”¹,å¦‚æœæˆ‘ä»¬æŠŠæ•´æ¡é“¾æ”¾å…¥splay,ç”¨å…¶ä¸­åºéå†ç»“æœæ¥ ç»´æŠ¤é“¾ï¼Œæ¯ä¸€ä¸ªsplayå†è®°å½•ä¸€ä¸ªçˆ¶äº²ï¼Œä¹Ÿå³æ˜¯æ­¤splayç»´æŠ¤çš„é“¾çš„çˆ¶äº²æ˜¯è°ï¼Ÿå®šä¹‰:é“¾çš„çˆ¶äº²ä¸ºé“¾ä¸Šæ·±åº¦æœ€å°çš„èŠ‚ç‚¹çš„çˆ¶äº²ã€‚ï¼Œå¯ä»¥ è¯æ˜ï¼Œè¿™äº›ä¿¡æ¯åˆå¹¶èµ·æ¥ï¼Œå¯¹åº”åˆ°æ ‘æ˜¯å”¯ä¸€çš„ï¼Œäºæ˜¯é—®é¢˜åŸºæœ¬è§£å†³ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç°åœ¨æˆ‘ä»¬æ¥è€ƒè™‘æ¢æ ¹ï¼Œæ¢æ ¹æ˜¯æ€ä¹ˆä¸€å›äº‹?æˆ‘ä»¬æ¥çœ‹ä¸Šæ–‡çš„æœ€åä¸€å¼ å›¾ï¼Œæ ¹ä¸º1ï¼Œå¦‚æœæˆ‘ä»¬æƒ³æŠŠæ ¹æ¢ä¸º44ï¼Œæ€å˜›åŠå‘¢ï¼Ÿ å¦‚æœä½ è¶³å¤Ÿèªæ˜ï¼Œæ˜¯å¯ä»¥æƒ³åˆ°åšæ³•çš„ï¼Œå®é™…ä¸Šæˆ‘ä»¬åªéœ€è¦å°†é“¾1->2->5->11->22->44åè½¬å³å¯ã€‚è¯æ˜è¿‡ç¨‹å¾ˆç®€å•ï¼Œæ­¤å¤„ä¸åšè¯æ˜ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è‡³æ­¤ï¼Œlctæµç¨‹åŸºæœ¬é˜è¿°å®Œæˆï¼Œåé¢è®²è§£ç»†èŠ‚æ“ä½œã€‚ æ ¸å¿ƒæ“ä½œaccess &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å‡½æ•°access(x)ï¼Œè¢«è°ƒç”¨åï¼Œæˆ‘ä»¬ä¼šè®©èµ·ç‚¹åœ¨æ ¹ï¼Œç»ˆç‚¹åœ¨xçš„é“¾å‰–å‡ºï¼Œæ­¤é“¾ä¸ºè¿‡æ ¹èŠ‚ç‚¹çš„å®é“¾ã€‚æ“ä½œå¾ˆç®€å•ï¼Œæˆ‘ä»¬ å…ˆå°†xä¼¸å±•åˆ°å®ƒæ‰€åœ¨çš„é‚£ä¸ªsplayçš„æ ¹ï¼Œç„¶åå°†å®ƒå’Œä»–çš„å³å­æ ‘æ–­å¼€ï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºä»–çš„å³å­æ ‘ç»ä¸åœ¨æˆ‘ä»¬è¦çš„å®é“¾ä¸Šï¼Œç„¶åå°†å®ƒåˆå¹¶åˆ°æ­¤é“¾çš„çˆ¶äº²ä¸Šï¼Œä½†æ˜¯æ­¤é“¾çš„çˆ¶äº²å¯èƒ½å·²ç»æœ‰äº† å®å„¿å­ï¼Œé‚£æˆ‘ä»¬å°±å°†å®ƒæ–­å¼€ï¼Œç„¶ååœ¨æŠŠxå­æ ‘åˆå¹¶ä¸Šå»ï¼Œè™½ç„¶æ˜¯è¿™ä¹ˆè¯´çš„ä½†æ˜¯æˆ‘ä»¬å®é™…ä»£ç ç¡®å®å…ˆåˆå¹¶å­æ ‘ï¼Œç„¶åæ–­é“¾ï¼Œå…¶å®æ˜¯ä¸€æ ·çš„ã€‚ç„¶åå¯¹å…¶çˆ¶äº²ä½œæ­¤æ“ä½œï¼Œå°±ç»“æŸäº† åé¢çš„å…¶ä»–æ²¡å•¥æŠ€æœ¯å«é‡ï¼Œä¹Ÿç‰¹åˆ«ç®€å•ï¼Œå°±ä¸è®²äº†ï¼Œä»£ç å¦‚ä¸‹ struct Link_Cut_Tree{ static const int N=1e5+555; int top,c[N][2],fa[N],xr[N],sta[N],rev[N],val[N]; void init(int n){ memset(fa,0,n&lt;&lt;2); memset(rev,0,n&lt;&lt;2); memset(c,0,n&lt;&lt;3); } inline void pushup(int x){xr[x]=xr[c[x][0]]^xr[c[x][1]]^val[x];} inline void pushdown(int x){ int l=c[x][0],r=c[x][1]; if(rev[x]){ rev[l]^=1;rev[r]^=1;rev[x]^=1; swap(c[x][0],c[x][1]); } } inline bool isroot(int x){return c[fa[x]][0]!=x&amp;&amp;c[fa[x]][1]!=x;} void rotate(int x){ int y=fa[x],z=fa[y],xis=c[y][1]==x,yis=c[z][1]==y;// if(!isroot(y))c[z][yis]=x;//son fa[x]=z;fa[y]=x;fa[c[x][xis^1]]=y;//father c[y][xis]=c[x][xis^1];c[x][xis^1]=y;//son pushup(y);pushup(x); } void splay(int x){ top=1;sta[top]=x;//init stack for(int i=x;!isroot(i);i=fa[i])sta[++top]=fa[i];//update stack for(int i=top;i;i--)pushdown(sta[i]);//pushroad while(!isroot(x)){ int y=fa[x],z=fa[y]; if(!isroot(y)){ if((c[y][0]==x)^(c[z][0]==y))rotate(x); else rotate(y); }rotate(x); } } void access(int x){for(int t=0;x;t=x,x=fa[x])splay(x),c[x][1]=t,pushup(x);} int treeroot(int x){access(x);splay(x);while(c[x][0])x=c[x][0];return x;} void makeroot(int x){access(x);splay(x);rev[x]^=1;} void cut(int x){access(x);splay(x);fa[c[x][0]]=fa[x];c[x][0]=0;fa[x]=0;}//cut the subtree x and let x to be the root void link(int x,int y){makeroot(x);fa[x]=y;} }tr;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"stencil","slug":"ACM/è€Blogè¿ç§»/stencil","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/"},{"name":"data_struct","slug":"ACM/è€Blogè¿ç§»/stencil/data-struct","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/data-struct/"}],"tags":[]},{"title":"map","slug":"ACM/è€Blogè¿ç§»/stencil/data_struct/map","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"map.html","link":"","permalink":"http://fightinggg.github.io/indigo/map.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog map struct mymap { static const int N=(1&lt;&lt;22); int key[N], val[N]; int query(int x) { int i = x &amp; (N - 1); while (key[i] != -1 &amp;&amp; key[i] != x) i = (i + 1) &amp; (N - 1); return val[i]; } void update(int x, int id) {// can&#39;t find then return -1 int i = x &amp; (N - 1); while (key[i] != -1 &amp;&amp; key[i] != x) i = (i + 1) &amp; (N - 1); key[i] = x, val[i] = id; } void clear() { memset(key, -1, sizeof(key)); memset(val, -1, sizeof(val)); } };","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"stencil","slug":"ACM/è€Blogè¿ç§»/stencil","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/"},{"name":"data_struct","slug":"ACM/è€Blogè¿ç§»/stencil/data-struct","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/data-struct/"}],"tags":[]},{"title":"rmq","slug":"ACM/è€Blogè¿ç§»/stencil/data_struct/rmq","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"rmq.html","link":"","permalink":"http://fightinggg.github.io/indigo/rmq.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog rmqå€å¢ struct RMQ{ static const int maxn=1000,lgmaxn=12; static int lg[maxn]; int mx[maxn][lgmaxn]; RMQ(){//æ„é€ å‡½æ•° if(lg[2]!=1){ for(int i=2;i&lt;maxn;i++){ //å› ä¸ºlg(1)=0 lg[i]=(i&amp;-i)==i?lg[i-1]+1:lg[i-1]; } } } void build(int n,int *a){ for(int i=0;i&lt;=n;i++)mx[i][0]=a[i]; for(int j=1;j&lt;=lg[n+1];j++) for(int i=0;i+(1&lt;&lt;j)-1&lt;=n;i++) mx[i][j]=max(mx[i][j-1],mx[i+(1&lt;&lt;(j-1))][j-1]); } int query(int l,int r){ int k=lg[r-l+1]; return max(mx[l][k],mx[r-(1&lt;&lt;k)+1][k]); } }; inline int max(int a,int b,int c,int d){return max(max(a,b),max(c,d));} struct RMQ2{//å†™çš„æ—¶å€™ä¸‹æ ‡ä»0å¼€å§‹ï¼Œå¯ä»¥å½“ä½œä¸‹æ ‡ä¸º1å¼€å§‹æ¥ä½¿ç”¨ static const int maxn=310,lgmaxn=9;//ç¡®ä¿ ( 1&lt;&lt;(lgmaxn-1) ) &gt; maxn static int lg[maxn];//log2(x)å‘ä¸‹å–æ•´ int mx[maxn][maxn][lgmaxn][lgmaxn]; RMQ2(){//æ„é€ å‡½æ•°ä¸ç”¨ç®¡çš„ if(lg[2]!=1){ for(int i=2;i&lt;maxn;i++){ //å› ä¸ºlg(1)=0 lg[i]=(i&amp;-i)==i?lg[i-1]+1:lg[i-1]; } } } void build(int row,int col,int a[][maxn]){//[0,row],[0,col] for(int i=0;i&lt;=row;i++)for(int j=0;j&lt;=col;j++)mx[i][j][0][0]=a[i][j]; for(int ii=0; (1&lt;&lt;ii)&lt;=row+1; ii++){ for(int jj=0; (1&lt;&lt;jj)&lt;=col+1; jj++){ for(int i=0; i+(1&lt;&lt;ii)-1&lt;=row; i++){ for(int j=0; j+(1&lt;&lt;jj)-1&lt;=col; j++){ if (ii!=0)mx[i][j][ii][jj]=max(mx[i][j][ii-1][jj],mx[i+(1&lt;&lt;(ii-1))][j][ii-1][jj]); else if(jj!=0)mx[i][j][ii][jj]=max(mx[i][j][ii][jj-1],mx[i][j+(1&lt;&lt;(jj-1))][ii][jj-1]); } } } } } int query(int r1,int c1,int r2,int c2){ if(r1&gt;r2)swap(r1,r2); if(c1&gt;c2)swap(c1,c2); int kr=lg[r2-r1+1], r3=r2+1-(1&lt;&lt;kr); int kc=lg[c2-c1+1], c3=c2+1-(1&lt;&lt;kc); return max(mx[r1][c1][kr][kc],mx[r1][c3][kr][kc], mx[r3][c3][kr][kc],mx[r3][c1][kr][kc]); } };int RMQ2::lg[maxn]; /****************** oné¢„å¤„ç† O1åœ¨çº¿æŸ¥è¯¢rmq *****************/ double Ospace(double n,double blk){ return pow(2,blk)+2*n/blk+blk+5*n+2*n/blk*ceil(log(2*n/blk)/log(2))+2*n/blk; } const int maxn=2e7+21,blk=20,lgmxn=22;// 2^b+2n/b+b + 2n+2n+n+2n/b*lg+2n/b) = 2^b+5n+b+2n/b(2+lg) int pre[1&lt;&lt;blk],lg[(maxn&lt;&lt;1)/blk],hi[blk]; void prework(){ hi[0]=0; for(int i=1;i&lt;blk;i++) hi[i]=hi[i-1]&gt;&gt;1|(1&lt;&lt;(blk-1)); lg[1]=0; for(int i=2;i*blk&lt;(maxn&lt;&lt;1);i++) lg[i]=lg[i&gt;&gt;1]+1; vector&lt;int&gt;sum(1&lt;&lt;blk);// èŠ‚çº¦ç©ºé—´ int b=(1&lt;&lt;blk)-1; for(int i=0;i&lt;(1&lt;&lt;blk);i++){ sum[i^b]=i&amp;1?-1:1;pre[i^b]=0; if(sum[i&gt;&gt;1^b]&lt;0) sum[i^b]+=sum[i&gt;&gt;1^b],pre[i^b]=pre[i&gt;&gt;1^b]+1; } } struct o1rmq{ int dep[maxn&lt;&lt;1],p[maxn&lt;&lt;1],fst[maxn]; int rmq[(maxn&lt;&lt;1)/blk][lgmxn],bin[(maxn&lt;&lt;1)/blk]; int *ls=rmq[0],*rs=ls+maxn;// å†…å­˜å¤ç”¨ void upd(int&amp;x,int y){if(dep[x]&gt;dep[y]) x=y;} void build(int n,int*dat){// [0,n) int *s=fst,top=0,step=-1;// å†…å­˜å¤ç”¨, ä½¿ç”¨å•è°ƒæ ˆä¸ºdatå»ºç«‹ç¬›å¡å°”æ ‘ for(int i=0;i&lt;n;i++){ ls[i]=rs[i]=-1; while(top&gt;0&amp;&amp;dat[i]&lt;dat[s[top]]) ls[i]=s[top--]; // &lt; is min and &gt; is max if(top&gt;0)rs[s[top]]=i; s[++top]=i; } dfs(s[1],1,step);//å¯¹ç¬›å¡å°”æ ‘è¿›è¡Œettåˆ†è§£ï¼Œæ­¤åls,rs,æ ˆså°†æ— ç”¨å¤„ï¼Œå¯ä»¥ä¸¢å¼ƒã€‚ int exn=(2*n-1+blk-1)/blk;//å¯¹ettåˆ†å— æ‹“å±•åˆ°blkçš„å€æ•° for(int i=2*n-1;i&lt;exn*blk;i++)dep[i]=dep[i-1]+1; for(int i=0;i&lt;exn;i++){ bin[i]=0; for(int j=0;j&lt;blk;j++) if(j==0||dep[i*blk+j]&gt;dep[i*blk+j-1]) bin[i]|=1&lt;&lt;j; rmq[i][0]=i*blk+pre[bin[i]]; } for(int j=1;0+(1&lt;&lt;j)&lt;=exn;j++){// å¯¹å—è¿›è¡Œrmq for(int i=0;i+(1&lt;&lt;j)&lt;=exn;i++){//[i,i+1&lt;&lt;j) rmq[i][j]=rmq[i][j-1]; upd(rmq[i][j],rmq[i+(1&lt;&lt;(j-1))][j-1]); } } } void dfs(int u,int d,int&amp;step){ p[++step]=u; dep[step]=d; fst[u]=step; if(ls[u]!=-1){ dfs(ls[u],d+1,step); p[++step]=u; dep[step]=d; } if(rs[u]!=-1){ dfs(rs[u],d+1,step); p[++step]=u; dep[step]=d; } } int query(int l,int r){//[l,r] query max value, return idx of min value l=fst[l],r=fst[r]; if(l&gt;r)swap(l,r); int l1=l/blk,l2=l%blk,r1=r/blk,r2=r%blk; if(l1==r1) return p[l+pre[bin[l1]&gt;&gt;l2|hi[blk-(r2-l2+1)]]]; else{ int bl=l1*blk==l?l1:l1+1,br=r1*blk+blk-1==r?r1:r1-1; int ret=l; if(bl&lt;=br) { int k=lg[br-bl+1]; upd(ret,rmq[bl][k]); upd(ret,rmq[br-(1&lt;&lt;k)+1][k]); } if(l1!=bl) upd(ret,l+pre[bin[l1]&gt;&gt;l2|hi[blk-(blk-1-l2+1)]]); if(r1!=br) upd(ret,((br+1)*blk)+pre[bin[r1]|hi[blk-(r2-0+1)]]); return p[ret]; } } }rmq; åˆ†å—rmq /****************** O(7n)-O(3) rmq *****************/ int ospace(int n,int base){return (n&gt;&gt;base)+(n&gt;&gt;base)*ceil(log(n&gt;&gt;base)/log(2))+n*(base+1);} const int base=5,blk=1&lt;&lt;base,maxn=2e7+7+blk,lgnb=21; int lg[maxn&gt;&gt;base]; void prework(){ lg[1]=0; for(int i=2;i*blk&lt;maxn;i++) lg[i]=lg[i&gt;&gt;1]+1; } struct normalrmq{ int rmq[blk][base+1]; void build(int n,int*a){//[0,n) for(int i=0;i&lt;n;i++)rmq[i][0]=a[i]; for(int j=1;0+(1&lt;&lt;j)-1&lt;n;j++) for(int i=0;i+(1&lt;&lt;j)-1&lt;n;i++) rmq[i][j]=max(rmq[i][j-1],rmq[i+(1&lt;&lt;(j-1))][j-1]); } int query(int l,int r){ int k=lg[r-l+1]; return max(rmq[l][k],rmq[r-(1&lt;&lt;k)+1][k]); } }; struct O7nO3rmq{ int rmq[maxn/blk][lgnb]; normalrmq rmq2[maxn/blk]; void build(int n,int*a){// int exn=(n+blk-1)/blk; for(int i=0;i&lt;exn;i++){ rmq2[i].build(blk,a+i*blk); rmq[i][0]=rmq2[i].query(0,blk-1); } for(int j=1;0+(1&lt;&lt;j)-1&lt;exn;j++) for(int i=0;i+(1&lt;&lt;j)-1&lt;exn;i++) rmq[i][j]=max(rmq[i][j-1],rmq[i+(1&lt;&lt;(j-1))][j-1]); } int query(int l,int r){ int l1=l/blk,l2=l%blk,r1=r/blk,r2=r%blk; if(l1==r1) return rmq2[l1].query(l2,r2); else { int bl=l1*blk==l?l1:l1+1,br=r1*blk+blk-1==r?r1:r1-1; int ret=1&lt;&lt;31; if(bl&lt;=br) { int k=lg[br-bl+1]; ret=max(rmq[bl][k],rmq[br-(1&lt;&lt;k)+1][k]); } if(l1!=bl) ret=max(ret,rmq2[l1].query(l2,blk-1)); if(r1!=br) ret=max(ret,rmq2[r1].query(0,r2)); return ret; } } }rmq;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"stencil","slug":"ACM/è€Blogè¿ç§»/stencil","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/"},{"name":"data_struct","slug":"ACM/è€Blogè¿ç§»/stencil/data-struct","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/data-struct/"}],"tags":[]},{"title":"splay","slug":"ACM/è€Blogè¿ç§»/stencil/data_struct/splay","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"splay.html","link":"","permalink":"http://fightinggg.github.io/indigo/splay.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog splay struct splay_tree{ static const int maxn=2e6+10; int ch[maxn][2],fa[maxn]; int miv[maxn],val[maxn],add[maxn],rev[maxn],siz[maxn]; int rub[maxn],rub_;//å›æ”¶æ±  int rt,tot; //æ•°æ®ç»“æŸ void pushup(int h){//ç»´æŒï¼Œå›æº¯ int l=ch[h][0],r=ch[h][1]; miv[h]=val[h]; if(l)miv[h]=min(miv[h],miv[l]); if(r)miv[h]=min(miv[h],miv[r]); siz[h]=siz[l]+siz[r]+1; } void pushdown(int h){//ä¸‹æ”¾æ‡’æƒ°æ ‡è®° int l=ch[h][0],r=ch[h][1]; if(add[h]){ add[l]+=add[h];val[l]+=add[h];miv[l]+=add[h]; add[r]+=add[h];val[r]+=add[h];miv[r]+=add[h]; add[h]=0; } if(rev[h]){ rev[l]^=1;rev[r]^=1;rev[h]^=1; swap(ch[h][0],ch[h][1]); } } void rotate(int h){//æ—‹è½¬ int f=fa[h],g=fa[f]; if(g){ int c=(f==ch[g][1]); ch[g][c]=h; } fa[f]=h;fa[h]=g; int c=(h==ch[f][1]); fa[ch[h][!c]]=f; ch[f][c]=ch[h][!c]; ch[h][!c]=f; if(f==rt) rt=h; pushup(f); pushup(h); } void splay(int h,int aim){//ä¼¸å±• static int sta[maxn]; int top=1;sta[top]=h; for(int i=h;fa[i]!=0;i=fa[i])sta[++top]=fa[i]; for(int i=top;i&gt;=1;--i)pushdown(sta[i]); while(fa[h]^aim){ int f=fa[h],g=fa[f]; if(g^aim)rotate(f); rotate(h); } pushup(h); } void newnode(int&amp;h,int f,int val_){ if(rub_!=-1)h=rub[rub_--];//å¦‚æœrubæ˜¯ç©ºçš„ï¼Œæˆ‘ä»¬å°±ä»rubé‡Œé¢æ‰¾ else h=++tot;//å¦åˆ™ä½¿ç”¨æ–°çš„ ch[h][0]=ch[h][1]=0; fa[h]=f; miv[h]=val[h]=val_; add[h]=rev[h]=0; siz[h]=1; } void built(int&amp;x,char*data,int l,int r,int f){ if(l&gt;r)return; int mid=(l+r)&gt;&gt;1; newnode(x,f,data[mid]); built(ch[x][0],data,l,mid-1,x); built(ch[x][1],data,mid+1,r,x); pushup(x); } void ini(){//å»ºåªå«æœ‰ä¸¤ä¸ªèŠ‚ç‚¹çš„ç©ºæ ‘ rub_=-1;tot=0; newnode(rt,0,0); newnode(ch[rt][1],rt,0); pushup(ch[rt][1]); pushup(rt); } void insert(int a,char*data,int l,int r){//æŠŠdataæ·»åŠ åœ¨açš„åé¢ï¼Œ int x=id(a),y=id(a+1); splay(x,0); splay(y,x); built(ch[y][0],data,l,r,y); pushup(y); pushup(x); } int id(int k){//è¿”å›ç¬¬kä¸ªæ•°ï¼Œä¸‹æ ‡æ˜¯ä»1å¼€å§‹çš„ int h; pushdown(rt); for(h=rt;siz[ch[h][0]]+1!=k;){ if(siz[ch[h][0]]+1&gt;k)h=ch[h][0]; else{ k-=(siz[ch[h][0]]+1); h=ch[h][1]; } pushdown(h); } return h; } //ä»¥ä¸Šå‡½æ•°å¿…å¤‡ï¼Œå°½é‡ä¸è¦ä¿®æ”¹ //////////////////////// void rubbish(int&amp;rt){ if(ch[rt][0])rubbish(ch[rt][0]); if(ch[rt][1])rubbish(ch[rt][1]); rub[++rub_]=rt; rt=0; } void erase(int a,int b){ int x=id(a-1), y=id(b+1); splay(x,0); splay(y,x); rubbish(ch[y][0]); pushup(y); pushup(x); } int getmin(int a,int b){ int x=id(a-1), y=id(b+1); splay(x,0); splay(y,x); return miv[ch[y][0]]; } void addval(int a,int b,int d){ int x=id(a-1), y=id(b+1); splay(x,0); splay(y,x); int w=ch[y][0]; add[w]+=d; val[w]+=d; miv[w]+=d; pushup(y); pushup(x); } void reserve(int a,int b){ int x=id(a-1), y=id(b+1); splay(x,0); splay(y,x); rev[ch[y][0]]^=1; } }tree;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"stencil","slug":"ACM/è€Blogè¿ç§»/stencil","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/"},{"name":"data_struct","slug":"ACM/è€Blogè¿ç§»/stencil/data-struct","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/data-struct/"}],"tags":[]},{"title":"ä¸»å¸­æ ‘","slug":"ACM/è€Blogè¿ç§»/stencil/data_struct/ä¸»å¸­æ ‘","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"ä¸»å¸­æ ‘.html","link":"","permalink":"http://fightinggg.github.io/indigo/%E4%B8%BB%E5%B8%AD%E6%A0%91.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog ä¸»å¸­æ ‘ ------ 2019.4.30 ä»€ä¹ˆæ˜¯ä¸»å¸­æ ‘ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸»å¸­æ ‘æ˜¯å¯æŒä¹…åŒ–æƒå€¼çº¿æ®µæ ‘,æ”¯æŒç‚¹ä¿®æ”¹,åŒºé—´æŸ¥è¯¢ã€‚ é™æ€æ•°ç»„åŒºé—´ç¬¬kå¤§ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å…ˆæ¥ä¸ªé¢˜ï¼Œç»™ä¸€ä¸ªæ•°ç»„ï¼Œå¤šç»„è¯¢é—®ï¼Œæ¯æ¬¡è¯¢é—®åŒºé—´ç¬¬kå¤§(å°), ä¸ºæ•°ç»„çš„æ¯ä¸€ä¸ªå‰ç¼€å»ºç«‹ä¸€é¢—çº¿æ®µæ ‘ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä½†æ˜¯è¿™æ ·å­ï¼Œç©ºé—´ä¼šçˆ†ç‚¸ï¼Œæ—¶é—´ä¹Ÿä¸€æ ·çˆ†ç‚¸ï¼Œä½†æ˜¯æˆ‘ä»¬å‘ç°å‰ç¼€ ä¹‹é—´æ˜¯æœ‰è”ç³»çš„ï¼Œä¸¤ä¸ªç›¸é‚»çš„å‰ç¼€ä¹‹é—´åªæœ‰ä¸€ä¸ªæƒå€¼çš„å·®è·ï¼Œæ‰€ä»¥å¯ä»¥è€ƒè™‘åˆ©ç”¨ä»¥å‰çš„èŠ‚ç‚¹ä¿¡æ¯ä»¥èŠ‚çœç©ºé—´å’Œæ—¶é—´ã€‚ å…·ä½“å®ç° &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å› ä¸ºä¸¤ä¸ªç›¸é‚»çš„å‰ç¼€ä¹‹é—´åªæœ‰ä¸€ä¸ªæƒå€¼çš„å·®è·ï¼Œæ‰€ä»¥ä¸¤é¢—çº¿æ®µæ ‘æ ‘ä¹‹é—´ åªæœ‰ä¸€æ¡é“¾çš„å·®è·ã€‚æˆ‘ä»¬å°è¯•è®©æ–°æ ‘çš„æŒ‡é’ˆæŒ‡å‘æ—§æ ‘ï¼Œç„¶åå¯¹æ–°æ ‘é‚£æ¡æœ‰åŒºåˆ«çš„é“¾é‡æ–°å¼€è¾Ÿç©ºé—´å³å¯ã€‚ æ—¶ç©ºå¤æ‚åº¦åˆ†æ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å› ä¸ºä¸€æ¡é“¾çš„å·®è·ï¼Œå¯¼è‡´æ¯æ¬¡å»ºæ ‘ï¼Œç©ºé—´è‡³å¤šå¼€è¾Ÿlgn,åŒç†ï¼Œæ—¶é—´ä¸ºlgn å¦‚ä½•è§£å†³é™æ€åŒºé—´ç¬¬kå¤§ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬æœ‰äº†æ¯ä¸€ä¸ªå‰ç¼€çš„æƒå€¼çº¿æ®µæ ‘ï¼Œäºæ˜¯æˆ‘ä»¬è®©ä¸¤ä¸ªå‰ç¼€æƒå€¼çº¿æ®µæ ‘ç›¸å‡ï¼Œå³å¯å¾—åˆ° ä»»æ„åŒºé—´çš„æƒå€¼çº¿æ®µæ ‘,ç°åœ¨é—®é¢˜åŒ–ç®€äº†ï¼Œå·²çŸ¥æŸä¸ªåŒºé—´çš„æƒå€¼çº¿æ®µæ ‘ï¼Œè¯¢é—®åŒºé—´ç¬¬kå¤§ï¼Œæˆ‘ä»¬åœ¨è¿™é¢—æƒå€¼çº¿æ®µæ ‘ä¸ŠäºŒåˆ†ç­”æ¡ˆå³å¯ã€‚äºŒåˆ†æ˜¯è¿™æ ·å®ç°çš„ï¼Œ å¦‚æœå½“å‰è·‘åˆ°äº†å¶å­ç»“ç‚¹ï¼Œè¯´æ˜å¶å­èŠ‚ç‚¹æƒå€¼ä¸ºç­”æ¡ˆï¼Œå¦åˆ™æŠŠkå’Œå½“å‰èŠ‚ç‚¹å·¦å­æ ‘çš„æƒå€¼å’Œæ¯”è¾ƒï¼Œè‹¥kå°ï¼Œè¯´æ˜ç­”æ¡ˆåœ¨å³å­æ ‘ï¼Œå¦åˆ™åœ¨å·¦å­æ ‘ã€‚ ä¸€ä¸ªä¼˜åŒ–ï¼ˆå¯ä»¥å…ˆä¸çœ‹ï¼‰ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¾ˆå¤šäººå†™ä¸»å¸­æ ‘ï¼Œå¸¦ä¸€ä¸ªbuildå‡½æ•°ï¼Œç”¨æ¥å»ºç«‹ä¸€é¢—ç¬¬ä¸€ä¸ªç‰ˆæœ¬çš„æ ‘ï¼Œç†è§£ç¡®å®å¥½ç†è§£ï¼Œ ç„¶è€Œï¼ŒçœŸçš„æœ‰å¿…è¦å—ï¼Ÿå…¶å®æ˜¯æ²¡æœ‰çš„ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹é‚£é¢—æ ‘é•¿å•¥æ ·ï¼Ÿç”±äºæ²¡æœ‰æƒå€¼ï¼Œæ‰€ä»¥é‚£é¢—æ ‘ç»´æŠ¤çš„æ‰€æœ‰èŠ‚ç‚¹çš„æƒå€¼éƒ½æ˜¯0ï¼Œæ³¨æ„ï¼šéƒ½æ˜¯0ã€‚ä¹Ÿå°±æ˜¯è¯´ ä½ æµªè´¹äº†2*nçš„ç©ºé—´ï¼Œå­˜äº†ä¸€å †0ï¼Ÿæ˜¯çš„ï¼Œè¿™é‡Œæˆ‘ä»¬æ¥ä¼˜åŒ–ä¸€ä¸‹ï¼Œæˆ‘ä»¬æ¥çœ‹è¿™æ ·ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä»–çš„æƒå€¼ä¸º0,ä»–çš„å·¦å„¿å­æŒ‡å‘è‡ªå·±ï¼Œä»–çš„å³å„¿å­æŒ‡å‘è‡ªå·±ï¼Œ çœ‹çœ‹ï¼Œè¿™æ˜¯ä¸€ä¸ªåŒ…å«äº†ä¸€ä¸ªèŠ‚ç‚¹çš„éç®€å•å›¾ï¼Œä»–æœ‰è‡ªç¯æ¥ç€ã€‚æˆ‘ä»¬å°è¯•å¯¹è¿™ä¸€ä¸ªèŠ‚ç‚¹å®‰è£…è®¿é—®æ›¾ç»è®¿é—®è¿‡çš„èŠ‚ç‚¹çš„æ–¹å¼å¸¦ç€åŒºé—´ç«¯ç‚¹dfsä¸‹å»ï¼Œä½ ä¼šå‘ç°ä¸€ä¸ªå¥‡å¦™çš„ äº‹æƒ…ï¼Œä½ å¾—åˆ°äº†å’Œä¹‹å‰èŠ±è´¹2*nä¸ªèŠ‚ç‚¹å»ºç«‹ç©ºæ ‘ä¸€æ ·çš„æ•ˆæœã€‚äºæ˜¯æˆ‘ä»¬ä¼˜åŒ–äº†è¿™ä¸€ä¸ªç©ºé—´å¤æ‚åº¦ï¼Œæ­¤ä¼˜åŒ–åœ¨æ­¤ä¸å¤ªæ˜æ˜¾ï¼ŒO(lg)-O(1)ç®—å•¥å‘€ã€‚ä½†æ˜¯ å½“æˆ‘ä»¬å¤„ç†åé¢çš„åŠ¨æ€åŒºé—´é—®é¢˜æ—¶ï¼Œæ­¤ä¼˜åŒ–èµ·åˆ°äº†éå¸¸å¤§çš„ä½œç”¨ï¼Œè¿™å°±æ˜¯å›¾çš„ä¼˜åŠ¿æ‰“ä¸ªå¹¿å‘Šï¼šæ­¤ä¼˜åŒ–åƒæäº†åç¼€è‡ªåŠ¨æœº åŠ¨æ€æ•°ç»„åŒºé—´ç¬¬kå¤§ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å‰é¢çš„é¢˜ç›®å·²ç»è§£å†³äº†,ä½†æ˜¯å½“æ•°ç»„å˜åŒ–(ç‚¹ä¿®æ”¹)ä¼´éšç€åŒºé—´ç¬¬kå¤§æŸ¥è¯¢çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ é‡æ–°ç ”ç©¶ä¸»å¸­æ ‘ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸»å¸­æ ‘ï¼Œè¯´ç™½äº†ï¼Œå°±æ˜¯åŸæ•°ç»„æ‰€æœ‰å‰ç¼€çš„æƒå€¼çº¿æ®µæ ‘+æ—¶ç©ºä¼˜åŒ–ã€‚æŸ¥è¯¢çš„æ—¶å€™åŒä¸ªä¸¤ä¸ª å‰ç¼€å’Œçš„å·®å€¼å¾—åˆ°ä»»æ„åŒºé—´çš„æƒå€¼çº¿æ®µæ ‘ã€‚æˆ‘ä»¬å‘ç°è¿™å’Œä¸€ä¸ªé¢˜ç›®å¾ˆç›¸ä¼¼ã€‚ åŒºé—´å’ŒæŸ¥è¯¢ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æƒ³å¿…ä¸å°‘äººéƒ½åšè¿‡è¿™æ ·çš„ä¸€ä¸ªé¢˜ç›®ï¼Œç»™ä½ ä¸€ä¸ªå›ºå®šçš„æ•°ç»„ï¼Œç»™å‡ºå¾ˆå¤šè¯¢é—®ï¼Œæ¯æ¬¡è¯¢é—® ä¸€ä¸ªåŒºé—´ï¼Œè®©ä½ è¾“å‡ºåŒºé—´å’Œã€‚è¿™ä¸ªé¢˜ç›®å¾ˆç®€å•ï¼Œæˆ‘ä»¬åªéœ€è¦é¢„å¤„ç†å‰ç¼€å’Œï¼Œå¯¹äºä»»æ„è¯¢é—®ï¼Œç”¨ä¸¤ä¸ªå‰ç¼€å’Œå‘å‡å³å¯è§£å†³ï¼Œ å¸¦ä¿®æ”¹çš„åŒºé—´å’ŒæŸ¥è¯¢ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å½“ä¸Šä¸€ä¸ªé¢˜ç›®å‘ç”Ÿå˜åŒ–:æ•°ç»„å¯èƒ½ä¼šç‚¹ä¿®æ”¹ï¼Œç‚¹ä¿®æ”¹ä¼´éšç€åŒºé—´å’ŒæŸ¥è¯¢ï¼Œçš„æ—¶å€™ï¼Œæˆ‘ä»¬ å°±ä¸èƒ½ç”¨å‰ç¼€å’Œäº†ï¼Œè¿™æ ·å¾ˆå›°éš¾ï¼Œäºæ˜¯æ ‘çŠ¶æ•°ç»„å‡ºç°äº†ã€‚é™äºé‡ç‚¹ï¼Œæ­¤å¤„ä¸è§£é‡Šæ ‘çŠ¶æ•°ç»„ å°†æ ‘çŠ¶æ•°ç»„çš„æ€è·¯ç”¨åˆ°ä¸»å¸­æ ‘ä¸Š(å¸¦ä¿®ä¸»å¸­æ ‘) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬è®©ä¸»å¸­æ ‘æ¢ä¸€ç§å»ºæ³•ï¼Œä¸ç”¨å‰ç¼€å’Œï¼Œç”¨æ ‘çŠ¶æ•°ç»„çš„æ–¹æ¡ˆï¼Œæ¯ä¸€é¢—ä¸»å¸­æ ‘rt[i]ç»´æŠ¤ åŒºé—´(i&(i-1),i]çš„æƒå€¼çº¿æ®µæ ‘ã€‚å¦‚æ­¤ä¸€æ¥ï¼Œå½“æˆ‘ä»¬è¿›è¡Œç‚¹ä¿®æ”¹çš„æ—¶å€™ï¼Œåªéœ€è¦ä¿®æ”¹lgé¢—æƒå€¼çº¿æ®µæ ‘ï¼Œå½“æˆ‘ä»¬æŸ¥è¯¢çš„æ—¶å€™ï¼Œè¦lgé¢—çº¿æ®µæ ‘æ‰èƒ½ç»„æˆ ä»»æ„åŒºé—´çš„æƒå€¼çº¿æ®µæ ‘ã€‚ç›¸å½“äºç‰ºç‰²äº†ä¸€éƒ¨åˆ†æŸ¥è¯¢æ—¶é—´ï¼Œæ¢å–æ›´æ–°æ“ä½œçš„åŠ é€Ÿã€‚ å¸¦ä¿®ä¸»å¸­æ ‘ï¼Ÿçº¿æ®µæ ‘åŠ¨æ€å¼€ç‚¹ï¼Ÿ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å½“ä¸»å¸­æ ‘æ–¹å¼å˜äº†ä¹‹åï¼Œæˆ‘ä»¬æƒŠè®¶çš„å‘ç°ï¼Œæƒå€¼çº¿æ®µæ ‘ä¸èƒ½ç®€å•çš„ç»§æ‰¿ä»–çš„å„¿å­äº†ï¼Œä»–æ¯”å„¿å­ å¤šå¥½å¤šæ–°çš„æƒå€¼ä¿¡æ¯è¦ç»´æŠ¤ï¼Œæ¯”æ–¹è¯´1100(12)ï¼Œä»–çš„å„¿å­æ˜¯1000(8),ä»–ä¿©å·®äº†100(4)ä¸ªæƒå€¼,å¦‚æœæˆ‘ä»¬è¿˜æ˜¯é‡‡ç”¨ä¹‹å‰çš„ç»§æ‰¿å„¿å­æƒå€¼çº¿æ®µæ ‘çš„æ–¹å¼ï¼Œç¼–ç ä¼šå¾ˆå¤æ‚ è¿™é‡Œæå‡ºä¸€ç§æ–°çš„æ–¹æ³•:è¶…çº§è¶…çº§è¶…çº§å¤§å¤§å¤§æš´åŠ›å»ºæ ‘ï¼Œæ¯ä¸€ä¸ªæ ‘çŠ¶æ•°ç»„èŠ‚ç‚¹ï¼ˆæƒå€¼çº¿æ®µæ ‘ï¼‰æˆ‘ä»¬éƒ½ä»0å¼€å§‹å»ºæ ‘ã€‚æœ‰å…´è¶£å¯ä»¥å»æ‰“è¡¨è¯•è¯•ï¼Œçœ‹ä¼¼æš´åŠ›å…¶å®ä¸€ç‚¹éƒ½ä¸æš´åŠ›ï¼Œ é™¤éä½ ä¸ç”¨ä¸Šæ–‡è°ˆåˆ°çš„çš„é‚£ä¸ª\"ä¸€ä¸ªä¼˜åŒ–\" æˆ‘ä»¬æœ€å¤šè°ƒç”¨updateå‡½æ•°lg*lgæ¬¡ã€‚äºæ˜¯ï¼Œè¿™ä¸ªå¸¦ä¿®ä¸»å¸­æ ‘ï¼Œè¢«yybæˆä¸ºäº†çº¿æ®µæ ‘åŠ¨æ€å¼€ç‚¹ã€‚ ä¸çŸ¥é“yybï¼Œä½ å¯å¤ªéªšäº†ï¼Œè‡ªå·±ç™¾åº¦å» çº¿æ®µæ ‘å¥—ä¸»å¸­æ ‘ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ­¤å‘å¾…å¡«ã€‚ æ ‘å½¢ä¸»å¸­æ ‘ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸»å¸­æ ‘å¤ªå¼ºäº†ï¼Œæˆ‘ä»¬éªšé‡Œä¸ªéªšï¼ŒæŠŠå®ƒæ”¾åˆ°æ ‘ä¸Šå»ï¼Œæ¥ä¸ªæ ‘å¥—æ ‘ é™æ€æ ‘ä¸Šè·¯å¾„ç¬¬kå¤§ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ˜¯è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼Œç»™ä½ ä¸€æ£µæ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰æƒï¼Œå¾ˆå¤šè¯¢é—®ï¼Œé—®ä½ ä»»æ„ä¸¤ç‚¹ä¹‹é—´çš„æœ€çŸ­è·¯å¾„ä¸Šç»è¿‡çš„ç‚¹ä¸­ ç‚¹æƒç¬¬kå¤§æ˜¯è° æ ‘ä¸Šå·®åˆ† &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å‰ç¼€ä¹Ÿæ²¡è°äº†ï¼Œæ ‘ä¸Šä¸€ä¸ªç‚¹å‰ç¼€å°±æ˜¯è¿™ä¸ªç‚¹åˆ°æ ¹çš„è·¯å¾„ä¸Šç»è¿‡çš„ç‚¹çš„é›†åˆï¼Œæˆ‘ä»¬å®‰è£…è¿™ç§æƒ³æ³•å»ºç«‹ä¸€ä¸ªæ ‘ä¸Šçš„ ä¸»å¸­æ ‘ï¼Œå„¿å­æ˜¯çˆ¶äº²çš„ç»§æ‰¿ç‰ˆæœ¬ä¸­çš„ä¸€ä¸ªï¼Œçˆ¶äº²æ˜¯å„¿å­çš„å‰ä¸€ä¸ªç‰ˆæœ¬ï¼Œæ—¶ç©ºå¤æ‚åº¦ä¸é«˜ï¼Œ æ ‘ä¸Šä»»æ„è·¯å¾„ï¼Ÿ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ¯”æ–¹è¯´u->v ï¼Œæˆ‘ä»¬å‡è®¾lcaä¸ºuå’Œvçš„lcaï¼Œå‡è®¾faä¸ºlcaçš„çˆ¶äº²ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç”¨uçš„æƒå€¼çº¿æ®µæ ‘åŠ ä¸Švçš„æƒå€¼çº¿æ®µæ ‘å‡å»lcaçš„ æƒå€¼çº¿æ®µæ ‘å†å‡å»façš„æƒå€¼çº¿æ®µæ ‘ï¼Œå¾—åˆ°çš„å°±æ˜¯u->vè¿™æ¡è·¯å¾„çš„æƒå€¼çº¿æ®µæ ‘ï¼Œokä½ å·²ç»å­¦å®Œäº†æ­¤åšæ–‡ å¯å˜çš„æ ‘ä¸Šè·¯å¾„ç¬¬kå¤§ https://www.luogu.org/problemnew/solution/P4175 // æ²¡æœ‰build å› ä¸ºä¸éœ€è¦ ç©ºæ ‘å°±æ˜¯rt[0],æ˜¯å»ºå¥½äº†çš„ const int maxn = 2e5+5; int ls[maxn*20*2],rs[maxn*20*2],siz[maxn*20*2],tot,rt[maxn];//updateç”¨äº†å‡ æ¬¡ï¼Œå°±è¦ä¹˜ä»¥å¤šå°‘ void ini(){tot=0;} void update(int pre,int&amp;u,int l,int r,int pos,int val){//æŠŠuæŒ‰ç…§preå¤åˆ¶ï¼Œç„¶åæ›´æ–°pos u=++tot; ls[u]=ls[pre];rs[u]=rs[pre]; siz[u]=siz[pre]+val; if(l==r)return ; int mid=(l+r)&gt;&gt;1; if(pos&lt;=mid) update(ls[pre],ls[u],l,mid,pos,val); else update(rs[pre],rs[u],mid+1,r,pos,val); } int query(int x,int y,int l,int r,int k){//æŸ¥è¯¢ï¼ˆyæ ‘-xæ ‘ï¼‰å·®å€¼çš„åŒºé—´ç¬¬kå° if(l==r)return l; int s=siz[ls[y]]-siz[ls[x]]; int mid=(l+r)&gt;&gt;1; if(k&lt;=s) return query(ls[x],ls[y],l,mid,k); else return query(rs[x],rs[y],mid+1,r,k-s); } int query(int x,int l,int r,int k){//æŸ¥è¯¢æ ‘ä¸Šæœ‰å¤šå°‘ä¸ªæ•°å¤§äºç­‰äºk,ç”¨äºè¯¢é—®åŒºé—´ä¸åŒæ•°çš„ä¸ªæ•° if(l==r) return k&lt;=l?siz[x]:0; int mid=(l+r)&gt;&gt;1; if(k&lt;=mid) return siz[rs[x]]+query(ls[x],l,mid,k); else return query(rs[x],mid+1,r,k); } ////////////////////////////////////////////////////////////////////////////////////////// //æ ‘çŠ¶æ•°ç»„å¥—ä¸»å¸­æ ‘ int ls[maxn*20*20],rs[maxn*20*20],siz[maxn*20*20]; int rt[maxn],Tl[maxn],Tr[maxn],Tl_,Tr_,tot; // n-&gt; æ ‘çŠ¶æ•°ç»„èŠ‚ç‚¹ä¸ªæ•° maxval-&gt;ä¸»å¸­æ ‘å¶å­ç»“ç‚¹ // for(int j=x;j&lt;=n;j+=j&amp;-j) update(rt[j],1,maxval,pos,+1/-1); //æ³¨æ„poså†™ä¸è¦å¤§å¸¸æ•° void update(int&amp;u,int l,int r,int pos,int val){ if(u==0) u=++tot;//,ls[u]=rs[u]=siz[u]=0; siz[u]+=val; if(l==r) return; int mid=(l+r)&gt;&gt;1; if(pos&lt;=mid) update(ls[u],l,mid,pos,val); else update(rs[u],mid+1,r,pos,val); } //query(x-1,y,1,maxval,z) int query(int x,int y,int l,int r,int k){ Tl_=Tr_=0; for(int i=x;i;i&amp;=i-1)Tl[Tl_++]=rt[i]; for(int i=y;i;i&amp;=i-1)Tr[Tr_++]=rt[i]; while(l&lt;r){ int sum=0, mid=(l+r)&gt;&gt;1; for(int i=0;i&lt;Tl_;i++) sum-=siz[ls[Tl[i]]]; for(int i=0;i&lt;Tr_;i++) sum+=siz[ls[Tr[i]]]; if(k&lt;=sum) { for(int i=0;i&lt;Tl_;i++) Tl[i]=ls[Tl[i]]; for(int i=0;i&lt;Tr_;i++) Tr[i]=ls[Tr[i]]; r=mid; } else{ for(int i=0;i&lt;Tl_;i++) Tl[i]=rs[Tl[i]]; for(int i=0;i&lt;Tr_;i++) Tr[i]=rs[Tr[i]]; l=mid+1; k-=sum; } } return l; } ////////////////////////////////////////////////////////////////////////////////////////// int ls[maxn*20],rs[maxn*20],siz[maxn*20]; int tot,rt[maxn]; struct star{int v,nex;}g[maxn&lt;&lt;1]; int head[maxn],g_; int w[maxn],fa[maxn][20],dep[maxn]; //tree void ini(int n){ g_=0; memset(head,-1,(n+1)*sizeof(head[0])); } void add_edge(int u,int v){ g[g_].v=v; g[g_].nex=head[u]; head[u]=g_++; g[g_].v=u; g[g_].nex=head[v]; head[v]=g_++; } //lca void build_lca(int cur=1,int father=0){ dep[cur]=dep[father]+1; fa[cur][0]=father; for (int i=1;i&lt;20;i++) fa[cur][i]=fa[fa[cur][i-1]][i-1]; for(int i=head[cur];~i;i=g[i].nex){ if(g[i].v==father)continue; build_lca(g[i].v,cur); } } int lca(int u,int v){ if(dep[u]&gt;dep[v])swap(u,v);//so dep[u]&lt;dep[v] for(int i=19;i&gt;=0;i--){ if(dep[v]-(1&lt;&lt;i)&gt;=dep[u])v=fa[v][i]; } if(u==v)return u; for(int i=19;i&gt;=0;i--){ if(fa[u][i]!=fa[v][i]){ u=fa[u][i]; v=fa[v][i]; } } return fa[u][0]; } //seg tree void update(int pre,int&amp;u,int l,int r,int pos){ u=++tot; ls[u]=ls[pre],rs[u]=rs[pre]; siz[u]=siz[pre]+1; if(l==r)return ; int mid=(l+r)&gt;&gt;1; if(pos&lt;=mid) update(ls[pre],ls[u],l,mid,pos); else update(rs[pre],rs[u],mid+1,r,pos); } void build_seg(int cur=1,int fa=0){//root update(rt[fa],rt[cur],1,disc_,w[cur]); for(int i=head[cur];~i;i=g[i].nex){ if(g[i].v==fa)continue; build_seg(g[i].v,cur); } } // query(rt[u],rt[v],rt[lca],rt[fa[lca][0]],1,maxval,kth); int query(int u,int v,int lca,int fa,int l,int r,int k){ if(l==r)return l; int s=siz[ls[u]]+siz[ls[v]]-siz[ls[lca]]-siz[ls[fa]]; int mid=(l+r)&gt;&gt;1; if(k&lt;=s) return query(ls[u],ls[v],ls[lca],ls[fa],l,mid,k); else return query(rs[u],rs[v],rs[lca],rs[fa],mid+1,r,k-s); } //////////////////////////////////////////////////////////////////////////////////////////","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"stencil","slug":"ACM/è€Blogè¿ç§»/stencil","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/"},{"name":"data_struct","slug":"ACM/è€Blogè¿ç§»/stencil/data-struct","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/data-struct/"}],"tags":[]},{"title":"åˆ’åˆ†æ ‘","slug":"ACM/è€Blogè¿ç§»/stencil/data_struct/åˆ’åˆ†æ ‘","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"åˆ’åˆ†æ ‘.html","link":"","permalink":"http://fightinggg.github.io/indigo/%E5%88%92%E5%88%86%E6%A0%91.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog åˆ’åˆ†æ ‘ hahahahahaha","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"stencil","slug":"ACM/è€Blogè¿ç§»/stencil","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/"},{"name":"data_struct","slug":"ACM/è€Blogè¿ç§»/stencil/data-struct","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/data-struct/"}],"tags":[]},{"title":"åŒºé—´åŠ +åŒºé—´ä¹˜+åŒºé—´æ±‚å’Œçš„åŒæ ‡è®°çº¿æ®µæ ‘","slug":"ACM/è€Blogè¿ç§»/stencil/data_struct/åŒºé—´åŠ +åŒºé—´ä¹˜+åŒºé—´æ±‚å’Œçš„åŒæ ‡è®°çº¿æ®µæ ‘","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"åŒºé—´åŠ +åŒºé—´ä¹˜+åŒºé—´æ±‚å’Œçš„åŒæ ‡è®°çº¿æ®µæ ‘.html","link":"","permalink":"http://fightinggg.github.io/indigo/%E5%8C%BA%E9%97%B4%E5%8A%A0+%E5%8C%BA%E9%97%B4%E4%B9%98+%E5%8C%BA%E9%97%B4%E6%B1%82%E5%92%8C%E7%9A%84%E5%8F%8C%E6%A0%87%E8%AE%B0%E7%BA%BF%E6%AE%B5%E6%A0%91.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog çº¿æ®µæ ‘ typedef long long ll; #define ls (rt&lt;&lt;1) #define rs (ls|1) #define ml ((l+r)&gt;&gt;1) #define mr (ml+1) const ll maxn=1e5+55; ll mod=123456789; ll mul[maxn&lt;&lt;2],add[maxn&lt;&lt;2],sum[maxn&lt;&lt;2],a[maxn]; void push_down(ll rt,ll l,ll r){ // if(l!=r) push_down(ls,l,ml),push_down(rs,mr,r); if(mul[rt]!=1){ mul[ls]=mul[ls]*mul[rt]%mod; add[ls]=add[ls]*mul[rt]%mod; sum[ls]=sum[ls]*mul[rt]%mod; mul[rs]=mul[rs]*mul[rt]%mod; add[rs]=add[rs]*mul[rt]%mod; sum[rs]=sum[rs]*mul[rt]%mod; mul[rt]=1; } if(add[rt]!=0){ add[ls]=(add[ls]+add[rt])%mod; sum[ls]=(sum[ls]+add[rt]*(ml-l+1))%mod; add[rs]=(add[rs]+add[rt])%mod; sum[rs]=(sum[rs]+add[rt]*(r-mr+1))%mod; add[rt]=0; } } void push_up(ll rt,ll l,ll r){ sum[rt]=(sum[ls]+sum[rs])%mod; } void build(ll rt,ll l,ll r){ mul[rt]=1; add[rt]=0; if(l==r){ sum[rt]=a[l]; } else{ build(ls,l,ml); build(rs,mr,r); push_up(rt,l,r); } } void update_add(ll rt,ll l,ll r,ll ql,ll qr,ll d){ if(l!=r)push_down(rt,l,r); if(ql&lt;=l&amp;&amp;r&lt;=qr){ sum[rt]=(sum[rt]+(r-l+1)*d)%mod; add[rt]=d; } else{ if(ml&gt;=ql) update_add(ls,l,ml,ql,qr,d); if(mr&lt;=qr) update_add(rs,mr,r,ql,qr,d); push_up(rt,l,r); } } void update_mul(ll rt,ll l,ll r,ll ql,ll qr,ll d){ if(l!=r)push_down(rt,l,r); if(ql&lt;=l&amp;&amp;r&lt;=qr){ sum[rt]=sum[rt]*d%mod; mul[rt]=d; } else{ if(ml&gt;=ql) update_mul(ls,l,ml,ql,qr,d); if(mr&lt;=qr) update_mul(rs,mr,r,ql,qr,d); push_up(rt,l,r); } } ll query_sum(ll rt,ll l,ll r,ll ql,ll qr){ if(l!=r)push_down(rt,l,r); if(ql&lt;=l&amp;&amp;r&lt;=qr){ return sum[rt]; } else{ ll ret=0; if(ml&gt;=ql) ret+=query_sum(ls,l,ml,ql,qr); if(mr&lt;=qr) ret+=query_sum(rs,mr,r,ql,qr); return ret%mod; } }","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"stencil","slug":"ACM/è€Blogè¿ç§»/stencil","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/"},{"name":"data_struct","slug":"ACM/è€Blogè¿ç§»/stencil/data-struct","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/data-struct/"}],"tags":[]},{"title":"åŒºé—´åŠ +åŒºé—´ä¹˜+åŒºé—´èµ‹å€¼+åŒºé—´pæ¬¡æ–¹æ±‚å’Œçš„ä¸‰æ ‡è®°çº¿æ®µæ ‘","slug":"ACM/è€Blogè¿ç§»/stencil/data_struct/åŒºé—´åŠ +åŒºé—´ä¹˜+åŒºé—´èµ‹å€¼+åŒºé—´pæ¬¡æ–¹æ±‚å’Œçš„ä¸‰æ ‡è®°çº¿æ®µæ ‘","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"åŒºé—´åŠ +åŒºé—´ä¹˜+åŒºé—´èµ‹å€¼+åŒºé—´pæ¬¡æ–¹æ±‚å’Œçš„ä¸‰æ ‡è®°çº¿æ®µæ ‘.html","link":"","permalink":"http://fightinggg.github.io/indigo/%E5%8C%BA%E9%97%B4%E5%8A%A0+%E5%8C%BA%E9%97%B4%E4%B9%98+%E5%8C%BA%E9%97%B4%E8%B5%8B%E5%80%BC+%E5%8C%BA%E9%97%B4p%E6%AC%A1%E6%96%B9%E6%B1%82%E5%92%8C%E7%9A%84%E4%B8%89%E6%A0%87%E8%AE%B0%E7%BA%BF%E6%AE%B5%E6%A0%91.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog çº¿æ®µæ ‘ //hdu 4578 #define ls (rt&lt;&lt;1) #define rs (ls|1) #define ml ((l+r)&gt;&gt;1) #define mr (ml+1) const int maxn=1e5+55; int mod=10007; int mul[maxn&lt;&lt;2],add[maxn&lt;&lt;2],cov[maxn&lt;&lt;2],sum[3][maxn&lt;&lt;2],a[maxn]; inline int modmul(int a,int b){return a*b%mod;} inline int modmul(int a,int b,int c){return modmul(modmul(a,b),c);} inline int modmul(int a,int b,int c,int d){return modmul(modmul(a,b,c),d);} void push_son(int son,int l,int r,int covrt,int mulrt,int addrt){ if(covrt!=-1){ sum[0][son]=modmul(covrt,r-l+1); sum[1][son]=modmul(covrt,sum[0][son]); sum[2][son]=modmul(covrt,sum[1][son]); cov[son]=covrt; mul[son]=1; add[son]=0; } if(mulrt!=1){ sum[0][son]=modmul(sum[0][son],mulrt); sum[1][son]=modmul(sum[1][son],mulrt,mulrt); sum[2][son]=modmul(sum[2][son],mulrt,mulrt,mulrt); mul[son]=modmul(mul[son],mulrt); add[son]=modmul(add[son],mulrt); } if(addrt!=0){//(x+d)^3=x^3+3*x^2*d+3*x*d^2+d^3 sum[2][son]=(sum[2][son]+modmul(3,sum[1][son],addrt)+modmul(3,sum[0][son],addrt,addrt)+modmul(r-l+1,addrt,addrt,addrt))%mod; sum[1][son]=(sum[1][son]+modmul(2,addrt,sum[0][son])+modmul(r-l+1,addrt,addrt))%mod; sum[0][son]=(sum[0][son]+modmul(r-l+1,addrt))%mod; add[son]=(add[son]+addrt)%mod; } } void push_down(int rt,int l,int r){ push_son(ls,l,ml,cov[rt],mul[rt],add[rt]); push_son(rs,mr,r,cov[rt],mul[rt],add[rt]); cov[rt]=-1; mul[rt]=1; add[rt]=0; } void push_up(int rt,int l,int r){ sum[0][rt]=(sum[0][ls]+sum[0][rs])%mod; sum[1][rt]=(sum[1][ls]+sum[1][rs])%mod; sum[2][rt]=(sum[2][ls]+sum[2][rs])%mod; } void build(int rt,int l,int r){ cov[rt]=-1; mul[rt]=1; add[rt]=0; if(l==r){ sum[0][rt]=a[l]; sum[1][rt]=modmul(a[l],a[l]); sum[2][rt]=modmul(a[l],a[l],a[l]); } else{ build(ls,l,ml); build(rs,mr,r); push_up(rt,l,r); } } void update(int rt,int l,int r,int ql,int qr,int d,int type){ if(l!=r) push_down(rt,l,r); if(ql&lt;=l&amp;&amp;r&lt;=qr){ if(type==1) push_son(rt,l,r,-1,1,d); if(type==2) push_son(rt,l,r,-1,d,0); if(type==3) push_son(rt,l,r, d,1,0); } else{ if(ml&gt;=ql) update(ls,l,ml,ql,qr,d,type); if(mr&lt;=qr) update(rs,mr,r,ql,qr,d,type); push_up(rt,l,r); } } int query(int rt,int l,int r,int ql,int qr,int pw){// pw-1 if(l!=r) push_down(rt,l,r); if(ql&lt;=l&amp;&amp;r&lt;=qr){ return sum[pw][rt]; } else{ int ret=0; if(ml&gt;=ql) ret+=query(ls,l,ml,ql,qr,pw); if(mr&lt;=qr) ret+=query(rs,mr,r,ql,qr,pw); return ret%mod; } } æ›´æ–°äº†åŠ¨æ€å¼€ç‚¹çš„çº¿æ®µæ ‘ //æ›´æ–°åŠ¨æ€å¼€ç‚¹ #define ml ((l+r)&gt;&gt;1) #define mr (ml+1) const int maxn=1e5+55; int mod=10007; int mul[maxn*2],add[maxn*2],cov[maxn*2],sum[3][maxn*2],ls[maxn*2],rs[maxn*2],a[maxn],tot; inline int modmul(int a,int b){return a*b%mod;} inline int modmul(int a,int b,int c){return modmul(modmul(a,b),c);} inline int modmul(int a,int b,int c,int d){return modmul(modmul(a,b,c),d);} void push_son(int&amp;son,int l,int r,int covrt,int mulrt,int addrt){ if(son==0) { son=++tot; mul[son]=1; add[son]=0; cov[son]=-1; sum[0][son]=0; sum[1][son]=0; sum[2][son]=0; ls[son]=0; rs[son]=0; } if(covrt!=-1){ sum[0][son]=modmul(covrt,r-l+1); sum[1][son]=modmul(covrt,sum[0][son]); sum[2][son]=modmul(covrt,sum[1][son]); cov[son]=covrt; mul[son]=1; add[son]=0; } if(mulrt!=1){ sum[0][son]=modmul(sum[0][son],mulrt); sum[1][son]=modmul(sum[1][son],mulrt,mulrt); sum[2][son]=modmul(sum[2][son],mulrt,mulrt,mulrt); mul[son]=modmul(mul[son],mulrt); add[son]=modmul(add[son],mulrt); } if(addrt!=0){//(x+d)^3=x^3+3*x^2*d+3*x*d^2+d^3 sum[2][son]=(sum[2][son]+modmul(3,sum[1][son],addrt)+modmul(3,sum[0][son],addrt,addrt)+modmul(r-l+1,addrt,addrt,addrt))%mod; sum[1][son]=(sum[1][son]+modmul(2,addrt,sum[0][son])+modmul(r-l+1,addrt,addrt))%mod; sum[0][son]=(sum[0][son]+modmul(r-l+1,addrt))%mod; add[son]=(add[son]+addrt)%mod; } } void push_down(int rt,int l,int r){ push_son(ls[rt],l,ml,cov[rt],mul[rt],add[rt]); push_son(rs[rt],mr,r,cov[rt],mul[rt],add[rt]); cov[rt]=-1; mul[rt]=1; add[rt]=0; } void push_up(int rt,int l,int r){ sum[0][rt]=(sum[0][ls[rt]]+sum[0][rs[rt]])%mod; sum[1][rt]=(sum[1][ls[rt]]+sum[1][rs[rt]])%mod; sum[2][rt]=(sum[2][ls[rt]]+sum[2][rs[rt]])%mod; } void build(int&amp;rt,int l,int r){ rt=tot=0; push_son(rt,l,r,-1,1,0); } void update(int rt,int l,int r,int ql,int qr,int d,int type){ if(ql&lt;=l&amp;&amp;r&lt;=qr){ if(type==1) push_son(rt,l,r,-1,1,d); if(type==2) push_son(rt,l,r,-1,d,0); if(type==3) push_son(rt,l,r, d,1,0); } else{ push_down(rt,l,r); if(ml&gt;=ql) update(ls[rt],l,ml,ql,qr,d,type); if(mr&lt;=qr) update(rs[rt],mr,r,ql,qr,d,type); push_up(rt,l,r); } } int query(int rt,int l,int r,int ql,int qr,int pw){// pw-1 if(ql&lt;=l&amp;&amp;r&lt;=qr){ return sum[pw][rt]; } else{ push_down(rt,l,r); int ret=0; if(ml&gt;=ql) ret+=query(ls[rt],l,ml,ql,qr,pw); if(mr&lt;=qr) ret+=query(rs[rt],mr,r,ql,qr,pw); return ret%mod; } }","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"stencil","slug":"ACM/è€Blogè¿ç§»/stencil","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/"},{"name":"data_struct","slug":"ACM/è€Blogè¿ç§»/stencil/data-struct","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/data-struct/"}],"tags":[]},{"title":"åŒºé—´ç¿»è½¬0-1+åŒºé—´èµ‹å€¼0-1+åŒºé—´æ±‚å’Œçš„åŒæ ‡è®°åŠ¨æ€å¼€ç‚¹çº¿æ®µæ ‘","slug":"ACM/è€Blogè¿ç§»/stencil/data_struct/åŒºé—´ç¿»è½¬0-1+åŒºé—´èµ‹å€¼0-1+åŒºé—´æ±‚å’Œçš„åŒæ ‡è®°åŠ¨æ€å¼€ç‚¹çº¿æ®µæ ‘","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"åŒºé—´ç¿»è½¬0-1+åŒºé—´èµ‹å€¼0-1+åŒºé—´æ±‚å’Œçš„åŒæ ‡è®°åŠ¨æ€å¼€ç‚¹çº¿æ®µæ ‘.html","link":"","permalink":"http://fightinggg.github.io/indigo/%E5%8C%BA%E9%97%B4%E7%BF%BB%E8%BD%AC0-1+%E5%8C%BA%E9%97%B4%E8%B5%8B%E5%80%BC0-1+%E5%8C%BA%E9%97%B4%E6%B1%82%E5%92%8C%E7%9A%84%E5%8F%8C%E6%A0%87%E8%AE%B0%E5%8A%A8%E6%80%81%E5%BC%80%E7%82%B9%E7%BA%BF%E6%AE%B5%E6%A0%91.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog çº¿æ®µæ ‘ /* http://acm.cug.edu.cn/problem.php?cid=1176&amp;pid=1 */ // åŒºé—´èµ‹å€¼ä¸º0/1,åŒºé—´çš„å€¼å–å //çº¿æ®µæ ‘åŠ¨æ€å¼€ç‚¹ // åŒºé—´ç¿»è½¬0/1+åŒºé—´èµ‹å€¼0/1+åŒºé—´æ±‚å’Œçš„åŒæ ‡è®°åŠ¨æ€å¼€ç‚¹çº¿æ®µæ ‘.html #define ml ((l+r)&gt;&gt;1) #define mr (ml+1) const int maxn=5e4+5; int rev[maxn*2*35],cov[maxn*2*35],sum[maxn*2*35],ls[maxn*2*35],rs[maxn*2*35],a[maxn],tot; void push_son(int&amp;son,int l,int r,int covrt,int revrt){ if(son==0) { son=++tot; cov[son]=-1; rev[son]=0; sum[son]=0; ls[son]=0; rs[son]=0; } if(covrt!=-1){ sum[son]=(r-l+1)*covrt; cov[son]=covrt; rev[son]=0; } if(revrt!=0){ sum[son]=(r-l+1)-sum[son]; rev[son]^=1; } } void push_down(int rt,int l,int r){ push_son(ls[rt],l,ml,cov[rt],rev[rt]); push_son(rs[rt],mr,r,cov[rt],rev[rt]); cov[rt]=-1; rev[rt]=0; } void push_up(int rt,int l,int r){ sum[rt]=sum[ls[rt]]+sum[rs[rt]]; } void build(int&amp;rt,int l,int r){ rt=tot=0; push_son(rt,l,r,-1,0); } void update(int rt,int l,int r,int ql,int qr,int d,int type){ if(ql&lt;=l&amp;&amp;r&lt;=qr){ if(type==1) push_son(rt,l,r,-1,1);//rev if(type==2) push_son(rt,l,r, d,0);//cover } else{ push_down(rt,l,r); if(ml&gt;=ql) update(ls[rt],l,ml,ql,qr,d,type); if(mr&lt;=qr) update(rs[rt],mr,r,ql,qr,d,type); push_up(rt,l,r); } } int query(int rt,int l,int r,int ql,int qr){ if(ql&lt;=l&amp;&amp;r&lt;=qr){ return sum[rt]; } else{ push_down(rt,l,r); int ret=0; if(ml&gt;=ql) ret+=query(ls[rt],l,ml,ql,qr); if(mr&lt;=qr) ret+=query(rs[rt],mr,r,ql,qr); return ret; } } ç¦»æ•£åŒ–æ–¹æ³•çº¿æ®µæ ‘ /* 3 6 1 1 1 1 1 4 1 2 2 1 2 4 1 3 3 1 3 4 */ #include&lt;bits/stdc++.h&gt; using namespace std; vector&lt;int&gt;disc; int getid(int x){ return lower_bound(disc.begin(),disc.end(),x)-disc.begin()+1; } //hdu 4578 #define ls (rt&lt;&lt;1) #define rs (ls|1) #define ml ((l+r)&gt;&gt;1) #define mr (ml+1) const int maxn=55555*6; int rev[maxn&lt;&lt;2],cov[maxn&lt;&lt;2],sum[maxn&lt;&lt;2],a[maxn]; void push_son(int son,int l,int r,int covrt,int revrt){ if(covrt!=-1){ sum[son]=((disc[r-1+1]-1)-disc[l-1]+1)*covrt; cov[son]=covrt; rev[son]=0; } if(revrt!=0){ sum[son]=((disc[r-1+1]-1)-disc[l-1]+1)-sum[son]; rev[son]^=1; } } void push_down(int rt,int l,int r){ push_son(ls,l,ml,cov[rt],rev[rt]); push_son(rs,mr,r,cov[rt],rev[rt]); cov[rt]=-1; rev[rt]=0; } void push_up(int rt,int l,int r){ sum[rt]=sum[ls]+sum[rs]; } void build(int rt,int l,int r){ cov[rt]=-1; rev[rt]=0; if(l==r){ sum[rt]=0; } else{ build(ls,l,ml); build(rs,mr,r); push_up(rt,l,r); } } void update(int rt,int l,int r,int ql,int qr,int d,int type){ if(l!=r) push_down(rt,l,r); if(ql&lt;=l&amp;&amp;r&lt;=qr){ if(type==1) push_son(rt,l,r,-1,1);//rev if(type==2) push_son(rt,l,r, d,0);//cover } else{ if(ml&gt;=ql) update(ls,l,ml,ql,qr,d,type); if(mr&lt;=qr) update(rs,mr,r,ql,qr,d,type); push_up(rt,l,r); } } int query(int rt,int l,int r,int ql,int qr){ if(l!=r) push_down(rt,l,r); if(ql&lt;=l&amp;&amp;r&lt;=qr){ return sum[rt]; } else{ int ret=0; if(ml&gt;=ql) ret+=query(ls,l,ml,ql,qr); if(mr&lt;=qr) ret+=query(rs,mr,r,ql,qr); return ret; } } int read(){ int ret=0,fu=1; char ch=getchar(); while(ch&lt;&#39;0&#39;||ch&gt;&#39;9&#39;) { if(ch==&#39;-&#39;) fu=-1; ch=getchar(); } while(&#39;0&#39;&lt;=ch&amp;&amp;ch&lt;=&#39;9&#39;) { ret=(ret&lt;&lt;1)+(ret&lt;&lt;3)+(ch^48); ch=getchar(); } return ret*fu; } int L[maxn],R[maxn],OP[maxn]; int main(){ int n=read(); int q=read(); for(int i=0;i&lt;q;i++) { L[i]=read(); R[i]=read(); OP[i]=read(); disc.push_back(L[i]); disc.push_back(R[i]); disc.push_back(L[i]+1); disc.push_back(R[i]+1); disc.push_back(L[i]-1); disc.push_back(R[i]-1); } sort(disc.begin(),disc.end()); disc.erase(unique(disc.begin(),disc.end()),disc.end()); build(1,1,disc.size()); for(int i=0;i&lt;q;i++){ int l=getid(L[i]); int r=getid(R[i]); int op=OP[i]; if(op==1) update(1,1,disc.size(),l,r,0,2); if(op==2) update(1,1,disc.size(),l,r,1,2); if(op==3) update(1,1,disc.size(),l,r,1,1); if(op==4) printf(&quot;%d\\n&quot;,query(1,1,disc.size(),l,r)); } }","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"stencil","slug":"ACM/è€Blogè¿ç§»/stencil","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/"},{"name":"data_struct","slug":"ACM/è€Blogè¿ç§»/stencil/data-struct","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/data-struct/"}],"tags":[]},{"title":"å‰å¸æœºçº¿æ®µæ ‘","slug":"ACM/è€Blogè¿ç§»/stencil/data_struct/å‰å¸æœºçº¿æ®µæ ‘","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"å‰å¸æœºçº¿æ®µæ ‘.html","link":"","permalink":"http://fightinggg.github.io/indigo/%E5%90%89%E5%8F%B8%E6%9C%BA%E7%BA%BF%E6%AE%B5%E6%A0%91.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog å‰å¸æœºçº¿æ®µæ ‘ hdu5306 #define ml ((l+r)&gt;&gt;1) #define mr (ml+1) #define ls (rt&lt;&lt;1) #define rs (ls|1) int mx1[maxn&lt;&lt;2],num[maxn&lt;&lt;2],mx2[maxn&lt;&lt;2],lz[maxn&lt;&lt;2],a[maxn]; long long sum[maxn&lt;&lt;2]; void push_son(int son,int l,int r,int lzrt){//æŠŠæœ€å¤§å€¼å˜ä¸ºlzrt ï¼Œæ¬¡å¤§å€¼ä¸å˜ if(lzrt&lt;mx1[son]){ sum[son]-=1ll*(mx1[son]-lzrt)*num[son]; mx1[son]=lzrt; lz[son]=lzrt; } } void push_down(int rt,int l,int r){ push_son(ls,l,ml,lz[rt]); push_son(rs,mr,r,lz[rt]); lz[rt]=0x7fffffff; } void push_up(int rt,int l,int r){ if(mx1[ls]==mx1[rs]){ mx1[rt]=mx1[ls]; num[rt]=num[ls]+num[rs]; mx2[rt]=max(mx2[ls],mx2[rs]); } else{ if(mx1[ls]&gt;mx1[rs]){ mx1[rt]=mx1[ls]; num[rt]=num[ls]; mx2[rt]=max(mx2[ls],mx1[rs]); } else{ mx1[rt]=mx1[rs]; num[rt]=num[rs]; mx2[rt]=max(mx2[rs],mx1[ls]); } } sum[rt]=sum[ls]+sum[rs]; } void build(int rt,int l,int r){ lz[rt]=0x7fffffff; if(l==r){ mx1[rt]=a[l]; num[rt]=1; mx2[rt]=-1;// none sum[rt]=a[l]; } else{ build(ls,l,ml); build(rs,mr,r); push_up(rt,l,r); } } void update(int rt,int l,int r,int ql,int qr,int val){ if(mx1[rt]&lt;=val) return ;//æ— å½±å“ if(ql&lt;=l&amp;&amp;r&lt;=qr&amp;&amp;mx2[rt]&lt;val){//åªå½±å“æœ€å¤§å€¼ï¼Œä¸å½±å“æ¬¡å¤§å€¼ push_son(rt,l,r,val); } else{ push_down(rt,l,r); if(ml&gt;=ql)update(ls,l,ml,ql,qr,val); if(mr&lt;=qr)update(rs,mr,r,ql,qr,val); push_up(rt,l,r); } } long long query_sum(int rt,int l,int r,int ql,int qr){ if(ql&lt;=l&amp;&amp;r&lt;=qr){ return sum[rt]; } else{ push_down(rt,l,r); long long ret=0; if(ml&gt;=ql) ret+=query_sum(ls,l,ml,ql,qr); if(mr&lt;=qr) ret+=query_sum(rs,mr,r,ql,qr); return ret; } } int query_max(int rt,int l,int r,int ql,int qr){ if(ql&lt;=l&amp;&amp;r&lt;=qr){ return mx1[rt]; } else{ push_down(rt,l,r); int ret=0; if(ml&gt;=ql) ret=max(ret,query_max(ls,l,ml,ql,qr)); if(mr&lt;=qr) ret=max(ret,query_max(rs,mr,r,ql,qr)); return ret; } }","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"stencil","slug":"ACM/è€Blogè¿ç§»/stencil","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/"},{"name":"data_struct","slug":"ACM/è€Blogè¿ç§»/stencil/data-struct","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/data-struct/"}],"tags":[]},{"title":"æ ‘çŠ¶æ•°ç»„","slug":"ACM/è€Blogè¿ç§»/stencil/data_struct/æ ‘çŠ¶æ•°ç»„","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"æ ‘çŠ¶æ•°ç»„.html","link":"","permalink":"http://fightinggg.github.io/indigo/%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog ä¸€ç»´æ ‘çŠ¶æ•°ç»„ ç¬”è€…çœ¼ä¸­çš„ä¸€ç»´æ ‘çŠ¶æ•°ç»„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸€ç»´æ ‘çŠ¶æ•°ç»„ï¼Œæ˜¯ä¸€æ£µå·¦åæ ‘ï¼Œä»–çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç»´æŠ¤çš„æ˜¯ä¸€æ®µåŒºé—´çš„å’Œ,è‹¥è¯¥èŠ‚ç‚¹çš„ ä¸‹æ ‡ä¸ºiï¼Œé‚£ä¹ˆä»–ç»´æŠ¤çš„åŒºé—´å°±æ˜¯(i&(i-1),i] ï¼Œç†Ÿæ‚‰ä½è¿ç®—çš„äººåº”è¯¥éƒ½çŸ¥é“ï¼Œi&(i-1)ä¸içš„å…³ç³»ï¼ši&(i-1)å’Œiå»æ‰içš„äºŒè¿›åˆ¶ä¸­çš„æœ€ä½ä½çš„1åçš„å€¼ ç›¸ç­‰ã€‚å¹¶ä¸”ï¼Œæ ‘çŠ¶æ•°ç»„å°±æ˜¯åšå•ç‚¹ä¿®æ”¹ï¼Œå‰ç¼€åŒºé—´æŸ¥è¯¢çš„æ•°æ®ç»“æ„ã€‚ ä¸ºäº†åˆ© äºæè¿°ï¼Œä¸‹æ–‡æš‚æ—¶ç§°ä¸€ç»´æ ‘çŠ¶æ•°ç»„ä¸ºæ ‘çŠ¶æ•°ç»„ æ ‘çŠ¶æ•°ç»„è¯¢é—®æ“ä½œ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åŸæ•°ç»„çš„å‰ç¼€åŒºé—´æŸ¥è¯¢ï¼Œæ ¹æ®å®šä¹‰ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“çŸ¥é“ï¼ŒåŒºé—´[1,x] ä¸€å®šèƒ½å¤Ÿè¢«æ ‘çŠ¶æ•°ç»„çš„æŸäº›èŠ‚ç‚¹æ‰€è¡¨ç¤ºçš„åŒºé—´ å¹¶æ¥è¡¨è¾¾ï¼Œä¸”å”¯ä¸€è¡¨è¾¾ï¼Œä¸”è¡¨è¾¾å¼æœ€å¤šlg(x)é¡¹ï¼Œå› ä¸ºxçš„äºŒè¿›åˆ¶ä¸­æœ€å¤šlgä¸ª1ã€‚äºæ˜¯ä»»æ„å‰ç¼€åŒºé—´å°±èƒ½å¤Ÿåœ¨æ ‘çŠ¶æ•°ç»„ä¸­æŸ¥è¯¢å¾—åˆ°ã€‚ æ ‘çŠ¶æ•°ç»„æ›´æ–°æ“ä½œ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åŸæ•°ç»„çš„ç‚¹ä¿®æ”¹ï¼Œæˆ‘ä»¬å¿…é¡»æ‰¾åˆ°æ‰€æœ‰åŒ…å«äº†è¯¥ç‚¹çš„æ ‘çŠ¶æ•°ç»„èŠ‚ç‚¹ï¼Œè‹¥è¦ä¿®æ”¹çš„ç‚¹çš„ä¸‹æ ‡ä¸ºiï¼Œæ ¹æ®å®šä¹‰æˆ‘ä»¬è§£ä¸ç­‰å¼ (x&(x-1))+1&lt;=i&lt;=x,å¯ä»¥è¯æ˜å¯ä»¥è¯æ˜å¦‚æœaæ˜¯ä¸€ä¸ªè§£ï¼Œä¸”å­˜åœ¨å¦ä¸€ä¸ªå¤§äºaçš„æœ€å°çš„è§£bï¼Œåˆ™b=a+a&-aã€‚äºæ˜¯æˆ‘ä»¬æ ¹æ®æ­¤æ“ä½œ ä¸€æ­¥ä¸€æ­¥å»æ›´æ–°æ ‘çŠ¶æ•°ç»„èŠ‚ç‚¹å³å¯ï¼Œæ­¤èŠ‚ç‚¹æ•°ç›®lgçº§åˆ« æ ‘çŠ¶æ•°ç»„çš„ç”¨é€” &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ ¹æ®å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“çš„ç»´æŠ¤å¾ˆå¤šå…³äºå•ç‚¹ä¿®æ”¹ï¼Œå‰ç¼€åŒºé—´æŸ¥è¯¢çš„æ“ä½œï¼Œæ¯”å¦‚å‰ç¼€æœ€å€¼ã€ å‰ç¼€åŒºé—´å’Œã€‚ åŒºé—´åŠ æ³•ä¸åŒºé—´å‡æ³• &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœå¯¹äºä½œç”¨äºåŒºé—´[x,y]ä¸Šçš„åŒºé—´è¿ç®—f(x,y)æ»¡è¶³ è‹¥å¯¹äºæ‰€æœ‰çš„a&lt;b&lt;=cå¯ä»¥æ ¹æ®f(a,b-1)å’Œf(b,c)ç®—å‡º f(a,c)ï¼Œåˆ™æ­¤è¿ç®—æ»¡è¶³åŒºé—´åŠ æ³• &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœå¯¹äºä½œç”¨äºåŒºé—´[x,y]ä¸Šçš„åŒºé—´è¿ç®—f(x,y)æ»¡è¶³ è‹¥å¯¹äºæ‰€æœ‰çš„a&lt;b&lt;=cå¯ä»¥æ ¹æ®f(a,c)å’Œf(b,c)ç®—å‡º f(a,b-1)ï¼Œåˆ™æ­¤è¿ç®—æ»¡è¶³åŒºé—´å‡æ³• è®©ç”¨é€”æ›´å¹¿ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¯¹äºæ‰€æœ‰æ»¡è¶³åŒºé—´å‡æ³•çš„æ“ä½œï¼Œæ¯”å¦‚è¯´:åŒºé—´å’Œï¼ŒåŒºé—´å¼‚æˆ–å’Œã€‚æˆ‘ä»¬å¯ä»¥æ ¹æ®å‰ç¼€åŒºé—´ ç›¸å‡ï¼Œå¾—åˆ°ä»»æ„åŒºé—´çš„åŒºé—´å’Œä¸åŒºé—´å¼‚æˆ–å’Œã€‚ å·®åˆ†æ“ä½œ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœæˆ‘ä»¬è¦å¯¹ä¸€ä¸ªåŒºé—´è¿›è¡Œä¿®æ”¹ï¼Œæˆ‘ä»¬æœ‰è¿™æ ·ä¸€ç§åšæ³•ï¼Œåœ¨åŒºé—´èµ·ç‚¹åŠ ä¸€ä¸ªæ ‡è®°ï¼Œåœ¨åŒºé—´æœ«å°¾ å†åŠ ä¸€ä¸ªæ ‡è®°ï¼Œäºæ˜¯æˆ‘ä»¬å°±è¡¨é¢ä¿®æ”¹äº†æ­¤æ•°ç»„çš„ä¸€ä¸ªåŒºé—´,æŸ¥è¯¢çš„è¯ï¼ŒæŸ¥å‰ç¼€å’Œå°±å¯ä»¥äº†ï¼Œç”±äºæœ¬æ–‡é‡ç‚¹ä¸åœ¨æ­¤ï¼Œç®€è¦ ä¸¾ä¸ªä¾‹å­ï¼Œå¯¹äºä¸€ä¸ªæ•°ç»„ï¼Œæˆ‘ä»¬å¦‚æœè¯´è¦ç»å¸¸ä¿®æ”¹æŸäº›åŒºé—´çš„å€¼:æ•´ä¸ªåŒºé—´çš„æ‰€æœ‰å…ƒç´ åŠ ä¸Šä¸€ä¸ªdï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘è¿™æ ·åšï¼Œè®©åŒºé—´èµ·ç‚¹+d,åŒºé—´æœ«å°¾å³è¾¹çš„å…ƒç´ -d, å½“ä¿®æ”¹å®Œä¹‹åï¼Œæˆ‘ä»¬å¯¹æ­¤æ•°ç»„åšä¸€éå‰ç¼€å’Œå°±èƒ½å¾—åˆ°ä¿®æ”¹ç»“æœã€‚æˆ‘ä»¬ç§°è¡¨é¢ä¿®æ”¹çš„æ•°ç»„ä¸ºå·®åˆ†æ•°ç»„ï¼Œå·®åˆ†æ•°ç»„çš„å‰ç¼€å’Œå°±æ˜¯æˆ‘ä»¬è¦çš„åŸæ•°ç»„ã€‚ å†å¹¿ä¸€ç‚¹ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è€ƒè™‘ä¸€ä¸ªç»´æŠ¤åŒºé—´å’Œçš„æ•°ç»„ï¼Œå¦‚æœè¦å¯¹éšæœºåŒºé—´ä¿®æ”¹ï¼Œå¯¹å•ç‚¹æŸ¥è¯¢æ€ä¹ˆåŠå‘¢ï¼Ÿæˆ‘ä»¬ç»´æŠ¤æ­¤æ•°ç»„ çš„å·®åˆ†æ•°ç»„ï¼ŒåŸæ•°ç»„çš„åŒºé—´ä¿®æ”¹å°±æ˜¯å·®åˆ†æ•°ç»„çš„ç‚¹ä¿®æ”¹ï¼ŒåŸæ•°ç»„çš„ç‚¹æŸ¥è¯¢å°±æ˜¯å·®åˆ†æ•°ç»„çš„å‰ç¼€åŒºé—´æŸ¥è¯¢ï¼Œäºæ˜¯æˆ‘ä»¬è§£å†³äº†è¿™ä¸ªé—®é¢˜ è¿˜èƒ½æ›´åŠ å¹¿ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœæˆ‘ä»¬ä¸ä»…ä»…æ»¡è¶³ä¸ç‚¹æŸ¥è¯¢ï¼Œæˆ‘ä»¬è¿˜è¦å‰ç¼€å’ŒåŒºé—´æŸ¥è¯¢ï¼Œä¹Ÿèƒ½åŠåˆ°ï¼Œå†æ¥ç†ä¸€ä¸‹ï¼ŒåŸæ•°ç»„çš„å‰ç¼€ å’ŒåŒºé—´æŸ¥è¯¢ç­‰äºå·®åˆ†æ•°ç»„çš„äºŒé˜¶å‰ç¼€å’ŒåŒºé—´æŸ¥è¯¢ï¼Œæˆ‘ä»¬å‡å®šaä¸ºå·®åˆ†æ•°ç»„ï¼š è¿™é‡Œå¾ˆæ˜æ˜¾äº†ï¼Œæˆ‘ä»¬ç»´æŠ¤ä¸€ä¸ªåŸæ•°ç»„çš„å·®åˆ†æ•°ç»„aiå’Œå¦ä¸€ä¸ªæ•°ç»„i*aiçš„ç‚¹ä¿®æ”¹åŒºé—´æŸ¥è¯¢å³å¯ã€‚ äºŒç»´æ ‘çŠ¶æ•°ç»„ æå‡çº¬åº¦ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬å®šä¹‰,åœ¨äºŒç»´æ•°æ®ç»“æ„ä¸­ï¼Œè®©ç‚¹(x,y)ç»´æŠ¤ç‚¹(x&(x-1)+1,y&(y-1)+1)åˆ°(x,y)çš„çŸ©é˜µçš„åŒºé—´ä¿¡æ¯ï¼Œæ ¹æ® ä¹‹å‰çš„æ¨å¯¼ï¼Œä½¿ç”¨ç±»ä¼¼çš„æ–¹æ³•ï¼Œå¯ä»¥å¾—å‡ºåœ¨æ¯ä¸€ç»´ä¸Šæœ€å¤šlgä¸ªèŠ‚ç‚¹ï¼Œæ•…ä¸¤ç»´ä¸€èµ·æœ€å¤šlg*lgä¸ªèŠ‚ç‚¹ã€‚ç±»ä¼¼çš„ä¹Ÿå¯ä»¥å¾—å‡ºæ›´æ–°çš„æ—¶å€™ï¼ŒèŠ‚ç‚¹ä¾æ—§æ˜¯lg*lgä¸ªã€‚ äºŒç»´çš„å·®åˆ†å’Œä»»æ„åŒºé—´ç»´æŠ¤æ­¤å¤„ä¸åšç»†åˆ†æ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å¦‚æœæˆ‘ä»¬ç»´æŠ¤äº†äºŒç»´å‰ç¼€åŒºé—´å®šä¹‰å‰ç¼€åŒºé—´ä¸º:(1,1)åˆ°(x,y) çš„çŸ©å½¢åŒºé—´ã€‚çš„ä¿¡æ¯ï¼Œæ ¹æ®å®¹æ–¥åŸç†ï¼Œä»»æ„åŒºé—´å¾ˆå®¹æ˜“ç®—å‡ºæ¥äº†ï¼Œå·®åˆ†æ˜¯ä¸€æ ·çš„ã€‚ äºŒç»´çš„åŒºé—´ä¿®æ”¹ï¼ŒåŒºé—´å’ŒæŸ¥è¯¢ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸€æ ·çš„ï¼Œæ˜¯å·®åˆ†æ•°ç»„çš„äºŒé˜¶å‰ç¼€å’Œï¼ŒåŒ–ç®€å…¬å¼å¦‚ä¸‹: äºæ˜¯æˆ‘ä»¬ç»´æŠ¤å››ä¸ªæ™®é€šæ ‘çŠ¶æ•°ç»„å³å¯ struct Binary_Indexed_Tree{ //ç‚¹æ›´æ–°åŒºé—´æŸ¥è¯¢,æœ€å¤§å¯ç”¨èŒƒå›´[1,Nï¼‰ï¼Œå®é™…ä½¿ç”¨[1,n] //åˆå§‹åŒ–Nï¼Œnï¼Œåˆå§‹åŒ–tree[]ä¸º0 //å‡½æ•°è¾“å…¥ï¼Œå‡½æ•°è¿”å›å€¼è¾“å‡º static const int N; int n,tree[N]; void ini(int _n){ n=_n; for(int i=1;i&lt;=n;i++)tree[i]=0; }; void add(int k,int d){for(int i=k;i&lt;=n;i+=i&amp;-i)tree[i]+=d;} int sigma(int k){ int ret=0; for(int i=k;i;i-=i&amp;-i)ret+=tree[i]; return ret; } int sigma(int u,int v){return sigma(v)-sigma(u-1);} }; struct Binary_Indexed_Tree{ //åŒºé—´æ›´æ–°ç‚¹æŸ¥è¯¢,æœ€å¤§å¯ç”¨èŒƒå›´[1,Nï¼‰,å®é™…ä½¿ç”¨[1,n] //åˆå§‹åŒ–Nï¼Œnåˆå§‹åŒ–tree[]ä¸º0 //å‡½æ•°è¾“å…¥ï¼Œå‡½æ•°è¿”å›å€¼è¾“å‡º static const int N; int n,tree[N]; void ini(int _n){ n=_n; for(int i=1;i&lt;=n;i++)tree[i]=0; }; void add(int k,int d){for(int i=k;i&lt;=n;i+=i&amp;-i)tree[i]+=d;} void add(int u,int v,int d){ add(u,d); add(v+1,-d); } int sigma(int k){ int ret=0; for(int i=k;i;i-=i&amp;-i)ret+=tree[i]; return ret; } }; struct Binary_Indexed_Tree{ //åŒºé—´æ›´æ–°åŒºé—´æŸ¥è¯¢,æœ€å¤§å¯ç”¨èŒƒå›´[1,Nï¼‰,å®é™…ä½¿ç”¨[1,n] //åˆå§‹åŒ–Nï¼Œnåˆå§‹åŒ–tree[]ã€tree2[]ä¸º0 //å‡½æ•°è¾“å…¥ï¼Œå‡½æ•°è¿”å›å€¼è¾“å‡º static const int N; int n,tree[N],tree2[N]; void ini(int _n){ n=_n; for(int i=1;i&lt;=n;i++)tree[i]=0; }; void add(int k,int d){ for(int i=k;i&lt;=n;i+=i&amp;-i)tree[i]+=d,tree2[i]+=k*d; } void add(int u,int v,int d){ add(u,d); add(v+1,-d); } int sigma(int k){ int ret=0; for(int i=k;i;i-=i&amp;-i)ret+=(k+1)*tree[i]-tree2[i]; return ret; } int sigma(int u,int v){ return sigma(v)-sigma(u-1); } }; struct Binary_Indexed_Tree{ //äºŒç»´ç‚¹æ›´æ–°åŒºé—´æŸ¥è¯¢,æœ€å¤§å¯ç”¨èŒƒå›´[1,N)[1,N),å®é™…ä½¿ç”¨[1,n] //åˆå§‹åŒ–Nï¼Œnåˆå§‹åŒ–tree[][]ä¸º0 //å‡½æ•°å‚æ•°è¾“å…¥ï¼Œå‡½æ•°è¿”å›å€¼è¾“å‡º static const int N; int n, tree[N][N]; void ini(int _n){ n=_n; for(int i=1;i&lt;=n;i++){ for(int j=1;j&lt;=n;j++){ tree[i][j]=0; } } } void add(int x,int y,int d){ for(int i=x;i&lt;=n;i+=i&amp;-i) for(int j=y;j&lt;=n;j+=j&amp;-j) tree[i][j]+=d; } int sigma(int x,int y){ int ret=0; for(int i=x;i;i-=i&amp;-i) for(int j=y;j;j-=j&amp;-j) ret+=tree[i][j]; return ret; } int sigma(int x1,int y1,int x2,int y2){ if(x1&gt;x2)swap(x1,x2); if(y1&gt;y2)swap(y1,y2); x1--;y1--; return sigma(x1,y1)+sigma(x2,y2)-sigma(x1,y2)-sigma(x2,y1); } }; struct Binary_Indexed_Tree{ //äºŒç»´åŒºé—´æ›´æ–°ç‚¹æŸ¥è¯¢,æœ€å¤§å¯ç”¨èŒƒå›´[1,N)[1,N),å®é™…ä½¿ç”¨[1,n] //åˆå§‹åŒ–Nï¼Œnåˆå§‹åŒ–tree[][]ä¸º0 //å‡½æ•°å‚æ•°è¾“å…¥ï¼Œå‡½æ•°è¿”å›å€¼è¾“å‡º static const int N; int n,tree[N][N]; void ini(int _n){ n=_n; for(int i=1;i&lt;=n;i++){ for(int j=1;j&lt;=n;j++){ tree[i][j]=0; } } } void add(int x,int y,int d){ for(int i=x;i&lt;=n;i+=i&amp;-i) for(int j=y;j&lt;=n;j+=j&amp;-j) tree[i][j]+=d; } void add(int x1,int y1,int x2,int y2,int d){ if(x1&gt;x2)swap(x1,x2); if(y1&gt;y2)swap(y1,y2); add(x1,y1,d); add(x2+1,y2+1,d); add(x1,y2+1,-d); add(x2+1,y1,-d); } int sigma(int x,int y){ int ret=0; for(int i=x;i;i-=i&amp;-i) for(int j=y;j;j-=j&amp;-j) ret+=tree[i][j]; return ret; } }; struct Binary_Indexed_Tree{ //äºŒç»´åŒºé—´æ›´æ–°åŒºé—´æŸ¥è¯¢,æœ€å¤§å¯ç”¨èŒƒå›´[1,N)[1,N),å®é™…ä½¿ç”¨[1,n] //åˆå§‹åŒ–Nï¼Œnåˆå§‹åŒ–tree[][]ã€treeij[][]ã€treei[][]ã€treej[][]ä¸º0 //å‡½æ•°å‚æ•°è¾“å…¥ï¼Œå‡½æ•°è¿”å›å€¼è¾“å‡º static const int N; int n,tree[N][N],treeij[N][N],treei[N][N],treej[N][N]; void ini(int _n){ n=_n; for(int i=1;i&lt;=n;i++){ for(int j=1;j&lt;=n;j++){ tree[i][j]=treei[i][j]=treej[i][j]=treeij[i][j]=0; } } } void add(int x,int y,int d){ for(int i=x;i&lt;=n;i+=i&amp;-i) for(int j=y;j&lt;=n;j+=j&amp;-j){ tree[i][j]+=d; treei[i][j]+=x*d; treej[i][j]+=y*d; treeij[i][j]+=x*y*d; } } void add(int x1,int y1,int x2,int y2,int d){ if(x1&gt;x2)swap(x1,x2); if(y1&gt;y2)swap(y1,y2); x2++,y2++; add(x1,y1,d); add(x2,y2,d); add(x1,y2,-d); add(x2,y1,-d); } int sigma(int x,int y){ int ret=0; for(int i=x;i;i-=i&amp;-i) for(int j=y;j;j-=j&amp;-j){ ret+=(x+1)*(y+1)*tree[i][j]+treeij[i][j]; ret-=(x+1)*treej[i][j]+(y+1)*treei[i][j]; } return ret; } int sigma(int x1,int y1,int x2,int y2){ if(x1&gt;x2)swap(x1,x2); if(y1&gt;y2)swap(y1,y2); x1--,y1--; return sigma(x1,y1)+sigma(x2,y2)-sigma(x2,y1)-sigma(x1,y2); } };","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"stencil","slug":"ACM/è€Blogè¿ç§»/stencil","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/"},{"name":"data_struct","slug":"ACM/è€Blogè¿ç§»/stencil/data-struct","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/data-struct/"}],"tags":[]},{"title":"æ ‘é“¾å‰–åˆ†","slug":"ACM/è€Blogè¿ç§»/stencil/data_struct/æ ‘é“¾å‰–åˆ†","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"æ ‘é“¾å‰–åˆ†.html","link":"","permalink":"http://fightinggg.github.io/indigo/%E6%A0%91%E9%93%BE%E5%89%96%E5%88%86.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog æ ‘é“¾å‰–åˆ† &nbsp &nbsp &nbsp &nbspå¦‚æœç»™å‡ºä¸€æ£µæ ‘å¹¶ä¸ºæ¯ä¸ªèŠ‚ç‚¹æ ‡å·1234...n;å¹¶å®šä¹‰åŒºé—´[x,y]ä¸ºæ ‘ä¸ŠèŠ‚ç‚¹xåˆ°èŠ‚ç‚¹yçš„æœ€çŸ­è·¯æ‰€ç»è¿‡çš„æ‰€æœ‰èŠ‚ç‚¹ç»„æˆçš„é›†åˆï¼Œæ³¨æ„æ˜¯é—­åŒºé—´ï¼ŒåŒ…æ‹¬xï¼Œyä¸¤ä¸ªèŠ‚ç‚¹ &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbspæ ‘é“¾å‰–åˆ†èƒ½å¤Ÿè§£å†³æ ‘ä¸ŠåŒºé—´çš„æ“ä½œï¼Œæ˜¯çº¿æ®µæ ‘åŠŸèƒ½çš„å¼ºåŒ–ç‰ˆï¼Œä½†ä»–ä¹Ÿä¾èµ–ç€çº¿æ®µæ ‘ã€‚ &nbsp &nbsp &nbsp &nbspæ ‘é“¾å‰–åˆ†å°è¯•ç€æŠŠæ ‘åˆ†å‰²ä¸ºå¤šæ¡é“¾ï¼Œå¹¶æŒ‰ç…§dfsåºå¯¹é“¾æ’åºå¹¶äº¤ç»™çº¿æ®µæ ‘ç»´æŠ¤ï¼Œå¦‚æœè¿™ä¸ªæƒ³æ³•æˆç«‹ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„æ ‘ä¸ŠåŒºé—´æ“ä½œéƒ½æˆäº†å¤šæ®µåŒºé—´çš„çº¿æ®µæ ‘æ“ä½œã€‚ &nbsp &nbsp &nbsp &nbspç°åœ¨çš„é—®é¢˜è½¬ç§»åˆ°å¦‚ä½•åˆ†é“¾ï¼Œèƒ½å¤Ÿä¿è¯ä»»ä½•æ ‘ä¸ŠåŒºé—´è¿›è¡Œåˆ†è§£æ—¶åˆ†å‡ºçš„é“¾éƒ½è¾ƒå°‘ï¼Ÿå¦åˆ™ä¸Šè¯‰å°è¯•æ²¡æœ‰ä»»ä½•æ„ä¹‰ï¼Œå‰äººç»™å‡ºäº†åˆ†æ³•ã€‚æŒ‰è½»é‡é“¾åˆ†ï¼Œ &nbsp &nbsp &nbsp &nbspè¿™é‡Œæœ‰å¿…è¦ä»‹ç»å‡ ç§åè¯ &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbspé‡å„¿å­ï¼šçˆ¶äº²èŠ‚ç‚¹çš„æ‰€æœ‰å„¿å­ä¸­å­æ ‘ç»“ç‚¹æ•°ç›®æœ€å¤šï¼ˆsizeæœ€å¤§ï¼‰çš„ç»“ç‚¹ï¼› &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbspè½»å„¿å­ï¼šçˆ¶äº²èŠ‚ç‚¹ä¸­é™¤äº†é‡å„¿å­ä»¥å¤–çš„å„¿å­ï¼› &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbspé‡è¾¹ï¼šçˆ¶äº²ç»“ç‚¹å’Œé‡å„¿å­è¿æˆçš„è¾¹ï¼› &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbspè½»è¾¹ï¼šçˆ¶äº²èŠ‚ç‚¹å’Œè½»å„¿å­è¿æˆçš„è¾¹ï¼› &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbspé‡é“¾ï¼šç”±å¤šæ¡é‡è¾¹è¿æ¥è€Œæˆçš„è·¯å¾„ï¼› &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbsp &nbspè½»é“¾ï¼šç”±å¤šæ¡è½»è¾¹è¿æ¥è€Œæˆçš„è·¯å¾„ï¼› &nbsp &nbsp &nbsp &nbspå¦‚æ­¤æƒ³å¿…è¯»è€…å·²ç»çŸ¥é“å¦‚ä½•å»åˆ†äº†ï¼Œä½†ä¸ºä»€ä¹ˆè¿™æ ·åˆ†ä¿è¯ä»»ä½•æ ‘ä¸ŠåŒºé—´è¿›è¡Œåˆ†è§£æ—¶åˆ†å‡ºçš„é“¾éƒ½è¾ƒå°‘ ç®€å•è¯æ˜ï¼š &nbsp &nbsp &nbsp &nbspå‡è®¾æ ¹ç¼–å·ä¸ºroot &nbsp &nbsp &nbsp &nbspåˆ™åŒºé—´[x,y]åˆ†å‡ºçš„é“¾ä¸€å®šå°‘äº[root,x][root,y]è¿™ä¸¤ä¸ªåŒºé—´åˆ†å‡ºçš„é“¾çš„å’Œ &nbsp &nbsp &nbsp &nbspé—®é¢˜å¯ä»¥ç®€åŒ–ä¸ºå¯¹äºåŒºé—´[root,x]åˆ†å‡ºçš„é“¾çš„æ•°é‡çš„å¤æ‚åº¦çš„è¯æ˜ï¼Œ &nbsp &nbsp &nbsp &nbspæˆ‘ä»¬å°è¯•ä»æ ¹å¾€èŠ‚ç‚¹xèµ°ï¼Œä¸€èµ°å°±èµ°ä¸€æ•´æ¡å‰–åˆ†é“¾ï¼Œå¦‚æœæ²¡æœ‰åˆ°è¾¾xï¼Œä¸€å®šä¼šèµ°ä¸Šä¸€ä¸ªè½»å„¿å­ï¼Œæ¯å½“èµ°ä¸Šä¸€ä¸ªè½»å„¿å­ï¼Œé—®é¢˜é€’å½’ä¸ºä»¥è½»å„¿å­ä¸ºæ ¹èµ°å‘èŠ‚ç‚¹xï¼Œ &nbsp &nbsp &nbsp &nbspå¯ä»¥è¯æ˜è¿™æ ·çš„èµ°æ³•æ¯èµ°ä¸€æ­¥ï¼Œå½“å‰å­æ ‘çš„èŠ‚ç‚¹æ•°ç›®å‡åŠï¼Œè¿™æ˜¯è½»å„¿å­çš„æ€§è´¨ã€‚ &nbsp &nbsp &nbsp &nbspæˆ‘ä»¬é¡¶å¤šèµ°Olgnæ­¥ï¼Œè¿™æ„å‘³ç€åˆ†å‡ºçš„é“¾ä¸ºOlgnä¸ªã€‚å­é—®é¢˜è¯æ¯•ã€‚ over å¦‚ä½•åˆ†é“¾å‘¢ï¼Ÿ &nbsp &nbsp &nbsp &nbspä¸¤æ¬¡dfs &nbsp &nbsp &nbsp &nbspç¬¬ä¸€æ¬¡è®°å½•çˆ¶äº²ï¼Œè®°å½•å­å­™æ•°é‡ï¼Œå›æº¯é‡å„¿å­ï¼Œ &nbsp &nbsp &nbsp &nbspç¬¬äºŒæ¬¡æ ¹æ®é‡å„¿å­ä¼˜å…ˆdfsï¼Œæ ‡è®°æ¯ä¸ªèŠ‚ç‚¹æ‰€å±é‡é“¾çš„èµ·ç‚¹ï¼Œæ ‡è®°dfsåºï¼Œ &nbsp &nbsp &nbsp &nbspä¾æ®dfsåºæŠŠæ ‘å˜æˆé“¾å¹¶äº¤ç»™çº¿æ®µæ ‘å¤„ç† &nbsp &nbsp &nbsp &nbspæŸ¥è¯¢çš„æ—¶å€™ä¾¿åªéœ€è¦ä¾æ®æ¯ä¸ªèŠ‚ç‚¹æ‰€å±é‡é“¾èµ·ç‚¹å’Œdfsåºè¿›è¡Œçº¿æ®µæ ‘åŒºé—´æŸ¥è¯¢ï¼Œä¿®æ”¹ä¹Ÿæ˜¯ä¸€æ ·ï¼Œéƒ½äº¤ç»™çº¿æ®µæ ‘å¤„ç† struct dissection:segment_tree,graph { static const ll maxn=2.1e5; ll treen; ll dep[maxn],dad[maxn],son[maxn],siz[maxn],tid[maxn],chain[maxn]; //siz,dep,son,dad, void dfs1(ll u=1,ll father=1,ll deep=1) { dep[u]=deep; dad[u]=father; siz[u]=1; for(ll i=head[u]; ~i; i=g[i].nex) { ll v=g[i].v; if(v!=father) { dfs1(v,u,deep+1); siz[u]+=siz[v]; if (son[u]==-1||siz[v]&gt;siz[son[u]])son[u]=v; } } } //chain,tid,rnk; void dfs2(ll u=1,ll s=1) { chain[u]=s; tid[u]=++treen; rnk[treen]=u; if(son[u]==-1)return; dfs2(son[u],s); for (ll i=head[u]; ~i; i=g[i].nex) { ll v=g[i].v; if(v!=son[u]&amp;&amp;v!=dad[u])dfs2(v,v); } } ll query_path(ll x,ll y) { ll ans=0; while(chain[x]!=chain[y]) { if(dep[chain[x]]&lt;dep[chain[y]])swap(x,y); ans+=query(tid[chain[x]],tid[x]); x=dad[chain[x]]; } if(tid[x]&gt;tid[y])swap(x,y); return ans+query(tid[x],tid[y]); } ll query_path_max(ll x,ll y) { ll ans=-1e9; while(chain[x]!=chain[y]) { if(dep[chain[x]]&lt;dep[chain[y]])swap(x,y); ans=max(ans,query_max(tid[chain[x]],tid[x])); x=dad[chain[x]]; } if(tid[x]&gt;tid[y])swap(x,y); return max(ans,query_max(tid[x],tid[y])); } void update_path(ll x,ll y,ll d) { while(chain[x]!=chain[y]) { if(dep[chain[x]]&lt;dep[chain[y]])swap(x,y); update(tid[chain[x]],tid[x],d); x=dad[chain[x]]; } if(tid[x]&gt;tid[y])swap(x,y); update(tid[x],tid[y],d); } void ini() { graph::ini(); } void build() { treen=0; memset(son,-1,sizeof(son)); dfs1(); dfs2(); segment_tree::build(treen); } } tree;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"stencil","slug":"ACM/è€Blogè¿ç§»/stencil","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/"},{"name":"data_struct","slug":"ACM/è€Blogè¿ç§»/stencil/data-struct","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/data-struct/"}],"tags":[]},{"title":"çº¿æ®µæ ‘","slug":"ACM/è€Blogè¿ç§»/stencil/data_struct/çº¿æ®µæ ‘","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"çº¿æ®µæ ‘.html","link":"","permalink":"http://fightinggg.github.io/indigo/%E7%BA%BF%E6%AE%B5%E6%A0%91.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog çº¿æ®µæ ‘ çº¿æ®µæ ‘ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;çº¿æ®µæ ‘æ˜¯æ ‘çŠ¶æ•°ç»„çš„å¼ºåŒ–ç‰ˆï¼Œå®ƒæ¯æ¬¡å¯¹åŒºé—´è¿›è¡ŒäºŒåˆ†ï¼Œæ¯ä¸€ä¸ªæ·±åº¦éƒ½ç»´æŠ¤äº†æ•´ä¸ªåŒºé—´ï¼Œåœ¨åŒä¸€æ·±åº¦é‡Œé¢ï¼Œæ¯ä¸ªèŠ‚ç‚¹ç»´æŠ¤çš„åŒºé—´é•¿åº¦å¤§è‡´ç›¸åŒï¼Œè€Œæ¯æ·±å…¥ä¸€å±‚åˆå¤§è‡´æ¯”ä¸Šä¸€å±‚å¤šä¸€å€çš„èŠ‚ç‚¹ï¼Œæ•…ç©ºé—´å¤æ‚åº¦ä¸ºOnlgn èŠ‚ç‚¹ä¿¡æ¯ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ¯ä¸ªéå¶å­èŠ‚ç‚¹ç»´æŠ¤ä¸€ä¸ªåŒºé—´[l,r]ï¼Œä»¤mid=(l+r)&gt&gt1,åˆ™è¯¥èŠ‚ç‚¹çš„å·¦å„¿å­ç»´æŠ¤[l,mid]ï¼Œå³å„¿å­ç»´æŠ¤[mid+1,r]ï¼› &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æ¯ä¸ªå¶å­èŠ‚ç‚¹ç»´æŠ¤ä¸€ä¸ªç‚¹ï¼› çº¿æ®µæ ‘çš„å¹³è¡¡æ€§ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;çº¿æ®µæ ‘æ˜¯ä¸€é¢—å‡ ä¹å®Œå…¨å¹³è¡¡çš„æ ‘ã€‚ çº¿æ®µæ ‘çš„åŒºé—´æ“ä½œ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å› æ­¤å½“æˆ‘ä»¬å¯¹äºä¸€ä¸ªé•¿åº¦ä¸ºnåŒºé—´[l,r]è¿›è¡Œæ“ä½œçš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±è¦æ“ä½œæ‰€æœ‰ä¸è¿™äº›åŒºé—´ç›¸å…³èŠ‚ç‚¹ï¼Œè¿™äº›èŠ‚ç‚¹æ•°ç›®æ¥è¿‘2*Nã€‚è¦æ“ä½œ2*Nä¸ªèŠ‚ç‚¹ï¼Œï¼Œï¼Œï¼Œå¤æ‚åº¦è¿‡é«˜ï¼Œï¼Œï¼Œé—®é¢˜æ— æ³•è§£å†³ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬çš„æ“ä½œç›¸å½“äºå¯¹æ ‘è¿›è¡Œå‡½æ•°é€’å½’ã€‚ å¯¹èŠ‚ç‚¹åˆ†ç±» &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è¿™é‡Œæˆ‘ä»¬æŠŠè¿™ä¸ªé—®é¢˜ç®€åŒ–ä¸€ä¸‹ï¼Œå¯¹äºé‚£äº›èŠ‚ç‚¹å¯¹åº”åŒºé—´å±äº[l,r]çš„æˆ‘ä»¬åˆ†ä¸ºä¸€ç±»ï¼Œå¯¹äºé‚£äº›èŠ‚ç‚¹å¯¹åº”åŒºé—´ä¸[l,r]æœ‰äº¤é›†ï¼Œä½†ä¸æ˜¯[l,r]çš„å­åŒºé—´çš„èŠ‚ç‚¹æˆ‘ä»¬åˆ†ä¸ºç¬¬äºŒç±»ï¼Œç¬¬äºŒç±»èŠ‚ç‚¹ä¸€å®šæ˜¯æŸä¸ªç¬¬ä¸€ç±»èŠ‚ç‚¹çš„çˆ¶äº²èŠ‚ç‚¹ï¼Œå€Ÿæ­¤æˆ‘ä»¬å¯ä»¥åœ¨å‡½æ•°å›æº¯æ—¶å€™åˆ©ç”¨åŒºé—´åŠ æ³•å¤„ç†ï¼Œå®¹æ˜“è§£å†³ã€‚ ç»§ç»­åˆ†æå¤æ‚åº¦ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;æˆ‘ä»¬å®¹æ˜“å‘ç°ç¬¬ä¸€ç±»èŠ‚ç‚¹æ•°ç›®æ¥è¿‘ONè€Œç¬¬äºŒç±»èŠ‚ç‚¹æ•°ç›®æ¥è¿‘OlgNï¼Œç¬¬äºŒç±»èŠ‚ç‚¹ä¸€ä¸ªä¸€ä¸ªå¤„ç†å¯ä»¥æ¥å—ï¼Œç¬¬ä¸€ç±»èŠ‚ç‚¹å¿…é¡»å®‰æ’ä¸€ä¸‹ã€‚å¯ä»¥è¯æ˜ç¬¬ä¸€ç±»èŠ‚ç‚¹æ°å¥½å¯ä»¥ç”¨OlgNé¢—å­æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹å”¯ä¸€è¡¨è¾¾ã€‚ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åœ¨è¿™é‡Œæˆ‘ä»¬ç®€åŒ–é—®é¢˜ä¸ºå¯¹äºOlgNä¸ªèŠ‚ç‚¹ä»¥åŠOlgNé¢—å­æ ‘çš„æ“ä½œï¼Œ å­æ ‘çš„æ“ä½œ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ç°åœ¨æˆ‘ä»¬åªéœ€è¦è€ƒè™‘å¯¹æŸé¢—å­æ ‘è¿›è¡Œæ“ä½œ æ‡’æƒ°æ ‡è®°ï¼ˆæ‡’ä¿®æ”¹ï¼‰ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å½“æˆ‘ä»¬è¿›è¡Œä¿®æ”¹çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¯•ç€åªå¯¹è¯¥å­æ ‘çš„æ ¹è¿›è¡Œä¿®æ”¹ï¼Œå¹¶ä¸ºå…¶åŠ å…¥ä¸€ä¸ªæ‡’æƒ°æ ‡è®°ï¼Œè¡¨ç¤ºä»–çš„æ‰€æœ‰å­å­™éƒ½æœ‰ä¸€ä¸ªä¸æ‡’æƒ°æ ‡è®°æœ‰å…³çš„æ“ä½œè¿˜æœªè¿›è¡Œï¼Œ(ä¾‹å¦‚æ•´æ®µåŒºé—´åŠ ä¸Šdï¼Œæˆ‘ä»¬å°±è®¾æ‡’æƒ°æ ‡è®°ä¸ºd)&nbspï¼Œå¦‚æ­¤åŒºé—´ä¿®æ”¹å°±ä¸ç”¨è·‘åˆ°å¶å­èŠ‚ç‚¹ï¼Œå°±æˆäº†OlgN &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å½“æˆ‘ä»¬è¿›è¡ŒæŸ¥è¯¢æ—¶ï¼Œæ¯å½“æˆ‘ä»¬æŸ¥è¯¢ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæˆ‘ä»¬è¦æŸ¥è¯¢çš„æ°å¥½ä¸ºè¯¥èŠ‚ç‚¹æ‰€å¯¹åº”çš„åŒºé—´ï¼Œç›´æ¥å°±å¤„ç†äº†ï¼›å¦‚æœä¸æ˜¯è¯¥åŒºé—´ï¼Œè€Œæ˜¯è¯¥åŒºé—´çš„æŸä¸ªå­åŒºé—´ï¼Œé‚£ä¹ˆæˆ‘ä»¬è€ƒè™‘æŠŠè¯¥åŒºé—´çš„æ‡’æƒ°æ ‡è®°ä¸‹æ”¾åˆ°å·¦å³å„¿å­ï¼Œç„¶åé€’å½’å·¦å³å„¿å­ï¼Œå›æº¯ç­”æ¡ˆã€‚over &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸ºä»€ä¹ˆçº¿æ®µæ ‘å¿«ï¼Œå› ä¸ºå®ƒæŠŠåŒºé—´åˆ†æˆOlgNä¸ªå¤„ç†ï¼Œå¹¶ä¸”æ¯æ¬¡åœ¨æ ‘ä¸Šåªè·‘äº†OlgNä¸ªèŠ‚ç‚¹ï¼Œä¾æ®åŒºé—´åŠ æ³•å¤„ç†è¯¢é—®ï¼Œä¾æ®åŒºé—´åŠ æ³•å›æº¯å¤„ç†ä¿®æ”¹ï¼Œä¾æ®æ‡’æƒ°æ ‡è®°ä¸å®æ—¶æ›´æ–°å¶å­èŠ‚ç‚¹ã€‚æ‰€ä»¥çº¿æ®µæ ‘å¿«ã€‚ çº¿æ®µæ ‘å’Œæ ‘çŠ¶æ•°ç»„ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ä¸ºä»€ä¹ˆæˆ‘åœ¨å¼€å¤´è¯´çº¿æ®µæ ‘æ˜¯æ ‘çŠ¶æ•°ç»„çš„å¼ºåŒ–ç‰ˆï¼Œå› ä¸ºæ ‘çŠ¶æ•°ç»„è™½ç„¶èƒ½ä¾æ®åŒºé—´åŠ æ³•å¤„ç†è¯¢é—®ï¼Œä¹Ÿå¯ä»¥ä¾é åŒºé—´åŠ æ³•å¤„ç†æ›´æ–°ï¼Œä½†æ˜¯å®ƒçš„éå¶å­èŠ‚ç‚¹è¿‡å°‘ï¼Œå¯¼è‡´å¤æ‚çš„æ•°æ®ç»´æŠ¤æ—¶ç¨‹åºè¾ƒä¸ºå¤æ‚ï¼Œä¸å¤ªå¥½å¤„ç†ã€‚ #define ls (u&lt;&lt;1) #define rs (u&lt;&lt;1|1) #define ml ((l+r)&gt;&gt;1) #define mr (ml+1) struct segment_tree{ static const ll maxn=2.1e5; ll n; ll a[maxn],tree[maxn&lt;&lt;2],lazy[maxn&lt;&lt;2]; ////////////// //æ ‘é“¾å‰–åˆ†æ¥å£ ll rnk[maxn]; ////////////// void pushdown(ll u,ll l,ll r){ //lazy[ls]+=lazy[u]; //lazy[rs]+=lazy[u]; //tree[ls]+=lazy[u]*(ml-l+1); //tree[rs]+=lazy[u]*(r-mr+1); lazy[u]=0; } void pushup(ll u){ //tree[u]=tree[ls]+tree[rs]; } void build(ll nn){ n=nn; build(1,n,1); } void build(ll l,ll r,ll u){ lazy[u]=0; if(l==r){ //tree[u]=a[rnk[l]]; return ; } build(l,ml,ls); build(mr,r,rs); pushup(u); } void update(ll ql,ll qr,ll d){ update(ql,qr,d,1,1,n); } void update(ll ql,ll qr,ll d,ll u,ll l,ll r){ if(ql&lt;=l&amp;&amp;r&lt;=qr){ //tree[u]+=(r-l+1)*d; //lazy[u]+=d; return ; } if(lazy[u])pushdown(u,l,r); if(ql&lt;=ml)update(ql,qr,d,ls,l,ml); if(qr&gt;=mr)update(ql,qr,d,rs,mr,r); pushup(u); } ll query(ll ql,ll qr){ return query(ql,qr,1,1,n); } ll query(ll ql,ll qr,ll u,ll l,ll r){ if(ql&lt;=l&amp;&amp;r&lt;=qr)return tree[u]; ll ret=0; if(lazy[u])pushdown(u,l,r); if(ql&lt;=ml)ret+=query(ql,qr,ls,l,ml); if(qr&gt;=mr)ret+=query(ql,qr,rs,mr,r); return ret; } }; #define ml ((l+r)&gt;&gt;1) #define mr (ml+1) const int maxn=5e4+5; int rev[maxn*2*35],cov[maxn*2*35],sum[maxn*2*35],ls[maxn*2*35],rs[maxn*2*35],a[maxn],tot; void push_son(int&amp;son,int l,int r,int covrt,int revrt){// è¿™ä¸ªå‡½æ•°è¦æ³¨æ„é‡å†™ if(son==0) { son=++tot; cov[son]=-1; rev[son]=0; sum[son]=0; ls[son]=0; rs[son]=0; } if(covrt!=-1){ sum[son]=(r-l+1)*covrt; cov[son]=covrt; rev[son]=0; } if(revrt!=0){ sum[son]=(r-l+1)-sum[son]; rev[son]^=1; } } void push_down(int rt,int l,int r){ push_son(ls[rt],l,ml,cov[rt],rev[rt]);// è¿™è¡Œè¦æ³¨æ„é‡å†™ push_son(rs[rt],mr,r,cov[rt],rev[rt]);// è¿™è¡Œè¦æ³¨æ„é‡å†™ cov[rt]=-1; rev[rt]=0;// è¿™è¡Œè¦æ³¨æ„é‡å†™ } void push_up(int rt,int l,int r){ sum[rt]=sum[ls[rt]]+sum[rs[rt]];// è¿™è¡Œè¦æ³¨æ„é‡å†™ } void build(int&amp;rt,int l,int r){ rt=tot=0; push_son(rt,l,r,-1,0);// è¿™è¡Œè¦æ³¨æ„é‡å†™ } void update(int rt,int l,int r,int ql,int qr,int d,int type){// if(ql&lt;=l&amp;&amp;r&lt;=qr){// è¿™è¡Œè¦æ³¨æ„é‡å†™ if(type==1) push_son(rt,l,r,-1,1);//rev if(type==2) push_son(rt,l,r, d,0);//cover return; } push_down(rt,l,r); if(ml&gt;=ql) update(ls[rt],l,ml,ql,qr,d,type); if(mr&lt;=qr) update(rs[rt],mr,r,ql,qr,d,type); push_up(rt,l,r); } int query(int rt,int l,int r,int ql,int qr){ if(ql&lt;=l&amp;&amp;r&lt;=qr) return sum[rt];// è¿™è¡Œè¦æ³¨æ„é‡å†™ push_down(rt,l,r); int ret=0;// è¿™è¡Œè¦æ³¨æ„é‡å†™ if(ml&gt;=ql) ret+=query(ls[rt],l,ml,ql,qr);// è¿™è¡Œè¦æ³¨æ„é‡å†™ if(mr&lt;=qr) ret+=query(rs[rt],mr,r,ql,qr);// è¿™è¡Œè¦æ³¨æ„é‡å†™ return ret; }","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"stencil","slug":"ACM/è€Blogè¿ç§»/stencil","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/"},{"name":"data_struct","slug":"ACM/è€Blogè¿ç§»/stencil/data-struct","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/data-struct/"}],"tags":[]},{"title":"çº¿æ®µæ ‘å¥—çº¿æ®µæ ‘","slug":"ACM/è€Blogè¿ç§»/stencil/data_struct/çº¿æ®µæ ‘å¥—çº¿æ®µæ ‘","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"çº¿æ®µæ ‘å¥—çº¿æ®µæ ‘.html","link":"","permalink":"http://fightinggg.github.io/indigo/%E7%BA%BF%E6%AE%B5%E6%A0%91%E5%A5%97%E7%BA%BF%E6%AE%B5%E6%A0%91.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog çº¿æ®µæ ‘å¥—çº¿æ®µæ ‘ æˆ‘çš„ç¬¬ä¸€é¢—æ ‘å¥—æ ‘ &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp æ ‘å¥—æ ‘çš„æ€è·¯ä¼°è®¡éƒ½è¿™æ ·å­äº†ï¼Œæ ‘å¥—æ ‘åˆ†ä¸ºå¤–æ ‘å’Œå†…æ ‘ï¼Œä¹Ÿå¯ä»¥åˆ†ä¸ºç¬¬ä¸€ç»´æ ‘å’Œ ç¬¬äºŒç»´æ ‘ï¼Œæˆ‘è¿™é‡ŒæŠŠä»–ä»¬å«åšxæ ‘å’Œyæ ‘ï¼Œå³xæ ‘ä¸ºå¤–æ ‘ï¼Œyæ ‘ä¸ºå†…æ ‘ã€‚æˆ‘ä»¬æè¿°æ—¶ ç”¨å†…å¤–ï¼Œä»£ç ç”¨xyã€‚ &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp é¦–å…ˆæ ‘å¥—æ ‘ï¼Œé¡¾åæ€ä¹‰ï¼Œç»™å‡ºå®šä¹‰ï¼Œæ ‘å¥—æ ‘æ˜¯ä¸€æ£µèŠ‚ç‚¹æ˜¯æ ‘çš„æ ‘ã€‚ &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp äºæ˜¯ä½œä¸ºä¸€æ£µæ ‘,ä»–æœ‰è¿™äº›å‡½æ•°ï¼š &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp å»ºæ ‘buildï¼Œæ›´æ–°updateï¼ŒæŸ¥è¯¢query &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp ä¸€ä¸ªä¸€ä¸ªæ¥è¯´ å»ºæ ‘ &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp å»ºæ ‘å…ˆå»ºå¤–å±‚æ ‘ï¼Œé€’å½’å»ºæ ‘ï¼Œé€’å½’å‡ºå£ä¸ºå½“å‰å¤–æ ‘æ‰€ä»£è¡¨çš„åªæœ‰ä¸€è¡Œï¼Œ ä»–æ˜¯å¶å­ç»“ç‚¹æ ‘ï¼Œè¿™æ—¶è°ƒç”¨å»ºå†…å±‚æ ‘ï¼Œå¹¶é€€å‡ºå‡½æ•°ï¼Œå›æº¯æ—¶ï¼Œæ„å‘³ç€æ­¤æ—¶ æ˜¯éå¶å­èŠ‚ç‚¹æ ‘ï¼Œæ„å‘³ç€å¤–æ ‘æ‰€ä»£è¡¨çš„ä¸æ­¢ä¸€è¡Œï¼Œ æ„å‘³ç€æ­¤èŠ‚ç‚¹æ ‘çš„å„¿å­ èŠ‚ç‚¹æ ‘ä»¥ç»å»ºç«‹å®Œæˆï¼Œæ­¤æ—¶æˆ‘ä»¬è°ƒç”¨å»º å†…å±‚æ ‘ï¼Œ &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp å»ºæ ‘å»ºå†…å±‚æ ‘ï¼Œä¾æ—§é€’å½’ï¼Œå’Œä¸€ç»´çº¿æ®µæ ‘ç›¸æ¯”ï¼Œåªæ˜¯é€’å½’å‡ºå£æœ‰æ‰€åŒºåˆ«ï¼Œ å»ºå†…å±‚æ ‘æ—¶ï¼Œå¦‚æœè¯¥æ ‘ä¸ºå¶å­èŠ‚ç‚¹æ ‘ï¼Œç›´æ¥å¤„ç†ï¼Œä½†æ˜¯å½“ä»–ä¸ºéå¶èŠ‚ç‚¹æ ‘ çš„æ—¶å€™è¦æ³¨æ„ï¼Œæ­¤æ—¶ä¸èƒ½ç›´æ¥å¯¹å½“å‰èŠ‚ç‚¹ï¼ˆä¸æ˜¯èŠ‚ç‚¹æ ‘ï¼Œæ˜¯èŠ‚ç‚¹æ ‘çš„é€’å½’ å‡ºå£æ‰€å¯¹åº”çš„èŠ‚ç‚¹ï¼‰ä¿®æ”¹å€¼ï¼Œè€Œæ˜¯å€ŸåŠ©ä¸Šè¯‰ç»“è®ºâ€œæ„å‘³ç€æ­¤èŠ‚ç‚¹æ ‘çš„å„¿å­ èŠ‚ç‚¹æ ‘ä»¥ç»å»ºç«‹å®Œæˆâ€ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è·¨è¶Šæ ‘æ¥æ›´æ–°å€¼ï¼Œ &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp è¿™é‡Œæœ‰ç‚¹éš¾ä»¥ç†è§£ï¼Œå…¶å®ä»”ç»†çš„æƒ³æƒ³ï¼Œæˆ‘ä»¬å»ºç«‹çš„è™½ç„¶è¯´æ˜¯ä¸€é¢—äºŒç»´çš„ äºŒå‰æ ‘ï¼Œä¸¤é¢—å†…æ ‘ä¹‹é—´çš„å…³ç³»ç¡®å¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è±¡çš„é‚£ä¹ˆç®€å•ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œ å¦‚æœmi[i][j]è®°å½•äº†å¤–æ ‘èŠ‚ç‚¹æ ‘iå¯¹åº”çš„å†…æ ‘èŠ‚ç‚¹jçš„æ•°æ®ï¼Œé‚£ä¹ˆmi[i][j]åªèƒ½ ç”±mi[i][j","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"stencil","slug":"ACM/è€Blogè¿ç§»/stencil","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/"},{"name":"data_struct","slug":"ACM/è€Blogè¿ç§»/stencil/data-struct","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/data-struct/"}],"tags":[]},{"title":"é•œåƒå¹¶æŸ¥é›†","slug":"ACM/è€Blogè¿ç§»/stencil/data_struct/é•œåƒå¹¶æŸ¥é›†","date":"2019-08-05T15:23:08.000Z","updated":"2019-08-05T15:23:08.000Z","comments":true,"path":"é•œåƒå¹¶æŸ¥é›†.html","link":"","permalink":"http://fightinggg.github.io/indigo/%E9%95%9C%E5%83%8F%E5%B9%B6%E6%9F%A5%E9%9B%86.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è½¬ç§»è‡ªè€blog é•œåƒå¹¶æŸ¥é›† é•œåƒå¤„ç†æ—¶éƒ½æœ‰è¿™ç§å…³ç³» æœ‹å‹çš„æœ‹å‹æ˜¯æœ‹å‹ï¼Œæ•Œäººçš„æ•Œäººæ˜¯æœ‹å‹ï¼Œæœ‹å‹çš„æ•Œäººæ˜¯æ•Œäººï¼Œæ•Œäººçš„æœ‹å‹æ˜¯æœ‹å‹ï¼Œ å¦‚ä½•å¿«é€Ÿåˆ¤æ–­æœ‹å‹ä¸æ•Œäººå‘¢ï¼Ÿ æˆ‘ä»¬è®©æ¯ä¸ªäººéƒ½æœ‰ä¸¤é‡èº«ä»½ï¼Œä¸€ä¸ªæ˜¯è‡ªå·±ï¼Œä¸€ä¸ªæ˜¯è‡ªå·±çš„ç›¸åé¢ï¼Œå³aä¸a'æ˜¯å¤©ç”Ÿçš„æ•Œäººï¼Œbä¸b'æ˜¯å¤©ç”Ÿçš„æ•Œäºº å½“aå’Œbæˆä¸ºæœ‹å‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬è®©a'ä¸b'æˆä¸ºæœ‹å‹ï¼Œaä¸b'ï¼Œbä¸a'æˆä¸ºæ•Œäºº å½“aå’Œbæˆä¸ºæ•Œäººçš„æ—¶å€™ï¼Œæˆ‘ä»¬è®©a'ä¸b'æˆä¸ºæ•Œäººï¼Œaä¸b'ï¼Œbä¸a'æˆä¸ºæœ‹å‹ å¦‚æ­¤æˆ‘ä»¬å°±å¯ä»¥è¿…é€Ÿåˆ¤æ–­å¤šç»„è¾“å…¥æ—¶å€™çš„æœ‹å‹ä¸æ•Œäººå…³ç³»äº† ä¾‹å¦‚1ä¸2æ˜¯æ•Œäººï¼Œ2ä¸3æ˜¯æ•Œäººï¼Œ3ä¸4æ˜¯æ•Œäººï¼Œ4ä¸5æ˜¯æ•Œäºº &nbsp &nbspé—®1ä¸5ä»€ä¹ˆå…³ç³» &nbsp &nbspæˆ‘ä»¬æ¥å»ºç«‹æ¨¡å‹ &nbsp &nbsp &nbsp &nbsp1ä¸2æ˜¯æ•Œäºº&nbsp[1,&nbsp 2'].&nbsp[1',&nbsp 2] &nbsp &nbsp &nbsp &nbsp2ä¸3æ˜¯æ•Œäºº[1,&nbsp 2',&nbsp 3].&nbsp[1',&nbsp 2,&nbsp 3'] &nbsp &nbsp &nbsp &nbsp3ä¸4æ˜¯æ•Œäºº[1,&nbsp 2',&nbsp 3,&nbsp 4'].&nbsp[1',&nbsp 2,&nbsp 3',&nbsp 4] &nbsp &nbsp &nbsp &nbsp4ä¸5æ˜¯æ•Œäºº[1,&nbsp 2',&nbsp 3,&nbsp 4',&nbsp 5].&nbsp[1',&nbsp 2,&nbsp 3',&nbsp 4,&nbsp 5'] &nbsp &nbsp &nbsp &nbspä»¥ç»å¾ˆæ˜æ˜¾äº†1å’Œ5æ˜¯æœ‹å‹ 1.åˆ¤æ–­ä¸€ä¸ªå›¾æ˜¯å¦æ˜¯äºŒåˆ†å›¾ æŠŠæ¯ä¸ªç‚¹åˆ†æˆä¸¤ä¸ªç‚¹ï¼Œä¸€ä¸ªä»£è¡¨æœ¬èº«ï¼Œä¸€ä¸ªä»£è¡¨å¯¹ç«‹é¢ï¼ˆé•œåƒï¼‰ï¼Œå¯¹æ¯æ¡è¾¹ï¼ˆu,vï¼‰éƒ½ä½¿ç”¨joinï¼ˆu+n,vï¼‰,join(u,n+v) æœ€ååˆ¤æ–­findï¼ˆ1ï¼‰==findï¼ˆn+1ï¼‰ï¼Ÿç›¸ç­‰åˆ™ä¸æ˜¯äºŒåˆ†å›¾ï¼Œåä¹‹ä¸ºäºŒåˆ†å›¾","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"stencil","slug":"ACM/è€Blogè¿ç§»/stencil","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/"},{"name":"data_struct","slug":"ACM/è€Blogè¿ç§»/stencil/data-struct","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/data-struct/"}],"tags":[]},{"title":"ç±»æ¬§å‡ é‡Œå¾—ç®—æ³•","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦/ç±»æ¬§å‡ é‡Œå¾—ç®—æ³•/index","date":"2019-07-26T07:57:18.000Z","updated":"2019-07-26T07:57:18.000Z","comments":true,"path":"PV8ORI.html","link":"","permalink":"http://fightinggg.github.io/indigo/PV8ORI.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å…ˆè€ƒè™‘ä¸€ä¸ªç®€å•çš„é—®é¢˜ $$f(a,b,c,n)&#x3D;\\sum_{i&#x3D;0}^n\\lfloor\\frac{ai+b}{c}\\rfloor$$","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å…ˆè€ƒè™‘ä¸€ä¸ªç®€å•çš„é—®é¢˜ $$f(a,b,c,n)&#x3D;\\sum_{i&#x3D;0}^n\\lfloor\\frac{ai+b}{c}\\rfloor$$ æˆ‘ä»¬è¿™æ ·æ¥è§£å†³$$\\begin{aligned}\\&amp;f(a,b,c,n)\\&amp;&#x3D;\\sum_{i&#x3D;0}^n\\lfloor\\frac{ai+b}{c}\\rfloor\\&amp;&#x3D;f(a%c,b%c,c,n)+\\sum_{i&#x3D;0}^{n}(i\\lfloor\\frac{a}{c}\\rfloor+\\lfloor\\frac{b}{c}\\rfloor)\\&amp;&#x3D;f(a%c,b%c,c,n)+\\frac{n(n+1)}{2}\\lfloor\\frac{a}{c}\\rfloor+(n+1)\\lfloor\\frac{b}{c}\\rfloor\\\\&amp;ä»¤m&#x3D;\\lfloor\\frac{an+b}{c}\\rfloor\\&amp;åˆ™f(a,b,c,n)\\&amp;&#x3D;\\sum_{i&#x3D;0}^n\\lfloor\\frac{ai+b}{c}\\rfloor\\&amp;&#x3D;\\sum_{i&#x3D;0}^n\\sum_{j&#x3D;1}^m[\\lfloor\\frac{ai+b}{c}\\rfloor\\geq j]\\&amp;&#x3D;\\sum_{i&#x3D;0}^n\\sum_{j&#x3D;0}^{m-1}[\\lfloor\\frac{ai+b}{c}\\rfloor\\geq j+1]\\&amp;&#x3D;\\sum_{i&#x3D;0}^n\\sum_{j&#x3D;0}^{m-1}[ai+b \\geq cj+c]\\&amp;&#x3D;\\sum_{i&#x3D;0}^n\\sum_{j&#x3D;0}^{m-1}[ai \\gt cj+c-b-1]\\&amp;&#x3D;\\sum_{i&#x3D;0}^n\\sum_{j&#x3D;0}^{m-1}[i \\gt \\lfloor\\frac{cj+c-b-1}{a}\\rfloor]\\&amp;&#x3D;\\sum_{j&#x3D;0}^{m-1}n-\\lfloor\\frac{cj+c-b-1}{a}\\rfloor\\&amp;&#x3D;nm-f(c,c-b-1,a,m-1)\\&amp;å¯ä»¥å¼€å§‹é€’å½’ï¼Œé€’å½’å‡ºå£ m&#x3D;0\\end{aligned}$$ ç„¶åæˆ‘ä»¬è€ƒè™‘ä¸¤ä¸ªéš¾ä¸€ç‚¹çš„é¢˜ç›®ï¼ŒåŒæ—¶è§£å†³è¿™ä¸¤ä¸ªé—®é¢˜$$\\begin{aligned}&amp;h(a,b,c,n)&#x3D;\\sum_{i&#x3D;0}^n\\lfloor\\frac{ai+b}{c}\\rfloor^2\\quad\\quad\\quad\\quad g(a,b,c,n)&#x3D;\\sum_{i&#x3D;0}^ni\\lfloor\\frac{ai+b}{c}\\rfloor\\end{aligned}$$ å…ˆæ¥çœ‹h$$\\begin{aligned}&amp;h(a,b,c,n)\\&#x3D;&amp;\\sum_{i&#x3D;0}^n\\lfloor\\frac{ai+b}{c}\\rfloor^2\\&#x3D;&amp;\\sum_{i&#x3D;0}^n(\\lfloor\\frac{(a%c)i+(b%c) }{c}\\rfloor+\\lfloor\\frac{a}{c}\\rfloor i+\\lfloor\\frac{b}{c}\\rfloor)^2\\&#x3D;&amp;\\sum_{i&#x3D;0}^n(\\lfloor\\frac{(a%c)i+(b%c) }{c}\\rfloor^2+\\lfloor\\frac{a}{c}\\rfloor^2i^2+\\lfloor\\frac{b}{c}\\rfloor^2+2\\lfloor\\frac{a}{c}\\rfloor i\\lfloor\\frac{b}{c}\\rfloor+2\\lfloor\\frac{(a%c)i+(b%c) }{c}\\rfloor\\lfloor\\frac{a}{c}\\rfloor i+2\\lfloor\\frac{(a%c)i+(b%c) }{c}\\rfloor\\lfloor\\frac{b}{c}\\rfloor\\&#x3D;&amp;h(a%c,b%c,c,n)+2\\lfloor\\frac{a}{c}\\rfloor g(a%c,b%c,c,n)+2\\lfloor\\frac{b}{c}\\rfloor f(a%c,b%c,c,n)+\\lfloor\\frac{a}{c}\\rfloor^2\\frac{n(n+1)(2n+1)}{6}+2\\lfloor\\frac{a}{c}\\rfloor \\lfloor\\frac{b}{c}\\rfloor\\frac{n(n+1)}{2}+(n+1)\\lfloor\\frac{b}{c}\\rfloor^2\\end{aligned}$$ è¿™é‡Œæˆ‘ä»¬åªç”¨å…³å¿ƒç¬¬ä¸€é¡¹$$\\begin{aligned}&amp;ä»¤m&#x3D;\\lfloor\\frac{an+b}{c}\\rflooråˆ™\\&amp;h(a,b,c,n)\\&#x3D;&amp;\\sum_{i&#x3D;0}^n\\lfloor\\frac{ai+b}{c}\\rfloor^2\\&#x3D;&amp;\\sum_{i&#x3D;0}^n(\\sum_{j&#x3D;1}^m[\\lfloor\\frac{ai+b}{c}\\rfloor\\geq j])^2\\&#x3D;&amp;\\sum_{i&#x3D;0}^n(\\sum_{j&#x3D;0}^{m-1}[i \\gt \\lfloor\\frac{cj+c-b-1}{a}\\rfloor])^2\\&#x3D;&amp;\\sum_{i&#x3D;0}^n\\sum_{j&#x3D;0}^{m-1}[i \\gt \\lfloor\\frac{cj+c-b-1}{a}\\rfloor]\\sum_{k&#x3D;0}^{m-1}[i \\gt \\lfloor\\frac{ck+c-b-1}{a}\\rfloor]\\&#x3D;&amp;\\sum_{i&#x3D;0}^n\\sum_{j&#x3D;0}^{m-1}\\sum_{k&#x3D;0}^{m-1}[i \\gt \\lfloor\\frac{cj+c-b-1}{a}\\rfloor]*[i \\gt \\lfloor\\frac{ck+c-b-1}{a}\\rfloor]\\&#x3D;&amp;\\sum_{i&#x3D;0}^n\\sum_{j&#x3D;0}^{m-1}\\sum_{k&#x3D;0}^{m-1}[i \\gt max(\\lfloor\\frac{cj+c-b-1}{a}\\rfloor,\\lfloor\\frac{ck+c-b-1}{a}\\rfloor)]\\&#x3D;&amp;\\sum_{i&#x3D;0}^n\\sum_{j&#x3D;0}^{m-1}\\sum_{k&#x3D;0}^{m-1}[i \\gt max(\\lfloor\\frac{cj+c-b-1}{a}\\rfloor,\\lfloor\\frac{ck+c-b-1}{a}\\rfloor)]\\&#x3D;&amp;nm^2-\\sum_{j&#x3D;0}^{m-1}\\sum_{k&#x3D;0}^{m-1} max(\\lfloor\\frac{cj+c-b-1}{a}\\rfloor,\\lfloor\\frac{ck+c-b-1}{a}\\rfloor)\\&#x3D;&amp;nm^2-2\\sum_{j&#x3D;0}^{m-1}j\\lfloor\\frac{cj+c-b-1}{a}\\rfloor-\\sum_{j&#x3D;0}^{m-1}\\lfloor\\frac{cj+c-b-1}{a}\\rfloor\\&#x3D;&amp;nm^2-2g(c,c-b-1,a,m-1)-f(c,c-b-1,a,m-1)\\end{aligned}$$æ¨å‡ºæ¥äº†ã€‚ã€‚ã€‚ã€‚ã€‚ ç„¶åæˆ‘ä»¬æ¥æ€¼g$$\\begin{aligned}&amp;g(a,b,c,n)\\&#x3D;&amp;\\sum_{i&#x3D;0}^ni\\lfloor\\frac{ai+b}{c}\\rfloor\\&#x3D;&amp;\\sum_{i&#x3D;0}^ni\\lfloor\\frac{(a%c)i+b%c}{c}+\\lfloor\\frac{a}{c}\\rfloor i+\\lfloor\\frac{b}{c}\\rfloor\\rfloor \\&#x3D;&amp;\\sum_{i&#x3D;0}^ni(\\lfloor\\frac{(a%c)i+b%c}{c}\\rfloor+\\lfloor\\frac{a}{c}\\rfloor i+\\lfloor\\frac{b}{c}\\rfloor)\\&#x3D;&amp;\\sum_{i&#x3D;0}^ni\\lfloor\\frac{(a%c)i+b%c}{c}\\rfloor+\\sum_{i&#x3D;0}^n\\lfloor\\frac{a}{c}\\rfloor i^2+\\sum_{i&#x3D;0}^n\\lfloor\\frac{b}{c}\\rfloor i\\&#x3D;&amp;\\frac{n(n+1)(2n+1)}{6}\\lfloor\\frac{a}{c}\\rfloor +\\frac{n(n+1)}{2}\\lfloor\\frac{b}{c}\\rfloor +\\sum_{i&#x3D;0}^ni\\lfloor\\frac{(a%c)i+b%c}{c}\\rfloor\\&#x3D;&amp;g(a%c,b%c,c,n)+\\frac{n(n+1)(2n+1)}{6}\\lfloor\\frac{a}{c}\\rfloor +\\frac{n(n+1)}{2}\\lfloor\\frac{b}{c}\\rfloor\\end{aligned}$$åŒç†æˆ‘ä»¬åªå…³å¿ƒç¬¬ä¸€é¡¹$$\\begin{aligned}&amp;g(a,b,c,n)\\&#x3D;&amp;\\sum_{i&#x3D;0}^ni\\lfloor\\frac{ai+b}{c}\\rfloor\\&#x3D;&amp;\\sum_{i&#x3D;0}^n(i\\sum_{j&#x3D;1}^m[\\lfloor\\frac{ai+b}{c}\\rfloor \\geq j])\\&#x3D;&amp;\\sum_{i&#x3D;0}^n(i\\sum_{j&#x3D;0}^{m-1}[i \\gt \\lfloor\\frac{cj+c-b-1}{a}\\rfloor])\\&#x3D;&amp;\\sum_{i&#x3D;0}^n\\sum_{j&#x3D;0}^{m-1}i[i \\gt \\lfloor\\frac{cj+c-b-1}{a}\\rfloor]\\&#x3D;&amp;\\sum_{j&#x3D;0}^{m-1}\\sum_{i&#x3D;\\lfloor\\frac{cj+c-b-1}{a}\\rfloor+1}^ni\\&#x3D;&amp;\\sum_{j&#x3D;0}^{m-1}\\frac{(n+\\lfloor\\frac{cj+c-b-1}{a}\\rfloor+1)(n-(\\lfloor\\frac{cj+c-b-1}{a}\\rfloor+1)+1)}{2}\\&#x3D;&amp;\\sum_{j&#x3D;0}^{m-1}\\frac{(n+\\lfloor\\frac{cj+c-b-1}{a}\\rfloor+1)(n-\\lfloor\\frac{cj+c-b-1}{a}\\rfloor)}{2}\\&#x3D;&amp;\\sum_{j&#x3D;0}^{m-1}\\frac{n^2-\\lfloor\\frac{cj+c-b-1}{a}\\rfloor^2+n-\\lfloor\\frac{cj+c-b-1}{a}\\rfloor}{2}\\&#x3D;&amp;\\frac{n(n+1)m}{2}-\\frac{\\sum_{j&#x3D;0}^{m-1}\\lfloor\\frac{cj+c-b-1}{a}\\rfloor^2}{2}-\\frac{\\sum_{j&#x3D;0}^{m-1}\\lfloor\\frac{cj+c-b-1}{a}\\rfloor}{2}\\&#x3D;&amp;\\frac{n(n+1)m}{2}-\\frac{h(c,c-b-1,a,m-1)}{2}-\\frac{f(c,c-b-1,a,m-1)}{2}\\\\end{aligned}$$æ¨å®Œäº†æ€»ç»“ä¸€ä¸‹$$\\begin{aligned}&amp;f(a,b,c,n)&#x3D;\\sum_{i&#x3D;0}^n\\lfloor\\frac{ai+b}{c}\\rfloor\\&amp;h(a,b,c,n)&#x3D;\\sum_{i&#x3D;0}^n\\lfloor\\frac{ai+b}{c}\\rfloor^2 \\&amp; g(a,b,c,n)&#x3D;\\sum_{i&#x3D;0}^ni\\lfloor\\frac{ai+b}{c}\\rfloor \\\\&amp;f(a,b,c,n)&#x3D;f(a%c,b%c,c,n)+\\frac{n(n+1)}{2}\\lfloor\\frac{a}{c}\\rfloor+(n+1)\\lfloor\\frac{b}{c}\\rfloor\\&amp;h(a,b,c,n)&#x3D;h(a%c,b%c,c,n)+2\\lfloor\\frac{a}{c}\\rfloor g(a%c,b%c,c,n)+2\\lfloor\\frac{b}{c}\\rfloor f(a%c,b%c,c,n)+\\lfloor\\frac{a}{c}\\rfloor^2\\frac{n(n+1)(2n+1)}{6}+2\\lfloor\\frac{a}{c}\\rfloor \\lfloor\\frac{b}{c}\\rfloor\\frac{n(n+1)}{2}+(n+1)\\lfloor\\frac{b}{c}\\rfloor^2\\&amp;g(a,b,c,n)&#x3D;g(a%c,b%c,c,n)+\\frac{n(n+1)(2n+1)}{6}\\lfloor\\frac{a}{c}\\rfloor +\\frac{n(n+1)}{2}\\lfloor\\frac{b}{c}\\rfloor\\\\&amp;f(a,b,c,n)&#x3D;nm-f(c,c-b-1,a,m-1)\\&amp;h(a,b,c,n)&#x3D;nm^2-2g(c,c-b-1,a,m-1)-f(c,c-b-1,a,m-1)\\&amp;g(a,b,c,n)&#x3D;\\frac{n(n+1)m}{2}-\\frac{h(c,c-b-1,a,m-1)}{2}-\\frac{f(c,c-b-1,a,m-1)}{2}\\\\end{aligned}$$ 123456789101112131415161718192021222324void calfgh_baoli(ll a,ll b,ll c,ll n,ll&amp;f,ll&amp;g,ll&amp;h)&#123; f=g=h=0; for(ll i=0;i&lt;=n;i++) &#123; f+=(a*i+b)/c; g+=i*((a*i+b)/c); h+=((a*i+b)/c)*((a*i+b)/c); &#125;&#125;// a&gt;=0 b&gt;=0 c&gt;0 n&gt;=0 -&gt; O(lg(a,c))void calfgh(ll a,ll b,ll c,ll n,ll&amp;f,ll&amp;g,ll&amp;h)&#123; ll A=a/c,B=b/c,s0=n+1,s1=n*(n+1)/2,s2=n*(n+1)*(2*n+1)/6; f=s1*A+s0*B; g=s2*A+s1*B; h=s2*A*A+s0*B*B+2*s1*A*B-2*B*f-2*A*g;// å…ˆå‡æ‰ a%=c,b%=c; ll m=(a*n+b)/c; if(m!=0) &#123; ll ff,gg,hh; calfgh(c,c-b-1,a,m-1,ff,gg,hh); f+=n*m-ff; g+=(n*m*(n+1)-hh-ff)/2; h+=n*m*m-2*gg-ff; &#125; h+=2*B*f+2*A*g;//å†åŠ ä¸Š&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ•°å­¦","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%95%B0%E5%AD%A6/"}],"tags":[]},{"title":"æ–¯å¦çº³æ ‘","slug":"ACM/å­¦ä¹ ç¬”è®°/å›¾è®º/æ–¯å¦çº³æ ‘/index","date":"2019-07-16T02:57:34.000Z","updated":"2019-07-16T02:57:34.000Z","comments":true,"path":"PUPS7Y.html","link":"","permalink":"http://fightinggg.github.io/indigo/PUPS7Y.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial dpçš„æ„ä¹‰ä»£ç ä¸­å†™çš„å¾ˆæ¸…æ¥šï¼Œå”¯ä¸€è¦æ³¨æ„çš„æ˜¯ï¼Œæœ‰ä¸€ä¸ªå¡å¸¸çš„åœ°æ–¹ï¼Œæ˜¾ç„¶å¯¹äºnä¸ªç‚¹mæ¡è¾¹å–kä¸ªç‚¹çš„æ–¯å¦çº³æ ‘ï¼Œæˆ‘ä»¬çš„dpæœ‰æ„ä¹‰å¼€åˆ°dp[1&lt;&lt;k][n]å—ï¼Ÿ è¿™é‡Œæ˜¯ä¸å¿…çš„ï¼Œæˆ‘ä»¬åªéœ€è¦å¼€åˆ°dp[1&lt;&lt;(k-1)][n]å³å¯ï¼Œå¾ˆå®¹æ˜“æƒ³åˆ°dp[(1&lt;&lt;k)-1][any]ä¸­å¯¹äºæ‰€æœ‰0&lt;any&lt;=kéƒ½æ˜¯ç­”æ¡ˆ,ç„¶è€Œå´ä¸ä¸€å®šèƒ½æƒ³åˆ° dp[(1&lt;&lt;(k-1))-1][k]ä¹Ÿæ˜¯ç­”æ¡ˆï¼Œå€Ÿæ­¤æˆ‘ä»¬å¯ä»¥æå‡50%çš„æ—¶ç©ºæ€§èƒ½ ç‰›å®¢ä¸Šçš„é¢˜ç›® 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899#include &lt;bits/stdc++.h&gt;using namespace std;const int mod = 1e9 + 7;int k;/**graph*/struct star &#123; int v, nex;&#125; edge[1000 * 2];int head[50], cnt, n, m;void ini() &#123; cnt = -1; for (int i = 0; i &lt; n; i++) head[i] = -1;&#125;void add_edge(int u, int v) &#123; edge[++cnt] = star&#123;v, head[u]&#125;, head[u] = cnt; edge[++cnt] = star&#123;u, head[v]&#125;, head[v] = cnt;&#125;/**dp*/struct dpnode &#123; int w, ct; dpnode(int w = 0, int ct = 0) : w(w), ct(ct) &#123;&#125;&#125;;dpnode dp[3][1 &lt;&lt; 12][50];// dp[0][s][i] ä¿è¯sè”é€šçš„æ–¯å¦çº³æ ‘çš„ç­”æ¡ˆä¸­ åŒ…å«èŠ‚ç‚¹içš„éƒ¨åˆ†// dp[1][s][i] ä¿è¯sè”é€š ä¸” åˆ é™¤ièŠ‚ç‚¹ä»¥åä¾æ—§è”é€š çš„æ–¯å¦çº³æ ‘çš„ç­”æ¡ˆä¸­ åŒ…å«èŠ‚ç‚¹içš„éƒ¨åˆ†// dp[2][s][i] ä¿è¯sè”é€š ä¸” åˆ é™¤ièŠ‚ç‚¹ä»¥åä¸è”é€šäº† çš„æ–¯å¦çº³æ ‘çš„ç­”æ¡ˆä¸­ åŒ…å«èŠ‚ç‚¹içš„éƒ¨åˆ†// if ( dp[1].w==dp[2].w ) dp[0]=merge(dp[1],dp[2])// elif ( dp[1].w&lt; dp[2].w ) dp[0]=dp[1]// else dp[0]=dp[2]dpnode dpmerge(dpnode a, dpnode b) &#123; return dpnode(a.w + b.w, 1ll * a.ct * b.ct % mod);&#125;void upd(dpnode &amp;a, dpnode b) &#123; if (b.w &lt; a.w) a = b; else if (b.w == a.w) &#123; a.ct = a.ct + b.ct; if (a.ct &gt;= mod) a.ct -= mod; &#125;&#125;int main() &#123; while (~scanf(&quot;%d%d%d&quot;, &amp;n, &amp;m, &amp;k)) &#123; ini(); for (int i = 0, u, v; i &lt; m; i++) &#123; scanf(&quot;%d%d&quot;, &amp;u, &amp;v); add_edge(u - 1, v - 1); &#125; k--; for (int s = 0; s &lt; 1 &lt;&lt; k; s++) &#123; for (int i = 0; i &lt; n; i++) dp[0][s][i] = dp[1][s][i] = dp[2][s][i] = dpnode(1e9, 0); &#125; for (int i = 0; i &lt; k; i++) &#123; upd(dp[1][1 &lt;&lt; i][i], dpnode(0, 1)); upd(dp[0][1 &lt;&lt; i][i], dpnode(0, 1)); &#125; for (int s = 1; s &lt; 1 &lt;&lt; k; s++) &#123; for (int i = 0; i &lt; n; i++) &#123; for (int s0 = (s - 1) &amp; s; s0; s0 = (s0 - 1) &amp; s) &#123;//æšä¸¾sçš„éç©ºçœŸå­é›† if ((s0 &amp; -s0) == (s &amp; -s)) &#123;// s0 å¿…ç„¶åŒ…å«sçš„æœ€å°çš„ç‚¹// upd(dp[2][s][i], dpmerge(dp[1][s0][i], dp[0][s ^ s0][i])); upd(dp[0][s][i], dpmerge(dp[1][s0][i], dp[0][s ^ s0][i]));// type1 &#125; &#125; &#125; // dij struct dijnode &#123; int w,id; bool operator&lt;(const dijnode &amp;rhs) const &#123; return w &gt; rhs.w; &#125; &#125;; priority_queue&lt;dijnode&gt; q; for (int i = 0; i &lt; n; i++) q.push(dijnode&#123;dp[0][s][i].w, i&#125;); while (!q.empty()) &#123; dijnode top = q.top(); q.pop(); if(top.w!=dp[0][s][top.id].w) continue; for (int i = head[top.id]; ~i; i = edge[i].nex) &#123; if (top.w + 1 &lt;= dp[0][s][edge[i].v].w) &#123; upd(dp[1][s][edge[i].v], dpmerge(dp[0][s][top.id], dpnode(1, 1))); upd(dp[0][s][edge[i].v], dpmerge(dp[0][s][top.id], dpnode(1, 1))); // type2 q.push(dijnode&#123;dp[0][s][edge[i].v].w, edge[i].v&#125;); &#125; &#125; &#125; &#125; cout &lt;&lt; dp[0][(1 &lt;&lt; k) - 1][k].ct+1-1 &lt;&lt; endl; &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"å›¾è®º","slug":"ACM/å­¦ä¹ ç¬”è®°/å›¾è®º","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%9B%BE%E8%AE%BA/"}],"tags":[]},{"title":"æ ‘çš„æœ€å°è·¯å¾„è¦†ç›–","slug":"ACM/å­¦ä¹ ç¬”è®°/å›¾è®º/æ ‘çš„æœ€å°è·¯å¾„è¦†ç›–/index","date":"2019-07-13T03:48:33.000Z","updated":"2019-07-13T03:48:33.000Z","comments":true,"path":"PUKAKX.html","link":"","permalink":"http://fightinggg.github.io/indigo/PUKAKX.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ç”¨æœ€å°‘æ¡æ•°çš„è·¯å¾„è¦†ç›–æ ‘ï¼Œè¿™æ˜¯ä¸€ä¸ªæ ‘dpé—®é¢˜ 1234567891011121314151617181920212223void dfs(int u,int father)&#123; int sum=0; for(int i=head[u];~i;i=edge[i].nex)&#123; if(edge[i].v==father) continue; dfs(edge[i].v,u); sum+=dp[edge[i].v][0]; &#125; dp[u][0]=sum+1;//å­æ ‘è·¯å¾„è¦†ç›–çš„ç­”æ¡ˆ dp[u][1]=sum+1; vector&lt;int&gt;update; for(int i=head[u];~i;i=edge[i].nex)&#123; if(edge[i].v==father) continue; update.push_back(-dp[edge[i].v][0]+dp[edge[i].v][1]-1); &#125; sort(update.begin(),update.end()); if(update.size()&gt;=1) &#123; if(update[0]&lt;0) dp[u][0]+=update[0]; if(update[0]&lt;0) dp[u][1]+=update[0]; &#125; if(update.size()&gt;=2)&#123; if(update[1]&lt;0) dp[u][0]+=update[1]; &#125;&#125;// dp[root][0] is min path cover the tree","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"å›¾è®º","slug":"ACM/å­¦ä¹ ç¬”è®°/å›¾è®º","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%9B%BE%E8%AE%BA/"}],"tags":[]},{"title":"cf_468_B","slug":"ACM/è€Blogè¿ç§»/blog/span/cf_468_B/index","date":"2019-06-21T16:00:00.000Z","updated":"2019-06-21T16:00:00.000Z","comments":true,"path":"PTGHS0.html","link":"","permalink":"http://fightinggg.github.io/indigo/PTGHS0.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial é¢˜æ„ç»™ä½ ä¸€ä¸ªé›†åˆsè®©ä½ æŠŠè¿™ä¸ªé›†åˆåˆ’åˆ†ä¸ºä¸¤ä¸ªé›†åˆåœ¨é›†åˆAä¸­è‹¥xå­˜åœ¨åˆ™a-xä¹Ÿå­˜åœ¨åœ¨é›†åˆBä¸­è‹¥xå­˜åœ¨åˆ™b-xä¹Ÿå­˜åœ¨ æ•°æ®èŒƒå›´|s|&lt;1e5 a&lt;1e9 b&lt;1e9 æ³¨æ„é›†åˆä¸­ä¸åŒ…å«ç›¸åŒçš„æ•° é¢˜è§£ä½¿ç”¨å¹¶æŸ¥é›†ç»´æŠ¤ï¼Œå®¹æ˜“è¯æ˜è‹¥xå’Œa-xå­˜åœ¨ï¼Œåˆ™ä»–ä»¬å¿…å®šåœ¨åŒä¸€ä¸ªé›†åˆä¸­xå’Œb-xåŒç† ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546#include&lt;bits/stdc++.h&gt;using namespace std;map&lt;int,int&gt;fa;int find(int x)&#123; if(fa.find(x)==fa.end()) fa[x]=x; return x==fa[x]?x:fa[x]=find(fa[x]);&#125;void join(int x,int y)&#123; int f1=find(x); int f2=find(y); if(f1&gt;f2) swap(f1,f2); // f1 fa[f1]=f2;&#125;map&lt;int,int&gt;mp;const int maxn=1e5+5;int p[maxn];int main()&#123; int n,a,b; scanf(&quot;%d%d%d&quot;,&amp;n,&amp;a,&amp;b); for(int i=1;i&lt;=n;i++) &#123; scanf(&quot;%d&quot;,p+i); mp[p[i]]++; &#125; const int A=1e9+123; const int B=1e9+124; for(int i=1;i&lt;=n;i++) &#123; if(mp.find(a-p[i])!=mp.end()) join(p[i],a-p[i]); else join(p[i],B); if(mp.find(b-p[i])!=mp.end()) join(p[i],b-p[i]); else join(p[i],A); &#125; if(find(A)==find(B))&#123; printf(&quot;NO\\n&quot;); &#125; else&#123; printf(&quot;YES\\n&quot;); for(int i=1;i&lt;=n;i++) &#123; if(find(p[i])&lt;=1e9) join(p[i],A); if(find(p[i])==A) printf(&quot;0 &quot;); else printf(&quot;1 &quot;); &#125; &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"blog","slug":"ACM/è€Blogè¿ç§»/blog","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/blog/"},{"name":"span","slug":"ACM/è€Blogè¿ç§»/blog/span","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/blog/span/"}],"tags":[]},{"title":"å¤šé¡¹å¼","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦/å¤šé¡¹å¼/index","date":"2019-06-17T13:56:57.000Z","updated":"2019-06-17T13:56:57.000Z","comments":true,"path":"PT8XEX.html","link":"","permalink":"http://fightinggg.github.io/indigo/PT8XEX.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å¤šé¡¹å¼å¤šé¡¹å¼åœ¨è®¡ç®—æœºä¸­ä¸€èˆ¬ä»¥æ•°ç»„æ–¹å¼å‚¨å­˜ï¼Œå‡è®¾æœ‰ä¸€ä¸ªå¤šé¡¹å¼$f(x)$ï¼Œå¹¶ä¸”$x^i$å‰é¢çš„ç³»æ•°ä¸º$a_i$ï¼Œé‚£ä¹ˆæ˜¾ç„¶æˆ‘ä»¬æ°å¥½å¯ä»¥ç”¨ä¸€ä¸ªæ•°ç»„$a$æ¥æè¿°è¿™ä¸ªå¤šé¡¹å¼ï¼Œ å¤šé¡¹å¼çš„ç³»æ•°$a_i$æ°å¥½å­˜åœ¨æ•°ç»„$a$çš„ç¬¬$i$é¡¹$a[i]$ å¤šé¡¹å¼dftåœ¨ä¸€èˆ¬çš„å¤šé¡¹å¼ä¸­ï¼Œå¦‚æœæ¨¡æ•°å…è®¸ï¼Œä¹˜æ³•é‡‡å–nttæ¥åšï¼Œå› ä¸ºé€Ÿåº¦è¾ƒå¿«ï¼Œå¤šé¡¹å¼ä¹˜æ³•æ˜¯æ•´ä¸ªå¤šé¡¹å¼ä½“ç³»çš„åŸºçŸ³ï¼Œä»–çš„å¸¸æ•°å¦‚æœå¤ªå¤§ï¼Œå°†å½±å“åˆ°åé¢çš„æ‰€ æœ‰çš„å¤šé¡¹å¼æ“ä½œ å¤šé¡¹å¼å‰æœŸé¢„å¤„ç†æˆ‘ä»¬éœ€è¦è®¾ç½®å¤šé¡¹å¼æœ€å¤§é•¿åº¦ï¼Œæ¨¡æ•°ï¼ŒåŸæ ¹ï¼Œå¤šé¡¹å¼æœ€å¤§é•¿åº¦çš„logï¼Œä»¥åŠå…³é”®ç‚¹reduceå‡½æ•°ï¼Œä¼ å…¥ä¸€ä¸ª-modåˆ°modä¹‹é—´çš„æ•°xï¼Œè¿”å›x%mod,ä»–æ¯”å–æ¨¡æ›´å¿«ï¼Œç„¶åæ˜¯å¿«é€Ÿå¹‚ï¼Œåœ¨å¾€åæ˜¯å¤æ•°iåœ¨æ¨¡æ„ä¹‰ä¸‹çš„å€¼ï¼Œ2iåœ¨æ¨¡æ„ä¹‰ä¸‹çš„é€†å…ƒ,ä»¥åŠåé¢çš„é€†å…ƒæ•°ç»„å’Œä»–çš„åˆå§‹åŒ–å‡½æ•° 12345678910111213141516171819202122const int maxn=100005&lt;&lt;2,mod = 998244353,g=3;// const èƒ½æ˜æ˜¾åŠ é€Ÿä»£ç const int lgmaxn=20;#define reduce(x) ((x)+(((x)&gt;&gt;31)&amp;mod))int qpow(int a,int b)&#123; int ret=1; while(b)&#123; if(b&amp;1) ret=1ll*ret*a%mod; a=1ll*a*a%mod; b&gt;&gt;=1; &#125; return ret;&#125;int I=86583718;int inv2=qpow(2,mod-2);int inv2I=qpow(2*I,mod-2);int inv[maxn]=&#123;1,1&#125;;void inv_ini()&#123; for(int i=2;i&lt;maxn;++i) inv[i]=1ll*(mod-mod/i)*(inv[mod%i])%mod;&#125; dftè´è¶å˜åŒ–å¿…é¡»é¢„å¤„ç†å‡ºæ¥ï¼Œå¦åˆ™å¤ªæ…¢ï¼Œæœ€å‰é¢çš„æ˜¯è´è¶å˜æ¢r[i][j]æ•°ç»„ï¼Œ ä¹‹åæ˜¯nttå•ä½æ ¹wnæ•°ç»„å’Œä»–çš„é€†å…ƒæ•°ç»„ã€‚æ¥ç€æ˜¯nttçš„æ•°ç»„çš„é¢„å¤„ç†å‡½æ•°ä»¥åŠnttå‡½æ•°æœ¬ä½“ 123456789101112131415161718192021222324int allr[maxn&lt;&lt;1],*r[30],ntt_wn[30],ntt_revwn[30]; // ç‰¹åˆ«è¯¦ç»†ï¼Œæ²¡å•¥å…¶ä»–å¯è¯´çš„ //https://wenku.baidu.com/view/b438a51cce84b9d528ea81c758f5f61fb7362826.htmlvoid dft_ini()&#123; // ntt é«˜æ€§èƒ½ r[0]=allr; for(int n=1,bit=0;n&lt;maxn;n&lt;&lt;=1,bit++)&#123; for(int i=0;i&lt;n;++i)r[bit][i]=(r[bit][i&gt;&gt;1]&gt;&gt;1)|((i&amp;1)&lt;&lt;(bit-1)); r[bit+1]=r[bit]+n; ntt_wn[bit]=qpow(g,(mod-1)&gt;&gt;bit);// å•ä½æ ¹ ntt_revwn[bit]=qpow(ntt_wn[bit],mod-2);//é€†å˜æ¢åˆ™ä¹˜ä¸Šé€†å…ƒ &#125;&#125;void dft(int*a,int n,int bits,int opt)&#123; // ntt for(int i=0;i&lt;n;++i) if(i&lt;r[bits][i]) swap(a[i],a[r[bits][i]]); for(int k=1,bit=0;k&lt;n;k&lt;&lt;=1,bit++)&#123; int wn=opt==1?ntt_wn[bit+1]:ntt_revwn[bit+1]; for (int i=0;i&lt;n;i+=(k&lt;&lt;1))&#123; for (int j=0,w=1; j&lt;k; j++,w=1ll*w*wn%mod)&#123; int x=a[i+j], y=1ll*w*a[i+j+k]%mod; a[i+j]=reduce(x+y-mod), a[i+j+k]=reduce(x-y); &#125; &#125; &#125; if(opt==-1) for(int i=0;i&lt;n;++i) a[i]=1ll*a[i]*inv[n]%mod;&#125;//1800ms+ å¤šé¡¹å¼æ‹“å±•ä¸å¯¹é½ä¸ºäº†åæœŸä»£ç å¯è§‚æ€§è‰¯å¥½ï¼Œä»¥åŠå°‘å†™ä¸€äº›å¥‡æ€ªçš„ä»£ç ï¼Œpoly_cpy(int*a,int n,int*b,int exn)æä¾›äº†å¤šé¡¹å¼æ‹·è´ç­‰æ“ä½œï¼Œå³å°†ä¸€ä¸ªå¤šé¡¹å¼æ‹·è´åˆ°å¦å¤–ä¸€ä¸ªå¤šé¡¹å¼ï¼Œå¿…é¡»ä¿è¯exn&gt;&#x3D;n ï¼Œå³å…ˆå°†a[0â€¦n-1]æ‹·è´åˆ°b[0â€¦n-1] ç„¶åæŠŠbæ•°ç»„å¤šä½™çš„éƒ¨åˆ†æ¸…é›¶ã€‚è¿™é‡Œå¦‚æœabä¸ºåŒä¸€ä¸ªæ•°ç»„ï¼Œå°±ä¸å¿…è¿›è¡Œæ‹·è´äº†ã€‚ 1234void poly_cpy(int*a,int n,int *b,int exn)&#123;// if(a!=b) memcpy(b,a,sizeof(b[0])*n); if(n&lt;exn) memset(b+n,0,sizeof(b[0])*(exn-n));&#125; å¤šé¡¹å¼ä¹˜æ³•ä¸ºäº†é˜²æ­¢å¸¸æ•°é—®é¢˜ï¼Œè¿™é‡Œä¾æ—§é‡‡å–æœ€ç®€å•çš„æ–¹å¼ï¼Œä¸è®©æ•°ç»„å‘ç”Ÿè¿‡å¤šçš„æ‹·è´ï¼Œæˆ‘ä»¬åªå®ç°a*=bè¿™ä¸€ä¸ªæ­¥éª¤ï¼Œä¸å®ç°c=a*bè¿™ç§ï¼Œå¾ˆå¥—è·¯çš„ä¹˜æ³•ï¼Œå…ˆå˜ä¸ºç‚¹æŒ‡è¡¨ç¤ºæ³• ç„¶åå˜ä¸ºç³»æ•°è¡¨ç¤ºæ³•å³å¯ 1234567891011void poly_mul(int*a,int na,int*b,int nb)&#123; static int c[maxn]; int exn=1,bits=0; while(exn&lt;na+nb-1) exn&lt;&lt;=1,bits++; poly_cpy(a,na,a,exn); poly_cpy(b,nb,c,exn); dft(a,exn,bits,1); dft(c,exn,bits,1); for(int i=0;i&lt;exn;i++) a[i]=1ll*a[i]*c[i]%mod; dft(a,exn,bits,-1);&#125; å¤šé¡¹å¼æ±‚é€†è‹¥ä¸¤ä¸ªå¤šé¡¹å¼$f$å’Œ$g$ï¼Œæ±‚å‡º$f*g$ç„¶åè®©ç³»æ•°å¯¹modå–æ¨¡ï¼Œå¤šé¡¹å¼å¿½ç•¥é«˜äº$x^k$æ¬¡çš„é¡¹åç­‰äº1ï¼Œåˆ™$f$å’Œ$g$äº’é€† è¿™ä¸ªåœ°æ–¹å¾ˆéš¾ä»¥ç†è§£ï¼Œå› ä¸ºæœ‰ä¸¤ä¸ªå–æ¨¡ï¼Œæ‰€ä»¥ä¼šè®©å¾ˆå¤šåˆå­¦è€…æ„Ÿåˆ°å›°æƒ‘ï¼Œåªè¦æ³¨æ„ä¸¤ä¸ªæ¨¡æ˜¯ä¸åŒçš„ï¼Œä¸€ä¸ªæ˜¯ç³»æ•°å¯¹modå–æ¨¡ï¼Œå¦ä¸€ä¸ªæ˜¯å¤šé¡¹å¼æ•´ä½“å¯¹$x^k$å–æ¨¡ï¼Œå³å¯ æ•´ä¸ªç®—æ³•é‡‡å–ç‰›é¡¿è¿­ä»£æ³•æ¥å®Œæˆï¼Œå¾ˆå®¹æ˜“è¢«æ•°å­¦å½’çº³æ³•è¯æ˜ï¼Œ$f(x)*g(x)&#x3D;&#x3D;&#x3D;1(x^k,mod)$,å½“kç­‰äº1çš„æ—¶å€™ï¼Œéå¸¸å¥½å¾—å‡ºç»“æœï¼Œæ˜¾ç„¶é‚£æ—¶å€™g(x)è‡³å°‘éœ€è¦ 1é¡¹ï¼Œå³å¸¸æ•°é¡¹ï¼Œå¤§äºå¸¸æ•°é¡¹çš„éƒ¨åˆ†æ— æ•ˆçš„ï¼Œè¿™ä¸ªå¾ˆå®¹æ˜“è¯æ˜ï¼Œè¿™ä¸€é¡¹ç­‰äº$f(x)$çš„å¸¸æ•°é¡¹çš„é€†å…ƒã€‚ç„¶åæˆ‘ä»¬æ¥æ ¹æ®$f(x)*g(x)&#x3D;&#x3D;&#x3D;1(x^k,mod)$æ¨å‡º$f(x)g(x)&#x3D;&#x3D;&#x3D;1(x^2k,mod)$ çš„ç»“æœ,ä»¥ä¸‹æ˜¯æ¨å¯¼è¿‡ç¨‹,æ˜¾ç„¶$g(x)&#x3D;g(x)(2-f(x)*g(x))$,åªè¦è‡ªå·±æ³¨æ„ä¸€ä¸‹é¡¹æ•°çš„å˜åŒ–å³å¯ï¼Œç„¶åæˆ‘ä»¬å€å¢å³å¯å¾—å‡ºç­”æ¡ˆæ—¶é—´å¤æ‚åº¦$T(n)&#x3D;T(n&#x2F;2)+nlg(n)$ æ ¹æ®ä¸»å®šç†$T(n)&#x3D;O(nlgn)$img 12345678910111213void poly_inv(int*a,int n,int*b)&#123; // // %(x^n) b(2-ab) static int c[maxn]; if(n==1) &#123;b[0]=qpow(a[0],mod-2); return;&#125; poly_inv(a,(n+1)&gt;&gt;1,b); int exn=1,bits=0; while(exn&lt;n+n-1) exn&lt;&lt;=1,bits++; poly_cpy(b,(n+1)&gt;&gt;1,b,exn); poly_cpy(a,n,c,exn); dft(b,exn,bits,1); dft(c,exn,bits,1); for(int i=0;i&lt;exn;i++) b[i]=b[i]*(2-1ll*c[i]*b[i]%mod+mod)%mod; dft(b,exn,bits,-1);&#125;//p4738 å¼€O2 500ms+ æ´›è°·æœ€å¿«200ms+ å¤šé¡¹å¼é™¤æ³•é™¤æ³•ä¼šæœ‰å‰©ä½™ï¼Œæ‰€ä»¥æœ‰ä¸¤ä¸ªè¿”å›å€¼ã€‚ å¯¹äºä¸€ä¸ªn-1æ¬¡å¤šé¡¹å¼f(x) å®šä¹‰F(x)&#x3D;x^nf(1&#x2F;x) åˆ™æœ‰ä»¥ä¸‹æ¨å¯¼img ä½™æ•°ç›´æ¥nttæš´åŠ›å³å¯ 1234567891011void poly_div(int*a,int na,int*b,int nb,int*c,int*d)&#123; reverse(a,a+na); reverse(b,b+nb); poly_inv(b,na-nb+1,c); //exn(2*na-2*nb+1)=exn(2*na-nb-nb+1) poly_mul(c,na-nb+1,a,na); //exn(na-nb+1+na-1)=exn(2*na-nb) reverse(a,a+na); reverse(b,b+nb); reverse(c,c+na-nb+1); poly_cpy(c,na-nb+1,d,na-nb+1); poly_mul(d,na-nb+1,b,nb); for(int i=0;i&lt;na;i++) d[i]=reduce(a[i]-d[i]);&#125;// p4738 å¼€O2 600ms+ æ´›è°·æœ€å¿«300ms+ å¤šé¡¹å¼å–å¯¹æ•°â€‹ imgäºæ˜¯æ±‚å¯¼ã€æ±‚é€†ã€ä¹˜ã€ç§¯åˆ†å³å¯å®Œæˆ 1234567891011121314151617void poly_der(int*a,int n,int*b)&#123; // å¾®åˆ†æ±‚å¯¼ for(int i=1;i&lt;n;i++) b[i-1]=1ll*a[i]*i%mod;&#125;void poly_int(int*a,int n,int*b)&#123; // é»˜è®¤ç§¯åˆ†ç»“æœé¡¹å¸¸çš„æ•°ä¸º0 for(int i=1;i&lt;=n;i++) b[i]=1ll*a[i-1]*inv[i]%mod; b[0]=0;&#125;void poly_ln(int*a,int n,int*b)&#123;// a[exn(n+n-1)] //ä¿è¯f(0)=1 , é»˜è®¤ç§¯åˆ†ç»“æœé¡¹å¸¸çš„æ•°ä¸º0 ï¼Œb[0]=ln(a[0])=1 static int d[maxn]; poly_der(a,n,d); // n-1 poly_inv(a,n,b); // n poly_mul(d,n-1,b,n); poly_int(d,n,b); // b[0]=ln(a[0])=ln(1)=0&#125;//p4725 å¼€O2 700ms+ æ´›è°·æœ€å¿«300ms+ å¤šé¡¹å¼æ±‚æŒ‡æ•°å‡½æ•°â€‹ å¤§ä½¬å·²å°†è®²çš„å¾ˆæ¸…æ¥šäº†ï¼Œç”¨æ³°å‹’å±•å¼€æ±‚çš„img 12345678910void poly_exp(int*a,int n,int*b)&#123;//a[exn(n+n-1)] // ä¿è¯f(0)=0 b(1-ln(b)+f), static int a_lnb[maxn]; if(n==1) &#123;b[0]=1;return;&#125; poly_exp(a,(n+1)&gt;&gt;1,b); poly_cpy(b,(n+1)&gt;&gt;1,b,n); poly_ln(b,n,a_lnb); for(int i=0;i&lt;n;++i) a_lnb[i]=reduce(a[i]-a_lnb[i]); a_lnb[0]=reduce(a_lnb[0]+1-mod); poly_mul(b,n,a_lnb,n);&#125;//p4726 å¼€O2 1600ms+ æ´›è°·æœ€å¿«400ms+ å¤šé¡¹å¼å¼€æ ¹â€‹ é€’å½’è¾¹ç•Œæ”¹ä¸ºäºŒæ¬¡å‰©ä½™å³å¯img 12345678910void poly_sqrt(int*a,int n,int*b)&#123;//a[exn(n+n-1)] //ä¿è¯a[0]=1, (b+a/b)/2 æ¯”ä¸Šé¢é‚£ä¸ªå¥½ä¸€äº› static int c[maxn]; if(n==1) &#123;b[0]=1;return;&#125; poly_sqrt(a,(n+1)&gt;&gt;1,b); poly_cpy(b,(n+1)&gt;&gt;1,b,n); poly_inv(b,n,c); poly_mul(c,n,a,n); int inv2=qpow(2,mod-2); for(int i=0;i&lt;n;i++) b[i]=1ll*(b[i]+c[i])*inv2%mod;&#125;// P5205 å¼€O2 3200+ms æ´›è°·æœ€å¿«600ms++ å¤šé¡¹å¼å¿«é€Ÿå¹‚â€‹ å…ˆå–å¯¹æ•°ï¼Œç„¶åä¹˜ï¼Œç„¶åå–exp 1234567891011121314151617void poly_pow(int *a,int n,int k,int *b)&#123;//a[exn(n+n-1)] // a^k not quick pow but quicker static int c[maxn],d[maxn]; int t=0; while(t&lt;n&amp;&amp;a[t]==0) t++;// a[t]*x^t if(1ll*t*k&gt;=n)return; //k*t å±…ç„¶èƒ½å¤Ÿçˆ†int a+=t;// a/=x^t int invat=qpow(a[0],mod-2); int mul=qpow(a[0],k); for(int i=0;i&lt;n-t;i++)d[i]=1ll*a[i]*invat%mod; for(int i=n-t;i&lt;n;i++)d[i]=0; poly_ln(d,n,c); for(int i=1;i&lt;n;i++)c[i]=1ll*c[i]*k%mod; poly_exp(c,n,b); for(int i=n-1;i&gt;=1ll*t*k;i--) b[i]=1ll*b[i-1ll*k*t]*mul%mod; for(int i=1ll*k*t-1;i&gt;=0;i--) b[i]=0; // b*=x^kt&#125;// è‹¥kä¸ºå¤§æ•°ï¼Œä¸”ä¿è¯a[0]=1ï¼Œä¼ å…¥k%modå³å¯ å¤šé¡¹å¼ä¸‰è§’å‡½æ•° 123456789101112131415161718192021222324252627282930313233343536373839void poly_sin(int*a,int n,int*b)&#123;//a[exn(n+n-1)]// ä¿è¯a[0]=0 -&gt; c[0]=0 -&gt; å¯ä»¥exp static int c[maxn],d[maxn]; for(int i=0;i&lt;n;i++) c[i]=1ll*a[i]*I%mod; poly_exp(c,n,b); poly_inv(b,n,d); for(int i=0;i&lt;n;i++) b[i]=1ll*(b[i]-d[i]+mod)*inv2I%mod;&#125; // P5264 å¼€O2 2111ms æ´›è°·æœ€å¿«691msvoid poly_cos(int*a,int n,int*b)&#123;//a[exn(n+n-1)]// ä¿è¯a[0]=0 -&gt; c[0]=0 -&gt; å¯ä»¥exp static int c[maxn],d[maxn]; for(int i=0;i&lt;n;i++) c[i]=1ll*a[i]*I%mod; poly_exp(c,n,b); poly_inv(b,n,d); for(int i=0;i&lt;n;i++) b[i]=1ll*(b[i]+d[i])*inv[2]%mod;&#125;// P5264 å¼€O2 2111ms æ´›è°·æœ€å¿«691msvoid poly_asin(int*a,int n,int*b)&#123;//a[exn(n+n-1)]// ä¿è¯a[0]=0 ç§¯åˆ†ï¼š f&#x27;/(sqrt(1-f*f)) static int c[maxn]; poly_cpy(a,n,b,n);// f poly_mul(b,n,b,n);// f*f b[0]=reduce(b[0]-1);// f*f-1 for(int i=0;i&lt;n;i++)b[i]=mod-b[i]; //1-ff poly_sqrt_Strong(b,n,c);// sqrt(1-ff) poly_inv(c,n,b); // 1/sqrt(1-ff) poly_der(a,n,c);// f&#x27; poly_mul(c,n,b,n);// poly_int(c,n,b);// f&#x27;/(sqrt(1-f*f))&#125;// P5265 å¼€O2 1626ms æ´›è°·æœ€å¿«985msvoid poly_atan(int*a,int n,int*b)&#123;//a[exn(n+n-1)] // ä¿è¯a[0]=0 ç§¯åˆ†ï¼š f&#x27;/(sqrt(1-f*f)) static int c[maxn]; poly_cpy(a,n,b,n);// f poly_mul(b,n,b,n);// f*f b[0]=reduce(b[0]+1-mod);// f*f+1 poly_inv(b,n,c); // 1/(f*f+1) poly_der(a,n,b);// f&#x27; poly_mul(c,n,b,n);// poly_int(c,n,b);// f&#x27;/(f*f+1)&#125;// P5265 å¼€O2 1626ms æ´›è°·æœ€å¿«985ms æ‹‰æ ¼æœ—æ—¥æ’å€¼æ³•ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚æ²¡å•¥å¯è¯´çš„ï¼Œå­˜ç²¹çš„å¥—è·¯ å¤šé¡¹å¼å¤šç‚¹æ±‚å€¼å…¨å®¶æ¡¶123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362#include&lt;bits/stdc++.h&gt;using namespace std;const int maxn=100005&lt;&lt;2,mod = 998244353,g=3;// const èƒ½æ˜æ˜¾åŠ é€Ÿä»£ç const int lgmaxn=20;#define reduce(x) ((x)+(((x)&gt;&gt;31)&amp;mod))int qpow(int a,int b)&#123; int ret=1; while(b)&#123; if(b&amp;1) ret=1ll*ret*a%mod; a=1ll*a*a%mod; b&gt;&gt;=1; &#125; return ret;&#125;int I=86583718;int inv2I=qpow(2*I,mod-2);int inv[maxn]=&#123;1,1&#125;;void inv_ini()&#123; for(int i=2;i&lt;maxn;++i) inv[i]=1ll*(mod-mod/i)*(inv[mod%i])%mod;&#125;int allr[maxn&lt;&lt;1],*r[30],ntt_wn[30],ntt_revwn[30]; // ç‰¹åˆ«è¯¦ç»†ï¼Œæ²¡å•¥å…¶ä»–å¯è¯´çš„ //https://wenku.baidu.com/view/b438a51cce84b9d528ea81c758f5f61fb7362826.htmlvoid dft_ini()&#123; // ntt é«˜æ€§èƒ½ r[0]=allr; for(int n=1,bit=0;n&lt;maxn;n&lt;&lt;=1,bit++)&#123; for(int i=0;i&lt;n;++i)r[bit][i]=(r[bit][i&gt;&gt;1]&gt;&gt;1)|((i&amp;1)&lt;&lt;(bit-1)); r[bit+1]=r[bit]+n; ntt_wn[bit]=qpow(g,(mod-1)&gt;&gt;bit);// å•ä½æ ¹ ntt_revwn[bit]=qpow(ntt_wn[bit],mod-2);//é€†å˜æ¢åˆ™ä¹˜ä¸Šé€†å…ƒ &#125;&#125;void dft(int*a,int n,int bits,int opt)&#123; // ntt for(int i=0;i&lt;n;++i) if(i&lt;r[bits][i]) swap(a[i],a[r[bits][i]]); for(int k=1,bit=0;k&lt;n;k&lt;&lt;=1,bit++)&#123; int wn=opt==1?ntt_wn[bit+1]:ntt_revwn[bit+1]; for (int i=0;i&lt;n;i+=(k&lt;&lt;1))&#123; for (int j=0,w=1; j&lt;k; j++,w=1ll*w*wn%mod)&#123; int x=a[i+j], y=1ll*w*a[i+j+k]%mod; a[i+j]=reduce(x+y-mod), a[i+j+k]=reduce(x-y); &#125; &#125; &#125; if(opt==-1) for(int i=0;i&lt;n;++i) a[i]=1ll*a[i]*inv[n]%mod;&#125;//1800ms+void poly_show(int*a,int n)&#123; for(int i=0;i&lt;n;i++) printf(&quot; %dx^%d +&quot;,a[i]&gt;1000?a[i]-mod:a[i],i); cout&lt;&lt;endl;&#125;void poly_cpy(int*a,int n,int *b,int exn)&#123;// if(a!=b) memcpy(b,a,sizeof(b[0])*n); if(n&lt;exn) memset(b+n,0,sizeof(b[0])*(exn-n));&#125;/* aä¼šè¢«ä½œæ‹“å±•ï¼Œä½†æ˜¯bä¸ä¼šï¼Œæ‰€ä»¥bçš„èŒƒå›´ä¸ä¼šæ”¹å˜ a[exn(na+nb-1)] a*=b aå’Œbå…è®¸æ˜¯åŒä¸€ä¸ªæ•°ç»„*/void poly_mul(int*a,int na,int*b,int nb)&#123; static int c[maxn]; int exn=1,bits=0; while(exn&lt;na+nb-1) exn&lt;&lt;=1,bits++; poly_cpy(a,na,a,exn); poly_cpy(b,nb,c,exn); dft(a,exn,bits,1); dft(c,exn,bits,1); for(int i=0;i&lt;exn;i++) a[i]=1ll*a[i]*c[i]%mod; dft(a,exn,bits,-1);&#125;/*bä¼šè¢«ä½œæ‹“å±•ï¼Œä½†æ˜¯aä¸ä¼šï¼Œæ‰€ä»¥aæ•°ç»„ä¼ å…¥æ²¡æœ‰ä»»ä½•æ•°ç»„å¤§å°çš„è¦æ±‚b[exn(n+n-1)]*/void poly_inv(int*a,int n,int*b)&#123; // // %(x^n) b(2-ab) static int c[maxn]; if(n==1) &#123;b[0]=qpow(a[0],mod-2); return;&#125; poly_inv(a,(n+1)&gt;&gt;1,b); int exn=1,bits=0; while(exn&lt;n+n-1) exn&lt;&lt;=1,bits++; poly_cpy(b,(n+1)&gt;&gt;1,b,exn); poly_cpy(a,n,c,exn); dft(b,exn,bits,1); dft(c,exn,bits,1); for(int i=0;i&lt;exn;i++) b[i]=b[i]*(2-1ll*c[i]*b[i]%mod+mod)%mod; dft(b,exn,bits,-1);&#125;//p4738 å¼€O2 500ms+ æ´›è°·æœ€å¿«200ms+/*a/b=c...dåªæœ‰cbæœ‰è¦æ±‚exn(2*na-nb)*/void poly_div(int*a,int na,int*b,int nb,int*c,int*d)&#123; reverse(a,a+na); reverse(b,b+nb); poly_inv(b,na-nb+1,c); //exn(2*na-2*nb+1)=exn(2*na-nb-nb+1) poly_mul(c,na-nb+1,a,na); //exn(na-nb+1+na-1)=exn(2*na-nb) reverse(a,a+na); reverse(b,b+nb); reverse(c,c+na-nb+1); poly_cpy(c,na-nb+1,d,na-nb+1); poly_mul(d,na-nb+1,b,nb); for(int i=0;i&lt;na;i++) d[i]=reduce(a[i]-d[i]);&#125;// p4738 å¼€O2 600ms+ æ´›è°·æœ€å¿«300ms+void poly_der(int*a,int n,int*b)&#123; // å¾®åˆ†æ±‚å¯¼ for(int i=1;i&lt;n;i++) b[i-1]=1ll*a[i]*i%mod;&#125;void poly_int(int*a,int n,int*b)&#123; // é»˜è®¤ç§¯åˆ†ç»“æœé¡¹å¸¸çš„æ•°ä¸º0 for(int i=1;i&lt;=n;i++) b[i]=1ll*a[i-1]*inv[i]%mod; b[0]=0;&#125;void poly_ln(int*a,int n,int*b)&#123;// a[exn(n+n-1)] //ä¿è¯f(0)=1 , é»˜è®¤ç§¯åˆ†ç»“æœé¡¹å¸¸çš„æ•°ä¸º0 ï¼Œb[0]=ln(a[0])=1 static int d[maxn]; poly_der(a,n,d); // n-1 poly_inv(a,n,b); // n poly_mul(d,n-1,b,n); poly_int(d,n,b); // b[0]=ln(a[0])=ln(1)=0&#125;//p4725 å¼€O2 700ms+ æ´›è°·æœ€å¿«300ms+void poly_exp(int*a,int n,int*b)&#123;//a[exn(n+n-1)] // ä¿è¯f(0)=0 b(1-ln(b)+f), static int a_lnb[maxn]; if(n==1) &#123;b[0]=1;return;&#125; poly_exp(a,(n+1)&gt;&gt;1,b); poly_cpy(b,(n+1)&gt;&gt;1,b,n); poly_ln(b,n,a_lnb); for(int i=0;i&lt;n;++i) a_lnb[i]=reduce(a[i]-a_lnb[i]); a_lnb[0]=reduce(a_lnb[0]+1-mod); poly_mul(b,n,a_lnb,n);&#125;//p4726 å¼€O2 1600ms+ æ´›è°·æœ€å¿«400ms+void poly_sqrt(int*a,int n,int*b)&#123;//a[exn(n+n-1)] //ä¿è¯a[0]=1, (b+a/b)/2 æ¯”ä¸Šé¢é‚£ä¸ªå¥½ä¸€äº› static int c[maxn]; if(n==1) &#123;b[0]=1;return;&#125; poly_sqrt(a,(n+1)&gt;&gt;1,b); poly_cpy(b,(n+1)&gt;&gt;1,b,n); poly_inv(b,n,c); poly_mul(c,n,a,n); int inv2=qpow(2,mod-2); for(int i=0;i&lt;n;i++) b[i]=1ll*(b[i]+c[i])*inv2%mod;&#125;// P5205 å¼€O2 3200+ms æ´›è°·æœ€å¿«600ms++int sqrt_residue(int a)&#123; // return sqrt(a) int b=rand()%mod; //æ‰¾ä¸€ä¸ªéäºŒæ¬¡å‰©ä½™æ•° b while(qpow(b,(mod-1)&gt;&gt;1)!=mod-1) b=rand()%mod; int s=mod-1,t=0; // mod-1 =2^t*s = s&lt;&lt;t while(!(s&amp;1)) s&gt;&gt;=1,t++; int inv=qpow(a,mod-2); int x,k; for(x=qpow(a,(s+1)&gt;&gt;1),k=1;t-k!=0;k++)&#123; // int invxx=1ll*inv*x%mod*x%mod; if(qpow(invxx,1&lt;&lt;(t-k-1))==mod-1)&#123; x=1ll*x*qpow(b,s&lt;&lt;(k-1))%mod; &#125; &#125; return min(x,mod-x);&#125;void poly_sqrt_Strong(int*a,int n,int*b)&#123;//a[exn(n+n-1)] //å¼ºåŒ–ç‰ˆ ä¸ä¿è¯a[0]=1 ä½†ä¿è¯a[0]ä¸ºäºŒæ¬¡å‰©ä½™ static int c[maxn]; if(n==1) &#123;b[0]=sqrt_residue(a[0]);return;&#125;// å…¶å®å°±è¿™ä¸€è¡Œä¸ä¸€æ · poly_sqrt_Strong(a,(n+1)&gt;&gt;1,b); poly_cpy(b,(n+1)&gt;&gt;1,b,n); poly_inv(b,n,c); poly_mul(c,n,a,n); for(int i=0;i&lt;n;i++) b[i]=1ll*(b[i]+c[i])*inv[2]%mod;&#125;// å¼€O2è·‘1900ms+ æ´›è°·æœ€å¿«800ms++void poly_pow(int *a,int n,int k,int *b)&#123;//a[exn(n+n-1)] // a^k not quick pow but quicker static int c[maxn],d[maxn]; int t=0; while(t&lt;n&amp;&amp;a[t]==0) t++;// a[t]*x^t if(1ll*t*k&gt;=n)return; //k*t å±…ç„¶èƒ½å¤Ÿçˆ†int a+=t;// a/=x^t int invat=qpow(a[0],mod-2); int mul=qpow(a[0],k); for(int i=0;i&lt;n-t;i++)d[i]=1ll*a[i]*invat%mod; for(int i=n-t;i&lt;n;i++)d[i]=0; poly_ln(d,n,c); for(int i=1;i&lt;n;i++)c[i]=1ll*c[i]*k%mod; poly_exp(c,n,b); for(int i=n-1;i&gt;=1ll*t*k;i--) b[i]=1ll*b[i-1ll*k*t]*mul%mod; for(int i=1ll*k*t-1;i&gt;=0;i--) b[i]=0; // b*=x^kt&#125;// è‹¥kä¸ºå¤§æ•°ï¼Œä¸”ä¿è¯a[0]=1ï¼Œä¼ å…¥k%modå³å¯void poly_sin(int*a,int n,int*b)&#123;//a[exn(n+n-1)]// ä¿è¯a[0]=0 -&gt; c[0]=0 -&gt; å¯ä»¥exp static int c[maxn],d[maxn]; for(int i=0;i&lt;n;i++) c[i]=1ll*a[i]*I%mod; poly_exp(c,n,b); poly_inv(b,n,d); for(int i=0;i&lt;n;i++) b[i]=1ll*(b[i]-d[i]+mod)*inv2I%mod;&#125; // P5264 å¼€O2 2111ms æ´›è°·æœ€å¿«691msvoid poly_cos(int*a,int n,int*b)&#123;//a[exn(n+n-1)]// ä¿è¯a[0]=0 -&gt; c[0]=0 -&gt; å¯ä»¥exp static int c[maxn],d[maxn]; for(int i=0;i&lt;n;i++) c[i]=1ll*a[i]*I%mod; poly_exp(c,n,b); poly_inv(b,n,d); for(int i=0;i&lt;n;i++) b[i]=1ll*(b[i]+d[i])*inv[2]%mod;&#125;// P5264 å¼€O2 2111ms æ´›è°·æœ€å¿«691msvoid poly_asin(int*a,int n,int*b)&#123;//a[exn(n+n-1)]// ä¿è¯a[0]=0 ç§¯åˆ†ï¼š f&#x27;/(sqrt(1-f*f)) static int c[maxn]; poly_cpy(a,n,b,n);// f poly_mul(b,n,b,n);// f*f b[0]=reduce(b[0]-1);// f*f-1 for(int i=0;i&lt;n;i++)b[i]=mod-b[i]; //1-ff poly_sqrt_Strong(b,n,c);// sqrt(1-ff) poly_inv(c,n,b); // 1/sqrt(1-ff) poly_der(a,n,c);// f&#x27; poly_mul(c,n,b,n);// poly_int(c,n,b);// f&#x27;/(sqrt(1-f*f))&#125;// P5265 å¼€O2 1626ms æ´›è°·æœ€å¿«985msvoid poly_atan(int*a,int n,int*b)&#123;//a[exn(n+n-1)] // ä¿è¯a[0]=0 ç§¯åˆ†ï¼š f&#x27;/(sqrt(1-f*f)) static int c[maxn]; poly_cpy(a,n,b,n);// f poly_mul(b,n,b,n);// f*f b[0]=reduce(b[0]+1-mod);// f*f+1 poly_inv(b,n,c); // 1/(f*f+1) poly_der(a,n,b);// f&#x27; poly_mul(c,n,b,n);// poly_int(c,n,b);// f&#x27;/(f*f+1)&#125;// P5265 å¼€O2 1626ms æ´›è°·æœ€å¿«985msint*segtree[maxn&lt;&lt;2],segtreebuf[maxn*lgmaxn];void zeropoint_to_poly(int rt,int*a,int n)&#123; // T(n)=2*T(n/2)+nlg(n)= nlg(n) static int t1[maxn]; if(rt==1) segtreebuf[0]=1;// auto ini segtree[rt]=segtreebuf+segtreebuf[0]; segtreebuf[0]+=n+1; if(n==1) segtree[rt][0]=mod-a[0],segtree[rt][1]=1; else&#123; int mid=n&gt;&gt;1; zeropoint_to_poly(rt&lt;&lt;1,a,mid); zeropoint_to_poly(rt&lt;&lt;1|1,a+mid,n-mid); poly_cpy(segtree[rt&lt;&lt;1],mid+1,t1,mid+1); poly_mul(t1,mid+1,segtree[rt&lt;&lt;1|1],n-mid+1); poly_cpy(t1,n+1,segtree[rt],n+1); &#125;&#125;/*å·²çŸ¥x0 x1 x2 ...å·²çŸ¥f(x)=a0x^0+a1x^1+a2x^2+...æ±‚b0=f(x0),f(x1),f(x2)...zeropoint_to_poly(1,)*/void poly_to_point(int rt,int*a,int n,int*b,int bn,int*c)&#123; //T(n)=2*T(n/2)+nlg(n)=nlg(n) static int buf[maxn&lt;&lt;3],*d=buf,f[maxn]; if(bn&lt;=200&amp;&amp;n&lt;=200)&#123; for(int i=0;i&lt;bn;i++)&#123; c[i]=0; for(int j=n-1;j&gt;=0;j--) c[i]=(1ll*c[i]*b[i]+a[j])%mod; &#125; &#125; else&#123; d+=n&lt;&lt;2; if(n&gt;bn) &#123; poly_div(a,n,segtree[rt],bn+1,f,d);// nlg(n) a=d; n=bn; &#125; int mid=bn&gt;&gt;1; poly_to_point(rt&lt;&lt;1,a,n,b,mid,c); poly_to_point(rt&lt;&lt;1|1,a,n,b+mid,bn-mid,c+mid); d-=n&lt;&lt;2; &#125;&#125;//æ—¶é—´å¡è¾¹ç•Œä¸Šï¼Œä¸è¿‡åˆšåˆšå¥½// æ‹‰æ ¼æœ—æ—¥æ’å€¼æ³• int facinv[maxn]=&#123;1,1&#125;;void facinv_ini()&#123; for(int i=0,fac=1;i&lt;maxn;++i,fac=1ll*fac*i%mod) &#123; facinv[i]=qpow(fac,mod-2); &#125;&#125;int lagrange(int*x,int*y,int n,int var)&#123;// y=f(x) å·²çŸ¥f(x0) f(x1) ... f(xn) è®¡ç®— f(var) O(n^2) int b=0; for(int i=0;i&lt;=n;++i) &#123; int t1=1,t2=1; for(int j=0;j&lt;=n;j++)&#123; if(i==j) continue; t1=1ll*t1*(var -x[j]+mod)%mod; t2=1ll*t2*(x[i]-x[j]+mod)%mod; &#125; int invt2=qpow(t2,mod-2); b=(b+1ll*y[i]*t1%mod*invt2)%mod; &#125; return b;&#125;int lagrange(int *y,int n,int x)&#123;// O(n) næ¬¡å¤šé¡¹å¼æœ‰n+1é¡¹ y[0]...y[n] -&gt; y[x] static int prepre[maxn],suf[maxn],*pre=prepre+1; pre[-1]=suf[n+1]=1; for(int i=0;i&lt;=n;++i) pre[i]=1ll*pre[i-1]*(x-i+mod)%mod; for(int i=n;i&gt;=0;i--) suf[i]=1ll*suf[i+1]*(i-x+mod)%mod; int b=0; for(int i=0;i&lt;=n;++i) &#123; int up=1ll*pre[i-1]*suf[i+1]%mod; int down=1ll*facinv[i]*facinv[n-i]%mod; b=(b+1ll*y[i]*up%mod*down)%mod; &#125; return b;&#125;// void lagrange_dfs(int rt,int*x,int n,int*g,int*a)&#123; static int buf[maxn&lt;&lt;4],*b=buf; b+=n&lt;&lt;2; if(n==1) a[0]=g[0]; else&#123; int mid=n&gt;&gt;1; lagrange_dfs(rt&lt;&lt;1,x,mid,g,a); lagrange_dfs(rt&lt;&lt;1|1,x+mid,n-mid,g+mid,b); poly_mul(a,mid,segtree[rt&lt;&lt;1|1],n-mid+1); poly_mul(b,n-mid,segtree[rt&lt;&lt;1],mid+1); for(int i=0;i&lt;n;i++) a[i]=reduce(a[i]+b[i]-mod); &#125; b-=n&lt;&lt;2;&#125;void lagrange(int*x,int*y,int n,int *a)&#123; // å¤šé¡¹å¼æ’å€¼åˆ°ç³»æ•°è¡¨ç¤ºæ³• static int b[maxn],c[maxn]; // yi/gi*pord(x-xj) j!=i zeropoint_to_poly(1,x,n); poly_der(segtree[1],n+1,b);// b-&gt; h&#x27; poly_to_point(1,b,n,x,n,c);//c-&gt;h&#x27;(x) å¤šç‚¹æ±‚å€¼ æ´›å¿…è¾¾æ³•åˆ™ for(int i=0;i&lt;n;i++) c[i]=1ll*y[i]*qpow(c[i],mod-2)%mod; zeropoint_to_poly(1,x,n); lagrange_dfs(1,x,n,c,a);&#125;inline int read()&#123; register int x=0,f=1;char ch=getchar(); while(!isdigit(ch))&#123;if(ch==&#x27;-&#x27;)f=-1;ch=getchar();&#125; while(isdigit(ch))&#123;x=(x&lt;&lt;3)+(x&lt;&lt;1)+ch-&#x27;0&#x27;;ch=getchar();&#125; return (f==1)?x:-x;&#125;int a[maxn],b[maxn],c[maxn],x[maxn],y[maxn];int main()&#123; dft_ini();inv_ini(); // all_poly // facinv_ini();// ç®€å•çš„lagrangeéœ€è¦ï¼Œå¤æ‚çš„ä¸éœ€è¦ int n=read(); for(int i=0;i&lt;n;++i) a[i]=read(); poly_ln(a,n,b); for(int i=0;i&lt;n;i++) printf(&quot;%d &quot;,b[i]);&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ•°å­¦","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%95%B0%E5%AD%A6/"}],"tags":[]},{"title":"bsgsç®—æ³•","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦/bsgsç®—æ³•/index","date":"2019-06-12T06:02:09.000Z","updated":"2019-06-12T06:02:09.000Z","comments":true,"path":"PSZ23L.html","link":"","permalink":"http://fightinggg.github.io/indigo/PSZ23L.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 1234567891011// a^x === b x=lg(a,b)int bsgs_lg(int a,int b,int mod)&#123; map&lt;int,int&gt;mp; int sqr=sqrt(mod-1)+1; for(int i=0;i&lt;sqr;i++) mp[qpow(a,i,mod)]=i; // baby step for(int i=0;i&lt;mod-1;i+=sqr)&#123; // giant step int tp=1ll*b*qpow(a,mod-1-i,mod)%mod; // a^(-i) if(mp.find(tp)!=mp.end()) return i+mp[tp]; &#125; return -1;// error &#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ•°å­¦","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%95%B0%E5%AD%A6/"}],"tags":[]},{"title":"æœæ•™ç­›","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦/æœæ•™ç­›/index","date":"2019-05-27T06:45:58.000Z","updated":"2021-05-07T14:30:00.000Z","comments":true,"path":"PS5HGM.html","link":"","permalink":"http://fightinggg.github.io/indigo/PS5HGM.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å…¬å¼$$g(1)\\sum_{i&#x3D;1}^nf(i)&#x3D;\\sum_{i&#x3D;1}^{n}(f*g)(i)-\\sum_{d&#x3D;2}^{n}g(d) \\sum_{i&#x3D;1}^{\\lfloor\\frac{n}{d}\\rfloor}f(i)$$ ä½¿ç”¨å¾ˆå¤šæ—¶å€™æˆ‘ä»¬ä¼šç¢°åˆ°æ±‚ç§¯æ€§å‡½æ•°å‰ç¼€å’Œçš„æƒ…å†µï¼Œç”±äºç§¯æ€§å‡½æ•°çš„å‰ç¼€å’Œä¸ä¸€å®šä¾ç„¶æ˜¯ç§¯æ€§å‡½æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸€äº›æŠ€å·§ã€‚ æ¯”å¦‚ç»™ä½ ä¸€ä¸ªç§¯æ€§å‡½æ•°$f(x)$, ç°åœ¨è¦æ±‚ä½ è®¡ç®—$\\begin{aligned}\\sum_{i&#x3D;1}^n f(x)\\end{aligned}$ã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å…¬å¼$$g(1)\\sum_{i&#x3D;1}^nf(i)&#x3D;\\sum_{i&#x3D;1}^{n}(f*g)(i)-\\sum_{d&#x3D;2}^{n}g(d) \\sum_{i&#x3D;1}^{\\lfloor\\frac{n}{d}\\rfloor}f(i)$$ ä½¿ç”¨å¾ˆå¤šæ—¶å€™æˆ‘ä»¬ä¼šç¢°åˆ°æ±‚ç§¯æ€§å‡½æ•°å‰ç¼€å’Œçš„æƒ…å†µï¼Œç”±äºç§¯æ€§å‡½æ•°çš„å‰ç¼€å’Œä¸ä¸€å®šä¾ç„¶æ˜¯ç§¯æ€§å‡½æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸€äº›æŠ€å·§ã€‚ æ¯”å¦‚ç»™ä½ ä¸€ä¸ªç§¯æ€§å‡½æ•°$f(x)$, ç°åœ¨è¦æ±‚ä½ è®¡ç®—$\\begin{aligned}\\sum_{i&#x3D;1}^n f(x)\\end{aligned}$ã€‚ å¦‚æœæœ‰æœºä¼šï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®è‡ªå·±çš„ç»éªŒï¼Œé€‰æ‹©ä¸€ä¸ªåˆé€‚çš„ç§¯æ€§å‡½æ•°$g(x)$,ç„¶åä¸ç§¯æ€§å‡½æ•°$f(x)$è¿›è¡Œç‹„åˆ©å…‹é›·å·ç§¯è¿ç®—ã€‚å³$\\begin{aligned}(f*g)(n)&#x3D;\\sum_{d|n}f(d)\\cdot g(\\frac{n}{d})\\end{aligned}$ å¯¹å…¶è®¡ç®—å‰ç¼€å’Œ$$\\begin{aligned}&amp;\\sum_{i&#x3D;1}^n(f*g)(i)\\&amp;&#x3D;\\sum_{i&#x3D;1}^n\\sum_{d|i}f(\\frac{i}{d})\\cdot g(d)\\&amp;&#x3D;\\sum_{d&#x3D;1}^n\\sum_{d|i}f(\\frac{i}{d})\\cdot g(d)\\&amp;&#x3D;\\sum_{d&#x3D;1}^n g(d) \\sum_{i&#x3D;1}^{\\lfloor\\frac{n}{d}\\rfloor}f(i)\\&amp;&#x3D;g(1)\\sum_{i&#x3D;1}^n f(x)+\\sum_{d&#x3D;2}^n g(d) \\sum_{i&#x3D;1}^{\\lfloor\\frac{n}{d}\\rfloor}f(i)\\end{aligned}$$ ç¨ä½œå˜å½¢$$g(1)\\sum_{i&#x3D;1}^nf(i)&#x3D;\\sum_{i&#x3D;1}^{n}(f*g)(i)-\\sum_{d&#x3D;2}^{n}g(d) \\sum_{i&#x3D;1}^{\\lfloor\\frac{n}{d}\\rfloor}f(i)$$ æˆ‘ä»¬å‘ç°å³è¾¹ç­‰å¼çš„ç¬¬ä¸€é¡¹ä¸ºå‰ç¼€å’Œï¼Œè¿™é‡Œè¦æ±‚æˆ‘ä»¬å¯ä»¥å¿«é€Ÿè®¡ç®—$f*g$çš„å‰ç¼€å’Œ å¯¹äºç¬¬äºŒé¡¹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åˆ†å—çš„æ•´é™¤æ–¹æ¡ˆï¼Œè¿™é‡Œè¦æ±‚$g$çš„å‰ç¼€å’Œå¯ä»¥å¿«é€Ÿè®¡ç®—ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738/*å¸¸è§æ•°è®ºå‡½æ•°e(n)=[n=1]1(n)=1id(n)=nd(n)=sum&#123;1&#125; (1&lt;=i&lt;=n&amp;&amp;i|n)SIG(n)=sum&#123;i&#125; (1&lt;=i&lt;=n&amp;&amp;i|n)å¸¸è§å…³ç³»e=u*1d=1*1SIG=id*1id=phi*1æœæ•™ç­›g(1-&gt;i-&gt;n)*f(1-&gt;n/i) = (g*f)(1-&gt;n)g(1)*f(1-&gt;n) = (g*f)(1-&gt;n) - g(2-&gt;i-&gt;n)*f(1-&gt;n/i)phi*I = idI(1)*phi(1-&gt;n) = (I*phi)(1-&gt;n) - I(2-&gt;i-&gt;n)*phi(1-&gt;n/i)phi(1-&gt;n) = id(1-&gt;n) - phi(1-&gt;n/i)phi(1-&gt;n) = n*(n+1)/2 - phi(1-&gt;n/i), (2&lt;=i&lt;=n)g*///æœæ•™ç­›æ±‚ phi(n) å‰ç¼€å’Œll sum_phi(ll n)&#123;// 2e9 is ok static map&lt;ll,ll&gt; mp; if(n&lt;maxn) return PHI[n]; ll ret=mp[n]; if(ret!=0) return ret; ret=n*(n+1)/2; for(ll i=2,ed;i&lt;=n;i=ed+1)&#123; ed=n/(n/i); ret-=(ed-i+1)*sum_phi(n/i); &#125; if(n&gt;maxn) mp[n]=ret; return ret;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ•°å­¦","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%95%B0%E5%AD%A6/"}],"tags":[]},{"title":"ç§¯æ€§å‡½æ•°","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦/ç§¯æ€§å‡½æ•°/index","date":"2019-05-27T06:39:14.000Z","updated":"2019-05-27T06:39:14.000Z","comments":true,"path":"PS5H5E.html","link":"","permalink":"http://fightinggg.github.io/indigo/PS5H5E.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ç§¯æ€§å‡½æ•°å¯¹äºä¸€ä¸ªç¦»æ•£å‡½æ•°$f(x), x\\in Z^+$ , å¦‚æœ$\\forall \\gcd(a,b)&#x3D;1$éƒ½æœ‰$f(a\\cdot b)&#x3D;f(a)\\cdot f(b)$, åˆ™ç§°å‡½æ•°$f(x)$ä¸ºç§¯æ€§å‡½æ•°ã€‚ å®Œå…¨ç§¯æ€§å‡½æ•°å¯¹äºä¸€ä¸ªç¦»æ•£å‡½æ•°$f(x), x\\in Z^+$ , å¦‚æœ$\\forall a,b\\in Z^+$éƒ½æœ‰$f(a\\cdot b)&#x3D;f(a)\\cdot f(b)$, åˆ™ç§°å‡½æ•°$f(x)$ä¸ºå®Œå…¨ç§¯æ€§å‡½æ•°ã€‚ ç§¯æ€§å‡½æ•°åˆ†ææˆ‘ä»¬æ ¹æ®ç§¯æ€§å‡½æ•°çš„å®šä¹‰ï¼Œå…¶å®åªè¦æˆ‘ä»¬è®¡ç®—å‡ºäº†æ‰€æœ‰ç´ æ•°çš„å¹‚çš„å‡½æ•°å€¼ï¼Œåˆ™ä»»ä½•å…¶ä»–$f(x)$éƒ½å¯ä»¥å¿«é€Ÿè·å–ã€‚ å¯¹æ­¤ç¬”è€…å‡†å¤‡äº†ä¸€ä¸ªæ¨¡ç‰ˆï¼Œæˆ‘ä»¬åªéœ€è¦ä¿®æ”¹å…¶ä¸­çš„56åˆ°63è¡Œå³å¯ æ¬§æ‹‰å‡½æ•°$\\phi(n)$å°±æ˜¯å°äºç­‰äºnï¼Œä¸”ä¸näº’è´¨çš„æ•°çš„ä¸ªæ•°ã€‚ 123456789101112//O(lgn)é€‚ç”¨äºå°‘æ±‚int euler(int n)&#123; int ret=n; for(int i=2; i*i&lt;=n; i++) if(n%i==0)&#123; ret=ret-ret/i; do n/=i; while(n%i==0); &#125; if(n&gt;1)ret=ret-ret/n; return ret;&#125; è«æ¯”ä¹Œæ–¯å‡½æ•°123456789101112131415161718192021222324252627//æ±‚å•ä¸ªå€¼ll getmob(ll a)&#123; ll x=a,tmp=a; int cnt=0,now=0; for(ll j=2;j*j&lt;=x;j++)&#123; now=0; if(x%j==0)&#123; while(x%j==0) now++,x/=j; if(now&gt;1) return 0; cnt++; &#125; &#125; if(x!=1) cnt++; return (cnt&amp;1)?-1:1;&#125;int getmu(int n)&#123; int v=1; for(int i=2;i*i&lt;=n;i++) if(n%i==0) &#123; v=-v;n/=i; if(n%i==0)return 0; &#125; if(n!=1)v=-v; return v;&#125; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293#include&lt;bits/stdc++.h&gt;using namespace std;/* æ•°è®ºå‡½æ•°è¡¨ i phi(i) PHI(i) muu(i) MUU(i) ddd(i) DDD(i) sig(i) SIG(i) 1 1 1 1 1 1 1 1 1 2 1 2 -1 0 2 3 3 4 3 2 4 -1 -1 2 5 4 8 4 2 6 0 -1 3 8 7 15 5 4 10 -1 -2 2 10 6 21 6 2 12 1 -1 4 14 12 33 7 6 18 -1 -2 2 16 8 41 8 4 22 0 -2 4 20 15 56 9 6 28 0 -2 3 23 13 6910 4 32 1 -1 4 27 18 8711 10 42 -1 -2 2 29 12 9912 4 46 0 -2 6 35 28 12713 12 58 -1 -3 2 37 14 14114 6 64 1 -2 4 41 24 16515 8 72 1 -1 4 45 24 18916 8 80 0 -1 5 50 31 22017 16 96 -1 -2 2 52 18 23818 6 102 0 -2 6 58 39 27719 18 120 -1 -3 2 60 20 29720 8 128 0 -3 6 66 42 33921 12 140 1 -2 4 70 32 37122 10 150 1 -1 4 74 36 40723 22 172 -1 -2 2 76 24 43124 8 180 0 -2 8 84 60 49125 20 200 0 -2 3 87 31 52226 12 212 1 -1 4 91 42 56427 18 230 0 -1 4 95 40 60428 12 242 0 -1 6 101 56 66029 28 270 -1 -2 2 103 30 69030 8 278 -1 -3 8 111 72 762*//**** * è¶…çº§ç§¯æ€§å‡½æ•°çº¿æ€§ç­› * ****/typedef long long ll;const ll maxn=5e6;ll no_pri[maxn]=&#123;0,1,0&#125;,pri[maxn],low[maxn];ll PHI[maxn],DDD[maxn],XDX[maxn],MUU[maxn],SIG[maxn];void f_ini()&#123; for(ll i=2;i&lt;maxn;i++)&#123; if(!no_pri[i]) low[i]=pri[++pri[0]]=i; for(ll j=1;pri[j]*i&lt;maxn;j++)&#123; no_pri[pri[j]*i]=1; if(i%pri[j]==0) &#123; low[pri[j]*i]=low[i]*pri[j]; break; &#125; else low[pri[j]*i]=pri[j]; &#125; &#125; DDD[1]=PHI[1]=MUU[1]=SIG[1]=1;// æ”¹è¿™é‡Œ for(ll i=1;i&lt;=pri[0];i++)&#123; for(ll mul=pri[i],ct=1;mul&lt;maxn;mul*=pri[i],ct++)&#123; DDD[mul]=ct+1;// æ”¹è¿™é‡Œ SIG[mul]=SIG[mul/pri[i]]+mul;// æ”¹è¿™é‡Œ MUU[mul]=ct==1?-1:0;// æ”¹è¿™é‡Œ PHI[mul]=mul/pri[i]*(pri[i]-1);// æ”¹è¿™é‡Œ &#125; &#125; for(ll i=2;i&lt;maxn;i++)&#123; for(ll j=1;pri[j]*i&lt;maxn;j++)&#123; ll x=low[i*pri[j]], y=i*pri[j]/x; DDD[x*y]=DDD[x]*DDD[y]; MUU[x*y]=MUU[x]*MUU[y]; PHI[x*y]=PHI[x]*PHI[y]; SIG[x*y]=SIG[x]*SIG[y]; if(i%pri[j]==0) break; &#125; &#125; for(ll i=1;i&lt;maxn;i++) &#123; DDD[i]+=DDD[i-1]; MUU[i]+=MUU[i-1]; PHI[i]+=PHI[i-1]; SIG[i]+=SIG[i-1]; XDX[i]=(DDD[i]-DDD[i-1])*i+XDX[i-1]; &#125;&#125;int main()&#123; f_ini(); printf(&quot;æ•°è®ºå‡½æ•°è¡¨\\n&quot;); printf(&quot; i phi(i) PHI(i) muu(i) MUU(i) ddd(i) DDD(i) sig(i) SIG(i)\\n&quot;); for(ll i=1;i&lt;=30;i++) &#123; printf(&quot;%2lld %3lld %6lld %6lld %6lld %6lld %6lld %6lld %6lld\\n&quot;,i,PHI[i]-PHI[i-1],PHI[i],MUU[i]-MUU[i-1],MUU[i],DDD[i]-DDD[i-1],DDD[i],SIG[i]-SIG[i-1],SIG[i]); &#125; return 0;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ•°å­¦","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%95%B0%E5%AD%A6/"}],"tags":[]},{"title":"é€’å½’å¤§æ•°","slug":"ACM/å­¦ä¹ ç¬”è®°/ç®—æ³•/é€’å½’å¤§æ•°/index","date":"2019-05-23T16:00:00.000Z","updated":"2019-05-23T16:00:00.000Z","comments":true,"path":"PRYSG0.html","link":"","permalink":"http://fightinggg.github.io/indigo/PRYSG0.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å¾ˆæ—©å°±æƒ³å†™è¿™ä¸ªäº†ï¼Œè§‰å¾—å¥½å‰å®³ï¼Œç»“æœåˆ†æåœç•™åœ¨ç†è®ºä¸Šï¼Œå…¶å®æ—¶é—´å¤æ‚åº¦è´¼é«˜ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081#include&lt;bits/stdc++.h&gt;using namespace std;struct big0&#123;//æœ€å¤§999999ï¼Œ int o,h,l;// æº¢å‡º6ä½ é«˜3ä½ ä½3ä½ big0()&#123;&#125; big0(int rhs):o(0),h(0),l(rhs)&#123;&#125; big0(int h,int l):o(0),h(h),l(l)&#123;&#125; operator int()&#123;return int(l);&#125; big0 operator!=(const big0&amp;rhs)&#123;return h!=rhs.h||l!=rhs.l;&#125; big0 operator+(const big0&amp;rhs)&#123; big0 ret=0; ret.l=l+rhs.l; ret.h=h+rhs.h+ret.l/1000;//è¿›ä½ ret.o=o+rhs.o+ret.h/1000;//æš‚æ—¶è®°å½•é«˜ä½æº¢å‡ºæƒ…å†µ ret.l%=1000; ret.h%=1000; return ret; &#125; void show(int flag)&#123; printf(&quot;%03d%03d&quot;,h,l); // printf(&quot; %3d %3d&quot;,h,l); &#125; void show()&#123; if(h!=0)&#123; printf(&quot;%d%03d&quot;,h,l); &#125; else printf(&quot;%d&quot;,l); &#125;&#125;;template&lt;class T&gt;struct big&#123; T o,h,l;// æº¢å‡º6ä½ é«˜3ä½ ä½3ä½ big()&#123;&#125; big(int rhs):o(0),h(0),l(rhs)&#123;&#125; big(T h,T l):o(0),h(h),l(l)&#123;&#125; operator int()&#123;return int(l);&#125; big operator!=(big rhs)&#123;return h!=rhs.h||l!=rhs.l;&#125; big operator+(const big rhs)&#123; big ret=0; ret.l=l+rhs.l; ret.h=h+rhs.h+T(0,ret.l.o); ret.o=o+rhs.o+T(0,ret.h.o); ret.l.o=0; ret.h.o=0; return ret; &#125; void show(int flag)&#123; h.show(1); l.show(1); &#125; void show()&#123; if(h!=T(0))&#123; h.show(); l.show(1); &#125; else l.show(); &#125;&#125;;//big0 w&lt;1e3 3*2^0typedef big&lt;big&lt;big&lt;big&lt;big0&gt;&gt;&gt;&gt; big4;// w&lt;1e(3*2^4)typedef big&lt;big&lt;big&lt;big&lt;big4&gt;&gt;&gt;&gt; big8;// w&lt;1e(3*2^8)big8 a,b,c;int main()&#123; a=1; b=1; for(int i=3;i&lt;=700;i++)&#123; c=a+b; a=b; b=c; printf(&quot;%3d: &quot;,i); c.show(); cout&lt;&lt;endl; &#125;&#125; è¾“å‡ºäº†æ–æ³¢æ‹‰å¥‘700ä½ï¼Œæ•°æ®è¿˜è¡Œï¼Œå°±æ˜¯å¤ªæ…¢äº†ã€‚","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"ç®—æ³•","slug":"ACM/å­¦ä¹ ç¬”è®°/ç®—æ³•","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AE%97%E6%B3%95/"}],"tags":[]},{"title":"Tarjanè”é€šç®—æ³•","slug":"ACM/å­¦ä¹ ç¬”è®°/å›¾è®º/Tarjanè”é€šç®—æ³•/index","date":"2019-05-12T18:37:05.000Z","updated":"2019-05-12T18:37:05.000Z","comments":true,"path":"PREMDT.html","link":"","permalink":"http://fightinggg.github.io/indigo/PREMDT.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å¼ºè”é€š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748struct Tarjan:Graph&#123;//å¼ºè¿é€šåˆ†é‡ç¼©ç‚¹ int low[maxn],dfn[maxn],belong[maxn],stk[maxn],instk[maxn],block[maxn]; int step,color; void tarjan()&#123; step=color=0; for(int i=0;i&lt;=n;i++) dfn[i]=0; for(int i=1;i&lt;=n;i++) if(dfn[i]==0) tarjan(i,0);//å¤šä¸ªè”é€šå¿« &#125; void tarjan(int u,int father=0)&#123;//æ­¤å‡½æ•°ä¸å¼€æ”¾ low[u]=dfn[u]=++step; stk[++stk[0]]=u;instk[u]=1; for(int i=head[u];~i;i=edge[i].nex)&#123; int v=edge[i].v; if(dfn[v]) &#123; if(instk[v]) low[u]=min(low[u],dfn[v]); &#125; else&#123; tarjan(v,u); low[u]=min(low[u],low[v]); &#125; &#125; if(low[u]==dfn[u])&#123; block[color+1]=1; while(stk[stk[0]]!=u) &#123; belong[stk[stk[0]]]=color+1; instk[stk[stk[0]--]]=0; block[color+1]++; &#125; belong[stk[stk[0]]]=++color; instk[stk[stk[0]--]]=0; &#125; &#125; void rebuild(Dag&amp;dag)&#123; set&lt;long long&gt;se; dag.ini(color); for(int u=1;u&lt;=n;u++)&#123; int uu=belong[u]; for(int i=head[u];~i;i=edge[i].nex)&#123; int v=edge[i].v; int vv=belong[v]; if(uu==vv||se.find(uu*1e6+vv)!=se.end())continue; se.insert(uu*1e6+vv); dag.add_edge(uu,vv); &#125; dag.dp[uu][u]=1; dag.w[uu]=block[uu]; &#125; &#125;&#125;graph; ç‚¹åŒè”é€š123456789101112131415161718192021222324252627282930313233343536373839404142struct Graph&#123; static const int maxn=1e5+5, maxm=3e5+5; struct star&#123;int v,nex;&#125;edge[maxm&lt;&lt;1]; int head[maxn],cnt,n; void ini(int n)&#123; this-&gt;n=n; cnt=-1; for(int i=0;i&lt;=n;i++) head[i]=-1; &#125; void add_edge(int u,int v)&#123; edge[++cnt]=star&#123;v,head[u]&#125;; head[u]=cnt; edge[++cnt]=star&#123;u,head[v]&#125;; head[v]=cnt; &#125;&#125;tree;struct Tarjan:Graph&#123;//å‰²ç‚¹ int low[maxn],dfn[maxn],cut[maxn]; int step; void tarjan()&#123; step=0; for(int i=0;i&lt;=n;i++) dfn[i]=cut[i]=0; for(int i=1;i&lt;=n;i++) if(dfn[i]==0) tarjan(i,0);//å¤šä¸ªè”é€šå¿« &#125; void tarjan(int u,int father=0)&#123;//æ­¤å‡½æ•°ä¸å¼€æ”¾ low[u]=dfn[u]=++step; int first=1, son=0; for(int i=head[u];~i;i=edge[i].nex)&#123; int v=edge[i].v; if(v==father&amp;&amp;!first) first=false; else if(dfn[v]) low[u]=min(low[u],dfn[v]); else&#123; son++; tarjan(v,u); low[u]=min(low[u],low[v]); //ä¸€ä¸ªé¡¶ç‚¹uæ˜¯å‰²ç‚¹,å½“ä¸”ä»…å½“1æˆ–2 //1.uä¸ºæ ‘æ ¹ä¸”uæœ‰å¤šä¸ä¸€ä¸ªå­æ ‘ //2.uä¸ä¸ºæ ‘æ ¹ä¸”å­˜åœ¨è¾¹(u,v)ä¸ºæ ‘è¾¹ï¼Œä½¿å¾—dfn[u]&lt;=low[v] if(father!=0&amp;&amp;dfn[u]&lt;=low[v]) cut[u]=1; if(father==0&amp;&amp;son&gt;1) cut[u]=1; &#125; &#125; &#125;&#125;graph; è¾¹åŒè”é€š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849struct Graph&#123; static const int maxn=1e5+5, maxm=3e5+5; struct star&#123;int v,nex;&#125;edge[maxm&lt;&lt;1]; int head[maxn],cnt; void ini(int n)&#123; for(int i=0;i&lt;=n;i++) head[i]=-1; cnt=-1; &#125; void add_edge(int u,int v)&#123; edge[++cnt]=star&#123;v,head[u]&#125;; head[u]=cnt; edge[++cnt]=star&#123;u,head[v]&#125;; head[v]=cnt; &#125;&#125;;struct Tarjan:Graph&#123;//åŒè”é€šåˆ†é‡, å‰²è¾¹, æ¡¥, è¾¹åŒè”é€šç¼©ç‚¹ struct Bridge&#123;int u,v;&#125;bridge[maxn]; int dfn[maxn],low[maxn],belong[maxn],vis[maxn],sta[maxn],sta_,nums,bridge_; void ini(int n)&#123; for(int i=0;i&lt;=n;i++) vis[i]=0; bridge_=0; nums=0; Graph::ini(n); &#125; void tarjan(int u,int father,int&amp;step)&#123; low[u]=dfn[u]=++step; sta[++sta_]=u; vis[u]=1; bool firsttimes=true;//ç”¨äºåˆ¤é‡è¾¹ for(int i=head[u];~i;i=edge[i].nex)&#123; int v=edge[i].v; if(v==father&amp;&amp;firsttimes) &#123; firsttimes=false; continue; &#125;//çˆ¶è¾¹ if(vis[v]==1) low[u]=min(low[u],dfn[v]);//å›è¾¹,ç»ˆç‚¹åœ¨æ ˆä¸­ else &#123;//æ ‘è¾¹ tarjan(v,u,step); low[u]=min(low[u],low[v]); if(low[v]&gt;dfn[u]) bridge[++bridge_]=Bridge&#123;u,v&#125;; &#125; &#125; if(low[u]==dfn[u])&#123; while(sta[sta_]!=u) belong[sta[sta_--]]=nums+1; belong[sta[sta_--]]=++nums; &#125; &#125;&#125;graph;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"å›¾è®º","slug":"ACM/å­¦ä¹ ç¬”è®°/å›¾è®º","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%9B%BE%E8%AE%BA/"}],"tags":[]},{"title":"LCA","slug":"ACM/å­¦ä¹ ç¬”è®°/å›¾è®º/LCA/index","date":"2019-05-11T17:07:43.000Z","updated":"2019-05-11T17:07:43.000Z","comments":true,"path":"PRCNKV.html","link":"","permalink":"http://fightinggg.github.io/indigo/PRCNKV.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748struct Graph&#123; static const int maxn=1e5+5, maxm=3e5+5; struct star&#123;int v,nex;&#125;edge[maxm&lt;&lt;1]; int head[maxn],cnt; void ini(int n)&#123; for(int i=0;i&lt;=n;i++) head[i]=-1; cnt=-1; &#125; void add_edge(int u,int v)&#123; edge[++cnt]=star&#123;v,head[u]&#125;; head[u]=cnt; edge[++cnt]=star&#123;u,head[v]&#125;; head[v]=cnt; &#125;&#125;;struct Lca:Graph&#123;// ä¸è¦å¿˜è®°ini int dep[maxn],dad[maxn],siz[maxn],son[maxn],chain[maxn],dfn[maxn]; void dfs1(int u,int father)&#123;//dfs1(1,0) dep[u]=dep[father]+1;//ini dad[u]=father; siz[u]=1; son[u]=-1; for(int i=head[u];~i;i=edge[i].nex)&#123; int v=edge[i].v; if(v==father)continue; dfs1(v,u); siz[u]+=siz[v]; if(son[u]==-1||siz[son[u]]&lt;siz[v]) son[u]=v; &#125; &#125; void dfs2(int u,int s,int&amp;step)&#123; dfn[u]=++step; chain[u]=s; if(son[u]!=-1) dfs2(son[u],s,step); for(int i=head[u];~i;i=edge[i].nex)&#123; int v=edge[i].v; if(v!=son[u]&amp;&amp;v!=dad[u]) dfs2(v,v,step); &#125; &#125; int lca(int x,int y)&#123; while(chain[x]!=chain[y])&#123; if(dep[chain[x]]&lt;dep[chain[y]]) swap(x,y);//dep[chain[x]]&gt;dep[chain[y]] x=dad[chain[x]]; &#125; return dep[x]&lt;dep[y]?x:y; &#125;&#125;tree;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"å›¾è®º","slug":"ACM/å­¦ä¹ ç¬”è®°/å›¾è®º","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%9B%BE%E8%AE%BA/"}],"tags":[]},{"title":"æœ€çŸ­è·¯å’Œç¬¬kçŸ­è·¯","slug":"ACM/å­¦ä¹ ç¬”è®°/å›¾è®º/æœ€çŸ­è·¯å’Œç¬¬kçŸ­è·¯/index","date":"2019-05-03T02:37:42.000Z","updated":"2019-09-03T08:09:30.000Z","comments":true,"path":"PQWPYU.html","link":"","permalink":"http://fightinggg.github.io/indigo/PQWPYU.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å…ˆbbä¸€å †dijç®—æ³•å¾ˆç®€å•ï¼Œå°±æ˜¯é€šè¿‡ä¸æ–­çš„æ¾å¼›ç¦»æºæœ€è¿‘çš„ç‚¹ï¼Œè¯´ç™½äº†ï¼Œå°±æ˜¯ä¸€ä¸ªbfså˜ç§,æˆ–è€…å«åšå¯å‘å¼æœç´¢ï¼Ÿå¯å‘å‡½æ•°å°±æ˜¯å½“å‰çš„è·ç¦»ã€‚æœç´¢è¿‡ç¨‹ä¸­æ¾å¼›ç‚¹ A*ç®—æ³•ä¹Ÿä¸éš¾ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯å¯å‘å¼æœç´¢ï¼Œæ ¸å¿ƒå°±åœ¨å¯å‘å‡½æ•°f+gä¸Šé¢ï¼Œå…¶ä¸­fä¸ºå½“å‰èµ°è¿‡çš„è·¯å¾„é•¿åº¦ï¼Œgä¸ºä¼°å€¼å‡½æ•°ï¼Œä¼°è®¡ä¸‹è¿˜æœ‰å¤šè¿œåˆ°ç»ˆç‚¹ åœ¨ä¸€èˆ¬çš„A*æœç´¢ä¸­ï¼Œå¯ä»¥è§£å†³è¿·å®«é—®é¢˜ï¼Œç”¨æ›¼å“ˆé¡¿è·ç¦»æ¥ä½œä¸ºgå‡½æ•°ï¼Œå¯ä»¥è·‘çš„é£å¿« æˆ‘ä»¬å¯ä»¥æ ¹æ®dijç®—æ³•æ±‚å‡ºçš„ä¿¡æ¯æ¥è®¡ç®—ç¬¬kçŸ­è·¯ã€‚ æˆ‘ä»¬å¯¹åŸå›¾çš„åå‘å›¾ï¼Œæ±‚å‡ºä»¥å¾…æ±‚ç»ˆç‚¹ä¸ºèµ·ç‚¹çš„æœ€çŸ­è·¯æ•°ç»„ï¼Œä»¥æ­¤ä½œä¸ºA*çš„å¯å‘å‡½æ•°çš„è¯„ä¼°å‡½æ•°ï¼Œå¯ä»¥è¯æ˜ï¼Œåœ¨æ­¤å¯å‘å‡½æ•°ä½œä¸ºæŒ‡å¼•çš„æƒ…å†µä¸‹ï¼Œ æˆ‘ä»¬é¦–å…ˆä¼šå¾—åˆ°ä¸€æ¡ä»åŸå›¾èµ·ç‚¹åˆ°ç»ˆç‚¹çš„è·¯çº¿ï¼Œå¦‚æœæˆ‘ä»¬æ­¤æ—¶ä¸è®©ç®—æ³•åœæ­¢ï¼Œå¿½ç•¥æ­¤æ¬¡ç»“æœï¼Œé‚£ä¹ˆæˆ‘ä»¬å¾—åˆ°çš„ç¬¬äºŒä¸ªè·¯çº¿æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ å…¶å®å°±æ˜¯ç¬¬äºŒçŸ­è·¯ã€‚ dijkstradijkstraç®—æ³•ï¼Œç”¨äºè§£å†³å•æºæœ€çŸ­è·¯é—®é¢˜ï¼Œæ˜¯ä¸€ç§æ¯ä¸€æ¬¡é€šè¿‡è´ªå¿ƒçš„é€‰æ‹©è·ç¦»æºç‚¹æœ€è¿‘çš„ç‚¹æ¥æ¾å¼›å…¶ä»–ç‚¹æ¥å¾—åˆ°è§£çš„æ–¹æ³•ã€‚ ä¸ºä»€ä¹ˆé€‰æ‹©è·ç¦»æºç‚¹æœ€è¿‘çš„æ²¡æœ‰æ¾å¼›è¿‡å…¶ä»–ç‚¹çš„ç‚¹åœ¨æ¾å¼›è¿‡ç¨‹ä¸­ï¼Œè·ç¦»æ•°ç»„ï¼ˆå‡½æ•°ï¼‰è¡¨è¾¾çš„æ„ä¹‰æ˜¯è¿™æ ·çš„ï¼Œdist(i)ä»£è¡¨åˆ°iåˆ°æœ€çŸ­è·¯ä¸ä¼šçŸ­äºdist(i) æˆ‘ä»¬å°è¯•ç”¨ç¬¬ä¸€æ•°å­¦å½’çº³æ³•æ¥è¯æ˜æ¾å¼›çš„è¿™ä¸ªç‚¹å·²ç»è¾¾åˆ°äº†æœ€çŸ­è·¯çŠ¶æ€ï¼Œ æ•°å­¦å½’çº³æ³•ç¬¬ä¸€æ­¥:å½’çº³èµ·ç‚¹ï¼Œæˆ‘ä»¬é€‰æ‹©æ¾å¼›çš„ç¬¬ä¸€ä¸ªç‚¹æ˜¯æºç‚¹è‡ªå·±ï¼Œé¦–å…ˆä¸å¯å¦è®¤ï¼Œå¯¹æºç‚¹è‡ªå·±æ¥è¯´ï¼Œä»–å·²ç»è¾¾åˆ°äº†æœ€çŸ­è·¯çŠ¶æ€ã€‚ æ•°å­¦å½’çº³æ³•ç¬¬äºŒæ­¥:å‡è®¾æˆ‘ä»¬å·²ç»ç”¨kä¸ªç‚¹æ¾å¼›è¿‡å…¶ä»–ç‚¹ï¼Œé‚£ä¹ˆè¿™kä¸ªç‚¹éƒ½å·²ç»è¾¾åˆ°äº†æœ€çŸ­è·¯çŠ¶æ€ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ¥ä¸‹æ¥è¦é€‰æ‹©ç¬¬k+1ä¸ªç‚¹æ¥æ¾å¼›å…¶ä»–ç‚¹ï¼Œ æˆ‘ä»¬åœ¨æ‰€æœ‰æ²¡æœ‰æ¾å¼›è¿‡å…¶ä»–ç‚¹çš„ç‚¹ä¸­ï¼Œé€‰å‡ºäº†è·ç¦»æºç‚¹æœ€è¿‘çš„ç‚¹ä¹‹ä¸€ï¼Œä¸‹é¢æ¥è¯æ˜è¿™ä¸ªç‚¹å·²ç»è¾¾åˆ°äº†æœ€çŸ­è·¯çŠ¶æ€ å‡è®¾å®ƒå¹¶éä¸ºæœ€çŸ­è·¯çŠ¶æ€ï¼Œé¦–å…ˆï¼Œé‚£å°±æ„å‘³ç€ä»–çš„æœ€åä¸€æ­¥å¹¶éé€šè¿‡é‚£kä¸ªç‚¹åˆ°å®ƒæ¥å¾—åˆ°ï¼Œè‚¯å®šæ˜¯å‰©ä½™åˆ°æ²¡æœ‰æ¾å¼›è¿‡å…¶ç‚¹çš„ç‚¹å¾—åˆ°çš„ï¼Œ ç„¶é¹…ï¼Œä½ è¦åˆ°å…¶ä»–ç‚¹ï¼Œåœ¨åˆ°æ­¤ç‚¹ï¼Œçš„è·¯ï¼Œæ˜¾ç„¶æ¯”ç›´æ¥åˆ°æ­¤ç‚¹æ›´é•¿ï¼Œå› ä¸ºæˆ‘ä»¬é€‰å‡ºçš„å°±æ˜¯ç¦»æºç‚¹æœ€è¿‘çš„ç‚¹ï¼ŒçŸ›ç›¾ã€‚ å¯å‘å¼æœç´¢å¯¹äºå¯å‘å¼æœç´¢ï¼Œä»–æœ‰ä¸€ä¸ªå¯å‘å‡½æ•°ï¼Œçœ‹å“ªä¸ªç‚¹çš„å¯å‘å‡½æ•°å€¼å¤§&#x2F;å°ï¼Œå°±å…ˆæœç´¢å“ªä¸€ä¸ªï¼Œæ¯”æ–¹è¯´ï¼Œdfsçš„å¯å‘å‡½æ•°æ˜¯ç‚¹çš„æ·±åº¦ï¼Œbfsçš„å¯å‘å‡½æ•°æ˜¯ç‚¹çš„æ·±åº¦çš„ç›¸åæ•°ã€‚ A*æœç´¢å¯¹äºA*æœç´¢ï¼Œä»–ä¹Ÿæœ‰å¯å‘å‡½æ•°ï¼Œä»–çš„å¯å‘å‡½æ•°ä¸€èˆ¬ä¸ºå½“å‰å·²ç»èµ°è¿‡çš„è·¯å¾„é•¿åº¦+è¯„ä¼°å‡½æ•°ï¼Œè¿™ä¸ªè¯„ä¼°å‡½æ•°ï¼Œåœ¨è¿·å®«æœç´¢ä¸­ä¸€èˆ¬å–æ›¼å“ˆé¡¿è·ç¦»ï¼Œåœ¨æœ€çŸ­è·¯æœç´¢ä¸­è¯„ä¼°å‡½æ•°ä¸€èˆ¬é€‰å–ä¸ºå°äºç­‰äºçœŸå®è·ç¦»ï¼Œå¦åˆ™ä¼šå¾—åˆ°é”™è§£ï¼Œæ¯”æ–¹è¯´ï¼Œè‹¥æŠŠdijç®—æ³•çœ‹ç€A*æœç´¢ï¼Œä»–çš„çš„è¯„ä¼°å‡½æ•°å°±æ˜¯f(x)&#x3D;0å“ˆå“ˆå“ˆå“ˆã€‚å¯ä»¥è¯æ˜ï¼Œè¯„ä¼°å‡½æ•°é€‰å–ä¸ºå°äºç­‰äºçœŸå®è·ç¦»ï¼Œ ä¸ä¼šå¯¼è‡´ç®—æ³•æ­£ç¡®æ€§çš„æ”¹å˜ã€‚ å¦‚ä½•æ±‚ç¬¬kçŸ­è·¯ï¼Ÿâ€‹ å¦‚æœæˆ‘ä»¬ä»¥æ¯ä¸€ä¸ªç‚¹åˆ°ç»ˆç‚¹åˆ°çœŸå®æœ€çŸ­è·ç¦»ä½œä¸ºè¯„ä¼°å‡½æ•°ï¼Œè¿™ä¸ªè¯„ä¼°å‡½æ•°ç®€ç›´ç¥äº†ï¼Œè¿™ä¸å«è¯„ä¼°äº†ï¼Œè¿™å«å¼€æŒ‚ã€‚å¯¹æˆ‘ä»¬å°±æ˜¯å¼€æŒ‚ï¼Œè¿™ä¸ªæŒ‚å¥½å¼€ å»ºåå‘å›¾è·‘dijå³å¯ï¼Œç„¶åæˆ‘ä»¬ä»¥è¿™ä¸ªå¯å‘å‡½æ•°ä¸ºæŒ‡å¼•ï¼Œæ¥æœç´¢ï¼Œä¸€ä¸‹å­å°±æ‰¾åˆ°äº†æœ€çŸ­è·¯ï¼Œ0.0 ï¼Œè¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œä¸¢æ‰ï¼Œåªè¦æˆ‘ä»¬ä¸é€€å‡ºç¨‹åºï¼Œæˆ‘ä»¬å°±ä¼šé€æ¸å¾—åˆ°ç¬¬äºŒçŸ­è·¯ã€ç¬¬ä¸‰çŸ­è·¯ã€ç­‰ç­‰ï¼Œè¿™ä¸ªå¾ˆæ˜¾ç„¶çš„ã€‚ SPFA123456789101112131415161718192021222324252627282930313233343536int d[maxn],inq[maxn]; void short_path(int s,int*dist)&#123; for(int i=0;i&lt;=n;i++) dist[i]=1e9; dist[s]=0; deque&lt;int&gt;q; q.push_back(s); inq[s]=1; long long sum=0; while(!q.empty())&#123; int u=q.front(); q.pop_front(); sum-=dist[u];inq[u]=0; if(1ll*dist[u]*q.size()&gt;sum)&#123;//large label last sum+=dist[u]; q.push_back(u); inq[u]=1; &#125; else&#123; for(int i=head[u];~i;i=edge[i].nex)&#123; int v=edge[i].v, w=edge[i].w; if(dist[v]&gt;dist[u]+w)&#123; if(inq[v])&#123; sum-=dist[v]; dist[v]=dist[u]+w; sum+=dist[v]; &#125; else&#123; dist[v]=dist[u]+w; inq[v]=1; sum+=dist[v]; if(dist[v]&lt;dist[q.front()]) q.push_front(v);//small lable first else q.push_back(v); &#125; &#125; &#125; &#125; &#125; &#125; DIJ123456789101112131415161718192021222324252627#define rep(i,j,k) for(int i=j;i&lt;=(k);++i)#define per(i,j,k) for(int i=j;i&gt;=(k);--i)#define repe(i,u) for(int i=head[u];i;i=nex[i])// graphconst int V=5e4+5,E=5e4+5;int head[V];int to[E],nex[E],ew[E],tot=1;inline void addedge1(int u,int v,int w) &#123;to[++tot]=v,nex[tot]=head[u],ew[tot]=w,head[u]=tot;&#125;void del(int u)&#123;repe(i,u) head[u]=0,del(to[i]);&#125;// dijkstraç®—æ³•typedef long long ll;ll d[V];// è·ç¦»æ•°ç»„typedef pair&lt;ll,int&gt;pii;void dijkstra(int base,int n,int s,ll*dist)&#123; rep(i,base+1,base+n) dist[i]=1e18; priority_queue&lt;pii,vector&lt;pii&gt;,greater&lt;pii&gt;&gt;q;// dis and vertex q.emplace(dist[base+s]=0,base+s); while(!q.empty())&#123; int u=q.top().second; q.pop(); repe(i,u)&#123; int v=to[i],w=ew[i]; if(dist[u]+w&lt;dist[v])q.emplace(dist[v]=dist[u]+w,v); &#125; &#125;&#125; Astar12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273const int maxn=1e6;int buf[maxn];struct graph&#123; static const int maxn=1e3+5; static const int maxm=1e5+5; struct star&#123; int v,w,nex; star(int v=0,int w=0,int nex=0):v(v),w(w),nex(nex)&#123;&#125; &#125;edge[maxm];//æœ‰å‘å›¾ä¸è¦åŒå€è¾¹ int head[maxn], tot, n; void init(int _n)&#123; n=_n; tot=-1; memset(head,-1,(n+1)*sizeof(head[0])); &#125; void add_edge(int u,int v,int w)&#123; edge[++tot]=star(v,w,head[u]); head[u]=tot; &#125; struct dijnode&#123; int d,u; bool operator&lt;(const dijnode&amp;rhs)const&#123;return d&gt;rhs.d;&#125; dijnode(int d,int u):d(d),u(u)&#123;&#125; &#125;; void short_path(int s,int*dist)&#123;//short path for(int i=0;i&lt;=n;i++) dist[i]=2e9; priority_queue&lt;dijnode&gt;q;// dis and vert dist[s]=0; q.push(dijnode(dist[s],s)); while(!q.empty())&#123; int u = q.top().u; q.pop(); for(int i=head[u];~i;i=edge[i].nex)&#123; int v=edge[i].v, w=edge[i].w; if(dist[u]+w&lt;dist[v])&#123; dist[v]=dist[u]+w; q.push(dijnode(dist[v],v)); &#125; &#125; &#125; &#125; struct Astarnode&#123; int d,need,u; bool operator&lt;(const Astarnode&amp;rhs)const&#123;return d+need&gt;rhs.d+rhs.need;&#125; Astarnode(int d,int need,int u):d(d),need(need),u(u)&#123;&#125; &#125;; int kthway(graph&amp;rev,int s,int t,int k)&#123;//from s to t the kth way ï¼Œ gæ˜¯åå‘å›¾ if(s==t)k++; int*dist=buf;//åˆ†é…å†…å­˜ rev.short_path(t,dist); if(dist[s]==2e9)return -1;//æ­¤è·¯ä¸é€š priority_queue&lt;Astarnode&gt;q; q.push(Astarnode(0,dist[s],s)); while(!q.empty())&#123; int u = q.top().u, d=q.top().d; q.pop(); if(u==t)&#123; k--; if(k==0)return d; &#125; for(int i=head[u];~i;i=edge[i].nex)&#123; int v=edge[i].v, w=edge[i].w; q.push(Astarnode(d+w,dist[v],v)); &#125; &#125; return -1;//æ²¡é‚£ä¹ˆå¤šè·¯ &#125;&#125;;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"å›¾è®º","slug":"ACM/å­¦ä¹ ç¬”è®°/å›¾è®º","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%9B%BE%E8%AE%BA/"}],"tags":[]},{"title":"è™šæ‹Ÿå†…å­˜","slug":"è®¡ç®—æœºç»„æˆåŸç†/è™šæ‹Ÿå†…å­˜/index","date":"2019-05-02T19:00:00.000Z","updated":"2019-05-02T19:00:00.000Z","comments":true,"path":"PQW4S0.html","link":"","permalink":"http://fightinggg.github.io/indigo/PQW4S0.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ç¨‹åºè·‘èµ·æ¥éƒ½æ˜¯è·Ÿåœ°å€ç›¸å…³çš„ï¼Œå¯ä»¥è¯•æƒ³ï¼Œå¦‚æœå¤šä¸ªç¨‹åºä¸€èµ·è·‘ï¼Œéš¾é“ä¸ç›¸äº’å½±å“å—ï¼Ÿåˆæˆ–è€…è¯´ ä¸ºä»€ä¹ˆæˆ‘ä»¬å†™ä»£ç ï¼Œä»ä¸å»å…³å¿ƒæˆ‘ä»¬çš„ç¨‹åºåœ¨å“ªé‡Œè¿è¡Œï¼Ÿå¤§å®¶éƒ½ç”¨ä¸€ä¸ªMemoryï¼Œä¸ºä»€ä¹ˆæ²¡æœ‰ç›¸äº’ç ´åï¼Ÿå¥½ç¥å¥‡ï¼ï¼ ä¸ºäº†è®©å¤šä¸ªç¨‹åºåœ¨åŒä¸€å°è®¡ç®—æœºä¸Šæ›´å¥½çš„è¿è¡Œï¼Œè€Œä¸å‘ç”Ÿç›¸äº’ç ´åæ€§å½±å“ï¼Œè™šæ‹Ÿå†…å­˜çš„æ¦‚å¿µè¢«æäº†å‡ºæ¥ï¼Œä»æ­¤å¤šä¸ªç¨‹åºéƒ½æœ‰äº†ç‹¬ç«‹çš„åœ°å€ç©ºé—´ã€‚ è™šæ‹Ÿå†…å­˜ï¼Œæ˜¯ä¸ç‰©ç†å†…å­˜ç›¸å¯¹åº”çš„ï¼Œå¯ä»¥è®¾æƒ³ï¼Œæˆ‘ä»¬ç¨‹åºaè¿è¡Œèµ·æ¥ï¼Œå†™åœ°å€Mx1ï¼Œç¨‹åºbè¿è¡Œèµ·æ¥ ä¹Ÿå†™Mx1ï¼Œç»“æœæ˜¯ï¼Œä»–ä»¬æ²¡æœ‰ç›¸äº’å½±å“ï¼Œä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºè¿™ä¸ªåœ°å€Mx1æ˜¯è™šæ‹Ÿå†…å­˜ï¼Œæ˜¯å‡çš„ï¼Œç¨‹åºaçš„mx1 å’Œç¨‹åºbçš„mx1ä¸æ˜¯åŒä¸€ä¸ªåœ°å€ï¼Œç¨‹åºaå†™Mx1ï¼Œç»“æœå†™åˆ°å“ªå»äº†å‘¢ï¼Ÿæˆ‘ä»¬ä¸çŸ¥é“ï¼Œè¿™ä»¶äº‹æ˜¯æ“ä½œç³»ç»Ÿ å®Œæˆçš„ï¼Œä»–æŠŠç¨‹åºaçš„Mx1æ˜ å°„åˆ°äº†ä¸€ä¸ªåœ°æ–¹ï¼ŒåˆæŠŠç¨‹åºbçš„Mx1æ˜ å°„åˆ°äº†å¦ä¸€ä¸ªåœ°æ–¹ï¼Œè¿™ä¸¤ä¸ªç¨‹åºå°±èƒ½ ç‹¬ç«‹çš„è·‘èµ·æ¥äº†ã€‚ è§£å†³ä¸Šè¿°é—®é¢˜çš„æ–¹æ³•å¾ˆç®€å•ï¼Œæ˜¯æœ‰ä¸€ä¸ªå«åšé¡µè¡¨çš„ä¸œè¥¿æ¥å®Œæˆçš„ã€‚ å†…å­˜åˆ†é¡µä¸ºäº†æ›´å¥½çš„è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å°†å†…å­˜åˆ†é¡µï¼Œå°±æˆäº†å¤šä¸ªpageï¼Œå‡è®¾ä¸€ä¸ªpageæœ‰16KBï¼Œé‚£ä¹ˆpageé‡Œé¢çš„ åœ°å€å°±æœ‰16KB&#x3D;2^14B,ä¸ªåœ°å€ï¼Œæˆ‘ä»¬éœ€è¦ç”¨14bitsæ¥è¡¨ç¤ºè¿™ä¸ªåœ°å€ï¼Œæ‰€ä»¥ï¼ŒåŸºäºè¿™ç§pageæ¨¡å¼ åœ°å€çš„ä½14ä½å°±æ˜¯page offsetï¼Œé¡µåç§»é‡ï¼Œå…¶ä»–çš„é«˜ä½å«åšpage numberï¼Œåœ¨è™šæ‹Ÿå†…å­˜é‡Œé¢ å«åšVirutal page number,åœ¨ç‰©ç†å†…å­˜é‡Œé¢å«åšPhysical page number ,æ³¨æ„ç‰©ç†å†…å­˜å’Œè™šæ‹Ÿå†…å­˜ çš„page offsetæ˜¯ä¸€æ ·çš„ã€‚äºæ˜¯æˆ‘ä»¬ä¸€ä¸ªpageä¸€ä¸ªpageçš„æ˜ å°„ï¼Œä¸€æ¬¡æ˜ å°„å°±æ˜¯ä¸€æ•´é¡µã€‚é¡µå†…éƒ¨ä¿æŒåœ°å€ ä¸€è‡´ï¼Œåœ°å€æ˜ å°„åªæ˜¯page numberå˜åŒ–ã€‚ é¡µè¡¨æˆ‘ä»¬ä¹‹å‰è¯´è¿‡ï¼Œæ“ä½œç³»ç»Ÿè¿›è¡Œäº†ä¸€æ¬¡æ˜ å°„ï¼Œè¿™ä¸ªæ˜ å°„æ˜¯æ€ä¹ˆå®Œæˆçš„å‘¢ï¼Ÿäºæ˜¯å¶è¡¨å‡ºæ¥äº†ï¼Œæœ‰ä¸€å¼ è¡¨ è®°å½•äº†æ‰€æœ‰è™šæ‹Ÿå†…å­˜åœ°å€é¡µå·ï¼ˆvpnï¼‰åˆ°ç‰©ç†å†…å­˜åœ°å€é¡µå·çš„ï¼ˆppnï¼‰çš„æ‰€æœ‰ä¿¡æ¯ï¼Œæ˜¾ç„¶ä¸ºäº†é«˜æ•ˆæ€§ è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨æ•°ç»„æ¥å®Œæˆï¼Œåœ¨c++é‡Œé¢å¦‚æœæœ‰ä¸€ä¸ªæ•°ç»„a[4]&#x3D;{1,2,0,3};é‚£ä¹ˆå°±æœ‰a[0]&#x3D;1,a[1]&#x3D;2,a[2]&#x3D;0, a[3]&#x3D;3;ok æ˜ å°„å®Œæˆäº†ï¼ï¼Oï¼ˆ1ï¼‰æ˜ å°„ï¼Œé«˜æ€§èƒ½ã€‚ä½†æ˜¯è¿˜æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜ã€‚è¿™ä¸ªæ•°ç»„å¯èƒ½å›ç©¶æå¤§å¤§å¤§å¤§ã€‚ è®¾æƒ³ä¸€ä¸ª64GBçš„ç‰©ç†å†…å­˜ï¼Œä»¥åŠ1024GBçš„è™šæ‹Ÿå†…å­˜ï¼Œé¡µå¤§å°16KBï¼Œé‚£ä¹ˆä¼šå¯¼è‡´36ä½çš„ physical address 40ä½çš„virtual address ä»¥åŠ14ä½çš„page offsetï¼Œç„¶åæˆ‘ä»¬å‘ç°physical page number è¾¾åˆ°äº†22ä½ï¼Œvirtual page number è¾¾åˆ°äº†26ä½ï¼Œæˆ‘ä»¬æ¥ç®—ä¸€ä¸‹è¿™ä¸ªæ•°ç»„æœ‰å¤šå¤§ï¼Œ26ä½çš„å…ƒç´ ï¼Œ2^26*22ï¼Ÿbitï¼Œå¤§æ¦‚æ˜¯150MBå·¦å³ è¿™ä¹ˆå¤§ï¼Œç¼“å­˜ä¹Ÿæ”¾ä¸ä¸‹å‘€ï¼Œåªèƒ½æ”¾å†…å­˜é‡Œé¢ï¼Œå¯æ˜¯è¿™è¿™ä¸œè¥¿è¯»å–é¢‘ç‡æ˜¯ç©¶æé«˜çš„ï¼Œæ”¾å†…å­˜é‡Œé¢è¯»å†™å¤ªæ…¢äº†ã€‚ Translation Look-Aside Buffers (TLBs)â€‹ äºæ˜¯æˆ‘ä»¬æ€è€ƒèƒ½ä¸èƒ½æŠŠä¸€éƒ¨åˆ†ç»å¸¸è¦ç”¨åˆ°æ”¾åˆ°Cacheé‡Œé¢ï¼Ÿèƒ½å•Šï¼ï¼ä¸ºä»€ä¹ˆä¸èƒ½ï¼Ÿä¸ºäº†è®©å¶è¡¨ç”¨çš„æ›´åŠ å¾—åŠ²ï¼Œ æˆ‘ä»¬è¿˜ä¸“é—¨ç»™ä½ å¼„ä¸€ä¸ªCacheï¼Œé‡æ–°å–åä½TLBã€‚å“ˆå“ˆã€‚TLBå’Œæ™®é€šCacheä¸€æ ·ï¼Œpage offsetå’Œ TLB index TLB tagå’ŒCacheçš„ä¸€æ‘¸ä¸€æ ·ï¼Œè®¡ç®—æ–¹æ³•ä¸€æ‘¸ä¸€æ ·ï¼Œæ­¤å¤„ä¸å†å¤šè¨€ã€‚ TLB Entryâ€‹ è¿™ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯å¤šä¸€ä¸ªAccess Control (ä¸€èˆ¬ 2 bits),ä¹Ÿå°±å¤šä¸¤ä½æ¥ç€ã€‚Cacheæ‡‚äº†è¿™é‡Œå¾ˆç®€å•ã€‚","categories":[{"name":"è®¡ç®—æœºç»„æˆåŸç†","slug":"è®¡ç®—æœºç»„æˆåŸç†","permalink":"http://fightinggg.github.io/indigo/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/"}],"tags":[]},{"title":"è¡¥ç ","slug":"è®¡ç®—æœºç»„æˆåŸç†/è¡¥ç /index","date":"2019-05-02T18:00:00.000Z","updated":"2019-05-02T18:00:00.000Z","comments":true,"path":"PQW200.html","link":"","permalink":"http://fightinggg.github.io/indigo/PQW200.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æˆ‘ä»¬ç”¨æ•°å­¦æ–¹å¼æ¥é‡æ–°å®šä¹‰è®¡ç®—æœºé‡Œé¢çš„è¿ç®—ï¼Œå› ä¸ºå†…å­˜æ˜¯æœ‰é™çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨è®¡ç®—æœºå½“ä¸­ å­˜å‚¨æ•°æ®çš„æ—¶å€™ï¼Œè¿™äº›æ•°æ®éƒ½æ˜¯æœ‰èŒƒå›´çš„æ•°ï¼Œæ‰€ä»¥æ‰€æœ‰çš„è¿ç®—éƒ½æ˜¯å»ºç«‹åœ¨æ¨¡æ•°ä¸Šçš„ï¼Œä¾‹å¦‚åŠ æ³•æˆäº† æ¨¡åŠ ã€‚a+bæˆäº†ï¼ˆa+bï¼‰%modã€‚ ä¸ºäº†è®©å‡æ³•è·‘çš„æ›´å¿«ï¼Œæˆ‘ä»¬æŠŠå‡æ³•ä¸¢æ‰äº†ï¼Œäºæ˜¯è¿™ä¸ªä¸–ç•Œåªæœ‰åŠ æ³•äº†ã€‚å‡æ³•æˆäº†åŠ ä¸€ä¸ªè´Ÿæ•°ã€‚ è´Ÿæ•°åˆæ˜¯æ€ä¹ˆå®šä¹‰çš„å‘¢ï¼Ÿå¦‚æœx&#x3D;-1ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·æ¥å­˜å‚¨ï¼ˆ0-1+modï¼‰%mod&#x3D;mod-1 äºæ˜¯æˆ‘ä»¬æŠŠè´Ÿæ•°ä¹Ÿæ˜ å°„åˆ°äº†æ–°çš„æ­£æ•°ä¸Šã€‚ ç”±äºæ¨¡åŠ ä¹Ÿæ»¡è¶³åŠ æ³•çš„äº¤æ¢ç‡ç»“åˆå¾‹ç­‰ç­‰ä¼˜è‰¯æ€§è´¨ã€‚å¾ˆæ˜æ˜¾ï¼Œå¯¹äºè´Ÿæ•°-xå’Œ-yæˆ‘ä»¬å­˜çš„æ˜¯mod-x å’Œmod-yï¼Œäºæ˜¯ç»å†æ¨¡åŠ ï¼ˆ-x+-yï¼‰%mod&#x3D;ï¼ˆmod-x+mod-y)%modè¿™æ˜¾ç„¶æ˜¯æ­£ç¡®çš„ã€‚","categories":[{"name":"è®¡ç®—æœºç»„æˆåŸç†","slug":"è®¡ç®—æœºç»„æˆåŸç†","permalink":"http://fightinggg.github.io/indigo/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/"}],"tags":[]},{"title":"æµ…è°ˆç¼“å­˜","slug":"è®¡ç®—æœºç»„æˆåŸç†/æµ…è°ˆç¼“å­˜/index","date":"2019-05-02T17:00:00.000Z","updated":"2019-05-02T17:00:00.000Z","comments":true,"path":"PQVZ80.html","link":"","permalink":"http://fightinggg.github.io/indigo/PQVZ80.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial # Cacheçš„åŸºæœ¬ç†è®ºæŒ‡å¯¼ â€‹ ç”±äºè®¡ç®—æœºå†…éƒ¨memeryä¸ processorä¹‹é—´çš„é€Ÿåº¦å·®è·è¿‡å¤§ï¼Œå¯¼è‡´è®¡ç®—æœºæ•´ä½“é€Ÿåº¦é™ä½ï¼Œmemeryæ‹–æ…¢äº†é€Ÿåº¦ã€‚äºæ˜¯äººä»¬æƒ³å‡º äº†ä¸€ä¸ªåŠæ³•æ¥è§£å†³ä»–ã€‚ç¼“å­˜Cacheè¯ç”Ÿäº†ã€‚â€‹ Cacheç›¸å¯¹äºMemeryæ¥è¯´ï¼Œé€Ÿåº¦å¿«äº†å¾ˆå¤šï¼Œé€Ÿåº¦å¿«æ„å‘³ç€é€ ä»·é«˜ï¼Œå®¹é‡å°ï¼Œè¿™æ˜¯ä»£ä»·ï¼Œæˆ‘ä»¬æ²¡æœ‰é‚£ä¹ˆå¤šé’±æ¥ç”¨Cacheæ¥å½“ä½œ Memeryï¼Œäºæ˜¯æˆ‘ä»¬å°è¯•ï¼Œè®©ä»–ä½œä¸ºProcessorä¸Memeryçš„ä¸­ä»‹ã€‚â€‹ ä¸ºä»€ä¹ˆè¦Cacheï¼Œå› ä¸ºMemeryå¤ªæ…¢äº†ï¼Œç”¨Cacheçš„è¯ï¼Œå®¹é‡é—®é¢˜å¾ˆæ˜¾ç„¶ï¼ŒCacheå¾ˆå°ï¼Œæ²¡æœ‰Memeryé‚£ä¹ˆå¤§ã€‚ä½†æ˜¯æˆ‘ä»¬çš„åˆè¡· æ˜¯ä»€ä¹ˆï¼Œç”¨Cacheå»ä»£æ›¿Memeryï¼Œä½†æ˜¯ï¼ŒCacheè¿™ä¸ªå®¶ä¼™å°å•Šï¼Œæˆ‘ä»¬ä¸å¯èƒ½æŠŠä¸€ä¸ªå¤§çš„ä¸œè¥¿æ”¾è¿›ä¸€ä¸ªå°çš„ç›’å­é‡Œé¢ã€‚ è¿™æ˜¯ç¼“å­˜ é¢ä¸´çš„æœ€å¤§é—®é¢˜ã€‚â€‹ é‡æ–°æ€è€ƒè®¡ç®—æœºçš„è¿è½¬ï¼ŒæŒ‡ä»¤æ˜¯ä¸€æ¡ä¸€æ¡æ‰§è¡Œçš„ï¼Œå½“è®¡ç®—æœºè¿è½¬çš„æ—¶å€™ï¼ŒCPUå…³å¿ƒçš„ä¸æ˜¯æ•´ä¸ªMemeryï¼Œä»–åªè¦ä»–çš„ä¸œè¥¿ï¼Œä»–æ‰€éœ€è¦çš„ åªæ˜¯å±€éƒ¨çš„ä¿¡æ¯ã€‚äºæ˜¯æˆ‘ä»¬å¼€å§‹æ€è€ƒï¼Œæ—¢ç„¶Cacheæ²¡æœ‰Memeryé‚£ä¹ˆå¤§ï¼Œé‚£æˆ‘ä»¬å°±æ„å»ºä¸€ä¸ªä¸€å¯¹å¤šçš„æ˜ å°„ï¼Œä¸€ä¸ªCacheåœ°å€ï¼Œå»å¯¹åº” å¤šä¸ªMemeryåœ°å€ï¼Œé—®é¢˜ä¼¼ä¹è§£å†³äº†ï¼Œæ˜¯çš„Cacheå°±æ˜¯é‚£æ ·å·¥ä½œçš„ã€‚â€‹ ä¸€å¯¹å¤šçš„é—®é¢˜ä¸å¥½è§£å†³ï¼Œä½ æ€ä¹ˆçŸ¥é“ä¸€å¯¹å¤šçš„æ—¶å€™ï¼Œå¯¹åº”çš„æ˜¯å“ªä¸€ä¸ªå‘¢ï¼Ÿæˆ‘ä»¬æ˜¯è¿™æ ·å­è§£å†³çš„ï¼ŒæŠŠMemeryçš„åœ°å€æ˜ å°„ Mxåˆ°Cacheçš„åœ°å€Cxï¼Œè¿™æ˜¯å”¯ä¸€çš„ï¼Œä½†æ˜¯Cacheæ˜¯ä¸€å¯¹å¤šå•Šï¼Œæˆ‘ä»¬å‡è®¾æ˜¯ä¸€å¯¹å››ï¼Œç„¶åæˆ‘ä»¬åœ¨Cacheçš„åœ°å€æ‰€æŒ‡å‘çš„ä½ç½®æ·» åŠ ä¸€ä¸ªæ ‡è®°ï¼Œç”¨æ¥æŒ‡ç¤ºä»–ç›®å‰å¯¹åº”æ˜¯å“ªä¸€ä¸ªMemeryåœ°å€ï¼Œä¸å¦¨è¯´ä»–ç›®å‰å¯¹åº”çš„æ˜¯ç¬¬ä¸‰ä¸ªMemeryã€‚ç°åœ¨é—®é¢˜åŸºæœ¬è§£å†³äº†ã€‚ ä¾‹å¦‚ï¼šâ€‹ æœ‰å››ä¸ªMemeryåœ°å€Mx1ï¼ŒMx2ï¼ŒMx3ï¼ŒMx4ï¼Œéƒ½æ˜ å°„åˆ°äº†Cxï¼Œä½†æ˜¯Cxä¸Šæœ‰ä¸€ä¸ªæ ‡è®°ï¼Œæ ‡è®°è¯´Cxç›®å‰å­˜çš„å€¼ç­‰äºMx3 å­˜çš„å€¼ã€‚è¿™æ ·å°±å®Œç¾è§£å†³äº†æ˜ å°„çš„é—®é¢˜ã€‚ä½†æ˜¯æ–°çš„é—®é¢˜æ¥äº†ï¼Œæ— æ³•é€ƒé¿ï¼ŒCacheæ¯•ç«Ÿæ²¡æœ‰Memeryé‚£ä¹ˆå¤§ï¼Œæˆ‘ç°åœ¨ è¦è®¿é—®Mx1ï¼Œç»“æœæˆ‘æ‰¾åˆ°äº†Cxï¼ŒCxå´å‘Šè¯‰æˆ‘ä»–ç°åœ¨å­˜çš„ä¸œè¥¿ä¸æ˜¯Mx1ï¼Œè€Œæ˜¯Mx3ï¼Œæ€ä¹ˆåŠï¼Ÿï¼Ÿâ€‹ æ²¡åŠæ³•ï¼Œè¿™ç§æƒ…å†µå«missï¼Œåªèƒ½ä»Memeryæ‰¾äº†ï¼Œæˆ‘ä»¬æ˜¯è¿™æ ·åšçš„ï¼šæŠŠä»MemeryæŠŠMx1ä»¥åŠä»–é™„è¿‘çš„å…¶ä»–ä¸œè¥¿æ¬è¿‡æ¥ æ¬åˆ°Cacheï¼Œç„¶åæ›´æ–°Cacheçš„æ ‡å¿—ã€‚å›åˆ°åˆšæ‰çš„ä¾‹å­ï¼Œä¹Ÿå°±æ˜¯æŠŠMx1ä»¥åŠä»–é™„è¿‘çš„å…¶ä»–ä¿¡æ¯çš„ä¸œè¥¿æ¬åˆ°äº†Cxä¸Š ç„¶åæ”¹æ‰Cxçš„æ ‡è®°ï¼Œè¯´Cxç°åœ¨ä¸æ˜¯Mx3äº†ï¼Œä»–ç°åœ¨ä¸Mx1ä¸€èµ·äº†ã€‚â€‹ å¦‚æ­¤å¤æ‚çš„æ“ä½œï¼ŒçœŸçš„å›ä½¿å¾—è®¡ç®—æœºå˜å¿«å—ï¼Ÿæ˜¯çš„ï¼Œå¹³å‡æ€§èƒ½ä¸Šæé«˜äº†ï¼Œå› ä¸ºCacheå’ŒMemeryé€Ÿåº¦å·®å¼‚å·¨å¤§ã€‚ä¸è¿‡æ¨è€å¸ˆæ›¾æŒ‡å‡ºä¸€ä¸ª åä¾‹ï¼Œä»–è¯´ï¼Œä½ è¦æ˜¯æœ‰ä¸ªææ€–åˆ†å­ï¼Œä¸ç”¨æˆ‘ä»¬çš„Cacheï¼Œå½“Cxä¸Mx1ä¸€è‡´çš„æ—¶å€™ä½ è¦ç”¨Mx2ï¼Œå½“Cxå˜å¾—æ ¹Mx2ç›¸åŒäº†ï¼Œä½  åˆè¦ç”¨Mx1ï¼Œé‚£å²‚ä¸æ˜¯å‡‰å‡‰ï¼Ÿå¥½åƒç¡®å®æ˜¯è¿™æ ·å­çš„ã€‚â€‹ ä¸ºä»€ä¹ˆè¯´æ˜¯å¹³å‡æ€§èƒ½çš„æé«˜å‘¢ï¼Ÿæœ‰ä¸¤ç‚¹ï¼Œmemeryä½¿ç”¨çš„æ—¶é—´å±€éƒ¨æ€§å’Œç©ºé—´å±€éƒ¨æ€§ï¼Œå½“ä½ ä½¿ç”¨äº†ä¸€ä¸ªMemeryçš„åœ°å€ åï¼Œä½ åœ¨ä¸ä¹…çš„å°†æ¥å¯èƒ½è¿˜ä¼šä½¿ç”¨ä»– ï¼Œä½ ä¹Ÿæœ‰è‚¯èƒ½ä½¿ç”¨ä»–é™„è¿‘çš„å…¶ä»–ä¿¡æ¯ã€‚æ‰€ä»¥æˆ‘ä»¬æŠŠå’Œä»–ç›¸å…³çš„ä¸œè¥¿ä¸€è‚¡è„‘éƒ½æ”¾è¿› Cacheå°±å¯ä»¥äº†ï¼Œä½†æ˜¯æ”¾å¤šå°‘å‘¢ï¼Ÿè¿™ä¸ªé—®é¢˜ï¼Œå…ˆè¾ˆä»¬å·²ç»é€šè¿‡ç»Ÿè®¡å¾—å‡ºæ¥ç»“è®ºã€‚æˆ‘ä»¬ä¸å¿…å…³å¿ƒã€‚ Cacheçš„åŸºæœ¬å®é™…å®ç°â€‹ ä¹‹å‰æˆ‘ä»¬è°ˆåˆ°çš„åªæ˜¯å£ç³Šï¼Œå…·ä½“å®ç°çš„æ—¶å€™ï¼Œä¸æ˜¯ä¸€ä¸ªåœ°å€å¯¹åº”ä¸€ä¸ªåœ°å€ï¼Œè€Œæ˜¯ä¸€å—å¯¹åº”ä¸€å—ï¼ˆblockï¼‰ï¼Œ æˆ‘ä»¬æ›¾è°ˆåˆ°ï¼Œç©ºé—´å±€éƒ¨æ€§ï¼Œæ‰€ä»¥è¯´è¿™é‡Œä¸è¦ä¸€ä¸ªåœ°å€å¯¹åº”ä¸€ä¸ªåœ°å€çš„ç©äº†ã€‚æˆ‘ä»¬å¼•å…¥blockã€‚ä¹Ÿå°±æ˜¯è¯´ æˆ‘ä»¬æŠŠåœ°å€Mx1_begin åˆ°Mx1_endè¿™ä¸€æ•´å—çš„åœ°å€æ˜ å°„åˆ°Cx_beginåˆ°Cx_end ï¼Œ ç„¶åæ”¾ä¸€ä¸ªæ ‡è®°å°±å¯ä»¥äº†ï¼Œ è¿™æ ·çš„ä¼˜ç‚¹å¾ˆå¤šï¼Œæ¯”å¦‚è¯´çœæ‰äº†å¾ˆå¤šæ ‡è®°çš„è®°å½•ã€‚ã€‚ã€‚ç­‰ç­‰çš„â€‹ Cacheçš„åœ°å€åˆ†ä¸ºä¸‰å¤§å—ï¼Œtag,index,å’Œoffsetâ€‹ offsetæŒ‡çš„æ˜¯ä¸€ç§åç§»é‡ï¼Œæˆ‘ä»¬ä¹‹å‰è¯´è¿‡ï¼ŒCacheé‡Œé¢åˆ†äº†å¾ˆå¤šä¸ªblockï¼Œæ¯ä¸€ä¸ªblockéƒ½æ˜¯ä¸€ä¸ªæ•´ä½“ï¼Œæ‰€ä»¥ å½“æˆ‘ä»¬æ‰¾åˆ°äº†æ­£ç¡®çš„å½“blockå½“æ—¶å€™ï¼Œoffsetç”¨æ¥æŒ‡å‘blocké‡Œé¢çš„è¯¦ç»†åœ°å€ã€‚æ˜¾ç„¶ï¼Œblocké‡Œé¢æœ‰å¤šå°‘ç§åœ°å€ offsetå°±æœ‰å¤šå°‘ç§å€¼ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå½“blockæ˜¯64Bçš„æ—¶å€™ï¼Œä»–ä¸€å…±æœ‰2^6ä¸ªbyteï¼Œæˆ‘ä»¬è®¡ç®—æœºå¯»å€æ‰€å…³å¿ƒçš„åªæ˜¯ å“ªä¸€ä¸ªbyteï¼Œï¼ˆä¸€èˆ¬è€Œè¨€ï¼Œå››ä¸ªbyteä¸ºä¸€ä¸ªwordsï¼‰æ‰€ä»¥æˆ‘ä»¬çš„offsetéœ€è¦æœ‰6ä¸ªbitï¼Œæ‰èƒ½æ°å¥½æŒ‡å‘è¿™2^6ä¸ª byteã€‚äºæ˜¯åœ¨è¿™ç§æƒ…å†µä¸‹offsetä¸º6ä½â€‹ indexæŒ‡å‘æˆ‘ä»¬è¦æ‰¾çš„å“ªä¸€ä¸ªblockï¼Œè§æ¨è€å¸ˆçš„å›¾â€‹ å¾ˆæ˜æ˜¾ï¼Œå¦‚æœåœ¨ä¸Šè¿°æ¡ä»¶ä¸‹æˆ‘ä»¬çš„Cacheä¸€å…±æœ‰64KBçš„è¯ï¼Œé‚£æˆ‘ä»¬å°±æœ‰ 64KB&#x2F;6B&#x3D;2^10ä¸ªblockï¼Œäºæ˜¯indexå°±æ˜¯10ä½çš„äº†ï¼Œå¯æ˜¯æœ‰ä¸€äº›Cacheï¼Œç‰¹åˆ«çš„æœ‰è¶£ï¼Œå®ƒå…è®¸å¤šå¯¹å¤šã€‚è¿™å°±å¾ˆ å¤´ç–¼äº†ï¼Œä¸è¿‡è¿™ç¡®å®æ˜¯ä¸ªå¥½åŠæ³•ã€‚æœ‰ä¸€å®šçš„ä¼˜ç‚¹ã€‚ å¤šå¯¹å¤šæ˜¯ä¸ªä»€ä¹ˆæƒ…å†µå‘¢ï¼Ÿç±»ä¼¼äºè¿™æ ·,æœ‰Cx1 Cx2ï¼ŒMx1ï¼ŒMx2ï¼ŒMx3ï¼ŒMx4ï¼Œä»–ä»¬å¾ˆä¹±ï¼Œå››ä¸ªMxéƒ½å¯èƒ½æ˜ å°„åˆ° Cx1ï¼Œä¹Ÿéƒ½å¯èƒ½æ˜ å°„åˆ°Cx2ï¼Œæ³¨æ„å¯¹æ¯”ä¹‹å‰çš„ä¸€å¯¹å¤š:æœ‰Cxï¼ŒMx1ï¼ŒMx2ï¼ŒMx3ï¼ŒMx4,å››ä¸ªMxéƒ½å¯èƒ½æ˜ å°„åˆ°Cx å¤šå¯¹å¤šå¤šä¼˜ç‚¹çš„è¯ï¼Œä¸å¥½è¯´ï¼Œå…¶å®æ˜¯æˆ‘ä¸çŸ¥é“ã€‚è¿™ç§å¤šå¯¹å¤šçš„éªšæ“ä½œï¼Œå®ç°èµ·æ¥æ›´å¤æ‚äº†ï¼Œä»–å«n-way set-assoc. ä¸­æ–‡ånè·¯é›†ç›¸å…³ã€‚å¾ˆshitï¼Œå¾ˆç¥å¥‡ã€‚ä¸‹é¢æ˜¯äºŒè·¯é›†ç›¸å…³ï¼ˆè¿˜æ˜¯æ¨è€å¸ˆçš„ï¼‰.â€‹ åœ¨nè·¯åŠç›¸å…³çš„æƒ…å†µä¸‹ï¼Œindexåˆå«åšsetï¼Œè¿™æ˜¯ä»–çš„æ–°åå­—ï¼Œè¿™ä¸ªæ—¶å€™ä»–æŒ‡å‘ä¸€å †blockï¼Œæ¢å¥è¯è¯´ï¼Œä¸€å †blockå…±ç”¨ ä¸€ä¸ªindexã€‚äºæ˜¯ï¼Œå¦‚æœåˆšåˆšçš„64KBCacheæ˜¯äºŒè·¯é›†ç›¸å…³çš„è¯ï¼Œä»–çš„indexæ˜¯9ä½ï¼Œå› ä¸ºä¸€ä¸ªindexå¯ä»¥æŒ‡å‘ä¸¤ä¸ª blockã€‚â€‹ è‡³äºtagï¼Œæˆ‘ä¸æ˜¯å¾ˆæ¸…æ¥šäº†ã€‚åº”å¯¹è€ƒè¯•çš„è¯ï¼Œä»–çš„ä½æ•°ç”¨PPA(Physical Page Address )å‡å»indexå’Œoffsetå°±å¾—åˆ°äº†ã€‚â€‹ æœ€åå‰©ä¸‹çš„ä¸€ä¸ªæ˜¯Data Cache entry ä»–çš„å¤§å°ç­‰äºValid bit, Dirty bit, Cache tag + ï¼Ÿï¼Ÿ Bytes of Dataï¼Œ æœ‰è¿™äº›ä¸€èµ·ç»„æˆã€‚Valid bit ä¸€èˆ¬æ˜¯ä¸€ä½ï¼Œä»–çš„ä½œç”¨æ˜¯ç”¨æ¥æŒ‡ç¤ºè¿™ä¸ªblockæ˜¯å¦æœ‰ç”¨ï¼Œä¸ºä»€ä¹ˆä¼šæ²¡æœ‰ç”¨å‘¢ æˆ‘ä»¬æƒ³åˆ°ï¼Œç¨‹åºæ€»æœ‰å¯åŠ¨çš„æ—¶å€™ï¼Œå½“ç¨‹åºåˆšåˆšå¯åŠ¨çš„æ—¶å€™ï¼Œblockæ˜¯æ— æ•ˆçš„ï¼Œå®ƒé‡Œé¢çš„æ•°æ®å­˜åœ¨ï¼Œä½†æ˜¯ æ•°æ®å´ä¸ä¸€å®šå’ŒMemeryä¿æŒä¸€è‡´ã€‚è¿™ä¸ªé—®é¢˜æ— æ³•é¿å…ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡Valid bitè§£å†³ã€‚Dirty bitæ˜¯ä¸€ç§æ‡’æƒ° æ ‡è®°ï¼Œä¸€èˆ¬çš„æ ‘å½¢ç»“æ„ï¼Œä¾‹å¦‚çº¿æ®µæ ‘ï¼Œspalyï¼Œä»¥åŠå„ç§å¯æŒä¹…åŒ–æ•°æ®ç»“æ„é‡Œé¢éƒ½ç”¨è¿™ç§ä¸œè¥¿ã€‚ä»–ç”¨æ¥è¡¨æ˜ ä¸€ç§æ‡’æƒ°æ€§ï¼Œå› ä¸ºMemeryæ…¢ï¼Œå› ä¸ºCacheæ˜¯ç”¨æ¥ä»£æ›¿Memeryçš„ï¼Œå½“æˆ‘ä»¬è¯»å–æ•°æ®çš„æ—¶å€™ï¼Œæ²¡æœ‰ä»–çš„ç”¨é€” å•å½“æˆ‘ä»¬æ›´æ–°æ•°æ®çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸€å®šè¦ç«‹å³æ›´æ–°Memeryå—ï¼Œä¸æ˜¯çš„ï¼Œæˆ‘ä»¬å¯ä»¥åªæ›´æ–°Cacheçš„blockï¼Œç­‰ åˆ°misså‘ç”Ÿçš„æ—¶å€™ï¼Œåœ¨æŠŠå®ƒä»¬ä¸€èµ·å†™å…¥Memeryå³å¯ï¼Œæ‰€ä»¥ä»–å«è„ä½ã€‚æ˜¯ä¸€ä½ã€‚Cache tagå°±æ˜¯æˆ‘ä»¬ä¹‹å‰è¯´çš„ æ ‡è®°ï¼Œç”¨æ¥é˜²æ­¢ä¸€å¯¹å¤šçš„æƒ…å†µä¸‹çš„é‚£ä¸ªæ ‡è®°ï¼Œä»–ç­‰äºå‰é¢æˆ‘ä»¬ç®—å‡ºæ¥çš„tagçš„å¤§å°ã€‚æœ€åä¸€ä¸ªæ˜¯Bytes of Data ä»–æ°å¥½ç­‰äºblockçš„å¤§å°ï¼Œä¾‹å¦‚64KBçš„é‚£ä¸ªCacheï¼Œä»–çš„å¤§å°ä½64KB&#x3D;64*8bits&#x3D;512bitsï¼Œäºæ˜¯æ€»å¤§å°ä¸º 1+1+21+512&#x3D;535bits","categories":[{"name":"è®¡ç®—æœºç»„æˆåŸç†","slug":"è®¡ç®—æœºç»„æˆåŸç†","permalink":"http://fightinggg.github.io/indigo/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/"}],"tags":[]},{"title":"ç”¨æ•°å­¦æµ…è°ˆæµ®ç‚¹æ•°","slug":"è®¡ç®—æœºç»„æˆåŸç†/ç”¨æ•°å­¦æµ…è°ˆæµ®ç‚¹æ•°/index","date":"2019-05-02T16:00:00.000Z","updated":"2019-05-02T16:00:00.000Z","comments":true,"path":"PQVWG0.html","link":"","permalink":"http://fightinggg.github.io/indigo/PQVWG0.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æµ®ç‚¹æ•°å¾ˆç¥å¥‡ï¼ŒProf. Kahanæ˜¯ä¸ªé¬¼æ‰ã€‚å¯ä»¥è¯´æµ®ç‚¹æ•°çš„è¯ç”Ÿå¾ˆå¤§ç¨‹åº¦ä¸Šæ¨åŠ¨äº†è®¡ç®—æœºçš„å‘å±•ã€‚ æµ®ç‚¹æ•°çš„æ¦‚å†µâ€‹ åœ¨è®¡ç®—æœºä¸­ï¼Œæµ®ç‚¹æ•°ä¸»è¦ä»¥ç§‘å­¦è®¡æ•°æ³•å­˜å‚¨ï¼Œå…¶ç§‘å­¦è®¡æ•°æ³•åº•æ•°ä¸º2ï¼Œäºæ˜¯ä¸€èˆ¬è€Œè¨€ï¼šæµ®ç‚¹æ•°åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼Œç¬¦å·åŸŸï¼ˆSignï¼‰ï¼ŒæŒ‡æ•°åŸŸï¼ˆExponentï¼‰ï¼Œå°¾æ•°åŸŸï¼ˆFractionï¼‰ã€‚ åˆ†åˆ«å¯¹åº”ç§‘å­¦è®¡æ•°æ³•çš„æœ‰æ•ˆæ•°å­—çš„ç¬¦å·ï¼Œæœ‰æ•ˆæ•°å­—çš„æŒ‡æ•°ï¼Œæœ‰æ•ˆæ•°å­—çš„å°æ•°éƒ¨åˆ†ã€‚ æµ®ç‚¹æ•°çš„æŒ‡æ•°åŸŸâ€‹ ä¸ºäº†è®©æµ®ç‚¹æ•°çš„æ¯”è¾ƒèƒ½å¤Ÿç”±æ•´å½¢çš„æ¯”è¾ƒå™¨å®Œæˆï¼Œå…¶æŒ‡æ•°é‡‡å–ç§»ç æ¥è¡¨ç¤ºï¼Œï¼ˆç§»ç å’Œè¡¥ç åªæœ‰ç¬¦ å·ä½ç›¸åï¼Œå…¶ä½™éƒ½ä¸€æ ·ã€‚å¯¹äºæ­£æ•°è€Œè¨€ï¼ŒåŸç ã€åç å’Œè¡¥ç éƒ½ä¸€æ ·ï¼›å¯¹äºè´Ÿæ•°è€Œè¨€ï¼Œè¡¥ç å°±æ˜¯å…¶ç»å¯¹å€¼çš„åŸç å…¨éƒ¨å–åï¼Œç„¶ååŠ 1ï¼ˆä¸åŒ…æ‹¬ç¬¦å·ä½ï¼‰ï¼‰ å½¢è±¡åœ°æ¥æ¥è¯´ç§»ç æ˜¯åŸç çš„ç§»åŠ¨ï¼Œåœ¨æ•°å€¼ä¸Šç§»ç ç­‰äºåŸç å‡å»2^(k-1)-1,kæ˜¯ä½æ•°ã€‚ä½†æ˜¯å¹¶ä¸æ˜¯æ‰€æœ‰çš„æµ®ç‚¹æ•°éƒ½é‡‡å–æ­¤ç§è¡¨ç¤ºæ–¹æ³•ã€‚æœ‰ä¸€å°éƒ¨åˆ†æµ®ç‚¹æ•°çš„æŒ‡æ•°åŸŸï¼Œ ä¸ä¹‹ä¸åŒï¼Œæˆ‘ä»¬åœ¨åé¢è¯´ã€‚ æµ®ç‚¹æ•°çš„å°¾æ•°åŸŸâ€‹ ä¸ºä»€ä¹ˆå«å°¾æ•°åŸŸï¼Œè€Œä¸å«æœ‰æ•ˆæ•°å­—åŸŸï¼Œå…¶å®å¾ˆå®¹æ˜“æƒ³åˆ°äºŒè¿›åˆ¶çš„ç§‘å­¦è®¡æ•°æ³•çš„æ•´æ•°éƒ¨åˆ†å¿…ç„¶æ˜¯1ï¼Œäºæ˜¯è¿™ä¸ª1è¢«çœç•¥æ‰äº†ï¼Œè®¡ç®—æœºä¸å­˜å‚¨ä»–ã€‚ æµ®ç‚¹æ•°ä¸­çš„ç‰¹ä¾‹â€‹ å¦‚æœæˆ‘ä»¬çœŸçš„åƒåˆšåˆšåˆ†æçš„é‚£æ ·ï¼Œç»“æŸäº†æµ®ç‚¹æ•°çš„å®šä¹‰ï¼Œä¼šæœ‰ä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯0ä¸è§äº†ï¼Œå¹¶ä¸”é è¿‘0çš„ä¸€å°éƒ¨åˆ†æœ‰ä¸€ä¸ªå·¨å¤§çš„gapï¼Œæˆ‘ä»¬åé¢åœ¨è¯æ˜è¿™ä¸ªgapå­˜åœ¨ï¼Œäºæ˜¯æˆ‘ä»¬çš„æµ®ç‚¹æ•°è®¾è®¡å¤±è´¥ï¼Œ ä½†æ˜¯Prof. Kahanæƒ³åˆ°äº†ä¸€ä¸ªè§£å†³æ–¹æ³•ï¼Œä»–å‘ç°å½“æŒ‡æ•°åŸŸçš„æŒ‡æ˜¯ä¸€ä¸ªæœ€å°çš„è´Ÿæ•°çš„æ—¶å€™ï¼Œå½“å‰æµ®ç‚¹æ•°æ‰€è¡¨ç¤ºçš„æ•°éå¸¸å°ï¼Œä¸0å¾ˆæ¥è¿‘ï¼Œå¹¶ä¸”é‚£ä¸€éƒ¨åˆ†çš„ç²¾åº¦éå¸¸é«˜ï¼Œç²¾åº¦é«˜ï¼Œä½†æ˜¯é è¿‘0çš„åœ° æ–¹æœ‰ä¸€ä¸ªå·¨å¤§çš„gapï¼Œæ€ä¹ˆåŠï¼Ÿä»–è€ƒè™‘åˆ°ï¼Œç”¨ä¸€éƒ¨åˆ†é«˜ç²¾åº¦çš„ä¸¢å¤±æ¢å–gapçš„å¡«å……ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“æŒ‡æ•°éƒ¨åˆ†æ˜¯æœ€å°çš„è´Ÿæ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸é‡‡å–ç§‘å­¦è®¡æ•°æ³•äº†ï¼Œå½“æŒ‡æ•°åŸŸä¸ºæœ€å°çš„è´Ÿæ•° çš„æ—¶å€™ï¼Œæˆ‘ä»¬æŠŠå°¾æ•°åŸŸçœ‹ä½œä¸€ä¸ªæ— ç¬¦å·æ•´å½¢ï¼Œä»–ä¼šå¯ä»¥è¡¨ç¤ºä¸€ä¸ªæ•´å½¢åŒºé—´ï¼Œæˆ‘ä»¬hashæ‰è¿™ä¸ªåŒºé—´ï¼Œè®©ä»–æ¥è¡¨ç¤ºgapå³å¯ã€‚åé¢æ¥è¯æ˜è¿™ä¸ªåšæ³•çš„å¯é æ€§ã€‚ â€‹ æ—¢ç„¶èŠ±äº†ä¸€éƒ¨åˆ†æŒ‡æ•°åŸŸåšäº†ä¸€ä¸ª0ï¼Œä¸ºä»€ä¹ˆä¸æ¥ä¸€ä¸ªæ— ç©·å¤§å‘¢ï¼Ÿäºæ˜¯Prof. Kahanåˆ›å»ºäº†æ— ç©·å¤§çš„è¡¨ç¤ºæ–¹æ³•ï¼Œå½“æŒ‡æ•°éƒ¨åˆ†æ˜¯æœ€å¤§çš„æ­£æ•°çš„æ—¶å€™ï¼Œæ­¤æ•°å­—è¡¨ç¤ºæ— ç©·å¤§æ€ä¹ˆæ ·ï¼Ÿè‹¥ç¬¦å·åŸŸä¸ºæ­£ï¼Œæˆ‘ä»¬è¡¨ç¤º æ­£æ— ç©·ï¼Œè‹¥ç¬¦å·ä½ä¸ºè´Ÿï¼Œæˆ‘ä»¬è¡¨ç¤ºè´Ÿæ— ç©·æ€ä¹ˆæ ·ï¼Ÿäºæ˜¯æˆ‘ä»¬å‘ç°æˆ‘ä»¬æ€ç»´çš„æ¼æ´äº†ï¼Œåˆšåˆšçš„0ï¼Œå²‚ä¸æ˜¯æœ‰+0ä¸-0ï¼Ÿæ˜¯çš„å°±æ˜¯æœ‰ï¼Œç­‰ä¸‹æˆ‘ä»¬è¯æ˜ä»–çš„åˆç†æ€§ã€‚ å†å›åˆ°æ— ç©·ä¸Šï¼Œæˆ‘ä»¬ä¸0çš„è¡¨ç¤ºåšå¯¹æ¯”ï¼Œå‘ç°äº†æŒ‡æ•°å›ºå®šçš„æ—¶å€™å¯æ˜¯ä¸€ä¸ªåŒºé—´å•Šï¼Œæœ‰å¾ˆå¤šçš„æ— ç©·å¤§ï¼Œæ˜¯å•Šï¼Œæˆ‘ä»¬è¦ä¸äº†è¿™ä¹ˆå¤šæ— ç©·å¤§ï¼Œé‚£æ€ä¹ˆåŠå‘¢ï¼Ÿäºæ˜¯Prof. Kahanè¯´å¤šä½™çš„ä»–ä»¬éƒ½å«åš nanï¼Œæ„å‘³ç€not a numberã€‚æˆ‘ä»¬ä¾ç„¶åœ¨åé¢è¯æ˜è¿™ä¸ªåšæ³•çš„ä¼˜ç‚¹å¾ˆå¤§å¾ˆå¤§ã€‚ æµ®ç‚¹æ•°çš„å…·ä½“è¡¨ç¤ºâ€‹ è¿™äº›éƒ½æ˜¯ç†è®ºæŒ‡å¯¼ï¼Œå®é™…ä¸Šæµ®ç‚¹æ•°åˆ°åº•æ€ä¹ˆå­˜çš„å‘¢ï¼Ÿè§å›¾ ï¼ˆç…§ç‰‡ä¸¢äº†ï¼Œæˆ‘ä¹Ÿæ²¡æ‰¾åˆ°ï¼‰ æµ®ç‚¹æ•°çš„ç›¸å…³è¯æ˜ï¼šgapå­˜åœ¨æ€§â€‹ ç»™å‡ºç‰¹ä¾‹ï¼Œå¯¹äºå•ç²¾åº¦æµ®ç‚¹è€Œè¨€ï¼Œæˆ‘ä»¬å…ˆè€ƒè™‘æµ®ç‚¹æ•°çš„è¡¨ç¤ºç²¾åº¦é—®é¢˜ï¼Œå¦‚æœæ”¾å¼€æŒ‡æ•°ä¸è°ˆï¼Œä»¤æŒ‡æ•°ä¸º0 ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¡¨ç¤ºå‡ºå¤§è‡´åŒºé—´[1,2)ï¼Œå¦‚æœæŒ‡æ•°ä¸º1ï¼Œæˆ‘ä»¬åˆå¯ä»¥è¡¨ç¤ºåŒºé—´[2,4) ç­‰ç­‰ã€‚ã€‚ã€‚ æˆ‘ä»¬ä»”ç»†åˆ†æï¼Œè¿™é‡Œçš„åŒºé—´é•¿åº¦æ˜¯å˜åŒ–çš„ï¼Œä½†æ˜¯è¡¨ç¤ºè¿™æ®µåŒºé—´çš„æ•°çš„æ•°é‡æ˜¯å›ºå®šçš„ã€‚æ˜¾ç„¶ä¸€ä¸ªé—®é¢˜å‡ºç°äº†ï¼Œæˆ‘ä»¬å¯ä»¥å¤§èƒ†çŒœæµ‹ï¼ŒæŒ‡æ•°è¶Šå¤§ï¼Œç²¾åº¦è¶Šä½ï¼Œæˆ‘ä»¬æŠŠå‡ ä¸ªåŒºé—´éƒ½å†™ä¸€ä¸‹ å½“æŒ‡æ•°ä¸º-2 -1 0 1 2 åˆ†åˆ«è¡¨ç¤ºäº†åŒºé—´[1&#x2F;4ï¼Œ1&#x2F;2ï¼‰[1&#x2F;2ï¼Œ1ï¼‰[1ï¼Œ2ï¼‰[2ï¼Œ4ï¼‰[4ï¼Œ8ï¼‰ï¼Œæ˜¯çš„ï¼ŒåŒºé—´é•¿åº¦é€’å¢ï¼ŒçŒœæµ‹æ­£ç¡®ã€‚ â€‹ ç„¶åæˆ‘ä»¬è¿˜å‘ç°ï¼Œç²¾åº¦æ˜¯æœ‰è§„å¾‹çš„ï¼ŒåŒä¸€ä¸ªåŒºé—´çš„ç²¾åº¦å›ºå®šï¼Œå› ä¸ºå°¾æ•°æ˜¯å¹³åˆ†åŒºé—´çš„ï¼Œä¸åŒåŒºé—´çš„ç²¾åº¦æ€ä¹ˆæ ·å‘¢ï¼Ÿæˆ‘ä»¬æ¥çœ‹çœ‹ï¼Œ[1ï¼Œ2ï¼‰çš„ç²¾åº¦æ˜¯[2ï¼Œ4ï¼‰çš„ç²¾åº¦çš„ä¸¤å€ï¼Œ äºæ˜¯æˆ‘ä»¬å¾—åˆ°ç²¾åº¦çš„è¯¦ç»†æƒ…å†µï¼Œç¦»0è¶Šè¿œçš„åŒºé—´ï¼Œç²¾åº¦è¶Šä½ï¼Œä¸”æ˜¯ä»–çš„å‰ä¸€ä¸ªåŒºé—´çš„ç²¾åº¦çš„ä¸€åŠï¼Œï¼ˆå®šä¹‰ä¸€ä¸ªåŒºé—´çš„å‰ä¸€ä¸ªåŒºé—´ä¸ºä¸ä¹‹ç›¸é‚»çš„ç¦»0æ›´è¿‘çš„åŒºé—´ï¼‰ â€‹ æˆ‘ä»¬å†æ¥è€ƒè™‘æœ€å°çš„æ­£æµ®ç‚¹æ•°ï¼Œåœ¨ä»€ä¹ˆåœ°æ–¹ï¼Œå¯¹çš„ï¼Œå°±æ˜¯$2^{-127}$ï¼Œæˆ‘ä»¬å‡è®¾è¿™ä¸ªæ•°ä¸ºxï¼Œä»–å³è¾¹éƒ¨åˆ†çš„ç²¾åº¦è¾¾åˆ°äº†$\\frac{2^{-126}-2^{-127}}{2^{23}}&#x3D;2^{-150}$åœ¨xçš„å·¦ä¾§å‘¢ï¼Œå“ˆå“ˆä¸€ä¸ªgapï¼Œä»–ä¸0ä¹‹é—´ç›¸éš”$2^{-127}$ï¼Œ$2^{-150}$ å’Œ$2^{-127}$ åŒºåˆ«å¯å¤§äº†ï¼Œè´Ÿæ•°é‚£è¾¹ä¹Ÿæ˜¯æ ·çš„ã€‚ æµ®ç‚¹æ•°çš„ç›¸å…³è¯æ˜ï¼šgapå¡«å……çš„å¯é æ€§â€‹ å¦‚æœè€ƒè™‘ä¸è¦ç²¾åº¦ä¸º$2^{-150}$çš„åŒºé—´çš„ï¼Œç”¨å®ƒæ¥å¡«è¡¥gapï¼Œä»£ä»·æ˜¯ä»€ä¹ˆï¼Ÿä¼šä¸ä¼šå¯¼è‡´æµ®ç‚¹æ•°ä¼˜ç§€çš„ç²¾åº¦é€’å¢æ¨¡å¼è¢«æ‰“ç ´å‘¢ï¼Œå¾ˆé—æ†¾ä¸ä¼šã€‚æˆ‘ä»¬æ¥è®¡ç®—ï¼Œå¦‚æœè€ƒè™‘ä¸¢å¼ƒæ­¤åŒºé—´ æ¢æ¥çš„æœ€å°çš„æ­£ç§‘å­¦è®¡æ•°æ³•æ‰€è¡¨ç¤ºçš„æµ®ç‚¹æ•°çš„å€¼ä¸º$2^{-126}$ ï¼Œå› ä¸ºåŒºé—´$[2^{-127} ï¼Œ2^{-126})$ æ‹¿èµ°äº†ï¼Œè¿™æ—¶å€™ä»–å³è¾¹çš„ç²¾åº¦ä¸º$\\frac{2^{-125}-2^{-126}}{2^{23}}&#x3D;2^{-149}$ï¼Œemmï¼Œè¿˜è¡Œï¼Œæˆ‘ä»¬æ¥è®¡ç®—é‚£ä¸ªç©¶æå¤§gapçš„ç²¾åº¦ï¼Œ$\\frac{2^{-126}}{2^{23}}&#x3D;2^{-149}$å¥‡è¿¹å‡ºç°äº†ï¼Œç²¾åº¦ä¸€æ‘¸ä¸€æ ·ï¼Œç²¾åº¦çš„ä¼˜ç§€æ€§è´¨åŸºæœ¬å¾—åˆ°äº†ä¿ç•™ï¼Œè¿™ç§åšæ³•ä½¿å¾—ä»0åˆ°æ­£æ— ç©·çš„è¿‡ç¨‹ä¸­æ²¡æœ‰å˜å°ã€‚å¾ˆç¥å¥‡ã€‚ æµ®ç‚¹æ•°çš„ç›¸å…³è¯æ˜ï¼š+0ä¸-0çš„ä¼˜ç‚¹â€‹ ä¸ºä»€ä¹ˆè¦æ+0å’Œ-0ï¼Œè¿™ä¸¤è€…ä¸æ˜¯ç›¸åŒçš„å—ï¼Ÿæ˜¯çš„ä»–ä»¬æ˜¯ç›¸åŒçš„ï¼Œ+0.0&#x3D;&#x3D;-0.0 è¿”å›å€¼æ˜¯true ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¼€å§‹æ€è€ƒ0çš„æ„ä¹‰ï¼Œ0åˆ°åº•æ˜¯ä»€ä¹ˆï¼Œæˆ‘ä»¬å‚è€ƒæ— ç©·å¤§ï¼Œé‡æ–°å®šä¹‰0ï¼Œ+0.0ä»£è¡¨æ­£æ— ç©·å° -0.0ä»£è¡¨è´Ÿæ— ç©·å°ï¼Œè¿™æ‰æ˜¯ä»–ä»¬æœ¬è´¨ä¸Šçš„æ„ä¹‰ï¼Œsorryï¼Œæˆ‘ä»¬åˆæŠŠ0ç»™å¼„æ²¡äº†ã€‚è¿™æ¬¡æˆ‘ä»¬ä¸æŠŠå®ƒæ‰¾å›æ¥äº†ï¼Œ+0.0å’Œ-0.0å…±åŒç»„æˆäº†0ã€‚ä¸ºä»€ä¹ˆè¦è¿™æ ·åšï¼Œè¿˜æœ‰ä¸€ä¸ªé¢å¤–çš„ç‚¹ï¼Œæˆ‘ä»¬çš„æ•°åŸŸé‡Œé¢å¯æ˜¯æœ‰æ­£è´Ÿ æ— ç©·å¤§çš„ï¼Œæˆ‘ä»¬ï¼Œè¦æåœ¨æµ®ç‚¹æ•°é‡Œé¢æä¸€å¥—æ–°çš„ï¼Œç‰¹åˆ«çš„è¿ç®—æ³•åˆ™ï¼Œæé™çš„è¿ç®—ã€‚è¿™æ˜¯ä»–çš„å¦ä¸€ä¸ªç‚¹ã€‚ æµ®ç‚¹æ•°çš„ç›¸å…³è¯æ˜ï¼šnançš„å®ç”¨æ€§â€‹ ä¸ºä»€ä¹ˆè¦ænanï¼Œè¿™æ˜¯ç»™ç¨‹åºå‘˜ç”¨çš„ï¼Œå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå—ï¼Œå“ˆå“ˆå—ï¼Œç”¨æ¥debugï¼Œä½†ç¬”è€…ä¸å¤ªæ‡‚ä¸€ç‚¹ï¼Œä¸ºä»€ä¹ˆè¦æé‚£ä¹ˆå¤šnanå‘¢ï¼ŒæŒ‡æ•°æœ€å¤§å€¼çš„æ—¶å€™ï¼Œé™¤äº†æ­£è´Ÿæ— ç©·ï¼Œå…¶ä»–çš„æ•°å­—éƒ½æ˜¯nanï¼Œä¸ºä»€ä¹ˆè¦è¿™ä¹ˆå¤æ‚å‘¢ï¼Ÿ é™äºæ°´å¹³ï¼Œç¬”è€…å¤§è‡´çŒœåˆ°äº†ï¼Œææœ‰å¯èƒ½ï¼Œä¸æ­£ç¡®çš„è¿ç®—ç›´æ¥ä¼šç®—å‡ºnanï¼Œè¿™ä¼šåŠ é€Ÿæµ®ç‚¹æ•°çš„è¿ç®—ï¼Œï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œä¸éœ€è¦æˆ‘ä»¬è‡ªå·±å»åšåˆ¤æ–­æ˜¯å¦è¿ç®—åˆæ³•ï¼‰ï¼ˆä¹Ÿå°±æ˜¯è¯´æµ®ç‚¹æ•°çš„è¿ç®—ä¸æ˜¯å°é—­çš„ï¼Œé”™è¯¯ æˆ–è€…ä¸åˆæ³•çš„è¿ç®—ä¼šç›´æ¥ç®—å‡ºnanï¼Œè€Œä¸æ˜¯è®¡ç®—æœºå»åˆ¤æ–­è¿ç®—æ˜¯å¦åˆæ³•ï¼‰è¿™åªæ˜¯ç¬”è€…çš„ä¸€ä¸ªçŒœæƒ³ã€‚ æµ®ç‚¹æ•°ç»†èŠ‚:â€‹ è‹¥xä¸ºnan ï¼Œé‚£ä¹ˆx&#x3D;&#x3D;xä¸ºå‡ xä¸ç®¡ä¹‹åæ€ä¹ˆè¿ç®—ï¼Œå¾—åˆ°çš„æ°¸è¿œæ˜¯nan +0.0 &#x3D;&#x3D; -0.0 ä¸ºçœŸ","categories":[{"name":"è®¡ç®—æœºç»„æˆåŸç†","slug":"è®¡ç®—æœºç»„æˆåŸç†","permalink":"http://fightinggg.github.io/indigo/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/"}],"tags":[]},{"title":"å¤šé¡¹å¼å€å¢","slug":"ACM/å­¦ä¹ ç¬”è®°/é»‘ç§‘æŠ€/å¤šé¡¹å¼å€å¢/index","date":"2019-05-02T04:37:22.000Z","updated":"2019-05-02T04:37:22.000Z","comments":true,"path":"PQV0UA.html","link":"","permalink":"http://fightinggg.github.io/indigo/PQV0UA.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è®©ä½ ç”¨lgçš„æ—¶é—´å¤æ‚åº¦æ±‚ä¸‹é¢è¿™ä¸œè¥¿(n&lt;1e18) $$\\begin{aligned}&amp;\\prod_{i&#x3D;1â€¦n}{(2i-1)} %2^{64}\\&amp;suppose\\quad that\\quad f(x,n)&#x3D;(2x+1)(2x+3)(2x+5)â€¦(2x+2n-1)%2^{64}\\&amp;then \\quad the \\quad 0th \\quad item \\quad of \\quad f(x,n) \\quad is \\quad answer\\&amp;we \\quad can \\quad try \\quad to\\quad calculate \\quad f(x,n) \\quad by \\quad f(x,\\left \\lfloor \\frac{n}{2} \\right \\rfloor) \\&amp;let \\quad y&#x3D;x+n\\&amp;then \\quad f(y,n)&#x3D;(2y+1)(2y+3)(2y+5)â€¦(2y+2n-1)%2^{64}\\&amp;so \\quad f(x+n,n)&#x3D;(2x+2n+1)(2x+2n+3)(2x+2n+5)â€¦(2y+4n-1)%2^{64}\\&amp;Surprisedly \\quad we \\quad find \\quad that \\quad f(x,2n)&#x3D;f(x,n)*f(x+n,n)\\&amp;which \\quad means \\quad we \\quad can \\quad calculate\\quad f(x,2n)\\quad by\\quad f(x,n) \\quad easy\\&amp;\\&amp;becase \\quad we \\quad can \\quad calculate \\quad f(x+n,n)\\quad by \\quad f(x,n) \\&amp;but \\quad we \\quad canâ€™t \\quad calculate \\quad it \\quad faster \\quad because\\quad of\\quad the\\quad huge\\quad numbers \\quad of \\quad item\\&amp;considering \\quad that \\quad we \\quad need \\quad mod \\quad 2^{64} , we\\quad can \\quad reserve \\quad the \\quad items \\quad with \\quad index \\quad less\\quad than\\quad 64\\&amp;because \\quad the \\quad useful \\quad information \\quad is \\quad the \\quad 0th \\quad item \\&amp;and \\quad in \\quad f(x,n)\\quad when \\quad the\\quad index\\quad of\\quad x \\quad is \\quad larger \\quad than\\quad 63 ,the \\quad coefficient \\quad of \\quad it \\quad must\\quad divisible\\quad 2^{64}\\&amp;it \\quad has \\quad no \\quad contribution \\quad to \\quad answer \\quad and \\quad f(x+n,n)\\&amp;so \\quad we \\quad can \\quad solve \\quad it \\quad by \\quad this \\quad way\\&amp;for \\quad every \\quad polynomial \\quad we \\quad reserve\\quad the \\quad first \\quad 64\\quad items \\quad of\\quad x\\&amp; and \\quad then \\quad calculate \\quad f(x,n) \\quad by\\left{\\begin{matrix}\\quad f(x,\\left \\lfloor \\frac{n}{2} \\right \\rfloor)*f(x+\\left \\lfloor \\frac{n}{2} \\right \\rfloor,\\left \\lfloor \\frac{n}{2} \\right \\rfloor)\\quad if \\quad n%2&#x3D;0\\&amp;\\quad f(x,\\left \\lfloor \\frac{n}{2} \\right \\rfloor)f(x+\\left \\lfloor \\frac{n}{2} \\right \\rfloor,\\left \\lfloor \\frac{n}{2} \\right \\rfloor)(2x+2n-1) \\quad if \\quad n%2&#x3D;1\\end{matrix}\\right.\\&amp;and \\quad we \\quad can \\quad get \\quad the \\quad answer \\quad no \\quad more \\quad than \\quad lg \\quad times \\quad recursion\\&amp;because \\quad of \\quad the \\quad 64 \\quad items \\quad only \\quad and \\quad we \\quad donâ€™t\\quad care \\quad the \\quad higher \\quad items ,\\&amp;it \\quad is \\quad very \\quad fast \\quad to \\quad get \\quad f(x,n)\\quad by \\quad f(x+n,n)\\&amp;so\\quad the\\quad total\\quad time\\quad complexity \\quad is \\quad O(lgn) \\end{aligned}$$ å‡è®¾f(x,n)&#x3D;(2x+1)(2x+3)(2x+5)â€¦(2x+2n-1)%64 ç„¶åè¿™ä¸œè¥¿çš„0æ¬¡é¡¹ç³»æ•°å°±æ˜¯ç­”æ¡ˆ æˆ‘ä»¬å°è¯•é€šè¿‡f(x,n&#x2F;2)æ¥æ±‚f(x,n) ä»¤y&#x3D;x+n åˆ™f(y,n)&#x3D;(2y+1)(2y+3)(2y+5)â€¦(2y+2n-1)%64 æ‰€ä»¥f(x+n,n)&#x3D;(2x+2n+1)(2x+2n+3)(2x+2n+5)â€¦(2x+4n-1)%64 æˆ‘ä»¬æƒŠè®¶åœ°å‘ç°äº†f(x,2n)&#x3D;f(x,n)*(fx+n,n) è¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥é€šè¿‡f(x,n)æ¥æ±‚f(x,2n)å› ä¸ºæˆ‘ä»¬å¯ä»¥é€šè¿‡f(x,n)æ±‚å‡ºf(x+n,n) å¾ˆé—æ†¾çš„æ˜¯è¿™äº›ä¸œè¥¿é¡¹æ•°å¤ªå¤šäº† è€ƒè™‘åˆ°æˆ‘ä»¬è¦çš„æ˜¯æ¨¡ä¸Š2^64çš„ç­”æ¡ˆï¼Œæˆ‘ä»¬å¯ä»¥åªä¿ç•™å‰64é¡¹ å› ä¸ºæœ‰ç”¨çš„åªæœ‰0æ¬¡é¡¹ï¼Œä½†æ˜¯åœ¨f(x,n)è½¬ç§»åˆ°f(x+n,n)çš„æ—¶å€™ä¹Ÿåªæœ‰å‰64é¡¹æœ‰æ•ˆï¼Œå› ä¸ºå¤§äºæŒ‡æ•°64çš„é¡¹ï¼Œä»–ä»¬å‰é¢çš„ç³»æ•°ä¸€å®šæ•´é™¤2^64æ¬¡æ–¹ï¼Œ äºæ˜¯æˆ‘ä»¬å°±æœ‰äº†åšæ³•äº† æˆ‘ä»¬ä¿ç•™å‰64é¡¹ â€¦ æ—¶é—´å¤æ‚åº¦ä¸ºlgçº§åˆ«","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"é»‘ç§‘æŠ€","slug":"ACM/å­¦ä¹ ç¬”è®°/é»‘ç§‘æŠ€","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E9%BB%91%E7%A7%91%E6%8A%80/"}],"tags":[]},{"title":"è´ªå¿ƒåŠ æš´åŠ›","slug":"ACM/å­¦ä¹ ç¬”è®°/æ€ç»´/è´ªå¿ƒåŠ æš´åŠ›/index","date":"2019-04-24T01:06:42.000Z","updated":"2019-04-24T01:06:42.000Z","comments":true,"path":"PQFXR6.html","link":"","permalink":"http://fightinggg.github.io/indigo/PQFXR6.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å¤§èŒƒå›´è´ªå¿ƒï¼Œå°èŒƒå›´æš´åŠ›è¿™ä¸€ç±»åšæ³•ï¼Œé€šå¸¸ä¸æ˜¯å¾ˆå¥½æƒ³ï¼Œä½†æ˜¯å¾ˆå¤šé¢˜ç›®éƒ½èƒ½è¿™æ ·åšã€‚ ä¾‹é¢˜æœ‰ä¸€ä¸ªè¶…çº§å¤§çš„èƒŒåŒ…ï¼Œç‰©å“çš„ä»·å€¼ç­‰äºå®¹é‡ï¼Œä½†æ˜¯ç‰©å“åªæœ‰8ç§å®¹é‡åˆ†åˆ«ä¸º1-8 ç»™ä½ æ¯ä¸ªç‰©å“çš„æ•°é‡aiï¼Œå’ŒèƒŒåŒ…æ€»å®¹é‡wï¼Œé—®èƒ½èƒŒèµ°çš„æœ€å¤§ä»·å€¼æ˜¯å¤šå°‘ w&lt;1e18; æœ´ç´ èƒŒåŒ…è®¾dp[i][j]ä¸ºå‰iç±»ç‰©å“ï¼ŒèƒŒæ»¡jæ˜¯å¦å¯è¡Œ,å¤æ‚åº¦$O(8\\times n)$ å¤æ‚åº¦ä¸ºä»€ä¹ˆè¿™ä¹ˆå¤§ï¼ŸçŠ¶æ€è¿‡å¤šï¼ŒçŠ¶æ€å†—ä½™ï¼Œå¯èƒ½å­˜åœ¨æŸäº›èƒ½åˆå¹¶çš„çŠ¶æ€ åˆ†è§£èƒŒåŒ…â€‹ 840æ˜¯1-8çš„æ•°çš„lcm, äºæ˜¯æˆ‘ä»¬å¯ä»¥æŠŠèƒŒåŒ…Wåˆ†ä¸º $840k + (W-840k)$ ä¸¤ä¸ªéƒ¨åˆ†ã€‚ ä¸”åä¸€éƒ¨åˆ†å°äº$840\\times8$ ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåˆ†?å…ˆè°ˆè°ˆå”¯ä¸€åˆ†è§£ æˆ‘ä»¬å¯¹æ¯ä¸€ç§æ”¾æ³• ï¼Œè¿›è¡Œå”¯ä¸€åˆ†è§£: å…ˆæŠŠæ¯ä¸€ç±»å®¹é‡ç›¸ç­‰çš„ç‰©å“å”¯ä¸€åˆ†è§£ä¸ºä¸¤éƒ¨åˆ†, ç¬¬ä¸€éƒ¨åˆ†çš„æ€»å®¹é‡ä¸º840çš„ä¸€ä¸ªå€æ•°ï¼Œç¬¬äºŒéƒ¨åˆ†æ€»å®¹é‡å°äº840 æ¯”æ–¹è¯´æŸç§æ–¹æ³•é€‰æ‹©äº†1000ä¸ª1ï¼Œ3000ä¸ª2ï¼Œ5000ä¸ª3â€¦ é‚£ä¹ˆæˆ‘ä»¬å°†å…¶å”¯ä¸€åˆ†è§£ä¸º: $1\\times840+160ä¸ª1$ $7\\times 420+ 60ä¸ª2$ $17\\times280+240ä¸ª3$ ç„¶åæŠŠæ¯ç±»å®¹é‡ä¸º840çš„å€æ•°çš„é‚£ä¸€éƒ¨åˆ†åˆåœ¨ä¸€èµ·: äºæ˜¯æˆäº†$(1\\times840+7\\times420\\times2+17\\times280\\times3) + 160\\times1+60\\times2+240\\times3+0\\times4+0\\times5+â€¦$ &#x3D;$840\\times25 + 160\\times1+60\\times2+240\\times3+0\\times4+0\\times5+â€¦$ è¿™å°±æ˜¯å”¯ä¸€åˆ†è§£ã€‚ æ ¹æ®å”¯ä¸€åˆ†è§£ä¼˜åŒ–dpç„¶åæˆ‘ä»¬è€ƒè™‘ï¼Œä¸ºä»€ä¹ˆè¿™ä¸€é¢˜ä¸èƒ½ä½¿ç”¨ï¼ŒèƒŒåŒ…ï¼Œå› ä¸ºå®¹é‡å¤§ï¼Ÿç‰©å“å¤šï¼Ÿæ˜¯çš„ï¼Œ ä½†æ˜¯è¿™äº›éƒ½åªæ˜¯è¡¨é¢ä¸Šçš„ã€‚æˆ‘ä»¬æ·±å…¥æ€è€ƒï¼Œèƒ½ä¸èƒ½æŠŠæŸäº›æ²¡æœ‰æ„ä¹‰çš„æ–¹æ¡ˆåˆå¹¶åˆ°ä¸€ä¸ªçŠ¶æ€é‡Œé¢å‘¢ï¼Ÿ æˆ‘ä»¬ä¸è¦è®¾dp[i][j]è¡¨ç¤ºä»€ä¹ˆå‰iç±»ç‰©å“è£…æ»¡å®¹é‡jæ˜¯å¦å¯è¡Œè¿™æ ·çš„çŠ¶æ€ã€‚å› ä¸ºè¿™æ˜¯$8\\times n$çº§åˆ«çš„çŠ¶æ€ æˆ‘ä»¬æ ¹æ®å”¯ä¸€åˆ†è§£ï¼Œè®¾dp[k][i][j]ä»£è¡¨èƒŒåŒ…çš„ç¬¬ä¸€ä¸ªéƒ¨åˆ†å®¹é‡ä¸º840*k,ç¬¬äºŒéƒ¨åˆ†ä¸ºå‰iç±»ç‰©å“è£…æ»¡å®¹é‡j è‹¥å€¼ä¸º1ï¼Œä»£è¡¨å¯è¡Œï¼Œå¦åˆ™ä¸å¯è¡Œã€‚ çŠ¶æ€çš„ä¸ªæ•°æ˜¾ç„¶k&lt;n/840,i&lt;8, j&lt;840*8 ç°åœ¨çš„çŠ¶æ€æ•°ä¸º(n/840)*8*(840*8) çŠ¶æ€æ•°ç›®å˜å¤šäº†ã€‚è½¬ç§»ä¹Ÿæ›´åŠ å¤æ‚ï¼Œçœ‹ä¼¼æ­¤çŠ¶æ€è¿˜ä¸å¦‚æœ´ç´ åšæ³•ã€‚ å•è°ƒæ€§è¿™ä¸€ç‚¹åº”è¯¥æ˜¯å¾ˆå®¹æ˜“æƒ³åˆ°çš„ã€‚è¿™ä¸ªdp[k][i][j],å…·æœ‰å•è°ƒæ€§ï¼Œä¸€å®šå­˜åœ¨æŸä¸ªå€¼t, ä½¿å¾—dp[k][i][j]çš„å€¼åœ¨iå’Œjå›ºå®šï¼Œk&lt;&#x3D;tçš„æ—¶å€™å…¨ä¸º1ï¼Œåœ¨k&gt;tçš„æ—¶å€™å…¨ä¸º0 æ˜¾ç„¶è¿™ä¸ªtæ˜¯æœ€ä¼˜çš„ ä¼˜åŒ–æˆ‘ä»¬æ¢ä¸€ç§çŠ¶æ€çš„è®¾æ³•ï¼Œè®¾dp[i][j]ä¸ºåªå–å‰iç±»ç‰©å“çš„æ–¹æ¡ˆçš„å”¯ä¸€åˆ†è§£ä¸‹ï¼Œä¸è€ƒè™‘èƒŒåŒ…å®¹é‡ä¸Šé™ï¼Œç¬¬äºŒéƒ¨åˆ†å®¹é‡ä¸ºjï¼Œç¬¬ä¸€éƒ¨åˆ†çš„kèƒ½å–åˆ°çš„å¤§å€¼ã€‚ è½¬ç§»æ–¹ç¨‹dp[i][j] â€”&gt; dp[i+1][j+t*i] tæ˜¯é€‰å–çš„æ•°é‡ï¼Œj+t*i&lt;8*840 è¿™æ ·çš„åšæ³•å°±å·²ç»å¾ˆå¿«äº†ã€‚","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ€ç»´","slug":"ACM/å­¦ä¹ ç¬”è®°/æ€ç»´","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%80%9D%E7%BB%B4/"}],"tags":[]},{"title":"æ•°ä½dp","slug":"ACM/å­¦ä¹ ç¬”è®°/DP/æ•°ä½dp/index","date":"2019-04-23T09:11:29.000Z","updated":"2019-04-23T09:11:29.000Z","comments":true,"path":"PQEPJ5.html","link":"","permalink":"http://fightinggg.github.io/indigo/PQEPJ5.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å¸¸è§æ•°ä½dpå¦‚æœä¸€ä¸ªåœ¨æ•°å­—ä¸Šçš„è®¡æ•°é—®é¢˜åªä¸æ•°ä½å’Œæ•°çš„å¤§å°æœ‰å…³çš„æ—¶å€™ æˆ‘ä»¬å¯ä»¥å°è¯•ç”¨æ•°ä½dpæ¥è§£å†³ã€‚æœ€ç»å…¸çš„å°±åƒä¸è¦62é‚£é“é¢˜ã€‚ æ•°ä½dpçŠ¶æ€æˆ‘ä»¬å¸¸å¸¸è®¾dp[val][len][limit][lead]æ¥è¡¨ç¤ºä»¥valå¼€å¤´ æ•°ä½é•¿åº¦å‰©ä½™len(åŒ…å«val)ï¼Œlimitè¡¨ç¤ºæ•°æœ‰æ²¡æœ‰ä¸Šé™,åé¢å‘ç°è¿™ä¸€ç»´åº¦æ²¡æœ‰ä½œç”¨ ã€‚leadè¡¨ç¤ºvalåŠä»¥å‰æ˜¯å¦å«æœ‰å‰å¯¼æ•°ï¼Œæ¥ç‰¹åˆ¤æŸäº›è·Ÿå‰å¯¼0æœ‰å…³çš„é¢˜ç›® 123456789101112131415161718ll dfs(int*num, int n, int pre, int pos, bool limit, bool lead)&#123;//try to fill the pos bit if(pos==n)return 1; else&#123; if(!limit&amp;&amp;dp[pre==6][num[pos]][n-pos][lead]!=-1) return dp[pre==6][num[pos]][n-pos][lead]; else &#123; int upper=limit ? num[pos] : 9; ll ans=0; for(int i=0;i&lt;=upper;i++)&#123; if(i==4)continue; if(pre==6&amp;&amp;i==2)continue; ans+=dfs(num,n,i,pos+1,limit&amp;&amp;i==upper,lead||i!=0); &#125; if(!limit) dp[pre==6][num[pos]][n-pos][lead]=ans; return ans; &#125; &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"DP","slug":"ACM/å­¦ä¹ ç¬”è®°/DP","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/DP/"}],"tags":[]},{"title":"è«é˜Ÿç®—æ³•","slug":"ACM/å­¦ä¹ ç¬”è®°/æ€ç»´/è«é˜Ÿç®—æ³•/index","date":"2019-04-21T15:39:37.000Z","updated":"2019-04-21T15:39:37.000Z","comments":true,"path":"PQBI61.html","link":"","permalink":"http://fightinggg.github.io/indigo/PQBI61.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ä¾‹é¢˜1http://codeforces.com/contest/617/problem/E ç»™é•¿åº¦ä¸ºnçš„åºåˆ—ï¼Œç»™æ•°å­—kï¼Œç»™qæ¬¡è¯¢é—®,æ¯æ¬¡è¯¢é—®ç»™å‡º[L,R],æ±‚è¿™ä¸ªåŒºé—´å†…æœ‰å¤šå°‘ä¸ªè¿ç»­åŒºé—´çš„å¼‚æˆ–å’Œç­‰äºkã€‚ é¢˜è§£ é¢„å¤„ç†å‰ç¼€å¼‚æˆ–å’Œï¼ŒåŒ–ç®€åŒºé—´ä¸ºä¸¤ä¸ªç‚¹å¼‚æˆ–å€¼ä¸ºkï¼Œå†æ¥è«é˜Ÿã€‚ ä¾‹é¢˜2hdu5213ï¼Œç»™ä½ åºåˆ—aï¼Œå…¶é•¿åº¦ä¸ºnï¼Œç»™ä½ qä¸ªè¯¢é—®ï¼Œæ¯æ¬¡è¯¢é—®ç»™ä¸¤ä¸ªä¸ç›¸äº¤çš„åŒºé—´ï¼Œæ±‚a[i]+a[j]&#x3D;kçš„æ–¹æ¡ˆæ•°ï¼Œiå±äºç¬¬ä¸€ä¸ªåŒºé—´ï¼Œjå±äºç¬¬äºŒä¸ªåŒºé—´ã€‚ (1â‰¤Nâ‰¤30000) (2â‰¤Kâ‰¤2*N) (1â‰¤aiâ‰¤N)(1â‰¤Mâ‰¤30000) (1â‰¤Liâ‰¤Ri&lt;Uiâ‰¤Viâ‰¤N) é¢˜è§£ åŒ–ç®€å¤šåŒºé—´ä¸ºå•åŒºé—´è¯¢é—®ï¼Œå†æ¥è«é˜Ÿ ä¾‹é¢˜3fzu2226ï¼Œ ç»™ä½ é•¿åº¦ä¸ºnçš„åºåˆ—ï¼Œå®šä¹‰ç¬¬iä¸ªå…ƒç´ å’Œç¬¬jä¸ªå…ƒç´ é—´çš„è·ç¦»dis(i,j)&#x3D;abs(i-j) ã€‚ç»™qä¸ªè¯¢é—®ï¼Œæ¯æ¬¡è¯¢é—®ä¸€ä¸ªåŒºé—´[l,r]ï¼Œè¦æ±‚ä½ æ±‚å‡ºä¸€å¯¹æ•°å­—(i,j)(l&lt;&#x3D;i&lt;&#x3D;j&lt;&#x3D;r),ä½¿å¾—a[i]&#x3D;a[j]å¹¶ä¸”dis(i,j)æœ€å¤§ï¼Œç”±äºè¿™æ ·çš„æ•°å¯¹å¯èƒ½æœ‰å¤šä¸ªï¼Œå› æ­¤ç­”æ¡ˆåªè¦è¾“å‡ºdisã€‚ N&lt;&#x3D;10^5 Q&lt;&#x3D;10^4 1&lt;&#x3D;a[i]&lt;&#x3D;10^3 1&lt;&#x3D;l&lt;&#x3D;r&lt;&#x3D;n é¢˜è§£ è«é˜Ÿçš„æ—¶å€™ï¼Œç»´æŠ¤åŒºé—´ä¸­æ¯ä¸ªå€¼å‡ºç°çš„æœ€å·¦ä¸‹æ ‡å’Œæœ€å³ä¸‹æ ‡ã€‚ ä¾‹é¢˜4hdu4638ï¼Œ ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸ºnçš„åºåˆ—ï¼Œmä¸ªè¯¢é—®ï¼Œæ¯æ¬¡æŸ¥è¯¢ç»™ä¸€ä¸ªåŒºé—´ï¼Œæˆ‘ä»¬æ¥åˆ’åˆ†è¿™ä¸ªåŒºé—´ï¼Œå¯¹äºåˆ’åˆ†å‡ºçš„ä»»æ„ä¸€ä¸ªå­åŒºé—´ï¼Œä»–çš„æ‰€æœ‰å…ƒç´ æ„æˆçš„é›†åˆæ‰€åŒ…å«çš„æ•°å¿…é¡»æ˜¯ä¸€æ®µè¿ç»­çš„åŒºé—´ï¼Œç„¶åå®šä¹‰åŒºé—´çš„ä»£ä»·ä¸ºåŒºé—´é•¿åº¦çš„å¹³æ–¹ï¼Œå®šä¹‰åˆ’åˆ†çš„ä»£ä»·ä¸ºåˆ’åˆ†ç»“æŸåæ‰€æœ‰åˆ’åˆ†å‡ºçš„å­åŒºé—´çš„ä»£ä»·çš„å’Œï¼Œè¯¢é—®æ­¤ä»£ä»·æœ€é«˜æ—¶çš„åˆ’åˆ†å‡ºçš„å­åŒºé—´çš„ä¸ªæ•°ã€‚ é¢˜è§£ å¯ä»¥è¯æ˜ï¼Œåˆ’åˆ†å”¯ä¸€ï¼Œæˆ‘ä»¬æŠŠåˆ’åˆ†æ“ä½œçœ‹æˆåˆ‡å‰²åŸåŒºé—´ï¼Œå®šä¹‰åˆ’åˆ†çš„æ“ä½œä¸ºåˆ‡å‰²ç‚¹çš„ä½ç½®çš„é›†åˆï¼Œè‹¥ä¸¤ä¸ªåˆ’åˆ†ä¸ä¸€æ ·ï¼Œæˆ‘ä»¬å¯¹è¿™ä¸¤ä¸ªåˆ’åˆ†æ“ä½œåˆ‡å‰²ç‚¹é›†å–äº¤é›†ï¼Œäº¤é›†æ„æˆæ–°çš„åˆ’åˆ†ï¼Œæ­¤åˆ’åˆ†ä¼˜äºå‰ä¸¤ä¸ªåˆ’åˆ†ã€‚äºæ˜¯æŒ‰ç…§èƒ½åˆå¹¶å°±åˆå¹¶çš„è´ªå¿ƒï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾çš„æœ€ä¼˜åˆ’åˆ†ã€‚è€ƒè™‘è«é˜Ÿï¼Œå½“åŒºé—´å˜åŒ–çš„æ—¶å€™ï¼šæ·»åŠ ä¸€ä¸ªæ•°ï¼Œå¦‚æœä»–å·¦å³çš„æ•°å­—éƒ½å­˜åœ¨ï¼Œæ˜¾ç„¶æ®µæ•°-1 è‹¥å·¦å³å­˜åœ¨æŸä¸€ä¸ªï¼Œæ®µæ•°ä¸å˜ï¼Œè‹¥å·¦å³å‡ä¸å­˜åœ¨ï¼Œåˆ™æ®µæ•°+1 ï¼Œåˆ é™¤åŒç†ã€‚ ä¾‹é¢˜5hdu4676ï¼Œç»™ä½ ä¸€ä¸ªæ’åˆ—ï¼Œqä¸ªåŒºé—´è¯¢é—®ï¼Œæ±‚$\\sum_{L\\leq i&lt;j\\leq R}gcd(a_i,a_j) $ é¢˜è§£ åæ¼”å‡ºç»“æœåï¼Œç›´æ¥è«é˜Ÿï¼Œå¯¹æ–°åŠ è¿›æ¥çš„æ•°ï¼Œæšä¸¾ä»–çš„å› å­ï¼Œè®¡ç®—è«é˜ŸåŒºé—´çš„å˜åŒ–ã€‚$$\\begin{aligned}&amp;n&#x3D;id(n)&#x3D;(1*\\varphi)(n)&#x3D;\\sum_{d|n}\\varphi(d)\\&amp;\\sum_{L\\leq i&lt;j\\leq R}gcd(a_i,a_j)\\&#x3D;&amp;\\sum_{L\\leq i&lt;j\\leq R}\\sum_{d|gcd(a_i,a_j)}\\varphi(d)\\&#x3D;&amp;\\sum_{L\\leq i&lt;j\\leq R}\\sum_{d|a_i}\\sum_{d|a_j}\\varphi(d)\\&#x3D;&amp;\\sum_{d}\\varphi(d)*C_{\\sum_{i&#x3D;L}^{R}[d|a_i]}^2\\end{aligned}$$","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ€ç»´","slug":"ACM/å­¦ä¹ ç¬”è®°/æ€ç»´","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%80%9D%E7%BB%B4/"}],"tags":[]},{"title":"å‡¸å››è¾¹å½¢ä¸ç­‰å¼ä¼˜åŒ–dp","slug":"ACM/å­¦ä¹ ç¬”è®°/DP/å‡¸å››è¾¹å½¢ä¸ç­‰å¼ä¼˜åŒ–dp/index","date":"2019-04-20T02:23:54.000Z","updated":"2021-05-19T15:10:00.000Z","comments":true,"path":"PQ8MNU.html","link":"","permalink":"http://fightinggg.github.io/indigo/PQ8MNU.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ç†è®ºç¯‡å†³ç­–å•è°ƒæ€§å¯¹äºä¸€ç±»ä¸€ç»´$dp$,è‹¥æœ‰è½¬ç§»$dp[i]&#x3D;min&#x2F;max(dp[j]+w(i,j)) 0&lt;j&lt;i$ï¼Œå¹¶å‡å®š$pri[i]$ä¸ºåˆ°$dp[i]$çš„æœ€ä¼˜è½¬ç§»$j$ï¼Œå¦‚æœ$pri[i]$å…³äº$i$å•è°ƒï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°è¯¥$dp$å…·æœ‰å†³ç­–å•è°ƒæ€§ã€‚ å¯¹äºä¸€ç±»äºŒç»´$dp$,å¦‚æœæœ‰è½¬ç§»$dp[i][j]&#x3D;min&#x2F;max(dp[i][k]+dp[k+1][j]+w(i,j)) i&lt;&#x3D;k&lt;j $å¹¶å‡å®š$pro[i][j]$ä¸ºåˆ°$dp[i][j]$çš„æœ€ä¼˜è½¬ç§»$k$,å¦‚æœ$pri[i][j]$å…³äº$i$å•è°ƒï¼Œä¸”å…³äº$j$å•è°ƒï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°è¯¥$dp$å…·æœ‰å†³ç­–å•è°ƒæ€§ã€‚ å››è¾¹å½¢ä¸ç­‰å¼å¯¹äºäºŒå…ƒæ•°è®ºå‡½æ•°ï¼Œ$w(i,j)$ï¼Œè‹¥æ»¡è¶³$a\\le b\\le c\\le d$æ’æœ‰ $w(a,d)+w(b,c) \\ge w(a,c)+w(b,d)$åˆ™è¯¥äºŒå…ƒå‡½æ•°æ»¡è¶³å››è¾¹å½¢ä¸ç­‰å¼ ä»–çš„å……è¦æ¡ä»¶æ˜¯: è‹¥$a\\lt b$ æ’æœ‰$w(a,b)+w(a+1,b+1) \\ge w(a,b+1)+w(a+1,b)$ å¯ä»¥ç†è§£ä¸ºï¼Œäº¤å‰å°äºåŒ…å« åŒºé—´åŒ…å«å•è°ƒæ€§å¯¹äºäºŒå…ƒæ•°è®ºå‡½æ•°ï¼Œ$i&lt;j$çš„$w(i,j)$ æˆ‘ä»¬å°†å‚æ•°çœ‹åšåŒºé—´ï¼Œå®šä¹‰åŒºé—´çš„åŒ…å«ä¸ºååºå…³ç³»ï¼Œ è‹¥$w$çš„å€¼å…³äºè¯¥ååºå…³ç³»å•è°ƒï¼Œåˆ™ç§°è¯¥å‡½æ•°å…·æœ‰åŒºé—´åŒ…å«å•è°ƒæ€§ã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ç†è®ºç¯‡å†³ç­–å•è°ƒæ€§å¯¹äºä¸€ç±»ä¸€ç»´$dp$,è‹¥æœ‰è½¬ç§»$dp[i]&#x3D;min&#x2F;max(dp[j]+w(i,j)) 0&lt;j&lt;i$ï¼Œå¹¶å‡å®š$pri[i]$ä¸ºåˆ°$dp[i]$çš„æœ€ä¼˜è½¬ç§»$j$ï¼Œå¦‚æœ$pri[i]$å…³äº$i$å•è°ƒï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°è¯¥$dp$å…·æœ‰å†³ç­–å•è°ƒæ€§ã€‚ å¯¹äºä¸€ç±»äºŒç»´$dp$,å¦‚æœæœ‰è½¬ç§»$dp[i][j]&#x3D;min&#x2F;max(dp[i][k]+dp[k+1][j]+w(i,j)) i&lt;&#x3D;k&lt;j $å¹¶å‡å®š$pro[i][j]$ä¸ºåˆ°$dp[i][j]$çš„æœ€ä¼˜è½¬ç§»$k$,å¦‚æœ$pri[i][j]$å…³äº$i$å•è°ƒï¼Œä¸”å…³äº$j$å•è°ƒï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°è¯¥$dp$å…·æœ‰å†³ç­–å•è°ƒæ€§ã€‚ å››è¾¹å½¢ä¸ç­‰å¼å¯¹äºäºŒå…ƒæ•°è®ºå‡½æ•°ï¼Œ$w(i,j)$ï¼Œè‹¥æ»¡è¶³$a\\le b\\le c\\le d$æ’æœ‰ $w(a,d)+w(b,c) \\ge w(a,c)+w(b,d)$åˆ™è¯¥äºŒå…ƒå‡½æ•°æ»¡è¶³å››è¾¹å½¢ä¸ç­‰å¼ ä»–çš„å……è¦æ¡ä»¶æ˜¯: è‹¥$a\\lt b$ æ’æœ‰$w(a,b)+w(a+1,b+1) \\ge w(a,b+1)+w(a+1,b)$ å¯ä»¥ç†è§£ä¸ºï¼Œäº¤å‰å°äºåŒ…å« åŒºé—´åŒ…å«å•è°ƒæ€§å¯¹äºäºŒå…ƒæ•°è®ºå‡½æ•°ï¼Œ$i&lt;j$çš„$w(i,j)$ æˆ‘ä»¬å°†å‚æ•°çœ‹åšåŒºé—´ï¼Œå®šä¹‰åŒºé—´çš„åŒ…å«ä¸ºååºå…³ç³»ï¼Œ è‹¥$w$çš„å€¼å…³äºè¯¥ååºå…³ç³»å•è°ƒï¼Œåˆ™ç§°è¯¥å‡½æ•°å…·æœ‰åŒºé—´åŒ…å«å•è°ƒæ€§ã€‚ æ–°å¢å®šä¹‰å¦‚æœå­˜åœ¨è½¬ç§»$dp[j]\\to dp[i]$ä¸ç®¡æ­¤è½¬ç§»æ˜¯å¦æœ€ä¼˜ï¼Œæˆ‘ä»¬éƒ½æŠŠ$j$å«åšä¸€ä¸ªå†³ç­–ç‚¹ã€‚ å¼ºåŒ–çš„å†³ç­–å•è°ƒæ€§ï¼šå¯¹äºæŸä¸€ç»´$dp$ï¼Œå¦‚æœåœ¨æŸå†³ç­–ç‚¹é›†åˆä¸­ï¼Œè‹¥$x$ä¸ºåˆ°$dp(i)$çš„æœ€ä¼˜å†³ç­–ï¼Œåˆ™å¯¹äºæ‰€æœ‰çš„å¤§äº$i$çš„$j$ï¼Œ$x$ä¾æ—§æ˜¯æ­¤å†³ç­–ç‚¹é›†åˆä¸­çš„æœ€ä¼˜å†³ç­–ã€‚ äºŒç»´åŒç†ã€‚ è¯æ˜ä¸€ç»´DPè€ƒè™‘è½¬ç§»å¼$dp[i]&#x3D;\\min(dp[j]+w(j,i))$ï¼Œå…¶ä¸­$1\\le j\\lt i$ ï¼Œä¸”å‡½æ•°$w$æ»¡è¶³å››è¾¹å½¢ä¸ç­‰å¼ ä¸å¦¨å‡è®¾$p_x$æ˜¯$dp[x]$çš„æœ€ä½³è½¬ç§»ä¹‹ä¸€ï¼Œ$p$æ˜¯ä¸€ä¸ª$dp[x]$çš„ä»»æ„ä¸€ä¸ªè½¬ç§» åˆ™$\\forall p \\lt x$ éƒ½æœ‰$dp[p_x]+w(p_x,x)\\le dp[p]+w(p,x)$ å³ $dp[p_x]-dp[p]\\le w(p,x) -w(p_x,x)$ æ ¹æ®å››è¾¹å½¢ä¸ç­‰å¼ï¼Œ$\\forall p \\le p_x \\le x \\le y $ éƒ½æœ‰$w(p,y)+w(p_x,x)\\ge w(p,x)+w(p_x,y)$ å³$w(p,x)-w(p_x,x)\\le w(p,y)-w(p_x,y)$ åˆå¹¶ä¸Šé¢ä¸¤ä¸ªä¸ç­‰å¼å¾—åˆ°äº†$dp[p_x]-dp[p]\\le w(p,y)-w(p_x,y)$ å³$dp[p_x]+w(p_x,y)\\le dp[p]+w(p,y)$, æ ¹æ®è¿™ä¸ªä¸ç­‰å¼ï¼Œæˆ‘ä»¬å‘ç°ä»–è¯´æ˜äº†è¿™æ ·ä¸€ä¸ªäº‹å®ï¼Œå³: å¦‚æœ$p_x$æ˜¯$dp[x]$çš„æœ€ä½³è½¬ç§»ä¹‹ä¸€ï¼Œåˆ™$\\forall p\\le p_x \\le x \\le y$ï¼Œå¯¹äº$dp[y]$éƒ½æœ‰å†³ç­–ç‚¹$p_x$ä¼˜äº$p$ äºŒç»´DPè¾ƒå¤æ‚éœ€è¦å¯¹æ¯ä¸€çº¬å•ç‹¬è¯æ˜å†³ç­–å•è°ƒæ€§ï¼Œå…¶ä¸­æ¶‰åŠåˆ°$w$å‡½æ•°çš„å››è¾¹å½¢ä¸ç­‰å¼æ€§è´¨å’Œ$dp$è‡ªèº«çš„å››è¾¹å½¢ä¸ç­‰å¼æ€§è´¨ï¼Œæ­¤å¤„ä¸åšè¯æ˜ï¼Œå®æˆ˜ä¸­ä¹Ÿä¸ä¼šé‡åˆ°ï¼Œå†³ç­–å•è°ƒæ€§éœ€è¦ä¾é æ•æ„Ÿçš„ç›´è§‰ï¼Œä½ éœ€è¦ç”¨æœ€å¿«çš„é€Ÿåº¦çŒœæµ‹å†³ç­–ç‚¹å•è°ƒï¼Œç„¶åç”¨ä¸€ä¸¤åˆ†é’Ÿç¼–å†™ç¨‹åºéªŒè¯å…¶å•è°ƒæ€§ã€‚ åšæ³•ç¯‡å¼ºåŒ–çš„å†³ç­–å•è°ƒæ€§ä¼˜åŒ–ä¸€ç»´dpå½“æ­¤$dp$æ»¡è¶³å¼ºåŒ–çš„å†³ç­–å•è°ƒæ€§çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å•è°ƒé˜Ÿåˆ—æ¥ä¼˜åŒ–$dp$,æ­¤å•è°ƒé˜Ÿåˆ—ç»´æŠ¤ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œè¯¥æ•°æ®ç»“æ„ç»´æŠ¤ä¸€ä¸ªå†³ç­–æ•°ç»„,å½“æˆ‘ä»¬å¤„ç†$dp[i]$çš„æ—¶å€™ï¼Œè¯¥æ•°ç»„ç»´æŠ¤äº†$dp[i]$åˆ°$dp[n]$çš„åœ¨$[1,i)$ä¸­çš„æœ€ä¼˜å†³ç­–ç‚¹ã€‚ æ˜¾ç„¶è¯¥å†³ç­–æ•°ç»„å•è°ƒå¢ï¼Œæˆ‘ä»¬æ‹¿å‡ºæœ€ä¼˜é˜Ÿé¦–ï¼Œä¸º$dp[i]$èµ‹å€¼ï¼Œä¸‹ä¸€æ­¥åº”è¯¥æ˜¯æ›´æ–°è¯¥å†³ç­–æ•°ç»„ï¼Œæ€ä¹ˆæ›´æ–°å‘¢ï¼Œæˆ‘ä»¬äºŒåˆ†å³å¯ã€‚ ç”¨äºŒåˆ†æ›´æ–°å†³ç­–æ•°ç»„å…ˆè¯æ˜,å¯¹äºæ–°åŠ è¿›æ¥çš„å†³ç­–ï¼Œå¯¹äºæ—§å†³ç­–æ•°ç»„çš„å½±å“å…·æœ‰å•è°ƒæ€§ï¼Œå³å­˜åœ¨ä¸€ä¸ªåˆ†ç•Œç‚¹ï¼Œåˆ†ç•Œç‚¹å·¦è¾¹ï¼Œæ–°å†³ç­–ä¸å¦‚æ—§å†³ç­–ï¼Œåˆ†ç•Œç‚¹å³è¾¹ï¼Œæ–°å†³ç­–ä¼˜äºæ—§å†³ç­–ï¼Œ é¦–å…ˆï¼Œæˆ‘ä»¬å‡è®¾æ–°å†³ç­–çš„å½±å“ä¸å…·æœ‰å•è°ƒæ€§ï¼Œå³æ–°å†³ç­–çš„å½±å“æ‚ä¹±æ— ç« ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å–å‡ºé å·¦è¾¹çš„å†³ç­–ä¸ºæ–°å†³ç­–çš„å…ƒç´ çš„ä¸‹æ ‡ï¼Œæ ¹æ®å¼ºåŒ–çš„å†³ç­–å•è°ƒæ€§ï¼Œæ­¤å…ƒç´ å³è¾¹çš„ å…ƒç´ çš„å½“å‰æœ€ä¼˜å†³ç­–å€¼å¿…é¡»ä¸”åªèƒ½ä¸º$i$ï¼Œå› ä¸ºå½“å‰å¤§äºç­‰äºiçš„å†³ç­–åªæœ‰$i$ã€‚çŸ›ç›¾å‘ç”Ÿï¼Œæ•…æ–°å†³ç­–çš„å½±å“å…·æœ‰å•è°ƒæ€§ã€‚ å½“äºæ˜¯æˆ‘ä»¬äºŒåˆ†å‡ºè¿™ä¸ªç‚¹å³å¯è§£å†³ ï¼Œ å•è°ƒé˜Ÿåˆ—ä¼˜åŒ–ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦ç”¨å•è°ƒé˜Ÿåˆ—å‘¢ï¼Œæˆ‘ä»¬å…ˆè€ƒè™‘ï¼Œå¦‚æœæˆ‘ä»¬é‡‡å–çº¿æ®µæ ‘ä¼˜åŒ–ï¼Œé‚£ä¹ˆæ›´æ–°å†³ç­–æ•°ç»„æ˜¾ç„¶æ˜¯$lg$çº§åˆ«çš„ï¼Œä½†æ˜¯ äºŒåˆ†æ–°å†³ç­–è¾¹ç•Œçš„æ—¶å€™ï¼Œå¤æ‚åº¦ä¸º$lg*lg$ï¼Œå› ä¸ºå•ç‚¹æŸ¥è¯¢æ˜¯$lg$çº§åˆ«çš„ï¼Œå†åŠ ä¸ªäºŒåˆ†å°±åŒ$lg$äº†ã€‚ ä¸ºäº†æ—¶é—´å¤æ‚åº¦å¥½å†™ï¼Œæˆ‘ä»¬é‡‡å–å•è°ƒé˜Ÿåˆ—æ¥ç»´æŠ¤ï¼Œå•è°ƒé˜Ÿåˆ—ç»´æŠ¤ä¸€ä¸ªä¸‰å…ƒç»„åˆ†åˆ«æ˜¯å†³ç­–ç‚¹å’Œç›®å‰ä»¥æ­¤å†³ç­–ç‚¹ä¸ºæœ€ä¼˜å†³ç­–çš„$dp$ï¼Œå› ä¸ºè¿™æ˜¯ä¸ªåŒºé—´ï¼Œæ‰€æœ‰è¦ç”¨ä¸¤ä¸ªæ•°æ¥ç»´æŠ¤ã€‚ æ›´æ–°çš„æ—¶å€™ï¼Œç›´æ¥ä¿®æ”¹é˜Ÿå°¾çš„ä¸‰å…ƒç»„å³å¯ï¼ŒæŸ¥è¯¢çš„æ—¶å€™ï¼Œæš´åŠ›æšä¸¾é˜Ÿå°¾çš„ä¸‰å…ƒç»„ï¼Œå¦‚æœæ–°å†³ç­–å®Œå…¨ä¸å¦‚æ—§å†³ç­–ï¼Œ æ­¤æ¬¡ä¿®æ”¹ç»“æŸï¼Œå¦‚æœé˜Ÿå°¾çš„å†³ç­–å®Œå…¨ä¸å¦‚æ–°å†³ç­–å¼¹æ‰äº†é˜Ÿå°¾ï¼Œä¿®æ”¹æ–°é˜Ÿå°¾çš„åŒºé—´ä¸ºåç¼€åŒºé—´ï¼Œç»§ç»­æšä¸¾ï¼Œå¦‚æœæ–°å†³ç­–ä¼˜äºé˜Ÿå°¾å†³ç­–çš„ä¸€éƒ¨åˆ†ï¼ŒäºŒåˆ†å‡ºä½ç½®åç›´æ¥ä¿®æ”¹å³å¯ã€‚ å¾ˆå®¹æ˜“è¯æ˜å•è°ƒé˜Ÿåˆ—ä¼˜åŒ–çš„æ—¶é—´å¤æ‚åº¦æ˜¯$lg$çš„ï¼Œä¼˜äºçº¿æ®µæ ‘ã€‚ å†³ç­–å•è°ƒæ€§ä¼˜åŒ–äºŒç»´dpè¿™ä¸ªå°±ç‰¹åˆ«ç®€å•äº†ï¼Œ$dp[i][j]$çš„è½¬ç§»åœ¨$dp[i][j-1]$å’Œ$dp[i+1][j]$ä¹‹é—´æšä¸¾å³å¯ã€‚ ä»€ä¹ˆæ—¶å€™å¯ä»¥ä½¿ç”¨è¿™äº›ä¼˜åŒ–ï¼Ÿå¯¹äºä¸€ç»´$dp[i]&#x3D;min&#x2F;max(dp[j]+w(i,j)) $,è‹¥wæ»¡è¶³å››è¾¹å½¢ä¸ç­‰å¼åˆ™ï¼Œæ­¤$dp$æ»¡è¶³å†³ç­–å•è°ƒæ€§,å¹¶ä¸”ï¼Œæ»¡è¶³å¼ºåŒ–çš„å†³ç­–å•è°ƒæ€§ã€‚ å¯¹äºäºŒç»´$dp[i,j]&#x3D;min&#x2F;max(dp[i][k]+dp[k+1][j]+w(i,j)) $è‹¥wæ»¡è¶³å››è¾¹å½¢ä¸ç­‰å¼ï¼Œä¸”$w$æ»¡è¶³åŒºé—´ åŒ…å«å•è°ƒæ€§ï¼Œåˆ™$dp$æ»¡è¶³å››è¾¹å½¢ä¸ç­‰å¼ï¼Œä¸”å…·æœ‰å†³ç­–å•è°ƒæ€§ã€‚","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"DP","slug":"ACM/å­¦ä¹ ç¬”è®°/DP","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/DP/"}],"tags":[]},{"title":"æœ€å¤§å›¢","slug":"ACM/å­¦ä¹ ç¬”è®°/å›¾è®º/æœ€å¤§å›¢/index","date":"2019-04-06T13:02:26.000Z","updated":"2019-04-06T13:02:26.000Z","comments":true,"path":"PPJIW2.html","link":"","permalink":"http://fightinggg.github.io/indigo/PPJIW2.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial DFSè®¡ç®—æœ€å¤§å›¢ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354#include&lt;bits/stdc++.h&gt;using namespace std;const int maxn=105;bool edge[maxn][maxn]; int vertn; //int dfs_ans,found,mcp[maxn],suf[maxn][maxn]; // dfsvoid dfs(int d)&#123; // begin with d =1 which means choose one point if(suf[d][0]==0)&#123; if(dfs_ans&lt;d) &#123; dfs_ans=d; found=1; &#125; return ; &#125; for(int i=1;i&lt;=suf[d][0]&amp;&amp;!found;++i) &#123; if(d+suf[d][0]-i+1&lt;=dfs_ans) break;// cut if(d+mcp[suf[d][i]]&lt;=dfs_ans) break;// cut for(int j=i+1;j&lt;=suf[d][0];++j)&#123; if(edge[suf[d][i]][suf[d][j]]) suf[d+1][++suf[d+1][0]]=suf[d][j]; &#125; dfs(d+1); suf[d+1][0]=0; &#125;&#125;int max_cluster()&#123; mcp[vertn+1]=0; for(int i=vertn;i&gt;=1;i--) &#123; for(int j=i+1;j&lt;=vertn;++j) if(edge[i][j]) suf[1][++suf[1][0]]=j; dfs(1); found=0; suf[1][0]=0; mcp[i]=dfs_ans; &#125; return mcp[1];&#125;bool check(int x)&#123; int s=sqrt(x)+0.5; return s*s==x;&#125;int main()&#123; vertn=100; for(int i=1;i&lt;=vertn;++i)&#123; for(int j=1;j&lt;=vertn;++j)&#123; if(check(i)||check(j)||check(i+j)) edge[i][j]=0; else edge[i][j]=1; &#125; &#125; cout&lt;&lt;max_cluster()&lt;&lt;endl;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"å›¾è®º","slug":"ACM/å­¦ä¹ ç¬”è®°/å›¾è®º","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%9B%BE%E8%AE%BA/"}],"tags":[]},{"title":"bzoj2121","slug":"ACM/åˆ·é¢˜å®æˆ˜/bzoj/bzoj2121/index","date":"2019-03-29T15:35:59.000Z","updated":"2019-03-29T15:35:59.000Z","comments":true,"path":"PP4WNZ.html","link":"","permalink":"http://fightinggg.github.io/indigo/PP4WNZ.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial é¢˜æ„BXæ­£åœ¨è¿›è¡Œä¸€ä¸ªå­—ç¬¦ä¸²æ¸¸æˆï¼Œä»–æ‰‹ä¸Šæœ‰ä¸€ä¸ªå­—ç¬¦ä¸²Lï¼Œä»¥åŠå…¶ä»–ä¸€äº›å­—ç¬¦ä¸²çš„é›†åˆSï¼Œç„¶åä»–å¯ä»¥è¿›è¡Œä»¥ä¸‹æ“ä½œï¼šå¯¹äºä¸€ä¸ªåœ¨é›†åˆSä¸­çš„å­—ç¬¦ä¸²p,å¦‚æœpåœ¨Lä¸­å‡ºç°ï¼ŒBXå°±å¯ä»¥é€‰æ‹©æ˜¯å¦å°†å…¶åˆ é™¤ï¼Œå¦‚æœåˆ é™¤ï¼Œåˆ™å°†åˆ é™¤åLåˆ†è£‚æˆçš„å·¦å³ ä¸¤éƒ¨åˆ†åˆå¹¶ã€‚ä¸¾ä¸ªä¾‹å­ï¼ŒL&#x3D;â€™abcdefgâ€™ , S&#x3D;{â€˜deâ€™}ï¼Œå¦‚æœBXé€‰æ‹©å°†â€™deâ€™ä»Lä¸­åˆ å»ï¼Œåˆ™åˆ åçš„L&#x3D;â€™abcfgâ€™ã€‚ç°åœ¨BXå¯ ä»¥è¿›è¡Œä»»æ„å¤šæ¬¡æ“ä½œï¼ˆåˆ çš„æ¬¡æ•°ï¼Œé¡ºåºéƒ½éšæ„ï¼‰ï¼Œä»–æƒ³çŸ¥é“æœ€åLä¸²çš„æœ€çŸ­é•¿åº¦æ˜¯å¤šå°‘ã€‚ é™åˆ¶æ¡ä»¶|L|&lt;&#x3D;150 |S[i]|&lt;&#x3D;20 |S|&lt;&#x3D;30","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial é¢˜æ„BXæ­£åœ¨è¿›è¡Œä¸€ä¸ªå­—ç¬¦ä¸²æ¸¸æˆï¼Œä»–æ‰‹ä¸Šæœ‰ä¸€ä¸ªå­—ç¬¦ä¸²Lï¼Œä»¥åŠå…¶ä»–ä¸€äº›å­—ç¬¦ä¸²çš„é›†åˆSï¼Œç„¶åä»–å¯ä»¥è¿›è¡Œä»¥ä¸‹æ“ä½œï¼šå¯¹äºä¸€ä¸ªåœ¨é›†åˆSä¸­çš„å­—ç¬¦ä¸²p,å¦‚æœpåœ¨Lä¸­å‡ºç°ï¼ŒBXå°±å¯ä»¥é€‰æ‹©æ˜¯å¦å°†å…¶åˆ é™¤ï¼Œå¦‚æœåˆ é™¤ï¼Œåˆ™å°†åˆ é™¤åLåˆ†è£‚æˆçš„å·¦å³ ä¸¤éƒ¨åˆ†åˆå¹¶ã€‚ä¸¾ä¸ªä¾‹å­ï¼ŒL&#x3D;â€™abcdefgâ€™ , S&#x3D;{â€˜deâ€™}ï¼Œå¦‚æœBXé€‰æ‹©å°†â€™deâ€™ä»Lä¸­åˆ å»ï¼Œåˆ™åˆ åçš„L&#x3D;â€™abcfgâ€™ã€‚ç°åœ¨BXå¯ ä»¥è¿›è¡Œä»»æ„å¤šæ¬¡æ“ä½œï¼ˆåˆ çš„æ¬¡æ•°ï¼Œé¡ºåºéƒ½éšæ„ï¼‰ï¼Œä»–æƒ³çŸ¥é“æœ€åLä¸²çš„æœ€çŸ­é•¿åº¦æ˜¯å¤šå°‘ã€‚ é™åˆ¶æ¡ä»¶|L|&lt;&#x3D;150 |S[i]|&lt;&#x3D;20 |S|&lt;&#x3D;30 é¢˜è§£è®¾ç½®dp[i][j][k][t]ä»£è¡¨Lçš„å­ä¸²L[i,j]ï¼Œèƒ½å¦å®ç°åˆ é™¤ä¹‹åï¼Œå¯ä»¥åŒ¹é…Sä¸­ç¬¬kä¸ªä¸²çš„å‰tä¸ªå­—ç¬¦ã€‚ è½¬ç§»çš„æ—¶å€™ è‹¥åŒ¹é…æˆåŠŸæ—¶ï¼Œè€ƒè™‘ç¬¬jä½ï¼Œè‹¥è¿˜åœ¨ä¸²ä¸­ï¼Œä¸”æœ‰L[j]==S[k][t],åˆ™å¯ä»¥ç”±dp[i][j-1][k][t-1]è½¬ç§»è¿‡æ¥ è‹¥æ­¤ä½ä¸åœ¨ï¼Œè‚¯å®šæ˜¯è¢«å…¶ä»–S&#x3D;æ¶ˆé™¤äº†ï¼Œåˆ™è€ƒè™‘æšä¸¾ijä¸­é—´çš„dï¼Œè‹¥å­˜åœ¨ä¸€ä¸ªkâ€™,è‹¥dp[d][j][kâ€™][len[kâ€™]]==true (len[kâ€™]ä»£è¡¨kâ€™ä¸²çš„é•¿åº¦ï¼‰ï¼Œè¯´æ˜å­˜åœ¨æŸæ–¹æ³•æ¶ˆæ‰åŒºé—´d..j äºæ˜¯dp[i][j][k][t]å¯ä»¥ç”±dp[i][d-1][k][t]è½¬ç§»è¿‡æ¥ã€‚ ç»¼åˆï¼šè½¬ç§»ä¾èµ–äºdp[i][j-1][k][t-1]ã€dp[d][j][kâ€™][len[kâ€™]]ã€dp[i][d-1][k][t] ä»”ç»†è§‚å¯Ÿï¼ŒåŒºé—´é•¿åº¦æ˜¯å…³é”®ï¼Œè¿™äº›åŒºé—´é•¿åº¦éƒ½æ¯”åŒºé—´ijå°ï¼Œæˆ‘ä»¬åªéœ€è¦ä»å°åˆ°å¤§æšä¸¾åŒºé—´é•¿åº¦ï¼Œå³å¯æˆåŠŸè½¬ç§»ï¼Œæ—¶é—´å¤æ‚åº¦$(151\\times 151\\times 31\\times 21) \\times (151\\times 31)$ è¿™é‡Œè½¬ç§»è¿‡ç¨‹æ—¶é—´å¤æ‚åº¦å¤ªå¤§äº†ï¼Œä¹Ÿä¸åˆ©äºè½¬ç§»ï¼Œæˆ‘ä»¬ç´§æ¥ç€å‘ç°ä¸€ä¸ªå¯ä»¥ä¼˜åŒ–çš„åœ°æ–¹ï¼Œdp[d][j][kâ€™][len[kâ€™]]è¿™é‡Œçš„æšä¸¾kâ€™æ˜¯å¯ä»¥ä¼˜åŒ–çš„ï¼Œå®ƒçš„æœ¬è´¨æ˜¯çœ‹çœ‹èƒ½å¦æ¶ˆæ‰åŒºé—´d..jï¼Œæˆ‘ä»¬ç”¨å¦å¤–ä¸€ä¸ªæ•°ç»„crm[i][j](å¦‚æœèƒ½ç§»é™¤å­ä¸²L[i,j],åˆ™crm[i][j]=true)æ¥è®°å½•ä¸€ä¸‹å³å¯ï¼Œäºæ˜¯æ—¶é—´å¤æ‚åº¦$(151\\times 151\\times31\\times21) \\times31$ $4\\times108$è¿™æ ·çš„æ—¶é—´å¤æ‚åº¦å·²ç»å¯ä»¥äº†ï¼Œ æˆ‘ä»¬å†æ¥çœ‹å¦‚ä½•è½¬ç§»åˆ°ç­”æ¡ˆï¼Œå…¶å®åªéœ€è¦crm[][]å³å¯ï¼Œæˆ‘ä»¬ç”¨mln[i]æ•°ç»„æ¥ä»£è¡¨å‰ié¡¹ç»è¿‡æ“ä½œåèƒ½ç•™ä¸‹çš„æœ€çŸ­çš„ä¸²çš„é•¿åº¦ï¼Œ mln[i]å¦‚æœä¿ç•™æœ€åä¸€ä¸ªå­—ç¬¦åˆ™å¯ä»¥ç”±mln[i-1]+1è½¬ç§» å¦åˆ™å¯ä»¥ç”±mln[d]è½¬ç§»,å‰ææ˜¯crm[d+1][i]=true,åŒºé—´[d+1,i]å¯ä»¥è¢«æ¶ˆæ‰ã€‚ æœ€ç»ˆç­”æ¡ˆåœ¨mln[strlen[L]]ä¸­ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051#include&lt;bits/stdc++.h&gt;using namespace std;char L[160],S[40][30];int len[40];bool crm[160][160];//crm[i][j] -&gt; can remove L[i..j]int mln[160];//mln[i] -&gt; min len -&gt; L[1..i]ç»è¿‡æ“ä½œåèƒ½å¤Ÿå˜å¾—æœ€çŸ­çš„é•¿åº¦bool dp[160][160][40][30];//dp[i][j][k][t] -&gt; ä»£è¡¨L[i..j]èƒ½å¤Ÿåˆ æˆä¸²kçš„å‰té¡¹int main()&#123; int n; scanf(&quot;%s%d&quot;,L+1,&amp;n); for(int i=1;i&lt;=n;i++)&#123; scanf(&quot;%s&quot;,S[i]+1); len[i]=strlen(S[i]+1); &#125; int lenL=strlen(L+1); for(int i=1;i&lt;=lenL;i++)&#123; for(int k=1;k&lt;=n;k++)&#123; dp[i][i-1][k][0]=true; &#125; &#125; for(int len_seg=1;len_seg&lt;=lenL;len_seg++)&#123; for(int i=1;i+len_seg-1&lt;=lenL;i++)&#123; int j=i+len_seg-1; for(int k=1;k&lt;=n;k++)&#123; for(int t=1;t&lt;=len[k];t++)&#123; dp[i][j][k][t]=false; if(L[j]==S[k][t])dp[i][j][k][t]=dp[i][j-1][k][t-1]; for(int d=i;d&lt;=j;d++)&#123; if(crm[d][j]&amp;&amp;dp[i][d-1][k][t])dp[i][j][k][t]=true; &#125; &#125; if(dp[i][j][k][len[k]])crm[i][j]=true; &#125; &#125; &#125; for(int i=1;i&lt;=lenL;i++)&#123; mln[i]=mln[i-1]+1; for(int j=1;j&lt;=i;j++)&#123; if(crm[j][i])mln[i]=min(mln[i],mln[j-1]); &#125; &#125; cout&lt;&lt;mln[lenL]&lt;&lt;endl;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"bzoj","slug":"ACM/åˆ·é¢˜å®æˆ˜/bzoj","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/bzoj/"}],"tags":[]},{"title":"bzoj5073","slug":"ACM/åˆ·é¢˜å®æˆ˜/bzoj/bzoj5073/index","date":"2019-03-22T12:13:05.000Z","updated":"2019-03-22T12:13:05.000Z","comments":true,"path":"POROLT.html","link":"","permalink":"http://fightinggg.github.io/indigo/POROLT.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial é¢˜æ„ç»™ä½ ä¸¤ä¸ªä¸²s,tå’Œä¸€ä¸ªæ•°kï¼Œè¯¢é—®æ˜¯å¦å­˜åœ¨sçš„kä¸ªä¸é‡å å­ä¸²æŒ‰åŸé¡ºåºæ’åˆ—åèƒ½ç»„æˆ t, æ•°æ®èŒƒå›´$|s|&lt;1e5$,$|t|&lt;1e5$,$k&lt;100$,æ—¶é—´30s","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial é¢˜æ„ç»™ä½ ä¸¤ä¸ªä¸²s,tå’Œä¸€ä¸ªæ•°kï¼Œè¯¢é—®æ˜¯å¦å­˜åœ¨sçš„kä¸ªä¸é‡å å­ä¸²æŒ‰åŸé¡ºåºæ’åˆ—åèƒ½ç»„æˆ t, æ•°æ®èŒƒå›´$|s|&lt;1e5$,$|t|&lt;1e5$,$k&lt;100$,æ—¶é—´30s é¢˜è§£è®¾çŠ¶æ€$dp1[i][j]$ä»£è¡¨ä¸²$s$ä»$s[1]$åŒ¹é…åˆ°$s[i]$çš„æ—¶å€™é€‰æ‹©äº†$k$ä¸ªä¸é‡å å­ä¸²åï¼Œèƒ½å¤ŸåŒ¹é…åˆ°tä¸²åˆ°æœ€è¿œä½ç½®ã€‚ è®¾çŠ¶æ€$dp2[i][j]$ä»£è¡¨ä¸²sä»$s[1]$åŒ¹é…åˆ°$s[i]$çš„æ—¶å€™é€‰æ‹©äº†$k$ä¸ªä¸é‡å å­ä¸²ä¸”æœ€åä¸€ä¸ªå­ä¸²ä»¥$s[i]$ç»“å°¾åï¼Œèƒ½å¤ŸåŒ¹é…åˆ°tä¸²åˆ°æœ€è¿œä½ç½®ã€‚ æ ¹æ®å®šä¹‰$dp1[i][j]&#x3D;max(dp2[t][j]), \\forall t&lt;&#x3D;i$ï¼Œäºæ˜¯ç®€å•çš„å†™å‡ºäº†è½¬ç§»å¼å­ï¼š$dp1[i][j]&#x3D;max(dp1[i-1][j],dp2[i][j])$ å¤æ‚çš„æ˜¯$dp2[i][j]$ä¸å¥½å¾—åˆ°ï¼Œæ ¹æ®å®šä¹‰ï¼Œ$dp2[i][j]$ä¸€å®šä¼šé€‰æ‹©$s[i]$ä½œä¸ºç»“å°¾çš„ï¼Œç°åœ¨åˆ†ä¸¤ç±»æ¥è®¨è®ºï¼š $s[i]$å•ç‹¬ä¸ºä¸€ä¸ªå­ä¸²,é‚£ä¹ˆå¯ä»¥ç”±$dp1[i-1][j-1]$è½¬ç§»è¿‡æ¥ï¼Œ $s[i]$å¯èƒ½ä¸å•ç‹¬ä¸ºä¸€ä¸ªå­ä¸²,æ˜¯è·Ÿå‰é¢çš„æŸä¸²æ‹¼åœ¨ä¸€èµ·çš„ï¼Œé‚£ä¹ˆå¯ä»¥ç”±$dp2[i-1][j]$è½¬ç§»è¿‡æ¥ã€‚ çŸ¥é“äº†è½¬ç§»æ¥æºï¼Œä½†æ˜¯çŠ¶æ€è½¬ç§»è¿‡æ¥äº†ï¼Œå€¼è¦æ€ä¹ˆæ›´æ–°å‘¢ï¼Ÿå¤„ç†ä¸å¥½çš„è¯ï¼Œæ›´æ–°æ˜¯ä¸ªéº»çƒ¦äº‹ï¼Œè¿™é‡Œæˆ‘ä»¬é¢„å¤„ç†å‡º$t$ä¸²é‡Œé¢ä»$t[1]$åˆ°$t[i]$ä¸­å­—ç¬¦$ch$æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œæˆä¸º$max_index_before[i][ch]$ äºæ˜¯æˆ‘ä»¬å°±æœ‰äº†è½¬ç§»å¼ï¼š 1234dp2[i][j]=max( max_index_before[dp1[i-1][j-1]+1][s[i]], max_index_before[dp2[i-1][j]+1][s[i]] ); â€‹ æœ€åå¤„ç†ä¸€ä¸‹è¾¹ç•Œæƒ…å†µï¼ŒæŠŠè¾“å…¥è¿›æ¥çš„så˜æˆ&quot;@&amp;&quot;+s,æŠŠtå˜æˆ&quot;@&quot;+t,kå¢å¤§1ï¼Œè¾¹ç•Œå°±ç®€å•äº†ã€‚æœ€ç»ˆç­”æ¡ˆåœ¨$dp1[n][k]$ä¸­ã€‚ æ—¶é—´å¤æ‚åº¦Oï¼ˆnkï¼‰ åšå®Œäº†ä¹‹åç¿»äº†ä¸‹é¢˜è§£ï¼Œæ²¡æœ‰äººç”¨æˆ‘è¿™æ–¹æ³•åšè¿™ä¸ªé¢˜ç›®ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ æ­£è§£å¦‚ä¸‹ï¼š è€ƒè™‘$dp[i][j]$å°±æ˜¯æˆ‘ä¸Šæ–‡æ‰€è°ˆåˆ°çš„$dp1[i][j]$ï¼Œä»–æ²¡æœ‰$dp2[i][j]$ï¼Œæ‰€ä»¥ä¸èƒ½åƒæˆ‘é‚£æ ·è½¬ç§»äº†ã€‚ç”¨åˆ°äº†â€œæˆ‘ä¸ºäººäººâ€çš„è½¬ç§»æ€è·¯ï¼Œ$dp[i][j]$å¦‚æœè½¬ç§»èµ°çš„æ—¶å€™èŠ±è´¹ä¸€æ¬¡å–å­ä¸²ï¼Œå°±èƒ½å¤Ÿè½¬ç§»åˆ°$dp[i+len][j+1]$ï¼Œå…¶ä¸­lenä»£è¡¨lcp(s.suffix(i+1),t.suffix(dp[i][j]+1)),è¿™ä¸ªåœ°æ–¹çš„lcpå¯ä»¥ç”¨åç¼€æ•°ç»„+rmqé¢„å¤„ç†ä¼˜åŒ–ä¸ºO(1)ï¼Œå¦‚æœä¸èŠ±è´¹å°±è½¬ç§»åˆ°äº†$dp[i+1][j]$ã€‚æ€»ä½“ä¸Šæ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆnlogn+nkï¼‰ï¼Œæ—¶é—´å¤æ‚åº¦è¾ƒå‰ä¸€ä¸ªåšæ³•åé«˜ï¼Œä»£ç ä¹Ÿå¾ˆé•¿ã€‚ äº‹å®ä¹Ÿæ˜¯å¦‚æ­¤ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556#include&lt;bits/stdc++.h&gt;using namespace std;const int MAXN=1e5+555;char s[MAXN],t[MAXN];int dp1[MAXN][105];//å‰içš„åŒ¹é…æœ€è¿œint dp2[MAXN][105];//iå¿…é¡»åŒ¹é…çš„æœ€è¿œçš„int max_index_before[MAXN][256];int main()&#123; int T,n,m,k; scanf(&quot;%d&quot;,&amp;T); while(T--)&#123; //@&amp;--- //@--- scanf(&quot;%d%d%d%s%s&quot;,&amp;n,&amp;m,&amp;k,s+3,t+2); n+=2; m++; k++; s[1]=t[1]=&#x27;@&#x27;; s[2]=&#x27;&amp;&#x27;; int max_index[256]; for(int i=0;i&lt;256;i++)&#123; max_index[i]=0; &#125; for(int i=1;i&lt;=m;i++)&#123; max_index[t[i]]=i; for(int j=&#x27;a&#x27;;j&lt;=&#x27;z&#x27;;j++)&#123; max_index_before[i][j]=max_index[j]; &#125; max_index_before[i][&#x27;@&#x27;]=max_index[&#x27;@&#x27;]; max_index_before[i][&#x27;&amp;&#x27;]=max_index[&#x27;&amp;&#x27;]; &#125; for(int i=1;i&lt;=n;i++)&#123; dp1[i][1]=1; dp2[i][1]=0; &#125; dp2[1][1]=1; for(int j=1;j&lt;=k;j++)&#123; dp1[1][j]=dp2[1][j]=1; &#125; for(int i=2;i&lt;=n;i++)&#123; for(int j=2;j&lt;=k;j++)&#123; dp2[i][j]=max(max_index_before[dp1[i-1][j-1]+1][s[i]],max_index_before[dp2[i-1][j]+1][s[i]]); dp1[i][j]=max(dp1[i-1][j],dp2[i][j]); &#125; &#125; if(dp1[n][k]==m)puts(&quot;YES&quot;); else puts(&quot;NO&quot;); &#125;&#125; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114#include&lt;bits/stdc++.h&gt;using namespace std;//å®šä¹‰ä»¥s[i]å¼€å¤´çš„åç¼€æ˜¯suf(i)//åç¼€æ•°ç»„æ€§è´¨ï¼šsuf(sa[i])&lt;suf(sa[i+1])//æ¨¡ç‰ˆä»ä¸‹æ ‡ä¸º1çš„åœ°æ–¹å¼€å§‹ï¼Œå¼•å…¥çš„å­—ç¬¦ä¸²ä¸‹æ ‡ä¹Ÿè¦ä»ä¸‹æ ‡ä¸º1å¼€å§‹struct SA&#123; static const int MAXN=2e5+555; static int lg[MAXN]; int h[MAXN][20],rank[MAXN],sa[MAXN],n; void init(char*s,int len)&#123;//ç¬¬ä¸€ä¸ªå‚æ•°è¦æ˜¯ä»ä¸‹æ ‡ä¸º1å¼€å§‹çš„å­—ç¬¦ä¸²ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯è¦ä»ä¸‹æ ‡ä¸º static int x[MAXN],y[MAXN],c[MAXN];//å…¨éƒ¨æ˜¯è¾…åŠ©æ•°ç»„ n=len;//åˆå§‹åŒ–åç¼€æ•°ç»„å†…éƒ¨çš„n-&gt;såç¼€æ•°ç»„é•¿åº¦ int m=1000;//æ¡¶çš„å¤§å° for(int i=1;i&lt;=n;i++)sa[i]=y[i]=0;//åˆå§‹åŒ–sa,y for(int i=1;i&lt;=n;i++)x[i]=s[i];//æŠŠså¤åˆ¶åˆ°x for(int i=1;i&lt;=m;i++)c[i]=0;//åˆå§‹åŒ–c for(int i=1;i&lt;=n;i++)c[x[i]]++;//å¯¹xè®¡æ•° for(int i=1;i&lt;=m;i++)c[i]+=c[i-1];//è®¡æ•°å‰ç¼€å’Œ for(int i=n;i&gt;=1;i--)sa[c[x[i]]--]=i;//æŒ‰ç…§è®¡æ•°æ’åºåçš„ç»“æœ for(int k=1;k&lt;=n;k&lt;&lt;=1)&#123; int num=0; for(int i=n-k+1;i&lt;=n;i++)y[++num]=i; for(int i=1;i&lt;=n;i++)if(sa[i]&gt;k)y[++num]=sa[i]-k; for(int i=1;i&lt;=m;i++)c[i]=0;//åˆå§‹åŒ–c for(int i=1;i&lt;=n;i++)c[x[i]]++;//å¯¹xè®¡æ•° for(int i=1;i&lt;=m;i++)c[i]+=c[i-1];//è®¡æ•°å‰ç¼€å’Œ for(int i=n;i&gt;=1;i--)sa[c[x[y[i]]]--]=y[i]; for(int i=1;i&lt;=n;i++)y[i]=x[i]; for(int i=1;i&lt;=n;i++)x[i]=0; num=1; x[sa[1]]=1; for(int i=2;i&lt;=n;i++)&#123; if((y[sa[i]]!=y[sa[i-1]])||(y[sa[i]+k]!=y[sa[i-1]+k]))&#123; x[sa[i]]=++num; &#125; else x[sa[i]]=num; &#125; if(num&gt;=n)break; m=num; &#125; for(int i=1;i&lt;=n;i++)rank[i]=x[i]; //è·å–é«˜åº¦æ•°ç»„ int k=0; for(int i=1;i&lt;=n;i++)&#123; if(k)k--; int j=sa[rank[i]-1]; while((i+k&lt;=n)&amp;&amp;(j+k&lt;=n)&amp;&amp;(s[i+k]==s[j+k]))k++; h[rank[i]][0]=k; &#125; //å¯¹é«˜åº¦æ•°ç»„åšrmq for(int j=1;j&lt;20;j++)&#123; int d=1&lt;&lt;j; for(int i=1;i+2*d-1&lt;=n;i++)h[i][j]=min(h[i][j-1],h[i+d][j-1]); &#125; if(lg[1]!=0)for(int i=1;i&lt;MAXN;i++)lg[i]=trunc(log(i+0.5)/log(2)); &#125; int lcp(int x,int y)&#123;//æ³¨æ„æ²¡æœ‰ä¸‹æ ‡æ£€æŸ¥ï¼Œå¦‚æœè®¿é—®è¶Šç•Œçš„è¯ï¼Œä¼šé”™ã€‚ int L=min(rank[x],rank[y])+1; int R=max(rank[x],rank[y]); int k=lg[R-L+1]; return min(h[L][k],h[R-(1&lt;&lt;k)+1][k]); &#125;&#125;sa;int SA::lg[SA::MAXN];const int MAXN=1e5+555;char s[MAXN&lt;&lt;1];int dp[MAXN][105];int main()&#123; int T,n,m,k; scanf(&quot;%d&quot;,&amp;T); while(T--)&#123; //@&amp;--- //@--- scanf(&quot;%d%d%d&quot;,&amp;n,&amp;m,&amp;k); n+=2; m++; k++; char*t=s+n; scanf(&quot;%s%s&quot;,s+3,t+2); s[1]=t[1]=&#x27;@&#x27;; s[2]=&#x27;&amp;&#x27;; sa.init(s,n+m); for(int i=1;i&lt;=n;i++)&#123; for(int j=1;j&lt;=k;j++)&#123; dp[i][j]=0; &#125; &#125; for(int i=1;i&lt;=n;i++)dp[i][1]=1; for(int j=1;j&lt;=k;j++)dp[1][j]=1; for(int i=1;i&lt;=n;i++)&#123; for(int j=1;j&lt;=k;j++)&#123; dp[i+1][j]=max(dp[i+1][j],dp[i][j]);//not choose if(dp[i][j]&gt;=m)continue;//æ­¤å¤„ä¸ºä¸‹æ ‡æ£€æŸ¥ int len=sa.lcp(i+1,n+dp[i][j]+1); dp[i+len][j+1]=max(dp[i][j]+len,dp[i+len][j+1]);//choose &#125; &#125; if(dp[n][k]==m)puts(&quot;YES&quot;); else puts(&quot;NO&quot;); &#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"bzoj","slug":"ACM/åˆ·é¢˜å®æˆ˜/bzoj","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/bzoj/"}],"tags":[]},{"title":"å¿«é€Ÿå¹‚","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦/å¿«é€Ÿå¹‚/index","date":"2019-03-15T11:12:30.000Z","updated":"2021-05-06T03:48:00.000Z","comments":true,"path":"POEN4U.html","link":"","permalink":"http://fightinggg.github.io/indigo/POEN4U.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ç®€ä»‹å¿«é€Ÿå¹‚æ˜¯èƒ½å¿«é€Ÿè®¡ç®—ä¸€ä¸ªå¹‚çš„æ–¹æ¡ˆï¼Œä»–å¯ä»¥ä½œç”¨äºæ‰€æœ‰æ»¡è¶³ç»“åˆå¾‹ã€å°é—­æ€§çš„äºŒå…ƒè¿ç®—ï¼Œå³åŠç¾¤ å®šä¹‰ä¸å¦¨å‡è®¾è¿™ä¸ªäºŒå…ƒè¿ç®—ä¸º$\\circ$,ä¸¤ä¸ªå…ƒç´ è¿›è¡Œè¿ç®—ä¸º$x\\circ y$,å½“$xy$åŒä¸º$x$æ—¶ï¼Œä¸å¦¨è®¾$x^2&#x3D;x\\circ x$, åŒæ ·çš„$x^1&#x3D;x$, å½“ç„¶$x^0&#x3D;e$, è¿˜æœ‰$x^k&#x3D;x^{k-1}\\circ x$ å¿«é€Ÿå¹‚æ ¸å¿ƒæ€æƒ³åœ¨åŠç¾¤ä¸­ï¼Œåªè¦$k&#x3D;u+v$ä¸€å®šæœ‰$x^k&#x3D;x^u\\circ x^v$. æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠkçœ‹ä½œä¸€ä¸ªäºŒè¿›åˆ¶æ•°ï¼ŒæŠŠ$x^k$åˆ†è§£ä¸º$x^{2^{p_1}}\\circ x^{2^{p_2}}\\circ x^{2^{p_3}}\\circ \\circ \\circ x^{2^{p_n}}$ è¿™é‡Œæœ€å¤šåˆ†è§£ä¸º$\\log_2(k)$ä¸ªå…ƒç´ ï¼Œè€Œä¸”æ¯ä¸ªå…ƒç´ å¯ä»¥ç”±å‰kä¸ªå…ƒç´ è·å–ï¼Œæ‰€ä»¥åªéœ€è¦è¿›è¡Œ$log_2(k)$æ¬¡äºŒå…ƒè®¡ç®—å³å¯çš„åˆ°æœ€ç»ˆç­”æ¡ˆã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ç®€ä»‹å¿«é€Ÿå¹‚æ˜¯èƒ½å¿«é€Ÿè®¡ç®—ä¸€ä¸ªå¹‚çš„æ–¹æ¡ˆï¼Œä»–å¯ä»¥ä½œç”¨äºæ‰€æœ‰æ»¡è¶³ç»“åˆå¾‹ã€å°é—­æ€§çš„äºŒå…ƒè¿ç®—ï¼Œå³åŠç¾¤ å®šä¹‰ä¸å¦¨å‡è®¾è¿™ä¸ªäºŒå…ƒè¿ç®—ä¸º$\\circ$,ä¸¤ä¸ªå…ƒç´ è¿›è¡Œè¿ç®—ä¸º$x\\circ y$,å½“$xy$åŒä¸º$x$æ—¶ï¼Œä¸å¦¨è®¾$x^2&#x3D;x\\circ x$, åŒæ ·çš„$x^1&#x3D;x$, å½“ç„¶$x^0&#x3D;e$, è¿˜æœ‰$x^k&#x3D;x^{k-1}\\circ x$ å¿«é€Ÿå¹‚æ ¸å¿ƒæ€æƒ³åœ¨åŠç¾¤ä¸­ï¼Œåªè¦$k&#x3D;u+v$ä¸€å®šæœ‰$x^k&#x3D;x^u\\circ x^v$. æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠkçœ‹ä½œä¸€ä¸ªäºŒè¿›åˆ¶æ•°ï¼ŒæŠŠ$x^k$åˆ†è§£ä¸º$x^{2^{p_1}}\\circ x^{2^{p_2}}\\circ x^{2^{p_3}}\\circ \\circ \\circ x^{2^{p_n}}$ è¿™é‡Œæœ€å¤šåˆ†è§£ä¸º$\\log_2(k)$ä¸ªå…ƒç´ ï¼Œè€Œä¸”æ¯ä¸ªå…ƒç´ å¯ä»¥ç”±å‰kä¸ªå…ƒç´ è·å–ï¼Œæ‰€ä»¥åªéœ€è¦è¿›è¡Œ$log_2(k)$æ¬¡äºŒå…ƒè®¡ç®—å³å¯çš„åˆ°æœ€ç»ˆç­”æ¡ˆã€‚ ä»£ç 1234567891011T qpow(T a,int k)&#123; T res = getE(); // å•ä½å…ƒ while(k)&#123; if(k&amp;1)&#123; res = binaryOp(res,a); // äºŒå…ƒè¿ç®— &#125; a = binaryOp(a,a); k&gt;&gt;=1; &#125; return res;&#125; åŠ æ³•æ¨¡ç¾¤å¿«é€Ÿå¹‚åœ¨åŠ æ³•æ¨¡ç¾¤ä¸­ï¼ŒgetE()å®šä¹‰ä¸º0ï¼Œå› ä¸ºä»»ä½•æ•°åŠ ä¸Š0å¾—åˆ°è‡ªèº«ã€‚binaryOpä¸ºäºŒå…ƒè¿ç®—$binaryOp(x,y)&#x3D;(x+y)\\mod p$ã€‚ ä¹˜æ³•æ¨¡ç¾¤å¿«é€Ÿå¹‚åœ¨ä¹˜æ³•æ¨¡ç¾¤ä¸­ï¼ŒgetE()å®šä¹‰ä¸º1ï¼Œå› ä¸ºä»»ä½•æ•°ä¹˜ä»¥1å¾—åˆ°è‡ªèº«ã€‚binaryOpä¸ºäºŒå…ƒè¿ç®—$binaryOp(x,y)&#x3D;(x\\cdot y)\\mod p$ã€‚ çŸ©é˜µä¹˜æ³•æ¨¡ç¾¤å¿«é€Ÿå¹‚åœ¨çŸ©é˜µä¹˜æ³•æ¨¡ç¾¤ä¸­ï¼ŒgetE()å®šä¹‰ä¸ºçŸ©é˜µçš„å•ä½å…ƒï¼Œå³å¯¹è§’çº¿å…¨ä¸º1çš„å¯¹è§’çŸ©é˜µã€‚binaryOpä¸ºæ™®é€šçŸ©é˜µæ¨¡ä¹˜ã€‚ æ— ç†æ•°ä¹˜æ³•å¿«é€Ÿå¹‚å¾ˆå¤šæ—¶å€™æˆ‘ä»¬éœ€è¦ç”¨åˆ°æ— ç†æ•°ï¼Œå³è®¾ä¸€ä¸ªæ— ç†æ•°$y&#x3D;\\sqrt{(c_1)}\\cdot x_1+x_2$, å…¶ä¸­$x$ä¸ºå˜é‡ï¼Œ$c$å‡ä¸ºå¸¸é‡ï¼Œä¸€ä¸ªæ— ç†æ•°å¯ä»¥è¢«å”¯ä¸€æ ‡è¯†ä¸ºä¸€ä¸ªäºŒå…ƒç»„$(x_1,x_2)$, è¿™æ—¶å€™å•ä½å…ƒæ˜¯getE()&#x3D;$(0,1)$, binaryOpä¸ºæ™®é€šæ— ç†æ•°ä¹˜æ³•ã€‚ ç½®æ¢ç¾¤å¿«é€Ÿå¹‚åœ¨ç½®æ¢ä¸­ï¼Œå•ä½å…ƒä¸º$h&#x3D;\\begin{pmatrix}1 &amp; 2 &amp; 3 &amp;â€¦ &amp;n\\1 &amp; 2 &amp; 3 &amp;â€¦ &amp;n\\end{pmatrix}$ ,binaryOpä¸ºæ™®é€šç½®æ¢ä¹˜æ³•ã€‚ åè¿›åˆ¶å¿«é€Ÿå¹‚æœ‰çš„æ—¶å€™ï¼Œç»™ä½ çš„kæ˜¯ä¸€ä¸ª10è¿›åˆ¶å¤§æ•°ï¼Œç”±äºæˆ‘ä»¬æœ´ç´ çš„å¿«é€Ÿå¹‚éœ€è¦ä½¿ç”¨äºŒè¿›åˆ¶çš„kï¼ˆåé¢æœ‰ç§»ä½ï¼‰ï¼Œæ‰€ä»¥ä¼šé‡åˆ°ä¸€äº›éº»çƒ¦ã€‚ å½“ç„¶ï¼Œæœ€ç®€å•çš„å°±æ˜¯ç›´æ¥åˆ†è§£ä¸ºåè¿›åˆ¶ä¹˜æ³•ã€‚ $x^k&#x3D;x^{10^{p_1}}\\circ x^{10^{p_2}}\\circ x^{10^{p_3}}\\circ \\circ \\circ x^{10^{p_n}}$ é“ç†éƒ½æ˜¯ä¸€æ ·çš„ã€‚è¿™é‡Œæœ€å¤šåˆ†è§£å‡º$\\log^{10}(k)$ä¸ªå…ƒç´ ï¼Œæ¯ä¸ª$x^{10^1}$å¯ä»¥ä»å‰ä¸€é¡¹ç›´æ¥è¿ç®—æ¨å¯¼ã€‚æœ€å¤šè¿›è¡Œ$\\log^{10}(k)$æ¬¡è®¡ç®— ä»£ç çŸ©é˜µå¿«é€Ÿå¹‚12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667typedef long long ll;const int LEN=3;void sarray_cpy(int a[][LEN],int b[][LEN],int n)&#123; for(int i=0;i&lt;n;i++)&#123;// a/bå¯ä»¥ä¸ºåŒä¸€ä¸ªæ•°ç»„ for(int j=0;j&lt;n;j++) b[i][j]=a[i][j]; &#125;&#125;void sarray_mul(int a[][LEN],int b[][LEN],int ret[][LEN],int n,int mod)&#123; static int c[LEN][LEN];// a/b/retå¯ä»¥ä¸ºåŒä¸€ä¸ªæ•°ç»„ for(int i=0;i&lt;n;i++) &#123; for(int j=0;j&lt;n;j++)&#123; c[i][j]=0; for(int k=0;k&lt;n;k++)&#123; c[i][j]=(c[i][j]+1ll*a[i][k]*b[k][j])%mod; &#125; &#125; &#125; sarray_cpy(c,ret,n);&#125;void sarray_qpow(int aa[][LEN],ll b,int ret[][LEN],int n,int mod)&#123; static int a[LEN][LEN];// aa retå¯ä»¥ä¸ºåŒä¸€ä¸ªæ•°ç»„ sarray_cpy(aa,a,n); for(int i=0;i&lt;n;i++)&#123; for(int j=0;j&lt;n;j++) ret[i][j]=0; ret[i][i]=1; &#125; while(b)&#123; if(b&amp;1) sarray_mul(ret,a,ret,n,mod); sarray_mul(a,a,a,n,mod); b&gt;&gt;=1; &#125;&#125;void sarray_add(int a[][LEN],int b[][LEN],int c[][LEN],int n,int mod)&#123; for(int i=0;i&lt;n;i++)&#123;// a,b,cå¯ä»¥ä¸ºåŒä¸€ä¸ªæ•°ç»„ for(int j=0;j&lt;n;j++)&#123; c[i][j]=(a[i][j]+b[i][j])%mod; &#125; &#125;&#125;// a^0 a^1 a^2 a^3 ... a^bvoid sarray_sum(int a[][LEN],ll b,int ret[][LEN],int n,int mod)&#123; static int tmp[LEN][LEN]; if(b==0) sarray_qpow(a,b,ret,n,mod); else&#123; ll mid=(b-1)&gt;&gt;1; sarray_sum(a,mid,ret,n,mod); sarray_qpow(a,mid+1,tmp,n,mod); for(int i=0;i&lt;n;i++) tmp[i][i]=(tmp[i][i]+1)%mod; sarray_mul(ret,tmp,ret,n,mod); if((b&amp;1)==0) &#123; sarray_mul(ret,a,ret,n,mod); for(int i=0;i&lt;n;i++) ret[i][i]=(ret[i][i]+1)%mod; &#125; &#125;&#125;int trans[LEN][LEN]=&#123; 1,1,1, 1,0,0, 0,1,0&#125;; åè¿›åˆ¶å¿«é€Ÿå¹‚123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960#include&lt;bits/stdc++.h&gt;using namespace std;void mul(const int a[2][2],const int b[2][2],int c[2][2],int mod)&#123; int res[2][2]=&#123;&#125;; for(int i=0;i&lt;2;i++)&#123; for(int j=0;j&lt;2;j++)&#123; for(int k=0;k&lt;2;k++) res[i][j]=(res[i][j]+1ll*a[i][k]*b[k][j])%mod; &#125; &#125; memcpy(c,res,sizeof(res));&#125;void qpow(const int aa[2][2],int b,int c[2][2],int mod)&#123; int a[2][2]; memcpy(a,aa,sizeof(a)); int res[2][2]=&#123; 1,0, 0,1 &#125;; while(b)&#123; if(b&amp;1) mul(res,a,res,mod);//res=1ll*res*a%mod; mul(a,a,a,mod);//a=1ll*a*a%mod; b&gt;&gt;=1; &#125; memcpy(c,res,sizeof(res));&#125;void qpow(const int aa[2][2],char*b,int ed,int c[2][2],int mod)&#123; int a[2][2]; memcpy(a,aa,sizeof(a)); int res[2][2]=&#123; 1,0, 0,1 &#125;; while(ed&gt;=0)&#123; int t[2][2]; qpow(a,b[ed]-&#x27;0&#x27;,t,mod); mul(res,t,res,mod);//res=res*qpow(a,b[ed]-&#x27;0&#x27;,mod); qpow(a,10,a,mod); ed--;// b/=10 &#125; memcpy(c,res,sizeof(res));&#125;const int maxn=1e6+6;char s[maxn];int main()&#123; int x0,x1,a,b,mod; scanf(&quot;%d%d%d%d%s%d&quot;,&amp;x0,&amp;x1,&amp;a,&amp;b,s,&amp;mod); int trans[2][2]=&#123; a,b, 1,0 &#125;; int ans[2][2]=&#123; x1,0, x0,0 &#125;; int trans2[2][2]; qpow(trans,s,int(strlen(s))-1,trans2,mod); mul(trans2,ans,ans,mod); cout&lt;&lt;ans[1][0]&lt;&lt;endl;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ•°å­¦","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%95%B0%E5%AD%A6/"}],"tags":[]},{"title":"åç¼€è‡ªåŠ¨æœº","slug":"ACM/å­¦ä¹ ç¬”è®°/å­—ç¬¦ä¸²/åç¼€è‡ªåŠ¨æœº/index","date":"2019-03-08T09:34:53.000Z","updated":"2019-03-08T09:34:53.000Z","comments":true,"path":"PO1JY5.html","link":"","permalink":"http://fightinggg.github.io/indigo/PO1JY5.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å‰è¨€æœ¬æ–‡åŠ›äº‰ç”¨ç†æ€§åˆ†æçš„æ‰‹æ®µï¼Œæ¥æ¨æµ‹æ­¤ç®—æ³•å‘æ˜è€…çš„æ€ç»´è¿‡ç¨‹ï¼Œ å°è¯•æ„Ÿå—å…¶åœ¨è®¾è®¡æ­¤ç®—æ³•çš„æ—¶æ‰€å±•ç°å‡ºçš„æ€ç»´æ–¹å¼ï¼Œ åŠ›æ±‚ç”¨æ•°å­¦è¯æ˜çš„æ‰‹æ®µï¼Œå°½å¯èƒ½å¤šçš„ä¸ºè¯»è€…è¯æ˜ç›¸å…³ç»“è®ºï¼Œå»ºè®®æœ‰å…¶ä»–è‡ªåŠ¨æœºå­¦ä¹ çš„åŸºç¡€ï¼Œæœ€å¥½å·²ç»å­¦ä¼šACè‡ªåŠ¨æœºå’Œå›æ–‡è‡ªåŠ¨æœºï¼Œåç¼€è‡ªåŠ¨æœºå¾ˆéš¾ï¼Œä»– å’Œå…¶ä»–è‡ªåŠ¨æœºä¸ä¸€æ ·ï¼Œå®ƒçš„çŠ¶æ€æ›´åŠ å¤æ‚ï¼Œä¸€ä¸ªç®—æ³•çš„åˆ›ä½œè¿‡ç¨‹å¾ˆ å¤æ‚ï¼Œå­¦èµ·æ¥å½“ç„¶ä¼šæ„Ÿåˆ°å¾ˆéš¾ã€‚å¼ºçƒˆå»ºè®®çœ‹é™ˆç«‹æ°çš„pptï¼Œçœ‹ä¸€éè‚¯å®šçœ‹ä¸æ‡‚ï¼Œä»”ç»†çœ‹ï¼Œä¸€éçœ‹ä¸æ‡‚çœ‹å¤šéï¼Œç¬¬ä¸€æ¬¡å¯èƒ½åªèƒ½çœ‹æ‡‚å‡ é¢ï¼Œç¬¬äºŒæ¬¡å¯ èƒ½å°±èƒ½çœ‹æ‡‚åˆ°åå‡ é¢äº†ï¼Œæ…¢æ…¢çš„å°±å…¨æ‡‚äº†ã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å‰è¨€æœ¬æ–‡åŠ›äº‰ç”¨ç†æ€§åˆ†æçš„æ‰‹æ®µï¼Œæ¥æ¨æµ‹æ­¤ç®—æ³•å‘æ˜è€…çš„æ€ç»´è¿‡ç¨‹ï¼Œ å°è¯•æ„Ÿå—å…¶åœ¨è®¾è®¡æ­¤ç®—æ³•çš„æ—¶æ‰€å±•ç°å‡ºçš„æ€ç»´æ–¹å¼ï¼Œ åŠ›æ±‚ç”¨æ•°å­¦è¯æ˜çš„æ‰‹æ®µï¼Œå°½å¯èƒ½å¤šçš„ä¸ºè¯»è€…è¯æ˜ç›¸å…³ç»“è®ºï¼Œå»ºè®®æœ‰å…¶ä»–è‡ªåŠ¨æœºå­¦ä¹ çš„åŸºç¡€ï¼Œæœ€å¥½å·²ç»å­¦ä¼šACè‡ªåŠ¨æœºå’Œå›æ–‡è‡ªåŠ¨æœºï¼Œåç¼€è‡ªåŠ¨æœºå¾ˆéš¾ï¼Œä»– å’Œå…¶ä»–è‡ªåŠ¨æœºä¸ä¸€æ ·ï¼Œå®ƒçš„çŠ¶æ€æ›´åŠ å¤æ‚ï¼Œä¸€ä¸ªç®—æ³•çš„åˆ›ä½œè¿‡ç¨‹å¾ˆ å¤æ‚ï¼Œå­¦èµ·æ¥å½“ç„¶ä¼šæ„Ÿåˆ°å¾ˆéš¾ã€‚å¼ºçƒˆå»ºè®®çœ‹é™ˆç«‹æ°çš„pptï¼Œçœ‹ä¸€éè‚¯å®šçœ‹ä¸æ‡‚ï¼Œä»”ç»†çœ‹ï¼Œä¸€éçœ‹ä¸æ‡‚çœ‹å¤šéï¼Œç¬¬ä¸€æ¬¡å¯èƒ½åªèƒ½çœ‹æ‡‚å‡ é¢ï¼Œç¬¬äºŒæ¬¡å¯ èƒ½å°±èƒ½çœ‹æ‡‚åˆ°åå‡ é¢äº†ï¼Œæ…¢æ…¢çš„å°±å…¨æ‡‚äº†ã€‚ åç¼€è‡ªåŠ¨æœºä¸ºä»€ä¹ˆéš¾ï¼Ÿåç¼€è‡ªåŠ¨æœºæ˜¯ä¸‰ä¸ªè‡ªåŠ¨æœºé‡Œé¢æœ€éš¾çš„ä¸€ä¸ªï¼Œéš¾çš„åœ°æ–¹ä¸åœ¨ä¸ç¼–ç ï¼Œåœ¨äºä»–èƒŒåçš„æ•°å­¦æ¨å¯¼ï¼Œ æƒ³è¦å®Œå…¨ç†è§£åç¼€è‡ªåŠ¨æœºï¼Œå°±å¿…é¡»æ·±å…¥ç†è§£ä»€ä¹ˆå«è‡ªåŠ¨æœºï¼Œè¿™å’ŒACè‡ªåŠ¨æœºã€å›æ–‡è‡ªåŠ¨æœºä¸åŒï¼Œå› ä¸ºACè‡ªåŠ¨æœºã€å›æ–‡è‡ªåŠ¨æœºèƒŒåçš„æ•°å­¦æ¨å¯¼è¿‡äºç®€å•ã€‚ è‡ªåŠ¨æœºç™¾åº¦ç™¾ç§‘é‡Œé¢è¯´çš„å¾ˆæ¸…æ¥šï¼Œä¹Ÿå¾ˆæŠ½è±¡ã€‚è‡ªåŠ¨æœºï¼Œæ˜¯ä¸€ä¸ªäº”å…ƒç»„ï¼ŒåŒ…å«å­—ç¬¦é›†ï¼ŒçŠ¶æ€é›†åˆï¼Œåˆå§‹çŠ¶æ€ï¼Œç»“æŸçŠ¶æ€é›†åˆï¼ŒçŠ¶æ€è½¬ç§»å‡½æ•°ã€‚äº”å…ƒç»„ä¸­ï¼Œæœ‰å››ä¸ªåŒ…å«äº†â€çŠ¶æ€â€è¿™ä¸ªåè¯ã€‚éš¾ä»¥ç†è§£çš„ï¼Œæ­£æ˜¯è¿™ä¸ªçŠ¶æ€ã€‚ çŠ¶æ€æ˜¯ä»€ä¹ˆæ­¤å¤„çš„çŠ¶æ€ï¼Œå…¶å®å’ŒåŠ¨æ€è§„åˆ’ç®—æ³•ä¸­å‡ºç°çš„åè¯â€çŠ¶æ€â€ï¼Œæ˜¯åŒä¸€ä¸ªä¸œè¥¿ã€‚çŠ¶æ€çš„ æœ¬è´¨å°±æ˜¯é›†åˆï¼Œæ˜¯æ»¡è¶³æŸç§æ¡ä»¶çš„æ‰€æœ‰å…ƒç´ çš„ä¸€ä¸ªé›†åˆä½“ï¼Œå½“ç„¶æˆ‘ä»¬å¾ˆå¤š æ—¶å€™ä¸å¥½ç”¨è®¡ç®—æœºæ¥å‚¨å­˜è¿™æ ·çš„ä¸€ä¸ªé›†åˆä½“ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬ä¹Ÿä¸éœ€è¦å»å‚¨å­˜ä»–ï¼Œæ›´å¤šçš„æ—¶å€™æˆ‘ä»¬åªéœ€è¦å‚¨å­˜è¿™ä¸ªé›†åˆä½“çš„æŸä¸€ä¸ªæˆ–è€…å¤šä¸ªæ€§è´¨å³å¯ï¼Œ è‡ªåŠ¨æœºçš„çŠ¶æ€å­—ç¬¦é›†å¥½ç†è§£ï¼ŒçŠ¶æ€é›†åˆå°±æ˜¯è‡ªåŠ¨æœºä¸­æ‰€æœ‰çš„èŠ‚ç‚¹ï¼ŒçŠ¶æ€è½¬ç§»å‡½æ•°å°±æ˜¯è‡ªåŠ¨æœºä¸­èŠ‚ç‚¹ä¹‹é—´ çš„è¾¹ã€‚åˆå§‹çŠ¶æ€å°±æ˜¯è‡ªåŠ¨æœºä¸­å­—å…¸æ ‘ä¸Šçš„æ ¹ï¼Œç»“æŸçŠ¶æ€å°±æ˜¯è‡ªåŠ¨ æœºä¹‹ä¸­åŒ…å«äº†ç»“æŸæ ‡è®°çš„èŠ‚ç‚¹ã€‚ åç¼€è‡ªåŠ¨æœºå’Œåç¼€æ•°ç»„æœ‰å…³å—ï¼Ÿåç¼€è‡ªåŠ¨æœºæ˜¯å»ºç«‹åœ¨ä¸€é¢—åç¼€æ ‘ä¸Šçš„ï¼Œå½“ç„¶ä»–ä¸åƒACè‡ªåŠ¨æœºæ¥æºäºKMPç®—æ³•ï¼Œä¸åƒå›æ–‡è‡ªåŠ¨æœºæ¥æºäº manacherç®—æ³•ä¸€æ ·,ä»–å¹¶ä¸æ˜¯åç¼€æ•°ç»„ç®—æ³•çš„åŠ å¼ºã€‚ä¸€ä¸ªå­—ç¬¦ä¸²çš„åç¼€æ ‘è‚¯å®šæ˜¯éå¸¸åºå¤§çš„ï¼Œnä¸ªåç¼€ï¼Œå¦‚æœæˆ‘ä»¬ç›´æ¥æŠŠå®ƒå»ºç«‹å‡ºæ¥ï¼Œé‚£ä¹ˆç©ºé—´å¤æ‚åº¦å’Œ æ—¶é—´å¤æ‚åº¦æ— ç–‘éƒ½æ˜¯O(n^2),å¿…é¡»ä¼˜åŒ–ã€‚æˆ‘ä»¬å‘ç°åç¼€æ ‘ä¸Šçš„å¾ˆå¤šèŠ‚ç‚¹æ‰€ä»£è¡¨çš„çŠ¶æ€æœ‰æŸäº›å…±åŒç‚¹ï¼Œæ¯•ç«Ÿä»–ä»¬éƒ½æ˜¯åŒä¸€ä¸ªæ¯ä¸²çš„åç¼€ï¼Œ ACè‡ªåŠ¨æœºæ‰€å®šä¹‰çš„èŠ‚ç‚¹ä»£è¡¨çš„çŠ¶æ€æŒ‡çš„æ˜¯:ä»æ ¹åˆ°æ­¤èŠ‚ç‚¹çš„è·¯å¾„è¿æ¥æˆçš„å­—ç¬¦ä¸²ä»¥åŠä»–çš„æ‰€æœ‰åç¼€ã€‚åç¼€è‡ªåŠ¨æœºåœ¨è¿™ä¸€ç‚¹ä¸Š æ ¹ACè‡ªåŠ¨æœºæœ‰ç‚¹ç±»ä¼¼,æ­¤å¤„æš‚æ—¶ä¸å…ˆè¯´ã€‚ æˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ªæœ€å°çŠ¶æ€æ•°çš„åç¼€è‡ªåŠ¨æœºæˆ‘ä»¬å…ˆå‡è®¾æˆ‘ä»¬å·²ç»å»ºç«‹å¥½äº†ä¸€ä¸ªåç¼€è‡ªåŠ¨æœº,æ­¤è‡ªåŠ¨æœºä¸ä¸€å®šçŠ¶æ€æ•°æœ€å°‘,åç¼€è‡ªåŠ¨æœºçš„å­˜åœ¨æ€§å°±ä¸å¿…è¯æ˜äº†ã€‚ ç„¶åæˆ‘ä»¬å°è¯•åˆ†æè¿™ä¸ªä¸å¤ªå®Œç¾çš„åç¼€è‡ªåŠ¨æœºï¼Œæ¥å°è¯•ä¼˜åŒ–ä»–ã€‚ çº¦å®šä¸€äº›ç¬¦å·è¡¨ç¤ºæˆ‘ä»¬ç§°è‡ªåŠ¨æœºçš„åˆå§‹çŠ¶æ€ä¸ºinitï¼Œè½¬ç§»å‡½æ•°ä¸ºtrans(state,str),è¡¨ç¤ºçŠ¶æ€stateç»è¿‡å­—ç¬¦ä¸²strçš„è½¬ç§»åå¾—åˆ°çš„æ–°çš„çŠ¶æ€ã€‚ å› ä¸ºæ˜¯æœ¯è¯­ï¼Œæ­¤å¤„æš‚æ—¶ä¸å¯¹çŠ¶æ€åšå®šä¹‰ã€‚å¦‚æœæŸä¸ªçŠ¶æ€ä¸ºç»“æŸçŠ¶æ€ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç”¨end(state)&#x3D;trueæ¥è¡¨ç¤ºã€‚ å°†çŠ¶æ€å½¢è±¡åŒ–ï¼Œç„¶åé€ ä¸€ä¸ªæš´åŠ›çš„åç¼€è‡ªåŠ¨æœºæˆ‘ä»¬å‡è®¾æˆ‘ä»¬å»ºç«‹çš„åç¼€è‡ªåŠ¨æœºï¼Œæ˜¯ä¸€æ£µç©¶æå¤§çš„ï¼Œn^2çº§åˆ«çŠ¶æ€æ•°é‡çš„è‡ªåŠ¨æœºã€‚æˆ‘ä»¬å…ˆæ¥å®šä¹‰æ­¤è‡ªåŠ¨æœºçš„çŠ¶æ€ï¼šæŸä¸ªèŠ‚ç‚¹ æ‰€ä»£è¡¨çš„çŠ¶æ€ï¼Œå°±æ˜¯æ¯ä¸²çš„ä¸€ä¸ªå­ä¸²ã€‚æ˜¾ç„¶è¿™ä¸æ˜¯ä¸€ä¸ªå¥½çŠ¶æ€ã€‚æ˜¾ç„¶å…¶ä¸­çš„å­—å…¸æ ‘ çš„æ ¹èŠ‚ç‚¹rootå°±æ˜¯åˆå§‹çŠ¶æ€ ã€‚ æƒ³åŠæ³•æ¥ä¼˜åŒ–è¿™ä¸ªæš´åŠ›çš„è‡ªåŠ¨æœºæˆ‘ä»¬å¿…é¡»å‡å°‘çŠ¶æ€ï¼Œç„¶è€Œï¼Œä¸€ä¸ªä¸²çš„å­ä¸²æ•°é‡æ˜æ˜¾å°±æ˜¯å¹³æ–¹çº§åˆ«çš„ï¼Œæ ¹æœ¬å°±æ²¡æœ‰å¤šä½™çš„çŠ¶æ€ï¼Œå¯¹æ­¤å·²ç»æ— è§£ï¼Œå¿…é¡»å‡å°‘çŠ¶æ€æ•°é‡ï¼Œæˆ‘ä»¬è€ƒè™‘åç¼€è‡ªåŠ¨æœºå…³å¿ƒ çš„æ˜¯åç¼€ï¼Œè€Œä¸æ˜¯å­ä¸²ï¼Œé‚£ä¹ˆå¯èƒ½å­˜åœ¨æŸäº›çŠ¶æ€ï¼Œä»–ä»¬åœ¨å¦å¤–ä¸€ç§çŠ¶æ€çš„å®šä¹‰ä¸‹ï¼Œæ˜¯ç­‰ä»·çš„ã€‚æˆ‘ä»¬è€ƒè™‘æŸä¸ªçŠ¶æ€state,å¦‚æœå­˜åœ¨æŸä¸ªå­—ç¬¦ä¸² str,ä½¿å¾—end (trans(state,str))&#x3D;true,é‚£æ„å‘³ç€ä»€ä¹ˆï¼ŸstateçŠ¶æ€ä¸­çš„å…ƒç´ ï¼šå­ä¸²substringï¼Œè¿½åŠ ä¸Šstrï¼Œæ˜¯ä¸€ä¸ªç»“æŸçŠ¶æ€ã€‚ å†å…·ä½“ä¸€ç‚¹ï¼Œæˆ‘ä»¬æ¥ä¸¾ä¾‹å­æ¯ä¸²æ˜¯abcabcdeï¼Œè€ƒè™‘ä»–çš„æŸä¸ªå­ä¸²abcï¼Œæ˜¾ç„¶æ­¤å­ä¸²å¯¹åº”çš„çŠ¶æ€trans(root,â€abcâ€)åœ¨ç»å†ä¸²abcdeçš„è½¬ç§»åå¾—åˆ°äº†ç»“æŸçŠ¶æ€ï¼ŒåŒæ—¶æ­¤çŠ¶æ€åœ¨ç»å†ä¸² deçš„è½¬ç§»åä¹Ÿå¯ä»¥å¾—åˆ°ç»“æŸçŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå­ä¸²abcå¯¹åº”çš„çŠ¶æ€åœ¨ç»å†ä¸²abcdeæˆ–deçš„è½¬ç§»åå¯ä»¥å¾—åˆ°ç»“æŸçŠ¶æ€ã€‚ å‘ç°äº†å¯ä»¥ä¼˜åŒ–çš„åœ°æ–¹å½“æˆ‘ä»¬è€ƒè™‘ä¸²bcã€ä¸²cçš„æ—¶å€™ï¼Œæˆ‘ä»¬å‘æ­¤æ¡ˆè¿™ä¸¤ä¸ªä¸²èƒ½å¤Ÿè½¬ç§»åˆ°çš„ç»“æŸçŠ¶æ€æ ¹ä¸²abcä¸€æ‘¸ä¸€æ ·ï¼Œè¿™å¯ä¸æ˜¯å¼€ç©ç¬‘çš„ã€‚å¦‚æœå¯èƒ½ï¼Œæˆ‘ä»¬å°†å¯ä»¥åˆå¹¶ä¸²abcã€bcã€ å’Œcå¯¹åº”çš„çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œtrans(root,â€abcâ€),trans(root,â€bcâ€),trans(root,â€câ€)å¯ä»¥ç”¨ä¸€ä¸ªçŠ¶æ€æ¥è¡¨ç¤ºã€‚æˆ‘ä»¬æ¥ä»”ç»†ç ”ç©¶ç ”ç©¶ï¼Œä¸ºä»€ä¹ˆä¼šå‘ç”Ÿè¿™ç§ äº‹æƒ…ï¼Ÿå¦‚æœæŸä¸¤ä¸ªçŠ¶æ€trans(root,str1),trans(root,str2)èƒ½å¤Ÿè½¬ç§»çš„ç»“æœæ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œé‚£æ„å‘³ç€ä»€ä¹ˆï¼Ÿå…ˆè€ƒè™‘trans(root,str)èƒ½å¤Ÿè½¬ç§»åˆ°æŸä¸ª ç»“æŸçŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯è¯´str+??ï¼Ÿå°†ä¼šæˆä¸ºæ¯ä¸²çš„åç¼€ã€‚ çº¦å®šä¸€äº›ç¬¦å·è¡¨ç¤ºright(str)è¡¨ç¤ºå­—ç¬¦ä¸²stråœ¨æ¯ä¸²ä¸­å‡ºç°æ—¶çš„æ‰€æœ‰å³ç«¯ç‚¹çš„é›†åˆï¼Œsuf(index)è¡¨ç¤ºä»ä¸‹æ ‡ä¸ºindexå¼€å§‹çš„åç¼€ï¼Œ ç»§ç»­åˆ†æå®¹æ˜“è¯æ˜çŠ¶æ€state&#x3D;trans(root,str)èƒ½è½¬ç§»åˆ°çš„ç»“æŸçŠ¶æ€ï¼Œå°±æ˜¯å¯¹äºæ‰€æœ‰åœ¨right(str)ä¸­çš„å…ƒç´ xï¼Œè®¡ç®—å‡ºçš„çŠ¶æ€ï¼štrans(stateï¼Œsuf(x+1)) å½“right(str1)ä¸right(str2)ä¸€æ‘¸ä¸€æ ·çš„æ—¶å€™ï¼Œå…¶èƒ½å¤Ÿè½¬ç§»åˆ°çš„ç»“æŸçŠ¶æ€æ˜¯ä¸€æ‘¸ä¸€æ ·çš„ï¼Œå› ä¸ºè¿™åªå—åˆ°righté›†åˆçš„å½±å“ã€‚æ—¢ç„¶ä¸€æ‘¸ä¸€æ ·ï¼Œæœ‰ä»€ä¹ˆç†ç”± ä¸å»åˆ©ç”¨è¿™ä¸ªä¼˜ç‚¹å‘¢ï¼Ÿ å¼€å§‹å®ç°ä¼˜åŒ–æˆ‘ä»¬å°è¯•ä¿®æ”¹çŠ¶æ€çš„å®šä¹‰ï¼Œå°è¯•æŠŠrighté›†åˆä¸€æ‘¸ä¸€æ ·çš„ä¸²ç”¨ä¸€ä¸ªçŠ¶æ€æ¥è¡¨ç¤ºã€‚è®©ç¬”è€…æ¥æ¦‚æ‹¬ä¸€ä¸‹è¿™ä¸ªæ–°çŠ¶æ€:æˆ‘ä»¬å¯¹æ¯ä¸² çš„æ¯ä¸€ä¸ªå­ä¸²éƒ½ç»Ÿè®¡ä¸€ä¸‹righté›†åˆï¼Œå°†å­ä¸²æŒ‰ç…§righté›†åˆåˆ†ç±»ï¼Œæ¯ä¸€ç±»å°±æ˜¯ä¸€ä¸ªçŠ¶æ€ã€‚å¦‚æ— ç‰¹æ®Šå£°æ˜ï¼Œä¸‹æ–‡çš„å‡ºç°çš„çŠ¶æ€å°†ä¸å†æŒ‡çš„æ˜¯åŸçŠ¶æ€ ï¼Œè€Œæ˜¯è¡¨ç¤ºæ–°çŠ¶æ€ã€‚ è¯æ˜çŠ¶æ€æ•°æ˜¯çº¿æ€§çš„è¯æ˜åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œå…ˆè¯æ˜righté›†åˆé—´çš„å…³ç³»åªæœ‰ä¸¤ç§ï¼ŒåŒ…å«å…³ç³»å’Œæ— äº¤é›†å…³ç³»ï¼Œäºæ˜¯righté›†åˆé—´çš„å…³ç³»å¯ä»¥ç”¨ä¸€é¢—å¶å­èŠ‚ç‚¹æœ€å¤šnä¸ªçš„æ ‘æ¥è¡¨ç¤ºã€‚ï¼ˆnæ˜¯ æ¯ä¸²çš„é•¿åº¦ã€‚ï¼‰å†è¯æ˜æ­¤æ ‘æœ€å¤šæœ‰2nä¸ªèŠ‚ç‚¹æ¥å®Œæˆè¯æ˜ã€‚ç¬¬ä¸€éƒ¨åˆ†çš„è¯æ˜ï¼šè€ƒè™‘ä¸²str1ï¼Œå’Œstr2ï¼Œå¹¶å‡è®¾str2æ›´é•¿ï¼Œå¦‚æœstr1ä¸æ˜¯str2çš„åç¼€ï¼Œé‚£ä¹ˆä»–ä»¬çš„ righté›†åˆä¸€å®šä¸ä¸€æ ·ï¼Œä¸”æ²¡æœ‰äº¤é›†ï¼Œå¯ä»¥åè¯ï¼Œè‹¥æ˜¯åç¼€ï¼Œé‚£ä¹ˆstr2å‡ºç°çš„åœ°æ–¹çš„å³ç«¯ç‚¹ï¼Œä¹Ÿæ˜¯str1å‡ºç°çš„å³ç«¯ç‚¹ï¼Œäºæ˜¯right(str2)æ˜¯right(str1)çš„å­é›† ã€‚ç¬¬äºŒéƒ¨åˆ†çš„è¯æ˜å¾ˆç®€å•ï¼Œç¬”è€…å°±ä¸å†èµ˜è¿°äº†ã€‚æ—¢ç„¶çŠ¶æ€æ•°æ˜¯çº¿æ€§ï¼Œè½¬ç§»(è¾¹çš„æ¡æ•°)å½“ç„¶ä¹Ÿæ˜¯çº¿æ€§çš„ã€‚ è¯æ˜çŠ¶æ€æ•°æ˜¯æœ€å°çš„æ­¤å¤„ç¬”è€…ç”±äºæ°´å¹³åŸå› ï¼Œå®åœ¨æ˜¯æ— æ³•è¯æ˜ï¼Œç½ªè¿‡ç½ªè¿‡ã€‚ å¢é‡æ³•æ„å»ºæœ€å°çŠ¶æ€æ‰€è°“å¢é‡æ³•ï¼Œå°±æ˜¯ä¸€ä¸ªä¸€ä¸ªå¢åŠ çš„æ„æ€ï¼Œå…·ä½“ä¸€ç‚¹ï¼Œå¦‚æœæˆ‘ä»¬è¦ç®—f(10),æˆ‘ä»¬å…ˆç®—f(1)ï¼Œé€šè¿‡f(1)æ¥è®¡ç®—f(2),é€šè¿‡f(2)æ¥ç®—f(3)â€¦æœ€åç®—å‡ºf(10),è¿™å°±æ˜¯å¢é‡æ³•ï¼Œ ä»–å’Œæ•°å­¦å½’çº³æ³•æœ‰ç‚¹åƒã€‚ç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬æ‹¥æœ‰ä¸€ä¸ªåˆå§‹çŠ¶æ€ï¼šæ ¹ï¼Œç¬¬äºŒæ­¥ï¼Œå‡è®¾æˆ‘ä»¬å·²ç»çš„åˆ°äº†å­—ç¬¦ä¸²strçš„ä¸€ä¸ªåç¼€è‡ªåŠ¨æœºSAM(str),xæ˜¯ä¸€ä¸ªå­—ç¬¦ï¼Œæˆ‘ä»¬æ€ä¹ˆå¾—åˆ°å­—ç¬¦ä¸² str+xçš„åç¼€è‡ªåŠ¨æœºå‘¢?è€ƒè™‘è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²çš„åŒºåˆ«ï¼Œstr+xå¤šäº†ä¸€ä¸ªxï¼Œåç¼€è‡ªåŠ¨æœºæ˜¯æ¥è¯†åˆ«åç¼€çš„ï¼Œæ‰€ä»¥SAM(str)ä»¥å‰èƒ½å¤Ÿè¯†åˆ«çš„åç¼€sufçš„é‚£äº›çŠ¶æ€å…¨éƒ¨è¦æ”¹ï¼Œé™¤æ­¤ä¹‹å¤– æ²¡æœ‰å…¶ä»–ä¿®æ”¹çš„åœ°æ–¹ã€‚æ€ä¹ˆæ”¹å‘¢ï¼Ÿé‚£äº›çŠ¶æ€åœ¨SAM(str)é‡Œé¢ç¡®å®æ˜¯ç»“æŸçŠ¶æ€ï¼Œä½†æ˜¯åœ¨SAM(str+x)ä¸­å´ä¸æ˜¯ã€‚ä½†æ˜¯ä»–ä»¬èƒ½å¤Ÿå‘xå­—ç¬¦è½¬ç§»ï¼Œå¾—åˆ°æ–°çš„ç»“æŸçŠ¶æ€ã€‚ä¹‹å‰è¯æ˜è¿‡ çŠ¶æ€æ˜¯æŒ‰ç…§righté›†åˆæ¥åˆ’åˆ†çš„ï¼Œè€Œrighté›†åˆæœ‰åªæœ‰ä¸¤ç§å…³ç³»ï¼Œäºæ˜¯æˆ‘ä»¬å‘ç°äº†ä¸€ä¸ªæ–°çš„ä¸œè¥¿ï¼ŒSAM(str)çš„æ‰€æœ‰ç»“æŸçŠ¶æ€åœ¨rightæ„æˆçš„æ ‘ä¸Šæ˜¯ä¸€æ¡é“¾ï¼Œä¹Ÿå°±æ˜¯è¯´right æ„æˆçš„æ ‘ä¸çŸ¥å¯ä»¥ç”¨æ¥è¯æ˜çŠ¶æ€æ ‘æ˜¯çº¿æ€§çš„ï¼Œè¿˜å¯ä»¥ç”¨æ¥å¸®åŠ©æˆ‘ä»¬å»ºè®¾çŠ¶æ€ã€‚é‚£ä¹ˆæˆ‘ä»¬å°±æŠŠè¿™æ£µæ ‘å–å‡ºæ¥ï¼Œå«åšparentæ ‘ã€‚ åœ¨parentæ ‘ä¸Šï¼Œå¦‚æœæˆ‘ä»¬çŸ¥é“äº†çŠ¶æ€trans(root,str)åœ¨å“ªï¼Œå°±å¯ä»¥æ ¹æ®parentæ ‘ä¸Šé¢çš„è¾¹éå†æ‰€æœ‰çš„ç»“æŸçŠ¶æ€ï¼Œå› ä¸ºè¿™äº›ç»“æŸçŠ¶æ€çš„righté›†åˆä¸€å®šåŒ…å«äº†len(str) ä¹Ÿå°±æ˜¯è¯´ä»–ä»¬éƒ½æ˜¯çŠ¶æ€trans(root,str)åœ¨parentæ ‘ä¸Šé¢çš„ç¥–å…ˆã€‚ ç»†èŠ‚å¤„ç†ç°åœ¨æˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹ï¼Œä»è‡ªåŠ¨æœºSAM(str) å¢é‡æ„å»ºè‡ªåŠ¨æœºSAM(str+x)ï¼Œæˆ‘ä»¬éœ€è¦æ›´æ”¹çš„åªæ˜¯trans(rootï¼Œstr)ä»¥åŠä»–åœ¨parentæ ‘ä¸Šé¢çš„æ‰€æœ‰ç¥–å…ˆï¼Œå®¹æ˜“è¯æ˜å¦‚æœçŠ¶æ€ qæ˜¯trans(rootï¼Œstr)çš„ç¬¬ä¸€ä¸ªåŒ…å«å­—ç¬¦xè½¬ç§»çš„çŠ¶æ€ï¼Œé‚£ä¹ˆqçš„æ‰€æœ‰ç¥–å…ˆéƒ½åŒ…å«äº†å­—ç¬¦xçš„è½¬ç§»ã€‚trans(root,str)åˆ°qä¹‹é—´(ä¸åŒ…å«q)çš„æ‰€æœ‰çŠ¶æ€éƒ½ä¸åŒ…å«å­—ç¬¦xçš„è½¬ç§»ã€‚ å¯ä»¥è¯æ˜:å¦‚æœä¸åŒ…å«xçš„è½¬ç§»ï¼Œæˆ‘ä»¬ç›´æ¥æ„å»ºä¸€ä¸ªæ–°çš„çŠ¶æ€pè¡¨ç¤ºtrans(rootï¼Œstr+x)çŠ¶æ€,æ­¤å¤„å¯ä»¥è¯æ˜ä»–çš„righté›†åˆåªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œ å°±æ˜¯len(str+x)ã€‚é‚£äº›ä¸åŒ…å«xè½¬ç§»çš„çŠ¶æ€ï¼Œå¯ä»¥ç›´æ¥è½¬ç§»åˆ°pï¼Œå› ä¸ºé‚£æ ·è½¬ç§»ä¹‹åçš„righté›†åˆæ˜¯å°±æ˜¯pçš„righté›†åˆã€‚é‚£ä¹ˆæˆ‘ä»¬å°±ä¸€ç›´è¿™æ ·åšå³å¯ï¼Œé‚£ä¹ˆqä»¥åŠqçš„ç¥–å…ˆå‘¢ï¼Ÿä»–ä»¬åŒ…å«äº†å­—ç¬¦xçš„è½¬ç§» ä½†æ˜¯æˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨é‚£ä¸ªåœ°æ–¹è®¾ç½®ä¸€ä¸ªç»“æŸæ ‡å¿—å—ï¼Ÿè¿™ä¸ä¸€å®šï¼Ÿä¸ºä»€ä¹ˆå‘¢ï¼Ÿé¦–å…ˆï¼Œæˆ‘ä»¬çš„çŠ¶æ€å®šä¹‰æ˜¯ä¾æ®righté›†åˆçš„ï¼Œä¹Ÿå°±æ˜¯è¯´righté›†åˆä¸€æ‘¸ä¸€æ ·çš„ï¼Œæ‰èƒ½ç”¨ä¸€ä¸ªçŠ¶æ€è¡¨ç¤ºã€‚ å¦‚æœæˆ‘ä»¬é‚£æ ·åšï¼Œä¼šé€ æˆä»€ä¹ˆåæœå‘¢ï¼ŸèŠ‚ç‚¹qå‘xè½¬ç§»çš„çŠ¶æ€trans(q,x)çš„righté›†åˆæ˜¯ä¸åŒ…å«len(str+x)çš„ï¼Œæˆ‘ä»¬é‚£æ ·åšï¼Œä¼šå¯¼è‡´righté›†åˆæ‰©å¤§ã€‚righté›†åˆæ‰©å¤§ï¼Œå¯èƒ½ä¼š å¯¼è‡´ä»¥å‰èƒ½å¤Ÿç”¨trans(q,x)è¡¨ç¤ºçš„æŸäº›ä¸²ï¼Œä¸èƒ½ç”¨trans(q,x)è¡¨ç¤ºäº†ã€‚ ä¸¾ä¸ªä¾‹å­,abcxabc+xå’Œabcxbc+xï¼Œå¯¹äºç¬¬ä¸€ä¸ªï¼ŒåŸæœ¬abcæ‹¥æœ‰å‘xçš„è½¬ç§»ï¼Œå½“æ—¶è¿˜ä¸æ˜¯ç»“æŸæ ‡è®°ï¼Œå½“æˆ‘ä»¬åŠ å…¥å­—ç¬¦xåæˆ‘ä»¬å¼ºè¡Œè®©è¿™ä¸ªè½¬ç§»å˜ä¸ºç»“æŸæ ‡è®°ï¼Œä¸€ç‚¹é—®é¢˜éƒ½æ²¡æœ‰ï¼Œabcx ç¡®å®æ˜¯æ–°çš„ç»“æŸæ ‡è®°ï¼Œç„¶è€Œå¯¹äºç¬¬äºŒä¸ªï¼ŒåŸæœ¬bcæ‹¥æœ‰å‘xçš„è½¬ç§»ï¼Œå½“æ—¶è¿˜ä¸æ˜¯ç»“æŸæ ‡è®°ï¼Œå½“æˆ‘ä»¬åŠ å…¥å­—ç¬¦xåï¼Œå¦‚æœè¿˜æ˜¯å¼ºè¡Œè®©è¿™ä¸ªè½¬ç§»å˜ä¸ºç»“æŸæ ‡è®°ï¼Œå‡ºç°é—®é¢˜äº†ï¼Œabcxä¹Ÿå¯ä»¥è½¬ç§»åˆ° é‚£é‡Œï¼Œå¯æ˜¯abcxä¸æ˜¯ä¸²çš„ç»“æŸçŠ¶æ€ã€‚ åˆ°åº•ä»€ä¹ˆæ—¶å€™éœ€è¦åˆ›å»ºæ–°çš„èŠ‚ç‚¹æˆ‘ä»¬æ¥æ€è€ƒä¸€ä¸‹ï¼Œä»€ä¹ˆæ—¶å€™é‚£æ ·åšæ˜¯å¯¹çš„ã€‚å¦‚æœæ— è„‘åŠ ç»“æŸæ ‡è®°æ˜¯å¯¹çš„ï¼Œé‚£å°±æ„å‘³ç€ï¼Œä»¥å‰èƒ½å¤Ÿåˆ°è¾¾trans(q,x)çš„ä¸²ï¼Œä»–ä»¬çš„righté›†åˆï¼Œç°åœ¨éƒ½èƒ½å¤Ÿåˆ°è¾¾len(str+x),æˆ‘ä»¬å†ä¸€æ¬¡ æ€è€ƒçŠ¶æ€stateçš„æ„ä¹‰ï¼Œç›¸åŒrighté›†åˆçš„ä¸²ï¼Œç”¨åŒä¸€ä¸ªçŠ¶æ€è¡¨ç¤ºï¼Œè¿™äº›ä¸²ä¹‹é—´æœ‰ä»€ä¹ˆå…³ç³»å—ï¼Ÿå¦‚æœæˆ‘ä»¬å®šä¹‰max(state)ä¸ºè¿™ä¸ªçŠ¶æ€èƒ½è¡¨è¾¾çš„ä¸²çš„æœ€å¤§é•¿åº¦ï¼Œmin(state)è¡¨ç¤ºè¿™ä¸ª çŠ¶æ€&#x3D;èƒ½è¡¨è¾¾çš„ä¸²çš„æœ€å°é•¿åº¦ï¼Œå¯ä»¥è¯æ˜ï¼Œè¿™ä¸ªstateèƒ½è¡¨è¾¾çš„æ‰€æœ‰ä¸²ï¼Œæ°å¥½ä¸ºmax(state)å’Œmin(state)ä¹‹é—´çš„æ‰€æœ‰ä¸²ï¼Œä¸¾ä¸ªä¾‹å­:å¦‚æœmax(state)ä¸ºabcdef,minï¼ˆstate)ä¸º def,å®é™…ä¸Šï¼Œstateçš„æ‰€æœ‰ä¸²æ˜¯:def,cdef,bcdef,abcdefï¼Œè¿˜å¯ä»¥è¯æ˜,min(state)&#x3D;max(fa(state))-1ï¼Œfa(state)è¡¨ç¤ºåœ¨parentæ ‘ä¸Šstateçš„çˆ¶äº²ã€‚ æˆ‘ä»¬ä¸éš¾è¯æ˜åœ¨åŸä¸²ä¸­å¦‚æœmax(q+x)&#x3D;max(q)+1çš„æ—¶å€™ï¼Œæ— è„‘åŠ å…¥ç»“æŸæ ‡è®°æ˜¯å¯¹çš„ï¼Œè¿™ç¡®ä¿æ²¡æœ‰æ¯”max(q)æ›´å¤§çš„å…¶ä»–çŠ¶æ€èƒ½å¤Ÿè½¬ç§»åˆ°trans(root,q+x)åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç›´æ¥è®¾ç½®ä¸€ä¸‹ fa(p)&#x3D;transï¼ˆroot,q+x),å¯ä»¥è¯æ˜æ•´ä¸ªæ›´æ–°åˆ°æ­¤å°±å·²ç»ç»“æŸäº†ã€‚ ä½†æ˜¯å¦‚æœä¸ç­‰å‘¢ï¼Ÿè‚¯å®šæ˜¯ä¸å¯ä»¥é‚£æ ·åšçš„ï¼Œæˆ‘ä»¬è€ƒè™‘çŠ¶æ€åˆ°å®šä¹‰ï¼Œæˆ‘ä»¬å‘ç°æˆ‘ä»¬å¿…é¡»é‡å»ºä¸€ä¸ªæ–°çš„çŠ¶æ€ï¼Œæ¥æŠŠç›®å‰åˆ°è¿™ä¸ªtrans(rootï¼Œq+x)çŠ¶æ€åˆ†è§£ä¸ºä¸¤ä¸ªçŠ¶æ€ï¼Œä¸€ä¸ªå‚¨å­˜ä¸²ä½¿å¾—max(qâ€™+x)&#x3D;maxï¼ˆq)+x å¦ä¸€ä¸ªå‚¨å­˜å‰©ä½™çš„ï¼Œé‚£äº›ä¸œè¥¿è¦ç§»åˆ°qâ€™+xå»å‘¢ï¼Ÿæˆ‘ä»¬å‘ç°é‚£äº›qçš„ç¥–å…ˆä¸­ï¼Œèƒ½å¤Ÿè½¬ç§»åˆ°trans(rootï¼Œq+x)çš„éƒ½è¦æ”¹åˆ°qâ€™+x ï¼Œå¦‚æ­¤è¿‡åï¼Œæˆ‘ä»¬å‘ç°ç°åœ¨çš„æƒ…å†µå˜å¾—æ ¹ä¸Šä¸€æ®µä¸€æ‘¸ä¸€æ ·äº†ï¼Œ ç»ˆäºï¼Œæ•´ä¸ªåç¼€è‡ªåŠ¨æœºæ„å»ºå®Œæˆã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849#include&lt;bits/stdc++.h&gt;using namespace std;struct SAM&#123;//ä¸‹æ ‡ä»1å¼€å§‹ï¼Œ0ä½œä¸ºä¿ç•™ä½ï¼Œç”¨äºåšå“¨å…µ //å¦‚æœæ²¡æœ‰ç‰¹æ®Šè¦æ±‚ï¼Œå°½é‡é€‰æ‹©åˆé€‚çš„è‡ªåŠ¨æœºï¼Œè¦ç®—å¥½å†…å­˜ //ç»è¿‡hdu1000æµ‹è¯•ï¼Œ10000ä¸ªmapå¤§æ¦‚æ˜¯10kb,å¯¹äº1e6çš„å­—ç¬¦ä¸²ï¼Œä¸å»ºè®®ä½¿ç”¨åç¼€è‡ªåŠ¨æœº typedef map&lt;int,int&gt;::iterator IT; static const int MAXN=2e5+10; int cnt,last,par[MAXN&lt;&lt;1],len[MAXN&lt;&lt;1];// map&lt;int,int&gt;trans[MAXN&lt;&lt;1];//mapç”¨äºå­—ç¬¦é›†ç‰¹åˆ«å¤§çš„æ—¶å€™ï¼Œæ³¨æ„è¿™é‡Œå å†…å­˜å¯èƒ½ä¼šç‰¹åˆ«å¤§ int trans[MAXN&lt;&lt;1][26]; inline int newnode(int parent,int length)&#123; par[++cnt]=parent; len[cnt]=length;// trans[cnt].clear(); for(int i=0;i&lt;26;i++) trans[cnt][i]=-1; return cnt; &#125; void ini()&#123; cnt=0; last=newnode(0,0); &#125; void extend(int c)&#123; int p=last; int np=newnode(1,len[last]+1);//æ–°å»ºçŠ¶æ€ï¼Œå…ˆè®©parentæŒ‡å‘æ ¹ï¼ˆ1ï¼‰ while(p!=0&amp;&amp;trans[p][c]==-1)&#123;//å¦‚æœæ²¡æœ‰è¾¹ï¼Œä¸”ä¸ä¸ºç©ºï¼Œæ ¹ä¹Ÿæ˜¯è¦è½¬ç§»çš„ trans[p][c]=np;//ä»–ä»¬éƒ½æ²¡æœ‰å‘npè½¬ç§»çš„è¾¹ï¼Œç›´æ¥è¿è¿‡å» p=par[p];//å¾€parentèµ° &#125; if(p!=0)&#123;//å¦‚æœp==0ï¼Œç›´æ¥å°±ç»“æŸäº†ï¼Œä»€ä¹ˆéƒ½ä¸ç”¨åšï¼Œå¦åˆ™èŠ‚ç‚¹pæ˜¯ç¬¬ä¸€ä¸ªæ‹¥æœ‰è½¬ç§»cçš„çŠ¶æ€ï¼Œä»–çš„ç¥–å…ˆéƒ½æœ‰è½¬ç§»c int q=trans[p][c];//qæ˜¯pè½¬ç§»åçš„çŠ¶æ€ if(len[q]==len[p]+1)par[np]=q;//len[q]æ˜¯ä»¥å‰çš„æœ€é•¿ä¸²ï¼Œlen[p]+1æ˜¯åˆå¹¶åçš„æœ€é•¿ä¸²ï¼Œç›¸ç­‰çš„è¯ï¼Œä¸ä¼šå½±å“ï¼Œç›´æ¥ç»“æŸäº†ï¼Œ else&#123; int nq=newnode(par[q],len[p]+1);// trans[nq]=trans[q];//copyå‡ºqæ¥ï¼Œ for(int i=0;i&lt;26;i++) trans[nq][i]=trans[q][i]; par[np]=par[q]=nq;//æ”¹å˜parentæ ‘çš„å½¢æ€ while(trans[p][c]==q)&#123;//ä¸€ç›´å¾€ä¸Šé¢èµ° trans[p][c]=nq;//æ‰€æœ‰å‘qè¿è¾¹çš„çŠ¶æ€éƒ½è¿å‘nq p=par[p]; &#125; &#125; &#125; last=np;//æœ€åçš„é‚£ä¸ªèŠ‚ç‚¹ &#125;//SAMåˆ°æ­¤ç»“æŸ&#125;sam;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"å­—ç¬¦ä¸²","slug":"ACM/å­¦ä¹ ç¬”è®°/å­—ç¬¦ä¸²","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%AD%97%E7%AC%A6%E4%B8%B2/"}],"tags":[]},{"title":"Educational Codeforces Round 60 (Rated for Div. 2) - D","slug":"ACM/åˆ·é¢˜å®æˆ˜/CodeForces/Educational Codeforces Round 60 (Rated for Div. 2) - D/index","date":"2019-02-25T13:57:53.000Z","updated":"2019-02-25T13:57:53.000Z","comments":true,"path":"PNHISH.html","link":"","permalink":"http://fightinggg.github.io/indigo/PNHISH.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial é“¾æ¥http://codeforces.com/contest/1117/problem/D é¢˜æ„ä½ æœ‰ä¸¤ä¸ªæ•°å­—ï¼š1å’Œmï¼Œ ä½ éœ€è¦æ„é€ ä¸€ä¸ªå’Œä¸ºnçš„åºåˆ—ï¼Œé—®ä½ èƒ½æ„é€ å‡ºå¤šå°‘ç§åºåˆ—ã€‚ç­”æ¡ˆå¯¹$10^9+7$å–æ¨¡ã€‚ èŒƒå›´$N\\le10^{18}$ $M\\le100$ é¢˜è§£ans(n,m) = ans(n-1,m) + ans(n-m,m) ç”±äºmä¸€æ ·ï¼Œæ‰€ä»¥dp[n] = dp[n-1] + dp[n-m] çŸ©é˜µå¿«é€Ÿå¹‚123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102#include&lt;bits/stdc++.h&gt;using namespace std;//å‡½æ•°å‚æ•°è¾“å…¥ï¼Œè¿”å›å€¼è¾“å‡º//ç‰¹åˆ«æ³¨æ„lenthä¸€å®šè¦æ”¹ï¼Œä¸ç„¶æ¯æ¬¡éƒ½éå†åˆ°æœ€å¤§çš„çŸ©é˜µä¼štletypedef long long ll;ll lenth=200;ll mod=1e9+7;struct Sarray&#123; ll data[200][200]; //çœ‹ç€æ”¹ Sarray operator *(const Sarray&amp;a)&#123; Sarray tem; for(ll i=0;i&lt;lenth;i++)&#123; for(ll j=0;j&lt;lenth;j++)&#123; for(ll k=0;k&lt;lenth;k++)&#123; tem.data[i][j]=(tem.data[i][j]+data[i][k]*a.data[k][j])%mod; &#125; &#125; &#125; return tem; &#125; Sarray operator +(const Sarray&amp;a)&#123; Sarray tem; for(ll i=0;i&lt;lenth;i++)&#123; for(ll j=0;j&lt;lenth;j++)&#123; tem.data[i][j]=(data[i][j]+a.data[i][j])%mod; &#125; &#125; return tem; &#125; Sarray(const Sarray&amp;a)&#123; for(ll i=0;i&lt;lenth;i++)&#123; for(ll j=0;j&lt;lenth;j++)&#123; data[i][j]=a.data[i][j]; &#125; &#125; &#125; Sarray()&#123; memset(data,0,sizeof(data)); &#125; &#125;;Sarray E;void ini()&#123; for(ll i=0;i&lt;lenth;i++) for(ll j=0;j&lt;lenth;j++) if(i==j)E.data[i][j]=1; else E.data[i][j]=0;&#125;Sarray qpow(Sarray a,ll b)&#123; Sarray tem=E; while(b)&#123; if(b&amp;1)tem=a*tem; a=a*a; b&gt;&gt;=1; &#125; return tem;&#125;//sigma(p^i) from 0 to n [0,n]Sarray sigma(Sarray&amp;p,ll n)&#123; if(n==0)return E; if(n==1)return E+p; if(n&amp;1) return (E+qpow(p,n/2+1))*sigma(p,n&gt;&gt;1); else return (E+qpow(p,n/2+1))*sigma(p,n/2-1)+qpow(p,n&gt;&gt;1);&#125;///////////////////////////////////////int main()&#123; ini(); ll n,m; cin&gt;&gt;n&gt;&gt;m; lenth=m; Sarray p,r; p.data[0][0]=1; p.data[0][m-1]=1; for(ll i=1;i&lt;m;i++)&#123; p.data[i][i-1]=1; &#125; r.data[0][0]=2; for(ll i=1;i&lt;m;i++)&#123; r.data[i][0]=1; &#125; if(n&gt;=m)&#123; Sarray l=qpow(p,n-m)*r; cout&lt;&lt;l.data[0][0]&lt;&lt;endl; &#125; else&#123; cout&lt;&lt;1&lt;&lt;endl; &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"CodeForces","slug":"ACM/åˆ·é¢˜å®æˆ˜/CodeForces","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/CodeForces/"}],"tags":[]},{"title":"hdu5745","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu/hdu5745/index","date":"2019-01-20T05:37:59.000Z","updated":"2019-01-20T05:37:59.000Z","comments":true,"path":"PLM7NB.html","link":"","permalink":"http://fightinggg.github.io/indigo/PLM7NB.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial é“¾æ¥http://acm.hdu.edu.cn/showproblem.php?pid=5745","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"hdu","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/hdu/"}],"tags":[]},{"title":"æ ‘å½¢dp","slug":"ACM/å­¦ä¹ ç¬”è®°/DP/æ ‘å½¢dp/index","date":"2018-12-30T18:25:32.000Z","updated":"2018-12-30T18:25:32.000Z","comments":true,"path":"PKKB6K.html","link":"","permalink":"http://fightinggg.github.io/indigo/PKKB6K.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ç»™ä½ ä¸€æ£µnä¸ªèŠ‚ç‚¹çš„æ ‘ï¼Œè¦ä½ æ±‚å‡ºåŒ…å«æ¯ä¸ªç‚¹çš„è¿é€šç‚¹é›†çš„æ•°é‡ã€‚ç­”æ¡ˆå¯¹1e9+7å–æ¨¡ã€‚ ä¸¤æ¬¡dfsï¼Œç¬¬ä¸€æ¬¡å¤„ç†æ¯ä¸ªèŠ‚ç‚¹çš„å­å­™æ–¹å‘çš„è”é€šç‚¹é›†æ•°é‡ï¼Œ$$dp[i]&#x3D;\\prod _{all..son}{(dp[son]+1)}$$ ç¬¬äºŒæ¬¡å¤„ç†çˆ¶äº²æ–¹å‘çš„ç‚¹é›†æ•°é‡$$\\begin{aligned}&amp;dp2[i] \\&#x3D;&amp;(\\prod _{all..brother}{(dp1[brother]+1)})*dp2[father]+1 \\&#x3D;&amp;\\frac{dp1[father]}{dp1[i]+1}*dp2[father]+1 \\\\end{aligned}$$ ç‰¹åˆ«æ³¨æ„è¿™é‡Œå°å¿ƒæ²¡æœ‰é€†å…ƒ","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"DP","slug":"ACM/å­¦ä¹ ç¬”è®°/DP","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/DP/"}],"tags":[]},{"title":"æ’åºç®—æ³•æ¯”è¾ƒ","slug":"Others/æ’åºç®—æ³•æ¯”è¾ƒ/index","date":"2018-12-23T13:25:13.000Z","updated":"2018-12-23T13:25:13.000Z","comments":true,"path":"PK6YM1.html","link":"","permalink":"http://fightinggg.github.io/indigo/PK6YM1.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281#include&lt;iostream&gt;#include&lt;iomanip&gt;#include&lt;vector&gt;#include&lt;cstring&gt;using namespace std;//å¿«é€Ÿæ’åº//unstable//time: sita(n*lgn) omiga(n*lgn) O(n^2)//memery O(lgn)void quicksort(int *a, int *b)&#123; //[a,b) int *l = a , *r = b-1; if(l&gt;=r)return; int *mid = l; //suppose that the little some is in [l,mid-1] and bound is in mid while(r&gt;mid)&#123; if(*r&lt;*l)swap(*(++mid),*r); else r--; &#125; swap(*l,*mid); quicksort(a,mid); quicksort(mid+1,b);&#125;//æ’å…¥æ’åº//stable//time: sita(n^2) omiga(n) O(n^2)//memery: O(1)void insertionsort(int *a,int *b)&#123; for(int *i = a; i&lt;b; i++)&#123; int *j = i; while(j&gt;a&amp;&amp;*j&lt;*(j-1))&#123;//å¯èƒ½æ¯æ¬¡éƒ½ç›´æ¥è·³å‡ºå»ï¼Œç»“æœæˆäº†omiga(n) swap(*j,*(j-1)); j--; &#125; &#125;&#125;//é€‰æ‹©æ’åº//unstable//time: sita(n^2) omiga(n^2) O(n^2)//memery: O(1)void selectsort(int *a,int *b)&#123; for(int *i=a;i&lt;b;i++)&#123; int*min = i; for(int *j=i+1;j&lt;b;j++)&#123; if(*min&gt;*j)min=j; &#125; swap(*min,*i); &#125;&#125;//åŸºæ•°æ’åº??//unstable//time: omige(log(k,maxvalue)*n) O(log(k,maxvalue)*n)//memery:void radixsort(int*a,int*b)&#123; const int k =15; vector&lt;int&gt;bin[2][k+1];// æ»šåŠ¨æ•°ç»„ int t=0; for(int*i=a;i&lt;b;i++)bin[t][(*i)&amp;k].push_back(*i); t^=1; for(int times=1;times&lt;8;times++)&#123; for(int i=0;i&lt;=k;i++)bin[t][i].clear(); for(int i=0;i&lt;=k;i++)&#123; for(int x:bin[t^1][i])&#123; bin[t][(x&gt;&gt;(4*times))&amp;k].push_back(x); &#125; &#125; t^=1; &#125; for(int i=0;i&lt;k;i++)&#123; for(int x:bin[t^1][i])&#123; *(a++)=x; &#125; &#125;&#125;//è®¡æ•°æ’åº??//unstable//time: sita(maxvalue-minvalue) omiga(maxvalue-minvalue) O(maxvalue-minvalue)//memery: O(maxvalue-minvalue)void countingsort(int*a,int*b)&#123; int maxvalue = (1&lt;&lt;31); // æœ€å°çš„int int minvalue = -1^(1&lt;&lt;31);// æœ€å¤§çš„int for(int*i=a;i&lt;b;i++)&#123; maxvalue=max(maxvalue,*i); minvalue=min(minvalue,*i); &#125; int*data = new int[maxvalue-minvalue+1]; memset(data,0,sizeof(int)*(maxvalue-minvalue+1)); for(int*i=a;i&lt;b;i++)data[(*i)-minvalue]++; for(int i=minvalue;i&lt;=maxvalue;i++)&#123; while(data[i-minvalue]--)*(a++)=i; &#125; delete[] data;&#125;//æ¡¶æ’åº??//time: sita(k*O(sort(n/k)) omiga(k*O(sort(n/k)) O(k*O(sort(n/k))//memery:void bucketsort(int*a,int*b)&#123; int maxvalue = (1&lt;&lt;31); // æœ€å°çš„int int minvalue = -1^(1&lt;&lt;31);// æœ€å¤§çš„int for(int*i=a;i&lt;b;i++)&#123; maxvalue=max(maxvalue,*i); minvalue=min(minvalue,*i); &#125; if(maxvalue==minvalue)return; const int k = 10; vector&lt;int&gt;data[k]; for(int*i=a;i&lt;b;i++)&#123; int belong = ((*i)-minvalue)/((maxvalue-minvalue)/10+1); data[belong].push_back(*i); &#125; for(int i=0;i&lt;k;i++)&#123; sort(data[i].begin(),data[i].end()); for(int x:data[i])*(a++)=x; &#125;&#125;//å†’æ³¡æ’åº//stable//timeï¼š sita(n^2) omigaï¼ˆnï¼‰ O(n^2)//memery: O(1)void bubblesort(int*a,int *b)&#123; for(int i=0;i&lt;b-a;i++)&#123; bool noswap = true; for(int*j=a+1;j&lt;b-i;j++)&#123; if(*(j-1)&gt;*j)&#123; swap(*(j-1),*j); noswap = false; &#125; &#125; if(noswap)break; &#125;&#125;//å½’å¹¶æ’åº//stable//time: sita(n*lgn) omiga(n*lgn) O(n*lgn)//memery: O(n)void mergesort(int*a,int*b)&#123; int*mid = a+ (b-a)/2; // =(a+b)/2 if(a&gt;=b-1)return; mergesort(a,mid); mergesort(mid,b); int*c=new int[b-a]; int*pa=a,*pm=mid,*pc=c; while(pa&lt;mid&amp;&amp;pm&lt;b)&#123; *(pc++)=*pa&lt;=*pm?*(pa++):*(pm++); &#125; while(pa&lt;mid)*(pc++)=*(pa++); while( pm&lt;b )*(pc++)=*(pm++); memcpy(a,c,sizeof(int)*(b-a));&#125;//å¸Œå°”æ’åº//unstable//time: sita(n^1.3) omiga(??) O(n^2)//memery: O(1)void shellsort(int*a,int*b)&#123; for(int gap=(b-a)&gt;&gt;1;gap;gap&gt;&gt;=1)&#123;//æšä¸¾gap for(int*i=a+gap;i&lt;b;i++)&#123; int x=*i,*j=i; while(j-gap&gt;=a&amp;&amp;x&lt;*(j-gap))&#123; *j=*(j-gap); j-=gap; &#125; *j=x; &#125; &#125;&#125;//å †æ’åº//unstable//time: sita(n*lgn) omiga(n*lgn) O(n*lgn)//memery: O(1)void heapsort(int*a,int*b)&#123; const int n=b-a; a--; //up for(int i=1;i&lt;=n;i++)&#123;//å»ºç«‹å¤§æ ¹å † int j=i; while(j!=1&amp;&amp;a[j]&gt;a[j&gt;&gt;1])&#123;//ä¸æ˜¯æ ¹ä¸”æ¯”çˆ¶äº²å¤§ swap(a[j],a[j&gt;&gt;1]); j&gt;&gt;=1; &#125; &#125; //down for(int i=n;i&gt;=1;i--)&#123; swap(a[1],a[i]); int cur = 1; while((cur&lt;&lt;1)&lt;i)&#123;//å·¦å„¿å­å­˜åœ¨ int son = (cur&lt;&lt;1|1)&lt;i &amp;&amp; a[cur&lt;&lt;1|1]&gt;a[cur&lt;&lt;1];//è‹¥æ»¡è¶³æ­¤æ¡ä»¶åˆ™sonä¸º1ï¼Œä»£è¡¨ç€å³å„¿å­ä¼˜å…ˆ if(a[cur]&lt;a[cur&lt;&lt;1|son])swap(a[cur],a[cur&lt;&lt;1|son]); else break;//è‹¥ä¼˜å…ˆçš„å„¿å­éƒ½ä¸èƒ½æ¢ cur = cur&lt;&lt;1|son; &#125; &#125;&#125;const int n = 1e4;int ans[n];inline void compare(int *a,int *b,void sort(int*,int*),string name)&#123; int data[n]; memcpy(data,a,sizeof(int)*(b-a)); time_t begin = clock(); sort(data, data+n); time_t spend = clock()-begin; cout&lt;&lt;setw(16)&lt;&lt;std::left&lt;&lt;name&lt;&lt;&quot; time:&quot;&lt;&lt;setw(13)&lt;&lt;spend; //check it for(int i=0;i&lt;n;i++)&#123; if(ans[i]==data[i]&amp;&amp;i==n-1)cout&lt;&lt;&quot;everything is right&quot;&lt;&lt;endl; else if(ans[i]!=data[i])&#123; cout&lt;&lt;&quot;error&quot;&lt;&lt;endl; break; &#125; &#125;&#125;int main()&#123; srand(int(time(NULL))); int a[n]; for(int i=0;i&lt;n;i++)a[i]=rand()%9000000+1000000; memcpy(ans,a,sizeof(a)); sort(ans,ans+n); compare(a,a+n,sort,&quot;* STL(fastest)&quot;); compare(a,a+n,quicksort,&quot;quicksort&quot;); compare(a,a+n,insertionsort,&quot;insertionsort&quot;); compare(a,a+n,selectsort,&quot;selectsort&quot;); compare(a,a+n,radixsort,&quot;radixsort&quot;); compare(a,a+n,countingsort,&quot;countingsort&quot;); compare(a,a+n,bucketsort,&quot;bucketsort&quot;); compare(a,a+n,bubblesort,&quot;bubblesort&quot;); compare(a,a+n,mergesort,&quot;mergesort&quot;); compare(a,a+n,shellsort,&quot;shellsort&quot;); compare(a,a+n,heapsort,&quot;heapsort&quot;); puts(&quot;ok&quot;);&#125;/* è¾“å‡º: * STL(fastest) time:468 everything is right quicksort time:1265 everything is right insertionsort time:178130 everything is right selectsort time:126705 everything is right radixsort time:3128 everything is right countingsort time:50445 everything is right bucketsort time:1002 everything is right bubblesort time:355497 everything is right mergesort time:3295 everything is right shellsort time:3960 everything is right heapsort time:2347 everything is right ok */","categories":[{"name":"Others","slug":"Others","permalink":"http://fightinggg.github.io/indigo/categories/Others/"}],"tags":[]},{"title":"Manacherç®—æ³•","slug":"ACM/å­¦ä¹ ç¬”è®°/å­—ç¬¦ä¸²/Manacherç®—æ³•/index","date":"2018-12-08T10:52:21.000Z","updated":"2018-12-08T10:52:21.000Z","comments":true,"path":"PJEZJ9.html","link":"","permalink":"http://fightinggg.github.io/indigo/PJEZJ9.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 12345678910111213141516171819202122232425262728293031323334353637383940struct Manacher &#123;//é‰´äºé©¬æ‹‰è½¦ç®—æ³•è¾ƒå¤æ‚ï¼Œæ­¤å¤„æœ‰å°‘é‡ä¿®æ”¹ï¼Œ //s[i]=ma[i&lt;&lt;1] //mp[i]è¡¨ç¤ºä»¥iä¸ºä¸­å¿ƒçš„æœ€é•¿å›æ–‡ä¸²çš„åŠå¾„ï¼Œä¸”mp[i]-1æ°å¥½ä¸ºæ­¤å›æ–‡ä¸²åŒ…å«åŸå­—ç¬¦ä¸²çš„å­—ç¬¦çš„æ•°é‡ //å¯ä»¥è¯æ˜maå­—ç¬¦ä¸²æ‰€åŒ…å«çš„å›æ–‡ä¸²æ€»æ•°=åŸå­—ç¬¦ä¸²bæ‰€åŒ…å«çš„å›æ–‡ä¸²æ€»æ•°+2n+2 static const int maxn = 1e6 + 666; char ma[maxn &lt;&lt; 1]; int mp[maxn &lt;&lt; 1], begat[maxn];//begta[i]-&gt; ä»¥iå¼€å¤´çš„å›æ–‡ä¸²çš„æ•°é‡ begin at void build(char *str) &#123; int len = strlen(str + 1), l = 0; ma[l++] = &#x27;$&#x27;;//$#.#.#.#.#.#.#.# ma[l++] = &#x27;#&#x27;; for (int i = 1; i &lt;= len; i++) &#123; ma[l++] = str[i]; ma[l++] = &#x27;#&#x27;; &#125; ma[l] = mp[l] = 0; int mx = 0, id = 0; for (int i = 0; i &lt; l; i++) &#123; mp[i] = mx &gt; i ? min(mp[2 * id - i], mx - i) : 1; while (ma[i + mp[i]] == ma[i - mp[i]])mp[i]++; if (i + mp[i] &gt; mx) &#123; mx = i + mp[i]; id = i; &#125; &#125; //for(int i=2;i&lt;=l;i++)palindrome+=mp[i]&gt;&gt;1;//å›æ–‡ä¸²ä¸ªæ•° //è‹¥ä¸ç”¨daltæ•°ç»„ï¼Œæ­¤åå¯åˆ æ‰ for (int i = 1; i &lt;= len; i++)begat[i] = 0; for (int i = 2; i &lt; l; i++) &#123; int s = i - mp[i] + 1;//maä¸²æœ€é•¿å›æ–‡å·¦ç«¯ç‚¹s s = (s + 1) / 2;//å˜ä¸ºsträ¸²æœ€é•¿å›æ–‡å·¦ç«¯ç‚¹ï¼Œå‘ä¸Šå–æ•´,å› ä¸ºstr[i]å¯¹åº”smp[i&lt;&lt;1] int t = s + mp[i] / 2 - 1;//å³ç«¯ç‚¹ begat[s]++; begat[t + 1]--; &#125; for (int i = 1; i &lt;= len + 1; i++)begat[i] += begat[i - 1];//+1æ˜¯ä¸ºäº†è¿˜åŸ &#125;&#125;;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"å­—ç¬¦ä¸²","slug":"ACM/å­¦ä¹ ç¬”è®°/å­—ç¬¦ä¸²","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%AD%97%E7%AC%A6%E4%B8%B2/"}],"tags":[]},{"title":"ACè‡ªåŠ¨æœº","slug":"ACM/å­¦ä¹ ç¬”è®°/å­—ç¬¦ä¸²/ACè‡ªåŠ¨æœº/index","date":"2018-11-06T07:14:26.000Z","updated":"2018-11-06T07:14:26.000Z","comments":true,"path":"PHRG42.html","link":"","permalink":"http://fightinggg.github.io/indigo/PHRG42.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ACè‡ªåŠ¨æœºæ‰€è°“ACè‡ªåŠ¨æœºï¼Œå…¶å®æ˜¯kmpç®—æ³•ä¸å­—å…¸æ ‘çš„ç»“åˆ,ä¸æ‡‚è¿™ä¸¤ä¸ªï¼Œæ˜¯æ— æ³•å­¦ä¼šçš„ã€‚ è‡ªåŠ¨æœºè‡ªåŠ¨æœºï¼Œæ˜¯ä¸€ä¸ªäº”å…ƒç»„ï¼ŒåŒ…æ‹¬äº†çŠ¶æ€çš„éç©ºæœ‰ç©·é›†åˆï¼Œç¬¦å·çš„æœ‰é™é›†åˆï¼ŒçŠ¶æ€è½¬ç§»å‡½ æ•°ï¼Œ å¼€å§‹çŠ¶æ€ï¼Œç»ˆæ­¢çŠ¶æ€é›†åˆï¼Œè€Œåœ¨å­—å…¸æ ‘ä¸Šï¼Œå¢åŠ äº†ä¸¤ä¸ªæ–°çš„ä¸œè¥¿ï¼Œä¸€ä¸ªæ ‡è®°äº†ç»ˆæ­¢çŠ¶æ€é›†åˆï¼Œå¦ä¸€ä¸ªè¾…åŠ©äº†çŠ¶æ€è½¬ç§»å‡½æ•°ã€‚ æˆ‘ä»¬åˆ©ç”¨å­—å…¸æ ‘ä¸Š çš„èŠ‚ç‚¹æ¥è¡¨ç¤ºçŠ¶æ€ï¼Œè€Œè¾¹åˆ™ç”¨æ¥è¡¨ç¤ºçŠ¶æ€è½¬ç§»å‡½æ•°çš„ä¸€éƒ¨åˆ†ã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ACè‡ªåŠ¨æœºæ‰€è°“ACè‡ªåŠ¨æœºï¼Œå…¶å®æ˜¯kmpç®—æ³•ä¸å­—å…¸æ ‘çš„ç»“åˆ,ä¸æ‡‚è¿™ä¸¤ä¸ªï¼Œæ˜¯æ— æ³•å­¦ä¼šçš„ã€‚ è‡ªåŠ¨æœºè‡ªåŠ¨æœºï¼Œæ˜¯ä¸€ä¸ªäº”å…ƒç»„ï¼ŒåŒ…æ‹¬äº†çŠ¶æ€çš„éç©ºæœ‰ç©·é›†åˆï¼Œç¬¦å·çš„æœ‰é™é›†åˆï¼ŒçŠ¶æ€è½¬ç§»å‡½ æ•°ï¼Œ å¼€å§‹çŠ¶æ€ï¼Œç»ˆæ­¢çŠ¶æ€é›†åˆï¼Œè€Œåœ¨å­—å…¸æ ‘ä¸Šï¼Œå¢åŠ äº†ä¸¤ä¸ªæ–°çš„ä¸œè¥¿ï¼Œä¸€ä¸ªæ ‡è®°äº†ç»ˆæ­¢çŠ¶æ€é›†åˆï¼Œå¦ä¸€ä¸ªè¾…åŠ©äº†çŠ¶æ€è½¬ç§»å‡½æ•°ã€‚ æˆ‘ä»¬åˆ©ç”¨å­—å…¸æ ‘ä¸Š çš„èŠ‚ç‚¹æ¥è¡¨ç¤ºçŠ¶æ€ï¼Œè€Œè¾¹åˆ™ç”¨æ¥è¡¨ç¤ºçŠ¶æ€è½¬ç§»å‡½æ•°çš„ä¸€éƒ¨åˆ†ã€‚ åŒ¹é…å½“ACè‡ªåŠ¨æœºå»ºç«‹å¥½äº†ä»¥åï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨ACè‡ªåŠ¨æœºä¸Šè¿›è¡ŒåŒ¹é…äº†ï¼Œæˆ‘ä»¬åœ¨è‡ªåŠ¨æœºä¸Šä¸€ ä¸ªä¸€ä¸ª èŠ‚ç‚¹å¿˜ä¸‹è·‘ï¼Œä¸€ç›´åˆ°å¤±é…ï¼Œå³åˆ°è¾¾ACè‡ªåŠ¨æœºä¸ŠæŸä¸ªèŠ‚ç‚¹åï¼Œæ­¤èŠ‚ç‚¹æ‰€ä»£è¡¨çš„å­—ç¬¦ä¸²ï¼Œä¸æ¯ä¸²çš„å½“å‰å‰ç¼€å­ä¸²ç›¸å·®åˆšå¥½åªä¸ºæœ€åä¸€ä¸ªå­—æ¯ï¼Œè¿™ æ—¶å€™ï¼Œæˆ‘ä»¬è·³è·ƒåˆ°failæŒ‡é’ˆå³å¯è¿›è¡Œåé¢çš„ç»§ç»­åŒ¹é…ã€‚ fileæŒ‡é’ˆfailæŒ‡é’ˆå½“ç„¶è·³å¾—è¶Šæ·±è¶Šå¥½ï¼Œè¿™æ—¶å€™failæ‰€ä»£è¡¨çš„æ„ä¹‰åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå¾ˆæ˜æ˜¾ï¼Œæ­¤æ—¶ è¦æ±‚ä¸æ¯ä¸²æœ‰ å°½å¯èƒ½é•¿å¾—å…¬å…±å‰ç¼€ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸å¤±é…å‘ç”Ÿçš„æ—¶å€™ACè‡ªåŠ¨æœºæ‰€åœ¨èŠ‚ç‚¹ï¼ˆæ‰€è¡¨ç¤ºçš„çŠ¶æ€ï¼‰è¡¨ç¤ºçš„å­—ç¬¦ä¸²çš„å°½å¯èƒ½é•¿çš„åç¼€ç›¸åŒçš„æ–°èŠ‚ç‚¹ ï¼Œ è¿™é‡Œæˆ‘ä»¬æ˜æ˜¾å¯ä»¥é‡‡å–æ ‘å½¢dpæ¥å¾—åˆ°ã€‚ å†…å­˜å¼€é”€æˆ‘ä»¬ç”¨fail[u]è¡¨ç¤ºèŠ‚ç‚¹uçš„å¤±é…æŒ‡é’ˆï¼Œç”¨nex[u][i]è¡¨ç¤ºèŠ‚ç‚¹uçš„æŒ‡å‘ å­—ç¬¦içš„èŠ‚ç‚¹ï¼Œ äºæ˜¯æˆ‘ä»¬å‘ç° äº†è½¬ç§»å¼å­ï¼š fail[nex[u][i]]= nex[fail[u]][i];å¦‚æœfail[u]æœ‰å„¿å­içš„è¯ï¼Œä½†å¦‚æœæ²¡æœ‰å‘¢ï¼Ÿæˆ‘ä»¬åˆè¦ä¸æ–­å¾€ä¸Šé¢è·³è·ƒå¯¹å§ã€‚ å¤æ‚åº¦ä¸æ˜¯ç‰¹åˆ«é«˜ï¼Œèƒ½å¿å—ï¼Œå½“ç„¶è¿™æ˜¯åœ¨uæœ‰èŠ‚ç‚¹içš„æƒ…å†µä¸‹ã€‚å¦‚æœæ²¡æœ‰èŠ‚ç‚¹å‘¢ï¼Ÿsorryï¼Œè¿™ä¸ªé—®é¢˜æœ‰ç‚¹å¤æ‚ï¼Œä¸€èˆ¬çš„ACè‡ªåŠ¨æœºä¸å…³å¿ƒè¿™ç§äº‹æƒ…ã€‚å› ä¸ºé‚£ ä¼šå¢åŠ å¾ˆå¤šé¢å¤–çš„å¼€é”€ï¼Œæˆ‘ä»¬ä¸æ„¿æ„å»ç»™ä»–ä»¬å»ºç«‹æ–°èŠ‚ç‚¹æ¥å‚¨å­˜failæŒ‡é’ˆçš„ã€‚ å­—å…¸å›¾æœ‰ä¸€ç§ACè‡ªåŠ¨æœºï¼Œä»–ç´¢æ€§æŠŠå­—å…¸æ ‘å»ºæˆäº†å­—å…¸å›¾ï¼Œå¦‚æœnexæŒ‡é’ˆæŒ‡å‘ç©ºèŠ‚ç‚¹ï¼Œä»– ä¸€å®šä¼šå¯¼è‡´å¤±é…ï¼Œä»–çš„nexæŒ‡é’ˆå°±ç›´æ¥æŒ‡å‘äº†åº”è¯¥æ˜¯failæŒ‡é’ˆçš„åœ°æ–¹ï¼Œå¾ˆæ¼‚äº®çš„åšæ³•ï¼Œä½†æ˜¯æˆ‘ä»¬å¤±å»äº†å¾ˆå¤šï¼Œæ¯”æ–¹è¯´ï¼Œæ ‘æ²¡æœ‰äº†ï¼ŒACè‡ªåŠ¨æœºä¸èƒ½å†åŠ å…¥æ–° çš„æ¨¡å¼ä¸²äº†ã€‚è¿™è®©æˆ‘ä»¬å¾ˆéš¾å—ï¼ŒæŠ‰æ‹©äº§ç”Ÿäº†ï¼Œè¦ä¹ˆé€‰æ‹©å­—å…¸æ ‘+å¥½å‡ å€çš„æ–°ç©ºé—´å¼€é”€ï¼Œè¦ä¹ˆé€‰æ‹©å­—å…¸å›¾ã€‚ æ›´å¥½çš„è§£å†³æ–¹æ¡ˆç¬”è€…å¯¹æ­¤æ€è€ƒäº†å¾ˆä¹…ï¼Œå¾ˆä¹…ï¼Œè€ƒè™‘åˆ°æˆ‘ä»¬è¦ä¹ˆç”¨-1è¦ä¹ˆç”¨0æ¥è¡¨ç¤ºnexæŒ‡é’ˆæŒ‡å‘çš„ æ˜¯ç©ºèŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè´Ÿæ•°æ²¡æœ‰è¢«ä½¿ç”¨åˆ°ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åšï¼Œå¦‚æœä¸€æ¡è¾¹åœ¨å­—å…¸æ ‘ä¸Šï¼Œæˆ‘ä»¬æ­£å¸¸å‚¨å­˜ï¼Œå¦‚æœä»–ä¸åœ¨å­—å…¸æ ‘ï¼Œè€Œæ˜¯åœ¨å­—å…¸å›¾ä¸Šï¼Œé‚£æˆ‘ä»¬å­˜å‚¨ ä»–æ‰€æŒ‡å‘çš„èŠ‚ç‚¹çš„ç›¸åæ•°ï¼Œä¸€è€…è¡¨ç¤ºæ­¤æŒ‡é’ˆæŒ‡å‘ç©ºèŠ‚ç‚¹ï¼Œå†è€…è¡¨ç¤ºæ­¤æŒ‡é’ˆæŒ‡å‘çš„èŠ‚ç‚¹çš„failæŒ‡é’ˆï¼Œè¿™æ ·çš„åšæ³•é›†åˆäº†ä¸Šè¯‰ä¸¤ç§åšæ³•çš„ä¼˜ç‚¹äºä¸€èº«ã€‚ä¸‹é¢æ˜¯æˆ‘çš„ä»£ç ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475struct Aho_Corasick_automation&#123; static const int maxn=1e6+5; int trans[maxn][26],fail[maxn],end[maxn]; int root,cnt; inline int new_node()&#123; //failæŒ‡é’ˆä¸éœ€è¦åˆå§‹åŒ–,å› ä¸ºåœ¨bfsçš„æ—¶å€™ä»–è¢«æ›´æ–° for(int i=0;i&lt;26;i++)trans[cnt][i]=0; end[cnt]=0; return cnt++; &#125; void ini()&#123; cnt=0; root=new_node(); &#125; void extend(char*buf)&#123; int len=(int)strlen(buf+1); int u=root; for(int i=1;i&lt;=len;i++)&#123; if(trans[u][buf[i]-&#x27;a&#x27;]==0) trans[u][buf[i]-&#x27;a&#x27;]=new_node(); u=trans[u][buf[i]-&#x27;a&#x27;]; &#125; end[u]++; &#125; void get_fail()&#123; queue&lt;int&gt;q; q.push(root); while(!q.empty())&#123; int u=q.front();q.pop(); for(int i=0;i&lt;26;i++)&#123; if(trans[u][i]==0)&#123; trans[u][i]=-abs(trans[fail[u]][i]);//é‡‡ç”¨è´Ÿæ•°æ¥è¡¨ç¤ºéæ ‘è¾¹ã€‚ã€‚ &#125; else&#123; q.push(trans[u][i]); fail[trans[u][i]]=abs(trans[fail[u]][i]); if(u==root)fail[trans[u][i]]=root; &#125; &#125; &#125; &#125; int query(char*buf)&#123;//ç»Ÿè®¡æ¯ä¸²é‡Œé¢å‡ºç°äº†å‡ ç§å­ä¸² int len=(int)strlen(buf+1); int u=root ,ret=0; for(int i=1;i&lt;=len;i++)&#123; u=abs(trans[u][buf[i]-&#x27;a&#x27;]); for(int p=u;p!=root;p=fail[p])&#123; if(end[p]==-1)break; ret+=end[p]; end[p]=-1;//ä¸ºä»€ä¹ˆè¦æ-1å‘¢ï¼Ÿå¯ä»¥ç”¨æ¥å‰ªæï¼Œé¢„é˜²è¿™æ ·çš„ç‰¹æ®Šæ•°æ®-&gt; aaaaaaaaaaa...... &#125; &#125; return ret; &#125; void debug()&#123; for(int i=0;i&lt;35;i++)printf(&quot; &quot;); for(int j=0;j&lt;26;j++)&#123; printf(&quot;%2c&quot;,j+&#x27;a&#x27;); &#125; puts(&quot;&quot;); for(int i=0;i&lt;cnt;i++)&#123; printf(&quot;id=%3d | fail=%3d | end=%3d | chi=[&quot;,i,fail[i],end[i]); for(int j=0;j&lt;26;j++)&#123; printf(&quot;%2d&quot;,trans[i][j]); &#125; printf(&quot;]\\n&quot;); &#125; &#125;&#125;;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"å­—ç¬¦ä¸²","slug":"ACM/å­¦ä¹ ç¬”è®°/å­—ç¬¦ä¸²","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%AD%97%E7%AC%A6%E4%B8%B2/"}],"tags":[]},{"title":"å›æ–‡è‡ªåŠ¨æœº","slug":"ACM/å­¦ä¹ ç¬”è®°/å­—ç¬¦ä¸²/å›æ–‡è‡ªåŠ¨æœº/index","date":"2018-11-03T15:27:37.000Z","updated":"2018-11-03T15:27:37.000Z","comments":true,"path":"PHMIY1.html","link":"","permalink":"http://fightinggg.github.io/indigo/PHMIY1.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å›æ–‡è‡ªåŠ¨æœºï¼Œå°±åƒACè‡ªåŠ¨æœºä¸€æ ·ï¼Œä»–é‡‡å–å­—å…¸æ ‘æ¥å‚¨å­˜çŠ¶æ€é›†åˆï¼Œä¹ŸåƒACè‡ªåŠ¨æœºæ˜¯KMP ç®—æ³•ä¸å­—å…¸æ ‘ç»“åˆä¸€æ ·ï¼Œå›æ–‡è‡ªåŠ¨æœºå°±æ˜¯manacherç®—æ³•å’Œå­—å…¸æ ‘ç»“åˆçš„æ–°ç®—æ³•ã€‚ åœ¨å›æ–‡è‡ªåŠ¨æœºé‡Œé¢ï¼ŒçŠ¶æ€æŒ‡çš„æ˜¯ï¼Œä»¥å­—å…¸æ ‘ä¸Šæ‰€è¡¨ç¤ºçš„å­—ç¬¦ä¸²çš„é€†åºä¸²çš„ä»¥æœ«ç«¯å­—ç¬¦é•œåƒå¯¹ç§°åå¾—åˆ°çš„æ–°ä¸²,ç®€å•è¯´ï¼Œbaabåœ¨å­—å…¸æ ‘ä¸Šä¸ºroot-&gt;a&gt;b,cacaacacåœ¨å­—å…¸æ ‘ä¸Šä¸ºroot-&gt;a-&gt;c-&gt;a-&gt;c,æƒ³åƒæ ¹å°±æ˜¯å¯¹ç§°ä¸­å¿ƒï¼Œå¾€å„¿å­èµ°å°±æ„å‘³ç€ï¼Œåœ¨å¯¹ç§°ä¸­å¿ƒä¸¤ç«¯åŠ ä¸ŠåŒæ ·çš„æ•°å­—ã€‚å½“ç„¶è¿™æ ·å­æ˜¯æ— æ³•è¡¨ç¤ºå¥‡æ•°å›æ–‡çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è®¾ç«‹ä¸¤ä¸ªæ ¹å°±å¯ä»¥äº†ã€‚ä¸€ä¸ªä¸²çš„å›æ–‡è‡ªåŠ¨æœºï¼Œå‚¨å­˜äº†è¿™ä¸ªä¸²çš„æ‰€æœ‰å›æ–‡å­ä¸²ã€‚ å›æ–‡è‡ªåŠ¨æœºçš„çŠ¶æ€è½¬ç§»çš„ä¾æ®æ˜¯å›æ–‡ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œå¦‚ä¸‹å›¾ï¼Œå¦‚æœé»‘è‰²ä¸²ä»£è¡¨ä»¥é»„è‰²å­—ç¬¦ä¸ºç»“å°¾ çš„æœ€é•¿çš„å›æ–‡ä¸²ï¼Œçº¢è‰²ä¸²ä»£è¡¨é»‘è‰²ä¸²çš„æœ€é•¿çœŸåç¼€å›æ–‡ä¸²ï¼Œï¼ˆå®šä¹‰ï¼šè‹¥å›æ–‡ä¸²aä¸ºæŸä¸²bçš„çœŸåç¼€ï¼Œåˆ™aä¸ºbçš„çœŸåç¼€å›æ–‡ä¸²ï¼Œå®šä¹‰ï¼šè‹¥åç¼€aä¸ºæŸä¸²bçš„åç¼€ä¸” aï¼&#x3D;bï¼Œåˆ™aä¸ºbçš„çœŸåç¼€ï¼‰å½“æˆ‘ä»¬åœ¨é»‘ä¸²åé¢åŠ ä¸Šä¸€ä¸ªç»¿å­—ç¬¦å½¢æˆæ–°ä¸²çš„æ—¶å€™ï¼Œï¼ˆå§‘ä¸”å«ä»–é»‘ç»¿ä¸²ï¼‰å›æ–‡è‡ªåŠ¨æœºä¸­çš„èŠ‚ç‚¹ä¼šå‘ç”Ÿä»€ä¹ˆæ ·çš„å˜åŒ–å‘¢ï¼Ÿæ˜¾ç„¶å¢åŠ äº† æŸäº›æ–°çš„å›æ–‡ä¸²ï¼Œä½†æ˜¯æˆ‘ä»¬è€ƒè™‘è¿™æ ·ä¸€ä¸ªäº‹å®ï¼Œå¦‚æœæˆ‘ä»¬æŠŠé»‘ç»¿ä¸²çš„æœ€é•¿åç¼€å›æ–‡ä¸²åŠ å…¥åˆ°è‡ªåŠ¨æœºä¸­ä»¥åï¼Œæˆ‘ä»¬å°±æŠŠé»‘ç»¿ä¸²æ–°å¢çš„æ‰€æœ‰å›æ–‡ä¸²éƒ½å¯ä»¥è¢«å›æ–‡è‡ªåŠ¨æœºæ‰€è¡¨ç¤ºï¼Œè¯æ˜ç±»ä¼¼äºmanacherç®—æ³•ï¼Œè¯·è‡ªè¡Œè¯æ˜ã€‚ ä¸‹é¢æ¥è®¨è®ºå¦‚ä½•æŠŠå®ƒåŠ è¿›å»ã€‚æˆ‘ä»¬å‡è®¾ç²‰è‰²å­—ç¬¦åˆšå¥½æ˜¯æ˜¯çº¢è‰²ä¸²å‰çš„ä¸€ä¸ªå­—ç¬¦ï¼Œå¦‚æœç²‰è‰²å­—ç¬¦å’Œç»¿è‰² å­—ç¬¦ä¸ºåŒä¸€ä¸ªå­—ç¬¦çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥è‚¯å®šï¼Œé»‘ç»¿ä¸²çš„æœ€é•¿çœŸåç¼€å›æ–‡ä¸²å°±æ˜¯ç²‰è‰²å­—ç¬¦+çº¢ä¸²+ç»¿è‰²å­—ç¬¦ã€‚æ­¤åˆ»æˆ‘ä»¬åªéœ€è¦æ–°å¢ä¸€ä¸ªèŠ‚ç‚¹äº†ã€‚å¦‚æœä»–ä»¬ä¸ç›¸ç­‰çš„è¯ï¼Œé‡å¤ æˆ‘ä»¬å¯¹é»‘ä¸²çš„ç®—æ³•ä¸çº¢ä¸²ä¹‹ä¸Šå³å¯è§£å†³ã€‚ ç„¶åæˆ‘ä»¬æ¥è€ƒè™‘æ–°å¢èŠ‚ç‚¹çš„æ‰€è¡¨ç¤ºçš„å›æ–‡åç¼€çš„æœ€é•¿çœŸåç¼€å›æ–‡ä¸²ï¼Œæˆ‘ä»¬é‡å¤ä½¿ç”¨ä¸Šä¸€æ®µçš„ç®—æ³•ï¼Œå³å¯æ‰¾åˆ°ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556struct palindrome_tree&#123; static const int maxn=1.2e5+5; int trans[maxn][26],len[maxn],suf[maxn],num[maxn]; //lenä»£è¡¨å›æ–‡é•¿åº¦,sufæŒ‡å‘å›æ–‡åç¼€,ç±»ä¼¼äºfailæŒ‡é’ˆï¼Œnumæ˜¯æœ€é•¿åç¼€çš„æ•°é‡ï¼Œç»è¿‡calcä¹‹åæ˜¯åç¼€æ•°é‡ int last,cnt;//lastæ˜¯ä¸Šä¸€ä¸ªå›æ–‡åç¼€ï¼Œcntæ˜¯æ‰€æœ‰èŠ‚ç‚¹æ•° int new_node(int _len,int _suf,int _num)&#123;//é•¿åº¦ï¼Œåç¼€ï¼Œæ•°é‡ for(int i=0;i&lt;26;i++)trans[cnt][i]=0; len[cnt]=_len; suf[cnt]=_suf; num[cnt]=_num; return cnt++; &#125; void ini()&#123; cnt=0; int root_even=new_node(0,1,0);//=1 int root_odd=new_node(-1,1,0);//=0 last=root_odd; &#125; int query_longest_palindrom()&#123; int ret=1; for(int i=0;i&lt;cnt;i++)&#123; ret=max(ret,len[i]); &#125; return ret; &#125; void build(char*s)&#123;//sæ˜¯è¦å»ºç«‹å›æ–‡è‡ªåŠ¨æœºçš„å­—ç¬¦ä¸²,ä¸‹æ ‡ä»1å¼€å§‹ int len=(int)strlen(s+1); for(int i=1;i&lt;=len;i++)extend(s,i); calc(); &#125; void extend(char*s,int cur)&#123; int w=s[cur]-&#x27;a&#x27;;//å½“å‰ç»“ç‚¹çš„å€¼ int p=last;//ä¸Šä¸€æ¬¡åŒ¹é…åˆ°çš„å›æ–‡åç¼€ while( cur-len[p]-1&lt;1 || s[cur-len[p]-1] != s[cur]) p=suf[p]; // BUG æ•°ç»„è¶Šç•Œ //ç°åœ¨pç»“ç‚¹çš„curå„¿å­,è¦ä¹ˆæ˜¯åŒ¹é…æˆåŠŸçš„æœ€é•¿éè‡ªèº«å›æ–‡åç¼€,è¦ä¹ˆæ˜¯è‡ªèº«è¿™ä¸€ä¸ªå­—ç¬¦ if(!trans[p][w])&#123;//å¦‚æœæ­¤å›æ–‡åç¼€æœªå‡ºç°è¿‡ï¼Œè¦åˆ›å»ºèŠ‚ç‚¹ int v=suf[p];//æˆ‘ä»¬æ¥æ‰¾ä»–çš„suffix linkå›è¾¹ï¼Œ while( s[cur-len[v]-1] != s[cur] )v=suf[v]; //æ­¤æ—¶æ„å‘³ç€æ‰¾åˆ°äº†suffix link æ˜¯vçš„å„¿å­ trans[p][w]=new_node(len[p]+2,trans[v][w],0); &#125; last=trans[p][w];//è¿™ä¸€æ¬¡åŒ¹é…åˆ°çš„å›æ–‡åç¼€ num[last]++; &#125; void calc()&#123; for( int i=cnt-1;~i;i-- )num[suf[i]] += num[i];//ç»“ç‚¹åˆ›å»ºé¡ºåºä¿è¯äº†suf[i]&lt;i &#125;&#125;;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"å­—ç¬¦ä¸²","slug":"ACM/å­¦ä¹ ç¬”è®°/å­—ç¬¦ä¸²","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%AD%97%E7%AC%A6%E4%B8%B2/"}],"tags":[]},{"title":"é”™ä½æ¯”è¾ƒ","slug":"ACM/å­¦ä¹ ç¬”è®°/å­—ç¬¦ä¸²/é”™ä½æ¯”è¾ƒ/index","date":"2018-10-29T06:59:59.000Z","updated":"2018-10-29T06:59:59.000Z","comments":true,"path":"PHCM3Z.html","link":"","permalink":"http://fightinggg.github.io/indigo/PHCM3Z.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial codeforces 1043B æœ¬è´¨ä¸Šè®©ä½ æ±‚ä¸€ä¸ªå­—ç¬¦ä¸²å¯èƒ½çš„å¾ªç¯èŠ‚ï¼Œé¢˜ç›®çš„ç¬¬äºŒä¸ªæ ·ä¾‹å¯ä»¥çœ‹ä½œæ±‚åºåˆ— 1ï¼Œ2ï¼Œ2ï¼Œ1ï¼Œ2ï¼Œçš„å¾ªç¯èŠ‚æ˜¾ç„¶å¯ä»¥æ˜¯3æˆ–5ï¼Œ äºæ˜¯ç®—æ³•å‡ºæ¥äº†ï¼Œæˆ‘ä»¬åªè¦æ±‚å‡ºæœ€å°çš„å¾ªç¯èŠ‚å°±å¯ä»¥äº†ï¼Œæœ€å°çš„å¾ªç¯èŠ‚æ€ä¹ˆæ¥æ±‚å‘¢ï¼Œæˆ‘ä»¬hashé¢„å¤„ç†åŸå­—ç¬¦ä¸²ä»¥ä¾¿åé¢O1æŸ¥è¯¢åŒºé—´hashå€¼ï¼Œå¯¹äºå­—ç¬¦ä¸²så¦‚ä¸‹å›¾ï¼Œæˆ‘ä»¬å¯¹åŸå­—ç¬¦ä¸²å¤åˆ¶ä¸€ä»½ï¼Œé”™ä½æ¯”è¾ƒçº¢è‰²ç«–çº¿ä¹‹é—´çš„å­ä¸²ï¼Œå¦‚æœç›¸ç­‰ï¼Œæ„å‘³ç€ä»€ä¹ˆè¯»è€…å¯ä»¥è‡ªè¡Œæ€è€ƒï¼Œäºæ˜¯æˆ‘ä»¬å·²ç»æ‰¾åˆ°äº†Onçš„åšæ³•äº†ï¼Œæˆ‘ä»¬åªè¦ä»å°åˆ°å¤§æšä¸¾ è“è‰²åŒºåŸŸå³å¯","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"å­—ç¬¦ä¸²","slug":"ACM/å­¦ä¹ ç¬”è®°/å­—ç¬¦ä¸²","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%AD%97%E7%AC%A6%E4%B8%B2/"}],"tags":[]},{"title":"åç¼€æ•°ç»„","slug":"ACM/å­¦ä¹ ç¬”è®°/å­—ç¬¦ä¸²/åç¼€æ•°ç»„/index","date":"2018-10-29T06:10:22.000Z","updated":"2018-10-29T06:10:22.000Z","comments":true,"path":"PHCJTA.html","link":"","permalink":"http://fightinggg.github.io/indigo/PHCJTA.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å®šä¹‰ï¼š å…ˆå®šä¹‰ä¸€ä¸ªå­—ç¬¦ä¸²sï¼Œå‡è®¾å®ƒçš„é•¿åº¦ä¸ºnï¼Œs[i]è¡¨ç¤ºç¬¬iä¸ªå…ƒç´  ï¼Œs[iâ€¦]ä»£è¡¨ä»¥s[i]å¼€å¤´ä¸”åŒ…å«s[i]çš„åç¼€ã€‚æˆ‘ä»¬å®šä¹‰æ–°çš„æ•°ç»„ sa[i]ä¸ºä¸€ä¸ª0-nçš„æ’åˆ—ï¼Œä¸”sa[i]ä¸ºåç¼€s[iâ€¦]åœ¨æ‰€æœ‰åç¼€ä¸­æŒ‰ ç…§ä»å°åˆ°å¤§æ’åºçš„æ’åã€‚æœ€åå®šä¹‰rankæ˜¯saçš„åå‡½æ•°ã€‚ saæ•°ç»„ä¹Ÿç§°ä¸ºåç¼€æ•°ç»„ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465//å®šä¹‰ä»¥s[i]å¼€å¤´çš„åç¼€æ˜¯suf(i)//åç¼€æ•°ç»„æ€§è´¨ï¼šsuf(sa[i])&lt;suf(sa[i+1])//æ¨¡ç‰ˆä»ä¸‹æ ‡ä¸º1çš„åœ°æ–¹å¼€å§‹ï¼Œå¼•å…¥çš„å­—ç¬¦ä¸²ä¸‹æ ‡ä¹Ÿè¦ä»ä¸‹æ ‡ä¸º1å¼€å§‹struct SA&#123; static const int MAXN=2e5+555; static int lg[MAXN]; int h[MAXN][20],rank[MAXN],sa[MAXN],n; void init(char*s,int len)&#123;//ç¬¬ä¸€ä¸ªå‚æ•°è¦æ˜¯ä»ä¸‹æ ‡ä¸º1å¼€å§‹çš„å­—ç¬¦ä¸²ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯è¦ä»ä¸‹æ ‡ä¸º static int x[MAXN],y[MAXN],c[MAXN];//å…¨éƒ¨æ˜¯è¾…åŠ©æ•°ç»„ n=len;//åˆå§‹åŒ–åç¼€æ•°ç»„å†…éƒ¨çš„n-&gt;såç¼€æ•°ç»„é•¿åº¦ int m=1000;//æ¡¶çš„å¤§å° for(int i=1;i&lt;=n;i++)sa[i]=y[i]=0;//åˆå§‹åŒ–sa,y for(int i=1;i&lt;=n;i++)x[i]=s[i];//æŠŠså¤åˆ¶åˆ°x for(int i=1;i&lt;=m;i++)c[i]=0;//åˆå§‹åŒ–c for(int i=1;i&lt;=n;i++)c[x[i]]++;//å¯¹xè®¡æ•° for(int i=1;i&lt;=m;i++)c[i]+=c[i-1];//è®¡æ•°å‰ç¼€å’Œ for(int i=n;i&gt;=1;i--)sa[c[x[i]]--]=i;//æŒ‰ç…§è®¡æ•°æ’åºåçš„ç»“æœ for(int k=1;k&lt;=n;k&lt;&lt;=1)&#123; int num=0; for(int i=n-k+1;i&lt;=n;i++)y[++num]=i; for(int i=1;i&lt;=n;i++)if(sa[i]&gt;k)y[++num]=sa[i]-k; for(int i=1;i&lt;=m;i++)c[i]=0;//åˆå§‹åŒ–c for(int i=1;i&lt;=n;i++)c[x[i]]++;//å¯¹xè®¡æ•° for(int i=1;i&lt;=m;i++)c[i]+=c[i-1];//è®¡æ•°å‰ç¼€å’Œ for(int i=n;i&gt;=1;i--)sa[c[x[y[i]]]--]=y[i]; for(int i=1;i&lt;=n;i++)y[i]=x[i]; for(int i=1;i&lt;=n;i++)x[i]=0; num=1; x[sa[1]]=1; for(int i=2;i&lt;=n;i++)&#123; if((y[sa[i]]!=y[sa[i-1]])||(y[sa[i]+k]!=y[sa[i-1]+k]))&#123; x[sa[i]]=++num; &#125; else x[sa[i]]=num; &#125; if(num&gt;=n)break; m=num; &#125; for(int i=1;i&lt;=n;i++)rank[i]=x[i]; //è·å–é«˜åº¦æ•°ç»„ int k=0; for(int i=1;i&lt;=n;i++)&#123; if(k)k--; int j=sa[rank[i]-1]; while((i+k&lt;=n)&amp;&amp;(j+k&lt;=n)&amp;&amp;(s[i+k]==s[j+k]))k++; h[rank[i]][0]=k; &#125; //å¯¹é«˜åº¦æ•°ç»„åšrmq for(int j=1;j&lt;20;j++)&#123; int d=1&lt;&lt;j; for(int i=1;i+2*d-1&lt;=n;i++)h[i][j]=min(h[i][j-1],h[i+d][j-1]); &#125; if(lg[1]!=0)for(int i=1;i&lt;MAXN;i++)lg[i]=trunc(log(i+0.5)/log(2)); &#125; int lcp(int x,int y)&#123;//æ³¨æ„æ²¡æœ‰ä¸‹æ ‡æ£€æŸ¥ï¼Œå¦‚æœè®¿é—®è¶Šç•Œçš„è¯ï¼Œä¼šé”™ã€‚ int L=min(rank[x],rank[y])+1; int R=max(rank[x],rank[y]); int k=lg[R-L+1]; return min(h[L][k],h[R-(1&lt;&lt;k)+1][k]); &#125;&#125;sa;int SA::lg[SA::MAXN];","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"å­—ç¬¦ä¸²","slug":"ACM/å­¦ä¹ ç¬”è®°/å­—ç¬¦ä¸²","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%AD%97%E7%AC%A6%E4%B8%B2/"}],"tags":[]},{"title":"FFT","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦/FFT/index","date":"2018-10-26T15:51:44.000Z","updated":"2018-10-26T15:51:44.000Z","comments":true,"path":"PH7QQ8.html","link":"","permalink":"http://fightinggg.github.io/indigo/PH7QQ8.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial é¢˜ç›®12018å®å¤ç½‘ç»œèµ›Hé¢˜ ç»™ä½ ç±»ä¼¼å‰ªåˆ€çŸ³å¤´å¸ƒæ¸¸æˆçš„äº”ç§æ‰‹åŠ¿å’Œåç§å…‹åˆ¶å…³ç³»ã€‚æ¯ç§æ‰‹åŠ¿å…‹åˆ¶å…¶ä»–ä¸¤ç§æ‰‹åŠ¿å¹¶è¢«å¦å¤–ä¸¤ç§æ‰‹åŠ¿å…‹åˆ¶ã€‚ç»™ä½ ä¸¤ä¸ªå­—ç¬¦ä¸²åˆ†åˆ«è¡¨ç¤ºAï¼ŒBçš„ æ‰‹åŠ¿é¡ºåºï¼ŒAé•¿BçŸ­ï¼Œä½ å¯ä»¥éšæ„æŒªåŠ¨Bç›¸å¯¹äºAçš„ä½ç½®ï¼Œæ±‚Bæœ€å¤šèƒ½èµ¢å¤šå°‘æ¬¡ï¼Ÿ 1234567891011è‹¥ä¸¤ä¸ªä¸²ä¸ºabcdeå’Œedeåˆ™å…±æœ‰ä¸‰ç§æ–¹æ³•æ¥å†³æ–—ï¼Œabcdeedaabcde edaabcde edaä¸ºæ¯ä¸€ä¸ªå­—ç¬¦æ ‡ä¸ŠæŒ‡æ•°ï¼Œå°†ä¸€ä¸ªä¸²é€†ç½®åï¼Œå‘ç°æ˜¯fft é¢˜ç›®2 BZOJ4259 ç»™ä½ ä¸¤ä¸ªå­—ç¬¦ä¸²åŸä¸²å’ŒåŒ¹é…ä¸²ï¼Œä¸²é‡ŒåªåŒ…å«å°å†™å­—æ¯å’Œâˆ—,âˆ—å¯ä»¥è¡¨ç¤ºä»»æ„å­—ç¬¦ï¼Œé—®åŒ¹é…ä¸²åœ¨åŸä¸²ä¸åŒä½ç½®ä¸­å‡ºç°å¤šå°‘æ¬¡ï¼Œèµ·å§‹ä½ç½®ä¸åŒå³ä¸åŒä½ç½®ã€‚ æˆ‘ä»¬è¿˜æ˜¯åˆ©ç”¨ä¸Šä¸€é¢˜é€†ç½®çŸ­ä¸²æ„é€ å·ç§¯çš„æ–¹æ³•ï¼Œæˆ‘ä»¬æŠŠ*çš„å€¼å½“ä½œèµ‹ä¸º0ï¼Œpow(str1[i]âˆ’str2[i],2)*str1[i]*str2[i] åŒ–ç®€æ¶ˆå»è´Ÿæ•°é¡¹å³å¯ FFT123456789101112131415161718192021222324252627282930313233343536373839404142434445464748const int maxn=4e6//å¼€å››å€æ‰€æœ‰æ•°ç»„ã€‚å‡†ç¡®çš„æ•°å€¼æ˜¯ä¹˜æ³•ç»“æœæ•°ç»„çš„2è¿›åˆ¶å¯¹é½é‚£ä¹ˆå¤§ã€‚è¿™ä¸ªå€¼å°äºå››å€ï¼Œconst double pi=acos(-1.0);struct cp&#123; double x,y; cp(double X=0,double Y=0)&#123;x=X,y=Y;&#125; cp operator + (cp b)&#123;return cp(x+b.x,y+b.y);&#125; cp operator - (cp b)&#123;return cp(x-b.x,y-b.y);&#125; cp operator * (cp b)&#123;return cp(x*b.x-y*b.y,x*b.y+y*b.x);&#125;&#125;;// opt = 1 æŠŠç³»æ•°è¡¨è¾¾å¼å˜ä¸ºç‚¹å€¼è¡¨è¾¾å¼// opt =-1 æŠŠç‚¹å€¼è¡¨è¾¾å¼å˜æˆç³»æ•°è¡¨è¾¾å¼// ä¼ å‚çš„æ—¶å€™å¿…é¡»è¦æ±‚nä¸º2çš„bitsæ¬¡æ–¹int r[maxn];void fft(cp *a,int n,int bits,int opt)&#123; for (int i=0; i&lt;n; ++i)&#123; r[i]=(r[i&gt;&gt;1]&gt;&gt;1)|((i&amp;1)&lt;&lt;(bits-1)); if (i&lt;r[i]) swap(a[i],a[r[i]]); &#125; for (int k=1; k&lt;n; k&lt;&lt;=1)&#123; cp wn=cp(cos(pi/k),opt*sin(pi/k)); for (int i=0; i&lt;n; i+=(k&lt;&lt;1))&#123; cp w=cp(1,0); for (int j=0; j&lt;k; ++j,w=w*wn)&#123; cp x=a[i+j],y=w*a[i+j+k]; a[i+j]=x+y,a[i+j+k]=x-y; &#125; &#125; &#125;&#125;// æ²¡æœ‰å¿…è¦åˆ†xå’Œyçš„é•¿åº¦,æ²¡æœ‰æ„ä¹‰ï¼Œå¯¹æ—¶é—´å¤æ‚åº¦å½±å“ä¸å¤§// ä¼ æ•°ç»„ä½¿ç”¨é—­åŒºé—´[0,n-1],n-1ä¸ºå¤šé¡¹å¼æœ€é«˜æ¬¡æ•°// xyç”šè‡³å¯ä»¥ä¼ ä¸€ä¸ªxæˆ–yä¸€æ ·çš„å‚æ•° ä¾‹å¦‚mul(f,g,f,n,m)ç­‰ä»·äºf*=gcp cpa[maxn],cpb[maxn];//ç»æµ‹è¯•, ä¸¤ä¸ª1e6çš„å¤šé¡¹å¼ä¹˜èµ·æ¥å¤§æ¦‚çš„æ—¶é—´700ms, void mul(int*x,int*y,int*xy,int xn,int yn)&#123; int exn=1,bits=0; while(exn-1 &lt; xn-1+yn-1)exn&lt;&lt;=1,bits++;//exnä¸ºxyæ•°ç»„æ‹“å±•çš„é•¿åº¦ï¼Œbitsä¸ºlg(exn) for(int i=0 ;i&lt;xn ;i++)cpa[i]=cp(x[i],0); for(int i=xn;i&lt;exn;i++)cpa[i]=cp(0,0);//æŒ‰0è¡¥é½ for(int i=0 ;i&lt;yn ;i++)cpb[i]=cp(y[i],0); for(int i=yn;i&lt;exn;i++)cpb[i]=cp(0,0);//æŒ‰0è¡¥é½ fft(cpa,exn,bits,1);fft(cpb,exn,bits,1);//åŒ–ä¸ºç‚¹å€¼è¡¨ç¤ºæ³• for(int i=0; i&lt;exn;i++)cpa[i]=cpa[i]*cpb[i];//ä¹˜ fft(cpa,exn,bits,-1);//åŒ–ä¸ºç³»æ•°è¡¨ç¤ºæ³• for(int i=0; i&lt;exn;i++)xy[i]=cpa[i].x/exn+0.5;//èµ‹å€¼ç»“æœ&#125; NTT123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051typedef long long ll;// ll mod=1004535809,g=3;// 479*pow(2,21)+1// ll mod=998244353,g=3;// 119*pow(2,23)+1// ll mod=2281701377,g=3;// 17*pow(2,27)+1ll qpow(ll a,ll b,ll mod)&#123; ll ret=1; while(b)&#123; if(b&amp;1) ret=ret*a%mod; a=a*a%mod; b&gt;&gt;=1; &#125; return ret;&#125;const ll maxn=1e6;ll r[maxn];void ntt(ll*a,ll n,ll bits,ll opt,ll g,ll mod)&#123; for(ll i=0;i&lt;n;i++) &#123; r[i]=(r[i&gt;&gt;1]&gt;&gt;1)|((i&amp;1)&lt;&lt;(bits-1)); if(i&lt;r[i]) swap(a[i],a[r[i]]); &#125; for(ll k=1;k&lt;n;k&lt;&lt;=1)&#123; ll wn=qpow(g,(mod-1)/(k&lt;&lt;1),mod);//ç”¨åŸæ ¹ä»£æ›¿å•ä½æ ¹ if(opt==-1) wn=qpow(wn,mod-2,mod);//é€†å˜æ¢åˆ™ä¹˜ä¸Šé€†å…ƒ for (ll i=0;i&lt;n;i+=(k&lt;&lt;1))&#123; for (ll j=0,w=1; j&lt;k; j++,w=w*wn%mod)&#123; ll x=a[i+j], y=w*a[i+j+k]%mod; a[i+j]=(x+y)%mod, a[i+j+k]=(x-y+mod)%mod; &#125; &#125; &#125; if(opt==-1) &#123; ll inv=qpow(n,mod-2,mod); for(ll i=0;i&lt;n;i++) a[i]=a[i]*inv%mod; &#125;&#125;ll cpx[maxn],cpy[maxn];void mul(ll*x,ll*y,ll*xy,ll xn,ll yn,ll g,ll mod)&#123; ll exn=1,bits=0; while(exn-1 &lt; xn-1+yn-1)exn&lt;&lt;=1,bits++;//exnä¸ºxyæ•°ç»„æ‹“å±•çš„é•¿åº¦ï¼Œbitsä¸ºlg(exn) for(ll i=0 ;i&lt;xn ;i++)cpx[i]=x[i]; for(ll i=xn;i&lt;exn;i++)cpx[i]=0;//æŒ‰0è¡¥é½ for(ll i=0 ;i&lt;yn ;i++)cpy[i]=y[i]; for(ll i=yn;i&lt;exn;i++)cpy[i]=0;//æŒ‰0è¡¥é½ ntt(cpx,exn,bits,1,g,mod); ntt(cpy,exn,bits,1,g,mod);//åŒ–ä¸ºç‚¹å€¼è¡¨ç¤ºæ³• for(ll i=0; i&lt;exn;i++)cpx[i]=cpx[i]*cpy[i]%mod;//ä¹˜ ntt(cpx,exn,bits,-1,g,mod);//åŒ–ä¸ºç³»æ•°è¡¨ç¤ºæ³• for(ll i=0; i&lt;exn;i++)xy[i]=cpx[i];//èµ‹å€¼ç»“æœ&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ•°å­¦","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%95%B0%E5%AD%A6/"}],"tags":[]},{"title":"äºŒåˆ†å›¾æœ€å°è´¹ç”¨å›ºå®šæµ","slug":"ACM/å­¦ä¹ ç¬”è®°/å›¾è®º/äºŒåˆ†å›¾æœ€å°è´¹ç”¨å›ºå®šæµ/index","date":"2018-10-25T14:28:46.000Z","updated":"2018-10-25T14:28:46.000Z","comments":true,"path":"PH5S7Y.html","link":"","permalink":"http://fightinggg.github.io/indigo/PH5S7Y.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial è¿™æ˜¯æˆ‘è‡ªå·±ç»™è¿™ç±»å›¾å–çš„åå­— ç»™å‡ºå®šä¹‰ï¼Œ æœ‰äº”ç±»è¾¹ ç¬¬ä¸€ç±»ä¸ºåŸç‚¹åˆ°å·¦è¾¹çš„ç‚¹ï¼Œå®¹é‡æ— ç©·å¤§,æœ‰è´¹ç”¨ ç¬¬äºŒç±»ä¸ºå·¦è¾¹çš„ç‚¹åˆ°å³è¾¹çš„ç‚¹ï¼Œä¸€å¯¹ä¸€ï¼Œå®¹é‡ä¸ºä»»æ„å¸¸æ•°ï¼Œè´¹ç”¨0 ç¬¬ä¸‰ç±»ä¸ºå³è¾¹çš„ç‚¹åˆ°æ±‡ç‚¹ï¼Œå®¹é‡æ— ç©·å¤§ï¼Œè´¹ç”¨0 ç¬¬å››ç±»ä¸ºå·¦è¾¹çš„ç‚¹ä¾æ¬¡è¿i-&gt;i+1ï¼Œå®¹é‡æ— ç©·å¤§ï¼Œè´¹ç”¨0 ç¬¬äº”ç±»ä»å³è¾¹è¿å‘å·¦è¾¹ï¼Œå®¹é‡æ— ç©·å¤§ï¼Œè´¹ç”¨0 å¦‚ä¸‹å›¾å·¦è¾¹çš„å›¾ ç»™å‡ºé—®é¢˜,æ±‚å½“æœ‰å®¹é‡çš„è¾¹çš„éƒ½æ»¡æµæ—¶çš„æœ€å°è´¹ç”¨ æˆ‘ä»¬å‘ç°å·¦å›¾çš„æœ€å¤§æµä¸€å®šæ»¡è¶³æœ‰å®¹é‡çš„è¾¹æ˜¯æ»¡æµçš„ï¼Œæˆ‘ä»¬å°è¯•å°†å…¶è½¬åŒ–ä¸ºæœ€å°è´¹ç”¨æœ€å¤§æµ æˆ‘ä»¬å‘ç°ï¼Œå¦‚æœæˆ‘ä»¬å¯¹å·¦è¾¹çš„å›¾è·‘æœ€å¤§æµï¼Œå½“å·¦è¾¹çš„å›¾æœ‰æµé‡è¿›å…¥yç‚¹é›†çš„æ—¶å€™ï¼Œä»–ä¸€å®šä¼šè¿› å…¥æºç‚¹ï¼Œä¸ä¼šæµå›xç‚¹é›†ï¼Œè¿™å°±å¾ˆçƒ¦ï¼Œæˆ‘ä»¬è¦çš„ä¸æ˜¯æœ€å¤§æµï¼Œè€Œæ˜¯æŒ‡å®šè¾¹çš„æ»¡æµï¼Œæˆ‘ä»¬å°è¯•â€œé˜» æ­¢â€è¿™ä¸ªè¿‡ç¨‹ï¼Œæ€ä¹ˆé˜»æ­¢å‘¢ï¼Œæˆ‘ä»¬åœ¨è€ƒè™‘ä¸€ä¸ªzç‚¹é›†ï¼Œä»æºç‚¹å‡ºå‘ï¼Œæ¯å½“yç‚¹é›†æœ‰æµé‡æµå…¥æ±‡ç‚¹ï¼Œå°±ä»æºç‚¹æµç­‰é‡æµé‡åˆ°å¯¹åº”çš„zç‚¹é›†ï¼Œæˆ‘ä»¬æœ€åç”¨zç‚¹é›†å®Œå…¨æ›¿ä»£yç‚¹é›†çš„å›æµåŠŸèƒ½ï¼Œè¿™æ ·ä»¥åï¼Œ æœ€å°è´¹ç”¨æœ€å¤§æµå°±æˆäº†æˆ‘ä»¬è¦æ±‚çš„æœ€å°è´¹ç”¨å›ºå®šæµã€‚ å†ä»”ç»†æƒ³æƒ³ï¼Œæˆ‘ä»¬å‘ç°yç‚¹é›†å·²ç»æ²¡æœ‰ä½œç”¨äº†ï¼Œåˆ æ‰ä»–ä»¬ï¼Œæœ€åæˆäº†ä¸Šå›¾çš„å³è¾¹çš„å›¾ã€‚ äºæ˜¯è§£å†³äº†ã€‚ å¯¹äºæµå…¥æ±‡ç‚¹çš„æµé‡ï¼Œæˆ‘ä»¬å¯ä»¥æ„é€ ä¸€ä¸ªæ–°çš„ç‚¹é›†ï¼Œæ¯å½“æœ‰æµé‡æµå…¥æ±‡ç‚¹ï¼Œæˆ‘ä»¬å°±ä»æºç‚¹æµå…¥ æ–°çš„ç‚¹é›†ï¼Œå®ç°å›æµæœºåˆ¶ã€‚","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"å›¾è®º","slug":"ACM/å­¦ä¹ ç¬”è®°/å›¾è®º","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%9B%BE%E8%AE%BA/"}],"tags":[]},{"title":"æœ€å°é¡¶ç‚¹è¦†ç›–äºŒåˆ†å›¾","slug":"ACM/å­¦ä¹ ç¬”è®°/å›¾è®º/æœ€å°é¡¶ç‚¹è¦†ç›–äºŒåˆ†å›¾/index","date":"2018-10-24T00:21:00.000Z","updated":"2018-10-24T00:21:00.000Z","comments":true,"path":"PH2UB0.html","link":"","permalink":"http://fightinggg.github.io/indigo/PH2UB0.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ä¸ºäº†ä¾¿äºå™è¿°ï¼Œæˆ‘ä»¬å°†äºŒåˆ†å›¾åˆ†ä¸ºå·¦è¾¹çš„ç‚¹ä¸å³è¾¹çš„ç‚¹æ¥å™è¿°ã€‚æˆ‘ä»¬ç§°äºŒåˆ†å›¾åŒ¹é…æˆåŠŸçš„è¾¹ä¸ºåŒ¹é…è¾¹ï¼Œç§°åŒ¹é…æˆåŠŸçš„ç‚¹ä¸ºåŒ¹é…ç‚¹ï¼ŒäºŒåˆ†å›¾åŒ¹é…æ•°ä¸ºåŒ¹é…è¾¹çš„æ¡æ•°ã€‚ äºæ˜¯æœ€å°é¡¶ç‚¹æ•°ç­‰äºäºŒåˆ†å›¾åŒ¹é…æ•°ã€‚ å…ˆè¯æ˜æœ€å°é¡¶ç‚¹æ•°å¤§äºç­‰äºäºŒåˆ†å›¾åŒ¹é…æ•°ã€‚ä»åé¢è€ƒè™‘ï¼Œå°‘äºäºŒåˆ†å›¾åŒ¹é…æ•°çš„é¡¶ç‚¹ç»å¯¹ä¸å¯èƒ½è¦†ç›–äºŒåˆ†å›¾ï¼Œå› ä¸ºè¿™äº›é¡¶ç‚¹æ— æ³•è¦†ç›–æ‰€æœ‰çš„åŒ¹é…ç‚¹ã€‚ å†è¯æ˜è‡³å°‘å­˜åœ¨ä¸€ä¸ªæ•°é‡ä¸ºäºŒåˆ†å›¾åŒ¹é…æ•°çš„é¡¶ç‚¹é›†ï¼Œå¯ä»¥è¦†ç›–äºŒåˆ†å›¾ã€‚ æ­£é¢æ¥åšï¼Œæˆ‘ä»¬å…ˆæ¥æ‰¾è¿™ä¸ªé›†åˆã€‚ æˆ‘ä»¬æ¥å¯¹äºŒåˆ†å›¾è¿›è¡ŒæŸ“è‰²ï¼Œä»å³è¾¹ä»»å–ä¸€ä¸ªéåŒ¹é…ç‚¹å¼€å§‹ï¼Œæˆ‘ä»¬æ²¿ç€äºŒåˆ†å›¾çš„è¾¹èµ°ï¼Œéµå¾ªè¿™æ ·ä¸€ç§èµ°æ³•ï¼šâ€œæ ‡è®°å³è¾¹æœªåŒ¹é…è¾¹çš„é¡¶ç‚¹ï¼Œå¹¶ä»å³è¾¹æœªåŒ¹é…è¾¹çš„é¡¶ç‚¹å‡ºå‘ï¼ŒæŒ‰ç…§è¾¹ï¼šæœªåŒ¹é…-&gt;åŒ¹é…-&gt;æœªåŒ¹é…â€¦ï¼Œçš„åŸåˆ™æ ‡è®°é€”ä¸­ç»è¿‡çš„é¡¶ç‚¹ï¼Œåˆ™æœ€åä¸€æ¡ç»è¿‡çš„è¾¹å¿…å®šä¸ºåŒ¹é…è¾¹ã€‚é‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œç›´åˆ°å³è¾¹ä¸å†å«æœ‰æœªåŒ¹é…è¾¹çš„ç‚¹ã€‚â€ï¼ˆæ³¨æ„æ ‡è®°å°±æ˜¯æŸ“è‰²çš„æ„æ€ï¼‰ï¼ˆæ³¨æ„å­¤ç«‹ç‚¹æ²¡è·¯èµ°ï¼Œç›´æ¥æŸ“è‰²ï¼Œä¸è¦å¿½è§†ï¼‰ï¼ˆä¸ºäº†è®©è¯»è€…æ·±å…¥ç†è§£ï¼Œç¬”è€…æ•…æ„ä¸ç”»å›¾ï¼Œè®©è¯»è€…è‡ªå·±ç”»ï¼‰ é‚£ä¹ˆå·¦è¾¹çš„æŸ“è‰²ç‚¹åŠ ä¸Šå³è¾¹çš„éæŸ“è‰²ç‚¹ä¾¿æ˜¯æˆ‘ä»¬è¦æ‰¾çš„é¡¶ç‚¹é›†ã€‚ ä¸‹é¢è¯æ˜è¯¥é›†åˆçš„ç‚¹æ•°ä¸ºåŒ¹é…æ•°ä¸”è¦†ç›–äºŒåˆ†å›¾ã€‚ -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“ å…ˆè¯æ˜è¯¥é›†åˆç‚¹æ•°ä¸ºåŒ¹é…æ•°ï¼š æˆ‘ä»¬è§‚å¯Ÿæ‰€æœ‰çš„åŒ¹é…è¾¹ï¼Œå¦‚æœä»–è¢«èµ°è¿‡ï¼Œè¯´æ˜ä»–æ˜¯è¢«ä»å·¦å¾€å³èµ°çš„ï¼Œé‚£ä¹ˆå®ƒçš„ä¸¤ä¸ªç«¯ç‚¹éƒ½è¢«æŸ“è‰²ï¼›å¦‚æœä»–æ²¡æœ‰è¢«èµ°è¿‡ï¼Œè¯´æ˜å·²ç»æ²¡æœ‰å¤šä½™çš„è¾¹å¯ä»¥åˆ°ä»–çš„å·¦ç«¯ç‚¹äº†ï¼Œé‚£ä¹ˆä»–çš„ä¸¤ä¸ªç«¯ç‚¹éƒ½æ²¡æœ‰è¢«æŸ“è‰²ã€‚ä¹Ÿå°±æ˜¯è¯´å¯¹äºæ‰€æœ‰çš„åŒ¹é…è¾¹ï¼Œè¦ä¹ˆä¸¤ä¸ªç«¯ç‚¹éƒ½è¢«æŸ“è‰²ï¼Œè¦ä¹ˆä¸¤ä¸ªç«¯ç‚¹éƒ½æœªè¢«æŸ“è‰²ã€‚ ç°åœ¨æˆ‘ä»¬å¯ä»¥æ–­è¨€ï¼Œå¦‚æœå·¦è¾¹çš„æŸ“è‰²ç‚¹é›†æ˜¯å·¦è¾¹çš„åŒ¹é…ç‚¹é›†çš„å­é›†ä¸”å³è¾¹çš„éæŸ“è‰²ç‚¹é›†æ˜¯å³è¾¹çš„åŒ¹é…ç‚¹é›†çš„å­é›†ï¼Œé‚£ä¹ˆæŸ“è‰²ç‚¹ä¸ªæ•°ç­‰äºåŒ¹é…æ•°ã€‚è¿™é‡Œä¸å¥½æè¿°ï¼Œä½†å¥½è¯æ˜ï¼Œç¬”è€…ä¸è¯æ˜äº†ã€‚ ä¸‹é¢æ¥è¯æ˜ä¸Šè¯‰å‰ææ¡ä»¶æ˜¯æ’æˆç«‹çš„ã€‚ å³è¾¹çš„éæŸ“è‰²ç‚¹é›†æ˜¯å³è¾¹çš„åŒ¹é…ç‚¹é›†çš„å­é›†ï¼Œå¯ä»¥ç”¨åè¯ï¼šå¦‚æœå­˜åœ¨ä¸€ä¸ªå³è¾¹éæŸ“è‰²ç‚¹ä¸å±äºå³è¾¹çš„åŒ¹é…ç‚¹é›†ï¼Œé‚£ä¹ˆè¿™ä¸ªç‚¹è‚¯å®šæ˜¯éåŒ¹é…ç‚¹ï¼Œè¿™ä¸æˆ‘ä»¬çš„æŸ“è‰²è§„åˆ™çŸ›ç›¾ã€‚ å·¦è¾¹çš„æŸ“è‰²ç‚¹é›†æ˜¯å·¦è¾¹çš„åŒ¹é…ç‚¹é›†çš„å­é›†ï¼Œæˆ‘ä»¬ä¾æ—§åè¯ï¼šå¦‚æœå­˜åœ¨ä¸€ä¸ªå·¦è¾¹çš„ç‚¹ä¸å±äºå·¦è¾¹çš„åŒ¹é…ç‚¹é›†ï¼Œé‚£ä¹ˆè¯´æ˜æœ‰ä¸€ä¸ªå³è¾¹çš„éåŒ¹é…ç‚¹å¯ä»¥èµ°åˆ°å½“å‰çš„éåŒ¹é…ç‚¹ï¼Œè¿™ä¸äºŒåˆ†å›¾æœ€å¤§åŒ¹é…çŸ›ç›¾ã€‚ -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“ å†è¯æ˜è¯¥ç‚¹é›†è¦†ç›–äºŒåˆ†å›¾ï¼š æˆ‘ä»¬è€ƒè™‘è¾¹ï¼Œåˆ†ä¸‰ç§ å³ç«¯ç‚¹ä¸ºéæŸ“è‰²ç‚¹ï¼Œè¿™äº›è¾¹è¢«å³è¾¹çš„éæŸ“è‰²ç‚¹é›†è¦†ç›– å³ç«¯ç‚¹ä¸ºæŸ“è‰²ç‚¹ï¼Œå·¦ç«¯ç‚¹ä¸ºæŸ“è‰²ç‚¹ï¼Œè¿™äº›è¾¹è¢«å·¦è¾¹çš„æŸ“è‰²ç‚¹é›†è¦†ç›– å³ç«¯ç‚¹ä¸ºæŸ“è‰²ç‚¹ï¼Œå·¦ç«¯ç‚¹ä¸ºéæŸ“è‰²ç‚¹ï¼Œéƒ½åœ¨è¯´è¿™æ ·çš„è¾¹ä¸å­˜åœ¨ï¼Œç„¶è€Œè¯æ˜è¿‡ç¨‹å´ç»™å¾—æå…¶å«ç³Šä¸æ¸…ã€‚ äºŒåˆ†å›¾çš„æ„é€ å°±è®²çš„å«ç³Šä¸æ¸…ï¼Œä¸ºäº†è®©è¯»è€…æ„Ÿåˆ°åŒºåˆ«ï¼Œæˆ‘æ•…æ„åœ¨ä¸Šé¢çš„å™è¿°ä¸­å¼•ç”¨äº†å¸¦æœ‰æ­§ä¹‰çš„æŸ“è‰²è§„åˆ™ã€‚ å› ä¸ºä¸Šè¿°å™è¿°è‡³å°‘æœ‰ä¸€ä¸ªåä¾‹ï¼š img è¿™ä¸ªå™è¿°åº”è¯¥æ”¹ä¸ºä»å³è¾¹çš„éåŒ¹é…ç‚¹å‡ºå‘ï¼Œèµ°äºŒåˆ†å›¾ï¼Œæ¯æ¬¡ä»å³å¾€å·¦èµ°éƒ½èµ°éåŒ¹é…è¾¹ï¼Œæ¯æ¬¡ä»å·¦å¾€å³èµ°éƒ½èµ°åŒ¹é…è¾¹ï¼Œï¼ˆæ³¨æ„è¿™é‡Œå¹¶æ²¡æœ‰è¯´èµ°è¿‡çš„ç‚¹ä¸èƒ½å†èµ°ä¸€æ¬¡ï¼Œä¹Ÿæ²¡æœ‰è¯´èµ·ç‚¹åªæœ‰ä¸€ä¸ª)ç›´åˆ°æ— è·¯å¯èµ°æˆ–èµ°å…¥å¾ªç¯ï¼ŒæŸ“è‰²æ‰€æœ‰ç»è¿‡çš„ç‚¹å’Œè¾¹ï¼Œé‡å¤æ­¤æ“ä½œï¼Œç›´åˆ°ä¸èƒ½å†æ¬¡æŸ“è‰²ä¸ºæ­¢ã€‚ ä¾æ®ç°åœ¨çš„èµ°æ³•ï¼Œä¸Šå›¾åä¾‹ä¸å¤å­˜åœ¨ï¼Œå¯ä»¥å¾—å‡ºæ­£ç¡®è¦†ç›–ã€‚å¯¹èµ°æ³•è¿›è¡Œå½±å“æœªæ”¹å˜ä¸Šæ–‡æ‰€æœ‰è¯æ˜ï¼Œä¸‹é¢æ¥è¯æ˜æ–°èµ°æ³•ä¸å­˜åœ¨å³ç«¯ç‚¹ä¸ºæŸ“è‰²ç‚¹ï¼Œå·¦ç«¯ç‚¹ä¸ºéæŸ“è‰²ç‚¹çš„è¾¹ï¼Œè¿™å°±å¾ˆæ˜æ˜¾äº†ï¼Œè¿™ç§è¾¹åœ¨æˆ‘ä»¬æ–°çš„èµ°æ³•é‡Œé¢æ˜¯ä¸å­˜åœ¨çš„ï¼Œå› ä¸ºå¯ä»¥èµ°è¿™æ ·çš„è¾¹ï¼Œå¹¶æŸ“è‰²ã€‚ -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“ ç»¼åˆå¾—åˆ°äºŒåˆ†å›¾æœ€å°é¡¶ç‚¹è¦†ç›–æ•°ç­‰äºäºŒåˆ†å›¾åŒ¹é…æ•°ã€‚","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"å›¾è®º","slug":"ACM/å­¦ä¹ ç¬”è®°/å›¾è®º","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%9B%BE%E8%AE%BA/"}],"tags":[]},{"title":"ç½‘ç»œæµ24é¢˜","slug":"ACM/å­¦ä¹ ç¬”è®°/å›¾è®º/ç½‘ç»œæµ24é¢˜/index","date":"2018-10-21T15:39:39.000Z","updated":"2018-10-21T15:39:39.000Z","comments":true,"path":"PGYGU3.html","link":"","permalink":"http://fightinggg.github.io/indigo/PGYGU3.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ç¬¬ä¸€é¢˜P2756 é£è¡Œå‘˜é…å¯¹æ–¹æ¡ˆé—®é¢˜ æ±‚äºŒåˆ†å›¾åŒ¹é…ï¼Œè¾“å‡ºè°å’Œè°åŒ¹é… ä½¿ç”¨åå‘è¾¹æ˜¯å¦å­˜åœ¨æµé‡æ¥è¾“å‡ºè·¯å¾„ã€‚ ç¬¬äºŒé¢˜P2762 å¤ªç©ºé£è¡Œè®¡åˆ’é—®é¢˜ æ±‚æœ‰å‘å›¾çš„æœ€å¤§æƒé—­åˆå­å›¾ å°†æ­£æƒç‚¹è¿æ¥s,å®¹é‡ä¸ºç‚¹æƒ,è´Ÿæƒç‚¹è¿æ¥tå®¹é‡ä¸ºç‚¹æƒç»å¯¹å€¼,æ‰€æ±‚å¾—çš„ä¸€ä¸ªå‰²å°†å›¾åˆ†ä¸ºä¸¤éƒ¨åˆ†,æˆ‘ä»¬å‘ç°æ‰€æœ‰æ­£ç‚¹æƒçš„å’Œå‡å»è¯¥ç®€å•å‰²ï¼Œä¾¿æ˜¯ä¸sç›¸è¿çš„é—­åˆå›¾çš„æƒï¼Œå› ä¸ºæœ€å°å‰²æ‰€ä»¥æœ€å¤§æƒé—­åˆå›¾ï¼ˆå³ç»™å®šå¸¸æ•°cï¼Œæ±‚c-açš„æœ€å¤§å€¼ï¼Œç­‰ä»·äºæ±‚cå‡å»açš„æœ€å°å€¼ï¼‰ã€‚æ³¨æ„è·‘å®Œæœ€å¤§æµä»¥åï¼Œä¸sç›¸è¿çš„ç‚¹æ„æˆçš„ç‚¹é›†å°±æ˜¯æœ€å¤§æƒé—­åˆå›¾ã€‚å­¦ä¼šäº†ä½¿ç”¨bfsä¹‹å çš„lvæ•°ç»„æ¥è¾“å‡ºè·¯å¾„ ç¬¬ä¸‰é¢˜P2764 æœ€å°è·¯å¾„è¦†ç›–é—®é¢˜ æ±‚DAGçš„æœ€å°è·¯å¾„è¦†ç›– ç”¨åŸå›¾å»ºç«‹ä¸€ä¸ªä¸¤å±‚çš„æ–°å›¾ï¼Œå¦‚æœåŸå›¾ä¸­å­˜åœ¨è¾¹i-&gt;jæˆ‘ ä»¬å»ºç«‹çš„æ–°å›¾å°±æœ‰ç¬¬ä¸€å±‚çš„ç‚¹iæµåˆ°ç¬¬äºŒå±‚çš„ç‚¹jï¼Œæœ€åå»ºç«‹è¶…çº§æºç‚¹æµå‘ æ‰€æœ‰çš„ç¬¬ä¸€å±‚å›¾çš„ç‚¹ï¼Œå»ºç«‹è¶…çº§æ±‡ç‚¹ï¼Œç”±æ‰€æœ‰ç¬¬äºŒå±‚çš„å›¾æµå…¥ï¼Œç”¨DAGçš„æ€»ç‚¹æ•°å‡å»å»æ‰€æ±‚çš„æœ€å¤§æµå°±æ˜¯æœ€å°è·¯å¾„ã€‚ åœ¨æ„é€ çš„äºŒåˆ†å›¾ä¸­çš„æœ€å¤§æµæ˜ å°„å›åŸå›¾ï¼Œå‘ç°æ¯ä¸ªç‚¹æœ€å¤šæœ‰ä¸€ä¸ªå…¥åº¦ï¼Œä¸€ä¸ªå‡ºåº¦ï¼Œæ˜¾ç„¶æ•´ä¸ªå›¾å½¢æˆäº†ä¸€äº›ä¸ç›¸äº¤çš„é“¾ï¼Œäºæ˜¯ç‚¹æ•°å‡å»è¾¹æ•°å°±æ˜¯è”é€šå—çš„ä¸ªæ•°ã€‚å³æ€»ç‚¹æ•°å‡å»åŒ¹é…æ•°å°±æ˜¯æœ€å°è·¯å¾„æ•°ã€‚ ç¬¬å››é¢˜P2765 é­”æœ¯çƒé—®é¢˜ ä¾æ—§æ˜¯æ˜¯ä¸€ä¸ªæœ€å°è·¯å¾„è¦†ç›–çš„é—®é¢˜ï¼Œæˆ‘ä»¬è€ƒè™‘æŠŠçƒå½“ä½œç‚¹ï¼ŒæŠŠç›’å­å½“æˆè·¯å¾„ï¼Œé‚£ä¹ˆå¾ˆæ˜æ˜¾ï¼Œè¿è¾¹æ–¹å¼å°±æ˜¯i-&gt;jå½“ä¸”ä»…å½“i&lt;&#x3D;nä¸”j&lt;&#x3D;nä¸”i+j&#x3D;k^2.ä½†æ˜¯è¿™æ ·å­åšæˆ‘ä»¬åªèƒ½è§£å†³è¿™æ ·ä¸€ä¸ªé—®é¢˜: ç»™ä½ ä»1åˆ°nçš„nä¸ªçƒæˆ‘ä»¬å¯ä»¥æ‰¾åˆ°æœ€å°‘çš„ç›’å­æ¥è£…çƒã€‚ ä»”ç»†åˆ†æå‘ç°é¢˜ç›®ç»™çš„é—®é¢˜å¯ä»¥äºŒåˆ†å¤„ç†ï¼Œæˆ‘ä»¬äºŒåˆ†æ¥åˆ¤æ–­nä¸ªç›’å­èƒ½ä¸èƒ½è£…åˆ°kä¸ªçƒå°±å¯ä»¥äº†ã€‚ ç¬¬äº”é¢˜P3254 åœ†æ¡Œé—®é¢˜ ç»™mç»„äººï¼Œæ¯ä¸ªäººè¦åˆ†åˆ°ä¸åŒçš„æ¡Œå­ä¸Šï¼Œæ¯ä¸ªæ¡Œå­å¯ä»¥ä¸€å®šé‡çš„äººï¼Œç»„å†…çš„äººä¸èƒ½ååœ¨ä¸€ä¸ªæ¡Œå­ä¸Šï¼Œ ç½‘ç»œæµé—®é¢˜ï¼Œsè¿åˆ°ç»„ï¼Œæµé‡ç»„å†…äººæ•°ï¼Œæ¡Œå­è¿åˆ°tï¼Œæµé‡ä¸ºå¯ä»¥åä¸‹çš„äººæ•°ï¼Œç»„ä¸æ¡Œå­è‡ªç”±ç»„åˆï¼Œ æµé‡ä¸º1ã€‚ ç¬¬å…­é¢˜P2766 æœ€é•¿ä¸ä¸‹é™å­åºåˆ—é—®é¢˜ è®©ä½ æ±‚ä¸€ä¸ªæ•°åˆ—çš„æœ€é•¿ä¸ä¸‹é™å­åºåˆ—çš„é•¿åº¦k ç„¶åæ±‚è¿™ä¸ªåºåˆ—æœ€å¤šå¯ä»¥åˆ†å‡ºå¤šå°‘ä¸ªé•¿åº¦ä¸ºkçš„å­åºåˆ—ï¼Œ å†æ±‚å¦‚æœå¯ä»¥å¤šæ¬¡ä½¿ç”¨ç¬¬ä¸€ä¸ªå…ƒç´ å’Œæœ€åä¸€ä¸ªå…ƒç´ ï¼Œå¯ä»¥åˆ†å‡ºå¤šå°‘ä¸ªé•¿åº¦ä¸ºkçš„å­åºåˆ— æˆ‘ä»¬è€ƒè™‘åˆ°æ¯ä¸ªå…ƒç´ dpçš„å€¼ï¼ˆdp[i]è¡¨ç¤ºä»¥iç»“å°¾çš„æœ€é•¿ä¸ä¸‹é™å­åºåˆ—çš„é•¿åº¦ï¼‰ï¼Œå¹¶ä»¥dpå€¼ä¸ºæ ‡å‡†ï¼Œç»™æ‰€æœ‰ç‚¹åˆ†å±‚ï¼Œå¹¶ç»™æ‰€æœ‰ç¬¬ä¸€å±‚çš„ç‚¹è¿sï¼Œæ‰€æœ‰æœ€åä¸€å±‚çš„ç‚¹è¿tï¼Œ å¦‚æœi&lt;jä¸”a[i]&lt;&#x3D;a[j]æˆ‘ä»¬å°±è¿ä¸€æ¡è¾¹i-&gt;jï¼Œå¦‚æ­¤å¦‚æœæ¯å½“ä»sæµåˆ°t,å°±æ˜¯ä¸€ä¸ªå­ä¸²,è€ƒè™‘åˆ°ä¸€ä¸ªç‚¹åªèƒ½ç”¨ä¸€æ¬¡,æ‹†ç‚¹é™æµå°±å¯ä»¥äº†ã€‚ ç¬¬ä¸ƒé¢˜P2763 è¯•é¢˜åº“é—®é¢˜ ç»™ä½ ä¸€ä¸ªè¯•é¢˜åº“ï¼Œå‘Šè¯‰ä½ æ¯ä¸ªé¢˜ç›®çš„ç±»å‹ï¼ˆä¸€ä¸ªé¢˜ç›®å¯èƒ½å±äºå¤šç§ç±»å‹ï¼‰ï¼Œè®©ä½  ç”¨è¿™äº›é¢˜ä¸ºæ¯ä¸ªç±»å‹ç»„ä¸€å¥—é¢˜ï¼ˆå‘Šè¯‰äº†ä½ æ¯å¥—é¢˜åŒ…å«çš„é¢˜æ•°ï¼‰ï¼Œæ¯é“é¢˜åªèƒ½ç”¨ä¸€æ¬¡ï¼Œç±»å‹åœ¨å·¦ï¼Œé¢˜ç›®åœ¨å³ï¼Œsè¿ç±»å‹ï¼Œæµé‡ä¸ºè¯¥å¥—é¢˜çš„é¢˜æ•°ï¼Œç±»å‹è¿é¢˜ç›®æµé‡1ï¼Œé¢˜ç›®è¿ tæµé‡1ï¼Œå¦‚æœæœ€å¤§æµä¸å¤Ÿè¦æ±‚çš„é¢˜ç›®æ•°é‡ï¼Œè¯´æ˜æ— æ³•ç»„æˆå¥—é¢˜ã€‚ ç¬¬å…«é¢˜P2775 æœºå™¨äººè·¯å¾„è§„åˆ’é—®é¢˜ ä»€ä¹ˆæ€ªä¸œè¥¿ï¼Œæ˜æ˜æ˜¯æ·±æœé¢˜ ç¬¬ä¹é¢˜P2774 æ–¹æ ¼å–æ•° æœ‰ä¸€ä¸ª m è¡Œ n åˆ—çš„æ–¹æ ¼å›¾ï¼Œæ¯ä¸ªæ–¹æ ¼ä¸­éƒ½æœ‰ä¸€ä¸ªæ­£æ•´æ•°ã€‚ç°è¦ä»æ–¹æ ¼ä¸­å–æ•°ï¼Œä½¿ä»»æ„ä¸¤ä¸ªæ•°æ‰€åœ¨æ–¹æ ¼æ²¡æœ‰å…¬å…±è¾¹ï¼Œä¸”å–å‡ºçš„æ•°çš„æ€»å’Œæœ€å¤§ï¼Œè¯·æ±‚å‡ºæœ€å¤§çš„å’Œã€‚ å¯¹äºæ ¼å­æˆ‘ä»¬ä»¤k&#x3D;è¡Œæ•°åŠ åˆ—æ•°ï¼Œ å¯¹äºæ‰€æœ‰çš„k&amp;1==1å†…éƒ¨ï¼Œæ— è¾¹ï¼Œ å¯¹äºæ‰€æœ‰çš„k&amp;1==0å†…éƒ¨ï¼Œæ— è¾¹ã€‚ äºæ˜¯å–èµ°å…ƒç´ å°±æˆäº†ï¼š æ‹¿èµ°ç‚¹ï¼Œä½¿å¾—è¿™äº›ç‚¹è¦†ç›–æ‰€æœ‰è¾¹ï¼Œäºæ˜¯å‰©ä¸‹çš„ç‚¹å°±æ˜¯ç‹¬ç«‹çš„äº†ï¼Œ æ²¡æœ‰è¾¹äº’ç›¸è¿ã€‚å°±æ˜¯æˆ‘ä»¬è¦çš„ç­”æ¡ˆï¼Œæ‰€ä»¥å°±æˆäº† æœ€å°ç‚¹è¦†ç›–äºŒåˆ†å›¾ ç¬¬åé¢˜P1251 é¤å·¾çº¸è®¡åˆ’ æ­¤å¤„ä¸æ–¹ä¾¿è¯æ˜ï¼Œè¯¦æƒ…è§ï¼š å»ºå›¾ä¸è¯æ˜ ç¬¬åä¸€é¢˜ P2770 èˆªç©ºè·¯çº¿é—®é¢˜ ç»™ä½ ä¸€ä¸ªåŸå¸‚æ•°ç»„ï¼Œè¿™äº›åŸå¸‚ä»å·¦å¾€å³åˆ†åˆ«å¯¹åº”ä»ä¸œåˆ°è¥¿ï¼Œ è¦æ±‚ä½ ä»æœ€è¥¿è¾¹çš„åŸå¸‚å‡ºå‘ï¼Œåˆ°è¾¾æœ€ä¸œè¾¹çš„åŸå¸‚ï¼Œåœ¨ä»æœ€ä¸œè¾¹çš„åŸå¸‚å‡ºå‘ï¼Œåˆ°è¾¾æœ€è¥¿è¾¹çš„åŸå¸‚ é™¤äº†æœ€è¥¿è¾¹å’Œæœ€ä¸œè¾¹çš„åŸå¸‚ä»¥å¤–ï¼Œå…¶ä»–åŸå¸‚åªèƒ½ç»è¿‡ä¸€æ¬¡ è®©ä½ æ±‚æœ€å¤šç»è¿‡å¤šå°‘åŸå¸‚ï¼Œ è€ƒè™‘æœ€å¤§æµï¼Œsè¿æœ€è¥¿è¾¹çš„åŸå¸‚ï¼Œæœ€ä¸œè¾¹çš„çš„åŸå¸‚è¿tï¼Œå®¹é‡2ï¼Œå¯¹äºä»–ç»™çš„è¾¹åªè¿ä»ä¸œåˆ°è¥¿çš„è¾¹ï¼Œ å¯¹äºä¸€ä¸ªåŸå¸‚åªç»è¿‡ä¸€æ¬¡è€ƒè™‘æ‹†ç‚¹é™æµå³å¯ã€‚","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"å›¾è®º","slug":"ACM/å­¦ä¹ ç¬”è®°/å›¾è®º","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%9B%BE%E8%AE%BA/"}],"tags":[]},{"title":"å¹¿ä¹‰ç»„åˆæ•°","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦/å¹¿ä¹‰ç»„åˆæ•°/index","date":"2018-10-21T09:59:39.000Z","updated":"2018-10-21T09:59:39.000Z","comments":true,"path":"PGY13F.html","link":"","permalink":"http://fightinggg.github.io/indigo/PGY13F.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æƒ³å¿…å¤§å®¶éƒ½çŸ¥é“çš„ç»„åˆæ•°åœ¨æ­£æ•´æ•°ä¸Šæœ‰ï¼š$$C_{a}^{b}&#x3D;\\frac{a!}{b!(a-b)!}$$ ä½†å¾ˆå°‘æœ‰äººçŸ¥é“è¿™ä¸ªå…¬å¼åœ¨å®æ•°é¢†åŸŸä¸Šä¹Ÿæ˜¯æˆç«‹çš„ï¼š ä¹Ÿå°±æ˜¯è¯´$n!$åœ¨å®æ•°ä¸Šæœ‰å®šä¹‰ $x!&#x3D;\\gamma(x+1)â€¦\\gamma(x)$ä¸ºä¼½é©¬å‡½æ•° ä¸‹é¢é—®é¢˜è½¬ç§»åˆ°ä¼½é©¬å‡½æ•°ä¸Šé¢äº†ï¼Œä½†æ˜¯åœ¨è¿™é‡Œæˆ‘ä»¬æ‰€ç”¨åˆ°çš„ä¼½é©¬å‡½æ•°çš„æ€§è´¨åªæœ‰è¿™ä¸€æ¡ $\\gamma(x)&#x3D;(x-1)\\gamma(x-1)$ ä¸ºä»€ä¹ˆè¿™æ ·è¯´å‘¢ï¼Œå› ä¸ºæˆ‘ä»¬ä¸éœ€è¦è®¡ç®—$x!$ï¼Œæˆ‘ä»¬è¦ç®—çš„æ˜¯è¿™ä¸ªå¼å­ $$C_{a}^{b}&#x3D;\\frac{a!}{b!(a-b)!}&#x3D;\\frac{\\gamma (a+1)}{\\gamma (b+1)\\gamma(a-b+1)}$$ ä¸‹é¢ç»™å‡ºå‡ ä¸ªç®€å•çš„æˆ‘ä»¬æ¥ç®—ä¸€ä¸‹$$C_{4.5}^{3} &#x3D;\\frac{4.5!}{3!1.5!} &#x3D;\\frac{\\gamma (5.5)}{3!\\gamma (2.5)} &#x3D;\\frac{1}{3!}\\frac{\\gamma (5.5)}{\\gamma(2.5)} &#x3D;\\frac{1}{3!}4.53.52.5$$ $$C_{3}^{4} &#x3D;\\frac{3!}{4!(-1)!}$$ ä¸ºä»€ä¹ˆæˆ‘ä¸ç»§ç»­åŒ–ç®€äº†å‘¢ï¼Ÿ å¦‚æœä½ æ˜¯ä¸€ä¸ªæ€ç»´ä¸¥è°¨çš„è¯»è€…ï¼Œå½“ä½ çœ‹åˆ°äº†æˆ‘æ”¾å…¥çš„ä¼½é©¬å‡½æ•°å›¾åƒçš„æ—¶å€™ï¼Œä½ å°±åº”è¯¥å¯¹æˆ‘çš„åšå®¢æå‡ºè´¨ç–‘ï¼Œ æˆ‘æ›¾ç»è¯´n!åœ¨æ•´ä¸ªå®æ•°é¢†åŸŸæœ‰æ„ä¹‰ï¼Œåˆè¯´$x!&#x3D;\\gamma(x+1)$ ,ç„¶è€Œæˆ‘ç»™å‡ºçš„ä¼½é©¬å‡½æ•°çš„å®šä¹‰åŸŸæ˜æ˜¾ä¸åŒ…å«è´Ÿæ•´æ•°å’Œ0ï¼Œ æˆ‘ä¸€å®šæœ‰ä¸€ä¸ªåœ°æ–¹é”™äº†ã€‚ å¯¹çš„ï¼Œè´Ÿæ•°æ²¡æœ‰é˜¶ä¹˜ï¼ æˆ‘é‡æ–°ç»™å‡ºå®šä¹‰åŸŸï¼š$$C_{a}^{b}&#x3D;\\frac{a!}{b!(a-b)!}$$$x!$æœ‰æ„ä¹‰å½“ä¸”ä»…å½“$x\\geq 0||-x\\notin Z$ ä¸ç®¡è¯»è€…å¦‚ä½•æƒ³ï¼Œè‡³å°‘æˆ‘è‡ªå·±è®¤ä¸ºï¼Œå¦‚æœç»™è¦ç»™è´Ÿæ•°å®šä¹‰ä¸€ä¸ªé˜¶ä¹˜çš„å€¼ï¼Œä¾æ®ä¼½é©¬å‡½æ•°åœ¨å¯¹åº”çš„ç‚¹çš„æé™ä¸ºâˆï¼Œ é‚£ä¹ˆè´Ÿæ•°çš„é˜¶ä¹˜åº”è¯¥æ˜¯âˆï¼Œä»£å…¥åˆšåˆšçš„å¼å­å¹¶åŒ–ç®€æœ‰$$C_{3}^{4} &#x3D;\\frac{3!}{4!(-1)!}&#x3D;\\frac{1}{4}*\\frac{1}{infinity}&#x3D;0$$ æˆ‘åˆå†™äº†ä¸€ä¸ªä¸ä¸¥è°¨çš„è¯æ˜ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚å¦‚æœè¯»è€…æœ‰å…´è¶£ï¼Œè‡ªå·±è¯•ç€è¯æ˜ä¸€ä¸‹å§ï¼Œè‡³å°‘æˆ‘å¥½åƒè¯å‡ºæ¥äº†ã€‚ ç„¶åç»§ç»­ä¸‹ä¸€é¢˜$$C_{-1}^{3}&#x3D;\\frac{(-1)!}{3!*(-4)!}$$ $$C_{-1}^{-4}&#x3D;\\frac{(-1)!}{(-4)!*3!}$$ å“ˆå“ˆå“ˆå“ˆä½ è¯´æ€ä¹ˆåŠå‘¢ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿ é™¤éæ— ç©·å¤§æœ‰å¤§å°å…³ç³»ï¼Œå¦åˆ™è¿™é‡Œæ— æ³•è§£é‡Šï¼Œï¼Œï¼Œï¼Œæ­¤è·¯ä¸é€š æ•°å­¦æ€»æ˜¯è¿™æ ·ï¼Œå¦‚æœæˆ‘éå¾—è®©è¿™ä¸ªå¼å­å¯ä»¥è¿ç®—ï¼Œå°†å¯¹å¾ˆå¤šå…¶ä»–æ•°å­¦å®šç†æœ‰å¾ˆå¤§çš„å½±å“ï¼Œè€Œä¸æ˜¯é‚£äº›æ•°å­¦å®¶ä»¬ä¸æ„¿æ„åœ¨æ•°å­¦ç•Œç»™å‡ºæ–°çš„è¿ç®—ã€‚ç»™å‡ºæ–°çš„è¿ç®—å°±å¾—ä»˜å‡ºä»£ä»·ã€‚ æ•°å­¦ç•Œç”¨è¿™æ ·ä¸€ç§æ–¹æ³•æ¥å›é¿è¿™æ ·çš„é—®é¢˜ï¼Œé‡æ–°å®šä¹‰ç»„åˆæ•°ï¼Œè€Œä¸æ˜¯å¼•å…¥æ–°çš„è¿ç®—ã€‚ é‡æ–°å®šä¹‰å¹¿ä¹‰ç»„åˆæ•°çš„å€¼$$C_{x}^{n}&#x3D;\\frac{\\prod _{i&#x3D;x-n+1}^{x}i}{n!}(x\\in R,n\\in Z^{*})$$ å¦‚æ­¤æˆ‘ä»¬æŠŠé¢˜ç›®éƒ½é‡æ–°åšä¸€é$$C_{4.5}^{3}&#x3D;\\frac{\\prod _{i&#x3D;4.5-3+1}^{4.5}i}{3!}&#x3D;\\frac{\\prod _{I&#x3D;2.5}^{4.5}i}{3!}&#x3D;\\frac{2.53.54.5}{123}$$ $$C_{3}^{4}&#x3D;\\frac{\\prod _{i&#x3D;3-4+1}^{3}i}{4!}&#x3D;\\frac{\\prod _{i&#x3D;0}^{3}i}{4!}&#x3D;\\frac{0123}{1234}&#x3D;0$$ $$C_{-1}^{3}&#x3D;\\frac{\\prod _{i&#x3D;-1-3+1}^{-1}i}{3!}&#x3D;\\frac{\\prod _{i&#x3D;-3}^{-1}i}{3!}&#x3D;\\frac{(-3)(-2)(-1)}{123}$$ â€¦â€¦. å·®ä¸å¤šäº† over","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ•°å­¦","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%95%B0%E5%AD%A6/"}],"tags":[]},{"title":"æ–œç‡ä¼˜åŒ–dp","slug":"ACM/å­¦ä¹ ç¬”è®°/DP/æ–œç‡ä¼˜åŒ–dp/index","date":"2018-10-20T12:37:04.000Z","updated":"2018-10-20T12:37:04.000Z","comments":true,"path":"PGWDPS.html","link":"","permalink":"http://fightinggg.github.io/indigo/PGWDPS.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162// æ–œç‡ä¼˜åŒ–// å¯¹äºdp[i]=max/min(f(j)+g(j)*h(i)+H(i))å½¢å¼// ä¸ºç®€åŒ–æè¿°æˆ‘ä»¬å¯ä»¥åªè€ƒè™‘minæƒ…å†µ// æˆ‘ä»¬å¯¹å¼å­ä¸­ä¸åŒçš„jä½œå·®// è¿™é‡Œå§‘ä¸”ç”¨jä¸kè¡¨ç¤º// ä¸å¦¨è®¾k&gt;j// å¾—åˆ°å·®f(k)-f(j)+h(i)*(g(k)-g(j))// å¦‚æœkä¼˜äºjé‚£ä¹ˆä¸Šå¼&lt;=0// f(k)-f(j)+h(i)*(g(k)-g(j))&lt;=0// å¦‚æœgå‡½æ•°æ»¡è¶³å•è°ƒï¼Œä¸ºäº†æ–¹ä¾¿ æˆ‘ä»¬å‡è®¾ä»–å•è°ƒå¢// åˆ™ã€f(k)-f(j)ã€‘/ã€g(k)-g(j)ã€‘&lt;=h(i)// æ–œç‡æ‰¾åˆ°ï¼Œå°±æ˜¯æœ€å¤§ä¸”å°äºh(i)çš„ä¸€ç»„ç›¸é‚»ç‚¹çš„æ–œç‡ï¼Œè¿™æ—¶çš„å³ç«¯ç‚¹å°±æ˜¯dpè½¬ç§»å¼æ‰€è¦çš„ä¸œè¥¿// æ€»è€Œè¨€ä¹‹ï¼Œå½“ä¸”ä»…å½“è½¬ç§»æ–¹ç¨‹æ»¡è¶³dp[i]=max/min(f(j)+g(j)*h(i)+H(i))å½¢å¼ä¸”gå‡½æ•°å•è°ƒ// æˆ‘ä»¬å°±å¯ä»¥æ–œç‡ä¼˜åŒ– // é‡åœ¨æ€ç»´ä¸æ¨å¯¼ï¼Œä¸åœ¨æ¿å­ï¼Œæ­¤æ¿å­ä»…ä¾›å‚è€ƒ#include&lt;bits/stdc++.h&gt;using namespace std;#define ll long longconst int maxn = 5e4;long long Q[maxn], dp[maxn], s[maxn];long long f(int j) &#123; return dp[j] + (j + s[j]) * (j + s[j]);&#125;double Slope(long long j, long long k) //æ±‚æ–œç‡&#123; return double(f(k) - f(j)) / (k + s[k] - j - s[j]);&#125;int main() &#123; ll n, L; while (~scanf(&quot;%lld%lld&quot;, &amp;n, &amp;L)) &#123; for (int i = 1; i &lt;= n; i++) &#123; int tmp; scanf(&quot;%d&quot;, &amp;tmp); s[i] = s[i - 1] + tmp; &#125; int Left = 1, Right = 1; Q[1] = 0; dp[0] = 0; for (int i = 1; i &lt;= n; i++) &#123; while (Left &lt; Right &amp;&amp; Slope(Q[Left], Q[Left + 1]) &lt;= 2 * (s[i] + i - L - 1)) Left++; //ç»´æŠ¤é˜Ÿé¦–ï¼ˆåˆ é™¤éæœ€ä¼˜å†³ç­–ï¼‰ int j = Q[Left]; dp[i] = dp[j] + (i - j - 1 + s[i] - s[j] - L) * (i - j - 1 + s[i] - s[j] - L); //è®¡ç®—å½“å‰f while (Left &lt; Right &amp;&amp; Slope(Q[Right - 1], Q[Right]) &gt;= Slope(Q[Right], i)) Right--; //ç»´æŠ¤é˜Ÿå°¾ï¼ˆç»´æŠ¤ä¸‹å‡¸åŒ…æ€§è´¨ï¼‰ Q[++Right] = i; //å…¥é˜Ÿ &#125; printf(&quot;%lld\\n&quot;, dp[n]); &#125; return 0;&#125;// solved pzoj 1010","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"DP","slug":"ACM/å­¦ä¹ ç¬”è®°/DP","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/DP/"}],"tags":[]},{"title":"åˆæ•°åˆ†è§£","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦/åˆæ•°åˆ†è§£/index","date":"2018-10-19T08:19:43.000Z","updated":"2018-10-19T08:19:43.000Z","comments":true,"path":"PGU74V.html","link":"","permalink":"http://fightinggg.github.io/indigo/PGU74V.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æš´åŠ›æšä¸¾å› å­æ³•123456789101112131415161718192021222324252627282930313233343536//ç´ æ•°ç­›ä¸åˆæ•°åˆ†è§£//é¢„å¤„ç†Oï¼ˆsqrt(n)ï¼‰ï¼Œè¯¢é—®Oï¼ˆsqrtï¼ˆnï¼‰ï¼‰//è°ƒç”¨find_ini() getfacï¼ˆï¼‰const int maxn=3e6+5;int prime[maxn],prime_,not_prime[maxn]=&#123;1,1&#125;;void prime_ini()&#123;// ç´ æ•°ä¸å¯èƒ½ç­›åˆ°longlongèŒƒå›´ for(int i=2; i&lt;maxn; i++)&#123; if(!not_prime[i])prime[prime_++]=i;//æŠŠè´¨æ•°æ”¶å½• for(int j=0; 1ll*i*prime[j]&lt;maxn; j++)&#123; not_prime[i*prime[j]]=1;//å¯¹æ¯ä¸€ä¸ªæ•°å­—æšä¸¾ä»–çš„æœ€å°å› å­ if(i%prime[j]==0)break;//åœ¨å¾€åçš„è¯å°±ä¸æ˜¯æœ€å°å› å­äº† &#125; &#125;&#125;int fac[100][2],fac_;void getfac(int x)&#123; // assert(x&gt;=2) fac_=0;//æ¸…ç©ºfac for(int i=0; prime[i]&lt;=x/prime[i]; i++)&#123; if(x%prime[i]==0)&#123; fac[fac_][0]=prime[i]; fac[fac_][1]=0; while(x%prime[i]==0)&#123; fac[fac_][1]++; x/=prime[i]; &#125; fac_++; &#125; &#125; if(x!=1)&#123; fac[fac_][0]=x; fac[fac_][1]=1; fac_++; &#125;&#125; è®°å½•æœ€å°å› å­æ³•123456789101112131415161718192021222324252627282930313233343536373839404142//è¿™ä¸ªæ¿å­åªèƒ½å¤„ç†æ­£æ•°//é¢„å¤„ç†Oï¼ˆnï¼‰åˆæ•°åˆ†è§£Oï¼ˆlgnï¼‰//æœ€å¤§ä½¿ç”¨èŒƒå›´[1,MAXN),å®é™…ä½¿ç”¨[1,MAXN);//è°ƒç”¨find_ini() getfacï¼ˆï¼‰typedef long long ll;const ll MAXN=1e6+5;ll prime[MAXN],prime_;ll min_fac[MAXN]=&#123;-9527,1&#125;;//0,1bool not_prime[MAXN]=&#123;true,true&#125;;//0,1void prime_ini()&#123; for(ll i=2; i&lt;MAXN; i++)&#123; if(!not_prime[i])&#123; prime[prime_++]=i;//æŠŠè´¨æ•°æ”¶å½• min_fac[i]=i; &#125; for(ll j=0; j&lt;prime_ &amp;&amp; i*prime[j]&lt;MAXN; j++)&#123; not_prime[i*prime[j]]=true;//å¯¹æ¯ä¸€ä¸ªæ•°å­—æšä¸¾ä»–çš„æœ€å°å› å­ min_fac[i*prime[j]]=prime[j]; if(i%prime[j]==0)break;//åœ¨å¾€åçš„è¯å°±ä¸æ˜¯æœ€å°å› å­äº† &#125; &#125;&#125;//å½“x=0ï¼Œ1ä¼šå¼‚å¸¸ï¼Œæ— æ„ä¹‰çš„ä¸œè¥¿ll fac[100][2],fac_;void getfac(int x)&#123; fac_=0; while(x!=1)&#123; ll little=min_fac[x]; fac[fac_][0]=little; fac[fac_][1]=0; while(little!=1 &amp;&amp; min_fac[x]==little)&#123; x/=little; fac[fac_][1]++; &#125; fac_++; &#125;&#125;//solved poj-1365 PollaraRhoéšæœºåˆ†è§£æ³•æˆ‘ä»¬ä½¿ç”¨ç±³å‹’ç½—å®¾ç´ æ•°æµ‹è¯•å¤šæ¬¡ï¼Œåªè¦æ— æ³•é€šè¿‡æµ‹è¯•ï¼Œåˆ™è¿™ä¸ªæ•°å¿…ç„¶æ˜¯åˆæ•°ï¼Œç„¶åä½¿ç”¨PollaraRhoéšæœºåˆ†è§£æ³•å¯¹ç´ æ•°è¿›è¡Œåˆ†è§£ã€‚è€ƒè™‘gcdï¼Œå¦‚æœ$gcd(a,b)$ä¸ä¸º1æˆ–è€…bï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°ä¸€å®šæ˜¯bçš„å› å­ï¼Œå¯ä»¥ç”¨æ¥åˆ†è§£bï¼Œä¸€ä¸ªæ•°çš„å› å­å¾ˆå°‘ï¼Œä½†æ˜¯å’Œgcdä¸ä¸º1æˆ–bçš„æ•°æœ‰å¾ˆå¤šä¸ª(è‡³å°‘æ˜¯$\\sqrt{b}$ä¸ª)ï¼Œæ‰€ä»¥æˆ‘ä»¬å¤šæ¬¡éšæœºç”Ÿæˆï¼Œä¸€å®šèƒ½å¤Ÿå¾—åˆ°ä»–çš„å› å­ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394959697#include&lt;bits/stdc++.h&gt;using namespace std;typedef long long ll;typedef __int128 I;/* * ç´ æ•° * æ¬§æ‹‰å®šç† * è´¹é©¬å°å®šç†1 è‹¥aä¸ºæ•´æ•°ï¼Œpä¸ºè´¨æ•°ï¼Œåˆ™ pow(a,p)%p=a%p * è´¹é©¬å°å®šç†2 è‹¥aä¸ºæ•´æ•°ï¼Œpä¸ºè´¨æ•°ï¼Œaä¸æ˜¯pçš„å€æ•° åˆ™ pow(a,p-1)%p=1%p=1 ï¼ˆ0æ˜¯2çš„0å€ï¼‰*/namespace amazing&#123; inline ll gcd(ll a,ll b)&#123; int shift=__builtin_ctzll(a|b); b&gt;&gt;=__builtin_ctzll(b); while(a)&#123; a&gt;&gt;=__builtin_ctzll(a); if(a&lt;b) swap(a,b); a-=b; &#125;return b&lt;&lt;shift; &#125; inline ll mul(ll x,ll y,ll p)&#123;// æœ‰è¯¯å·®ï¼Œè¦å½“å¿ƒä½¿ç”¨ï¼Œwaäº†å¯èƒ½å°±æ˜¯å› ä¸ºä»– ll z=(long double)x/p*y; ll res=x*y-z*p; return res&lt;p?res+p:res&gt;p?res-p:res; &#125;&#125;ll qpow(ll a,ll b,ll c)&#123; ll r=1; while(b)&#123; if(b&amp;1) r=I(r)*a%c; a=I(a)*a%c; b&gt;&gt;=1; &#125;return r;&#125;bool miller_rabin(ll n)&#123;// O(10*lgn) if(n&lt;=1) return false; ll t=n-1,k=0; while((t&amp;1)==0) t&gt;&gt;=1,k++; for(int i=1;i&lt;=10;i++)&#123;// 8-10æ¬¡ ll a=qpow(rand()%(n-1)+1,t,n);//å…¨éƒ¨å¤æ‚åº¦åœ¨è¿™ for(ll j=1;j&lt;=k;j++)&#123; ll nex=I(a)*a%n; if(nex==1&amp;&amp;a!=1&amp;&amp;a!=n-1) return false;//é€šä¸è¿‡æµ‹è¯•ï¼Œæ˜¯åˆæ•° a=nex; &#125; if(a!=1)return false;//é€šä¸è¿‡æµ‹è¯•ï¼Œæ˜¯åˆæ•° &#125; return true;// é€šè¿‡æµ‹è¯•å¯èƒ½æ˜¯ä¼ªç´ æ•°&#125;ll pollard_rho(ll n)&#123; // assert(n&gt;1) while(true)&#123; ll c=rand()%(n-1)+1; ll x=0,y=0,val=1; for(ll i=0;;i++)&#123; x=amazing::mul(x,x,n)+c; if(x&gt;n)x-=n;// x=(I(x)*x+c)%n; if(x==y) break; val=amazing::mul(val,abs(x-y),n);// val=I(val)*abs(x-y)%n;// ä¹˜èµ·æ¥æ˜¯æ ¹æ® gcd(a,n)|gcd(ab,n)æ’æˆç«‹ ä¸”gcd(ab,n)=gcd(ab%n,n) if((i&amp;-i)==i||i%127==0)&#123;// å¤ªå¤šå¿…ç„¶å¯¼è‡´valè¶‹äºnï¼Œå¤ªå°‘å¯¼è‡´gcdæ‹–æ…¢é€Ÿåº¦ ll d=__gcd(val,n);// ä¹˜èµ·æ¥ä¸€èµ·ç®— if(d==n) break; if(d&gt;1) return d; &#125; if((i&amp;-i)==i) y=x; &#125; &#125;&#125;vector&lt;ll&gt; findfac(ll n)&#123; vector&lt;ll&gt;res,stk(1,n); if(stk.back()==1) return res; while(!stk.empty())&#123; ll top=stk.back();stk.pop_back(); if(miller_rabin(top)) res.push_back(top); else&#123;// é€šä¸è¿‡æµ‹è¯•æ˜¯åˆæ•° ll fac=pollard_rho(top); stk.push_back(fac); stk.push_back(top/fac); &#125; &#125; return res;&#125;ll read()&#123;ll x;scanf(&quot;%lld&quot;,&amp;x);return x;&#125;int main()&#123; srand(time(NULL)); for(int T=read();T&gt;=1;T--)&#123; vector&lt;ll&gt;v=findfac(read()); sort(v.begin(),v.end()); if(v.size()==1) printf(&quot;Prime\\n&quot;); else printf(&quot;%lld\\n&quot;,v.back()); &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ•°å­¦","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%95%B0%E5%AD%A6/"}],"tags":[]},{"title":"æ„é€ ","slug":"ACM/å­¦ä¹ ç¬”è®°/æ€ç»´/æ„é€ /index","date":"2018-10-16T11:21:58.000Z","updated":"2018-10-16T11:21:58.000Z","comments":true,"path":"PGOVKM.html","link":"","permalink":"http://fightinggg.github.io/indigo/PGOVKM.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ç»™ä¸ªnï¼Œè®©ä½ æ„é€ ä¸€ä¸ª$n\\times n$çš„çŸ©é˜µæ»¡è¶³æ¯ä¸€è¡Œæ¯ä¸€åˆ—éƒ½æ˜¯1-nçš„æ’åˆ—ä¸”å¯¹äºæ‰€æœ‰çš„i!&#x3D;jéƒ½æœ‰A[iï¼Œj]!&#x3D;A[jï¼Œi] â€‹ å¥‡æ•°å¾ˆå¥½å¤„ç†ï¼Œä½†æ˜¯å¶æ•°ä¸å¥½æï¼Œ â€‹ å¯¹äºä¸€ä¸ªå¶æ•°2k â€‹ æˆ‘ä»¬å‡è®¾æ„é€ å‡ºäº†k*kçš„çŸ©é˜µBæ˜¯æˆç«‹çš„äº† â€‹ çœ‹è¿™ä¸ªçŸ©é˜µC[i,j]&#x3D;B[i,j]+k â€‹ C B1 â€‹ B2 C â€‹ æˆ‘ä»¬æŠŠB1æ²¿ç€è‡ªå·±çš„ä¸»å¯¹è§’çº¿ç¿»è½¬ â€‹ é‚£ä¹ˆç°åœ¨B2ä¸B1å…³äº2k*2kä¸»å¯¹è§’çº¿å¯¹ç§° â€‹ æˆ‘ä»¬è®©B2ä¸­çš„1å˜æˆ2ï¼Œ2å˜æˆ3ï¼Œ3å˜æˆ4 â€‹ æ„é€ å®Œæˆ","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ€ç»´","slug":"ACM/å­¦ä¹ ç¬”è®°/æ€ç»´","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%80%9D%E7%BB%B4/"}],"tags":[]},{"title":"æœ€å¤§æµæœ€å°å‰²ç®—æ³•","slug":"ACM/å­¦ä¹ ç¬”è®°/å›¾è®º/æœ€å¤§æµæœ€å°å‰²ç®—æ³•/index","date":"2018-10-15T09:00:17.000Z","updated":"2019-09-03T08:09:38.000Z","comments":true,"path":"PGMUCH.html","link":"","permalink":"http://fightinggg.github.io/indigo/PGMUCH.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial äºŒåˆ†å›¾çš„æœ€å°é¡¶ç‚¹è¦†ç›–å®šä¹‰ï¼šå‡å¦‚é€‰äº†ä¸€ä¸ªç‚¹å°±ç›¸å½“äºè¦†ç›–äº†ä»¥å®ƒä¸ºç«¯ç‚¹çš„æ‰€æœ‰è¾¹ã€‚æœ€å°é¡¶ç‚¹è¦†ç›–å°±æ˜¯é€‰æ‹©æœ€å°‘çš„ç‚¹æ¥è¦†ç›–æ‰€æœ‰çš„è¾¹ã€‚ æ–¹æ³•ï¼šæœ€å°é¡¶ç‚¹è¦†ç›–ç­‰äºäºŒåˆ†å›¾çš„æœ€å¤§åŒ¹é…ã€‚ æˆ‘ä»¬ç”¨äºŒåˆ†å›¾æ¥æ„é€ æœ€å°é¡¶ç‚¹è¦†ç›–ã€‚ äºŒåˆ†å›¾çš„æœ€å¤§ç‹¬ç«‹é›†å®šä¹‰ï¼šé€‰å‡ºä¸€äº›é¡¶ç‚¹ä½¿å¾—è¿™äº›é¡¶ç‚¹ä¸¤ä¸¤ä¸ç›¸é‚»ï¼Œåˆ™è¿™äº›ç‚¹æ„æˆçš„é›†åˆç§°ä¸ºç‹¬ç«‹é›†ã€‚æ‰¾å‡ºä¸€ä¸ªåŒ…å«é¡¶ç‚¹æ•°æœ€å¤šçš„ç‹¬ç«‹é›†ç§°ä¸ºæœ€å¤§ç‹¬ç«‹é›†ã€‚ æ–¹æ³•ï¼šæœ€å¤§ç‹¬ç«‹é›†&#x3D;æ‰€æœ‰é¡¶ç‚¹æ•°-æœ€å°é¡¶ç‚¹è¦†ç›–ã€‚ äºŒåˆ†å›¾çš„æœ€å¤§å›¢å®šä¹‰ï¼šå¯¹äºä¸€èˆ¬å›¾æ¥è¯´ï¼Œå›¢æ˜¯ä¸€ä¸ªé¡¶ç‚¹é›†åˆï¼Œä¸”ç”±è¯¥é¡¶ç‚¹é›†åˆè¯±å¯¼çš„å­å›¾æ˜¯ä¸€ä¸ªå®Œå…¨å›¾ï¼Œç®€å•è¯´ï¼Œå°±æ˜¯é€‰å‡ºä¸€äº›é¡¶ç‚¹ï¼Œè¿™äº›é¡¶ç‚¹ä¸¤ä¸¤ä¹‹é—´éƒ½æœ‰è¾¹ã€‚æœ€å¤§å›¢å°±æ˜¯ä½¿å¾—é€‰å‡ºçš„è¿™ä¸ªé¡¶ç‚¹é›†åˆæœ€å¤§ã€‚å¯¹äºäºŒåˆ†å›¾æ¥è¯´ï¼Œæˆ‘ä»¬é»˜è®¤ä¸ºå·¦è¾¹çš„æ‰€æœ‰ç‚¹ä¹‹é—´éƒ½æœ‰è¾¹ï¼Œå³è¾¹çš„æ‰€æœ‰é¡¶ç‚¹ä¹‹é—´éƒ½æœ‰è¾¹ã€‚é‚£ä¹ˆï¼Œå®é™…ä¸Šï¼Œæˆ‘ä»¬æ˜¯è¦åœ¨å·¦è¾¹æ‰¾åˆ°ä¸€ä¸ªé¡¶ç‚¹å­é›†Xï¼Œåœ¨å³è¾¹æ‰¾åˆ°ä¸€ä¸ªé¡¶ç‚¹å­é›†Yï¼Œä½¿å¾—Xä¸­æ¯ä¸ªé¡¶ç‚¹å’ŒYä¸­æ¯ä¸ªé¡¶ç‚¹ä¹‹é—´éƒ½æœ‰è¾¹ã€‚ æ–¹æ³•ï¼šäºŒåˆ†å›¾çš„æœ€å¤§å›¢&#x3D;è¡¥å›¾çš„æœ€å¤§ç‹¬ç«‹é›†ã€‚ è¡¥å›¾çš„å®šä¹‰æ˜¯ï¼šå¯¹äºäºŒåˆ†å›¾ä¸­å·¦è¾¹ä¸€ç‚¹xå’Œå³è¾¹ä¸€ç‚¹yï¼Œè‹¥xå’Œyä¹‹é—´æœ‰è¾¹ï¼Œé‚£ä¹ˆåœ¨è¡¥å›¾ä¸­æ²¡æœ‰ï¼Œå¦åˆ™æœ‰ã€‚ è¿™ä¸ªæ–¹æ³•å¾ˆå¥½ç†è§£ï¼Œå› ä¸ºæœ€å¤§ç‹¬ç«‹é›†æ˜¯ä¸¤ä¸¤ä¸ç›¸é‚»ï¼Œæ‰€ä»¥æœ€å¤§ç‹¬ç«‹é›†çš„è¡¥å›¾ä¸¤ä¸¤ç›¸é‚»ã€‚ æœ€å°è¾¹è¦†ç›–è¾¹è¦†ç›–é›†ï¼šé€šä¿—åœ°è®²ï¼Œæ‰€è°“è¾¹è¦†ç›–é›†ï¼Œå°±æ˜¯Gä¸­æ‰€æœ‰çš„é¡¶ç‚¹éƒ½æ˜¯Eä¸­æŸæ¡è¾¹çš„é‚»æ¥é¡¶ç‚¹ï¼ˆè¾¹è¦†ç›–é¡¶ç‚¹ï¼‰ï¼Œä¸€æ¡è¾¹åªèƒ½è¦†ç›–2ä¸ªé¡¶ç‚¹ã€‚ æ³¨æ„ï¼šåœ¨æ— å‘å›¾ä¸­å­˜åœ¨ç”¨å°½é‡å°‘çš„è¾¹å»â€œè¦†ç›–â€ä½æ‰€æœ‰çš„é¡¶ç‚¹ï¼Œæ‰€ä»¥è¾¹è¦†ç›–é›†æœ‰æå°ä¸æœ€å°çš„åŒºåˆ«ã€‚ æå°è¾¹è¦†ç›–ï¼šè‹¥è¾¹è¦†ç›–Eä¸­çš„ä»»ä½•çœŸå­é›†éƒ½ä¸æ˜¯è¾¹è¦†ç›–é›†ï¼Œåˆ™ç§°Eæ˜¯æå°è¾¹è¦†ç›–é›†ã€‚ æœ€å°è¾¹è¦†ç›–ï¼šè¾¹æ•°æœ€å°çš„è¾¹è¦†ç›–ç§°ä¸ºæœ€å°è¾¹è¦†ç›–ï¼Œé€šä¿—åœ°è®²ï¼Œå°±æ˜¯æå°è¾¹è¦†ç›–ä¸­çš„æœ€å°çš„ä¸€ä¸ªé›†åˆã€‚ æœ€å°è¾¹è¦†ç›– &#x3D; æœ€å¤§ç‹¬ç«‹é›† &#x3D; n - æœ€å¤§åŒ¹é… æœ€å¤§æƒé—­åˆå­å›¾å®šä¹‰ï¼šæœ‰ä¸€ä¸ªæœ‰å‘å›¾ï¼Œæ¯ä¸€ä¸ªç‚¹éƒ½æœ‰ä¸€ä¸ªæƒå€¼ï¼ˆå¯ä»¥ä¸ºæ­£æˆ–è´Ÿæˆ–0ï¼‰ï¼Œé€‰æ‹©ä¸€ä¸ªæƒå€¼å’Œæœ€å¤§çš„å­å›¾ï¼Œä½¿å¾—æ¯ä¸ªç‚¹çš„åç»§éƒ½åœ¨å­å›¾é‡Œé¢ï¼Œè¿™ä¸ªå­å›¾å°±å«æœ€å¤§æƒé—­åˆå­å›¾ã€‚ æ–¹æ³•ï¼šå°†æ­£æƒç‚¹è¿æ¥s,å®¹é‡ä¸ºç‚¹æƒ,è´Ÿæƒç‚¹è¿æ¥tå®¹é‡ä¸ºç‚¹æƒç»å¯¹å€¼,æ‰€æ±‚å¾—çš„æœ€å°å‰²å°†å›¾åˆ†ä¸ºä¸¤éƒ¨åˆ†,æˆ‘ä»¬å‘ç°æ‰€æœ‰æ­£ç‚¹æƒçš„å’Œå‡å»è¯¥ç®€å•å‰²ä¾¿æ˜¯ä¸sç›¸è¿çš„é—­åˆå›¾çš„æƒï¼Œé€šè¿‡æœ€å°å‰²æ‰¾åˆ°äº†æœ€å¤§æƒé—­åˆå›¾ã€‚ æœ€å¤§å¯†åº¦å­å›¾å®šä¹‰ï¼šç»™å®šä¸€ä¸ªæ— å‘å›¾ï¼Œè¦æ±‚å®ƒçš„ä¸€ä¸ªå­å›¾ï¼Œä½¿å¾—å­å›¾ä¸­è¾¹æ•° ä¸ç‚¹æ•° çš„æ¯”å€¼æœ€å¤§ï¼Œ æ–¹æ³•ï¼šå®šä¹‰$d_i$ä¸ºä¸ç‚¹iç›¸è¿çš„æ‰€æœ‰è¾¹çš„æƒå€¼å’Œï¼Œå®šä¹‰$p_i$ä¸ºç‚¹içš„æƒï¼Œä¿ç•™ä»¥å‰çš„å›¾ï¼Œæ–°å»ºæºç‚¹sæ±‡ç‚¹tï¼Œsåˆ°iè¿è¾¹ï¼Œæƒå€¼ä¸ºUï¼Œiåˆ°tè¿è¾¹ï¼Œæƒå€¼ä¸º$2g-d_i-2p_i$ é‚£ä¹ˆ$h(g)$çš„å€¼ä¸º$(U\\cdot n-maxflow)$ï¼ŒäºŒåˆ†ç­”æ¡ˆå°±è¡Œäº†ã€‚ æœ€å°è·¯å¾„è¦†ç›–å­å›¾å®šä¹‰ï¼šå¯¹äºä¸€ä¸ªæœ‰å‘å›¾ï¼Œæ‰¾å‡ºæœ€å°çš„è·¯å¾„æ¡æ•°ï¼Œä½¿ä¹‹æˆä¸ºä¸€ä¸ªè·¯å¾„è¦†ç›–ï¼ æ–¹æ³•ï¼šç”¨åŸå›¾å»ºç«‹ä¸€ä¸ªä¸¤å±‚çš„æ–°å›¾ï¼Œå¦‚æœåŸå›¾ä¸­å­˜åœ¨è¾¹i-&gt;jæˆ‘ä»¬å»ºç«‹çš„æ–°å›¾å°±æœ‰ç¬¬ä¸€å±‚çš„ç‚¹iæµåˆ°ç¬¬äºŒå±‚çš„ç‚¹jï¼Œæœ€åå»ºç«‹è¶…çº§æºç‚¹æµå‘ æ‰€æœ‰çš„ç¬¬ä¸€å±‚å›¾çš„ç‚¹ï¼Œå»ºç«‹è¶…çº§æ±‡ç‚¹ï¼Œç”±æ‰€æœ‰ç¬¬äºŒå±‚çš„å›¾æµå…¥ï¼Œç”¨nå‡å»æ‰€ æ±‚çš„æœ€å¤§æµå°±æ˜¯æœ€å°è·¯å¾„ã€‚ æœ‰å‘æ— ç¯å›¾æœ€é•¿é“¾ã€æœ€é•¿åé“¾åœ¨æœ‰å‘æ— ç¯å›¾ä¸­ï¼Œæœ‰å¦‚ä¸‹çš„ä¸€äº›å®šä¹‰å’Œæ€§è´¨ï¼š é“¾ï¼šä¸€æ¡é“¾æ˜¯ä¸€äº›ç‚¹çš„é›†åˆï¼Œé“¾ä¸Šä»»æ„ä¸¤ä¸ªç‚¹x, yï¼Œæ»¡è¶³è¦ä¹ˆ x èƒ½åˆ°è¾¾ y ï¼Œè¦ä¹ˆ y èƒ½åˆ°è¾¾ x ã€‚ åé“¾ï¼šä¸€æ¡åé“¾æ˜¯ä¸€äº›ç‚¹çš„é›†åˆï¼Œé“¾ä¸Šä»»æ„ä¸¤ä¸ªç‚¹x, yï¼Œæ»¡è¶³ x ä¸èƒ½åˆ°è¾¾ yï¼Œä¸” y ä¹Ÿä¸èƒ½åˆ°è¾¾ xã€‚ ä¸€ä¸ªå®šç†ï¼šæœ€é•¿åé“¾é•¿åº¦&#x3D;æœ€å°é“¾è¦†ç›–ï¼ˆç”¨æœ€å°‘çš„é“¾è¦†ç›–æ‰€æœ‰é¡¶ç‚¹ï¼‰ å¯¹å¶å®šç†ï¼šæœ€é•¿é“¾é•¿åº¦&#x3D;æœ€å°åé“¾è¦†ç›– æœ€å°é“¾è¦†ç›–ï¼ˆå¯ä»¥ç›¸äº¤çš„æœ€å°è·¯å¾„è¦†ç›–ï¼‰ï¼ˆæœ€é•¿åé“¾é•¿åº¦ï¼‰ï¼ˆç”¨æœ€å°‘çš„é“¾è¦†ç›–æ‰€æœ‰é¡¶ç‚¹ï¼‰å®šä¹‰ï¼šä¸€æ¡é“¾æ˜¯ä¸€äº›ç‚¹çš„é›†åˆï¼Œé“¾ä¸Šä»»æ„ä¸¤ä¸ªç‚¹x, yï¼Œæ»¡è¶³è¦ä¹ˆ x èƒ½åˆ°è¾¾ y ï¼Œè¦ä¹ˆ y èƒ½åˆ°è¾¾ x ã€‚æœ‰å‘æ— ç¯å›¾ä¸­ï¼Œæ‰¾å‡ºæœ€å°çš„è·¯å¾„æ¡æ•°ï¼Œä½¿ä¹‹æˆä¸ºçš„ä¸€ä¸ªè·¯å¾„è¦†ç›–ã€‚ æ–¹æ³•ï¼šæˆ‘ä»¬å°†åŸå›¾åšä¸€æ¬¡Floydä¼ é€’é—­åŒ…ï¼Œåœ¨æ–°å›¾ä¸­å¯»æ‰¾æœ€å°è·¯å¾„è¦†ç›–ï¼Œè¿™æ ·å…¶å®å°±æ˜¯ç›¸å½“äºå°†åŸå›¾æ”¹é€ äº†ä¸€ä¸‹ï¼Œåªè¦ x èƒ½åˆ°è¾¾ y ï¼Œå°±ç›´æ¥è¿ä¸€æ¡è¾¹ (x, y)ï¼Œè¿™æ ·å°±å¯ä»¥â€œç»•è¿‡â€åŸå›¾çš„ä¸€äº›è¢«å…¶ä»–è·¯å¾„å ç”¨çš„ç‚¹ï¼Œç›´æ¥æ„é€ æ–°è·¯å¾„äº†ã€‚è¿™æ ·å°±å°†å¯ä»¥ç›¸äº¤çš„æœ€å°è·¯å¾„è¦†ç›–è½¬åŒ–ä¸ºäº†è·¯å¾„ä¸èƒ½ç›¸äº¤çš„æœ€å°è·¯å¾„è¦†ç›–äº†ã€‚ æœ€å¤§å›¢ &#x3D; è¡¥å›¾çš„æœ€å¤§ç‹¬ç«‹é›† æœ€å°è¾¹è¦†ç›– &#x3D; äºŒåˆ†å›¾æœ€å¤§ç‹¬ç«‹é›† &#x3D; |V| - æœ€å°è·¯å¾„è¦†ç›– æœ€å°è·¯å¾„è¦†ç›– &#x3D; |V| - æœ€å¤§åŒ¹é…æ•° æœ€å°é¡¶ç‚¹è¦†ç›– &#x3D; æœ€å¤§åŒ¹é…æ•° æœ€å°é¡¶ç‚¹è¦†ç›– + æœ€å¤§ç‹¬ç«‹æ•° &#x3D; |V| æœ€å°å‰² &#x3D; æœ€å°ç‚¹æƒè¦†ç›–é›† &#x3D; ç‚¹æƒå’Œ - æœ€å¤§ç‚¹æƒç‹¬ç«‹é›† 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647#define rep(i,j,k) for(int i=j;i&lt;=(k);++i)#define per(i,j,k) for(int i=j;i&gt;=(k);--i)#define repe(i,u) for(int i=head[u];i;i=nex[i])// graphconst int V=5e4+5,E=5e4+5;int head[V];int to[E],nex[E],ew[E],tot=1;inline void addedge1(int u,int v,int w) &#123;to[++tot]=v,nex[tot]=head[u],ew[tot]=w,head[u]=tot;&#125;void del(int u)&#123;repe(i,u) head[u]=0,del(to[i]);&#125;//æœ€å¤§æµæœ€å°å‰²ç®—æ³•int lv[V],current[V],src,dst;int *cap=ew;//å®¹é‡ç­‰äºè¾¹æƒbool maxflowbfs()&#123; queue&lt;int&gt;q; lv[src]=0, q.push(src); while(!q.empty())&#123; int u=q.front();q.pop(); repe(i,u)&#123; if(cap[i]==0||lv[to[i]]&gt;=0)continue; lv[to[i]]=lv[u]+1, q.push(to[i]); &#125; &#125; return lv[dst]&gt;=0;&#125;int maxflowdfs(int u,int f)&#123; if(u==dst)return f; for(int&amp;i=current[u];i;i=nex[i])&#123;//å½“å‰å¼§ä¼˜åŒ– if(cap[i]==0||lv[u]&gt;=lv[to[i]])continue; int flow=maxflowdfs(to[i],min(f,cap[i])); if(flow==0) continue; cap[i]-=flow,cap[i^1]+=flow; return flow; &#125; return 0;&#125;ll maxflow(int base,int n,int s,int t)&#123; src=base+s,dst=base+t; ll flow=0,f=0;// è®¡ç®—æœ€å¤§æµçš„è¿‡ç¨‹ä¸­ä¸å¯èƒ½çˆ†int å”¯ç‹¬åœ¨æœ€åå¯¹æµé‡æ±‚å’Œå¯¹æ—¶å€™å¯èƒ½ä¼šæ¯”è¾ƒå¤§ æ‰€ä»¥åªæœ‰è¿™é‡Œç”¨ll while(true)&#123; rep(i,base+1,base+n) current[i]=head[i],lv[i]=-1; if(!maxflowbfs())return flow; while(f=maxflowdfs(src,2e9)) flow+=f; &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"å›¾è®º","slug":"ACM/å­¦ä¹ ç¬”è®°/å›¾è®º","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%9B%BE%E8%AE%BA/"}],"tags":[]},{"title":"çƒç›’æ¨¡å‹","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦/çƒç›’æ¨¡å‹/index","date":"2018-10-15T06:27:47.000Z","updated":"2021-05-07T05:32:00.000Z","comments":true,"path":"PGMNAB.html","link":"","permalink":"http://fightinggg.github.io/indigo/PGMNAB.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ä»‹ç»çƒç›’æ¨¡å‹æŒ‡çš„æ˜¯æŠŠçƒæ”¾å…¥ç›’å­é‡Œçš„é¢˜ç›®æ¨¡å‹ï¼ˆå¼ºè¡Œè§£é‡Šï¼‰ åˆ†ä¸ºç›’å­åŒæˆ–ä¸åŒï¼ŒçƒåŒæˆ–ä¸åŒï¼Œç›’å­å…è®¸ç©ºæˆ–ä¸ç©ºï¼Œæ‰€ä»¥ä¸€å…±å…«ç§é—®é¢˜ ç»“è®ºä¸å¦¨å‡è®¾nä¸ªçƒï¼Œmä¸ªç›’å­ ç›’å¼‚ï¼ŒçƒåŒï¼Œç›’å­å…è®¸ç©º $C_{m+n-1}^{m-1}$ ç›’å¼‚ï¼ŒçƒåŒï¼Œç›’ä¸å…è®¸ç©º$C_{n-1}^{m-1}$ ç›’åŒï¼ŒçƒåŒï¼Œç›’å­å…è®¸ç©º$\\begin{aligned}\\prod _{j&#x3D;1}^{m}\\frac{1}{1-x^{j}}\\end{aligned}$ä¸­çš„$x^n$ç³»æ•° ç›’åŒï¼ŒçƒåŒï¼Œç›’ä¸å…è®¸ç©º$\\begin{aligned}x^m\\prod _{j&#x3D;1}^{m}\\frac{1}{1-x^{j}}\\end{aligned}$ä¸­$x^n$çš„ç³»æ•° ç›’å¼‚ï¼Œçƒå¼‚ï¼Œç›’å­å…è®¸ç©º $m^n$ ç›’å¼‚ï¼Œçƒå¼‚ï¼Œç›’ä¸å…è®¸ç©º$\\begin{aligned}\\sum _{k&#x3D;0}^{m}(C_m^k(-1)^{m-k}k^n)\\end{aligned}$ ç›’åŒï¼Œçƒå¼‚ï¼Œç›’å­å…è®¸ç©º$$\\begin{aligned}\\sum_{i&#x3D;0}^{m} \\sum_{k&#x3D;0}^i\\frac{C_i^k(-1)^{i-k}k^n}{i!}\\end{aligned}$$ ç›’åŒï¼Œçƒå¼‚ï¼Œç›’ä¸å…è®¸ç©º$\\begin{aligned}\\sum _{k&#x3D;0}^m\\frac{C_m^k(-1)^{m-k}k^n}{m!}\\end{aligned}$","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ä»‹ç»çƒç›’æ¨¡å‹æŒ‡çš„æ˜¯æŠŠçƒæ”¾å…¥ç›’å­é‡Œçš„é¢˜ç›®æ¨¡å‹ï¼ˆå¼ºè¡Œè§£é‡Šï¼‰ åˆ†ä¸ºç›’å­åŒæˆ–ä¸åŒï¼ŒçƒåŒæˆ–ä¸åŒï¼Œç›’å­å…è®¸ç©ºæˆ–ä¸ç©ºï¼Œæ‰€ä»¥ä¸€å…±å…«ç§é—®é¢˜ ç»“è®ºä¸å¦¨å‡è®¾nä¸ªçƒï¼Œmä¸ªç›’å­ ç›’å¼‚ï¼ŒçƒåŒï¼Œç›’å­å…è®¸ç©º $C_{m+n-1}^{m-1}$ ç›’å¼‚ï¼ŒçƒåŒï¼Œç›’ä¸å…è®¸ç©º$C_{n-1}^{m-1}$ ç›’åŒï¼ŒçƒåŒï¼Œç›’å­å…è®¸ç©º$\\begin{aligned}\\prod _{j&#x3D;1}^{m}\\frac{1}{1-x^{j}}\\end{aligned}$ä¸­çš„$x^n$ç³»æ•° ç›’åŒï¼ŒçƒåŒï¼Œç›’ä¸å…è®¸ç©º$\\begin{aligned}x^m\\prod _{j&#x3D;1}^{m}\\frac{1}{1-x^{j}}\\end{aligned}$ä¸­$x^n$çš„ç³»æ•° ç›’å¼‚ï¼Œçƒå¼‚ï¼Œç›’å­å…è®¸ç©º $m^n$ ç›’å¼‚ï¼Œçƒå¼‚ï¼Œç›’ä¸å…è®¸ç©º$\\begin{aligned}\\sum _{k&#x3D;0}^{m}(C_m^k(-1)^{m-k}k^n)\\end{aligned}$ ç›’åŒï¼Œçƒå¼‚ï¼Œç›’å­å…è®¸ç©º$$\\begin{aligned}\\sum_{i&#x3D;0}^{m} \\sum_{k&#x3D;0}^i\\frac{C_i^k(-1)^{i-k}k^n}{i!}\\end{aligned}$$ ç›’åŒï¼Œçƒå¼‚ï¼Œç›’ä¸å…è®¸ç©º$\\begin{aligned}\\sum _{k&#x3D;0}^m\\frac{C_m^k(-1)^{m-k}k^n}{m!}\\end{aligned}$ è¯æ˜ç›’å¼‚ï¼ŒçƒåŒï¼Œç›’å­å…è®¸ç©ºåšæ³•1è€ƒè™‘æ¯å‡½æ•°ï¼Œæˆ‘ä»¬ç”¨æŒ‡æ•°ä»£è¡¨çƒçš„ä¸ªæ•°ï¼Œæ˜¾ç„¶æ¯ä¸ªç›’å­å¯ä»¥æ”¾0ä¸ªï¼Œ1ä¸ªï¼Œ2ä¸ªï¼Œ3ä¸ªï¼Œç­‰ç­‰ï¼Œä¸€å…±mä¸ªç›’å­ï¼Œåˆ™è¿™äº›å¤šé¡¹å¼ç›´æ¥ä¹˜èµ·æ¥å³å¯ï¼Œåˆ™å®šä¹‰æ¯å‡½æ•°$$f(x)&#x3D;(\\sum_{i&#x3D;0}^{\\infty} x^i)^m&#x3D;(\\frac{1}{1-x})^m&#x3D;(1-x)^{-m}$$ å¾ˆæ˜æ˜¾ï¼Œå…¶ä¸­çš„$x^n$çš„ç³»æ•°å°±æ˜¯ç­”æ¡ˆã€‚ æ ¹æ®äºŒé¡¹å¼å®šç†ï¼Œæˆ‘ä»¬è€ƒè™‘$(-x)^n$è¿™ä¸€é¡¹ï¼Œä»–æ˜¯$$\\begin{aligned}&amp;C_{-m}^{n}(-x)^n\\&amp;&#x3D;\\frac{\\prod _{k&#x3D;-m-n+1}^{-m}k}{n!}(-x)^n\\&amp;&#x3D;\\frac{\\prod {k&#x3D;m}^{ m+n-1}k}{n!}x^n\\&amp;&#x3D;C{m+n-1}^{m-1}x^n\\end{aligned}$$ å¦‚æœå¤§å®¶è®¤ä¸ºè¿™ä¸ªè§£é‡Šå¾ˆç‰µå¼ºï¼Œé‚£æˆ‘ä»¬å¯¹$f(x)$è¿›è¡Œæ³°å‹’å±•å¼€ï¼Œæ ¹æ®æ³°å‹’å…¬å¼$f(ğ‘¥)&#x3D;\\sum_{i&#x3D;0}^{\\infty}\\frac{ğ‘“^{(i)}(x_0)}{i!}(ğ‘¥âˆ’ğ‘¥_0)^i$ æˆ‘ä»¬å…ˆå¯¹$f(x)$è¿›è¡Œæ±‚å¯¼$$\\begin{aligned}&amp;fâ€™(x) &#x3D; -m\\cdot(1-x)^{m-1} \\cdot (-1)\\&amp;fâ€™â€™(x) &#x3D; -m\\cdot (-m-1)\\cdot(1-x)^{m-2} \\cdot (-1)^2\\&amp;fâ€™â€™â€™(x) &#x3D; -m\\cdot (-m-1)\\cdot(-m-2)\\cdot(1-x)^{m-3} \\cdot (-1)^3\\&amp;â€¦\\&amp;f^{(n)}(x)&#x3D; (\\prod_{i&#x3D;0}^{n-1}(-m-i))\\cdot(1-x)^{m-n} \\cdot (-1)^n\\end{aligned}$$æˆ‘ä»¬å–å‡º$f(x)$åœ¨$x_0&#x3D;0$çš„æ³°å‹’å±•å¼€ä¸­çš„næ¬¡æ–¹é¡¹$$\\begin{aligned}&amp;\\frac{(\\prod_{j&#x3D;0}^{n-1}(-m-i))\\cdot(1-0)^{m-n}}{n!}(ğ‘¥âˆ’0)^ğ‘›\\cdot (-1)^n\\&amp;&#x3D;\\frac{\\prod_{j&#x3D;0}^{n-1}(m+i)}{n!}ğ‘¥^ğ‘›\\&amp;&#x3D;\\frac{\\frac{(m+n-1)!}{(m-1)!}}{n!}ğ‘¥^ğ‘›\\&amp;&#x3D;C_{m+n-1}^{m-1} x^n\\end{aligned}$$ åšæ³•2æˆ‘ä»¬å¯ä»¥å‡è®¾ä¸€å…±æœ‰n+mä¸ªçƒï¼Œç„¶åæ¯ä¸ªç›’å­è‡³å°‘æ”¾ä¸€ä¸ªçƒï¼Œå¯ä»¥è¯æ˜è¿™ä¸ªé—®é¢˜ä¸å½“å‰é—®é¢˜ç­‰ä»· ç›’å¼‚ï¼ŒçƒåŒï¼Œç›’ä¸å…è®¸ç©ºè€ƒè™‘éš”æ¿ï¼Œnä¸ªçƒä¸€å…±n-1ä¸ªé—´éš™ï¼Œå‘å…¶ä¸­ç½®å…¥m-1ä¸ªéš”æ¿ï¼Œå½¢æˆmä¸ªæ®µï¼Œæ¯ä¸€æ®µæ”¾å…¥ä¸€ä¸ªç›’å­å³å¯ã€‚å³$C_{n-1}^{m-1}$ ç›’åŒï¼ŒçƒåŒï¼Œç›’å­å…è®¸ç©ºç”±äºç›’å­ç›¸åŒï¼Œæˆ‘ä»¬ä¸å¦¨è®¾è¿™mä¸ªç›’å­ä¸­çƒçš„å¤§å°åˆ†åˆ«æ˜¯ $a_1a_2â€¦a_m$ æ›´ä¸€èˆ¬çš„ï¼Œç”±äºç›’å­ç›¸åŒï¼Œæ‰€ä»¥$a$çš„é¡ºåºä¸å½±å“ç»“æœã€‚æ‰€ä»¥æˆ‘ä»¬è®©å…¶å•å¢ã€‚è®¾$b_i&#x3D;a_i-a_{i-1}\\ge 0ä¸”b_1&#x3D;a_1$ åˆ™$a_i&#x3D;\\sum_{j&#x3D;1}^ib_j$ åˆ™$a_1+a_2+â€¦+a_m&#x3D;n$å¯ä»¥å†™ä½œ$m\\cdot b_1+(m-1)\\cdot b_2+(m-2)\\cdot b_3+â€¦+b_m&#x3D;m$ è¿™é‡Œbçš„å”¯ä¸€çº¦æŸä»…ä»…åªæ˜¯éè´Ÿæ•´æ•°ã€‚äºæ˜¯æ„é€ ç”Ÿæˆå‡½æ•°, é¦–å…ˆæ˜¯$b_1$,ä»–å¯ä»¥æ˜¯$0,1,2â€¦$, åˆ™å®ƒå¯¹åº”çš„å¤šé¡¹å¼å°±æ˜¯$(x^m)^0+(x^m)^1+(x^m)^2+â€¦$, ç„¶åæ˜¯$b_2$ï¼Œä»–å¯¹åº”æ˜¯$(x^{m-1})^0+(x^{m-1})^1+(x^{m-1})^2+â€¦$ï¼Œç„¶åä¹˜èµ·æ¥ï¼Œå¾—åˆ°äº†$$\\begin{aligned}&amp;f(x)\\&amp;&#x3D;(\\space(x^m)^0+(x^m)^1+(x^m)^2+â€¦)(\\space(x^{m-1})^0+(x^{m-1})^1+(x^{m-1})^2+â€¦)â€¦\\&amp;&#x3D;\\frac{1}{1-x^m}\\frac{1}{1-x^{m-1}}\\frac{1}{1-x^{m-2}}â€¦\\frac{1}{1-x}\\&amp;&#x3D;\\prod _{j&#x3D;1}^{m}\\frac{1}{1-x^{j}}\\end{aligned}$$ ç›’åŒï¼ŒçƒåŒï¼Œç›’å­ä¸å…è®¸ç©ºæ˜¾ç„¶å¯¹äºä¸Šä¸€ç§æƒ…å†µçš„$b_1$ï¼Œä»–çš„çº¦æŸä»éè´Ÿå˜æˆäº†æ’æ­£ã€‚æ‰€ä»¥ç”Ÿæˆå‡½æ•°ç¬¬ä¸€ä¸ªå˜æˆäº†$(x^m)^1+(x^m)^2+â€¦$ äºæ˜¯$$\\begin{aligned}&amp;f(x)\\&amp;&#x3D;(\\space(x^m)^1+(x^m)^2+â€¦)(\\space(x^{m-1})^0+(x^{m-1})^1+(x^{m-1})^2+â€¦)â€¦\\&amp;&#x3D;\\frac{x^m}{1-x^m}\\frac{1}{1-x^{m-1}}\\frac{1}{1-x^{m-2}}â€¦\\frac{1}{1-x}\\&amp;&#x3D;x^m\\prod _{j&#x3D;1}^{m}\\frac{1}{1-x^{j}}\\end{aligned}$$ ç›’å¼‚ï¼Œçƒå¼‚ï¼Œç›’å­å…è®¸ç©ºæ¯ä¸ªçƒéƒ½æœ‰mä¸­é€‰æ‹©ï¼Œå³æ”¾å…¥ä»»ä½•ä¸€ä¸ªç›’å­ã€‚æ‰€ä»¥ç­”æ¡ˆæ˜¯$m^n$ ç›’å¼‚ï¼Œçƒå¼‚ï¼Œç›’å­ä¸å…è®¸ç©ºä¸å¦¨è®¾ç¬¬ä¸€ä¸ªç›’å­æœ‰$a_1$ä¸ªçƒï¼Œç¬¬äºŒä¸ªæœ‰$a_2$ä¸ªçƒï¼Œåé¢åŒç†ï¼Œå¾—åˆ°äº†ä¸€ä¸ªaåºåˆ—ï¼Œè€ƒè™‘æ¯å‡½æ•°$f(x)&#x3D;(x^1+x^2+â€¦)^m$ï¼Œè¿™ä¸ªå‡½æ•°ä½“ç°äº†ç›’å­éç©ºã€ç›’å¼‚ï¼Œä½†æ˜¯æ²¡æœ‰ä½“ç°å‡ºçƒå¼‚ã€‚å®é™…ä¸Šï¼Œå¦‚æœè¦ä½“ç°çƒå¼‚ï¼Œé¦–å…ˆè¦ä¹˜ä»¥å…¨æ’$n!$ï¼Œå…¶æ¬¡ç”±äºå¤šä¸ªçƒæ”¾å…¥äº†ä¸€ä¸ªç›’å­ï¼Œè¿™é‡Œä¹Ÿè¦å»å…¨æ’ï¼Œè€ƒè™‘åºåˆ—açš„æ”¾ç½®æ–¹æ³•ï¼Œæœ€ç»ˆç­”æ¡ˆä¸º$n!\\frac{1}{a_1!}\\frac{1}{a_2!}\\frac{1}{a_3!}â€¦$ ä½“ç°åˆ°æ¯å‡½æ•°ä¸Šå°±æ˜¯$$\\begin{aligned}&amp;f(x)\\&amp;&#x3D;n!\\cdot (\\frac{x^{1}}{1!}+\\frac{x^{2}}{2!}+\\frac{x^{3}}{3!}+â€¦)^{m}\\&amp;&#x3D;n!\\cdot (e^{x}-1)^{m}\\&amp;&#x3D;n!\\cdot\\sum {k&#x3D;0}^{m}(C{m}^{k}(-1)^{m-k}(e^{x})^{k})\\&amp;&#x3D;n!\\cdot\\sum {k&#x3D;0}^{m}(C{m}^{k}(-1)^{m-k}(1+\\frac{(kx)^{1}}{1!}+\\frac{(kx)^{2}}{2!}+\\frac{(kx)^{3}}{3!}+â€¦))\\end{aligned}$$è€ƒè™‘$x^n$é¡¹$$\\begin{aligned}&amp;n!\\cdot\\sum {k&#x3D;0}^{m}(C{m}^{k}(-1)^{m-k}\\frac{(kx)^{n}}{n!})\\&amp;&#x3D;(\\sum_{k&#x3D;0}^m C_m^k\\cdot (-1)^{m-k}\\cdot k^n)\\cdot x^n\\end{aligned}$$ ç›’åŒï¼Œçƒå¼‚ï¼Œç›’å­å…è®¸ç©ºæ ¹æ®ä¸‹ä¸€é—®æšä¸¾ç©ºç›’å­ä¸ªæ•°$i$$$\\begin{aligned}\\sum_{i&#x3D;0}^{m}\\sum _{k&#x3D;0}^i\\frac{(C_i^k(-1)^{i-k}k^n)}{i!}\\end{aligned}$$ ç›’åŒï¼Œçƒå¼‚ï¼Œç›’ä¸å…è®¸ç©ºç›¸å½“äºç›’å¼‚ï¼Œçƒå¼‚ï¼Œç›’ä¸å…è®¸ç©ºå»å…¨æ’ã€‚å³é™¤ä»¥$m!$ è¯»è€…åœ¨è¿™é‡Œå¯ä»¥èŠ±å¤§éƒ¨åˆ†æ—¶é—´æƒ³æƒ³ä¸ºä»€ä¹ˆå‰é¢ä¸èƒ½ä½¿ç”¨è¿™ç§æ–¹å¼æ¥æ¨å¯¼ã€‚ ç¬¬äºŒç±»æ–¯ç‰¹æ—æ•°å³ç›’åŒï¼Œçƒå¼‚ï¼Œç›’ä¸å…è®¸ç©ºçš„è§£ æˆ‘ä»¬å›å¿†ä¸€ä¸‹ï¼Œè¿™ä¸ªè§£æ˜¯$\\begin{aligned}\\sum _{k&#x3D;0}^m\\frac{(C_m^k(-1)^{m-k}k^n)}{m!}\\end{aligned}$ å¯ä»¥ç›´æ¥å®šä¹‰æ–¯ç‰¹æ—æ•°$$S(n,m)&#x3D;\\lbrace^n_m\\rbrace&#x3D;\\begin{aligned}\\sum _{k&#x3D;0}^m\\frac{(C_m^k(-1)^{m-k}k^n)}{m!}\\end{aligned}$$ ç¬¬äºŒç±»æ–¯ç‰¹æ—æ•°é€’æ¨$$S(n,m)&#x3D;S(n-1,m-1)+S(n-1,m)\\cdot m$$ è®¡ç®—æ–¯ç‰¹æ—æ•°çš„æŸä¸€æ•´è¡Œå³ä¸€æ¬¡æ€§è®¡ç®—$S(n,0), S(n,1), S(n,2)â€¦$ æˆ‘ä»¬å¯¹è¿™ä¸ªSçš„é€šé¡¹å…¬å¼ç¨å¾®å˜å½¢,åˆ†ç¦»å˜é‡,ç„¶åå°±å¯ä»¥å·ç§¯è¿ç®—äº†$$\\begin{aligned}&amp;\\sum _{k&#x3D;0}^m\\frac{C_m^k(-1)^{m-k}k^n}{m!}\\&amp;&#x3D;\\sum _{k&#x3D;0}^m\\frac{(-1)^{m-k}k^n}{k!(m-k)!}\\&amp;&#x3D;\\sum _{k&#x3D;0}^m\\frac{(-1)^{m-k}}{(m-k)!}\\frac{k^n}{k!}\\end{aligned}$$","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ•°å­¦","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%95%B0%E5%AD%A6/"}],"tags":[]},{"title":"ä½è¿ç®—","slug":"ACM/å­¦ä¹ ç¬”è®°/é»‘ç§‘æŠ€/ä½è¿ç®—/index","date":"2018-10-15T06:22:47.000Z","updated":"2018-10-15T06:22:47.000Z","comments":true,"path":"PGMN1Z.html","link":"","permalink":"http://fightinggg.github.io/indigo/PGMN1Z.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108// æœ€ä½ä½çš„1 -&gt; x&amp;-x// å»æ‰æœ€ä½ä½çš„1 -&gt; x&amp;(x-1)// æœ‰æ•ˆæ•°å­—å…¨æ˜¯1 -&gt; (x&amp;(x+1))==0//æŠŠæœ€ä½ä½çš„0 å˜æˆ1-&gt; x|(x+1)//å–å‡ºæœ€ä½ä½çš„0å¹¶å˜æˆ1 (~x)&amp;(x+1)//å–å‡ºç¬¬kä½ï¼ˆçº¦å®šæœ€ä½ä½ä¸ºç¬¬0ä½ï¼‰ x&amp;(1&lt;&lt;k)/* all bit cnt one -&gt; cnt_one(x) -&gt; int __builtin_popcount (unsigned int x); bit rev -&gt; rev_dig(x) -&gt; high bit -&gt; high_one(x) count leading zero -&gt; cnt_leading_zero(x) -&gt; int __builtin_clz (unsigned int x); count trailing zero -&gt; cnt_trailing_zero(x) -&gt; int __builtin_ctz (unsigned int x); get trailing one -&gt; get_trailing_one(x) -&gt; x&amp;(x^(x+1)) */typedef unsigned int u32;namespace bit&#123; //count the digits of one in binary number u32 co[65536u];//bit cnt one void cnt_one_ini() &#123; for (u32 i = 1; i &lt; 65536u; i++) co[i] = co[i &gt;&gt; 1] + (1 &amp; i); &#125; u32 cnt_one(u32 x) &#123; return co[x &amp; 0xffffu] + co[x &gt;&gt; 16]; &#125; //reverse the digits in binary number u32 rd[65536u];//bit rev data void rev_digit_ini() &#123; for (u32 i = 1; i &lt; 65536u; i++) rd[i] = (rd[i &gt;&gt; 1] &gt;&gt; 1) | ((i &amp; 1) &lt;&lt; 15); &#125; u32 rev_dig(u32 x) &#123; return rd[x &gt;&gt; 16] | (rd[x &amp; 0xffffu] &lt;&lt; 16); &#125; //get the highest digit one in binary number u32 ho[65536u];//high bit data void high_one_ini()&#123; ho[1]=1; for(u32 i=2;i&lt;65536u;i++)&#123; ho[i]=ho[i&gt;&gt;1]&lt;&lt;1;// only the one have the highest digit one 1; &#125; &#125; u32 high_one(u32 x)&#123; return x&lt;65536u ? ho[x]:(ho[x&gt;&gt;16]&lt;&lt;16); &#125; //count leading zero u32 clz[65536u];//leading zero count void cnt_leading_zero_int()&#123; clz[0]=16; for(u32 i=1;i&lt;65536u;i++)&#123; clz[i]=clz[i&gt;&gt;1]-1; &#125; &#125; u32 cnt_leading_zero(u32 x)&#123; if(x&lt;65536u)&#123; return clz[x]+16; &#125; else &#123; return clz[x&gt;&gt;16]; &#125; &#125; //count trailing zero u32 ctz[65536u];//trailing zero count void cnt_trailing_zero_int()&#123; ctz[0]=16; for(u32 i=1;i&lt;65526u;i++)&#123; ctz[i]=i&amp;1 ? 0: ctz[i&gt;&gt;1]+1; &#125; &#125; u32 cnt_trailing_zero(u32 x)&#123; if(x&lt;65536u)&#123; return ctz[x]; &#125; else &#123; return ctz[x&amp;65535u]; &#125; &#125; //count leading one is more diffcult using count leading zero //æå–ç¬¬kä¸ª1 int kthbit(u32 x, int k) &#123; int s[5], ans = 0, t; s[0] = x; s[1] = x - ((x &amp; 0xAAAAAAAAu) &gt;&gt; 1); s[2] = ((s[1] &amp; 0xCCCCCCCCu) &gt;&gt; 2) + (s[1] &amp; 0x33333333u); s[3] = ((s[2] &gt;&gt; 4) + s[2]) &amp; 0x0F0F0F0Fu; s[4] = ((s[3] &gt;&gt; 8) + s[3]) &amp; 0x00FF00FFu; t = s[4] &amp; 65535u; if (t &lt; k) k -= t, ans |=16, x &gt;&gt;=16; t = (s[3] &gt;&gt; ans) &amp; 255u; if (t &lt; k) k -= t, ans |= 8, x &gt;&gt;= 8; t = (s[2] &gt;&gt; ans) &amp; 15u; if (t &lt; k) k -= t, ans |= 4, x &gt;&gt;= 4; t = (s[1] &gt;&gt; ans) &amp; 3u; if (t &lt; k) k -= t, ans |= 2, x &gt;&gt;= 2; t = (s[0] &gt;&gt; ans) &amp; 1u; if (t &lt; k) k -= t, ans |= 1, x &gt;&gt;= 1; return ans; &#125;&#125;;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"é»‘ç§‘æŠ€","slug":"ACM/å­¦ä¹ ç¬”è®°/é»‘ç§‘æŠ€","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E9%BB%91%E7%A7%91%E6%8A%80/"}],"tags":[]},{"title":"åšå¼ˆè®º","slug":"ACM/å­¦ä¹ ç¬”è®°/åšå¼ˆè®º/åšå¼ˆè®º/index","date":"2018-10-15T06:18:05.000Z","updated":"2018-10-15T06:18:05.000Z","comments":true,"path":"PGMMU5.html","link":"","permalink":"http://fightinggg.github.io/indigo/PGMMU5.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial åšå¼ˆå¸¸å¸¸æ˜¯acmä¸­çš„ç­¾åˆ°é¢˜ï¼Œèƒ½ä¸èƒ½å¿«é€Ÿæ‹¿ä¸‹ï¼Œè¿™å¾—çœ‹æœ¬äº‹ã€‚ å±€é¢å†³å®šä¸€åˆ‡é¦–å…ˆæœ‰ä»¥ä¸‹çš„ç»“è®ºï¼š èƒœè´Ÿå–å†³äºå±€é¢ å¦‚æœå½“å‰å±€é¢èƒ½è½¬ç§»ç»™å¯¹æ‰‹çš„ä¸€ä¸ªè¾“çš„å±€é¢ï¼Œé‚£ä¹ˆå¯¹æ‰‹å°±è¾“ å¦‚æœå½“å‰å±€é¢è½¬è½¬ç§»ç»™å¯¹æ‰‹çš„å…¨æ˜¯èµ¢çš„å±€é¢ï¼Œé‚£ä¹ˆå¯¹æ‰‹å°±èµ¢ ä¾æ®ä¸Šè¯‰ä¸‰æ¡è§„åˆ™ï¼Œåšå¼ˆé¢˜ç›®ä¹Ÿå¯ä»¥é€šè¿‡æ¨¡æ‹Ÿæ¥å®ç°æ‰¾è§„å¾‹ ä¾‹é¢˜1æœ‰aï¼Œbä¸¤ä¸ªæ•°å­—ï¼Œä¸¤äººè½®æµæ“ä½œï¼Œæ¯æ¬¡å¯ä»¥é€‰æ‹©ä¸¤ä¸ªä¹‹ä¸­è¾ƒå°çš„æ•°å­—ï¼Œç„¶åå¦ä¸€ä¸ªæ•°å­—å‡å»é€‰æ‹©æ•°å­—çš„ä»»æ„å€æ•°ï¼ˆä¸èƒ½å‡åˆ°è´Ÿæ•°ï¼‰ï¼Œç›´åˆ°å…¶ä¸­ä¸€ä¸ªä¸º0ï¼Œä¸èƒ½æ“ä½œä¸ºè´¥ã€‚æ¯”å¦‚2ï¼Œ8å¯ä»¥è½¬ç§»ä¸ºï¼ˆ2ï¼Œ6ï¼‰ï¼ˆ2ï¼Œ4ï¼‰ï¼ˆ2ï¼Œ2ï¼‰ï¼ˆ2ï¼Œ0ï¼‰ é¢˜è§£ ä¸å¦¨è®¾$a\\ge 2b$ å¦‚æœå±€é¢(a%b+b,b)å…ˆæ‰‹èµ¢ï¼Œåˆ™å±€é¢(a,b)å…ˆæ‰‹å°±èµ¢ å¦‚æœå±€é¢(a%b+b,b)å…ˆæ‰‹è¾“ï¼Œåˆ™a,bå…ˆæ‰‹å¯ä»¥èŠ±æ ·æ‹¿ä½¿å¾—åæ‰‹å¾—åˆ°(a%b+b,b), æœ€åå…ˆæ‰‹è¿˜æ˜¯èµ¢ å¯¹äºå…¶ä»–aï¼Œbå…¶å®åªæœ‰ä¸€ç§æ‹¿æ³•ï¼Œç®€å•å¤„ç†ä¸€ä¸‹ï¼Œç»†å¿ƒå°±è¡Œäº† ä¾‹é¢˜2æœ‰ä¸€ä¸ªä»1åˆ°nçš„è¿ç»­è‡ªç„¶æ•°åºåˆ—ï¼Œä¸¤äººè½®æµæ“ä½œï¼Œå¯ä»¥é€‰å–ä¸€ä¸ªæ•°å­—ï¼Œæ‹¿èµ°å®ƒçš„æ‰€æœ‰å› å­ï¼ˆå¦‚æœåºåˆ—ä¸­å­˜åœ¨ï¼‰ï¼Œç›´åˆ°ä¸€æ–¹æ— æ³•æ‹¿ï¼Œè¯¥æ–¹è¾“ã€‚ é¢˜è§£ æˆ‘ä»¬å…ˆè€ƒè™‘ä¸€ä¸ªè¿™ä¸ªåºåˆ—2ï¼Œ3ï¼Œ4ï¼Œ5ï¼Œ6â€¦â€¦n, å¦‚æœå…ˆæ‰‹è¾“ï¼Œé¢˜ç›®çš„åºåˆ—ä¸­æˆ‘ä»¬å°±æ‹¿1ï¼Œé¢˜ç›®ä¸­å…ˆæ‰‹èµ¢ å¦‚æœå…ˆæ‰‹èµ¢ï¼Œå…ˆæ‰‹æ€»å¾—æ‹¿ä¸€ä¸ªå§ï¼Œå‡è®¾ä»–æ‹¿çš„xï¼Œé¢˜ç›®ä¸­æˆ‘ä»¬ä¹Ÿæ‹¿xï¼Œé¢˜ç›®ä¸­å…ˆæ‰‹èµ¢ ä¾‹é¢˜3é²å‹ƒå’Œçˆ±ä¸½ä¸æ­£åœ¨ç©ä¸€æ¬¾æ–°æ¸¸æˆã€‚ æœ‰nä¸ªç›’å­ä»1åˆ°nç¼–å·ã€‚ æ¯ä¸ªç›’å­éƒ½æ˜¯ç©ºçš„æˆ–åŒ…å«å‡ å¼ å¡ç‰‡ã€‚ é²å‹ƒå’Œçˆ±ä¸½ä¸ä¾æ¬¡ç§»åŠ¨å¡ç‰‡ã€‚ åœ¨æ¯ä¸ªå›åˆä¸­ï¼Œç›¸åº”çš„ç©å®¶åº”è¯¥é€‰æ‹©éç©ºæ¡†Aï¼Œç„¶åé€‰æ‹©å¦ä¸€ä¸ªæ¡†Bï¼Œå…¶ä¸­B &lt;A &amp;&amp;ï¼ˆA + Bï¼‰ï¼…2 &#x3D; 1 &amp;&amp;ï¼ˆA + Bï¼‰ï¼…3 &#x3D; 0ã€‚ ç„¶åï¼Œä»æ–¹æ¡†Aå–ä»»æ„æ•°é‡ï¼ˆä½†ä¸æ˜¯é›¶ï¼‰çš„ç‰Œåˆ°æ–¹æ¡†Bã€‚æœ€åä¸€ä¸ªå¯ä»¥è¿›è¡Œåˆæ³•ç§»åŠ¨çš„äººè·èƒœã€‚ çˆ±ä¸½ä¸æ˜¯ç¬¬ä¸€ä¸ªç©å®¶ã€‚ è¯·é¢„æµ‹è°å°†èµ¢å¾—æ¯”èµ›ã€‚ é¢˜è§£ æˆ‘ä»¬å‘ç°1ï¼Œ3ï¼Œ4æ˜¯æ— æ³•æ“ä½œçš„ç›’å­ æœ‰ä¸”ä»…æœ‰è¿™ä¸‰ä¸ªç›’å­ï¼Œ æˆ‘ä»¬æŒ‰ç…§n%6&#x3D;1ï¼Œ3ï¼Œ4å’Œn%6&#x3D;0ï¼Œ2ï¼Œ5æŠŠæ‰€æœ‰çš„ç›’å­åˆ†ä¸ºä¸¤ç±» è€ƒè™‘äºŒåˆ†å›¾æ¨¡å‹ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªäºŒåˆ†å›¾æ¨¡å‹ é™¤äº†1 3 4ä»¥å¤–ï¼Œæ‰€æœ‰å…¶ä»–ç‚¹éƒ½å­˜åœ¨å‡ºåº¦ï¼Œæˆ‘ä»¬å¯ä»¥æƒ³è±¡ï¼Œæ¯”èµ›ç»“æŸæ—¶æ‰€æœ‰å¡ç‰‡éƒ½åœ¨1 3 4 ä¸­ é‚£ä¹ˆç¬¬ä¸€ç±»ç›’å­ï¼Œä¸å½±å“æ¯”èµ›ç»“æœï¼Œ å› ä¸ºæ¯å½“å¯¹æ‰‹æ“ä½œäº†ç¬¬ä¸€ç±»ç›’å­ï¼Œæˆ‘ä»¬å¯ä»¥æ“ä½œç¬¬äºŒç±»ç›’å­è®©è¿™äº›å¡è½¬ç§»åˆ°1 3 4 ä¸­å¹¶æ¢å¤åˆ°å¯¹æ‰‹ä¸Šä¸€æ¬¡æ“ä½œå‰åˆ°ç¬¬äºŒç±»ç›’å­çŠ¶æ€ï¼Œ é‚£ä¹ˆå³è¾¹çš„ç›’å­é—®é¢˜å°±æ˜¯ä¸€ä¸ªNIMé—®é¢˜ ä¾‹é¢˜4æœ‰ä¸€ä¸ª$n\\times n$çš„ç½‘æ ¼ï¼Œå·¦ä¸‹è§’æœ‰ä¸€ä¸ªä¸œè¥¿å¯ä»¥åœ¨æ ¼å­é‡Œé¢èµ°ï¼Œå¯ä»¥å¾€ç›¸é‚»çš„æ ¼å­èµ°ï¼Œå·²ç»èµ°è¿‡çš„æ ¼å­ä¸èƒ½å†èµ°ï¼Œä¸¤äººè½®æµèµ°ï¼Œè°ä¸èƒ½èµ°è°è¾“ é¢˜è§£ åªè¦å½“å‰å¯ä»¥èµ°çš„åŒºåŸŸæ•°ç›®ä¸ºå¥‡æ•°é‚£ä¹ˆå°±å¯ä»¥èµ¢ï¼Œé™¤éå¯¹æ‰‹æƒ³æ‰“ç ´è¿™ä¸ªåƒµå±€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹æ‰‹èµ°äº†ä¸€æ­¥ä¹‹åï¼ŒæŠŠå¯ä»¥èµ°çš„åŒºåŸŸåˆ†æˆäº†ä¸¤éƒ¨åˆ†ï¼Œåªèƒ½é€‰æ‹©å…¶ä¸€ï¼Œé‚£ä¹ˆæˆ‘ä»¬è‚¯å®šé€‰å–èµ°å®Œä¹‹åå‰©ä½™å¯ä»¥èµ°çš„æ ¼å­æ•°ä¸ºå¥‡æ•°éƒ¨åˆ†é‚£è¾¹èµ°å•Šï¼Œä¹Ÿå°±æ˜¯è¯´$n*n-1$ä¸ºå¥‡æ•°å…ˆæ‰‹å°±èµ¢äº†ï¼Œä¹Ÿå°±æ˜¯nä¸ºå¶æ•°å…ˆæ‰‹å°±èµ¢äº†ã€‚ ä¾‹é¢˜5æœ‰nå¼ ç‰Œï¼Œä¸¤ä¸ªäººè½®æµæŠ“ç‰Œï¼Œåªèƒ½æŠ“äºŒçš„æŸä¸ªå¹‚æ¬¡æ–¹å¼ ç‰Œï¼Œè°æ‹¿æœ€åä¸€å¼ ç‰Œè°èµ¢ é¢˜è§£ n%3&#x3D;&#x3D;0ï¼Œå…ˆæ‰‹ä¸€å®šè¾“ï¼Œå› ä¸ºå…ˆæ‰‹æ‹¿äº†ä»¥åä¸€å®šä¼šå˜æˆéä¸‰çš„å€æ•°ï¼Œåæ‰‹å¯ä»¥æ‹¿1å¼ æˆ–ä¸¤å¼ ä½¿å¾—nå›åˆ°ä¸‰çš„å€æ•°ï¼Œå±€é¢è¿˜åŸï¼Œç›´åˆ°n&#x3D;3ï¼Œå…ˆæ‰‹å°±è¾“äº†ã€‚ è‡³äºå…¶ä»–çš„åšå¼ˆé¢˜ç›®ï¼Œä¸€èˆ¬ä¸æ˜¯é‚£ä¹ˆå®¹æ˜“æ‰¾åˆ°è§„å¾‹çš„ï¼Œæ‰€ä»¥äº§ç”Ÿäº†æ–°çš„ç®—æ³•æ¥æ¨¡æ‹Ÿåšå¼ˆè¿›è¡Œ 1234567891011121314151617181920212223242526272829//sgfæ˜¯è½¬ç§»æ–¹æ³•//sgsæ˜¯å‰ä¸€ä¸ªçŠ¶æ€çš„é›†åˆint sgf[N],sg[N];bool sgs[N];void sgf_ini()&#123; sgf[0]=1; sgf[1]=1; sgf[2]=2; for(int i=3;i&lt;20;i++)&#123; sgf[i]=sgf[i-1]+sgf[i-2]; //cout&lt;&lt;sgf[i]&lt;&lt;endl; &#125;&#125;void sg_ini(int n)&#123; sgf_ini(); //sg[0]=0; for(int i=1;i&lt;=n;i++)&#123; memset(sgs,0,sizeof(sgs)); for(int j=1;/**/i-sgf[j]&gt;=0;j++)sgs[sg[i-sgf[j]]]=true; for(int j=0;;j++)if(!sgs[j])&#123; sg[i]=j; break; &#125; &#125; //for(int i=0;i&lt;=n;i++)&#123; // printf(&quot;%4d %2d&quot;,i,sg[i]); // if(i%10==9)cout&lt;&lt;endl; //&#125;&#125; åšå¼ˆå¹¶ä¸æ˜¯å…¬å¹³çš„ï¼Œåšå¼ˆçš„èƒœè´Ÿå–å†³äºåšå¼ˆå½“å‰çš„å±€é¢ã€‚ å¿…èƒœæ€çš„åç»§ä¸­ä¸€å®šæœ‰ä¸€ä¸ªå¿…è´¥æ€ å¿…è´¥æ€çš„åç»§ä¸­ä¸€å®šå…¨æ˜¯å¿…èƒœæ€ è¿™å…¶å®å¯ä»¥å¯¹åº”åˆ°ä¸€ä¸ªè¿ç®—æ³•åˆ™mexé›†åˆè¿ç®— mexè¿ç®—ï¼šé›†åˆä¸­ä¸å­˜åœ¨çš„æœ€å°çš„éè´Ÿæ•´æ•° æˆ‘ä»¬å®šä¹‰0ä¸ºå¤±è´¥ï¼Œå…¶ä»–æ•°å­—ä¸ºèƒœåˆ©ï¼Œï¼ˆè¿™é‡Œæˆ‘å¹¶ä¸ç†è§£ä¸ºä»€ä¹ˆè¦ç”¨å…¶ä»–æ•°å­—è€Œä¸æ˜¯1ï¼Œè‚¯èƒ½æ˜¯è¿˜æœ‰å…¶ä»–ç”¨é€”ï¼‰ å¯¹äºsg[i],æˆ‘ä»¬å‚è€ƒdpç®—æ³• å‡è®¾nexæ˜¯içš„åç»§ï¼Œé‚£ä¹ˆsg[i]&#x3D;mex{sg[nex1]ï¼Œsg[nex2]ï¼Œsg[nex3]ã€‚ã€‚ã€‚","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[]},{"title":"æ€ç»´","slug":"ACM/å­¦ä¹ ç¬”è®°/æ€ç»´/æ€ç»´/index","date":"2018-10-15T06:12:15.000Z","updated":"2018-10-15T06:12:15.000Z","comments":true,"path":"PGMMKF.html","link":"","permalink":"http://fightinggg.github.io/indigo/PGMMKF.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ç»™ä½ ä¸€ä¸ªæ‹¬å·æ•°ç»„ï¼Œé‡Œé¢æœ‰ä¸åŒç§ç±»çš„æ‹¬å·ï¼Œæ¯ä¸ªç§ç±»éƒ½æœ‰å·¦å³ä¸¤ç§æ‹¬å·ï¼Œå·¦å³æ‹¬å·å¯ä»¥ç»“åˆï¼Œå¾ˆå¤šç»„è¯¢é—®ï¼Œé—®ä½ ä¸€ä¸ªåŒºé—´å†…æ‹¬å·æ˜¯å¦åŒ¹é…ï¼Œ1.ä¸€ä¸ªç©ºçš„å­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªåˆæ³•çš„æ–‡æ¡£ã€‚2.å¦‚æœA,Béƒ½æ˜¯åˆæ³•çš„æ–‡æ¡£ï¼Œé‚£ä¹ˆABä¹Ÿæ˜¯åˆæ³•çš„æ–‡æ¡£ã€‚3.å¦‚æœSæ˜¯åˆæ³•çš„æ–‡æ¡£ï¼Œé‚£ä¹ˆaSbä¹Ÿæ˜¯åˆæ³•çš„æ–‡æ¡£ï¼Œå…¶ä¸­a,bæ˜¯åŒä¸€ç§æ‹¬å·ï¼Œå¹¶ä¸”aæ˜¯å·¦æ‹¬å·ï¼Œbæ˜¯å³æ‹¬å· ç”¨æ ˆæ¥æ¨¡æ‹Ÿï¼Œå¯¹äºæ¯ä¸€ä¸ªæ‹¬å·ï¼Œæˆ‘ä»¬ç”¨æ•°ç»„Lè®°å½•å½“å¤„ç†å®Œè¿™ä¸ªæ‹¬å·ï¼ˆå‹å…¥æ ˆå¹¶å®Œæˆå½“å‰åŒ¹é…ï¼‰çš„æ ˆé¡¶å…ƒç´ çš„ä¸‹æ ‡ï¼Œå½“æˆ‘ä»¬åˆ¤æ–­[l,r]æ—¶ä¹‹ç”¨æ¯”è¾ƒL[l-1]ä¸L[r]å³å¯","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[]},{"title":"å°ºå–æ³•","slug":"ACM/å­¦ä¹ ç¬”è®°/æ€ç»´/å°ºå–æ³•/index","date":"2018-10-15T05:49:06.000Z","updated":"2018-10-15T05:49:06.000Z","comments":true,"path":"PGMLHU.html","link":"","permalink":"http://fightinggg.github.io/indigo/PGMLHU.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å¯¹äºå°ºå–æ³•ï¼Œä¸€èˆ¬ç”¨äºçº¿æ€§è¡¨çš„å¤„ç†ã€‚ æˆ‘ä»¬æœ‰ä¸¤ä¸ªæŒ‡é’ˆä¸€æ ·çš„ä¸œè¥¿ï¼Œlå’Œråˆ†åˆ«æŒ‡å‘ä¸¤ä¸ªå…ƒç´ ï¼Œläºrä¹‹é—´çš„ä¸œè¥¿å°±æ˜¯æˆ‘ä»¬å°è¯•ç»´æŠ¤çš„ä¸œè¥¿ã€‚ ä¾‹é¢˜1è¯¢é—®åºåˆ—ä¸­å’Œå¤§äºsçš„å­ä¸²çš„æœ€å°é•¿åº¦ã€‚ é¢˜è§£ åˆå§‹å·¦ç«¯ç‚¹ä¸º0ï¼Œå³ç«¯ç‚¹ä¸ºn-1, é•¿åº¦ä¸ºn-1 å¦‚æœå½“å‰åŒºé—´ä¸æ»¡è¶³ï¼ŒåŒæ—¶å³ç§»å·¦å³ç«¯ç‚¹ å¦‚æœå½“å‰åŒºé—´æ»¡è¶³ï¼Œæœ€å°é•¿åº¦è‡ªå‡ ä¾‹é¢˜2è¯¢é—®åºåˆ—ä¸­ä»¥ç¬¬kä¸ªå…ƒç´ ä¸ºèµ·ç‚¹çš„é•¿åº¦ä¸ºnçš„å­ä¸²çš„å‰ç¼€å’Œçš„æœ€å°å€¼å¤§äºsçš„æœ€å°i é¢˜è§£ è®¾ç«‹ä¸€ä¸ªå‰ç¼€å’Œæœ€å°å€¼ï¼Œä»¥åŠåŒºé—´å’Œï¼Œè®©å°ºå­é•¿åº¦é€æ¸å¢å¤§ï¼Œå¢å¤§åˆ°Næ—¶ç»“æŸ å¦‚æœå½“å‰åŒºé—´æœ€å°å€¼æ»¡è¶³ï¼Œå³ç§»å³ç«¯ç‚¹ï¼Œæ›´æ–°åŒºé—´å’Œï¼Œå¦‚æœåŒºé—´å’Œå°äºäºæœ€å°å€¼ï¼Œé‚£ä¹ˆå½“æˆ‘ä»¬å³ç§»å·¦ç«¯ç‚¹æ—¶å½“å‰æœ€å°å‰ç¼€å’Œåœ¨å³ç«¯ç‚¹ä¸åŠ¨æ—¶æ°¸è¿œéƒ½æ˜¯æ•´ä¸ªåŒºé—´å’Œï¼Œå³ç§»å·¦ç«¯ç‚¹ç›´åˆ°åŒºé—´å’Œå¤§äºsï¼Œè¿­ä»£ ä¾‹é¢˜3è¯¢é—®åºåˆ—ä¸­ä¸å€¼tç›¸å·®æœ€å°çš„å­ä¸²å’Œ é¢˜è§£ â€‹ å¯¹å‰ç¼€å’Œæ’åºï¼Œå†å°ºå– â€‹ å¦‚æœå³ç«¯ç‚¹å‡å»å·¦ç«¯ç‚¹å¤§äºtï¼Œå°è¯•ç”¨æ­¤æ—¶çš„ç«¯ç‚¹æ¥æ›´æ–°ç­”æ¡ˆï¼Œç„¶åå³ç§»å·¦ç«¯ç‚¹ï¼Œå¦‚æœå³ç«¯ç‚¹å‡å»å·¦ç«¯ç‚¹ä¾æ—§å¤§äºtï¼Œè¿­ä»£ï¼Œåä¹‹å…ˆå°è¯•æ›´æ–°ç­”æ¡ˆï¼Œç„¶åå³ç§»å³ç«¯ç‚¹ç›´åˆ°å³ç«¯ç‚¹å‡å»å·¦ç«¯ç‚¹å¤§äºt(æœ€åä¸€æ¬¡ç§»åŠ¨å‰å°è¯•æ›´æ–°ç­”æ¡ˆ)ï¼Œè¿­ä»£ ä¾‹é¢˜4è¯¢é—®åºåˆ—ä¸­åŒ…å«æ‰€æœ‰å€¼çš„æœ€çŸ­å­ä¸² é¢˜è§£ â€‹ å»ºç«‹mapè®°å½•æœ‰æ²¡æœ‰ï¼Œcntè®°å½•ç§ç±»ï¼Œä»¥åŠ å¿«åˆ¤æ–­ï¼Œ â€‹ å¦‚æœå½“å‰åŒºé—´ä¸æ»¡è¶³ï¼Œå³ç§»å³ç«¯ç‚¹ï¼Œå¦‚æœæ­¤æ—¶é•¿åº¦å¤§äºæˆ–ç­‰äºå·²ç»æ‰¾åˆ°çš„æœ€å°é•¿åº¦(åˆå§‹åŒ–ä¸ºæ— ç©·å¤§)ï¼Œå³ç§»å·¦ç«¯ç‚¹ï¼Œè¿­ä»£ â€‹ å¦‚æœå½“å‰åŒºé—´æ»¡è¶³ï¼Œæ›´æ–°æœ€å°é•¿åº¦ï¼Œå³ç§»å³ç«¯ç‚¹ï¼Œè¿­ä»£","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ€ç»´","slug":"ACM/å­¦ä¹ ç¬”è®°/æ€ç»´","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%80%9D%E7%BB%B4/"}],"tags":[]},{"title":"æ‰¾è§„å¾‹","slug":"ACM/å­¦ä¹ ç¬”è®°/æ€ç»´/æ‰¾è§„å¾‹/index","date":"2018-10-15T05:10:01.000Z","updated":"2018-10-15T05:10:01.000Z","comments":true,"path":"PGMJOP.html","link":"","permalink":"http://fightinggg.github.io/indigo/PGMJOP.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ— é™å¤§çš„æ£‹ç›˜æœ‰ä¸€åªèµ°â€˜æ—¥â€™çš„é©¬å‘†åœ¨0ï¼Œ0å¤„ï¼Œä¹Ÿæ˜¯åæ ‡åŸç‚¹ï¼Œï¼ˆå­˜åœ¨å››ä¸ªè±¡é™ï¼‰ï¼Œç»™ä½ ï¼ˆxï¼Œyï¼‰é—®ä½ è¦è‡³å°‘è·³å¤šå°‘æ­¥æ‰èƒ½è·³è¿‡å» ä¸å¦¨è®¾$x&gt;y$ $x\\le2y$,å¯ä»¥è¯æ˜å½“xå’Œyè¶³å¤Ÿå¤§çš„æ—¶å€™ $(x+y)\\mod3&#x3D;0$æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦$\\frac{x+y}{3}$æ­¥ï¼Œè¿™äº›æ­¥æ•°ç”±ä¸¤ç§è·³è·ƒç»„æˆï¼Œä»–ä»¬åˆ†åˆ«æ˜¯(1,2)å’Œ(2,1) $(x+y)\\mod 3&#x3D;1$æ—¶ï¼Œæˆ‘ä»¬é€‰æ‹©ï¼ˆ1ï¼Œ-2ï¼‰æˆ–è€…ï¼ˆ-2ï¼Œ1ï¼‰æ¥è·³è·ƒï¼Œè·³è·ƒä¹‹å$(x+y)\\mod3&#x3D;0$æ‰€ä»¥ä¸€å…±éœ€è¦$\\frac{x+y}{3}+1$æ­¥ åŒç†$(x+y)\\mod 3&#x3D;2$æ—¶ä¸€å…±éœ€è¦$\\frac{x+y}{3}+2$æ­¥ ç»¼åˆä¸ºéœ€è¦$\\frac{x+y}{3}+((x+y)\\mod 3)$æ­¥ åŒæ ·åˆ†æå‡º$x&gt;2y$åœ¨$x$å’Œ$y$è¶³å¤Ÿå¤§çš„æ—¶å€™ï¼Œéœ€è¦$y+\\frac{x-2y}{4}\\times2+(x-2y)%4$æ­¥ é‚£ä¹ˆè¿™ä¸ªè¶³å¤Ÿå¤§æ˜¯å¤šå°‘å‘¢ï¼Ÿæ˜¯x&gt;3&amp;&amp;y&gt;3","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ€ç»´","slug":"ACM/å­¦ä¹ ç¬”è®°/æ€ç»´","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%80%9D%E7%BB%B4/"}],"tags":[]},{"title":"å­—ç¬¦ä¸²Hash","slug":"ACM/å­¦ä¹ ç¬”è®°/å­—ç¬¦ä¸²/å­—ç¬¦ä¸²Hash/index","date":"2018-10-15T05:01:42.000Z","updated":"2018-10-15T05:01:42.000Z","comments":true,"path":"PGMJAU.html","link":"","permalink":"http://fightinggg.github.io/indigo/PGMJAU.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial å°±åƒcantoræ˜ å°„ä¸€æ ·ï¼Œå­—ç¬¦ä¸²hashé‡‡å–ä¸€ç§æ›´åŠ éšæœºåŒ–çš„æ˜ å°„ï¼Œå®ƒçš„é€šé¡¹å…¬å¼ä¸º$hash[i]&#x3D;\\sum _{j&#x3D;0}^{i}s[j]*p^{i-j}$,å¦‚æ­¤å°†ä¸€ä¸ªå­—ç¬¦ä¸²éšæœºæ˜ å°„åˆ°äº†ä¸€ä¸ªæ•°å­—ä¸Šï¼Œ æˆ‘ä»¬æ¥çœ‹è¿™ä¸ªå…¬å¼çš„æ„ä¹‰ï¼Œä»–æŠŠä¸€ä¸ªå­—ç¬¦ä¸²æ˜ å°„åˆ°äº†ä¸€ä¸ªpè¿›åˆ¶æ•°å­—ä¸Šï¼Œä½æ•°ä»£è¡¨ç€å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œç„¶åæˆ‘ä»¬å°†è¿™ä¸ªpè¿›åˆ¶æ•°è½¬åŒ–ä¸ºåè¿›åˆ¶æ•°å¹¶å¯¹1e9+7å–æ¨¡æ¥å­˜å‚¨ï¼Œé€šé¡¹å…¬å¼ä¸å¥½æ±‚ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡é€’æ¨å…¬å¼æ¥æ±‚ $hash[i]&#x3D;hash[i-1]\\cdot p+s[i]$ è¿™ä¸ªå…¬å¼å°±æ¯”è¾ƒå‹å¥½äº†ï¼Œå¦å¤–å¯¹äºä»»æ„åŒºé—´ï¼Œæˆ‘ä»¬æœ‰è¿™ä¸ªå…¬å¼ $hash[l~r] &#x3D; hash[r] - hash[l - 1] \\cdot pow(p, r - l + 1)$ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263struct str_hash &#123;//å•hash static const int maxn = 3e5 + 5, p = 47, mod = 1e9 + 7; static int pw[maxn], pr[maxn]; int h1[maxn], h2[maxn], len; str_hash() &#123; if (pw[0] == 1) return; pw[0] = pr[0] = 1; int rev = qpow(p, mod - 2, mod); for (int i = 1; i &lt; maxn; i++) &#123; pw[i] = 1ll * pw[i - 1] * p % mod; pr[i] = 1ll * pr[i - 1] * rev % mod; &#125; &#125; void extend(char c) &#123; len++; h1[len] = (1ll * h1[len - 1] * p + c) % mod; h2[len] = (h2[len - 1] + 1ll * c * pw[len - 1]) % mod; &#125; void ini() &#123; len = 0; &#125; int query(int l, int r) &#123; return (h1[r] + 1ll * h1[l - 1] * (mod - pw[r - l + 1])) % mod; &#125;//æ³¨æ„æ²¡æœ‰ä¸‹æ ‡æ£€æŸ¥ int qurev(int l, int r) &#123; return 1ll * (h2[r] - h2[l - 1] + mod) * pr[l - 1] % mod; &#125;//æ³¨æ„æ²¡æœ‰ä¸‹æ ‡æ£€æŸ¥&#125;;int str_hash::pw[maxn], str_hash::pr[maxn];//åŒhashï¼ŒåŒå€å¸¸æ•°ï¼Œ1e6 çš„æ•°æ® nlgnçš„åšæ³• 1sçš„æ—¶é™ ä¸å»ºè®®ä½¿ç”¨typedef unsigned long long ull;struct double_hash &#123; static const ull maxn = 1e3 + 666, p = 26, mod1 = 1e9 + 7, mod2 = 1e9 + 9; static ull pw1[maxn], pw2[maxn]; ull hash1[maxn], hash2[maxn], len; double_hash() &#123; if (pw1[0] == 1)return; pw1[0] = pw2[0] = 1; for (ull i = 1; i &lt; maxn; i++) &#123; pw1[i] = pw1[i - 1] * p % mod1; pw2[i] = pw2[i - 1] * p % mod2; &#125; &#125; void build(char *s, ull _len) &#123; len = _len; for (ull i = 1; i &lt;= len; i++) &#123; hash1[i] = (hash1[i - 1] * p + s[i] - &#x27;a&#x27;) % mod1;//æ— è¾¹ç•Œ hash2[i] = (hash2[i - 1] * p + s[i] - &#x27;a&#x27;) % mod2;//same &#125; &#125; ull query1(ull l, ull r) &#123; return (hash1[r] - hash1[l - 1] * pw1[r - l + 1] % mod1 + mod1) % mod1; &#125; ull query2(ull l, ull r) &#123; return (hash2[r] - hash2[l - 1] * pw2[r - l + 1] % mod2 + mod2) % mod2; &#125; ull query(ull l, ull r) &#123; return query1(l, r) * mod2 + query2(l, r); &#125;//æ³¨æ„æ²¡æœ‰ä¸‹æ ‡æ£€æŸ¥&#125; hash_a, hash_b;ull double_hash::pw1[maxn], double_hash::pw2[maxn]; http://codeforces.com/contest/727/problem/E ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸ºnÃ—kçš„ç¯ï¼Œç¯ä¸Šæ¯ä¸€ä¸ªä½ç½®æœ‰ä¸€ä¸ªå­—ç¬¦ã€‚ç°åœ¨ç»™ä½ gä¸ªé•¿åº¦ä¸ºkçš„å­—ç¬¦ä¸²ï¼Œé—®æ˜¯å¦å¯ä»¥åœ¨gä¸ªå­—ç¬¦ä¸²ä¸­é€‰å‡ºnä¸ªæ„æˆè¿™ä¸ªç¯ã€‚ 1 â‰¤ n â‰¤ 10^5, 1 â‰¤ k â‰¤ 10^5, n*k â‰¤ 10^6, n â‰¤ g â‰¤ 10^5, g*k â‰¤ 2*10^6 æšä¸¾èµ·ç‚¹,hash.","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"å­—ç¬¦ä¸²","slug":"ACM/å­¦ä¹ ç¬”è®°/å­—ç¬¦ä¸²","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%AD%97%E7%AC%A6%E4%B8%B2/"}],"tags":[]},{"title":"KMPç®—æ³•","slug":"ACM/å­¦ä¹ ç¬”è®°/å­—ç¬¦ä¸²/KMPç®—æ³•/index","date":"2018-10-15T05:01:41.000Z","updated":"2018-10-15T05:01:41.000Z","comments":true,"path":"PGMJAT.html","link":"","permalink":"http://fightinggg.github.io/indigo/PGMJAT.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 123456789101112131415161718192021222324252627282930313233343536inline void GetNext(char *s) &#123; int l = strlen(s), t; next[0] = -1; for (int i = 1; i &lt; l; ++i) &#123; t = next[i - 1]; while (s[t + 1] != s[i] &amp;&amp; t &gt;= 0) t = next[t]; if (s[t + 1] == s[i]) next[i] = t + 1; else next[i] = -1; &#125;&#125;inline void KMP(char *s1, char *s2) &#123; ans.clear(); GetNext(s2);//é¢„å¤„ç†nextæ•°ç»„ int len_1 = strlen(s1); int len_2 = strlen(s2); int i = 0, j = 0; while (j &lt; len_1) &#123; if (s2[i] == s1[j]) &#123; ++i; ++j; if (i == len_2) &#123; ans.push_back(j - len_2 + 1); i = next[i - 1] + 1; &#125; &#125; else &#123; if (i == 0) j++; else i = next[i - 1] + 1; &#125; &#125;&#125;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"å­—ç¬¦ä¸²","slug":"ACM/å­¦ä¹ ç¬”è®°/å­—ç¬¦ä¸²","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%AD%97%E7%AC%A6%E4%B8%B2/"}],"tags":[]},{"title":"æœ€å°è´¹ç”¨æœ€å¤§æµ","slug":"ACM/å­¦ä¹ ç¬”è®°/å›¾è®º/æœ€å°è´¹ç”¨æœ€å¤§æµ/index","date":"2018-10-15T02:52:34.000Z","updated":"2018-10-15T02:52:34.000Z","comments":true,"path":"PGMDBM.html","link":"","permalink":"http://fightinggg.github.io/indigo/PGMDBM.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051const double eps=1e-8;struct MCMF&#123; static const int maxn=200,maxm=40000; struct star&#123;int v,nex;double c,w;&#125; edge[maxm&lt;&lt;1]; int head[maxn],cnt,n; int inq[maxn],pre[maxn]; double dist[maxn]; void ini(int n)&#123; cnt=-1;this-&gt;n=n; for(int i=0;i&lt;=n;i++) head[i]=-1; &#125; void add_star(int u, int v, double c, double w)&#123; //cout&lt;&lt;&quot; &quot;&lt;&lt;u&lt;&lt;&quot; &quot;&lt;&lt;v&lt;&lt;&quot; &quot;&lt;&lt;c&lt;&lt;&quot; &quot;&lt;&lt;w&lt;&lt;endl; edge[++cnt]=star&#123;v,head[u],c, w&#125;; head[u]=cnt; edge[++cnt]=star&#123;u,head[v],0,-w&#125;; head[v]=cnt; &#125; void minCostMaxFlow(int s, int t,double&amp;flow,double&amp;cost)&#123; flow=cost=0; while(true)&#123; for(int i=0;i&lt;=n;i++) dist[i]=1e9; queue&lt;int&gt;que; que.push(s); inq[s]=1; dist[s]=0; while(!que.empty())&#123; int u=que.front(); que.pop(); inq[u]=0; for(int i=head[u];~i;i=edge[i].nex)&#123; int v=edge[i].v; double c=edge[i].c,w=edge[i].w; if(c&gt;eps&amp;&amp;dist[v]&gt;dist[u]+w+eps)&#123; // if(c&gt;0&amp;&amp;dist[v]&gt;dist[u]+w)&#123; dist[v]=dist[u]+w; pre[v]=i; if(!inq[v]) que.push(v); inq[v]=1; &#125; &#125; &#125; if(dist[t]==1e9) return ; double addf=1e9; for(int x=t;x!=s;x=edge[pre[x]^1].v) addf=min(addf,edge[pre[x]].c); for(int x=t;x!=s;x=edge[pre[x]^1].v)&#123; edge[pre[x]].c-=addf; edge[pre[x]^1].c+=addf; &#125; flow+=addf; cost+=dist[t]*addf; &#125; &#125;&#125; g;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"å›¾è®º","slug":"ACM/å­¦ä¹ ç¬”è®°/å›¾è®º","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%9B%BE%E8%AE%BA/"}],"tags":[]},{"title":"è’™å“¥é©¬åˆ©æ¨¡ä¹˜","slug":"ACM/å­¦ä¹ ç¬”è®°/é»‘ç§‘æŠ€/è’™å“¥é©¬åˆ©æ¨¡ä¹˜/index","date":"2018-10-15T01:37:26.000Z","updated":"2021-05-01T16:42:00.000Z","comments":true,"path":"PGM9UE.html","link":"","permalink":"http://fightinggg.github.io/indigo/PGM9UE.html","excerpt":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ ¸å¿ƒæ€æƒ³è’™å“¥é©¬åˆ©è¿ç®—æ˜¯ä¸€ç§æ–°çš„è¿ç®—ï¼Œä»–æŠŠä¹˜æ¨¡ç®€åŒ–ä¸ºå¯¹è¿›åˆ¶æ•°çš„é™¤æ³•ï¼Œä»¥åŠç®€å•åŠ æ³•ï¼Œè¿™å°±ä½¿å¾—ä¹˜æ¨¡é¿å¼€äº†å¤§é‡çš„å–æ¨¡è¯•é™¤ã€‚ è’™å“¥é©¬åˆ©è¡¨ç¤ºæ³•ä¾‹å¦‚$a%mod$çš„è’™å“¥é©¬åˆ©è¡¨ç¤ºæ³•ä¸º$f(a) &#x3D; a\\times p% mod$ï¼Œ$p$æ˜¯ä¸€ä¸ªè¿›åˆ¶æ•°ï¼Œ æˆ‘ä»¬å‚¨å­˜$f(a)$çš„å€¼ï¼Œè€Œä¸æ˜¯açš„å€¼ã€‚ å¤åŸäºæ˜¯æˆ‘ä»¬å¾ˆå®¹æ˜“å‘ç°ï¼Œå¯¹äºè’™å“¥é©¬åˆ©è¡¨ç¤ºæ³•å˜å›æ™®é€šè¡¨ç¤ºæ³•æ—¶åªéœ€è¦ä¹˜på¯¹modçš„é€†å…ƒå³å¯ã€‚ pçš„å–å€¼è’™å“¥é©¬åˆ©è¡¨ç¤ºæ³•ä¼šæ‰¾ä¸€ä¸ªè¿›åˆ¶æ•°ä½¿å¾—æ™®é€šæ•°å­—è½¬åŒ–ä¸ºè’™å“¥é©¬åˆ©è¡¨ç¤ºæ³•ï¼Œä¸€èˆ¬æ¥è¯´è¿™æ˜¯ä¸€ä¸ªåˆšå¥½å¤§äºæ¨¡æ•°çš„è¿›åˆ¶æ•°ã€‚","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial æ ¸å¿ƒæ€æƒ³è’™å“¥é©¬åˆ©è¿ç®—æ˜¯ä¸€ç§æ–°çš„è¿ç®—ï¼Œä»–æŠŠä¹˜æ¨¡ç®€åŒ–ä¸ºå¯¹è¿›åˆ¶æ•°çš„é™¤æ³•ï¼Œä»¥åŠç®€å•åŠ æ³•ï¼Œè¿™å°±ä½¿å¾—ä¹˜æ¨¡é¿å¼€äº†å¤§é‡çš„å–æ¨¡è¯•é™¤ã€‚ è’™å“¥é©¬åˆ©è¡¨ç¤ºæ³•ä¾‹å¦‚$a%mod$çš„è’™å“¥é©¬åˆ©è¡¨ç¤ºæ³•ä¸º$f(a) &#x3D; a\\times p% mod$ï¼Œ$p$æ˜¯ä¸€ä¸ªè¿›åˆ¶æ•°ï¼Œ æˆ‘ä»¬å‚¨å­˜$f(a)$çš„å€¼ï¼Œè€Œä¸æ˜¯açš„å€¼ã€‚ å¤åŸäºæ˜¯æˆ‘ä»¬å¾ˆå®¹æ˜“å‘ç°ï¼Œå¯¹äºè’™å“¥é©¬åˆ©è¡¨ç¤ºæ³•å˜å›æ™®é€šè¡¨ç¤ºæ³•æ—¶åªéœ€è¦ä¹˜på¯¹modçš„é€†å…ƒå³å¯ã€‚ pçš„å–å€¼è’™å“¥é©¬åˆ©è¡¨ç¤ºæ³•ä¼šæ‰¾ä¸€ä¸ªè¿›åˆ¶æ•°ä½¿å¾—æ™®é€šæ•°å­—è½¬åŒ–ä¸ºè’™å“¥é©¬åˆ©è¡¨ç¤ºæ³•ï¼Œä¸€èˆ¬æ¥è¯´è¿™æ˜¯ä¸€ä¸ªåˆšå¥½å¤§äºæ¨¡æ•°çš„è¿›åˆ¶æ•°ã€‚ ä¹˜æ³•å¦‚æœæˆ‘ä»¬è¦è®¡ç®—$a\\cdot b%mod$ åœ¨è’™å“¥é©¬åˆ©è¡¨ç¤ºæ³•ä¸­ï¼Œ$f(a\\cdot b)$å¹¶ä¸æ˜¯ç®€å•çš„$f(a)\\cdot f(b)$, å®é™…ä¸Šåº”è¯¥æ˜¯$\\frac{f(a)\\cdot f(b)}{p}$ äºæ˜¯è¿™é‡Œå‡ºç°äº†é™¤æ³•ï¼Œæˆ‘ä»¬å°±æ˜¯é ç€è¿™ä¸ªé™¤ä»¥pï¼Œé¿å¼€äº†å¯¹éè¿›åˆ¶æ•°å–æ¨¡ï¼Œç”±äºpæ˜¯ä¸€ä¸ª2è¿›åˆ¶å¹‚ï¼Œæ‰€ä»¥å¯ä»¥ä¾é ç§»ä½ï¼Œå€Ÿæ­¤é¿å¼€äº†å¾ˆå¤šé«˜å¤æ‚åº¦çš„é™¤æ³•ã€‚ ç”±æ‹“å±•æ¬§å‡ é‡Œå¾—ç®—æ³•æˆ‘ä»¬å¯ä»¥æ‰¾åˆ°è¿™æ ·ä¸€ä¸ªæ•°å­—$x$ï¼Œä½¿å¾—åœ¨æ¨¡$p$æ—¶$x\\cdot mod \\equiv 1$ï¼Œæ‰¾åˆ°è¿™æ ·çš„æ•°å­—ä»¥åï¼Œæˆ‘ä»¬å¯ä»¥è®©åˆ†å­å¢åŠ ä¸€ä¸ªmodçš„å€æ•°ï¼Œå¾ˆæ˜æ˜¾è¿™ä¸ä¼šå½±å“ç»“æœã€‚ä»¤ $t&#x3D;x\\cdot f(a)\\cdot f(b)\\mod p$ , åˆ™æœ‰ $\\frac{f(a)\\cdot f(b)}{p}%mod&#x3D;\\frac{f(a)\\cdot f(b)- t\\cdot mod }{p}%mod$ ä¸éš¾è¯æ˜åœ¨æ¨¡$p$çš„æ—¶å€™$f(a)\\cdot f(b)\\equiv t\\cdot mod $, äºæ˜¯æˆ‘ä»¬ç›´æ¥ä½¿ç”¨ç§»ä½æ¥è®¡ç®—$\\frac{f(a)\\cdot f(b)- t\\cdot mod }{p}$ã€‚ è‡³äºå–æ¨¡ä¸å–æ¨¡å·²ç»æ— æ‰€è°“äº†ï¼Œè‡³å°‘åœ¨æ•°é‡çº§ä¸Šå·²ç»åŒé˜¶äº†ã€‚ æœ€åç»™å‡ºdlsçš„ä»£ç  1234567891011121314151617181920212223242526272829typedef long long ll; typedef unsigned long long u64; typedef __int128_t i128; typedef __uint128_t u128; struct Mod64 &#123; static u64 mod,inv,r2; u64 n_; Mod64():n_(0) &#123;&#125; Mod64(u64 n):n_(init(n)) &#123;&#125; static u64 init(u64 w) &#123; return reduce(u128(w) * r2); &#125; static void set_mod(u64 m) &#123; mod=m; //assert(mod&amp;1); inv=m; for(int i=0;i&lt;5;i++) inv*=2-inv*m; r2=-u128(m)%m; &#125; static u64 reduce(u128 x) &#123; u64 y=u64(x&gt;&gt;64)-u64((u128(u64(x)*inv)*mod)&gt;&gt;64); return ll(y)&lt;0?y+mod:y; &#125; Mod64&amp; operator += (Mod64 rhs) &#123; n_+=rhs.n_-mod; if (ll(n_)&lt;0) n_+=mod; return *this; &#125; Mod64 operator + (Mod64 rhs) const &#123; return Mod64(*this)+=rhs; &#125; Mod64&amp; operator -= (Mod64 rhs) &#123; n_-=rhs.n_; if (ll(n_)&lt;0) n_+=mod; return *this; &#125; Mod64 operator - (Mod64 rhs) const &#123; return Mod64(*this)-=rhs; &#125; Mod64&amp; operator *= (Mod64 rhs) &#123; n_=reduce(u128(n_)*rhs.n_); return *this; &#125; Mod64 operator * (Mod64 rhs) const &#123; return Mod64(*this)*=rhs; &#125; u64 get() const &#123; return reduce(n_); &#125; &#125;; u64 Mod64::mod,Mod64::inv,Mod64::r2;","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"é»‘ç§‘æŠ€","slug":"ACM/å­¦ä¹ ç¬”è®°/é»‘ç§‘æŠ€","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E9%BB%91%E7%A7%91%E6%8A%80/"}],"tags":[]},{"title":"å¸¸ç”¨æ•°è®ºå‡½æ•°å˜æ¢","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦/å¸¸ç”¨æ•°è®ºå‡½æ•°å˜æ¢/index","date":"2018-03-11T03:41:58.000Z","updated":"2019-10-26T08:56:48.000Z","comments":true,"path":"P5EQ9Y.html","link":"","permalink":"http://fightinggg.github.io/indigo/P5EQ9Y.html","excerpt":"","text":"nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial ä¸­é—´ç»“è®º$$f_n &#x3D; \\sum_{i&#x3D;0}^n (-1)^i {n \\choose i} g_i\\Leftrightarrowg_n &#x3D; \\sum_{i&#x3D;0}^n (-1)^i {n \\choose i} f_i$$ $$f_n &#x3D; \\sum_{i&#x3D;0}^n {n \\choose i} g_i\\Leftrightarrowg_n &#x3D; \\sum_{i&#x3D;0}^n (-1)^{n-i} {n \\choose i} f_i$$ æœæ•™ç­›$$g(1)\\sum_{i&#x3D;1}^nf(i)&#x3D;\\sum_{i&#x3D;1}^{n}(f*g)(i)-\\sum_{d&#x3D;2}^{n}g(d) \\sum_{i&#x3D;1}^{\\lfloor\\frac{n}{d}\\rfloor}f(i)$$ æ•°è®ºå˜æ¢$$\\begin{aligned}&amp;e(n)&#x3D;[n&#x3D;1]\\&amp;id(n)&#x3D;n\\&amp;I(n)&#x3D;1\\&amp;d(n)&#x3D;\\sum_{x|n}1 ï¼ˆå°±æ˜¯å› å­ä¸ªæ•°ï¼‰\\&amp;Ïƒ(n)&#x3D;\\sum_{x|n}x (å°±æ˜¯å› å­å’Œ)\\&amp;\\mu(n) è«æ¯”ä¹Œæ–¯å‡½æ•°\\&amp;\\phi(n) æ¬§æ‹‰å‡½æ•°\\&amp;I\\ast I&#x3D;d\\&amp;I\\ast id&#x3D;Ïƒ\\&amp;I\\ast \\phi&#x3D;id\\&amp;I\\ast \\mu&#x3D;e\\end{aligned}$$ è‡ªå˜é‡äº’è´¨çš„å‰ç¼€å’Œå‡½æ•°åˆ†æ$$\\begin{aligned}&amp;\\sum_{i&#x3D;1}^n{f(i)[gcd(i,j)&#x3D;1]}&#x3D;\\sum_{d|j}{\\mu(d)\\sum_{i&#x3D;1}^{\\lfloor\\frac{n}{d}\\rfloor}f(i*d)}\\&amp;\\sum_{i&#x3D;1}^n{[gcd(i,j)&#x3D;1]}&#x3D;\\sum_{d|j}{\\mu(d)\\lfloor\\frac{n}{d}\\rfloor}\\&amp;\\sum_{i&#x3D;1}^n{[gcd(i,n)&#x3D;1]}&#x3D;\\phi(n)\\&amp;\\sum_{i&#x3D;1}^n{i[gcd(i,j)&#x3D;1]}&#x3D;\\sum_{d|j}{\\mu(d)d\\frac{\\lfloor\\frac{n}{d}\\rfloor(\\lfloor\\frac{n}{d}\\rfloor+1)}{2}}\\&amp;\\sum_{i&#x3D;1}^n{i[gcd(i,n)&#x3D;1]}&#x3D;\\frac{n}{2}(\\phi(n)+e(n))\\&amp;\\sum_{i&#x3D;1}^n\\sum_{j&#x3D;1}^nij[gcd(i,j)&#x3D;1]&#x3D;\\sum_{j&#x3D;1}^nj^2\\phi(j)\\\\end{aligned}$$","categories":[{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ•°å­¦","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%95%B0%E5%AD%A6/"}],"tags":[]}],"categories":[{"name":"AI","slug":"AI","permalink":"http://fightinggg.github.io/indigo/categories/AI/"},{"name":"GPT","slug":"AI/GPT","permalink":"http://fightinggg.github.io/indigo/categories/AI/GPT/"},{"name":"Others","slug":"Others","permalink":"http://fightinggg.github.io/indigo/categories/Others/"},{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","permalink":"http://fightinggg.github.io/indigo/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"},{"name":"CPU","slug":"CPU","permalink":"http://fightinggg.github.io/indigo/categories/CPU/"},{"name":"Docker","slug":"Docker","permalink":"http://fightinggg.github.io/indigo/categories/Docker/"},{"name":"Language","slug":"Language","permalink":"http://fightinggg.github.io/indigo/categories/Language/"},{"name":"Java","slug":"Language/Java","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/"},{"name":"Spring","slug":"Language/Java/Spring","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/Spring/"},{"name":"C++","slug":"Language/C","permalink":"http://fightinggg.github.io/indigo/categories/Language/C/"},{"name":"Go","slug":"Language/Go","permalink":"http://fightinggg.github.io/indigo/categories/Language/Go/"},{"name":"ACM","slug":"ACM","permalink":"http://fightinggg.github.io/indigo/categories/ACM/"},{"name":"å­¦ä¹ ç¬”è®°","slug":"ACM/å­¦ä¹ ç¬”è®°","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"å­—ç¬¦ä¸²","slug":"ACM/å­¦ä¹ ç¬”è®°/å­—ç¬¦ä¸²","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%AD%97%E7%AC%A6%E4%B8%B2/"},{"name":"æ“ä½œç³»ç»Ÿ","slug":"æ“ä½œç³»ç»Ÿ","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"},{"name":"Linux","slug":"æ“ä½œç³»ç»Ÿ/Linux","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/Linux/"},{"name":"åˆ·é¢˜å®æˆ˜","slug":"ACM/åˆ·é¢˜å®æˆ˜","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/"},{"name":"CodeForces","slug":"ACM/åˆ·é¢˜å®æˆ˜/CodeForces","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/CodeForces/"},{"name":"UML","slug":"UML","permalink":"http://fightinggg.github.io/indigo/categories/UML/"},{"name":"Database","slug":"Database","permalink":"http://fightinggg.github.io/indigo/categories/Database/"},{"name":"ç¼–è¯‘å™¨","slug":"ç¼–è¯‘å™¨","permalink":"http://fightinggg.github.io/indigo/categories/%E7%BC%96%E8%AF%91%E5%99%A8/"},{"name":"å¤§æ•°æ®","slug":"å¤§æ•°æ®","permalink":"http://fightinggg.github.io/indigo/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/"},{"name":"é˜Ÿåˆ—","slug":"é˜Ÿåˆ—","permalink":"http://fightinggg.github.io/indigo/categories/%E9%98%9F%E5%88%97/"},{"name":"Kafka","slug":"é˜Ÿåˆ—/Kafka","permalink":"http://fightinggg.github.io/indigo/categories/%E9%98%9F%E5%88%97/Kafka/"},{"name":"Maven","slug":"Language/Java/Maven","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/Maven/"},{"name":"æ¯”èµ›","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ¯”èµ›","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/%E6%AF%94%E8%B5%9B/"},{"name":"æ•°å­¦","slug":"ACM/å­¦ä¹ ç¬”è®°/æ•°å­¦","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%95%B0%E5%AD%A6/"},{"name":"Hexo","slug":"Hexo","permalink":"http://fightinggg.github.io/indigo/categories/Hexo/"},{"name":"å®ä¹ ","slug":"å®ä¹ ","permalink":"http://fightinggg.github.io/indigo/categories/%E5%AE%9E%E4%B9%A0/"},{"name":"ç¬”è¯•","slug":"å®ä¹ /ç¬”è¯•","permalink":"http://fightinggg.github.io/indigo/categories/%E5%AE%9E%E4%B9%A0/%E7%AC%94%E8%AF%95/"},{"name":"ç¼–ç ","slug":"ç¼–ç ","permalink":"http://fightinggg.github.io/indigo/categories/%E7%BC%96%E7%A0%81/"},{"name":"åå°æŠ€æœ¯","slug":"åå°æŠ€æœ¯","permalink":"http://fightinggg.github.io/indigo/categories/%E5%90%8E%E5%8F%B0%E6%8A%80%E6%9C%AF/"},{"name":"OS","slug":"æ“ä½œç³»ç»Ÿ/OS","permalink":"http://fightinggg.github.io/indigo/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/OS/"},{"name":"K8s","slug":"Docker/K8s","permalink":"http://fightinggg.github.io/indigo/categories/Docker/K8s/"},{"name":"ES","slug":"å¤§æ•°æ®/ES","permalink":"http://fightinggg.github.io/indigo/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/ES/"},{"name":"SpringCloud","slug":"Language/Java/SpringCloud","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/SpringCloud/"},{"name":"SpringBoot","slug":"Language/Java/SpringBoot","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/SpringBoot/"},{"name":"Grava","slug":"Language/Java/Grava","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/Grava/"},{"name":"DataMining","slug":"DataMining","permalink":"http://fightinggg.github.io/indigo/categories/DataMining/"},{"name":"bzoj","slug":"ACM/åˆ·é¢˜å®æˆ˜/bzoj","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/bzoj/"},{"name":"æ ‘","slug":"ACM/å­¦ä¹ ç¬”è®°/æ ‘","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%A0%91/"},{"name":"ç‰›å®¢","slug":"ACM/åˆ·é¢˜å®æˆ˜/ç‰›å®¢","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/%E7%89%9B%E5%AE%A2/"},{"name":"SpringMVC","slug":"Language/Java/SpringMVC","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/SpringMVC/"},{"name":"MyBatis","slug":"Language/Java/MyBatis","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/MyBatis/"},{"name":"Zookeeper","slug":"Zookeeper","permalink":"http://fightinggg.github.io/indigo/categories/Zookeeper/"},{"name":"Javaå¹¶å‘","slug":"Language/Java/Javaå¹¶å‘","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/Java%E5%B9%B6%E5%8F%91/"},{"name":"Test","slug":"Test","permalink":"http://fightinggg.github.io/indigo/categories/Test/"},{"name":"æ•°æ®ç»“æ„","slug":"æ•°æ®ç»“æ„","permalink":"http://fightinggg.github.io/indigo/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"},{"name":"æ´›è°·","slug":"ACM/åˆ·é¢˜å®æˆ˜/æ´›è°·","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/%E6%B4%9B%E8%B0%B7/"},{"name":"Python","slug":"Language/Python","permalink":"http://fightinggg.github.io/indigo/categories/Language/Python/"},{"name":"Math","slug":"Math","permalink":"http://fightinggg.github.io/indigo/categories/Math/"},{"name":"Matrix","slug":"Math/Matrix","permalink":"http://fightinggg.github.io/indigo/categories/Math/Matrix/"},{"name":"JVM","slug":"Language/Java/JVM","permalink":"http://fightinggg.github.io/indigo/categories/Language/Java/JVM/"},{"name":"å¹³è¡¡æ ‘","slug":"ACM/å­¦ä¹ ç¬”è®°/å¹³è¡¡æ ‘","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%B9%B3%E8%A1%A1%E6%A0%91/"},{"name":"hdu","slug":"ACM/åˆ·é¢˜å®æˆ˜/hdu","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/hdu/"},{"name":"å›¾è®º","slug":"ACM/å­¦ä¹ ç¬”è®°/å›¾è®º","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%9B%BE%E8%AE%BA/"},{"name":"uoj","slug":"ACM/åˆ·é¢˜å®æˆ˜/uoj","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%88%B7%E9%A2%98%E5%AE%9E%E6%88%98/uoj/"},{"name":"è€Blogè¿ç§»","slug":"ACM/è€Blogè¿ç§»","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/"},{"name":"reading_problem","slug":"ACM/è€Blogè¿ç§»/reading-problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/reading-problem/"},{"name":"stencil","slug":"ACM/è€Blogè¿ç§»/stencil","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/"},{"name":"æ€»ç»“","slug":"ACM/è€Blogè¿ç§»/æ€»ç»“","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/%E6%80%BB%E7%BB%93/"},{"name":"blog","slug":"ACM/è€Blogè¿ç§»/blog","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/blog/"},{"name":"span","slug":"ACM/è€Blogè¿ç§»/blog/span","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/blog/span/"},{"name":"problem","slug":"ACM/è€Blogè¿ç§»/problem","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/"},{"name":"computational_geonetry","slug":"ACM/è€Blogè¿ç§»/problem/computational-geonetry","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/computational-geonetry/"},{"name":"data_struct","slug":"ACM/è€Blogè¿ç§»/problem/data-struct","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/data-struct/"},{"name":"dp","slug":"ACM/è€Blogè¿ç§»/problem/dp","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/dp/"},{"name":"graph_theory","slug":"ACM/è€Blogè¿ç§»/problem/graph-theory","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/graph-theory/"},{"name":"math","slug":"ACM/è€Blogè¿ç§»/problem/math","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/math/"},{"name":"thinging","slug":"ACM/è€Blogè¿ç§»/problem/thinging","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/problem/thinging/"},{"name":"data_struct","slug":"ACM/è€Blogè¿ç§»/stencil/data-struct","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E8%80%81Blog%E8%BF%81%E7%A7%BB/stencil/data-struct/"},{"name":"ç®—æ³•","slug":"ACM/å­¦ä¹ ç¬”è®°/ç®—æ³•","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AE%97%E6%B3%95/"},{"name":"è®¡ç®—æœºç»„æˆåŸç†","slug":"è®¡ç®—æœºç»„æˆåŸç†","permalink":"http://fightinggg.github.io/indigo/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/"},{"name":"é»‘ç§‘æŠ€","slug":"ACM/å­¦ä¹ ç¬”è®°/é»‘ç§‘æŠ€","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E9%BB%91%E7%A7%91%E6%8A%80/"},{"name":"æ€ç»´","slug":"ACM/å­¦ä¹ ç¬”è®°/æ€ç»´","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E6%80%9D%E7%BB%B4/"},{"name":"DP","slug":"ACM/å­¦ä¹ ç¬”è®°/DP","permalink":"http://fightinggg.github.io/indigo/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/DP/"}],"tags":[{"name":"è¯»ä¹¦","slug":"è¯»ä¹¦","permalink":"http://fightinggg.github.io/indigo/tags/%E8%AF%BB%E4%B9%A6/"},{"name":"AI","slug":"AI","permalink":"http://fightinggg.github.io/indigo/tags/AI/"},{"name":"GPT","slug":"GPT","permalink":"http://fightinggg.github.io/indigo/tags/GPT/"},{"name":"Transformer","slug":"Transformer","permalink":"http://fightinggg.github.io/indigo/tags/Transformer/"},{"name":"flag","slug":"flag","permalink":"http://fightinggg.github.io/indigo/tags/flag/"},{"name":"VPN","slug":"VPN","permalink":"http://fightinggg.github.io/indigo/tags/VPN/"},{"name":"Proxy","slug":"Proxy","permalink":"http://fightinggg.github.io/indigo/tags/Proxy/"},{"name":"CPU","slug":"CPU","permalink":"http://fightinggg.github.io/indigo/tags/CPU/"},{"name":"docker","slug":"docker","permalink":"http://fightinggg.github.io/indigo/tags/docker/"},{"name":"è¯»ä¹¦,HTTP","slug":"è¯»ä¹¦-HTTP","permalink":"http://fightinggg.github.io/indigo/tags/%E8%AF%BB%E4%B9%A6-HTTP/"},{"name":"AspectJ","slug":"AspectJ","permalink":"http://fightinggg.github.io/indigo/tags/AspectJ/"},{"name":"ç»“æ„ä½“ä¸­çš„å¼•ç”¨","slug":"ç»“æ„ä½“ä¸­çš„å¼•ç”¨","permalink":"http://fightinggg.github.io/indigo/tags/%E7%BB%93%E6%9E%84%E4%BD%93%E4%B8%AD%E7%9A%84%E5%BC%95%E7%94%A8/"},{"name":"SpringFoxä½¿ç”¨","slug":"SpringFoxä½¿ç”¨","permalink":"http://fightinggg.github.io/indigo/tags/SpringFox%E4%BD%BF%E7%94%A8/"},{"name":"linuxæŒ‡ä»¤","slug":"linuxæŒ‡ä»¤","permalink":"http://fightinggg.github.io/indigo/tags/linux%E6%8C%87%E4%BB%A4/"},{"name":"è·Ÿæˆ‘ä¸€èµ·å†™ç¼–è¯‘å™¨","slug":"è·Ÿæˆ‘ä¸€èµ·å†™ç¼–è¯‘å™¨","permalink":"http://fightinggg.github.io/indigo/tags/%E8%B7%9F%E6%88%91%E4%B8%80%E8%B5%B7%E5%86%99%E7%BC%96%E8%AF%91%E5%99%A8/"},{"name":"nginx","slug":"nginx","permalink":"http://fightinggg.github.io/indigo/tags/nginx/"}]}