<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>spring13-AspectJ | Believe it | 相信不屈不挠的努力,相信战胜死亡的年轻</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="读书,AspectJ">
    <meta name="description" content="nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial  1. AspectJ1.1. AspectJ介绍AspectJ官网^4 AspectJ文档^1 1.1.1. pointcutspointcuts指的是程序中的某些链接点（某些时机），例如call(voi">
<meta property="og:type" content="article">
<meta property="og:title" content="spring13-AspectJ">
<meta property="og:url" content="http://fightinggg.github.io/indigo/R9L6IO.html">
<meta property="og:site_name" content="Believe it">
<meta property="og:description" content="nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmateryicarusfluidmaterial  1. AspectJ1.1. AspectJ介绍AspectJ官网^4 AspectJ文档^1 1.1.1. pointcutspointcuts指的是程序中的某些链接点（某些时机），例如call(voi">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://fightinggg.github.io/AspectJ_Install.png">
<meta property="og:image" content="http://fightinggg.github.io/IDEA_Enable_AJC.png">
<meta property="og:image" content="http://fightinggg.github.io/Add_AJC_Lib.png">
<meta property="article:published_time" content="2022-03-31T01:52:00.000Z">
<meta property="article:modified_time" content="2022-03-31T01:52:00.000Z">
<meta property="article:author" content="fightinggg">
<meta property="article:tag" content="读书">
<meta property="article:tag" content="AspectJ">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://fightinggg.github.io/AspectJ_Install.png">
    
        <link rel="alternate" type="application/atom+xml" title="Believe it" href="/indigo/atom.xml">
    
    <link rel="shortcut icon" href="/indigo/favicon.ico">
    <link rel="stylesheet" href="/indigo/css/style.css?v=1.7.2">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

<meta name="generator" content="Hexo 6.3.0"></head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/indigo/img/brand.jpg)">
      <div class="brand">
        <a href="/indigo/" class="avatar waves-effect waves-circle waves-light">
          <img src="/indigo/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">fightinggg</h5>
          <a href="mailto:634206017@qq.com" title="634206017@qq.com" class="mail">634206017@qq.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/indigo/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/indigo/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/indigo/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/indigo/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/yscoder" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="http://www.weibo.com/ysweb" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/indigo/custom"  >
                <i class="icon icon-lg icon-link"></i>
                测试
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">spring13-AspectJ</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">spring13-AspectJ</h1>
        <h5 class="subtitle">
            
                <time datetime="2022-03-31T01:52:00.000Z" itemprop="datePublished" class="page-time">
  2022-03-31
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/indigo/categories/Language/">Language</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/indigo/categories/Language/Java/">Java</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/indigo/categories/Language/Java/Spring/">Spring</a></li></ul></li></ul></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#1-AspectJ"><span class="post-toc-number">1.</span> <span class="post-toc-text">1. AspectJ</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1-1-AspectJ%E4%BB%8B%E7%BB%8D"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">1.1. AspectJ介绍</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-1-1-pointcuts"><span class="post-toc-number">1.1.1.</span> <span class="post-toc-text">1.1.1. pointcuts</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-1-2-advice"><span class="post-toc-number">1.1.2.</span> <span class="post-toc-text">1.1.2. advice</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-1-3-aspect"><span class="post-toc-number">1.1.3.</span> <span class="post-toc-text">1.1.3. aspect</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1-2-%E5%9C%A8IntelliJ-IDEA%E4%B8%8A%E5%AE%89%E8%A3%85AspectJ"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">1.2. 在IntelliJ IDEA上安装AspectJ</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-2-1-%E4%B8%8B%E8%BD%BD%E5%B9%B6%E5%AE%89%E8%A3%85AspectJ"><span class="post-toc-number">1.2.1.</span> <span class="post-toc-text">1.2.1. 下载并安装AspectJ</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-2-2-%E5%AE%89%E8%A3%85%E6%8F%92%E4%BB%B6"><span class="post-toc-number">1.2.2.</span> <span class="post-toc-text">1.2.2. 安装插件</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-2-3-%E5%90%AF%E7%94%A8AJC%E7%BC%96%E8%AF%91%E5%99%A8"><span class="post-toc-number">1.2.3.</span> <span class="post-toc-text">1.2.3. 启用AJC编译器</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-2-4-%E7%BB%99%E9%A1%B9%E7%9B%AE%E6%B7%BB%E5%8A%A0AJC%E4%BE%9D%E8%B5%96"><span class="post-toc-number">1.2.4.</span> <span class="post-toc-text">1.2.4. 给项目添加AJC依赖</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1-3-Hello-World"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">1.3. Hello World</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1-4-Pointcuts%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="post-toc-number">1.4.</span> <span class="post-toc-text">1.4. Pointcuts表达式</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1-5-%E6%80%BB%E7%BB%93"><span class="post-toc-number">1.5.</span> <span class="post-toc-text">1.5. 总结</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#2-Spring-%E5%AF%B9-AspectJ%E7%9A%84%E6%94%AF%E6%8C%81"><span class="post-toc-number">2.</span> <span class="post-toc-text">2. Spring 对 AspectJ的支持</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#3-%E5%BC%95%E7%94%A8"><span class="post-toc-number">3.</span> <span class="post-toc-text">3. 引用</span></a></li></ol>
        </nav>
    </aside>


<article id="post-Language/Java/Spring/spring13-AspectJ/index"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">spring13-AspectJ</h1>
        <div class="post-meta">
            <time class="post-time" title="2022-03-31 09:52:00" datetime="2022-03-31T01:52:00.000Z"  itemprop="datePublished">2022-03-31</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/indigo/categories/Language/">Language</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/indigo/categories/Language/Java/">Java</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/indigo/categories/Language/Java/Spring/">Spring</a></li></ul></li></ul></li></ul>



            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <div><a href="/next/R9L6IO.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">next</a><a href="/hexonext/R9L6IO.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">hexonext</a><a href="/butterfly/R9L6IO.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">butterfly</a><a href="/volantis/R9L6IO.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">volantis</a><a href="/yearn/R9L6IO.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yearn</a><a href="/yilia/R9L6IO.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">yilia</a><a href="/shoka/R9L6IO.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">shoka</a><a href="/indigo/R9L6IO.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">indigo</a><a href="/apollo/R9L6IO.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">apollo</a><a href="/landscape/R9L6IO.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">landscape</a><a href="/cactus/R9L6IO.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">cactus</a><a href="/matery/R9L6IO.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">matery</a><a href="/icarus/R9L6IO.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">icarus</a><a href="/fluid/R9L6IO.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">fluid</a><a href="/material/R9L6IO.html" style="border-bottom: 0px;border-bottom: 0px;
            background: #4FC921;
            color: white;
            border-radius: 5px;
            padding: 2px 6px 2px 6px;
            margin: 2px 6px 2px 6px;
            text-decoration: none;
            float: left;
            ">material</a><div style="clear: both;"></div></div>

<h1 id="1-AspectJ"><a href="#1-AspectJ" class="headerlink" title="1. AspectJ"></a>1. AspectJ</h1><h2 id="1-1-AspectJ介绍"><a href="#1-1-AspectJ介绍" class="headerlink" title="1.1. AspectJ介绍"></a>1.1. AspectJ介绍</h2><p>AspectJ官网<a href="%5BAspectJ%E5%AE%98%E7%BD%91%5D(https://www.eclipse.org/aspectj/downloads.php)">^4</a></p>
<p>AspectJ文档<a href="%5BAspectJ%E6%96%87%E6%A1%A3%5D(https://www.eclipse.org/aspectj/doc/released/progguide/index.html)">^1</a></p>
<h3 id="1-1-1-pointcuts"><a href="#1-1-1-pointcuts" class="headerlink" title="1.1.1. pointcuts"></a>1.1.1. pointcuts</h3><p>pointcuts指的是程序中的某些链接点（某些时机），例如<code>call(void Point.setX(int))</code>表示：调用类<code>Point</code>的<code>setX(int)</code>方法时</p>
<p>pointcuts可以使用与或非表达式（<code>||,&amp;&amp;,!</code>）连接，比如 <code>call(void Point.setX(int)) || call(void Point.setY(int))</code></p>
<p>pointcuts可以被定义为变量，如下面代码中的<code>move()</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">pointcut move():</span><br><span class="line">    call(void FigureElement.setXY(int,int)) ||</span><br><span class="line">    call(void Point.setX(int))              ||</span><br><span class="line">    call(void Point.setY(int))              ||</span><br><span class="line">    call(void Line.setP1(Point))            ||</span><br><span class="line">    call(void Line.setP2(Point));</span><br></pre></td></tr></table></figure>

<p>当然pointcuts定义的时候还可以使用通配符，比如<code>call(void Figure.make*(..))</code>代表<code>Figure</code>的以make开头且返回值为void的方法（不关心参数）调用的时候。比如<code>call(public * Figure.* (..))</code>代表<code>Figure</code>的任何方法（不关心方法名，参数，返回值）调用的时候。</p>
<span id="more"></span>

<p>cflow是什么？</p>
<h3 id="1-1-2-advice"><a href="#1-1-2-advice" class="headerlink" title="1.1.2. advice"></a>1.1.2. advice</h3><p>pointcuts 指出了一些事件发生的时机，当这些事件真正发生的时候，我们需要advice表示该做些什么。advice如下，advice可以使用before代表在pointcuts发生以前做一些事情,如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">before(): move() &#123;</span><br><span class="line">    System.out.println(&quot;before move&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用after代表在pointcuts发生以后做一些事情，如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">after(): move()&#123;</span><br><span class="line">    System.out.println(&quot;after move&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>after还可以加上修饰符returning和throwing，分别表示在正常返回和在异常返回的情况，如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">after() returning: move()&#123;</span><br><span class="line">    System.out.println(&quot;after move&quot;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">after() throwing: move()&#123;</span><br><span class="line">    System.out.println(&quot;after move&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>around表示环绕一个方法</p>
<h3 id="1-1-3-aspect"><a href="#1-1-3-aspect" class="headerlink" title="1.1.3. aspect"></a>1.1.3. aspect</h3><p>aspect是一个特别的类型，在其中可以定义pointcut和advice，如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">aspect MyAspect&#123;</span><br><span class="line"></span><br><span class="line">    pointcut move():</span><br><span class="line">        call(void FigureElement.setXY(int,int)) ||</span><br><span class="line">        call(void Point.setX(int))              ||</span><br><span class="line">        call(void Point.setY(int))              ||</span><br><span class="line">        call(void Line.setP1(Point))            ||</span><br><span class="line">        call(void Line.setP2(Point));</span><br><span class="line">    </span><br><span class="line">    after(): move()&#123;</span><br><span class="line">        System.out.println(&quot;after move&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当然aspect兼容java，你也可以定义各种方法，变量</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">aspect MyAspect&#123;</span><br><span class="line"></span><br><span class="line">    private Integer intValue;</span><br><span class="line">    </span><br><span class="line">    public Integer getInt()&#123;</span><br><span class="line">        return intValue;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    pointcut move():</span><br><span class="line">        call(void FigureElement.setXY(int,int)) ||</span><br><span class="line">        call(void Point.setX(int))              ||</span><br><span class="line">        call(void Point.setY(int))              ||</span><br><span class="line">        call(void Line.setP1(Point))            ||</span><br><span class="line">        call(void Line.setP2(Point));</span><br><span class="line">    </span><br><span class="line">    after(): move()&#123;</span><br><span class="line">        System.out.println(&quot;after move&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<h2 id="1-2-在IntelliJ-IDEA上安装AspectJ"><a href="#1-2-在IntelliJ-IDEA上安装AspectJ" class="headerlink" title="1.2. 在IntelliJ IDEA上安装AspectJ"></a>1.2. 在IntelliJ IDEA上安装AspectJ</h2><h3 id="1-2-1-下载并安装AspectJ"><a href="#1-2-1-下载并安装AspectJ" class="headerlink" title="1.2.1. 下载并安装AspectJ"></a>1.2.1. 下载并安装AspectJ</h3><p>在官网<a href="%5BAspectJ%E5%AE%98%E7%BD%91%5D(https://www.eclipse.org/aspectj/downloads.php)">^4</a>下载最新版本的jar包，笔者这里的最新版本是<a target="_blank" rel="noopener" href="http://www.eclipse.org/downloads/download.php?file=/tools/aspectj/aspectj-1.9.6.jar">aspectj-1.9.6.jar</a> ，下载以后双击运行进行安装。</p>
<p><img src='/AspectJ_Install.png'>AspectJ安装</img></p>
<h3 id="1-2-2-安装插件"><a href="#1-2-2-安装插件" class="headerlink" title="1.2.2. 安装插件"></a>1.2.2. 安装插件</h3><p>安装AspectJ插件<a href="%5BAspectJ%E6%8F%92%E4%BB%B6%5D(https://plugins.jetbrains.com/plugin/4679-aspectj)">^2</a>即可</p>
<h3 id="1-2-3-启用AJC编译器"><a href="#1-2-3-启用AJC编译器" class="headerlink" title="1.2.3. 启用AJC编译器"></a>1.2.3. 启用AJC编译器</h3><p>在IDEA的设置中选择AJC编译器，并指定1.2.1中安装的ajctool的位置。</p>
<p><img src='/IDEA_Enable_AJC.png'>IDEA_Enable_AJC</img></p>
<h3 id="1-2-4-给项目添加AJC依赖"><a href="#1-2-4-给项目添加AJC依赖" class="headerlink" title="1.2.4. 给项目添加AJC依赖"></a>1.2.4. 给项目添加AJC依赖</h3><p>把1.2.1中安装的lib包放到项目的依赖中。</p>
<p><img src='/Add_AJC_Lib.png'>Add_AJC_Lib.png</img></p>
<h2 id="1-3-Hello-World"><a href="#1-3-Hello-World" class="headerlink" title="1.3. Hello World"></a>1.3. Hello World</h2><p>下面是一份Helloworld的代码,源程序只输出+号，但是被aspect所拦截，最终输出了<code>Hello + World!</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">HelloWorld</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">hello</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.print(<span class="string">&quot;+&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">HelloWorld</span>().hello();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">aspect HelloWorldAspect &#123;</span><br><span class="line">    before(): call(<span class="keyword">public</span> * HelloWorld.*(..))&#123;</span><br><span class="line">        System.out.print(<span class="string">&quot; Hello &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    after(): call(<span class="keyword">public</span> * HelloWorld.*(..))&#123;</span><br><span class="line">        System.out.print(<span class="string">&quot; World! &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="1-4-Pointcuts表达式"><a href="#1-4-Pointcuts表达式" class="headerlink" title="1.4. Pointcuts表达式"></a>1.4. Pointcuts表达式</h2><ul>
<li><p>执行一个特定的方法的时候</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">execution(<span class="keyword">void</span> Point.setX(<span class="type">int</span>))</span><br></pre></td></tr></table></figure>

<p>例如下面的代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">HelloWorld</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">hello</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.print(<span class="string">&quot;+&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">HelloWorld</span>().hello();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">aspect HelloWorldAspect &#123;</span><br><span class="line">    before(): execution(<span class="keyword">public</span> * HelloWorld.hello(..))&#123;</span><br><span class="line">        System.out.print(<span class="string">&quot; Hello &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    after(): execution(<span class="keyword">public</span> * HelloWorld.hello(..))&#123;</span><br><span class="line">        System.out.print(<span class="string">&quot; World! &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>被编译为了</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Source code recreated from a .class file by IntelliJ IDEA</span></span><br><span class="line"><span class="comment">// (powered by FernFlower decompiler)</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">HelloWorld</span> &#123;</span><br><span class="line">    HelloWorld() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">hello</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            HelloWorldAspect.aspectOf().ajc$before$HelloWorldAspect$<span class="number">1</span>$<span class="number">75869607</span>();</span><br><span class="line">            System.out.print(<span class="string">&quot;+&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Throwable var2) &#123;</span><br><span class="line">            HelloWorldAspect.aspectOf().ajc$after$HelloWorldAspect$<span class="number">2</span>$<span class="number">75869607</span>();</span><br><span class="line">            <span class="keyword">throw</span> var2;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        HelloWorldAspect.aspectOf().ajc$after$HelloWorldAspect$<span class="number">2</span>$<span class="number">75869607</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        (<span class="keyword">new</span> <span class="title class_">HelloWorld</span>()).hello();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>代码被直接写入到了hello方法执行的地方。</p>
</li>
<li><p>调用一个特定方法的时候</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">call(<span class="keyword">void</span> Point.setX(<span class="type">int</span>))</span><br></pre></td></tr></table></figure>

<p>例如下面的代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">HelloWorld</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">hello</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.print(<span class="string">&quot;+&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">HelloWorld</span>().hello();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">aspect HelloWorldAspect &#123;</span><br><span class="line">    before(): call(<span class="keyword">public</span> * HelloWorld.*(..))&#123;</span><br><span class="line">        System.out.print(<span class="string">&quot; Hello &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    after(): call(<span class="keyword">public</span> * HelloWorld.*(..))&#123;</span><br><span class="line">        System.out.print(<span class="string">&quot; World! &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>被编译为了</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Source code recreated from a .class file by IntelliJ IDEA</span></span><br><span class="line"><span class="comment">// (powered by FernFlower decompiler)</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">HelloWorld</span> &#123;</span><br><span class="line">    HelloWorld() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">hello</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.print(<span class="string">&quot;+&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">HelloWorld</span> <span class="variable">var10000</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HelloWorld</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            HelloWorldAspect.aspectOf().ajc$before$HelloWorldAspect$<span class="number">1</span>$cdc2ab29();</span><br><span class="line">            var10000.hello();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Throwable var2) &#123;</span><br><span class="line">            HelloWorldAspect.aspectOf().ajc$after$HelloWorldAspect$<span class="number">2</span>$cdc2ab29();</span><br><span class="line">            <span class="keyword">throw</span> var2;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        HelloWorldAspect.aspectOf().ajc$after$HelloWorldAspect$<span class="number">2</span>$cdc2ab29();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>可以看到，是在调用hello方法的前后增加了一些内容。</p>
</li>
<li><p>处理异常的时候</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">handler(ArrayOutOfBoundsException)</span><br></pre></td></tr></table></figure>

<p>如下面的代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">HelloWorld</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">hello</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.print(<span class="string">&quot;+&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            System.out.print(e.getMessage());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">HelloWorld</span>().hello();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">aspect HelloWorldAspect &#123;</span><br><span class="line">    before(): handler(Exception)&#123;</span><br><span class="line">        System.out.print(<span class="string">&quot; Hello &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>被编译为了</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Source code recreated from a .class file by IntelliJ IDEA</span></span><br><span class="line"><span class="comment">// (powered by FernFlower decompiler)</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">HelloWorld</span> &#123;</span><br><span class="line">    HelloWorld() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">hello</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.print(<span class="string">&quot;+&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception var3) &#123;</span><br><span class="line">            HelloWorldAspect.aspectOf().ajc$before$HelloWorldAspect$<span class="number">1</span>$ae9a1a78();</span><br><span class="line">            System.out.print(var3.getMessage());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        (<span class="keyword">new</span> <span class="title class_">HelloWorld</span>()).hello();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>可以发现就是在catch该exception后的第一步操作</p>
<p>当然AspectJ还有很多很多可以定义point cut的关键词，笔者这里就不一一列举了，相见文档[^5]即可</p>
</li>
</ul>
<h2 id="1-5-总结"><a href="#1-5-总结" class="headerlink" title="1.5. 总结"></a>1.5. 总结</h2><p>所以AspectJ其实是对Java语法的拓展，通过特定的编译器，给Java带来了更强大的能力。</p>
<h1 id="2-Spring-对-AspectJ的支持"><a href="#2-Spring-对-AspectJ的支持" class="headerlink" title="2. Spring 对 AspectJ的支持"></a>2. Spring 对 AspectJ的支持</h1><p>官方文档<a href="%5BSpring%E5%AF%B9AspectJ%E7%9A%84%E6%94%AF%E6%8C%81%5D(https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-ataspectj)">^3</a></p>
<p>Spring支持AspectJ的一个子集,所支持的pointcut如下</p>
<blockquote>
<p>Spring AOP supports the following AspectJ pointcut designators (PCD) for use in pointcut expressions:</p>
<ul>
<li><code>execution</code>: For matching method execution join points. This is the primary pointcut designator to use when working with Spring AOP.</li>
<li><code>within</code>: Limits matching to join points within certain types (the execution of a method declared within a matching type when using Spring AOP).</li>
<li><code>this</code>: Limits matching to join points (the execution of methods when using Spring AOP) where the bean reference (Spring AOP proxy) is an instance of the given type.</li>
<li><code>target</code>: Limits matching to join points (the execution of methods when using Spring AOP) where the target object (application object being proxied) is an instance of the given type.</li>
<li><code>args</code>: Limits matching to join points (the execution of methods when using Spring AOP) where the arguments are instances of the given types.</li>
<li><code>@target</code>: Limits matching to join points (the execution of methods when using Spring AOP) where the class of the executing object has an annotation of the given type.</li>
<li><code>@args</code>: Limits matching to join points (the execution of methods when using Spring AOP) where the runtime type of the actual arguments passed have annotations of the given types.</li>
<li><code>@within</code>: Limits matching to join points within types that have the given annotation (the execution of methods declared in types with the given annotation when using Spring AOP).</li>
<li><code>@annotation</code>: Limits matching to join points where the subject of the join point (the method being run in Spring AOP) has the given annotation.</li>
</ul>
</blockquote>
<p>spring中的aspectJ，并非使用拓展java语法，而是使用注解来拓展，spring中的aspectj也不是使用的aspectj编译器，而是使用的spring aop来完成代理。但spring也支持通过开关使用原生aspectj[^6]。</p>
<p>aspect的类型用注解@Aspect表示</p>
<p>pointcut字段用@Pointcut表示</p>
<p>advice分别用@Before、@After、@Around来表示</p>
<h1 id="3-引用"><a href="#3-引用" class="headerlink" title="3. 引用"></a>3. 引用</h1><p>[^5]: <a target="_blank" rel="noopener" href="https://www.eclipse.org/aspectj/doc/released/progguide/quick.html#quick-pointcuts">Aspect pointcut 文档</a><br>[^6]: <a target="_blank" rel="noopener" href="https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-using-aspectj">Spring中使用AspectJ编译器</a></p>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    最后更新时间：<time datetime="2022-03-31T01:52:00.000Z" itemprop="dateUpdated">2022-03-31 09:52:00</time>
</span><br>


        
        这里可以写作者留言，标签和 hexo 中所有变量及辅助函数等均可调用，示例：<a href="<%- url_for(page.path).replace(/index\.html$/, '') %>" target="_blank" rel="external"><%- page.permalink.replace(/index\.html$/, '') %></a>
        
    </div>
    
    <footer>
        <a href="http://fightinggg.github.io/indigo">
            <img src="/indigo/img/avatar.jpg" alt="fightinggg">
            fightinggg
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/indigo/tags/AspectJ/" rel="tag">AspectJ</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/indigo/tags/%E8%AF%BB%E4%B9%A6/" rel="tag">读书</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://fightinggg.github.io/indigo/R9L6IO.html&title=《spring13-AspectJ》 — Believe it&pic=http://fightinggg.github.io/indigo/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://fightinggg.github.io/indigo/R9L6IO.html&title=《spring13-AspectJ》 — Believe it&source=nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmatery..." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://fightinggg.github.io/indigo/R9L6IO.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《spring13-AspectJ》 — Believe it&url=http://fightinggg.github.io/indigo/R9L6IO.html&via=http://fightinggg.github.io/indigo" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://fightinggg.github.io/indigo/R9L6IO.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/indigo/RCFBSC.html" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">白帽子讲Web安全</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/indigo/R7DSQO.html" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">C++引用的秘密</h4>
      </a>
    </div>
  
</nav>



    




















</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        谢谢大爷~
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/indigo/img/wechat.jpg" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/indigo/img/wechat.jpg" data-alipay="/indigo/img/alipay.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/indigo/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>博客内容遵循 <a rel="license noopener" target="_blank" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span>
        </p>
    </div>
    <div class="bottom">
        <p><span>fightinggg &copy; 2015 - 2023</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://fightinggg.github.io/indigo/R9L6IO.html&title=《spring13-AspectJ》 — Believe it&pic=http://fightinggg.github.io/indigo/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://fightinggg.github.io/indigo/R9L6IO.html&title=《spring13-AspectJ》 — Believe it&source=nexthexonextbutterflyvolantisyearnyiliashokaindigoapollolandscapecactusmatery..." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://fightinggg.github.io/indigo/R9L6IO.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《spring13-AspectJ》 — Believe it&url=http://fightinggg.github.io/indigo/R9L6IO.html&via=http://fightinggg.github.io/indigo" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://fightinggg.github.io/indigo/R9L6IO.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACJElEQVR42u3aS3KDQAwFQN//0s4BXJAnaZwKM83KC/DQLFT6vV7x9Q6uzzvz/6w+27wwMDAey6i+3Ocx1Ze++ofk3EsqBgbGAYyrg6/uuT/4/qn8rOR+DAwMjKvfSYDOwfnnw8DAwKgG3Gq4rBbAGBgYGL0Aet8y66V9k+COgYFxAiPvuv/976/MNzAwMB7FeBevPCDmQ8r3+MLAwNibsWoAmYfpVQEXAwPjNEZeRlYXI+6P7AXoX6gYGBjHMHqhMzkyb/QnLb/ClAMDA2M7RvUVVxW6+UCi2RfEwMB4LKOaxiXjzGoI7iWFl7U4BgbGdow8dPYWIFaRohCMgYGxHSNv90+abnlbrbnegYGBcQAjL2iTllme5M3XzjAwME5gzNdYq+PJSYHaW/jAwMA4gZE37vOydr5agYGBcSYjb+j3ho55Ey1vtEWtNwwMjC0YvcbZpGTtJZe/LJNhYGBsyugVhJPWWH5WoQDGwMDYmpFgJv256vByFNAxMDCOYeTjybx8XTuqvDwRAwPjAEZ1GFAtU6vBvVCFY2BgHMPoHZa3/hfvfaz9ZhgYGP+YMWn991LA6kds5rYYGBgbMSZBubqiUQ3KzZ0RDAyMTRnzZa/eOkX1qcI8FgMDY1PGfN0h+RyF5Ylq0omBgYExzjSre7V5yoiBgYHRI5UTu9ZIdVnAxcDAeAijumCRLJ5+OxxjYGCcw6iWjvnoscdeNRzFwMDYgvEDEwmyUDmgapcAAAAASUVORK5CYII=" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/indigo/', SHARE: true, REWARD: true };


</script>

<script src="/indigo/js/main.js?v=1.7.2"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="/indigo/js/search.js?v=1.7.2" async></script>






<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '死鬼去哪里了！';
            clearTimeout(titleTime);
        } else {
            document.title = '(つェ⊂)咦!又好了!';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
